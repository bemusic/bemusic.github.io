(this.webpackJsonp=this.webpackJsonp||[]).push([[12,10,18],Array(29).concat([function(t,e,n){"use strict";e.__esModule=!0;e.VERSION="4.8.2",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,n){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var r=n(29);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i=n(38);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o=n(43);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return G(o).default}});var a=n(223);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return G(a).default}});var s=n(306);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return G(s).default}});var u=n(108);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return G(u).default}});var c=n(308);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return G(c).default}});var l=n(307);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return G(l).default}});var f=n(225);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return G(f).default}});var h=n(227);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return G(h).default}});var p=n(740);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return G(p).default}});var d=n(231);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return G(d).default}});var v=n(743);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return G(v).default}});var y=n(758);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return G(y).default}});var m=n(320);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return G(m).default}});var g=n(321);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return G(g).default}});var b=n(760);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return G(b).default}});var _=n(322);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return G(_).default}});var w=n(762);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return G(w).default}});var x=n(769);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return G(x).default}});var E=n(770);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return G(E).default}});var T=n(67);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return G(T).default}});var O=n(318);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return G(O).default}});var S=n(83);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return G(S).default}});var C=n(230);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return G(C).default}});var A=n(313);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return G(A).default}});var M=n(310);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return G(M).default}});var P=n(311);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return G(P).default}});var k=n(314);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return G(k).default}});var I=n(111);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return G(I).default}});var D=n(110);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return G(D).default}});var R=n(155);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return G(R).default}});var j=n(157);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return G(j).default}});var F=n(319);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return G(F).default}});var L=n(316);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return G(L).default}});var N=n(317);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return G(N).default}});var B=n(323);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return G(B).default}});var U=n(324);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var z=X(n(31)),q=X(n(229)),H=G(n(36)),V=G(n(109)),W=G(n(156));function X(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function G(t){return t&&t.__esModule?t:{default:t}}e.settings=H.default,e.utils=z,e.ticker=q,e.CanvasRenderer=V.default,e.WebGLRenderer=W.default},function(t,e,n){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++d},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var n=i.default.RETINA_PREFIX.exec(t);if(n)return parseFloat(n[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=r.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]};return},e.getUrlFileExtension=function(t){var e=r.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=r.SVG_SIZE.exec(t),n={};e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7])));return n},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+r.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+r.VERSION+" - "+t+" - http://www.pixijs.com/");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in m)m[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in m)delete m[t]},e.correctBlendMode=function(t,e){return g[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,n,r){n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]);return n[3]=e,n},e.premultiplyTintToRgba=function(t,e,n,r){(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e);return n[3]=e,n};var r=n(29),i=p(n(36)),o=p(n(77)),a=p(n(734)),s=h(n(735)),u=h(n(224)),c=p(n(736)),l=p(n(737)),f=p(n(226));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}var d=0,v=!1;e.isMobile=u,e.removeItems=c.default,e.EventEmitter=o.default,e.pluginTarget=a.default,e.mixins=s,e.earcut=f.default;var y=e.TextureCache=Object.create(null),m=e.BaseTextureCache=Object.create(null);var g=e.premultiplyBlendMode=(0,l.default)()},,,,,function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(732)),i=o(n(733));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";e.__esModule=!0;var r=n(219);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return h(r).default}});var i=n(295);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return h(i).default}});var o=n(220);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return h(o).default}});var a=n(296);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return h(a).default}});var s=n(722);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return h(s).default}});var u=n(723);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return h(u).default}});var c=n(724);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return h(c).default}});var l=n(221);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return h(l).default}});var f=n(725);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return h(f).default}})},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BMSChart=void 0;var r=n(152),i=n(153),o=n(154),a=function(){function t(){this.headers=new r.BMSHeaders,this.objects=new i.BMSObjects,this.timeSignatures=new o.TimeSignatures}return t.prototype.measureToBeat=function(t,e){return this.timeSignatures.measureToBeat(t,e)},t}();e.BMSChart=a},function(t,e,n){var r=n(179),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";var r=n(283),i=n(572),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var r={createContext:n(726),setVertexAttribArrays:n(297),GLBuffer:n(727),GLFramebuffer:n(728),GLShader:n(729),GLTexture:n(298),VertexArrayObject:n(730),shader:n(731)};t.exports&&(t.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(55))},,function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},,,function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var r=n(717);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i=n(30);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o,a=n(771),s=(o=a)&&o.__esModule?o:{default:o},u=m(n(772)),c=m(n(774)),l=m(n(326)),f=m(n(784)),h=m(n(791)),p=m(n(793)),d=m(n(797)),v=m(n(802)),y=m(n(807));function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}i.utils.mixins.performMixins();var g=p.shared||null;e.accessibility=u,e.extract=c,e.extras=l,e.filters=f,e.interaction=h,e.loaders=p,e.mesh=d,e.particles=v,e.prepare=y,e.loader=g,"function"==typeof s.default&&(0,s.default)(e),t.PIXI=e}).call(this,n(33))},,function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(388),i=n(391);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},,,,,,function(t,e,n){var r=n(60),i=n(369),o=n(370),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(41).Symbol;t.exports=r},function(t,e,n){var r=n(37),i=n(133),o=n(421),a=n(424);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(134);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.curry1=o,e.curry2=a,e.curry3=s,e.curry4=u,e.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?t.length:arguments[1];return[t,o,a,s,u][e](t)};var r=e._="@@updeep/placeholder";function i(t,e){var n=t.length;for(n>e&&(n=e);t[n-1]===r;)n--;return n}function o(t){return function e(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s=o[0],u=o[1],c=i(arguments);return c>=1?t(n,s,u):e}}function a(t){return function e(n,a){for(var s=arguments.length,u=Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];var l=u[0],f=u[1],h=i(arguments,2);if(a===r||l===r||f===r)throw new Error("Can only use placeholder on first argument of this function.");return h>=2?n===r?o((function(e,n,r){return t(e,a,n,r)})):t(n,a,l,f):1===h?o((function(e,r,i){return t(n,e,r,i)})):e}}function s(t){return function e(n,s,u){for(var c=arguments.length,l=Array(c>3?c-3:0),f=3;f<c;f++)l[f-3]=arguments[f];var h=l[0],p=l[1],d=i(arguments,3);if(u===r||h===r||p===r)throw new Error("Can only use placeholder on first or second argument of this function.");return d>=3?n===r?s===r?a((function(e,n,r,i){return t(e,n,u,r,i)})):o((function(e,n,r){return t(e,s,u,n,r)})):s===r?o((function(e,r,i){return t(n,e,u,r,i)})):t(n,s,u,h,p):2===d?n===r?a((function(e,n,r,i){return t(e,s,n,r,i)})):o((function(e,r,i){return t(n,s,e,r,i)})):1===d?a((function(e,r,i,o){return t(n,e,r,i,o)})):e}}function u(t){return function e(n,u,c,l){for(var f=arguments.length,h=Array(f>4?f-4:0),p=4;p<f;p++)h[p-4]=arguments[p];var d=h[0],v=h[1],y=i(arguments,4);if(l===r||d===r||v===r)throw new Error("Can only use placeholder on first, second or third argument of this function.");return y>=4?n===r?u===r?c===r?s((function(e,n,r,i,o){return t(e,n,r,l,i,o)})):a((function(e,n,r,i){return t(e,n,c,l,r,i)})):c===r?a((function(e,n,r,i){return t(e,u,n,l,r,i)})):o((function(e,n,r){return t(e,u,c,l,n,r)})):u===r?c===r?a((function(e,r,i,o){return t(n,e,r,l,i,o)})):o((function(e,r,i){return t(n,e,c,l,r,i)})):c===r?o((function(e,r,i){return t(n,u,e,l,r,i)})):t(n,u,c,l,d,v):3===y?n===r?u===r?s((function(e,n,r,i,o){return t(e,n,c,r,i,o)})):a((function(e,n,r,i){return t(e,u,c,n,r,i)})):u===r?a((function(e,r,i,o){return t(n,e,c,r,i,o)})):o((function(e,r,i){return t(n,u,c,e,r,i)})):2===y?n===r?s((function(e,n,r,i,o){return t(e,u,n,r,i,o)})):a((function(e,r,i,o){return t(n,u,e,r,i,o)})):1===y?s((function(e,r,i,o,a){return t(n,e,r,i,o,a)})):e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?t.length:arguments[1];return(0,r.default)((function(){return(0,i.default)(t.apply(void 0,arguments))}),e)};var r=o(n(63)),i=o(n(118));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return y})),n.d(e,"g",(function(){return g})),n.d(e,"f",(function(){return b})),n.d(e,"h",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"c",(function(){return x})),n.d(e,"i",(function(){return E}));var r,i=n(32),o=n.n(i);!function(t){t[t.Missed=-1]="Missed",t[t.Unjudged=0]="Unjudged",t[t.Meticulous=1]="Meticulous",t[t.Precise=2]="Precise",t[t.Good=3]="Good",t[t.Offbeat=4]="Offbeat"}(r||(r={}));const a=r.Unjudged,s=r.Missed,u=[{value:1,timegate:.02,endTimegate:.04},{value:2,timegate:.05,endTimegate:.1},{value:3,timegate:.1,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],c=[{value:1,timegate:.021,endTimegate:.042},{value:2,timegate:.06,endTimegate:.12},{value:3,timegate:.12,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],l=[{value:1,timegate:.022,endTimegate:.044},{value:2,timegate:.07,endTimegate:.14},{value:3,timegate:.14,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],f=[{value:1,timegate:.023,endTimegate:.046},{value:2,timegate:.08,endTimegate:.16},{value:3,timegate:.16,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],h=[{value:1,timegate:.024,endTimegate:.048},{value:2,timegate:.1,endTimegate:.18},{value:3,timegate:.18,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}];class p{constructor(t){this.timegates=t}getTimegates(t,e){return this.timegates}}class d{getTimegates(t,e){return!e||e<100?h:u}}const v=new p(u);function y(t,{tutorial:e=!1}){const n=t.songInfo,r=n.difficulty>=5;return e?new d:r?v:1===n.level||2===n.level?new p(h):3===n.level?new p(f):4===n.level?new p(l):5===n.level?new p(c):v}function m(t){return function(e,n,r=v){const i=r.getTimegates(e,n);let o=Math.abs(e-n);for(let e=0;e<i.length;e++)if(o<t(i[e]))return i[e].value;return e<n?a:s}}const g=m(t=>t.timegate),b=m(t=>t.endTimegate);function _(t,e=v){return o.a.find(e.getTimegates(null,null),{value:t}).timegate}function w(t){return t>=4}function x(t){return t===s||w(t)}function E(t){return 1===t?100:2===t?80:3===t?50:0}},,function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(83)),o=f(n(310)),a=f(n(311)),s=f(n(77)),u=n(38),c=n(31),l=f(n(36));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(n,r,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(c.noFrame=!1,r||(c.noFrame=!0,r=new u.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),c.baseTexture=n,c._frame=r,c.trim=o,c.valid=!1,c.requiresUpdate=!1,c._uvs=null,c.orig=i||r,c._rotate=Number(a||0),!0===a)c._rotate=2;else if(c._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(c.noFrame&&(r=new u.Rectangle(0,0,n.width,n.height),n.on("update",c.onBaseTextureUpdated,c)),c.frame=r):n.once("loaded",c.onBaseTextureLoaded,c),c.defaultAnchor=s?new u.Point(s.x,s.y):new u.Point(0,0),c._updateID=0,c.transform=null,c.textureCacheIds=[],c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(c.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,r,o){var a=c.TextureCache[t];return a||(a=new e(i.default.fromImage(t,n,r,o)),e.addToCache(a,t)),a},e.fromFrame=function(t){var e=c.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,n,r))},e.fromVideo=function(t,n){return"string"==typeof t?e.fromVideoUrl(t,n):new e(o.default.fromVideo(t,n))},e.fromVideoUrl=function(t,n){return new e(o.default.fromUrl(t,n))},e.from=function(t){if("string"==typeof t){var n=c.TextureCache[t];return n||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,n,r){var o=new i.default(t,void 0,(0,c.getResolutionOfUrl)(n)),a=new e(o);return o.imageUrl=n,r||(r=n),i.default.addToCache(a.baseTexture,r),e.addToCache(a,r),r!==n&&(i.default.addToCache(a.baseTexture,n),e.addToCache(a,n)),a},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),c.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),c.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=c.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete c.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)c.TextureCache[t.textureCacheIds[r]]===t&&delete c.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},r(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,c="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+c)}this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(s.default);function p(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=h,h.EMPTY=new h(new i.default),p(h.EMPTY),p(h.EMPTY.baseTexture),h.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new h(new i.default(t))}(),p(h.WHITE),p(h.WHITE.baseTexture)},,function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Speedcore=void 0;var r=n(253),i=function(){function t(t){t.forEach(r.Segment),this._segments=t}return t.prototype._reached=function(t,e,n){if(t>=this._segments.length)return!1;var r=this._segments[t],i=e(r);return r.inclusive?n>=i:n>i},t.prototype._segmentAt=function(t,e){for(var n=0;n<this._segments.length;n++)if(!this._reached(n+1,t,e))return this._segments[n];throw new Error("Unable to find a segment matching a criteria (this should never happen)!")},t.prototype.segmentAtX=function(t){return this._segmentAt(a,t)},t.prototype.segmentAtT=function(t){return this._segmentAt(o,t)},t.prototype.t=function(t){var e=this.segmentAtX(t);return e.t+(t-e.x)/(e.dx||1)},t.prototype.x=function(t){var e=this.segmentAtT(t);return e.x+(t-e.t)*e.dx},t.prototype.dx=function(t){return this.segmentAtT(t).dx},t}();e.Speedcore=i;var o=function(t){return t.t},a=function(t){return t.x}},function(t,e,n){var r=n(178),i=n(373),o=n(85);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(376),i=n(419),o=n(135),a=n(37),s=n(429);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=s(n(64)),a=s(n(194));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return!Object.keys(t).length}function c(t,e){return function(t,e,n){return Object.keys(t).reduce((function(n,r){return e(n,t[r],r)}),n)}(t,(function(t,n,r){var o=n;return Array.isArray(n)||null===n||"object"!==(void 0===n?"undefined":i(n))?"function"==typeof n&&(o=n(e[r])):o=f(n,e[r]),e[r]!==o&&(t[r]=o),t}),{})}function l(t,e){var n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e));return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function f(t,e){if("function"==typeof t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return t.apply(void 0,[e].concat(i))}if(!(0,a.default)(t))return t;var s=null==e?{}:e,f=c(t,s);return u(f)?s:Array.isArray(s)?l(f,s):r({},s,f)}e.default=(0,o.default)(f,2)},function(t,e,n){var r=n(138),i=n(137);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n(493),i=n.n(r);let o=t=>e=>null!==e.progress?t(e):"",a=o(t=>i()(t.current)+" / "+i()(t.total)),s=o(t=>(t.current/t.total*100).toFixed(1)+"%"),u=o(t=>t.extra+"")},,function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},s.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,r);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,n){var r=new a(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.once=function(t,e,n){var r=new a(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,t.exports=s},function(t,e,n){var r=n(147),i=n(69),o=n(244),a=n(173),s=n(246),u=function(t,e,n){var c,l,f,h=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,y=t&u.B,m=t&u.W,g=p?i:i[e]||(i[e]={}),b=g.prototype,_=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(l=!h&&_&&void 0!==_[c])&&s(g,c)||(f=l?_[c]:n[c],g[c]=p&&"function"!=typeof _[c]?n[c]:y&&l?o(f,r):m&&_[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[c]=f,t&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";n.d(e,"p",(function(){return s})),n.d(e,"o",(function(){return u})),n.d(e,"m",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"B",(function(){return p})),n.d(e,"h",(function(){return d})),n.d(e,"E",(function(){return v})),n.d(e,"k",(function(){return y})),n.d(e,"y",(function(){return m})),n.d(e,"f",(function(){return g})),n.d(e,"C",(function(){return b})),n.d(e,"i",(function(){return _})),n.d(e,"A",(function(){return w})),n.d(e,"g",(function(){return x})),n.d(e,"w",(function(){return E})),n.d(e,"e",(function(){return T})),n.d(e,"r",(function(){return O})),n.d(e,"G",(function(){return S})),n.d(e,"q",(function(){return C})),n.d(e,"F",(function(){return A})),n.d(e,"u",(function(){return M})),n.d(e,"J",(function(){return P})),n.d(e,"t",(function(){return k})),n.d(e,"l",(function(){return I})),n.d(e,"I",(function(){return D})),n.d(e,"v",(function(){return R})),n.d(e,"n",(function(){return j})),n.d(e,"a",(function(){return F})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return N})),n.d(e,"s",(function(){return B})),n.d(e,"H",(function(){return U})),n.d(e,"D",(function(){return z})),n.d(e,"j",(function(){return q})),n.d(e,"x",(function(){return H})),n.d(e,"K",(function(){return V})),n.d(e,"z",(function(){return W}));var r=n(32),i=n.n(r),o=n(84),a=n.n(o);const s=n(484).a,u=t=>Object.assign(Object.assign({},s),t),c=t=>"1"===t,l=t=>c(t)?"0":"1",f=(t,e)=>n=>n["input.P1.keyboard."+t+"."+e],h=(t,e,n)=>a()({["input.P1.keyboard."+t+"."+e]:n}),p=t=>t["player.P1.mode"],d=t=>a()({"player.P1.mode":t,"player.P1.panel":e=>"3d"===e&&"KB"!==t?"center":e}),v=t=>t["player.P1.speed"],y=t=>a()({"player.P1.speed":t}),m=t=>{const e=parseInt(t["player.P1.lead-time"],10);return e?e<138?138:e:1685},g=t=>a()({"player.P1.lead-time":t}),b=t=>"KB"===t["player.P1.mode"]?"off":t["player.P1.scratch"],_=t=>"off"===t?d("KB"):i.a.flow(d("BM"),a()({"player.P1.scratch":t})),w=t=>t["player.P1.panel"],x=t=>a()({"player.P1.panel":t,"player.P1.mode":e=>"3d"===t&&"KB"!==e?"KB":e}),E=t=>Math.min(50,Math.max(-50,Math.round(100*t["player.P1.lane-cover"])))/100||0,T=t=>a()({"player.P1.lane-cover":t}),O=t=>c(t["system.bga.enabled"]),S=a()({"system.bga.enabled":l}),C=t=>c(t["player.P1.auto-velocity"]),A=a()({"player.P1.auto-velocity":l}),M=t=>c(t["system.preview.enabled"]),P=a()({"system.preview.enabled":l}),k=t=>"off"!==I(t),I=t=>t["player.P1.gauge"],D=a()({"player.P1.gauge":t=>"off"===t?"hope":"off"}),R=t=>{let e={};for(let n of["1","2","3","4","5","6","7","SC","SC2"]){let r="input.P1.keyboard."+p(t)+"."+n;e[n]=t[r]||""}return e},j=t=>e=>"1"===e["system.ack."+t],F=t=>a()({["system.ack."+t]:"1"}),L=t=>+t["system.offset.audio-input"],N=t=>a()({"system.offset.audio-input":""+t}),B=t=>c(t["gamepad.continuous"]),U=a()({"gamepad.continuous":l}),z=t=>t["gamepad.sensitivity"],q=t=>a()({"gamepad.sensitivity":t}),H=t=>t["system.last-seen-version"],V=t=>a()({"system.last-seen-version":t}),W=(t,e)=>{const n="left"===e?["SC","SC2","1","2","3","4","5","6","7"]:"right"===e?["1","2","3","4","5","6","7","SC","SC2"]:["1","2","3","4","5","6","7"],r=n.indexOf(t);return r<0?null:n[r+1]||null}},,,,function(t,e,n){"use strict";e.__esModule=!0;var r=n(31),i=u(n(36)),o=u(n(77)),a=u(n(309)),s=u(n(228));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return s.uid=(0,r.uid)(),s.touched=0,s.resolution=a||i.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0!==o?o:i.default.SCALE_MODE,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=i.default.MIPMAP_TEXTURES,s.wrapMode=i.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],n&&s.loadSource(n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=s.default.isPow2(this.realWidth)&&s.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),"svg"!==r.imageType?r.emit("loaded",r):r._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,r.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var n=t.subType.split("+")[0];if(!(e=(0,r.getUrlFileExtension)("."+n)))throw new Error("Invalid image type in data URI.")}else(e=(0,r.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,r.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n=(0,r.getSvgSize)(t),i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var a=document.createElement("canvas");a.width=this.realWidth,a.height=this.realHeight,a._pixiId="canvas_"+(0,r.uid)(),a.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,e.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,i,o){var s=r.BaseTextureCache[t];if(!s){var u=new Image;void 0===n&&0!==t.indexOf("data:")?u.crossOrigin=(0,a.default)(t):n&&(u.crossOrigin="string"==typeof n?n:"anonymous"),(s=new e(u,i)).imageUrl=t,o&&(s.sourceScale=o),s.resolution=(0,r.getResolutionOfUrl)(t),u.src=t,e.addToCache(s,t)}return s},e.fromCanvas=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,r.uid)());var o=r.BaseTextureCache[t._pixiId];return o||(o=new e(t,n),e.addToCache(o,t._pixiId)),o},e.from=function(t,n,i){if("string"==typeof t)return e.fromImage(t,void 0,n,i);if(t instanceof HTMLImageElement){var o=t.src,a=r.BaseTextureCache[o];return a||((a=new e(t,n)).imageUrl=o,i&&(a.sourceScale=i),a.resolution=(0,r.getResolutionOfUrl)(o),e.addToCache(a,o)),a}return t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),r.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),r.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=r.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete r.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete r.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=c},function(t,e,n){"use strict";var r=y(n(362)),i=y(n(118)),o=y(n(363)),a=y(n(432)),s=y(n(193)),u=y(n(195)),c=y(n(438)),l=y(n(476)),f=y(n(481)),h=y(n(73)),p=y(n(482)),d=y(n(483)),v=n(63);function y(t){return t&&t.__esModule?t:{default:t}}var m=h.default;m._=v._,m.constant=r.default,m.if=a.default,m.ifElse=s.default,m.is=o.default,m.freeze=i.default,m.map=u.default,m.omit=c.default,m.omitBy=l.default,m.reject=f.default,m.update=h.default,m.updateIn=p.default,m.withDefault=d.default,t.exports=m},function(t,e,n){var r=n(182),i=n(123);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(378),i=n(379),o=n(380),a=n(381),s=n(382);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(128);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(53)(Object,"create");t.exports=r},function(t,e,n){var r=n(400);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(414),i=n(129),o=n(415),a=n(416),s=n(417),u=n(59),c=n(183),l=c(r),f=c(i),h=c(o),p=c(a),d=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(61),i=n(62);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u}));var r=n(75);function i(t,e){if(!e)return()=>{};let n=0;return e.report(0,t),r=>e.report(++n,t,r)}function o(t,e){return t?Promise.resolve(e).tap(e=>{!function(t){return t&&t.byteLength}(e)?t.report(1,1):(t.formatter=r.a,t.report(e.byteLength,e.byteLength))}):e}function a(t,e){let n=0,r=0;return function(...i){return t.report(n,++r),Promise.resolve(e.apply(this,i)).tap(()=>t.report(++n,r))}}function s(t,e){return t.watch(()=>e.report(t.current,t.total,t.extra))}function u(t){let e,n=[],r=null;function i(){e&&t.report(e.current,e.total,e.extra),n.length>0&&(!e||e.progress>=1)&&function(t){if(e===t)return;r&&(r(),r=null);e=t,e&&(r=e.watch(i))}(n.shift())}return{add(t){n.push(t),i()}}}},function(t,e,n){"use strict";var r=n(75);e.a=function(t){return{as:(e,n)=>new Promise((i,o)=>{var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onload=()=>{200==+a.status?i(a.response):o(new Error(`Unable to download ${t}: HTTP ${a.status}`))},a.onerror=()=>o(new Error("Unable to download "+t)),n&&(n.formatter=r.a,a.onprogress=t=>n.report(t.loaded,t.total)),a.send(null)})}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.assign=e.values=e.map=e.uniq=void 0;var i=r(n(591));e.uniq=i.default;var o=r(n(592));e.map=o.default;var a=r(n(593));e.values=a.default;var s=r(n(594));e.assign=s.default},,,,function(t,e,n){t.exports=!n(160)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";e.a=function(t){return{as:e=>new Promise((function(n,r){let i=new FileReader;switch(i.onload=function(){n(i.result)},i.onerror=function(){r(new Error("Unable to read from Blob"))},e){case"arraybuffer":i.readAsArrayBuffer(t);break;case"text":i.readAsText(t)}}))}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return w})),n.d(e,"d",(function(){return x})),n.d(e,"h",(function(){return E})),n.d(e,"g",(function(){return T})),n.d(e,"f",(function(){return O})),n.d(e,"i",(function(){return S})),n.d(e,"e",(function(){return C})),n.d(e,"j",(function(){return A})),n.d(e,"o",(function(){return M})),n.d(e,"m",(function(){return P})),n.d(e,"n",(function(){return k})),n.d(e,"k",(function(){return I})),n.d(e,"l",(function(){return D})),n.d(e,"p",(function(){return R})),n.d(e,"r",(function(){return j})),n.d(e,"u",(function(){return L})),n.d(e,"s",(function(){return N})),n.d(e,"y",(function(){return U})),n.d(e,"z",(function(){return z})),n.d(e,"t",(function(){return q})),n.d(e,"B",(function(){return V})),n.d(e,"q",(function(){return W})),n.d(e,"A",(function(){return X})),n.d(e,"x",(function(){return G})),n.d(e,"v",(function(){return Y})),n.d(e,"w",(function(){return K}));var r=n(32),i=n.n(r);function o(t,e){return String(t.toLowerCase()).indexOf(e.toLowerCase())>=0}var a=function(t,e){return t.filter(t=>function(t,e){return!e||(o(t.title,e)||o(t.artist,e)||o(t.genre,e))}(t,e))},s=n(282),u=n(486),c=n(487),l=n(488),f=n(277),h=n(237),p=n(533),d=n(238),v=n(534),y=n(535),m=n(79),g=function(t,e){return(n=t,r)=>e[r.type]?e[r.type](r)(n):n};const b="COLLECTION_LOADING_BEGAN",_="COLLECTION_LOADING_ERRORED",w="COLLECTION_LOADED",x="CUSTOM_SONG_LOADED",E="MUSIC_SEARCH_TEXT_TYPED",T="MUSIC_SEARCH_TEXT_INITIALIZED",O="MUSIC_SEARCH_DEBOUNCED",S="MUSIC_SONG_SELECTED",C="MUSIC_CHART_SELECTED",A="OPTIONS_LOADED_FROM_STORAGE",M="README_LOADING_STARTED",P="README_LOADED",k="README_LOADING_ERRORED",I="RAGEQUITTED",D="RAGEQUIT_DISMISSED",R=Object(f.b)({collections:g(p.e,{[b]:t=>p.a(t.url),[_]:t=>p.b(t.url,t.error),[w]:t=>p.b(t.url,t.data)}),customSongLoadState:g(d.e(null),{CUSTOM_SONG_LOAD_STARTED:t=>d.a,[x]:t=>d.b()}),customSongs:g([],{[x]:t=>e=>[t.song]}),currentCollection:g("",{[b]:t=>e=>""===e?t.url:e}),musicSearchText:g(v.c,{[E]:t=>v.b(t.text),[O]:t=>v.a,[T]:t=>v.f(t.text)}),musicSelection:g(y.a,{[x]:t=>y.c(t.song.id),[S]:t=>y.c(t.songId),[C]:t=>y.b(t.songId,t.chartId,t.chartLevel)}),options:g(m.p,{[A]:t=>e=>m.o(t.options)}),currentSongReadme:g("Omachi kudasai…",{[M]:t=>t=>"Omachi kudasai…",[k]:t=>e=>"Cannot download "+t.url,[P]:t=>e=>t.text}),rageQuit:g(!1,{[I]:t=>t=>!0,[D]:t=>t=>!1})}),j=t=>t.currentCollection,F=Object(h.createSelector)(t=>t.collections,j,(t,e)=>p.d(e)(t)),L=t=>d.i(F(t)),N=t=>d.c(F(t)),B=Object(h.createSelector)(t=>d.j(F(t)),t=>t&&Object(c.a)(t)),U=t=>v.d(t.musicSearchText),z=t=>v.e(t.musicSearchText),{selectGroups:q,selectSongs:H}=(()=>{const t=Object(h.createSelector)(B,t=>t&&t.songs||[]),e=Object(h.createSelector)(t,t=>t.customSongs,(t,e)=>[...e,...t]),n=Object(h.createSelector)(e,t=>Object(l.a)(t)),r=Object(h.createSelector)(n,z,(t,e)=>a(t,e)),o=Object(h.createSelector)(r,u.a);return{selectGroups:o,selectSongs:Object(h.createSelector)(o,t=>i()(t).map("songs").flatten().value())}})(),{selectSelectedSong:V,selectChartsForSelectedSong:W,selectSelectedChart:X}=(()=>{const t=t=>t.musicSelection,e=Object(h.createSelector)(t,H,(t,e)=>y.e(e)(t)),n=Object(h.createSelector)(e,t=>Object(s.a)(t&&t.charts||[]));return{selectSelectedSong:e,selectChartsForSelectedSong:n,selectSelectedChart:Object(h.createSelector)(t,n,(t,e)=>y.d(e)(t))}})(),G=t=>t.currentSongReadme,Y=t=>m.B(t.options),K=t=>t.rageQuit},,function(t,e,n){"use strict";var r=n(288),i=n(494);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(3);function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(s);if(b=b.trim(),!n&&1===t.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||w&&y[w]||(b=b.substr(2),this.slashes=!0)}if(!y[w]&&(E||w&&!m[w])){for(var T,O,S=-1,C=0;C<h.length;C++){-1!==(A=b.indexOf(h[C]))&&(-1===S||A<S)&&(S=A)}-1!==(O=-1===S?b.lastIndexOf("@"):b.lastIndexOf("@",S))&&(T=b.slice(0,O),b=b.slice(O+1),this.auth=decodeURIComponent(T)),S=-1;for(C=0;C<f.length;C++){var A;-1!==(A=b.indexOf(f[C]))&&(-1===S||A<S)&&(S=A)}-1===S&&(S=b.length),this.host=b.slice(0,S),b=b.slice(S),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var P=this.hostname.split(/\./),k=(C=0,P.length);C<k;C++){var I=P[C];if(I&&!I.match(p)){for(var D="",R=0,j=I.length;R<j;R++)I.charCodeAt(R)>127?D+="x":D+=I[R];if(!D.match(p)){var F=P.slice(0,C),L=P.slice(C+1),N=I.match(d);N&&(F.push(N[1]),L.unshift(N[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[x])for(C=0,k=l.length;C<k;C++){var z=l[C];if(-1!==b.indexOf(z)){var q=encodeURIComponent(z);q===z&&(q=escape(z)),b=b.split(z).join(q)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,V)):e&&(this.search="",this.query={}),b&&(this.pathname=b),m[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!m[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",g=n.search||"";n.path=v+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||b||n.host&&t.pathname,x=w,E=n.pathname&&n.pathname.split("/")||[],T=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===E[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(T)n.hostname=n.host=E.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=E.slice(-1)[0],S=(n.host||t.host||E.length>1)&&("."===O||".."===O)||""===O,C=0,A=E.length;A>=0;A--)"."===(O=E[A])?E.splice(A,1):".."===O?(E.splice(A,1),C++):C&&(E.splice(A,1),C--);if(!w&&!x)for(;C--;C)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var M,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);T&&(n.hostname=n.host=P?"":E.length?E.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift()));return(w=w||n.host&&E.length)&&!P&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.Compiler=e.Reader=void 0;var s=o(n(249));e.Reader=s;var u=o(n(251));e.Compiler=u,a(n(252),e),a(n(40),e),a(n(152),e),a(n(153),e),a(n(70),e),a(n(154),e),a(n(254),e),a(n(257),e),a(n(258),e),a(n(259),e),a(n(260),e),a(n(261),e)},,,,function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(31),a=n(306);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.children=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,o.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=t,r="number"==typeof e?e:this.children.length,i=r-n,o=void 0;if(i>0&&i<=r){o=this.children.splice(n,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var n="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s,s.prototype.containerUpdateTransform=s.prototype.updateTransform},function(t,e,n){"use strict";e.__esModule=!0;var r=l(n(312)),i=l(n(741)),o=l(n(314)),a=l(n(742)),s=n(31),u=n(29),c=l(n(36));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",n,r,o));return s.type=u.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new i.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,n,r,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var a=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var c=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=c}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var f=this.context;this.context=s,t.renderCanvas(this),this.context=f,s.restore(),this.resolution=a,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=c.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(r.default);e.default=f,s.pluginTarget.mixin(f)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(43),o=n(36),a=(r=o)&&r.__esModule?r:{default:r};function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift("precision "+e+" float;"),n}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var u=function(t){function e(n,r,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,s(r,u||a.default.PRECISION_VERTEX),s(i,u||a.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,n){"use strict";var r=n(794).default,i=n(233).default,o=n(339),a=n(340);r.Resource=i,r.async=o,r.base64=a,t.exports=r,t.exports.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),a=n(67),s=(r=a)&&r.__esModule?r:{default:r};var u=new o.Point,c=new o.Polygon,l=function(t){function e(n,r,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return c._texture=n||s.default.EMPTY,c.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),c.vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),c.indices=a||new Uint16Array([0,1,3,2]),c.dirty=0,c.indexDirty=0,c.vertexDirty=0,c.autoUpdate=!0,c.blendMode=o.BLEND_MODES.NORMAL,c.canvasPadding=o.settings.MESH_CANVAS_PADDING,c.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,c.shader=null,c.tintRgb=new Float32Array([1,1,1]),c._glDatas={},c._uvTransform=new o.TextureMatrix(c._texture),c.uploadUvTransform=!1,c.pluginName="mesh",c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var n=this.vertices,r=c.points,i=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var l=2*i[s],f=2*i[s+1],h=2*i[s+2];if(r[0]=n[l],r[1]=n[l+1],r[2]=n[f],r[3]=n[f+1],r[4]=n[h],r[5]=n[h+1],c.contains(u.x,u.y))return!0}return!1},e.prototype.destroy=function(e){for(var n in this._glDatas){var r=this._glDatas[n];r.destroy?r.destroy():(r.vertexBuffer&&(r.vertexBuffer.destroy(),r.vertexBuffer=null),r.indexBuffer&&(r.indexBuffer.destroy(),r.indexBuffer=null),r.uvBuffer&&(r.uvBuffer.destroy(),r.uvBuffer=null),r.vao&&(r.vao.destroy(),r.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,e)},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";n(900);var r=n(26),i=n.n(r),o=n(27),a=n.n(o);const s=({children:t,onClick:e})=>i.a.createElement("button",{className:"OptionsButton",onClick:e},t);s.propTypes={children:a.a.node,onClick:a.a.func},e.a=s},function(t,e,n){"use strict";e.a=document.querySelector("#scene-root")},function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n(2);function i(){return"1"===r.a.BEMUSE_SHOW_OPTIONS}function o(){return"1"===r.a.BEMUSE_BENCHMARK}function a(){return"1"===r.a.BEMUSE_NO_FULLSCREEN}function s(){return"1"===r.a.BEMUSE_SHOW_ABOUT}function u(){return"1"===r.a.BEMUSE_SHOW_MODE_SELECT}function c(){return"1"===r.a.BEMUSE_TITLE_DISPLAY}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});"function"==typeof Symbol&&Symbol.iterator;e.default=function(t){return t}}).call(this,n(55))},function(t,e,n){var r=n(177),i=n(375)(r);t.exports=i},function(t,e,n){var r=n(368),i=n(46),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(41),i=n(371),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(66)(t))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(179),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(66)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(86),i=n(383),o=n(384),a=n(385),s=n(386),u=n(387);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(53)(n(41),"Map");t.exports=r},function(t,e,n){var r=n(392),i=n(399),o=n(401),a=n(402),s=n(403);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(176),i=n(189),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e,n){var r=n(37),i=n(134),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(59),i=n(46);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(181)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(197);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(137),i=n(128),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(188),i=n(199),o=n(198);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(186);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";var r=n(165);e.a=r.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(27),i=n.n(r),o=n(32),a=n.n(o),s=n(161),u=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const c=t=>Object(s.a)(Object(s.b)({runIO:i.a.func}),Object(s.e)(a.a.mapValues(t,t=>e=>{var{runIO:n}=e,r=u(e,["runIO"]);return(...e)=>n(t(r)(...e))})),Object(s.c)(t=>{var{runIO:e}=t;return u(t,["runIO"])}));e.b=c},,function(module,__webpack_exports__,__webpack_require__){"use strict";var debug__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(159),debug__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_0__),_parser_pegjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(812),_parser_pegjs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_parser_pegjs__WEBPACK_IMPORTED_MODULE_1__);const log=debug__WEBPACK_IMPORTED_MODULE_0___default()("scintillator:expression");function createFunction(code){let fn=eval("(function(get) { return "+code+" })");return fn.displayName="("+code+")",fn.constant=!!/^[-0-9.]+$/.test(code),fn}function Expression(t){log("parsing %s",t);let e=_parser_pegjs__WEBPACK_IMPORTED_MODULE_1___default.a.parse(t);log("parsed %s => %s",t,e);let n,r=createFunction(e);return n=r.constant?r:function(t){return r((function(e){return t[e]}))},n.constant=r.constant,n}__webpack_exports__.a=Expression},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return G}));var r=n(26),i=n(27),o=n.n(i),a=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),s=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],i=n||e+"Subscription",f=function(t){function n(r,i){u(this,n);var o=c(this,t.call(this,r,i));return o[e]=r.store,o}return l(n,t),n.prototype.getChildContext=function(){var t;return(t={})[e]=this[e],t[i]=null,t},n.prototype.render=function(){return r.Children.only(this.props.children)},n}(r.Component);return f.propTypes={store:s.isRequired,children:o.a.element.isRequired},f.childContextTypes=((t={})[e]=s.isRequired,t[i]=a,t),f}(),h=n(558),p=n.n(h),d=n(56),v=n.n(d);var y={notify:function(){}};var m=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store=e,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=y}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){var t,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(t=[],e=[],{clear:function(){e=null,t=null},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&null!==t&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}))},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=y)},t}(),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function x(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var E=0,T={};function O(){}function S(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function C(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.getDisplayName,u=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,c=i.methodName,l=void 0===c?"connectAdvanced":c,f=i.renderCountProp,h=void 0===f?void 0:f,d=i.shouldHandleStateChanges,y=void 0===d||d,C=i.storeKey,A=void 0===C?"store":C,M=i.withRef,P=void 0!==M&&M,k=x(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),I=A+"Subscription",D=E++,R=((e={})[A]=s,e[I]=a,e),j=((n={})[I]=a,n);return function(e){v()("function"==typeof e,"You must pass a component to the function returned by "+l+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",i=u(n),o=g({},k,{getDisplayName:u,methodName:l,renderCountProp:h,shouldHandleStateChanges:y,storeKey:A,withRef:P,displayName:i,wrappedComponentName:n,WrappedComponent:e}),a=function(n){function a(t,e){b(this,a);var r=_(this,n.call(this,t,e));return r.version=D,r.state={},r.renderCount=0,r.store=t[A]||e[A],r.propsMode=Boolean(t[A]),r.setWrappedInstance=r.setWrappedInstance.bind(r),v()(r.store,'Could not find "'+A+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+A+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}return w(a,n),a.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[I]=e||this.context[I],t},a.prototype.componentDidMount=function(){y&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=O,this.store=null,this.selector.run=O,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return v()(P,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},a.prototype.initSelector=function(){var e=t(this.store.dispatch,o);this.selector=S(e,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(y){var t=(this.propsMode?this.props:this.context)[I];this.subscription=new m(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(T)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(t){if(!(P||h||this.propsMode&&this.subscription))return t;var e=g({},t);return P&&(e.ref=this.setWrappedInstance),h&&(e[h]=this.renderCount++),this.propsMode&&this.subscription&&(e[I]=this.subscription),e},a.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(r.createElement)(e,this.addExtraProps(t.props))},a}(r.Component);return a.WrappedComponent=e,a.displayName=i,a.childContextTypes=j,a.contextTypes=R,a.propTypes=R,p()(a,e)}}var A=Object.prototype.hasOwnProperty;function M(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function P(t,e){if(M(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!A.call(e,n[i])||!M(t[n[i]],e[n[i]]))return!1;return!0}var k=n(277);n(242);function I(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function D(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function R(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=D(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=D(i),i=r(e,n)),i},r}}var j=[function(t){return"function"==typeof t?R(t):void 0},function(t){return t?void 0:I((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?I((function(e){return Object(k.a)(t,e)})):void 0}];var F=[function(t){return"function"==typeof t?R(t):void 0},function(t){return t?void 0:I((function(){return{}}))}],L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function N(t,e,n){return L({},n,t,e)}var B=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r=n.pure,i=n.areMergedPropsEqual,o=!1,a=void 0;return function(e,n,s){var u=t(e,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}(t):void 0},function(t){return t?void 0:function(){return N}}];function U(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function z(t,e,n,r,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual,u=!1,c=void 0,l=void 0,f=void 0,h=void 0,p=void 0;function d(i,u){var d,v,y=!a(u,l),m=!o(i,c);return c=i,l=u,y&&m?(f=t(c,l),e.dependsOnOwnProps&&(h=e(r,l)),p=n(f,h,l)):y?(t.dependsOnOwnProps&&(f=t(c,l)),e.dependsOnOwnProps&&(h=e(r,l)),p=n(f,h,l)):m?(d=t(c,l),v=!s(d,f),f=d,v&&(p=n(f,h,l)),p):p}return function(i,o){return u?d(i,o):(f=t(c=i,l=o),h=e(r,l),p=n(f,h,l),u=!0,p)}}function q(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?z:U)(a,s,u,t,o)}var H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function V(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function W(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function X(t,e){return t===e}var G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?C:e,r=t.mapStateToPropsFactories,i=void 0===r?F:r,o=t.mapDispatchToPropsFactories,a=void 0===o?j:o,s=t.mergePropsFactories,u=void 0===s?B:s,c=t.selectorFactory,l=void 0===c?q:c;return function(t,e,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,c=void 0===s||s,f=o.areStatesEqual,h=void 0===f?X:f,p=o.areOwnPropsEqual,d=void 0===p?P:p,v=o.areStatePropsEqual,y=void 0===v?P:v,m=o.areMergedPropsEqual,g=void 0===m?P:m,b=V(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=W(t,i,"mapStateToProps"),w=W(e,a,"mapDispatchToProps"),x=W(r,u,"mergeProps");return n(l,H({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:_,initMapDispatchToProps:w,initMergeProps:x,pure:c,areStatesEqual:h,areOwnPropsEqual:d,areStatePropsEqual:y,areMergedPropsEqual:g},b))}}()},function(t,e,n){"use strict";(function(t){var r=n(353),i=n.n(r);const o=t.forModule("timesynchro");let a,s=0;a=window.performance&&"function"==typeof window.performance.now?()=>window.performance.now():()=>Date.now(),a.synchronize=function(t){function e(t){s=t+Date.now()-a()}i()(t,(function(t,n){t?o.error("Cannot synchronize time: "+t):(e(n),o.info("Synchronized time with global server! Offset = "+s))}),e)},a.synchronized=function(){let t=s;return()=>a()+t},e.a=a}).call(this,n(280))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(245),i=n(555),o=n(556),a=Object.defineProperty;e.f=n(99)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"f",(function(){return w})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return E})),n.d(e,"e",(function(){return T})),n.d(e,"a",(function(){return S})),n.d(e,"c",(function(){return C}));var r=n(891),i=n.n(r),o=n(360),a=n.n(o),s=n(560),u=n.n(s),c=n(361),l=n.n(c),f=n(65),h=n(893),p=n(79),d=n(563),v=n(485);let y=window.ga||function(){};const m=Date.now(),g=i.a.generate();function b(t){return""+t.md5}function _(t){return t.custom?"(custom song)":t.title}function w(t,e,n,r,i){console.log("[Analytics]",t,e,n,r,i),y("send","event",t,e,n,r);try{if(window.ga){const o=Date.now()-m,a={info:{sid:g,category:t,action:e,label:n,value:r,extra:i,t:o}};window.navigator.sendBeacon("https://analytics.bemuse.ninja/collect.php?"+Object(h.stringify)(a))}}catch(t){console.warn("[Analytics]","Cannot send beacon:",t)}try{window.amplitude&&window.amplitude.getInstance().logEvent(`${t} / ${e}`,Object.assign({label:n,value:r},i))}catch(t){console.warn("[Analytics]","Cannot send to Amplitude:",t)}}function x(t,e,n,r){w("song","play",_(t)),w("game","start",b(e),e.info.level,{gameMode:n,bga:p.r(r)?"y":"n",autoVelocity:p.q(r)?"y":"n",latency:+r["system.offset.audio-input"]}),w("game","mode",n)}function E(t,e,n,r){const i=n.game.players[0],o=i.notechart,a=n.player(i),s=a.stats;w("song","finish",_(t)),w("game","finish",b(e),s.score,{gameMode:r,level:e.info.level,bpm:e.bpm.median,speed:a.speed,score:s.score,maxCombo:s.maxCombo,totalCombo:s.totalCombo,totalNotes:s.totalNotes,accuracy:s.accuracy,stats:O(s.deltas),lr2Score:Object(d.a)(s.deltas,o.expertJudgmentWindow),laneCover:i.options.laneCover,placement:i.options.placement,scratch:i.options.scratch,counts:{w1:s.counts[1],w2:s.counts[2],w3:s.counts[3],w4:s.counts[4],w5:s.counts[f.b]}})}function T(t){console.log(`[Analytics] Game load time: ${t} ms`),y("send","timing","Game","load",t)}function O(t){const e=Object(v.a)(t);return{sd:Math.sqrt(l()(e)),mean:a()(e),median:u()(e)}}function S(t,e,n){let r=n.player(n.game.players[0]);w("song","escape",_(t)),w("game","escape",b(e),r.stats.score)}function C(t,e,n){let r=n.player(n.game.players[0]);w("song","quit",_(t)),w("game","quit",b(e),r.stats.score)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(909);var r=n(26),i=n.n(r),o=n(27),a=n.n(o),s=n(49),u=n.n(s);class c extends i.a.Component{render(){return i.a.createElement("div",{className:u()("Panel",this.props.className)},i.a.createElement("div",{className:"Panelのtitle"},this.props.title),i.a.createElement("div",{className:"Panelのcontent"},this.props.children))}}c.propTypes={className:a.a.string,title:a.a.string,children:a.a.node}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.match=void 0,e.match=function(t){var e=!1;return{when:function(n,r){if(e)return this;var i=t.match(n);return i&&(e=!0,r(i)),this},else:function(t){if(e)return this;t()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BMSHeaders=void 0;var r=function(){function t(){this._data={},this._dataAll={}}return t.prototype.each=function(t){for(var e in this._data)t(e,this._data[e])},t.prototype.get=function(t){return this._data[t.toLowerCase()]},t.prototype.getAll=function(t){return this._dataAll[t.toLowerCase()]},t.prototype.set=function(t,e){var n=t.toLowerCase();this._data[n]=e,(this._dataAll[n]||(this._dataAll[n]=[])).push(e)},t}();e.BMSHeaders=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BMSObjects=void 0;var r=function(){function t(){this._objects=[]}return t.prototype.add=function(t){if("01"!==t.channel)for(var e=0;e<this._objects.length;e++){var n=this._objects[e];if(n.channel===t.channel&&n.measure===t.measure&&n.fraction===t.fraction)return void(this._objects[e]=t)}this._objects.push(t)},t.prototype.all=function(){return this._objects.slice()},t.prototype.allSorted=function(){var t=this.all();return t.sort((function(t,e){return t.measure+t.fraction-(e.measure+e.fraction)})),t},t}();e.BMSObjects=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeSignatures=void 0;var r=function(){function t(){this._values={}}return t.prototype.set=function(t,e){this._values[t]=e},t.prototype.get=function(t){return this._values[t]||1},t.prototype.getBeats=function(t){return 4*this.get(t)},t.prototype.measureToBeat=function(t,e){for(var n=0,r=0;r<t;r++)n+=this.getBeats(r);return n+this.getBeats(t)*e},t}();e.TimeSignatures=r},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(110);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return o(this,e),a(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=g(n(312)),i=g(n(744)),o=g(n(746)),a=g(n(747)),s=g(n(157)),u=g(n(155)),c=g(n(749)),l=g(n(83)),f=g(n(750)),h=g(n(751)),p=g(n(753)),d=g(n(754)),v=n(31),y=g(n(43)),m=n(29);function g(t){return t&&t.__esModule?t:{default:t}}var b=0,_=function(t){function e(n,r,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",n,r,a));return s.legacy=s.options.legacy,s.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=m.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new i.default(s),s.stencilManager=new o.default(s),s.emptyRenderer=new u.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,d.default)(s.options.context),s.gl=s.options.context||y.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=b++,s.state=new h.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,p.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new c.default(this),this.filterManager=new a.default(this),this.textureGC=new f.default(this),this.state.resetToDefault(),this.rootRenderTarget=new s.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new y.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){r.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=e,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,n)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t||(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t),this},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(r.default);e.default=_,v.pluginTarget.mixin(_)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(38),o=n(29),a=n(36),s=(r=a)&&r.__esModule?r:{default:r},u=n(43);var c=function(){function t(e,n,r,a,c,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=c||s.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==a?a:s.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){t.nativeLines?function(t,e){var n=0,r=t.points;if(0===r.length)return;var o=e.points,a=r.length/2,s=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,c=s[0]*u,l=s[1]*u,f=s[2]*u;for(n=1;n<a;n++){var h=r[2*(n-1)],p=r[2*(n-1)+1],d=r[2*n],v=r[2*n+1];o.push(h,p),o.push(c,l,f,u),o.push(d,v),o.push(c,l,f,u)}}(t,n):function(t,e){var n=t.points;if(0===n.length)return;var o=new r.Point(n[0],n[1]),a=new r.Point(n[n.length-2],n[n.length-1]);if(o.x===a.x&&o.y===a.y){(n=n.slice()).pop(),n.pop();var s=(a=new r.Point(n[n.length-2],n[n.length-1])).x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);n.unshift(s,u),n.push(s,u)}var c=e.points,l=e.indices,f=n.length/2,h=n.length,p=c.length/6,d=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),y=t.lineAlpha,m=v[0]*y,g=v[1]*y,b=v[2]*y,_=n[0],w=n[1],x=n[2],E=n[3],T=0,O=0,S=-(w-E),C=_-x,A=0,M=0,P=0,k=0,I=Math.sqrt(S*S+C*C);S/=I,C/=I,S*=d,C*=d;var D=t.lineAlignment,R=2*(1-D),j=2*D;c.push(_-S*R,w-C*R,m,g,b,y),c.push(_+S*j,w+C*j,m,g,b,y);for(var F=1;F<f-1;++F){_=n[2*(F-1)],w=n[2*(F-1)+1],x=n[2*F],E=n[2*F+1],T=n[2*(F+1)],O=n[2*(F+1)+1],S=-(w-E),C=_-x,I=Math.sqrt(S*S+C*C),S/=I,C/=I,S*=d,C*=d,A=-(E-O),M=x-T,I=Math.sqrt(A*A+M*M),A/=I,M/=I;var L=-C+w-(-C+E),N=-S+x-(-S+_),B=(-S+_)*(-C+E)-(-S+x)*(-C+w),U=-(M*=d)+O-(-M+E),z=-(A*=d)+x-(-A+T),q=(-A+T)*(-M+E)-(-A+x)*(-M+O),H=L*z-U*N;if(Math.abs(H)<.1)H+=10.1,c.push(x-S*R,E-C*R,m,g,b,y),c.push(x+S*j,E+C*j,m,g,b,y);else{var V=(N*q-z*B)/H,W=(U*B-L*q)/H;(V-x)*(V-x)+(W-E)*(W-E)>196*d*d?(P=S-A,k=C-M,I=Math.sqrt(P*P+k*k),P/=I,k/=I,P*=d,k*=d,c.push(x-P*R,E-k*R),c.push(m,g,b,y),c.push(x+P*j,E+k*j),c.push(m,g,b,y),c.push(x-P*j*R,E-k*R),c.push(m,g,b,y),h++):(c.push(x+(V-x)*R,E+(W-E)*R),c.push(m,g,b,y),c.push(x-(V-x)*j,E-(W-E)*j),c.push(m,g,b,y))}}_=n[2*(f-2)],w=n[2*(f-2)+1],x=n[2*(f-1)],E=n[2*(f-1)+1],S=-(w-E),C=_-x,I=Math.sqrt(S*S+C*C),S/=I,C/=I,S*=d,C*=d,c.push(x-S*R,E-C*R),c.push(m,g,b,y),c.push(x+S*j,E+C*j),c.push(m,g,b,y),l.push(p);for(var X=0;X<h;++X)l.push(p++);l.push(p-1)}(t,e)};var r=n(38),i=n(31)},function(t,e,n){"use strict";(function(r){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(349)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(55))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return y}));var r=n(26),i=(n(357),n(558),n(890)),o=n(358),a=function(t){return function(e){var n=Object(r.createFactory)(e);return function(e){return n(t(e))}}},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r],r));return n},h=function(t){return function(e){var n=Object(r.createFactory)(e),i=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=l(this,t.call.apply(t,[this].concat(a))),o.call(r),l(r,n)}return c(e,t),e.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},e.prototype.render=function(){return n(u({},this.props,this.handlers))},e}(r.Component),o=function(){var e=this;this.cachedHandlers={},this.handlers=f("function"==typeof t?t(this.props):t,(function(t,n){return function(){var r=e.cachedHandlers[n];if(r)return r.apply(void 0,arguments);var i=t(e.props);return e.cachedHandlers[n]=i,i.apply(void 0,arguments)}}))};return i}},p=(Object.keys,function(t,e,n){return function(i){var o=Object(r.createFactory)(i);return function(r){function i(){var t,e;s(this,i);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return t=e=l(this,r.call.apply(r,[this].concat(a))),e.state={stateValue:"function"==typeof n?n(e.props):n},e.updateStateValue=function(t,n){return e.setState((function(e){var n=e.stateValue;return{stateValue:"function"==typeof t?t(n):t}}),n)},l(e,t)}return c(i,r),i.prototype.render=function(){var n;return o(u({},this.props,((n={})[t]=this.state.stateValue,n[e]=this.updateStateValue,n)))},i}(r.Component)}}),d=(function(t){function e(){return s(this,e),l(this,t.apply(this,arguments))}c(e,t),e.prototype.render=function(){return null}}(r.Component),function(t,e){return function(n){var i=Object(r.createFactory)(n),o=function(t){function n(){var r,i;s(this,n);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return r=i=l(this,t.call.apply(t,[this].concat(a))),i.getChildContext=function(){return e(i.props)},l(i,r)}return c(n,t),n.prototype.render=function(){return i(this.props)},n}(r.Component);return o.childContextTypes=t,o}}),v=function(t){return function(e){var n=Object(r.createFactory)(e),i=function(t,e){return n(u({},t,e))};return i.contextTypes=t,i}};function y(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var m,g={fromESObservable:null,toESObservable:null},b={fromESObservable:function(t){return"function"==typeof g.fromESObservable?g.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof g.toESObservable?g.toESObservable(t):t}};m=b},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(484),i=n(101),o=n(243);function a(){return Object(o.createIO)(({store:t})=>{t.dispatch({type:i.j,options:r.c()}),r.b.on("changed",()=>{t.dispatch({type:i.j,options:r.c()})})})}function s(t){return Object(o.createIO)(({store:e})=>{const n=e.getState().options,i=t(n),o={};for(const t of Object.keys(n))i[t]!==n[t]&&(o[t]=i[t]);return r.d(o)})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(565);var r=n(49),i=n.n(r),o=n(26),a=n.n(o),s=n(27),u=n.n(s);class c extends a.a.Component{render(){return a.a.createElement("div",{className:i()("Scene",this.props.className),onDragEnter:this.props.onDragEnter},this.props.children)}}c.propTypes={className:u.a.string,children:u.a.node,onDragEnter:u.a.func}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"e",(function(){return h}));var r=n(82),i=n.n(r);const o={status:"pending",value:null,error:null};function a(){return{status:"loading",error:null}}function s(t){return{status:"completed",value:t,error:null}}function u(t){return{status:"error",error:t}}function c(t=o,e){return Object.assign({},t,e)}function l(t){return"loading"===t.status||"pending"===t.status}function f(t){return i.a.fromPromise(function(t){return Promise.resolve(t).then(s,u)}(t)).startWith({status:"loading",error:null})}function h(t){return t.scan(o,c)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(166);class i{constructor(){this.current=void 0,this.total=void 0,this._observable=new r.a}report(t,e,n){this.current=t,this.total=e,this.extra=n,this._observable.notify()}watch(t){return t(this),this._observable.watch(()=>t(this))}get progress(){return this.total&&void 0!==this.current&&null!==this.current?this.current/this.total:null}toString(){return void 0!==this.formatter?this.formatter(this):null!==this.progress?this.current+" / "+this.total:""}}},function(t,e,n){"use strict";var r=n(167);e.a=class{constructor(t){this._callbacks=new r.a,this._value=t}get value(){return this._value}set value(t){this._value=t,this.notify(t)}notify(t){this._callbacks.call(t)}watch(t){return void 0!==this._value&&t(this._value),this._callbacks.add(t)}}},function(t,e,n){"use strict";e.a=class{constructor(t){if(this._callbacks={},this._nextId=1,"function"==typeof t)this.add(t);else if("object"==typeof t&&t&&t.length)for(var e=0;e<t.length;e++)this.add(t[e])}call(...t){var e=this._callbacks;for(var n in e)e[n](...t)}add(t){var e=this._nextId++;return this._callbacks[e]=t,()=>delete this._callbacks[e]}}},,function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return h}));const r=1024,i=-975,o=1024,a=3.922,s=4.555,u=960,c=60;function l(t){let e=Math.max(0,t-1);t<0&&(t=0),t>1&&(t=1);let n=a+(s-a)*t,c=r+Math.cos(n)*o,l=i-Math.sin(n)*o,f=u/(u-c);return{y:l*f+360+2048*e,projection:f}}const f=c;function h(t,e){let n,r,i=.75,o=1;for(let t=0;t<8;t++)n=(i+o)/2,r=l(n),r.y>e?o=n:i=n;if(n<.8)return null;let a=640+r.projection*-c,s=640+r.projection*c,u=Math.floor((t-a)/(s-a)*7);return u>=-1&&u<=7?(u<0&&(u=0),u>6&&(u=6),String(u+1)):null}},,function(t,e,n){"use strict";var r=n(146),i=n(117),o=n(26),a=n.n(o),s=n(58),u=n.n(s),c=(n(501),n(27)),l=n.n(c);class f extends a.a.Component{constructor(t){super(t),this.renderTable=()=>{let t=this.props.bench.stats;return a.a.createElement("table",null,a.a.createElement("tbody",null,Object.keys(t).map(e=>{let n=t[e];return a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("strong",null,e)),a.a.createElement("td",{align:"right"},""+n))})))},this.handleInteraction=t=>{t.preventDefault(),t.stopPropagation(),this.setState({show:!this.state.show})},this.state={show:!1,text:"wow"}}render(){return a.a.createElement("div",{className:"BenchmarkPanel",onClick:this.handleInteraction,onTouchStart:this.handleInteraction},this.state.show?a.a.createElement("article",null,a.a.createElement("b",null,"Benchmark Stats"),a.a.createElement("br",null),this.renderTable()):"Show Benchmark Stats")}componentDidMount(){setInterval(()=>this.forceUpdate(),1e3)}}function h(){let t=0,e=0,n=0,i=[],o=0,a=0;return{push:function(s){let u=Object(r.a)();for(t+=s,e+=1,n=t/e,o+=s,i.push({delta:s,time:u});i[0]&&i[0].time<u-1e3;)o-=i.shift().delta;a=o/i.length},toString:()=>p(n)+" / "+p(a)}}function p(t){return t.toFixed(2)+"ms"}f.propTypes={bench:l.a.object};e.a=window.BEMUSE_BENCHMARK=Object(i.c)()?new function(){var t={};let e={enabled:!0,stats:t,wrap:(e,n)=>function(){try{var i=Object(r.a)();return n.apply(this,arguments)}finally{var o=Object(r.a)(),a=t[e]||(t[e]=new h(e));a.push(o-i)}},benchmark(t,e,n){e[n]=this.wrap(t,e[n])},toString(){var e=[];return Object.keys(t).forEach((function(n){e.push("- "+n+": "+t[n])})),e.join("\n")}},n=document.createElement("div");return n.setAttribute("style","position:fixed;top:10px;right:10px;z-index:99999"),document.body.appendChild(n),u.a.render(a.a.createElement(f,{bench:e}),n),e}:new function(){return{enabled:!1,wrap:(t,e)=>e}}},function(t,e,n){"use strict";var r=n(26),i=n.n(r),o=n(58),a=n.n(o),s=n(116),u=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};let c=new class{constructor(){this._transitioning=!1,this._stack=[]}display(t){return this._transitionTo(()=>t)}push(t){let e=this.currentScene;return this._transitionTo(()=>(this._stack.push(e),t))}pop(){return this._transitionTo(()=>this._stack.pop())}_transitionTo(t){return u(this,void 0,void 0,(function*(){if(this._transitioning)throw new Error("Scene is transitioning!");try{this._transitioning=!0,this.currentSceneInstance&&(yield Promise.resolve(this.currentSceneInstance.teardown()),function(t){t&&t.parentNode===s.a&&s.a.removeChild(t)}(this.currentElement));let n=t();"function"!=typeof n&&(n=new l(n,this.ReactSceneContainer));var e=document.createElement("div");e.className="scene-manager--scene",s.a.appendChild(e),this.currentElement=e,this.currentScene=n,this.currentSceneInstance=n(e)}finally{this._transitioning=!1}}))}};function l(t,e){return function(n){let r=()=>{};const o=i.a.cloneElement(t,{scene:t,registerTeardownCallback:t=>{r=t}}),s=e?i.a.createElement(e,null,o):o;return a.a.render(s,n),{teardown:()=>Promise.try(()=>r()).finally(()=>{a.a.unmountComponentAtNode(n)})}}}e.a=c},function(t,e,n){var r=n(148),i=n(532);t.exports=n(99)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Array.isArray(t)?t:(0,o.default)(t.split("."),(function(t){return!t}))};var r,i=n(175),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){var r=n(176),i=n(364),o=n(72),a=n(37),s=n(192);t.exports=function(t,e){return(a(t)?r:i)(t,s(o(e,3)))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e,n){var r=n(365),i=n(71);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(367),i=n(120),o=n(37),a=n(121),s=n(122),u=n(180),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),p=n||l||f||h,d=p?r(t.length,String):[],v=d.length;for(var y in t)!e&&!c.call(t,y)||p&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||d.push(y);return d}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(33))},function(t,e,n){var r=n(372),i=n(124),o=n(125),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(59),i=n(52);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(404),i=n(46);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(405),i=n(408),o=n(409);t.exports=function(t,e,n,a,s,u){var c=1&n,l=t.length,f=e.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(t);if(h&&u.get(e))return h==e;var p=-1,d=!0,v=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++p<l;){var y=t[p],m=e[p];if(a)var g=c?a(m,y,p,e,t,u):a(y,m,p,t,e,u);if(void 0!==g){if(g)continue;d=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(y===t||s(y,t,n,a,u)))return v.push(e)}))){d=!1;break}}else if(y!==m&&!s(y,m,n,a,u)){d=!1;break}}return u.delete(t),u.delete(e),d}},function(t,e,n){var r=n(41).Uint8Array;t.exports=r},function(t,e,n){var r=n(188),i=n(132),o=n(71);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(131),i=n(37);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(52);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(73)),i=o(n(64));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n,i){var o=("function"==typeof t?t(i):t)?e:n;return(0,r.default)(o,i)}))},function(t,e,n){var r=n(59),i=n(136),o=n(46),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(73)),i=u(n(64)),o=u(n(433)),a=u(n(435)),s=u(n(437));function u(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){var n="function"==typeof t?t:(0,r.default)(t),i=(Array.isArray(e)?a.default:s.default)(e,n);return function(t,e){var n=!0;return(0,o.default)(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n}(e,i)?e:i}))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(53),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(178),i=n(443),o=n(85);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(131),i=n(136),o=n(132),a=n(189),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){"use strict";e.a=function(t){return"7K"===t.keys||"5K"===t.keys}},function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:q(t)}function r(t){return s(t)?t:H(t)}function i(t){return u(t)?t:V(t)}function o(t){return a(t)&&!c(t)?t:W(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[h])}function u(t){return!(!t||!t[p])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[d])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",v={},y={value:!1},m={value:!1};function g(t){return t.value=!1,t}function b(t){t&&(t.value=!0)}function _(){}function w(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function x(t){return void 0===t.size&&(t.size=t.__iterate(T)),t.size}function E(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?x(t)+e:e}function T(){return!0}function O(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function S(t,e){return A(t,e,0)}function C(t,e){return A(t,e,e)}function A(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var M,P,k,I="function"==typeof Symbol&&Symbol.iterator,D=I||"@@iterator";function R(t){this.next=t}function j(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function F(){return{value:void 0,done:!0}}function L(t){return!!U(t)}function N(t){return t&&"function"==typeof t.next}function B(t){var e=U(t);return e&&e.call(t)}function U(t){var e=t&&(I&&t[I]||t["@@iterator"]);if("function"==typeof e)return e}function z(t){return t&&"number"==typeof t.length}function q(t){return null==t?J():a(t)?t.toSeq():function(t){var e=tt(t)||"object"==typeof t&&new G(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function H(t){return null==t?J().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():Z(t)}function V(t){return null==t?J():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():Q(t)}function W(t){return(null==t?J():a(t)?s(t)?t.entrySeq():t:Q(t)).toSetSeq()}function X(t){this._array=t,this.size=t.length}function G(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function Y(t){this._iterable=t,this.size=t.length||t.size}function K(t){this._iterator=t,this._iteratorCache=[]}function $(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function J(){return M||(M=new X([]))}function Z(t){var e=Array.isArray(t)?new X(t).fromEntrySeq():N(t)?new K(t).fromEntrySeq():L(t)?new Y(t).fromEntrySeq():"object"==typeof t?new G(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function Q(t){var e=tt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function tt(t){return z(t)?new X(t):N(t)?new K(t):L(t)?new Y(t):void 0}function et(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function nt(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new R((function(){var t=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:j(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function rt(t,e){return e?function t(e,n,r,i){return Array.isArray(n)?e.call(i,r,V(n).map((function(r,i){return t(e,r,i,n)}))):ot(n)?e.call(i,r,H(n).map((function(r,i){return t(e,r,i,n)}))):n}(e,t,"",{"":t}):it(t)}function it(t){return Array.isArray(t)?V(t).map(it).toList():ot(t)?H(t).map(it).toMap():t}function ot(t){return t&&(t.constructor===Object||void 0===t.constructor)}function at(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function st(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&at(i[1],t)&&(n||at(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):i?!at(e,t.get(r,v)):!at(t.get(r,v),e))return f=!1,!1}));return f&&t.size===h}function ut(t,e){if(!(this instanceof ut))return new ut(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(P)return P;P=this}}function ct(t,e){if(!t)throw new Error(e)}function lt(t,e,n){if(!(this instanceof lt))return new lt(t,e,n);if(ct(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(k)return k;k=this}}function ft(){throw TypeError("Abstract")}function ht(){}function pt(){}function dt(){}R.prototype.toString=function(){return"[Iterator]"},R.KEYS=0,R.VALUES=1,R.ENTRIES=2,R.prototype.inspect=R.prototype.toSource=function(){return this.toString()},R.prototype[D]=function(){return this},e(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(t,e){return et(this,t,e,!0)},q.prototype.__iterator=function(t,e){return nt(this,t,e,!0)},e(H,q),H.prototype.toKeyedSeq=function(){return this},e(V,q),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(t,e){return et(this,t,e,!1)},V.prototype.__iterator=function(t,e){return nt(this,t,e,!1)},e(W,q),W.of=function(){return W(arguments)},W.prototype.toSetSeq=function(){return this},q.isSeq=$,q.Keyed=H,q.Set=W,q.Indexed=V,q.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(X,V),X.prototype.get=function(t,e){return this.has(t)?this._array[E(this,t)]:e},X.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},X.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new R((function(){return i>r?{value:void 0,done:!0}:j(t,i,n[e?r-i++:i++])}))},e(G,H),G.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},G.prototype.has=function(t){return this._object.hasOwnProperty(t)},G.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},G.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new R((function(){var a=r[e?i-o:o];return o++>i?{value:void 0,done:!0}:j(t,a,n[a])}))},G.prototype[d]=!0,e(Y,V),Y.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=B(this._iterable),r=0;if(N(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},Y.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=B(this._iterable);if(!N(n))return new R(F);var r=0;return new R((function(){var e=n.next();return e.done?e:j(t,r++,e.value)}))},e(K,V),K.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},K.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new R((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return j(t,i,r[i++])}))},e(ut,V),ut.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ut.prototype.get=function(t,e){return this.has(t)?this._value:e},ut.prototype.includes=function(t){return at(this._value,t)},ut.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:new ut(this._value,C(e,n)-S(t,n))},ut.prototype.reverse=function(){return this},ut.prototype.indexOf=function(t){return at(this._value,t)?0:-1},ut.prototype.lastIndexOf=function(t){return at(this._value,t)?this.size:-1},ut.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},ut.prototype.__iterator=function(t,e){var n=this,r=0;return new R((function(){return r<n.size?j(t,r++,n._value):{value:void 0,done:!0}}))},ut.prototype.equals=function(t){return t instanceof ut?at(this._value,t._value):st(t)},e(lt,V),lt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},lt.prototype.get=function(t,e){return this.has(t)?this._start+E(this,t)*this._step:e},lt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},lt.prototype.slice=function(t,e){return O(t,e,this.size)?this:(t=S(t,this.size),(e=C(e,this.size))<=t?new lt(0,0):new lt(this.get(t,this._end),this.get(e,this._end),this._step))},lt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},lt.prototype.lastIndexOf=function(t){return this.indexOf(t)},lt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},lt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new R((function(){var a=i;return i+=e?-r:r,o>n?{value:void 0,done:!0}:j(t,o++,a)}))},lt.prototype.equals=function(t){return t instanceof lt?this._start===t._start&&this._end===t._end&&this._step===t._step:st(this,t)},e(ft,n),e(ht,ft),e(pt,ft),e(dt,ft),ft.Keyed=ht,ft.Indexed=pt,ft.Set=dt;var vt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function yt(t){return t>>>1&1073741824|3221225471&t}function mt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return yt(n)}if("string"===e)return t.length>Ot?function(t){var e=At[t];return void 0===e&&(e=gt(t),Ct===St&&(Ct=0,At={}),Ct++,At[t]=e),e}(t):gt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(xt&&void 0!==(e=bt.get(t)))return e;if(void 0!==(e=t[Tt]))return e;if(!wt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Tt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Et,1073741824&Et&&(Et=0),xt)bt.set(t,e);else{if(void 0!==_t&&!1===_t(t))throw new Error("Non-extensible objects are not allowed as keys.");if(wt)Object.defineProperty(t,Tt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Tt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Tt]=e}}return e}(t);if("function"==typeof t.toString)return gt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function gt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return yt(e)}var bt,_t=Object.isExtensible,wt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),xt="function"==typeof WeakMap;xt&&(bt=new WeakMap);var Et=0,Tt="__immutablehash__";"function"==typeof Symbol&&(Tt=Symbol(Tt));var Ot=16,St=255,Ct=0,At={};function Mt(t){ct(t!==1/0,"Cannot perform this action with an infinite size.")}function Pt(t){return null==t?Vt():kt(t)&&!l(t)?t:Vt().withMutations((function(e){var n=r(t);Mt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function kt(t){return!(!t||!t[Dt])}e(Pt,ht),Pt.of=function(){var e=t.call(arguments,0);return Vt().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},Pt.prototype.toString=function(){return this.__toString("Map {","}")},Pt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Pt.prototype.set=function(t,e){return Wt(this,t,e)},Pt.prototype.setIn=function(t,e){return this.updateIn(t,v,(function(){return e}))},Pt.prototype.remove=function(t){return Wt(this,t,v)},Pt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return v}))},Pt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Pt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,i){var o=e===v,a=n.next();if(a.done){var s=o?r:e,u=i(s);return u===s?e:u}ct(o||e&&e.set,"invalid keyPath");var c=a.value,l=o?v:e.get(c,v),f=t(l,n,r,i);return f===l?e:f===v?e.remove(c):(o?Vt():e).set(c,f)}(this,Ke(t),e,n);return r===v?void 0:r},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},Pt.prototype.merge=function(){return Kt(this,void 0,arguments)},Pt.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Kt(this,e,n)},Pt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Pt.prototype.mergeDeep=function(){return Kt(this,$t,arguments)},Pt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Kt(this,Jt(e),n)},Pt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Pt.prototype.sort=function(t){return we(Ne(this,t))},Pt.prototype.sortBy=function(t,e){return we(Ne(this,e,t))},Pt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Pt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new _)},Pt.prototype.asImmutable=function(){return this.__ensureOwner()},Pt.prototype.wasAltered=function(){return this.__altered},Pt.prototype.__iterator=function(t,e){return new Ut(this,t,e)},Pt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Pt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ht(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Pt.isMap=kt;var It,Dt="@@__IMMUTABLE_MAP__@@",Rt=Pt.prototype;function jt(t,e){this.ownerID=t,this.entries=e}function Ft(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Lt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Nt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Bt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ut(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&qt(t._root)}function zt(t,e){return j(t,e[0],e[1])}function qt(t,e){return{node:t,index:0,__prev:e}}function Ht(t,e,n,r){var i=Object.create(Rt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Vt(){return It||(It=Ht(0))}function Wt(t,e,n){var r,i;if(t._root){var o=g(y),a=g(m);if(r=Xt(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===v?-1:1:0)}else{if(n===v)return t;i=1,r=new jt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Ht(i,r):Vt()}function Xt(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===v?t:(b(s),b(a),new Bt(e,r,[i,o]))}function Gt(t){return t.constructor===Bt||t.constructor===Nt}function Yt(t,e,n,r,i){if(t.keyHash===r)return new Nt(e,r,[t.entry,i]);var o,a=31&(0===n?t.keyHash:t.keyHash>>>n),s=31&(0===n?r:r>>>n);return new Ft(e,1<<a|1<<s,a===s?[Yt(t,e,n+5,r,i)]:(o=new Bt(e,r,i),a<s?[t,o]:[o,t]))}function Kt(t,e,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r(s);a(s)||(u=u.map((function(t){return rt(t)}))),i.push(u)}return Zt(t,e,i)}function $t(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):at(t,e)?t:e}function Jt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return at(e,i)?e:i}}function Zt(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,v,(function(t){return t===v?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function Qt(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function te(t,e,n,r){var i=r?t:w(t);return i[e]=n,i}Rt[Dt]=!0,Rt.delete=Rt.remove,Rt.removeIn=Rt.deleteIn,jt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(at(n,i[o][0]))return i[o][1];return r},jt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===v,u=this.entries,c=0,l=u.length;c<l&&!at(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(b(a),(s||!f)&&b(o),!s||1!==u.length){if(!f&&!s&&u.length>=ee)return function(t,e,n,r){t||(t=new _);for(var i=new Bt(t,mt(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,u,r,i);var h=t&&t===this.ownerID,p=h?u:w(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new jt(t,p)}},Ft.prototype.get=function(t,e,n,r){void 0===e&&(e=mt(n));var i=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0==(o&i)?r:this.nodes[Qt(o&i-1)].get(t+5,e,n,r)},Ft.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=mt(r));var s=31&(0===e?n:n>>>e),u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&i===v)return this;var f=Qt(c&u-1),h=this.nodes,p=l?h[f]:void 0,d=Xt(p,t,e+5,n,r,i,o,a);if(d===p)return this;if(!l&&d&&h.length>=ne)return function(t,e,n,r,i){for(var o=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new Lt(t,o+1,a)}(t,h,c,s,d);if(l&&!d&&2===h.length&&Gt(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&Gt(d))return d;var y=t&&t===this.ownerID,m=l?d?c:c^u:c|u,g=l?d?te(h,f,d,y):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}(h,f,y):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}(h,f,d,y);return y?(this.bitmap=m,this.nodes=g,this):new Ft(t,m,g)},Lt.prototype.get=function(t,e,n,r){void 0===e&&(e=mt(n));var i=31&(0===t?e:e>>>t),o=this.nodes[i];return o?o.get(t+5,e,n,r):r},Lt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=mt(r));var s=31&(0===e?n:n>>>e),u=i===v,c=this.nodes,l=c[s];if(u&&!l)return this;var f=Xt(l,t,e+5,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<re)return function(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new Ft(t,i,a)}(t,c,h,s)}else h++;var p=t&&t===this.ownerID,d=te(c,s,f,p);return p?(this.count=h,this.nodes=d,this):new Lt(t,h,d)},Nt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(at(n,i[o][0]))return i[o][1];return r},Nt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=mt(r));var s=i===v;if(n!==this.keyHash)return s?this:(b(a),b(o),Yt(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!at(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(b(a),(s||!f)&&b(o),s&&2===l)return new Bt(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,p=h?u:w(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Nt(t,this.keyHash,p)},Bt.prototype.get=function(t,e,n,r){return at(n,this.entry[0])?this.entry[1]:r},Bt.prototype.update=function(t,e,n,r,i,o,a){var s=i===v,u=at(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(b(a),s?void b(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Bt(t,this.keyHash,[r,i]):(b(o),Yt(this,t,e,mt(r),[r,i])))},jt.prototype.iterate=Nt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Ft.prototype.iterate=Lt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Bt.prototype.iterate=function(t,e){return t(this.entry)},e(Ut,R),Ut.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return zt(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return zt(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return zt(t,o.entry);e=this._stack=qt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ee=8,ne=16,re=8;function ie(t){var e=de();if(null==t)return e;if(oe(t))return t;var n=i(t),r=n.size;return 0===r?e:(Mt(r),r>0&&r<32?pe(0,r,5,null,new ue(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function oe(t){return!(!t||!t[ae])}e(ie,pt),ie.of=function(){return this(arguments)},ie.prototype.toString=function(){return this.__toString("List [","]")},ie.prototype.get=function(t,e){if((t=E(this,t))>=0&&t<this.size){var n=me(this,t+=this._origin);return n&&n.array[31&t]}return e},ie.prototype.set=function(t,e){return function(t,e,n){if((e=E(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?ge(t,e).set(0,n):ge(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=g(m);return e>=_e(t._capacity)?r=ve(r,t.__ownerID,0,e,n,o):i=ve(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):pe(t._origin,t._capacity,t._level,i,r):t}(this,t,e)},ie.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ie.prototype.insert=function(t,e){return this.splice(t,0,e)},ie.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):de()},ie.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){ge(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},ie.prototype.pop=function(){return ge(this,0,-1)},ie.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){ge(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},ie.prototype.shift=function(){return ge(this,1)},ie.prototype.merge=function(){return be(this,void 0,arguments)},ie.prototype.mergeWith=function(e){var n=t.call(arguments,1);return be(this,e,n)},ie.prototype.mergeDeep=function(){return be(this,$t,arguments)},ie.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return be(this,Jt(e),n)},ie.prototype.setSize=function(t){return ge(this,0,t)},ie.prototype.slice=function(t,e){var n=this.size;return O(t,e,n)?this:ge(this,S(t,n),C(e,n))},ie.prototype.__iterator=function(t,e){var n=0,r=he(this,e);return new R((function(){var e=r();return e===fe?{value:void 0,done:!0}:j(t,n++,e)}))},ie.prototype.__iterate=function(t,e){for(var n,r=0,i=he(this,e);(n=i())!==fe&&!1!==t(n,r++,this););return r},ie.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ie.isList=oe;var ae="@@__IMMUTABLE_LIST__@@",se=ie.prototype;function ue(t,e){this.array=t,this.ownerID=e}se[ae]=!0,se.delete=se.remove,se.setIn=Rt.setIn,se.deleteIn=se.removeIn=Rt.removeIn,se.update=Rt.update,se.updateIn=Rt.updateIn,se.mergeIn=Rt.mergeIn,se.mergeDeepIn=Rt.mergeDeepIn,se.withMutations=Rt.withMutations,se.asMutable=Rt.asMutable,se.asImmutable=Rt.asImmutable,se.wasAltered=Rt.wasAltered,ue.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new ue([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-5,n))===a&&o)return this}if(o&&!i)return this;var s=ye(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},ue.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&31;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-5,n))===o&&i===this.array.length-1)return this}var a=ye(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var ce,le,fe={};function he(t,e){var n=t._origin,r=t._capacity,i=_e(r),o=t._tail;return a(t._root,t._level,0);function a(t,s,u){return 0===s?function(t,a){var s=a===i?o&&o.array:t&&t.array,u=a>n?0:n-a,c=r-a;return c>32&&(c=32),function(){if(u===c)return fe;var t=e?--c:u++;return s&&s[t]}}(t,u):function(t,i,o){var s,u=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>32&&(l=32),function(){for(;;){if(s){var t=s();if(t!==fe)return t;s=null}if(c===l)return fe;var n=e?--l:c++;s=a(u&&u[n],i-5,o+(n<<i))}}}(t,s,u)}}function pe(t,e,n,r,i,o,a){var s=Object.create(se);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function de(){return ce||(ce=pe(0,0,5))}function ve(t,e,n,r,i,o){var a,s=r>>>n&31,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[s],l=ve(c,e,n-5,r,i,o);return l===c?t:((a=ye(t,e)).array[s]=l,a)}return u&&t.array[s]===i?t:(b(o),a=ye(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function ye(t,e){return e&&t&&e===t.ownerID?t:new ue(t?t.array.slice():[],e)}function me(t,e){if(e>=_e(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function ge(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new _,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new ue(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=5);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=_e(o),h=_e(s);h>=1<<u+5;)c=new ue(c&&c.array.length?[c]:[],r),u+=5;var p=t._tail,d=h<f?me(t,s-1):h>f?new ue([],r):p;if(p&&h>f&&a<o&&p.array.length){for(var v=c=ye(c,r),y=u;y>5;y-=5){var m=f>>>y&31;v=v.array[m]=ye(v.array[m],r)}v.array[f>>>5&31]=p}if(s<o&&(d=d&&d.removeAfter(r,0,s)),a>=h)a-=h,s-=h,u=5,c=null,d=d&&d.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;c;){var g=a>>>u&31;if(g!==h>>>u&31)break;g&&(l+=(1<<u)*g),u-=5,c=c.array[g]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&h<f&&(c=c.removeAfter(r,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):pe(a,s,u,c,d)}function be(t,e,n){for(var r=[],o=0,s=0;s<n.length;s++){var u=n[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map((function(t){return rt(t)}))),r.push(c)}return o>t.size&&(t=t.setSize(o)),Zt(t,e,r)}function _e(t){return t<32?0:t-1>>>5<<5}function we(t){return null==t?Te():xe(t)?t:Te().withMutations((function(e){var n=r(t);Mt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function xe(t){return kt(t)&&l(t)}function Ee(t,e,n,r){var i=Object.create(we.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Te(){return le||(le=Ee(Vt(),de()))}function Oe(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===v){if(!u)return t;a.size>=32&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ee(r,i)}function Se(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ce(t){this._iter=t,this.size=t.size}function Ae(t){this._iter=t,this.size=t.size}function Me(t){this._iter=t,this.size=t.size}function Pe(t){var e=Xe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ge,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new R((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function ke(t,e,n){var r=Xe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,v);return o===v?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(2,i);return new R((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return j(r,s,e.call(n,a[1],s,t),i)}))},r}function Ie(t,e){var n=Xe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Pe(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ge,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function De(t,e,n,r){var i=Xe(t);return r&&(i.has=function(r){var i=t.get(r,v);return i!==v&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,v);return o!==v&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(2,o),s=0;return new R((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return j(i,r?c:s++,l,o)}}))},i}function Re(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),O(e,n,i))return t;var o=S(e,i),a=C(n,i);if(o!=o||a!=a)return Re(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u==u&&(s=u<0?0:u);var c=Xe(t);return c.size=0===s?s:t.size&&s||void 0,!r&&$(t)&&s>=0&&(c.get=function(e,n){return(e=E(this,e))>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate((function(t,n){if(!u||!(u=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new R((function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var t=i.next();return r||1===e?t:j(e,u-1,0===e?void 0:t.value[1],t)}))},c}function je(t,e,n,r){var i=Xe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate((function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(2,o),u=!0,c=0;return new R((function(){var t,o,l;do{if((t=s.next()).done)return r||1===i?t:j(i,c++,0===i?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,a))}while(u);return 2===i?t:j(i,o,l,t)}))},i}function Fe(t,e){var n=s(t),i=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?Z(t):Q(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&s(o)||u(t)&&u(o))return o}var c=new X(i);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),c}function Le(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,i){var o=0,s=!1;return function t(u,c){var l=this;u.__iterate((function(i,u){return(!e||c<e)&&a(i)?t(i,c+1):!1===r(i,n?u:o++,l)&&(s=!0),!s}),i)}(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),s=[],u=0;return new R((function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(2===r&&(c=c[1]),e&&!(s.length<e)||!a(c))return n?t:j(r,u++,c,t);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}}))},r}function Ne(t,e,n){e||(e=Ye);var r=s(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?H(o):u(t)?V(o):W(o)}function Be(t,e,n){if(e||(e=Ye),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return Ue(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return Ue(e,t,n)?n:t}))}function Ue(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function ze(t,e,r){var i=Xe(t);return i.size=new X(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),B(i?t.reverse():t)})),a=0,s=!1;return new R((function(){var n;return s||(n=o.map((function(t){return t.next()})),s=n.some((function(t){return t.done}))),s?{value:void 0,done:!0}:j(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function qe(t,e){return $(t)?e:t.constructor(e)}function He(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ve(t){return Mt(t.size),x(t)}function We(t){return s(t)?r:u(t)?i:o}function Xe(t){return Object.create((s(t)?H:u(t)?V:W).prototype)}function Ge(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function Ye(t,e){return t>e?1:t<e?-1:0}function Ke(t){var e=B(t);if(!e){if(!z(t))throw new TypeError("Expected iterable or array-like: "+t);e=B(n(t))}return e}function $e(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(tn.bind(void 0,t))}catch(t){}}(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Pt(o)},i=r.prototype=Object.create(Je);return i.constructor=r,r}e(we,Pt),we.of=function(){return this(arguments)},we.prototype.toString=function(){return this.__toString("OrderedMap {","}")},we.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},we.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Te()},we.prototype.set=function(t,e){return Oe(this,t,e)},we.prototype.remove=function(t){return Oe(this,t,v)},we.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},we.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},we.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},we.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ee(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},we.isOrderedMap=xe,we.prototype[d]=!0,we.prototype.delete=we.prototype.remove,e(Se,H),Se.prototype.get=function(t,e){return this._iter.get(t,e)},Se.prototype.has=function(t){return this._iter.has(t)},Se.prototype.valueSeq=function(){return this._iter.valueSeq()},Se.prototype.reverse=function(){var t=this,e=Ie(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Se.prototype.map=function(t,e){var n=this,r=ke(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Se.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ve(this):0,function(i){return t(i,e?--n:n++,r)}),e)},Se.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ve(this):0;return new R((function(){var i=n.next();return i.done?i:j(t,e?--r:r++,i.value,i)}))},Se.prototype[d]=!0,e(Ce,V),Ce.prototype.includes=function(t){return this._iter.includes(t)},Ce.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Ce.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new R((function(){var e=n.next();return e.done?e:j(t,r++,e.value,e)}))},e(Ae,W),Ae.prototype.has=function(t){return this._iter.includes(t)},Ae.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ae.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new R((function(){var e=n.next();return e.done?e:j(t,e.value,e.value,e)}))},e(Me,H),Me.prototype.entrySeq=function(){return this._iter.toSeq()},Me.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){He(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Me.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new R((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){He(r);var i=a(r);return j(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Ce.prototype.cacheResult=Se.prototype.cacheResult=Ae.prototype.cacheResult=Me.prototype.cacheResult=Ge,e($e,ht),$e.prototype.toString=function(){return this.__toString(Qe(this)+" {","}")},$e.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},$e.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},$e.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Ze(this,Vt()))},$e.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Qe(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Ze(this,n)},$e.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Ze(this,e)},$e.prototype.wasAltered=function(){return this._map.wasAltered()},$e.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},$e.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},$e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Ze(this,e,t):(this.__ownerID=t,this._map=e,this)};var Je=$e.prototype;function Ze(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Qe(t){return t._name||t.constructor.name||"Record"}function tn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){ct(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function en(t){return null==t?cn():nn(t)&&!l(t)?t:cn().withMutations((function(e){var n=o(t);Mt(n.size),n.forEach((function(t){return e.add(t)}))}))}function nn(t){return!(!t||!t[on])}Je.delete=Je.remove,Je.deleteIn=Je.removeIn=Rt.removeIn,Je.merge=Rt.merge,Je.mergeWith=Rt.mergeWith,Je.mergeIn=Rt.mergeIn,Je.mergeDeep=Rt.mergeDeep,Je.mergeDeepWith=Rt.mergeDeepWith,Je.mergeDeepIn=Rt.mergeDeepIn,Je.setIn=Rt.setIn,Je.update=Rt.update,Je.updateIn=Rt.updateIn,Je.withMutations=Rt.withMutations,Je.asMutable=Rt.asMutable,Je.asImmutable=Rt.asImmutable,e(en,dt),en.of=function(){return this(arguments)},en.fromKeys=function(t){return this(r(t).keySeq())},en.prototype.toString=function(){return this.__toString("Set {","}")},en.prototype.has=function(t){return this._map.has(t)},en.prototype.add=function(t){return sn(this,this._map.set(t,!0))},en.prototype.remove=function(t){return sn(this,this._map.remove(t))},en.prototype.clear=function(){return sn(this,this._map.clear())},en.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},en.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},en.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},en.prototype.merge=function(){return this.union.apply(this,arguments)},en.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},en.prototype.sort=function(t){return ln(Ne(this,t))},en.prototype.sortBy=function(t,e){return ln(Ne(this,e,t))},en.prototype.wasAltered=function(){return this._map.wasAltered()},en.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},en.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},en.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},en.isSet=nn;var rn,on="@@__IMMUTABLE_SET__@@",an=en.prototype;function sn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function un(t,e){var n=Object.create(an);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function cn(){return rn||(rn=un(Vt()))}function ln(t){return null==t?vn():fn(t)?t:vn().withMutations((function(e){var n=o(t);Mt(n.size),n.forEach((function(t){return e.add(t)}))}))}function fn(t){return nn(t)&&l(t)}an[on]=!0,an.delete=an.remove,an.mergeDeep=an.merge,an.mergeDeepWith=an.mergeWith,an.withMutations=Rt.withMutations,an.asMutable=Rt.asMutable,an.asImmutable=Rt.asImmutable,an.__empty=cn,an.__make=un,e(ln,en),ln.of=function(){return this(arguments)},ln.fromKeys=function(t){return this(r(t).keySeq())},ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ln.isOrderedSet=fn;var hn,pn=ln.prototype;function dn(t,e){var n=Object.create(pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function vn(){return hn||(hn=dn(Te()))}function yn(t){return null==t?xn():mn(t)?t:xn().unshiftAll(t)}function mn(t){return!(!t||!t[bn])}pn[d]=!0,pn.__empty=vn,pn.__make=dn,e(yn,pt),yn.of=function(){return this(arguments)},yn.prototype.toString=function(){return this.__toString("Stack [","]")},yn.prototype.get=function(t,e){var n=this._head;for(t=E(this,t);n&&t--;)n=n.next;return n?n.value:e},yn.prototype.peek=function(){return this._head&&this._head.value},yn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):wn(t,e)},yn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Mt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):wn(e,n)},yn.prototype.pop=function(){return this.slice(1)},yn.prototype.unshift=function(){return this.push.apply(this,arguments)},yn.prototype.unshiftAll=function(t){return this.pushAll(t)},yn.prototype.shift=function(){return this.pop.apply(this,arguments)},yn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):xn()},yn.prototype.slice=function(t,e){if(O(t,e,this.size))return this;var n=S(t,this.size);if(C(e,this.size)!==this.size)return pt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):wn(r,i)},yn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},yn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},yn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new R((function(){if(r){var e=r.value;return r=r.next,j(t,n++,e)}return{value:void 0,done:!0}}))},yn.isStack=mn;var gn,bn="@@__IMMUTABLE_STACK__@@",_n=yn.prototype;function wn(t,e,n,r){var i=Object.create(_n);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function xn(){return gn||(gn=wn(0))}function En(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}_n[bn]=!0,_n.withMutations=Rt.withMutations,_n.asMutable=Rt.asMutable,_n.asImmutable=Rt.asImmutable,_n.wasAltered=Rt.wasAltered,n.Iterator=R,En(n,{toArray:function(){Mt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Ce(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Se(this,!0)},toMap:function(){return Pt(this.toKeyedSeq())},toObject:function(){Mt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return we(this.toKeyedSeq())},toOrderedSet:function(){return ln(s(this)?this.valueSeq():this)},toSet:function(){return en(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ae(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return yn(s(this)?this.valueSeq():this)},toList:function(){return ie(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return qe(this,Fe(this,e))},includes:function(t){return this.some((function(e){return at(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Mt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return qe(this,De(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Mt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Mt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return qe(this,ke(this,t,e))},reduce:function(t,e,n){var r,i;return Mt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return qe(this,Ie(this,!0))},slice:function(t,e){return qe(this,Re(this,t,e,!0))},some:function(t,e){return!this.every(An(t),e)},sort:function(t){return qe(this,Ne(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return x(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Pt().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return st(this,t)},entrySeq:function(){var t=this;if(t._cache)return new X(t._cache);var e=t.toSeq().map(Cn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(An(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(T)},flatMap:function(t,e){return qe(this,function(t,e,n){var r=We(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return qe(this,Le(this,t,!0))},fromEntrySeq:function(){return new Me(this)},get:function(t,e){return this.find((function(e,n){return at(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=Ke(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,v):v)===v)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=s(t),i=(l(t)?we():Pt()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=We(t);return i.map((function(e){return qe(t,o(e))}))}(this,t,e)},has:function(t){return this.get(t,v)!==v},hasIn:function(t){return this.getIn(t,v)!==v},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return at(e,t)}))},keySeq:function(){return this.toSeq().map(Sn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Be(this,t)},maxBy:function(t,e){return Be(this,e,t)},min:function(t){return Be(this,t?Mn(t):In)},minBy:function(t,e){return Be(this,e?Mn(e):In,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return qe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return qe(this,je(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(An(t),e)},sortBy:function(t,e){return qe(this,Ne(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return qe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return qe(this,function(t,e,n){var r=Xe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(2,i),s=!0;return new R((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?2===r?t:j(r,u,c,t):(s=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(An(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=l(t),n=s(t),r=e?1:0;return function(t,e){return e=vt(e,3432918353),e=vt(e<<15|e>>>-15,461845907),e=vt(e<<13|e>>>-13,5),e=vt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=yt((e=vt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Dn(mt(t),mt(e))|0}:function(t,e){r=r+Dn(mt(t),mt(e))|0}:e?function(t){r=31*r+mt(t)|0}:function(t){r=r+mt(t)|0}),r)}(this))}});var Tn=n.prototype;Tn[f]=!0,Tn[D]=Tn.values,Tn.__toJS=Tn.toArray,Tn.__toStringMapper=Pn,Tn.inspect=Tn.toSource=function(){return this.toString()},Tn.chain=Tn.flatMap,Tn.contains=Tn.includes,En(r,{flip:function(){return qe(this,Pe(this))},mapEntries:function(t,e){var n=this,r=0;return qe(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return qe(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var On=r.prototype;function Sn(t,e){return e}function Cn(t,e){return[e,t]}function An(t){return function(){return!t.apply(this,arguments)}}function Mn(t){return function(){return-t.apply(this,arguments)}}function Pn(t){return"string"==typeof t?JSON.stringify(t):String(t)}function kn(){return w(arguments)}function In(t,e){return t<e?1:t>e?-1:0}function Dn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return On[h]=!0,On[D]=Tn.entries,On.__toJS=Tn.toObject,On.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Pn(t)},En(i,{toKeyedSeq:function(){return new Se(this,!1)},filter:function(t,e){return qe(this,De(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return qe(this,Ie(this,!1))},slice:function(t,e){return qe(this,Re(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=S(t,t<0?this.count():this.size);var r=this.slice(0,t);return qe(this,1===n?r:r.concat(w(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return qe(this,Le(this,t,!1))},get:function(t,e){return(t=E(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=E(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return qe(this,function(t,e){var n=Xe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(1,r),a=0;return new R((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?j(n,a++,e):j(n,a++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(w(arguments)),e=ze(this.toSeq(),V.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),qe(this,n)},keySeq:function(){return lt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return qe(this,je(this,t,e,!1))},zip:function(){var t=[this].concat(w(arguments));return qe(this,ze(this,kn,t))},zipWith:function(t){var e=w(arguments);return e[0]=this,qe(this,ze(this,t,e))}}),i.prototype[p]=!0,i.prototype[d]=!0,En(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Tn.includes,o.prototype.contains=o.prototype.includes,En(H,r.prototype),En(V,i.prototype),En(W,o.prototype),En(ht,r.prototype),En(pt,i.prototype),En(dt,o.prototype),{Iterable:n,Seq:q,Collection:ft,Map:Pt,OrderedMap:we,List:ie,Stack:yn,Set:en,OrderedSet:ln,Record:$e,Range:lt,Repeat:ut,is:at,fromJS:rt}}()},function(t,e,n){"use strict";(function(e){var r=n(42),i=n(574),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e)&&(s=n(284)),s),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u}).call(this,n(55))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(94),i=n(44),o=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};class a{constructor(t){this.url=t}read(t){return Object(r.a)(this.url).as("arraybuffer",t)}resolveUrl(){return o(this,void 0,void 0,(function*(){return Promise.resolve(this.url)}))}get name(){return Object(i.basename)(this.url)}}e.b=a},,function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",v="[object Map]",y="[object Number]",m="[object Object]",g="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",x="[object WeakMap]",E="[object ArrayBuffer]",T="[object DataView]",O="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",M="[object Int32Array]",P="[object Uint8Array]",k="[object Uint16Array]",I="[object Uint32Array]",D=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,N=RegExp(F.source),B=RegExp(L.source),U=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,G=RegExp(X.source),Y=/^\s+|\s+$/g,K=/^\s+/,$=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",vt="["+pt+"]",yt="["+ht+"]",mt="\\d+",gt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",_t="[^\\ud800-\\udfff"+pt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",Tt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="[A-Z\\xc0-\\xd6\\xd8-\\xde]",St="(?:"+bt+"|"+_t+")",Ct="(?:"+Ot+"|"+_t+")",At="(?:"+yt+"|"+wt+")"+"?",Mt="[\\ufe0e\\ufe0f]?"+At+("(?:\\u200d(?:"+[xt,Et,Tt].join("|")+")[\\ufe0e\\ufe0f]?"+At+")*"),Pt="(?:"+[gt,Et,Tt].join("|")+")"+Mt,kt="(?:"+[xt+yt+"?",yt,Et,Tt,dt].join("|")+")",It=RegExp("['’]","g"),Dt=RegExp(yt,"g"),Rt=RegExp(wt+"(?="+wt+")|"+kt+Mt,"g"),jt=RegExp([Ot+"?"+bt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,Ot,"$"].join("|")+")",Ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Ot+St,"$"].join("|")+")",Ot+"?"+St+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ot+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,Pt].join("|"),"g"),Ft=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Lt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bt=-1,Ut={};Ut[O]=Ut[S]=Ut[C]=Ut[A]=Ut[M]=Ut[P]=Ut["[object Uint8ClampedArray]"]=Ut[k]=Ut[I]=!0,Ut[u]=Ut[c]=Ut[E]=Ut[l]=Ut[T]=Ut[f]=Ut[h]=Ut[p]=Ut[v]=Ut[y]=Ut[m]=Ut[g]=Ut[b]=Ut[_]=Ut[x]=!1;var zt={};zt[u]=zt[c]=zt[E]=zt[T]=zt[l]=zt[f]=zt[O]=zt[S]=zt[C]=zt[A]=zt[M]=zt[v]=zt[y]=zt[m]=zt[g]=zt[b]=zt[_]=zt[w]=zt[P]=zt["[object Uint8ClampedArray]"]=zt[k]=zt[I]=!0,zt[h]=zt[p]=zt[x]=!1;var qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ht=parseFloat,Vt=parseInt,Wt="object"==typeof t&&t&&t.Object===Object&&t,Xt="object"==typeof self&&self&&self.Object===Object&&self,Gt=Wt||Xt||Function("return this")(),Yt=e&&!e.nodeType&&e,Kt=Yt&&"object"==typeof r&&r&&!r.nodeType&&r,$t=Kt&&Kt.exports===Yt,Jt=$t&&Wt.process,Zt=function(){try{var t=Kt&&Kt.require&&Kt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),Qt=Zt&&Zt.isArrayBuffer,te=Zt&&Zt.isDate,ee=Zt&&Zt.isMap,ne=Zt&&Zt.isRegExp,re=Zt&&Zt.isSet,ie=Zt&&Zt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function fe(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ve(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ye(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ge=Oe("length");function be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function _e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function we(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):_e(t,Ee,n)}function xe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ee(t){return t!=t}function Te(t,e){var n=null==t?0:t.length;return n?Ae(t,e)/n:NaN}function Oe(t){return function(e){return null==e?void 0:e[t]}}function Se(t){return function(e){return null==t?void 0:t[e]}}function Ce(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ae(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Me(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Pe(t){return function(e){return t(e)}}function ke(t,e){return pe(e,(function(e){return t[e]}))}function Ie(t,e){return t.has(e)}function De(t,e){for(var n=-1,r=t.length;++n<r&&we(e,t[n],0)>-1;);return n}function Re(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function je(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Fe=Se({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Le=Se({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ne(t){return"\\"+qt[t]}function Be(t){return Ft.test(t)}function Ue(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ze(t,e){return function(n){return t(e(n))}}function qe(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return Be(t)?function(t){var e=Rt.lastIndex=0;for(;Rt.test(t);)++e;return e}(t):ge(t)}function Xe(t){return Be(t)?function(t){return t.match(Rt)||[]}(t):function(t){return t.split("")}(t)}var Ge=Se({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ye=function t(e){var n,r=(e=null==e?Gt:Ye.defaults(Gt.Object(),e,Ye.pick(Gt,Nt))).Array,i=e.Date,ht=e.Error,pt=e.Function,dt=e.Math,vt=e.Object,yt=e.RegExp,mt=e.String,gt=e.TypeError,bt=r.prototype,_t=pt.prototype,wt=vt.prototype,xt=e["__core-js_shared__"],Et=_t.toString,Tt=wt.hasOwnProperty,Ot=0,St=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ct=wt.toString,At=Et.call(vt),Mt=Gt._,Pt=yt("^"+Et.call(Tt).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=$t?e.Buffer:void 0,Rt=e.Symbol,Ft=e.Uint8Array,qt=kt?kt.allocUnsafe:void 0,Wt=ze(vt.getPrototypeOf,vt),Xt=vt.create,Yt=wt.propertyIsEnumerable,Kt=bt.splice,Jt=Rt?Rt.isConcatSpreadable:void 0,Zt=Rt?Rt.iterator:void 0,ge=Rt?Rt.toStringTag:void 0,Se=function(){try{var t=Qi(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ke=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,$e=i&&i.now!==Gt.Date.now&&i.now,Je=e.setTimeout!==Gt.setTimeout&&e.setTimeout,Ze=dt.ceil,Qe=dt.floor,tn=vt.getOwnPropertySymbols,en=kt?kt.isBuffer:void 0,nn=e.isFinite,rn=bt.join,on=ze(vt.keys,vt),an=dt.max,sn=dt.min,un=i.now,cn=e.parseInt,ln=dt.random,fn=bt.reverse,hn=Qi(e,"DataView"),pn=Qi(e,"Map"),dn=Qi(e,"Promise"),vn=Qi(e,"Set"),yn=Qi(e,"WeakMap"),mn=Qi(vt,"create"),gn=yn&&new yn,bn={},_n=Co(hn),wn=Co(pn),xn=Co(dn),En=Co(vn),Tn=Co(yn),On=Rt?Rt.prototype:void 0,Sn=On?On.valueOf:void 0,Cn=On?On.toString:void 0;function An(t){if(Va(t)&&!Da(t)&&!(t instanceof In)){if(t instanceof kn)return t;if(Tt.call(t,"__wrapped__"))return Ao(t)}return new kn(t)}var Mn=function(){function t(){}return function(e){if(!Ha(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Pn(){}function kn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function In(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Fn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new jn;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new Rn(t);this.size=e.size}function Nn(t,e){var n=Da(t),r=!n&&Ia(t),i=!n&&!r&&La(t),o=!n&&!r&&!i&&Za(t),a=n||r||i||o,s=a?Me(t.length,mt):[],u=s.length;for(var c in t)!e&&!Tt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,u))||s.push(c);return s}function Bn(t){var e=t.length;return e?t[Fr(0,e-1)]:void 0}function Un(t,e){return To(mi(t),Kn(e,0,t.length))}function zn(t){return To(mi(t))}function qn(t,e,n){(void 0!==n&&!Ma(t[e],n)||void 0===n&&!(e in t))&&Gn(t,e,n)}function Hn(t,e,n){var r=t[e];Tt.call(t,e)&&Ma(r,n)&&(void 0!==n||e in t)||Gn(t,e,n)}function Vn(t,e){for(var n=t.length;n--;)if(Ma(t[n][0],e))return n;return-1}function Wn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Xn(t,e){return t&&gi(e,_s(e),t)}function Gn(t,e,n){"__proto__"==e&&Se?Se(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:vs(t,e[n]);return o}function Kn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function $n(t,e,n,r,i,o){var a,s=1&e,c=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ha(t))return t;var x=Da(t);if(x){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Tt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return mi(t,a)}else{var D=no(t),R=D==p||D==d;if(La(t))return fi(t,s);if(D==m||D==u||R&&!i){if(a=c||R?{}:io(t),!s)return c?function(t,e){return gi(t,eo(t),e)}(t,function(t,e){return t&&gi(e,ws(e),t)}(a,t)):function(t,e){return gi(t,to(t),e)}(t,Xn(a,t))}else{if(!zt[D])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case E:return hi(t);case l:case f:return new r(+t);case T:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case O:case S:case C:case A:case M:case P:case"[object Uint8ClampedArray]":case k:case I:return pi(t,n);case v:return new r;case y:case _:return new r(t);case g:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case w:return i=t,Sn?vt(Sn.call(i)):{}}var i}(t,D,s)}}o||(o=new Ln);var j=o.get(t);if(j)return j;o.set(t,a),Ka(t)?t.forEach((function(r){a.add($n(r,e,n,r,t,o))})):Wa(t)&&t.forEach((function(r,i){a.set(i,$n(r,e,n,i,t,o))}));var F=x?void 0:(h?c?Xi:Wi:c?ws:_s)(t);return se(F||t,(function(r,i){F&&(r=t[i=r]),Hn(a,i,$n(r,e,n,i,t,o))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=vt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Zn(t,e,n){if("function"!=typeof t)throw new gt(o);return _o((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var i=-1,o=fe,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=pe(e,Pe(n))),r?(o=he,a=!1):e.length>=200&&(o=Ie,a=!1,e=new Fn(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}An.templateSettings={escape:U,evaluate:z,interpolate:q,variable:"",imports:{_:An}},An.prototype=Pn.prototype,An.prototype.constructor=An,kn.prototype=Mn(Pn.prototype),kn.prototype.constructor=kn,In.prototype=Mn(Pn.prototype),In.prototype.constructor=In,Dn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Dn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Dn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Tt.call(e,t)?e[t]:void 0},Dn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:Tt.call(e,t)},Dn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},Rn.prototype.clear=function(){this.__data__=[],this.size=0},Rn.prototype.delete=function(t){var e=this.__data__,n=Vn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Rn.prototype.get=function(t){var e=this.__data__,n=Vn(e,t);return n<0?void 0:e[n][1]},Rn.prototype.has=function(t){return Vn(this.__data__,t)>-1},Rn.prototype.set=function(t,e){var n=this.__data__,r=Vn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(pn||Rn),string:new Dn}},jn.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},jn.prototype.get=function(t){return Ji(this,t).get(t)},jn.prototype.has=function(t){return Ji(this,t).has(t)},jn.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Fn.prototype.add=Fn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Fn.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new Rn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Rn){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jn(r)}return n.set(t,e),this.size=n.size,this};var tr=wi(ur),er=wi(cr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!Ja(a):n(a,s)))var s=a,u=o}return u}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?or(s,e-1,n,r,i):de(i,s):r||(i[i.length]=s)}return i}var ar=xi(),sr=xi(!0);function ur(t,e){return t&&ar(t,e,_s)}function cr(t,e){return t&&sr(t,e,_s)}function lr(t,e){return le(e,(function(e){return Ua(t[e])}))}function fr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[So(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Da(t)?r:de(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in vt(t)?function(t){var e=Tt.call(t,ge),n=t[ge];try{t[ge]=void 0;var r=!0}catch(t){}var i=Ct.call(t);r&&(e?t[ge]=n:delete t[ge]);return i}(t):function(t){return Ct.call(t)}(t)}function dr(t,e){return t>e}function vr(t,e){return null!=t&&Tt.call(t,e)}function yr(t,e){return null!=t&&e in vt(t)}function mr(t,e,n){for(var i=n?he:fe,o=t[0].length,a=t.length,s=a,u=r(a),c=1/0,l=[];s--;){var f=t[s];s&&e&&(f=pe(f,Pe(e))),c=sn(f.length,c),u[s]=!n&&(e||o>=120&&f.length>=120)?new Fn(s&&f):void 0}f=t[0];var h=-1,p=u[0];t:for(;++h<o&&l.length<c;){var d=f[h],v=e?e(d):d;if(d=n||0!==d?d:0,!(p?Ie(p,v):i(l,v,n))){for(s=a;--s;){var y=u[s];if(!(y?Ie(y,v):i(t[s],v,n)))continue t}p&&p.push(v),l.push(d)}}return l}function gr(t,e,n){var r=null==(t=yo(t,e=si(e,t)))?t:t[So(Bo(e))];return null==r?void 0:oe(r,t,n)}function br(t){return Va(t)&&pr(t)==u}function _r(t,e,n,r,i){return t===e||(null==t||null==e||!Va(t)&&!Va(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Da(t),s=Da(e),p=a?c:no(t),d=s?c:no(e),x=(p=p==u?m:p)==m,O=(d=d==u?m:d)==m,S=p==d;if(S&&La(t)){if(!La(e))return!1;a=!0,x=!1}if(S&&!x)return o||(o=new Ln),a||Za(t)?Hi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new Ft(t),new Ft(e)));case l:case f:case y:return Ma(+t,+e);case h:return t.name==e.name&&t.message==e.message;case g:case _:return t==e+"";case v:var s=Ue;case b:var u=1&r;if(s||(s=He),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var p=Hi(s(t),s(e),r,i,o,a);return a.delete(t),p;case w:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var C=x&&Tt.call(t,"__wrapped__"),A=O&&Tt.call(e,"__wrapped__");if(C||A){var M=C?t.value():t,P=A?e.value():e;return o||(o=new Ln),i(M,P,n,r,o)}}if(!S)return!1;return o||(o=new Ln),function(t,e,n,r,i,o){var a=1&n,s=Wi(t),u=s.length,c=Wi(e).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in e:Tt.call(e,f)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var p=!0;o.set(t,e),o.set(e,t);var d=a;for(;++l<u;){f=s[l];var v=t[f],y=e[f];if(r)var m=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(!(void 0===m?v===y||i(v,y,n,r,o):m)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,i,o)}(t,e,n,r,_r,i))}function wr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var f=new Ln;if(r)var h=r(c,l,u,t,e,f);if(!(void 0===h?_r(l,c,3,r,f):h))return!1}}return!0}function xr(t){return!(!Ha(t)||(e=t,St&&St in e))&&(Ua(t)?Pt:at).test(Co(t));var e}function Er(t){return"function"==typeof t?t:null==t?Xs:"object"==typeof t?Da(t)?Mr(t[0],t[1]):Ar(t):eu(t)}function Tr(t){if(!fo(t))return on(t);var e=[];for(var n in vt(t))Tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Or(t){if(!Ha(t))return function(t){var e=[];if(null!=t)for(var n in vt(t))e.push(n);return e}(t);var e=fo(t),n=[];for(var r in t)("constructor"!=r||!e&&Tt.call(t,r))&&n.push(r);return n}function Sr(t,e){return t<e}function Cr(t,e){var n=-1,i=ja(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Ar(t){var e=Zi(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Mr(t,e){return uo(t)&&ho(e)?po(So(t),e):function(n){var r=vs(n,t);return void 0===r&&r===e?ys(n,t):_r(e,r,3)}}function Pr(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Ln),Ha(o))!function(t,e,n,r,i,o,a){var s=go(t,n),u=go(e,n),c=a.get(u);if(c)return void qn(t,n,c);var l=o?o(s,u,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=Da(u),p=!h&&La(u),d=!h&&!p&&Za(u);l=u,h||p||d?Da(s)?l=s:Fa(s)?l=mi(s):p?(f=!1,l=fi(u,!0)):d?(f=!1,l=pi(u,!0)):l=[]:Ga(u)||Ia(u)?(l=s,Ia(s)?l=as(s):Ha(s)&&!Ua(s)||(l=io(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u));qn(t,n,l)}(t,e,a,n,Pr,r,i);else{var s=r?r(go(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),qn(t,a,s)}}),ws)}function kr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function Ir(t,e,n){var r=-1;return e=pe(e.length?e:[Xs],Pe($i())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Cr(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=di(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function Dr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=fr(t,a);n(s,a)&&zr(o,si(a,t),s)}return o}function Rr(t,e,n,r){var i=r?xe:we,o=-1,a=e.length,s=t;for(t===e&&(e=mi(e)),n&&(s=pe(t,Pe(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Kt.call(s,u,1),Kt.call(t,u,1);return t}function jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?Kt.call(t,i,1):Qr(t,i)}}return t}function Fr(t,e){return t+Qe(ln()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function Nr(t,e){return wo(vo(t,e,Xs),t+"")}function Br(t){return Bn(Ms(t))}function Ur(t,e){var n=Ms(t);return To(n,Kn(e,0,n.length))}function zr(t,e,n,r){if(!Ha(t))return t;for(var i=-1,o=(e=si(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=So(e[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Ha(l)?l:ao(e[i+1])?[]:{})}Hn(s,u,c),s=s[u]}return t}var qr=gn?function(t,e){return gn.set(t,e),t}:Xs,Hr=Se?function(t,e){return Se(t,"toString",{configurable:!0,enumerable:!1,value:Hs(e),writable:!0})}:Xs;function Vr(t){return To(Ms(t))}function Wr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Xr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Gr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Yr(t,e,Xs,n)}function Yr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,s=null===e,u=Ja(e),c=void 0===e;i<o;){var l=Qe((i+o)/2),f=n(t[l]),h=void 0!==f,p=null===f,d=f==f,v=Ja(f);if(a)var y=r||d;else y=c?d&&(r||h):s?d&&h&&(r||!p):u?d&&h&&!p&&(r||!v):!p&&!v&&(r?f<=e:f<e);y?i=l+1:o=l}return sn(o,4294967294)}function Kr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ma(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function $r(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Da(t))return pe(t,Jr)+"";if(Ja(t))return Cn?Cn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Zr(t,e,n){var r=-1,i=fe,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=he;else if(o>=200){var c=e?null:Li(t);if(c)return He(c);a=!1,i=Ie,u=new Fn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function Qr(t,e){return null==(t=yo(t,e=si(e,t)))||delete t[So(Bo(e))]}function ti(t,e,n,r){return zr(t,e,n(fr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof In&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Zr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Qn(a[o]||s,t[u],e,n));return Zr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function oi(t){return Fa(t)?t:[]}function ai(t){return"function"==typeof t?t:Xs}function si(t,e){return Da(t)?t:uo(t,e)?[t]:Oo(ss(t))}var ui=Nr;function ci(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Wr(t,e,n)}var li=Ke||function(t){return Gt.clearTimeout(t)};function fi(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function pi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,s=null===e,u=e==e,c=Ja(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function vi(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=an(a-s,0),f=r(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function yi(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,f=an(a-u,0),h=r(f+l),p=!i;++o<f;)h[o]=t[o];for(var d=o;++c<l;)h[d+c]=e[c];for(;++s<u;)(p||o<a)&&(h[d+n[s]]=t[o++]);return h}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function gi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Gn(n,s,u):Hn(n,s,u)}return n}function bi(t,e){return function(n,r){var i=Da(n)?ae:Wn,o=e?e():{};return i(n,t,$i(r,2),o)}}function _i(t){return Nr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=vt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function wi(t,e){return function(n,r){if(null==n)return n;if(!ja(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=vt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function xi(t){return function(e,n,r){for(var i=-1,o=vt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Ei(t){return function(e){var n=Be(e=ss(e))?Xe(e):void 0,r=n?n[0]:e.charAt(0),i=n?ci(n,1).join(""):e.slice(1);return r[t]()+i}}function Ti(t){return function(e){return ve(Us(Is(e).replace(It,"")),t,"")}}function Oi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Mn(t.prototype),r=t.apply(n,e);return Ha(r)?r:n}}function Si(t){return function(e,n,r){var i=vt(e);if(!ja(e)){var o=$i(n,3);e=_s(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Ci(t){return Vi((function(e){var n=e.length,r=n,i=kn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new gt(o);if(i&&!s&&"wrapper"==Yi(a))var s=new kn([],!0)}for(r=s?r:n;++r<n;){var u=Yi(a=e[r]),c="wrapper"==u?Gi(a):void 0;s=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Yi(c[0])].apply(s,c[3]):1==a.length&&co(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Da(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ai(t,e,n,i,o,a,s,u,c,l){var f=128&e,h=1&e,p=2&e,d=24&e,v=512&e,y=p?void 0:Oi(t);return function m(){for(var g=arguments.length,b=r(g),_=g;_--;)b[_]=arguments[_];if(d)var w=Ki(m),x=je(b,w);if(i&&(b=vi(b,i,o,d)),a&&(b=yi(b,a,s,d)),g-=x,d&&g<l){var E=qe(b,w);return ji(t,e,Ai,m.placeholder,n,b,E,u,c,l-g)}var T=h?n:this,O=p?T[t]:t;return g=b.length,u?b=mo(b,u):v&&g>1&&b.reverse(),f&&c<g&&(b.length=c),this&&this!==Gt&&this instanceof m&&(O=y||Oi(O)),O.apply(T,b)}}function Mi(t,e){return function(n,r){return function(t,e,n,r){return ur(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Pi(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=$r(n),r=$r(r)),i=t(n,r)}return i}}function ki(t){return Vi((function(e){return e=pe(e,Pe($i())),Nr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Ii(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,Ze(t/We(e)));return Be(e)?ci(Xe(r),0,t).join(""):r.slice(0,t)}function Di(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,i){for(var o=-1,a=an(Ze((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:ns(i),t)}}function Ri(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function ji(t,e,n,r,i,o,a,s,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return co(t)&&bo(h,f),h.placeholder=r,xo(h,t,e)}function Fi(t){var e=dt[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(rs(n),292))&&nn(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=vn&&1/He(new vn([,-0]))[1]==1/0?function(t){return new vn(t)}:Js;function Ni(t){return function(e){var n=no(e);return n==v?Ue(e):n==b?Ve(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Bi(t,e,n,i,s,u,c,l){var f=2&e;if(!f&&"function"!=typeof t)throw new gt(o);var h=i?i.length:0;if(h||(e&=-97,i=s=void 0),c=void 0===c?c:an(rs(c),0),l=void 0===l?l:rs(l),h-=s?s.length:0,64&e){var p=i,d=s;i=s=void 0}var v=f?void 0:Gi(t),y=[t,e,n,i,s,p,d,u,c,l];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?vi(c,u,e[4]):u,t[4]=c?qe(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?yi(c,u,e[6]):u,t[6]=c?qe(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(y,v),t=y[0],e=y[1],n=y[2],i=y[3],s=y[4],!(l=y[9]=void 0===y[9]?f?0:t.length:an(y[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var i=Oi(t);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Ki(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:qe(s,c);if((a-=l.length)<n)return ji(t,e,Ai,o.placeholder,void 0,s,l,void 0,void 0,n-a);var f=this&&this!==Gt&&this instanceof o?i:t;return oe(f,this,s)}}(t,e,l):32!=e&&33!=e||s.length?Ai.apply(void 0,y):function(t,e,n,i){var o=1&e,a=Oi(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==Gt&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return oe(h,o?n:this,f)}}(t,e,n,i);else var m=function(t,e,n){var r=1&e,i=Oi(t);return function e(){var o=this&&this!==Gt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return xo((v?qr:bo)(m,y),t,e)}function Ui(t,e,n,r){return void 0===t||Ma(t,wt[n])&&!Tt.call(r,n)?e:t}function zi(t,e,n,r,i,o){return Ha(t)&&Ha(e)&&(o.set(e,t),Pr(t,e,void 0,zi,o),o.delete(e)),t}function qi(t){return Ga(t)?void 0:t}function Hi(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=2&n?new Fn:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],d=e[l];if(r)var v=a?r(d,p,l,e,t,o):r(p,d,l,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!me(e,(function(t,e){if(!Ie(h,e)&&(p===t||i(p,t,n,r,o)))return h.push(e)}))){f=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Vi(t){return wo(vo(t,void 0,Ro),t+"")}function Wi(t){return hr(t,_s,to)}function Xi(t){return hr(t,ws,eo)}var Gi=gn?function(t){return gn.get(t)}:Js;function Yi(t){for(var e=t.name+"",n=bn[e],r=Tt.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Ki(t){return(Tt.call(An,"placeholder")?An:t).placeholder}function $i(){var t=An.iteratee||Gs;return t=t===Gs?Er:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Zi(t){for(var e=_s(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Qi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=vt(t),le(tn(t),(function(e){return Yt.call(t,e)})))}:iu,eo=tn?function(t){for(var e=[];t;)de(e,to(t)),t=Wt(t);return e}:iu,no=pr;function ro(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var a=So(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&qa(i)&&ao(a,i)&&(Da(t)||Ia(t))}function io(t){return"function"!=typeof t.constructor||fo(t)?{}:Mn(Wt(t))}function oo(t){return Da(t)||Ia(t)||!!(Jt&&t&&t[Jt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Ha(n))return!1;var r=typeof e;return!!("number"==r?ja(n)&&ao(e,n.length):"string"==r&&e in n)&&Ma(n[e],t)}function uo(t,e){if(Da(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(V.test(t)||!H.test(t)||null!=e&&t in vt(e))}function co(t){var e=Yi(t),n=An[e];if("function"!=typeof n||!(e in In.prototype))return!1;if(t===n)return!0;var r=Gi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=T||pn&&no(new pn)!=v||dn&&"[object Promise]"!=no(dn.resolve())||vn&&no(new vn)!=b||yn&&no(new yn)!=x)&&(no=function(t){var e=pr(t),n=e==m?t.constructor:void 0,r=n?Co(n):"";if(r)switch(r){case _n:return T;case wn:return v;case xn:return"[object Promise]";case En:return b;case Tn:return x}return e});var lo=xt?Ua:ou;function fo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function ho(t){return t==t&&!Ha(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in vt(n)))}}function vo(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),oe(t,this,u)}}function yo(t,e){return e.length<2?t:fr(t,Wr(e,0,-1))}function mo(t,e){for(var n=t.length,r=sn(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bo=Eo(qr),_o=Je||function(t,e){return Gt.setTimeout(t,e)},wo=Eo(Hr);function xo(t,e,n){var r=e+"";return wo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!fe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(Q):[]}(r),n)))}function Eo(t){var e=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function To(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Fr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Oo=function(t){var e=Ea(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function So(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Co(t){if(null!=t){try{return Et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ao(t){if(t instanceof In)return t.clone();var e=new kn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Mo=Nr((function(t,e){return Fa(t)?Qn(t,or(e,1,Fa,!0)):[]})),Po=Nr((function(t,e){var n=Bo(e);return Fa(n)&&(n=void 0),Fa(t)?Qn(t,or(e,1,Fa,!0),$i(n,2)):[]})),ko=Nr((function(t,e){var n=Bo(e);return Fa(n)&&(n=void 0),Fa(t)?Qn(t,or(e,1,Fa,!0),void 0,n):[]}));function Io(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),_e(t,$i(e,3),i)}function Do(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):sn(i,r-1)),_e(t,$i(e,3),i,!0)}function Ro(t){return(null==t?0:t.length)?or(t,1):[]}function jo(t){return t&&t.length?t[0]:void 0}var Fo=Nr((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?mr(e):[]})),Lo=Nr((function(t){var e=Bo(t),n=pe(t,oi);return e===Bo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,$i(e,2)):[]})),No=Nr((function(t){var e=Bo(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Bo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Uo=Nr(zo);function zo(t,e){return t&&t.length&&e&&e.length?Rr(t,e):t}var qo=Vi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return jr(t,pe(e,(function(t){return ao(t,n)?+t:t})).sort(di)),r}));function Ho(t){return null==t?t:fn.call(t)}var Vo=Nr((function(t){return Zr(or(t,1,Fa,!0))})),Wo=Nr((function(t){var e=Bo(t);return Fa(e)&&(e=void 0),Zr(or(t,1,Fa,!0),$i(e,2))})),Xo=Nr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,Zr(or(t,1,Fa,!0),void 0,e)}));function Go(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(Fa(t))return e=an(t.length,e),!0})),Me(e,(function(e){return pe(t,Oe(e))}))}function Yo(t,e){if(!t||!t.length)return[];var n=Go(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var Ko=Nr((function(t,e){return Fa(t)?Qn(t,e):[]})),$o=Nr((function(t){return ri(le(t,Fa))})),Jo=Nr((function(t){var e=Bo(t);return Fa(e)&&(e=void 0),ri(le(t,Fa),$i(e,2))})),Zo=Nr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,ri(le(t,Fa),void 0,e)})),Qo=Nr(Go);var ta=Nr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yo(t,n)}));function ea(t){var e=An(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Vi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof In&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new kn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,e,n){Tt.call(t,n)?++t[n]:Gn(t,n,1)}));var oa=Si(Io),aa=Si(Do);function sa(t,e){return(Da(t)?se:tr)(t,$i(e,3))}function ua(t,e){return(Da(t)?ue:er)(t,$i(e,3))}var ca=bi((function(t,e,n){Tt.call(t,n)?t[n].push(e):Gn(t,n,[e])}));var la=Nr((function(t,e,n){var i=-1,o="function"==typeof e,a=ja(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):gr(t,e,n)})),a})),fa=bi((function(t,e,n){Gn(t,n,e)}));function ha(t,e){return(Da(t)?pe:Cr)(t,$i(e,3))}var pa=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var da=Nr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Ir(t,or(e,1),[])})),va=$e||function(){return Gt.Date.now()};function ya(t,e,n){return e=n?void 0:e,Bi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ma(t,e){var n;if("function"!=typeof e)throw new gt(o);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ga=Nr((function(t,e,n){var r=1;if(n.length){var i=qe(n,Ki(ga));r|=32}return Bi(t,r,e,n,i)})),ba=Nr((function(t,e,n){var r=3;if(n.length){var i=qe(n,Ki(ba));r|=32}return Bi(e,r,t,n,i)}));function _a(t,e,n){var r,i,a,s,u,c,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(o);function d(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function v(t){return l=t,u=_o(m,e),f?d(t):s}function y(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=a}function m(){var t=va();if(y(t))return g(t);u=_o(m,function(t){var n=e-(t-c);return h?sn(n,a-(t-l)):n}(t))}function g(t){return u=void 0,p&&r?d(t):(r=i=void 0,s)}function b(){var t=va(),n=y(t);if(r=arguments,i=this,c=t,n){if(void 0===u)return v(c);if(h)return li(u),u=_o(m,e),d(c)}return void 0===u&&(u=_o(m,e)),s}return e=os(e)||0,Ha(n)&&(f=!!n.leading,a=(h="maxWait"in n)?an(os(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&li(u),l=0,r=c=i=u=void 0},b.flush=function(){return void 0===u?s:g(va())},b}var wa=Nr((function(t,e){return Zn(t,1,e)})),xa=Nr((function(t,e,n){return Zn(t,os(e)||0,n)}));function Ea(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ea.Cache||jn),n}function Ta(t){if("function"!=typeof t)throw new gt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ea.Cache=jn;var Oa=ui((function(t,e){var n=(e=1==e.length&&Da(e[0])?pe(e[0],Pe($i())):pe(or(e,1),Pe($i()))).length;return Nr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Sa=Nr((function(t,e){return Bi(t,32,void 0,e,qe(e,Ki(Sa)))})),Ca=Nr((function(t,e){return Bi(t,64,void 0,e,qe(e,Ki(Ca)))})),Aa=Vi((function(t,e){return Bi(t,256,void 0,void 0,void 0,e)}));function Ma(t,e){return t===e||t!=t&&e!=e}var Pa=Ri(dr),ka=Ri((function(t,e){return t>=e})),Ia=br(function(){return arguments}())?br:function(t){return Va(t)&&Tt.call(t,"callee")&&!Yt.call(t,"callee")},Da=r.isArray,Ra=Qt?Pe(Qt):function(t){return Va(t)&&pr(t)==E};function ja(t){return null!=t&&qa(t.length)&&!Ua(t)}function Fa(t){return Va(t)&&ja(t)}var La=en||ou,Na=te?Pe(te):function(t){return Va(t)&&pr(t)==f};function Ba(t){if(!Va(t))return!1;var e=pr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ga(t)}function Ua(t){if(!Ha(t))return!1;var e=pr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function za(t){return"number"==typeof t&&t==rs(t)}function qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ha(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Va(t){return null!=t&&"object"==typeof t}var Wa=ee?Pe(ee):function(t){return Va(t)&&no(t)==v};function Xa(t){return"number"==typeof t||Va(t)&&pr(t)==y}function Ga(t){if(!Va(t)||pr(t)!=m)return!1;var e=Wt(t);if(null===e)return!0;var n=Tt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Et.call(n)==At}var Ya=ne?Pe(ne):function(t){return Va(t)&&pr(t)==g};var Ka=re?Pe(re):function(t){return Va(t)&&no(t)==b};function $a(t){return"string"==typeof t||!Da(t)&&Va(t)&&pr(t)==_}function Ja(t){return"symbol"==typeof t||Va(t)&&pr(t)==w}var Za=ie?Pe(ie):function(t){return Va(t)&&qa(t.length)&&!!Ut[pr(t)]};var Qa=Ri(Sr),ts=Ri((function(t,e){return t<=e}));function es(t){if(!t)return[];if(ja(t))return $a(t)?Xe(t):mi(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=no(t);return(e==v?Ue:e==b?He:Ms)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function is(t){return t?Kn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Ha(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ha(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Y,"");var n=ot.test(t);return n||st.test(t)?Vt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function as(t){return gi(t,ws(t))}function ss(t){return null==t?"":Jr(t)}var us=_i((function(t,e){if(fo(e)||ja(e))gi(e,_s(e),t);else for(var n in e)Tt.call(e,n)&&Hn(t,n,e[n])})),cs=_i((function(t,e){gi(e,ws(e),t)})),ls=_i((function(t,e,n,r){gi(e,ws(e),t,r)})),fs=_i((function(t,e,n,r){gi(e,_s(e),t,r)})),hs=Vi(Yn);var ps=Nr((function(t,e){t=vt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=ws(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(void 0===l||Ma(l,wt[c])&&!Tt.call(t,c))&&(t[c]=o[c])}return t})),ds=Nr((function(t){return t.push(void 0,zi),oe(Es,void 0,t)}));function vs(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function ys(t,e){return null!=t&&ro(t,e,yr)}var ms=Mi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),t[e]=n}),Hs(Xs)),gs=Mi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),Tt.call(t,e)?t[e].push(n):t[e]=[n]}),$i),bs=Nr(gr);function _s(t){return ja(t)?Nn(t):Tr(t)}function ws(t){return ja(t)?Nn(t,!0):Or(t)}var xs=_i((function(t,e,n){Pr(t,e,n)})),Es=_i((function(t,e,n,r){Pr(t,e,n,r)})),Ts=Vi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),gi(t,Xi(t),n),r&&(n=$n(n,7,qi));for(var i=e.length;i--;)Qr(n,e[i]);return n}));var Os=Vi((function(t,e){return null==t?{}:function(t,e){return Dr(t,e,(function(e,n){return ys(t,n)}))}(t,e)}));function Ss(t,e){if(null==t)return{};var n=pe(Xi(t),(function(t){return[t]}));return e=$i(e),Dr(t,n,(function(t,n){return e(t,n[0])}))}var Cs=Ni(_s),As=Ni(ws);function Ms(t){return null==t?[]:ke(t,_s(t))}var Ps=Ti((function(t,e,n){return e=e.toLowerCase(),t+(n?ks(e):e)}));function ks(t){return Bs(ss(t).toLowerCase())}function Is(t){return(t=ss(t))&&t.replace(ct,Fe).replace(Dt,"")}var Ds=Ti((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Rs=Ti((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),js=Ei("toLowerCase");var Fs=Ti((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ls=Ti((function(t,e,n){return t+(n?" ":"")+Bs(e)}));var Ns=Ti((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Bs=Ei("toUpperCase");function Us(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Lt.test(t)}(t)?function(t){return t.match(jt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var zs=Nr((function(t,e){try{return oe(t,void 0,e)}catch(t){return Ba(t)?t:new ht(t)}})),qs=Vi((function(t,e){return se(e,(function(e){e=So(e),Gn(t,e,ga(t[e],t))})),t}));function Hs(t){return function(){return t}}var Vs=Ci(),Ws=Ci(!0);function Xs(t){return t}function Gs(t){return Er("function"==typeof t?t:$n(t,1))}var Ys=Nr((function(t,e){return function(n){return gr(n,t,e)}})),Ks=Nr((function(t,e){return function(n){return gr(t,n,e)}}));function $s(t,e,n){var r=_s(e),i=lr(e,r);null!=n||Ha(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,_s(e)));var o=!(Ha(n)&&"chain"in n&&!n.chain),a=Ua(t);return se(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Js(){}var Zs=ki(pe),Qs=ki(ce),tu=ki(me);function eu(t){return uo(t)?Oe(So(t)):function(t){return function(e){return fr(e,t)}}(t)}var nu=Di(),ru=Di(!0);function iu(){return[]}function ou(){return!1}var au=Pi((function(t,e){return t+e}),0),su=Fi("ceil"),uu=Pi((function(t,e){return t/e}),1),cu=Fi("floor");var lu,fu=Pi((function(t,e){return t*e}),1),hu=Fi("round"),pu=Pi((function(t,e){return t-e}),0);return An.after=function(t,e){if("function"!=typeof e)throw new gt(o);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},An.ary=ya,An.assign=us,An.assignIn=cs,An.assignInWith=ls,An.assignWith=fs,An.at=hs,An.before=ma,An.bind=ga,An.bindAll=qs,An.bindKey=ba,An.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},An.chain=ea,An.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:an(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=r(Ze(i/e));o<i;)s[a++]=Wr(t,o,o+=e);return s},An.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},An.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Da(n)?mi(n):[n],or(e,1))},An.cond=function(t){var e=null==t?0:t.length,n=$i();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new gt(o);return[n(t[0]),t[1]]})):[],Nr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},An.conforms=function(t){return function(t){var e=_s(t);return function(n){return Jn(n,t,e)}}($n(t,1))},An.constant=Hs,An.countBy=ia,An.create=function(t,e){var n=Mn(t);return null==e?n:Xn(n,e)},An.curry=function t(e,n,r){var i=Bi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.curryRight=function t(e,n,r){var i=Bi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.debounce=_a,An.defaults=ps,An.defaultsDeep=ds,An.defer=wa,An.delay=xa,An.difference=Mo,An.differenceBy=Po,An.differenceWith=ko,An.drop=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},An.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},An.dropRightWhile=function(t,e){return t&&t.length?ei(t,$i(e,3),!0,!0):[]},An.dropWhile=function(t,e){return t&&t.length?ei(t,$i(e,3),!0):[]},An.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},An.filter=function(t,e){return(Da(t)?le:ir)(t,$i(e,3))},An.flatMap=function(t,e){return or(ha(t,e),1)},An.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},An.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),or(ha(t,e),n)},An.flatten=Ro,An.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},An.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:rs(e)):[]},An.flip=function(t){return Bi(t,512)},An.flow=Vs,An.flowRight=Ws,An.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},An.functions=function(t){return null==t?[]:lr(t,_s(t))},An.functionsIn=function(t){return null==t?[]:lr(t,ws(t))},An.groupBy=ca,An.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},An.intersection=Fo,An.intersectionBy=Lo,An.intersectionWith=No,An.invert=ms,An.invertBy=gs,An.invokeMap=la,An.iteratee=Gs,An.keyBy=fa,An.keys=_s,An.keysIn=ws,An.map=ha,An.mapKeys=function(t,e){var n={};return e=$i(e,3),ur(t,(function(t,r,i){Gn(n,e(t,r,i),t)})),n},An.mapValues=function(t,e){var n={};return e=$i(e,3),ur(t,(function(t,r,i){Gn(n,r,e(t,r,i))})),n},An.matches=function(t){return Ar($n(t,1))},An.matchesProperty=function(t,e){return Mr(t,$n(e,1))},An.memoize=Ea,An.merge=xs,An.mergeWith=Es,An.method=Ys,An.methodOf=Ks,An.mixin=$s,An.negate=Ta,An.nthArg=function(t){return t=rs(t),Nr((function(e){return kr(e,t)}))},An.omit=Ts,An.omitBy=function(t,e){return Ss(t,Ta($i(e)))},An.once=function(t){return ma(2,t)},An.orderBy=function(t,e,n,r){return null==t?[]:(Da(e)||(e=null==e?[]:[e]),Da(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(t,e,n))},An.over=Zs,An.overArgs=Oa,An.overEvery=Qs,An.overSome=tu,An.partial=Sa,An.partialRight=Ca,An.partition=pa,An.pick=Os,An.pickBy=Ss,An.property=eu,An.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},An.pull=Uo,An.pullAll=zo,An.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Rr(t,e,$i(n,2)):t},An.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Rr(t,e,void 0,n):t},An.pullAt=qo,An.range=nu,An.rangeRight=ru,An.rearg=Aa,An.reject=function(t,e){return(Da(t)?le:ir)(t,Ta($i(e,3)))},An.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=$i(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return jr(t,i),n},An.rest=function(t,e){if("function"!=typeof t)throw new gt(o);return Nr(t,e=void 0===e?e:rs(e))},An.reverse=Ho,An.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),(Da(t)?Un:Ur)(t,e)},An.set=function(t,e,n){return null==t?t:zr(t,e,n)},An.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:zr(t,e,n,r)},An.shuffle=function(t){return(Da(t)?zn:Vr)(t)},An.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),Wr(t,e,n)):[]},An.sortBy=da,An.sortedUniq=function(t){return t&&t.length?Kr(t):[]},An.sortedUniqBy=function(t,e){return t&&t.length?Kr(t,$i(e,2)):[]},An.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Ya(e))&&!(e=Jr(e))&&Be(t)?ci(Xe(t),0,n):t.split(e,n):[]},An.spread=function(t,e){if("function"!=typeof t)throw new gt(o);return e=null==e?0:an(rs(e),0),Nr((function(n){var r=n[e],i=ci(n,0,e);return r&&de(i,r),oe(t,this,i)}))},An.tail=function(t){var e=null==t?0:t.length;return e?Wr(t,1,e):[]},An.take=function(t,e,n){return t&&t.length?Wr(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},An.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},An.takeRightWhile=function(t,e){return t&&t.length?ei(t,$i(e,3),!1,!0):[]},An.takeWhile=function(t,e){return t&&t.length?ei(t,$i(e,3)):[]},An.tap=function(t,e){return e(t),t},An.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new gt(o);return Ha(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_a(t,e,{leading:r,maxWait:e,trailing:i})},An.thru=na,An.toArray=es,An.toPairs=Cs,An.toPairsIn=As,An.toPath=function(t){return Da(t)?pe(t,So):Ja(t)?[t]:mi(Oo(ss(t)))},An.toPlainObject=as,An.transform=function(t,e,n){var r=Da(t),i=r||La(t)||Za(t);if(e=$i(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ha(t)&&Ua(o)?Mn(Wt(t)):{}}return(i?se:ur)(t,(function(t,r,i){return e(n,t,r,i)})),n},An.unary=function(t){return ya(t,1)},An.union=Vo,An.unionBy=Wo,An.unionWith=Xo,An.uniq=function(t){return t&&t.length?Zr(t):[]},An.uniqBy=function(t,e){return t&&t.length?Zr(t,$i(e,2)):[]},An.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Zr(t,void 0,e):[]},An.unset=function(t,e){return null==t||Qr(t,e)},An.unzip=Go,An.unzipWith=Yo,An.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},An.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},An.values=Ms,An.valuesIn=function(t){return null==t?[]:ke(t,ws(t))},An.without=Ko,An.words=Us,An.wrap=function(t,e){return Sa(ai(e),t)},An.xor=$o,An.xorBy=Jo,An.xorWith=Zo,An.zip=Qo,An.zipObject=function(t,e){return ii(t||[],e||[],Hn)},An.zipObjectDeep=function(t,e){return ii(t||[],e||[],zr)},An.zipWith=ta,An.entries=Cs,An.entriesIn=As,An.extend=cs,An.extendWith=ls,$s(An,An),An.add=au,An.attempt=zs,An.camelCase=Ps,An.capitalize=ks,An.ceil=su,An.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Kn(os(t),e,n)},An.clone=function(t){return $n(t,4)},An.cloneDeep=function(t){return $n(t,5)},An.cloneDeepWith=function(t,e){return $n(t,5,e="function"==typeof e?e:void 0)},An.cloneWith=function(t,e){return $n(t,4,e="function"==typeof e?e:void 0)},An.conformsTo=function(t,e){return null==e||Jn(t,e,_s(e))},An.deburr=Is,An.defaultTo=function(t,e){return null==t||t!=t?e:t},An.divide=uu,An.endsWith=function(t,e,n){t=ss(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Kn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},An.eq=Ma,An.escape=function(t){return(t=ss(t))&&B.test(t)?t.replace(L,Le):t},An.escapeRegExp=function(t){return(t=ss(t))&&G.test(t)?t.replace(X,"\\$&"):t},An.every=function(t,e,n){var r=Da(t)?ce:nr;return n&&so(t,e,n)&&(e=void 0),r(t,$i(e,3))},An.find=oa,An.findIndex=Io,An.findKey=function(t,e){return be(t,$i(e,3),ur)},An.findLast=aa,An.findLastIndex=Do,An.findLastKey=function(t,e){return be(t,$i(e,3),cr)},An.floor=cu,An.forEach=sa,An.forEachRight=ua,An.forIn=function(t,e){return null==t?t:ar(t,$i(e,3),ws)},An.forInRight=function(t,e){return null==t?t:sr(t,$i(e,3),ws)},An.forOwn=function(t,e){return t&&ur(t,$i(e,3))},An.forOwnRight=function(t,e){return t&&cr(t,$i(e,3))},An.get=vs,An.gt=Pa,An.gte=ka,An.has=function(t,e){return null!=t&&ro(t,e,vr)},An.hasIn=ys,An.head=jo,An.identity=Xs,An.includes=function(t,e,n,r){t=ja(t)?t:Ms(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),$a(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&we(t,e,n)>-1},An.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),we(t,e,i)},An.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=os(t),e,n)},An.invoke=bs,An.isArguments=Ia,An.isArray=Da,An.isArrayBuffer=Ra,An.isArrayLike=ja,An.isArrayLikeObject=Fa,An.isBoolean=function(t){return!0===t||!1===t||Va(t)&&pr(t)==l},An.isBuffer=La,An.isDate=Na,An.isElement=function(t){return Va(t)&&1===t.nodeType&&!Ga(t)},An.isEmpty=function(t){if(null==t)return!0;if(ja(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||La(t)||Za(t)||Ia(t)))return!t.length;var e=no(t);if(e==v||e==b)return!t.size;if(fo(t))return!Tr(t).length;for(var n in t)if(Tt.call(t,n))return!1;return!0},An.isEqual=function(t,e){return _r(t,e)},An.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},An.isError=Ba,An.isFinite=function(t){return"number"==typeof t&&nn(t)},An.isFunction=Ua,An.isInteger=za,An.isLength=qa,An.isMap=Wa,An.isMatch=function(t,e){return t===e||wr(t,e,Zi(e))},An.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Zi(e),n)},An.isNaN=function(t){return Xa(t)&&t!=+t},An.isNative=function(t){if(lo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},An.isNil=function(t){return null==t},An.isNull=function(t){return null===t},An.isNumber=Xa,An.isObject=Ha,An.isObjectLike=Va,An.isPlainObject=Ga,An.isRegExp=Ya,An.isSafeInteger=function(t){return za(t)&&t>=-9007199254740991&&t<=9007199254740991},An.isSet=Ka,An.isString=$a,An.isSymbol=Ja,An.isTypedArray=Za,An.isUndefined=function(t){return void 0===t},An.isWeakMap=function(t){return Va(t)&&no(t)==x},An.isWeakSet=function(t){return Va(t)&&"[object WeakSet]"==pr(t)},An.join=function(t,e){return null==t?"":rn.call(t,e)},An.kebabCase=Ds,An.last=Bo,An.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):_e(t,Ee,i,!0)},An.lowerCase=Rs,An.lowerFirst=js,An.lt=Qa,An.lte=ts,An.max=function(t){return t&&t.length?rr(t,Xs,dr):void 0},An.maxBy=function(t,e){return t&&t.length?rr(t,$i(e,2),dr):void 0},An.mean=function(t){return Te(t,Xs)},An.meanBy=function(t,e){return Te(t,$i(e,2))},An.min=function(t){return t&&t.length?rr(t,Xs,Sr):void 0},An.minBy=function(t,e){return t&&t.length?rr(t,$i(e,2),Sr):void 0},An.stubArray=iu,An.stubFalse=ou,An.stubObject=function(){return{}},An.stubString=function(){return""},An.stubTrue=function(){return!0},An.multiply=fu,An.nth=function(t,e){return t&&t.length?kr(t,rs(e)):void 0},An.noConflict=function(){return Gt._===this&&(Gt._=Mt),this},An.noop=Js,An.now=va,An.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?We(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ii(Qe(i),n)+t+Ii(Ze(i),n)},An.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?We(t):0;return e&&r<e?t+Ii(e-r,n):t},An.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?We(t):0;return e&&r<e?Ii(e-r,n)+t:t},An.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(ss(t).replace(K,""),e||0)},An.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return sn(t+i*(e-t+Ht("1e-"+((i+"").length-1))),e)}return Fr(t,e)},An.reduce=function(t,e,n){var r=Da(t)?ve:Ce,i=arguments.length<3;return r(t,$i(e,4),n,i,tr)},An.reduceRight=function(t,e,n){var r=Da(t)?ye:Ce,i=arguments.length<3;return r(t,$i(e,4),n,i,er)},An.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),Lr(ss(t),e)},An.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},An.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[So(e[r])];void 0===o&&(r=i,o=n),t=Ua(o)?o.call(t):o}return t},An.round=hu,An.runInContext=t,An.sample=function(t){return(Da(t)?Bn:Br)(t)},An.size=function(t){if(null==t)return 0;if(ja(t))return $a(t)?We(t):t.length;var e=no(t);return e==v||e==b?t.size:Tr(t).length},An.snakeCase=Fs,An.some=function(t,e,n){var r=Da(t)?me:Xr;return n&&so(t,e,n)&&(e=void 0),r(t,$i(e,3))},An.sortedIndex=function(t,e){return Gr(t,e)},An.sortedIndexBy=function(t,e,n){return Yr(t,e,$i(n,2))},An.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Gr(t,e);if(r<n&&Ma(t[r],e))return r}return-1},An.sortedLastIndex=function(t,e){return Gr(t,e,!0)},An.sortedLastIndexBy=function(t,e,n){return Yr(t,e,$i(n,2),!0)},An.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Gr(t,e,!0)-1;if(Ma(t[n],e))return n}return-1},An.startCase=Ls,An.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Kn(rs(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},An.subtract=pu,An.sum=function(t){return t&&t.length?Ae(t,Xs):0},An.sumBy=function(t,e){return t&&t.length?Ae(t,$i(e,2)):0},An.template=function(t,e,n){var r=An.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ss(t),e=ls({},e,r,Ui);var i,o,a=ls({},e.imports,r.imports,Ui),s=_s(a),u=ke(a,s),c=0,l=e.interpolate||lt,f="__p += '",h=yt((e.escape||lt).source+"|"+l.source+"|"+(l===q?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(Tt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Bt+"]")+"\n";t.replace(h,(function(e,n,r,a,s,u){return r||(r=a),f+=t.slice(c,u).replace(ft,Ne),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var d=Tt.call(e,"variable")&&e.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(D,""):f).replace(R,"$1").replace(j,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=zs((function(){return pt(s,p+"return "+f).apply(void 0,u)}));if(v.source=f,Ba(v))throw v;return v},An.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Me(r,e=$i(e));++n<t;)e(n);return i},An.toFinite=ns,An.toInteger=rs,An.toLength=is,An.toLower=function(t){return ss(t).toLowerCase()},An.toNumber=os,An.toSafeInteger=function(t){return t?Kn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},An.toString=ss,An.toUpper=function(t){return ss(t).toUpperCase()},An.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Jr(e)))return t;var r=Xe(t),i=Xe(e);return ci(r,De(r,i),Re(r,i)+1).join("")},An.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace($,"");if(!t||!(e=Jr(e)))return t;var r=Xe(t);return ci(r,0,Re(r,Xe(e))+1).join("")},An.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Jr(e)))return t;var r=Xe(t);return ci(r,De(r,Xe(e))).join("")},An.truncate=function(t,e){var n=30,r="...";if(Ha(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=ss(t)).length;if(Be(t)){var a=Xe(t);o=a.length}if(n>=o)return t;var s=n-We(r);if(s<1)return r;var u=a?ci(a,0,s).join(""):t.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ya(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=yt(i.source,ss(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(t.indexOf(Jr(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},An.unescape=function(t){return(t=ss(t))&&N.test(t)?t.replace(F,Ge):t},An.uniqueId=function(t){var e=++Ot;return ss(t)+e},An.upperCase=Ns,An.upperFirst=Bs,An.each=sa,An.eachRight=ua,An.first=jo,$s(An,(lu={},ur(An,(function(t,e){Tt.call(An.prototype,e)||(lu[e]=t)})),lu),{chain:!1}),An.VERSION="4.17.13",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){An[t].placeholder=An})),se(["drop","take"],(function(t,e){In.prototype[t]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!e?new In(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},In.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;In.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$i(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");In.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");In.prototype[t]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter(Xs)},In.prototype.find=function(t){return this.filter(t).head()},In.prototype.findLast=function(t){return this.reverse().find(t)},In.prototype.invokeMap=Nr((function(t,e){return"function"==typeof t?new In(this):this.map((function(n){return gr(n,t,e)}))})),In.prototype.reject=function(t){return this.filter(Ta($i(t)))},In.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new In(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},In.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},ur(In.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=An[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(An.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof In,u=a[0],c=s||Da(e),l=function(t){var e=i.apply(An,de([t],a));return r&&f?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,d=s&&!h;if(!o&&c){e=d?e:new In(this);var v=t.apply(e,a);return v.__actions__.push({func:na,args:[l],thisArg:void 0}),new kn(v,f)}return p&&d?t.apply(this,a):(v=this.thru(l),p?r?v.value()[0]:v.value():v)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);An.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Da(i)?i:[],t)}return this[n]((function(n){return e.apply(Da(n)?n:[],t)}))}})),ur(In.prototype,(function(t,e){var n=An[e];if(n){var r=n.name+"";Tt.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Ai(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var t=new In(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},In.prototype.reverse=function(){if(this.__filtered__){var t=new In(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},In.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Da(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=sn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return ni(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var v=-1,y=t[c+=e];++v<f;){var m=l[v],g=m.iteratee,b=m.type,_=g(y);if(2==b)y=_;else if(!_){if(1==b)continue t;break t}}d[h++]=y}return d},An.prototype.at=ra,An.prototype.chain=function(){return ea(this)},An.prototype.commit=function(){return new kn(this.value(),this.__chain__)},An.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},An.prototype.plant=function(t){for(var e,n=this;n instanceof Pn;){var r=Ao(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},An.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof In){var e=t;return this.__actions__.length&&(e=new In(this)),(e=e.reverse()).__actions__.push({func:na,args:[Ho],thisArg:void 0}),new kn(e,this.__chain__)}return this.thru(Ho)},An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},An.prototype.first=An.prototype.head,Zt&&(An.prototype[Zt]=function(){return this}),An}();Gt._=Ye,void 0===(i=function(){return Ye}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(33),n(66)(t))},,,,,,,,,,,,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(219),a=(r=o)&&r.__esModule?r:{default:r},s=n(29);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;u(this,t),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new a.default;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new a.default;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,e),u=Math.abs(o+a);return u<1e-5||Math.abs(s.PI_2-u)<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(29);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,t),this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(a),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=r,this.height=i-r},r(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=a},function(t,e){var n=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[t[a]]=r[a]}}return n[e]}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(38);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[2])<e?o:e,n=(a=t[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[4])<e?o:e,n=(a=t[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[6])<e?o:e,n=(a=t[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,c=o.d,l=o.tx,f=o.ty,h=this.minX,p=this.minY,d=this.maxX,v=this.maxY,y=a*e+u*n+l,m=s*e+c*n+f;h=y<h?y:h,p=m<p?m:p,d=y>d?y:d,v=m>v?m:v,h=(y=a*r+u*n+l)<h?y:h,p=(m=s*r+c*n+f)<p?m:p,d=y>d?y:d,v=m>v?m:v,h=(y=a*e+u*i+l)<h?y:h,p=(m=s*e+c*i+f)<p?m:p,d=y>d?y:d,v=m>v?m:v,h=(y=a*r+u*i+l)<h?y:h,p=(m=s*r+c*i+f)<p?m:p,d=y>d?y:d,v=m>v?m:v,this.minX=h,this.minY=p,this.maxX=d,this.maxY=v},t.prototype.addVertices=function(t,e,n,r){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,c=i.tx,l=i.ty,f=this.minX,h=this.minY,p=this.maxX,d=this.maxY,v=n;v<r;v+=2){var y=e[v],m=e[v+1],g=o*y+s*m+c,b=u*m+a*y+l;f=g<f?g:f,h=b<h?b:h,p=g>p?g:p,d=b>d?b:d}this.minX=f,this.minY=h,this.maxX=p,this.maxY=d},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>c?o:c}},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>c?o:c}},t}();e.default=i},function(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,d,v,y,m,g,b,_,w,x,E,T;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */a=this,s=/iPhone/i,u=/iPod/i,c=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,p=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,v=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,m=/BB10/i,g=/Opera Mini/i,b=/(CriOS|Chrome)(?=.*\bMobile\b)/i,_=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),x=function(t,e){return t.test(e)},E=function(t){var e=t||navigator.userAgent,n=e.split("[FBAN");if(void 0!==n[1]&&(e=n[0]),void 0!==(n=e.split("Twitter"))[1]&&(e=n[0]),this.apple={phone:x(s,e),ipod:x(u,e),tablet:!x(s,e)&&x(c,e),device:x(s,e)||x(u,e)||x(c,e)},this.amazon={phone:x(h,e),tablet:!x(h,e)&&x(p,e),device:x(h,e)||x(p,e)},this.android={phone:x(h,e)||x(l,e),tablet:!x(h,e)&&!x(l,e)&&(x(p,e)||x(f,e)),device:x(h,e)||x(p,e)||x(l,e)||x(f,e)},this.windows={phone:x(d,e),tablet:x(v,e),device:x(d,e)||x(v,e)},this.other={blackberry:x(y,e),blackberry10:x(m,e),opera:x(g,e),firefox:x(_,e),chrome:x(b,e),device:x(y,e)||x(m,e)||x(g,e)||x(_,e)||x(b,e)},this.seven_inch=x(w,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var t=new E;return t.Class=E,t},t.exports&&"undefined"==typeof window?t.exports=E:t.exports&&"undefined"!=typeof window?t.exports=T():(i=[],r=a.isMobile=T(),void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o))},function(t,e,n){"use strict";e.__esModule=!0;var r=n(38);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,c,l,p,v,y=e&&e.length,m=y?e[0]*n:t.length,g=i(t,0,m,n,!0),b=[];if(!g)return b;if(y&&(g=function(t,e,n,r){var a,s,u,c,l,p=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,c=a<s-1?e[a+1]*r:t.length,(l=i(t,u,c,r,!1))===l.next&&(l.steiner=!0),p.push(d(l));for(p.sort(f),a=0;a<p.length;a++)h(p[a],n),n=o(n,n.next);return n}(t,e,g,n)),t.length>80*n){r=u=t[0],s=c=t[1];for(var _=n;_<m;_+=n)(l=t[_])<r&&(r=l),(p=t[_+1])<s&&(s=p),l>u&&(u=l),p>c&&(c=p);v=0!==(v=Math.max(u-r,c-s))?1/v:0}return a(g,b,n,r,s,v),b}function i(t,e,n,r,i){var o,a;if(i===O(t,e,n,r)>0)for(o=e;o<n;o+=r)a=x(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=x(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(E(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,f,h){if(t){!h&&f&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=p(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,f);for(var d,v,y=t;t.prev!==t.next;)if(d=t.prev,v=t.next,f?u(t,r,i,f):s(t))e.push(d.i/n),e.push(t.i/n),e.push(v.i/n),E(t),t=v.next,y=v.next;else if((t=v)===y){h?1===h?a(t=c(t,e,n),e,n,r,i,f,2):2===h&&l(t,e,n,r,i,f):a(o(t),e,n,r,i,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(m(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&m(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(m(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=p(s,u,e,n,r),h=p(c,l,e,n,r),d=t.prevZ,y=t.nextZ;d&&d.z>=f&&y&&y.z<=h;){if(d!==t.prev&&d!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&m(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;d&&d.z>=f;){if(d!==t.prev&&d!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&m(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;y&&y.z<=h;){if(y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function c(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!g(i,o)&&b(i,r,r.next,o)&&_(i,o)&&_(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),E(r),E(r.next),r=t=o),r=r.next}while(r!==t);return r}function l(t,e,n,r,i,s){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&y(u,c)){var l=w(u,c);return u=o(u,u.next),l=o(l,l.next),a(u,e,n,r,i,s),void a(l,e,n,r,i,s)}c=c.next}u=u.next}while(u!==t)}function f(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,c=n,l=n.x,f=n.y,h=1/0;r=n.next;for(;r!==c;)i>=r.x&&r.x>=l&&i!==r.x&&v(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&_(r,t)&&(n=r,h=u),r=r.next;return n}(t,e)){var n=w(e,t);o(n,n.next)}}function p(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&_(t,e)&&_(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function m(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){return!!(g(t,e)&&g(n,r)||g(t,r)&&g(n,e))||m(t,e,n)>0!=m(t,e,r)>0&&m(n,r,t)>0!=m(n,r,e)>0}function _(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function w(t,e){var n=new T(t.i,t.x,t.y),r=new T(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function x(t,e,n,r){var i=new T(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function T(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(O(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(O(t,c,l,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(38),o=n(31),a=n(29),s=c(n(67)),u=c(n(108));function c(t){return t&&t.__esModule?t:{default:t}}var l=new i.Point,f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._anchor=new i.ObservablePoint(r._onAnchorUpdate,r,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=a.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||s.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName="sprite",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,c=t.trim,l=t.orig,f=this._anchor,h=0,p=0,d=0,v=0;c?(h=(p=c.x-f._x*l.width)+c.width,d=(v=c.y-f._y*l.height)+c.height):(h=(p=-f._x*l.width)+l.width,d=(v=-f._y*l.height)+l.height),u[0]=n*p+i*v+a,u[1]=o*v+r*p+s,u[2]=n*h+i*v+a,u[3]=o*v+r*h+s,u[4]=n*h+i*d+a,u[5]=o*d+r*h+s,u[6]=n*p+i*d+a,u[7]=o*d+r*p+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,c=i.tx,l=i.ty,f=-r._x*n.width,h=f+n.width,p=-r._y*n.height,d=p+n.height;e[0]=o*f+s*p+c,e[1]=u*p+a*f+l,e[2]=o*h+s*p+c,e[3]=u*p+a*h+l,e[4]=o*h+s*d+c,e[5]=u*d+a*h+l,e[6]=o*f+s*d+c,e[7]=u*d+a*f+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return l.x>=r&&l.x<r+e&&(i=-n*this.anchor.y,l.y>=i&&l.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(s.default.from(t))},e.fromFrame=function(t){var n=o.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,r){return new e(s.default.fromImage(t,n,r))},r(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||s.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=f},function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var r,i=n(738),o=(r=i)&&r.__esModule?r:{default:r};var a=new o.default;a.autoStart=!0,a.destroy=function(){},e.shared=a,e.Ticker=o.default},function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(313));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(n,i){o(this,e);var s=null;if(!(n instanceof r.default)){var u=arguments[1],c=arguments[2],l=arguments[3],f=arguments[4];console.warn("Please use RenderTexture.create("+u+", "+c+") instead of the ctor directly."),s=arguments[0],i=null,n=new r.default(u,c,l,f)}var h=a(this,t.call(this,n,i));return h.legacyRenderer=s,h.valid=!0,h._updateUvs(),h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,n){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,i,o){return new e(new r.default(t,n,i,o))},e}(i(n(67)).default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(31),o=n(315);var a={getTintedTexture:function(t,e){var n=t._texture,r="#"+("00000"+(0|(e=a.roundColor(e))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r],o=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];o=n.tintCache[r]}else o=a.canvas||document.createElement("canvas");if(a.tintMethod(n,e,o),o.tintId=n._updateID,a.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=o,a.canvas=null;return o},tintWithMultiply:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(t,e,n){var r=n.getContext("2d"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.restore();for(var s=(0,i.hex2rgb)(e),u=s[0],c=s[1],l=s[2],f=r.getImageData(0,0,o.width,o.height),h=f.data,p=0;p<h.length;p+=4)h[p+0]*=u,h[p+1]*=c,h[p+2]*=l;r.putImageData(f,0,0)},roundColor:function(t){var e=a.cacheStepsPerColorChannel,n=(0,i.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,i.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=o)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,e.default=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,n=new Uint16Array(e),r=0,i=0;r<e;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(338)),o=a(n(337));function a(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function c(){}var l=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=c,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,n){f(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){f(t._xhrTypeMap,e,n)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(n)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(h(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(h(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(h(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var n=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&r===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function f(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function h(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=n(344),a=(r=o)&&r.__esModule?r:{default:r};var s=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new a.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(d),this.registerFindHook(v),this.registerFindHook(c),this.registerFindHook(l),this.registerFindHook(f),this.registerUploadHook(h),this.registerUploadHook(p)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var a=0,u=o.length;a<u;a++)o[a]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},t.prototype.destroy=function(){this.ticking&&s.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function c(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof i.Texture){var o=t._textures[r].baseTexture;-1===e.indexOf(o)&&(e.push(o),n=!0)}return n}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function f(t,e){if(t._texture&&t._texture instanceof i.Texture){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function h(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function p(t,e){if(e instanceof i.TextStyle){var n=e.toFontString();return i.TextMetrics.measureFont(n),!0}return!1}function d(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e){t.exports=function(t){var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(568);var r=n(26),i=n.n(r),o=n(27),a=n.n(o),s=n(49),u=n.n(s),c=n(58),l=n.n(c),f=document.querySelector("#warp-root");class h extends i.a.Component{constructor(t){super(t),this.el=document.createElement("div")}componentDidMount(){f.appendChild(this.el)}componentWillUnmount(){f.removeChild(this.el)}render(){return l.a.createPortal(this.props.children,this.el)}}h.propTypes={children:a.a.node};class p extends i.a.Component{render(){return!1===this.props.visible?null:i.a.createElement(h,null,i.a.createElement("div",{className:u()("ModalPopup",{"is-visible":!1!==this.props.visible}),onClick:this.props.onBackdropClick},i.a.createElement("div",{className:"ModalPopupのscroller"},i.a.createElement("div",{className:"ModalPopupのcontentsContainer"},i.a.createElement("div",{className:"ModalPopupのcontents",onClick:t=>t.stopPropagation()},this.props.children)))))}}p.propTypes={visible:a.a.bool,onBackdropClick:a.a.func,children:a.a.node}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){return t===e}function o(t){var e=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,r=null;return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every((function(t,r){return e(t,n[r])}))||(r=t.apply(void 0,o)),n=o,r}}function a(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}function s(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var s=0,u=i.pop(),c=a(i),l=t.apply(void 0,[function(){return s++,u.apply(void 0,arguments)}].concat(n)),f=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a=c.map((function(n){return n.apply(void 0,[t,e].concat(i))}));return l.apply(void 0,r(a))};return f.resultFunc=u,f.recomputations=function(){return s},f.resetRecomputations=function(){return s=0},f}}e.__esModule=!0,e.defaultMemoize=o,e.createSelectorCreator=s,e.createStructuredSelector=function(t){var e=arguments.length<=1||void 0===arguments[1]?u:arguments[1];if("object"!=typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map((function(e){return t[e]})),(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((function(t,e,r){return t[n[r]]=e,t}),{})}))};var u=e.createSelector=s(o)},function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"j",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d}));var r=n(84),i=n.n(r);const o=()=>({status:"loading"}),a=t=>({status:"completed",value:t}),s=t=>"loading"===t.status,u=t=>"completed"===t.status,c=t=>"error"===t.status,l=t=>t.value,f=t=>c(t)&&t.error,h=t=>o(),p=t=>i()({status:"completed",value:()=>t}),d=t=>i()({status:"error",error:()=>t})},,,,function(t,e,n){"use strict";var r=n(564),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=o?o.toStringTag:void 0;var l=function(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var i=u.call(t);return r&&(e?t[c]=n:delete t[c]),i},f=Object.prototype.toString;var h=function(t){return f.call(t)},p=o?o.toStringTag:void 0;var d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":p&&p in Object(t)?l(t):h(t)};var v=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object);var y=function(t){return null!=t&&"object"==typeof t},m=Function.prototype,g=Object.prototype,b=m.toString,_=g.hasOwnProperty,w=b.call(Object);e.a=function(t){if(!y(t)||"[object Object]"!=d(t))return!1;var e=v(t);if(null===e)return!0;var n=_.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==w}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(886);Object.defineProperty(e,"createIO",{enumerable:!0,get:function(){return r.createIO}});var i=n(889);Object.defineProperty(e,"createRun",{enumerable:!0,get:function(){return i.createRun}})},function(t,e,n){var r=n(356);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(114);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"enableTestMode",(function(){return o})),n.d(e,"setGameLifecycleHandler",(function(){return a})),n.d(e,"isTestModeEnabled",(function(){return s})),n.d(e,"pauseAt",(function(){return u})),n.d(e,"unpause",(function(){return c})),n.d(e,"getScore",(function(){return l}));let r=!1,i={pauseAt(t){throw new Error("Cannot pause: No lifecycle handler registered!")},unpause(){throw new Error("Cannot unpause: No lifecycle handler registered!")},getScore(){throw new Error("Cannot get score: No lifecycle handler registered!")}};function o(){if(!r){r=!0,console.log("[Bemuse test mode enabled]");const t=document.createElement("div");t.setAttribute("style","\n        position: fixed;\n        top: 20px;\n        left: 20px;\n        font: 20px Comic Sans MS, sans-serif;\n        z-index: 99999;\n        background: rgba(0,0,0,0.5);\n        color: #0f0;\n        border: 2px solid #0f0;\n        padding: 4px;\n        pointer-events: none;\n      "),t.innerHTML="\n      <strong>Test mode:</strong>\n      Bemuse is being controlled by automated test software.\n    ",document.body.appendChild(t)}}function a(t){console.log("[Bemuse test mode] A pause handler has been registered."),i=t}function s(){return!!r}function u(t){return i.pauseAt(t)}function c(){return i.unpause()}function l(){return i.getScore()}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReaderOptionsFromFilename=e.readAsync=e.read=void 0;var r=n(589);e.read=function(t){throw new Error("Synchronous read unsupported in browser!")},e.readAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1],o=t[2];o?(i=t[1],o=t[2]):(i=null,o=t[1]);var a=i&&i.forceEncoding||r.detect(n),s=new FileReader;s.onload=function(){o(null,s.result)},s.onerror=function(){o(new Error("cannot read it"))},s.readAsText(new Blob([n]),a)};var i=n(250);Object.defineProperty(e,"getReaderOptionsFromFilename",{enumerable:!0,get:function(){return i.getReaderOptionsFromFilename}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReaderOptionsFromFilename=void 0,e.getReaderOptionsFromFilename=function(t){var e;return t.match(/\.sjis\.\w+$/i)&&(e="Shift-JIS"),t.match(/\.euc_kr\.\w+$/i)&&(e="EUC-KR"),t.match(/\.utf8\.\w+$/i)&&(e="UTF-8"),{forceEncoding:e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;var r=n(151),i=n(40),o={bms:{random:/^#RANDOM\s+(\d+)$/i,if:/^#IF\s+(\d+)$/i,endif:/^#ENDIF$/i,timeSignature:/^#(\d\d\d)02:(\S*)$/,channel:/^#(?:EXT\s+#)?(\d\d\d)(\S\S):(\S*)$/,header:/^#(\w+)(?:\s+(\S.*))?$/},dtx:{random:/^#RANDOM\s+(\d+)$/i,if:/^#IF\s+(\d+)$/i,endif:/^#ENDIF$/i,timeSignature:/^#(\d\d\d)02:\s*(\S*)$/,channel:/^#(?:EXT\s+#)?(\d\d\d)(\S\S):\s*(\S*)$/,header:/^#(\w+):(?:\s+(\S.*))?$/}};e.compile=function(t,e){e=e||{};var n=new i.BMSChart,a=e.rng||function(t){return 1+Math.floor(Math.random()*t)},s=e.format&&o[e.format]||o.bms,u=[],c=[!1],l={headerSentences:0,channelSentences:0,controlSentences:0,skippedSentences:0,malformedSentences:0,chart:n,warnings:[]};return function(t,e){t.split(/\r\n|\r|\n/).map((function(t){return t.trim()})).forEach((function(t,n){e(t,n+1)}))}(t,(function(t,e){var i=!0;if("#"===t.charAt(0)&&((0,r.match)(t).when(s.random,(function(t){l.controlSentences+=1,u.push(a(+t[1]))})).when(s.if,(function(t){l.controlSentences+=1,c.push(u[u.length-1]!==+t[1])})).when(s.endif,(function(t){l.controlSentences+=1,c.pop()})).else((function(){i=!1})),!i)){var o=c[c.length-1];(0,r.match)(t).when(s.timeSignature,(function(t){l.channelSentences+=1,o||n.timeSignatures.set(+t[1],+t[2])})).when(s.channel,(function(t){l.channelSentences+=1,o||function(t,e,r,i){var o=Math.floor(r.length/2);if(0===o)return;for(var a=0;a<o;a++){var s=r.substr(2*a,2),u=a/o;"00"!==s&&n.objects.add({measure:t,fraction:u,value:s,channel:e,lineNumber:i})}}(+t[1],t[2],t[3],e)})).when(s.header,(function(t){l.headerSentences+=1,o||n.headers.set(t[1],t[2])})).else((function(){!function(t,e){l.warnings.push({lineNumber:t,message:e})}(e,"Invalid command")}))}})),l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Segment=void 0;var i=r(n(240));e.Segment=(0,i.default)({t:"number",x:"number",dx:"number"})},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Notes=void 0;var s=n(255),u=a(n(56)),c=o(n(256)),l=n(40),f=function(){function t(t){t.forEach(s.Note),this._notes=t}return t.prototype.count=function(){return this._notes.length},t.prototype.all=function(){return this._notes.slice()},t.fromBMSChart=function(e,n){l.BMSChart;var r=(n=n||{}).mapping||t.CHANNEL_MAPPING.IIDX_P1;return new h(e,{mapping:r}).build()},t.CHANNEL_MAPPING=c,t}();e.Notes=f;var h=function(){function t(t,e){this._chart=t,(0,u.default)(e.mapping,"Expected options.mapping"),(0,u.default)("object"==typeof e.mapping,"options.mapping must be object"),this._mapping=e.mapping,this._notes=[],this._activeLN={},this._lastNote={},this._lnObj=(this._chart.headers.get("lnobj")||"").toLowerCase(),this._channelMapping=this._mapping,this._objects=this._chart.objects.allSorted()}return t.prototype.build=function(){var t=this;return this._objects.forEach((function(e){t._handle(e)})),new f(this._notes)},t.prototype._handle=function(t){if("01"===t.channel)this._handleNormalNote(t);else switch(t.channel.charAt(0)){case"1":case"2":this._handleNormalNote(t);break;case"5":case"6":this._handleLongNote(t)}},t.prototype._handleNormalNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(t.value.toLowerCase()===this._lnObj)this._lastNote[e]&&(this._lastNote[e].endBeat=n);else{var r={beat:n,endBeat:void 0,keysound:t.value,column:this._getColumn(e)};this._lastNote[e]=r,this._notes.push(r)}},t.prototype._handleLongNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(this._activeLN[e]){var r=this._activeLN[e];r.endBeat=n,this._notes.push(r),delete this._activeLN[e]}else this._activeLN[e]={beat:n,keysound:t.value,column:this._getColumn(e)}},t.prototype._getBeat=function(t){return this._chart.measureToBeat(t.measure,t.fraction)},t.prototype._getColumn=function(t){return this._channelMapping[t]},t.prototype._normalizeChannel=function(t){return t.replace(/^5/,"1").replace(/^6/,"2")},t}()},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;var i=r(n(240));e.Note=(0,i.default)({beat:"number",endBeat:i.default.maybe("number"),column:i.default.maybe("string"),keysound:"string"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IIDX_P1=void 0,e.IIDX_P1={11:"1",12:"2",13:"3",14:"4",15:"5",18:"6",19:"7",16:"SC"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timing=void 0;var r=n(70),i=n(95),o=n(40),a={bpm:1,stop:2},s=function(){function t(t,e){var n={bpm:t,beat:0,seconds:0},o=[];o.push({t:0,x:0,dx:n.bpm/60,bpm:n.bpm,inclusive:!0}),(e=e.slice()).sort((function(t,e){return t.beat-e.beat||a[t.type]-a[e.type]})),e.forEach((function(t){var e=t.beat,r=n.seconds+60*(e-n.beat)/n.bpm;switch(t.type){case"bpm":n.bpm=t.bpm,o.push({t:r,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!0});break;case"stop":o.push({t:r,x:e,dx:0,bpm:n.bpm,inclusive:!0}),r+=60*(t.stopBeats||0)/n.bpm,o.push({t:r,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!1});break;default:throw new Error("Unrecognized segment object!")}n.beat=e,n.seconds=r})),this._speedcore=new r.Speedcore(o),this._eventBeats=(0,i.uniq)((0,i.map)(e,(function(t){return t.beat})))}return t.prototype.beatToSeconds=function(t){return this._speedcore.t(t)},t.prototype.secondsToBeat=function(t){return this._speedcore.x(t)},t.prototype.bpmAtBeat=function(t){return this._speedcore.segmentAtX(t).bpm},t.prototype.getEventBeats=function(){return this._eventBeats},t.fromBMSChart=function(e){o.BMSChart;var n=[];return e.objects.all().forEach((function(t){var r,i=e.measureToBeat(t.measure,t.fraction);if("03"===t.channel)r=parseInt(t.value,16),n.push({type:"bpm",beat:i,bpm:r});else if("08"===t.channel)r=+e.headers.get("bpm"+t.value),isNaN(r)||n.push({type:"bpm",beat:i,bpm:r});else if("09"===t.channel){var o=+e.headers.get("stop"+t.value)/48;n.push({type:"stop",beat:i,stopBeats:o})}})),new t(+e.headers.get("bpm")||60,n)},t}();e.Timing=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SongInfo=void 0;var r=n(151),i=n(95),o=n(40),a=function(){function t(t){this.title="NO TITLE",this.artist="NO ARTIST",this.genre="NO GENRE",this.subtitles=[],this.subartists=[],this.difficulty=0,this.level=0,t&&(0,i.assign)(this,t)}return t.fromBMSChart=function(e){o.BMSChart;var n={},i=e.headers.get("title"),a=e.headers.get("artist"),s=e.headers.get("genre"),u=+e.headers.get("difficulty")||0,c=+e.headers.get("playlevel")||0,l=e.headers.getAll("subtitle"),f=e.headers.getAll("subartist");if("string"==typeof i&&!l){var h=function(t){i=t[1],l=[t[2]]};(0,r.match)(i).when(/^(.*\S)\s*-(.+?)-$/,h).when(/^(.*\S)\s*～(.+?)～$/,h).when(/^(.*\S)\s*\((.+?)\)$/,h).when(/^(.*\S)\s*\[(.+?)\]$/,h).when(/^(.*\S)\s*<(.+?)>$/,h)}return i&&(n.title=i),a&&(n.artist=a),s&&(n.genre=s),l&&(n.subtitles=l),f&&(n.subartists=f),u&&(n.difficulty=u),c&&(n.level=c),new t(n)},t}();e.SongInfo=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Keysounds=void 0;var r=n(95),i=n(40),o=function(){function t(t){this._map=t}return t.prototype.get=function(t){return this._map[t.toLowerCase()]},t.prototype.files=function(){return(0,r.uniq)((0,r.values)(this._map))},t.prototype.all=function(){return this._map},t.fromBMSChart=function(e){i.BMSChart;var n={};return e.headers.each((function(t,e){var r=t.match(/^wav(\S\S)$/i);r&&(n[r[1].toLowerCase()]=e)})),new t(n)},t}();e.Keysounds=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Positioning=void 0;var r=n(70),i=n(40),o=function(){function t(t){this._speedcore=new r.Speedcore(t)}return t.prototype.speed=function(t){return this._speedcore.dx(t)},t.prototype.position=function(t){return this._speedcore.x(t)},t.fromBMSChart=function(e){i.BMSChart;var n=[],r=0;return n.push({t:0,x:r,dx:1,inclusive:!0}),e.objects.allSorted().forEach((function(t){if("SC"===t.channel){var i=e.measureToBeat(t.measure,t.fraction),o=+e.headers.get("scroll"+t.value);if(isNaN(o))return;var a=n[n.length-1];r+=(i-a.t)*a.dx,0===i&&1===n.length?n[0].dx=o:n.push({t:i,x:r,dx:o,inclusive:!0})}})),new t(n)},t}();e.Positioning=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Spacing=void 0;var r=n(70),i=n(40),o=function(){function t(t){t.length>0&&(this._speedcore=new r.Speedcore(t))}return t.prototype.factor=function(t){return this._speedcore?this._speedcore.x(t):1},t.fromBMSChart=function(e){i.BMSChart;var n=[];return e.objects.allSorted().forEach((function(t){if("SP"===t.channel){var r=e.measureToBeat(t.measure,t.fraction),i=+e.headers.get("speed"+t.value);if(isNaN(i))return;if(n.length>0){var o=n[n.length-1];o.dx=(i-o.x)/(r-o.t)}n.push({t:r,x:i,dx:0,inclusive:!0})}})),n.length>0&&n.unshift({t:0,x:n[0].x,dx:0,inclusive:!0}),new t(n)},t}();e.Spacing=o},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Notechart=void 0;var o=i(n(206)),a=i(n(56)),s=function(){function t(t,e){var n=this;void 0===e&&(e={});var r=t.notes,i=t.timing,o=t.keysounds,s=t.songInfo,u=t.positioning,c=t.spacing,l=t.barLines,f=t.images,h=t.expertJudgmentWindow;(0,a.default)(r,'Expected "data.notes"'),(0,a.default)(i,'Expected "data.timing"'),(0,a.default)(o,'Expected "data.keysounds"'),(0,a.default)(s,'Expected "data.songInfo"'),(0,a.default)(u,'Expected "data.positioning"'),(0,a.default)(c,'Expected "data.spacing"'),(0,a.default)(l,'Expected "data.barLines"'),this.expertJudgmentWindow=h,r=this._preTransform(r,e),this._timing=i,this._positioning=u,this._spacing=c,this._keysounds=o,this._duration=0,this._notes=this._generatePlayableNotesFromBMS(r),this._autos=this._generateAutoKeysoundEventsFromBMS(r),this._barLines=this._generateBarLineEvents(l),this._samples=this._generateKeysoundFiles(o),this._infos=new Map(this._notes.map((function(t){return[t,n._getNoteInfo(t)]}))),this._songInfo=s,this._images=f}return Object.defineProperty(t.prototype,"notes",{get:function(){return this._notes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autos",{get:function(){return this._autos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"samples",{get:function(){return this._samples},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysounds",{get:function(){return this._keysounds.all()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"barLines",{get:function(){return this._barLines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return["SC","1","2","3","4","5","6","7"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"songInfo",{get:function(){return this._songInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eyecatchImage",{get:function(){return this._images&&this._images.eyecatch||"eyecatch_image.png"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this._images&&this._images.background||"back_image.png"},enumerable:!1,configurable:!0}),t.prototype.info=function(t){return this._infos.get(t)},t.prototype.beatToSeconds=function(t){return this._timing.beatToSeconds(t)},t.prototype.beatToPosition=function(t){return this._positioning.position(t)},t.prototype.secondsToBeat=function(t){return this._timing.secondsToBeat(t)},t.prototype.secondsToPosition=function(t){return this.beatToPosition(this.secondsToBeat(t))},t.prototype.bpmAtBeat=function(t){return this._timing.bpmAtBeat(t)},t.prototype.scrollSpeedAtBeat=function(t){return this._positioning.speed(t)},t.prototype.spacingAtBeat=function(t){return this._spacing.factor(t)},t.prototype.getKeyMode=function(t){var e,n,i={};try{for(var o=r(this.notes),a=o.next();!a.done;a=o.next()){i[a.value.column]=!0}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return("off"!==t||i[1]||i[7])&&("left"!==t||i[6]||i[7])&&("right"!==t||i[1]||i[2])?"7K":"5K"},t.prototype._preTransform=function(t,e){var n=o.default.chain(t),i=function(t){var e,n;try{for(var i=r(t),o=i.next();!o.done;o=i.next()){var a=o.value;if("6"===a.column||"7"===a.column)return"7K"}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return"5K"}(t);if("off"===e.scratch&&(n=n.map((function(t){return t.column&&"SC"===t.column?Object.assign({},t,{column:null}):t}))),"5K"===i){var s=["1","2","3","4","5","6","7"],u=function(t){return function(e){if(e.column){var n=s.indexOf(e.column);if(n>-1){var r=n+t;(0,a.default)(r<s.length,"Weird. Columns must not shift beyond available column");var i=s[r];return Object.assign({},e,{column:i})}}return e}};"off"===e.scratch?n=n.map(u(1)):"right"===e.scratch&&(n=n.map(u(2)))}return n.value()},t.prototype._generatePlayableNotesFromBMS=function(t){var e=this,n=1;return t.filter((function(t){return t.column})).map((function(t){var r=e._generateEvent(t.beat);return r.id=n++,r.column=t.column,r.keysound=t.keysound,r.keysoundStart=t.keysoundStart,r.keysoundEnd=t.keysoundEnd,e._updateDuration(r),void 0!==t.endBeat?(r.end=e._generateEvent(t.endBeat),e._updateDuration(r.end)):r.end=void 0,r}))},t.prototype._updateDuration=function(t){t.time>this._duration&&(this._duration=t.time)},t.prototype._generateAutoKeysoundEventsFromBMS=function(t){var e=this;return t.filter((function(t){return!t.column})).map((function(t){var n=e._generateEvent(t.beat);return n.keysound=t.keysound,n.keysoundStart=t.keysoundStart,n.keysoundEnd=t.keysoundEnd,n}))},t.prototype._generateKeysoundFiles=function(t){var e,n,i,o,a=new Set;try{for(var s=r([this.notes,this.autos]),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var l=(i=void 0,r(c)),f=l.next();!f.done;f=l.next()){var h=f.value,p=t.get(h.keysound);p&&a.add(p)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return Array.from(a)},t.prototype._generateBarLineEvents=function(t){var e=this;return t.map((function(t){return e._generateEvent(t)}))},t.prototype._generateEvent=function(t){return{beat:t,time:this.beatToSeconds(t),position:this.beatToPosition(t)}},t.prototype._getNoteInfo=function(t){return{combos:t.end?2:1}},t}();e.Notechart=s,e.default=s},,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n(242),i=n(358),o="@@redux/INIT";function a(t,e,n){var s;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var u=t,c=e,l=[],f=l,h=!1;function p(){f===l&&(f=l.slice())}function d(){return c}function v(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return p(),f.push(t),function(){if(e){e=!1,p();var n=f.indexOf(t);f.splice(n,1)}}}function y(t){if(!Object(r.a)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=u(c,t)}finally{h=!1}for(var e=l=f,n=0;n<e.length;n++){(0,e[n])()}return t}return y({type:o}),(s={dispatch:y,subscribe:v,getState:d,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,y({type:o})}})[i.a]=function(){var t,e=v;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[i.a]=function(){return this},t},s}function s(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"==typeof t[i]&&(n[i]=t[i])}var a=Object.keys(n);var u=void 0;try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:o}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){u=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(u)throw u;for(var r=!1,i={},o=0;o<a.length;o++){var c=a[o],l=n[c],f=t[c],h=l(f,e);if(void 0===h){var p=s(c,e);throw new Error(p)}i[c]=h,r=r||h!==f}return r?i:t}}function c(t,e){return function(){return e(t.apply(void 0,arguments))}}function l(t,e){if("function"==typeof t)return c(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"==typeof a&&(r[o]=c(a,e))}return r}Object.assign},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return v}));var r=n(93);class i{constructor(){this.buffer=[],this.loggingFunction=t=>{this.buffer&&this.buffer.push(t)},this.log=t=>{this.loggingFunction(t)},this.setLoggingFunction=t=>{this.loggingFunction=t,this.buffer&&(this.buffer.forEach(e=>t(e)),this.buffer=null)}}}var o=n(528),a=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};o.a.init({workerUrl:"/vendor/libarchive.js-1.3.0/dist/worker-bundle.js"});var s=n(100),u=n(141),c=n(94),l=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};const f=/\.(?:zip|rar|7z|tar(?:\.(?:gz|bz2))?)/i,h=/https?:\/\/(?:(?:www|dl)\.dropbox\.com|dl\.dropboxusercontent\.com)\/(sh?)\/([^?]*)(.*)?$/;class p{constructor(t){this._logging=new i,this.setLoggingFunction=this._logging.setLoggingFunction,this._files=Promise.resolve(t.getFiles(this._logging.log)).then(t=>function(t,e){return l(this,void 0,void 0,(function*(){if(1!==t.length)return t;const n=t[0];return n.name.match(f)?(e("Archive file detected! Now unarchiving…"),function(t){return a(this,void 0,void 0,(function*(){const e=[],n=yield o.a.open(t),r=yield n.extractFiles(),i=t=>{for(const n of Object.keys(t))t[n]instanceof File?e.push({name:n,file:t[n]}):t[n]&&"object"==typeof t[n]&&i(t[n])};return i(r),e}))}(n.file)):t}))}(t,this._logging.log))}file(t){return this._files.then((function(e){for(let n of e)if(n.name.toLowerCase()===t.toLowerCase())return new d(n.file);throw new Error("unable to find "+t)}))}get fileList(){return Promise.resolve(this._files).map(t=>t.name)}}class d{constructor(t){this._file=t}read(t){return r.a(t,Object(s.a)(this._file).as("arraybuffer"))}resolveUrl(){return Promise.resolve(URL.createObjectURL(this._file))}get name(){return this._file.name}}function v(t,e){return l(this,void 0,void 0,(function*(){const n=t.replace(/[?#].*/,"").split("/").pop(),r=t.match(h);r&&(t=`https://dl.dropboxusercontent.com/${r[1]}/${r[2]}`);const i=new u.a;let o=0;i.watch(()=>{Date.now()<o+5e3||(e("Downloading: "+i),o=Date.now())});return{name:n,file:yield Object(c.a)(t).as("blob",i)}}))}},,function(t,e,n){"use strict";function r(t){return{info:i(t,"info"),warn:i(t,"warn"),error:i(t,"error")}}function i(t,e){return(...r)=>{console.log(`[${(new Date).toJSON()}] [${t}] [${e}] ${n(102).format(...r)}`)}}n.r(e),n.d(e,"forModule",(function(){return r}))},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&m(t,"error",e,n)}(t,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,a,s;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):y(i,i.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=y(u,c);for(n=0;n<c;++n)o(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=n(32),i=n.n(r),o=n(200);e.a=function(t){return i()(t).filter(o.a).orderBy([t=>t.info.difficulty>=5?1:0,t=>t.keys,t=>t.info.level]).value()}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(42),i=n(575),o=n(577),a=n(578),s=n(579),u=n(285);t.exports=function(t){return new Promise((function(e,c){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",d=t.auth.password||"";f.Authorization="Basic "+btoa(p+":"+d)}if(h.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};i(e,c,r),h=null}},h.onerror=function(){c(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n(580),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in h&&r.forEach(f,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:h.setRequestHeader(e,t)})),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),c(t),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(t,e,n){"use strict";var r=n(576);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function v(t){throw new RangeError(h[t])}function y(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function m(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+y((t=t.replace(f,".")).split("."),e).join(".")}function g(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function b(t){return y(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?p(t/700):t>>1,t+=p(t/e);t>455;r+=36)t=p(t/35);return p(r+36*t/(t+38))}function x(t){var e,n,r,i,o,a,s,c,l,f,h,d=[],y=t.length,m=0,g=128,_=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&v("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=m,a=1,s=36;i>=y&&v("invalid-input"),((c=(h=t.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>p((u-m)/a))&&v("overflow"),m+=c*a,!(c<(l=s<=_?1:s>=_+26?26:s-_));s+=36)a>p(u/(f=36-l))&&v("overflow"),a*=f;_=w(m-o,e=d.length+1,0==o),p(m/e)>u-g&&v("overflow"),g+=p(m/e),m%=e,d.splice(m++,0,g)}return b(d)}function E(t){var e,n,r,i,o,a,s,c,l,f,h,y,m,b,x,E=[];for(y=(t=g(t)).length,e=128,n=0,o=72,a=0;a<y;++a)(h=t[a])<128&&E.push(d(h));for(r=i=E.length,i&&E.push("-");r<y;){for(s=u,a=0;a<y;++a)(h=t[a])>=e&&h<s&&(s=h);for(s-e>p((u-n)/(m=r+1))&&v("overflow"),n+=(s-e)*m,e=s,a=0;a<y;++a)if((h=t[a])<e&&++n>u&&v("overflow"),h==e){for(c=n,l=36;!(c<(f=l<=o?1:l>=o+26?26:l-o));l+=36)x=c-f,b=36-f,E.push(d(_(f+x%b,0))),c=p(x/b);E.push(d(_(c,0))),o=w(n,m,r==i),n=0,++r}++n,++e}return E.join("")}s={version:"1.4.1",ucs2:{decode:g,encode:b},decode:x,encode:E,toASCII:function(t){return m(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return m(t,(function(t){return c.test(t)?x(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(66)(t),n(33))},,function(t,e,n){"use strict";e.a=class{constructor(t,e,n){this.notechart=t,this.number=e,this.options={autosound:!!n.autosound,speed:+n.speed,placement:n.placement||"center",scratch:n.scratch||"left",input:n.input,laneCover:+(n.laneCover||0),gauge:n.gauge,tutorial:!!n.tutorial}}get columns(){return this.notechart.columns}}},function(t,e,n){"use strict";var r=n(65),i=n(32),o=n.n(i);const a=t=>Math.floor(5e5*t),s=(t,e)=>Math.floor(55555*t/e);e.a=class{constructor(t){this.totalCombo=o()(t.notes).map(e=>t.info(e).combos).sum(),this.totalNotes=t.notes.length,this.combo=0,this.maxCombo=0,this.rawSumJudgmentWeight=0,this.rawTotalComboScore=this._calculateRawTotalComboScore(this.totalCombo),this._remainingMaxPossibleRawComboScore=this.rawTotalComboScore,this.rawSumComboScore=0,this.counts={[r.b]:0,1:0,2:0,3:0,4:0},this.numJudgments=0,this.poor=!1,this._log=[],this.deltas=[]}get score(){return this.accuracyScore+this.comboScore}get accuracyScore(){return a(this.accuracy)}get comboScore(){return s(this.rawSumComboScore,this.rawTotalComboScore)}get maxPossibleScore(){return this.maxPossibleAccuracyScore+this.maxPossibleComboScore}get maxPossibleAccuracyScore(){const t=this.totalCombo-this.numJudgments,e=(this.rawSumJudgmentWeight+r.i(1)*t)/(r.i(1)*this.totalCombo);return a(e)}get maxPossibleComboScore(){const t=this.rawSumComboScore+this._remainingMaxPossibleRawComboScore;return s(t,this.rawTotalComboScore)}get accuracy(){return this.rawSumJudgmentWeight/(r.i(1)*this.totalCombo)}get currentAccuracy(){return this.rawSumJudgmentWeight/(r.i(1)*this.numJudgments||1)}get log(){return this._log.map(({character:t,count:e})=>`${e>1?e:""}${t}`).join("")}handleJudgment(t){if(this.counts[t]+=1,this.numJudgments+=1,r.c(t)){const t=this.totalCombo-this.numJudgments;this.combo=0,this.poor=!0,this._remainingMaxPossibleRawComboScore=this._calculateRawTotalComboScore(t)}else{this.combo+=1;const t=this._calculateRawComboScore(this.combo);this.rawSumComboScore+=t,this._remainingMaxPossibleRawComboScore-=t,this.poor=!1}this.rawSumJudgmentWeight+=r.i(t),this.combo>this.maxCombo&&(this.maxCombo=this.combo),this._recordLog(t)}handleDelta(t){this.deltas.push(t)}_calculateRawTotalComboScore(t){let e=0;for(let n=1;n<=t;n++)e+=this._calculateRawComboScore(n);return e}_calculateRawComboScore(t){return 0===t?0:t<23?1:t<51?2:t<92?3:t<161?4:5}_recordLog(t){let e=this._getLogCharacter(t);e&&(0===this._log.length||this._log[this._log.length-1].character!==e?this._log.push({character:e,count:1}):this._log[this._log.length-1].count+=1)}_getLogCharacter(t){switch(t){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";case r.b:return"M"}}}},function(t,e,n){"use strict";var r=n(32),i=n.n(r);function o(t,e,n){return 1-(n-t)/(e-t)}function a(t){return t.position}e.a=class{constructor(t,e){this._notes=i.a.sortBy(t,a),this._barLines=i()(e).map("position").sortBy().value()}getVisibleNotes(t,e,n){let r=[],i=this._notes;n||(n=0);for(let a=0;a<i.length;a++){let s=i[a];if(s.end?!(s.position>e||s.end.position<t-n):!(s.position>e||s.position<t-n)){let n={note:s};if(s.end){let r=o(t,e,s.position),i=o(t,e,s.end.position);n.y=Math.min(r,i),n.height=Math.abs(r-i)}else n.y=o(t,e,s.position);r.push(n)}}return r}getVisibleBarLines(t,e,n){return n||(n=0),this._barLines.filter(r=>t-n<=r&&r<=e).map(n=>({id:n,y:o(t,e,n)}))}}},function(t,e,n){"use strict";function r(t){return"hope"===t?function(){let t,e,n;return{update(r){const i=r.stats,o=i.numJudgments/i.totalCombo,a=(t,e,n)=>{const r=e+(n-e)*o,a=i.maxPossibleScore;return Math.max(0,(a-t)/(r-t))},s=.5*a(5e5,555555,51e4);if(t=Math.min(1,s),n=Math.max(0,Math.min(1,s-1)),s>0)e=0;else{const t=a(45e4,5e5,5e5);e=t}},shouldDisplay:()=>t>0||e>0,getPrimary:()=>t,getSecondary:()=>e,getExtra:()=>n}}():{update(){},shouldDisplay:()=>!1,getPrimary:()=>0,getSecondary:()=>0,getExtra:()=>0}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a=function(t){let e=Math.floor(t%60);return Math.floor(t/60)+":"+(e<10?"0":"")+e}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this._x=r,this._y=o,this.cb=e,this.scope=n}return t.prototype.clone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e||this.cb,i=n||this.scope;return new t(r,i,this._x,this._y)},t.prototype.set=function(t,e){var n=t||0,r=e||(0!==e?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},r(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(220),o=(r=i)&&r.__esModule?r:{default:r};var a=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],f=[];function h(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];f.push(e);for(var n=0;n<16;n++)for(var r=h(a[t]*a[n]+u[t]*s[n]),i=h(s[t]*a[n]+c[t]*s[n]),p=h(a[t]*u[n]+u[t]*c[n]),d=h(s[t]*u[n]+c[t]*c[n]),v=0;v<16;v++)if(a[v]===r&&s[v]===i&&u[v]===p&&c[v]===d){e.push(v);break}}for(var y=0;y<16;y++){var m=new o.default;m.set(a[y],s[y],u[y],c[y],0,0),l.push(m)}}();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return a[t]},uY:function(t){return s[t]},vX:function(t){return u[t]},vY:function(t){return c[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return f[t][e]},sub:function(t,e){return f[t][p.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?p.S:p.N:2*Math.abs(e)<=Math.abs(t)?t>0?p.E:p.W:e>0?t>0?p.SE:p.SW:t>0?p.NE:p.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[p.inv(e)];i.tx=n,i.ty=r,t.append(i)}};e.default=p},function(t,e){t.exports=function(t,e,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<e.length;r++)i[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var a=e[r];t.enableVertexAttribArray(a.attribute.location)}}},function(t,e){var n=function(t,e,n,r,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=r||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=r};var r=!1;n.prototype.uploadData=function(t,e,n){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!r){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},t.exports=n},function(t,e){var n=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};t.exports=function(t,e,r,i){var o=n(t,t.VERTEX_SHADER,e),a=n(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s}},function(t,e,n){var r=n(222),i=n(301),o=function(t,e,n,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,r||0)};t.exports=function(t,e){for(var n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var u=t.getActiveAttrib(e,s),c=r(t,u.type);n[u.name]={type:c,size:i(c),location:t.getAttribLocation(e,u.name),pointer:o}}return n}},function(t,e){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return n[t]}},function(t,e,n){var r=n(222),i=n(303);t.exports=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\[.*?\]/,""),c=r(t,s.type);n[u]={type:c,size:s.size,location:t.getUniformLocation(e,u),value:i(c,s.size)}}return n}},function(t,e){var n=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return n(2*e);case"bvec3":return n(3*e);case"bvec4":return n(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var n=function(t){return function(){return this.data[t].value}},r={float:function(t,e,n){t.uniform1f(e,n)},vec2:function(t,e,n){t.uniform2f(e,n[0],n[1])},vec3:function(t,e,n){t.uniform3f(e,n[0],n[1],n[2])},vec4:function(t,e,n){t.uniform4f(e,n[0],n[1],n[2],n[3])},int:function(t,e,n){t.uniform1i(e,n)},ivec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},ivec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},ivec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},bool:function(t,e,n){t.uniform1i(e,n)},bvec2:function(t,e,n){t.uniform2i(e,n[0],n[1])},bvec3:function(t,e,n){t.uniform3i(e,n[0],n[1],n[2])},bvec4:function(t,e,n){t.uniform4i(e,n[0],n[1],n[2],n[3])},mat2:function(t,e,n){t.uniformMatrix2fv(e,!1,n)},mat3:function(t,e,n){t.uniformMatrix3fv(e,!1,n)},mat4:function(t,e,n){t.uniformMatrix4fv(e,!1,n)},sampler2D:function(t,e,n){t.uniform1i(e,n)}},i={float:function(t,e,n){t.uniform1fv(e,n)},vec2:function(t,e,n){t.uniform2fv(e,n)},vec3:function(t,e,n){t.uniform3fv(e,n)},vec4:function(t,e,n){t.uniform4fv(e,n)},int:function(t,e,n){t.uniform1iv(e,n)},ivec2:function(t,e,n){t.uniform2iv(e,n)},ivec3:function(t,e,n){t.uniform3iv(e,n)},ivec4:function(t,e,n){t.uniform4iv(e,n)},bool:function(t,e,n){t.uniform1iv(e,n)},bvec2:function(t,e,n){t.uniform2iv(e,n)},bvec3:function(t,e,n){t.uniform3iv(e,n)},bvec4:function(t,e,n){t.uniform4iv(e,n)},sampler2D:function(t,e,n){t.uniform1iv(e,n)}};function o(t,e){return function(n){this.data[t].value=n;var o=this.data[t].location;1===e.size?r[e.type](this.gl,o,n):i[e.type](this.gl,o,n)}}function a(t,e){for(var n=e,r=0;r<t.length-1;r++){var i=n[t[r]]||{data:{}};n[t[r]]=i,n=i}return n}t.exports=function(t,e){var r={data:{}};r.gl=t;for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s],c=u.split("."),l=c[c.length-1],f=a(c,r),h=e[u];f.data[l]=h,f.gl=t,Object.defineProperty(f,l,{get:n(l),set:o(l,h)})}return r}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(77)),o=n(29),a=f(n(36)),s=f(n(307)),u=f(n(308)),c=f(n(223)),l=n(38);function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),r=a.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?s.default:u.default;return n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new c.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=n,this.transform=e,r},e.prototype.toGlobal=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=h,h.prototype.displayObjectUpdateTransform=h.prototype.updateTransform},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(38),a=n(225);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.position=new o.ObservablePoint(n.onChange,n,0,0),n.scale=new o.ObservablePoint(n.onChange,n,1,1),n.pivot=new o.ObservablePoint(n.onChange,n,0,0),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(38),a=n(225);var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.position=new o.Point(0,0),n.scale=new o.Point(1,1),n.skew=new o.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new o.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,a||(a=document.createElement("a"));a.href=t;var n=!(t=o.default.parse(a.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!n||t.protocol!==e.protocol)return"anonymous";return""};var r,i=n(103),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(83)),o=n(31),a=n(229),s=n(29),u=c(n(309));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return i.width=n.videoWidth,i.height=n.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),n.addEventListener("play",i._onPlayStart.bind(i)),n.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(n.addEventListener("canplay",i._onCanPlay),n.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,n){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var r=o.BaseTextureCache[t._pixiId];return r||(r=new e(t,n),i.default.addToCache(r,t._pixiId)),r},e.fromUrl=function(t,n,r){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===r&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):r&&(i.crossOrigin="string"==typeof r?r:"anonymous"),Array.isArray(t))for(var a=0;a<t.length;++a)i.appendChild(f(t[a].src||t[a],t[a].mime));else i.appendChild(f(o,t.mime));return i.load(),e.fromVideo(i,n)},r(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function f(t,e){e||(e="video/"+(t=t.split("?").shift().toLowerCase()).substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}e.default=l,l.fromUrls=l.fromUrl},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(296),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var r=e.width,i=e.height;if(n){var a=t.width/2/r,s=t.height/2/i,u=t.x/r+a,c=t.y/i+s;n=o.default.add(n,o.default.NW),this.x0=u+a*o.default.uX(n),this.y0=c+s*o.default.uY(n),n=o.default.add(n,2),this.x1=u+a*o.default.uX(n),this.y1=c+s*o.default.uY(n),n=o.default.add(n,2),this.x2=u+a*o.default.uX(n),this.y2=c+s*o.default.uY(n),n=o.default.add(n,2),this.x3=u+a*o.default.uX(n),this.y3=c+s*o.default.uY(n)}else this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(31),o=n(38),a=n(29),s=f(n(36)),u=f(n(108)),c=f(n(230)),l=f(n(77));function f(t){return t&&t.__esModule?t:{default:t}}var h=new o.Matrix,p=function(t){function e(n,r,c,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(n),"number"==typeof r&&(r=Object.assign({width:r,height:c||s.default.RENDER_OPTIONS.height},l)),r=Object.assign({},s.default.RENDER_OPTIONS,r),f.options=r,f.type=a.RENDERER_TYPE.UNKNOWN,f.screen=new o.Rectangle(0,0,r.width,r.height),f.view=r.view||document.createElement("canvas"),f.resolution=r.resolution||s.default.RESOLUTION,f.transparent=r.transparent,f.autoResize=r.autoResize||!1,f.blendModes=null,f.preserveDrawingBuffer=r.preserveDrawingBuffer,f.clearBeforeRender=r.clearBeforeRender,f.roundPixels=r.roundPixels,f._backgroundColor=0,f._backgroundColorRgba=[0,0,0,0],f._backgroundColorString="#000000",f.backgroundColor=r.backgroundColor||f._backgroundColor,f._tempDisplayObjectParent=new u.default,f._lastObjectRendered=f._tempDisplayObjectParent,f}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,n,r){r=r||t.getLocalBounds();var i=c.default.create(0|r.width,0|r.height,e,n);return h.tx=-r.x,h.ty=-r.y,this.render(t,i,!1,h,!!t.parent),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=p},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(83)),i=o(n(36));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],u=arguments[3];a(this,e);var c=s(this,t.call(this,null,o));return c.resolution=u||i.default.RESOLUTION,c.width=Math.ceil(n),c.height=Math.ceil(r),c.realWidth=c.width*c.resolution,c.realHeight=c.height*c.resolution,c.scaleMode=void 0!==o?o:i.default.SCALE_MODE,c.hasLoaded=!0,c._glRenderTargets={},c._canvasRenderTarget=null,c.valid=!1,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(r.default);e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(36),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||a.default.RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=s},function(t,e,n){"use strict";function r(t){var e=document.createElement("canvas");e.width=6,e.height=1;var n=e.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=r("#ff00ff"),e=r("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var i=n.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(317)),i=n(38),o=(n(44),a(n(318)));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return n.renderable=!1,o.maskSprite=n,o.maskMatrix=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){var r=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(i.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,n))},e}(r.default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(745)),o=n(31),a=n(29),s=u(n(36));function u(t){return t&&t.__esModule?t:{default:t}}var c={},l=function(){function t(e,n,r){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=r||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=s.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},r(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(220),a=(r=o)&&r.__esModule?r:{default:r};var s=new a.default,u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(s.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(s));var o=e.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(e._frame.x+u+c)/o.width,a[1]=(e._frame.y+u+c)/o.height,a[2]=(e._frame.x+e._frame.width-u+c)/o.width,a[3]=(e._frame.y+e._frame.height-u+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(43)),i=o(n(232));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=r.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(29),o=n(31);var a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),f(this,e,e)}return t.prototype.clone=function(){var e={};return f(e,this,a),new t(e)},t.prototype.reset=function(){f(this,a,a)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&s.indexOf(r)<0&&(r='"'+r+'"'),e[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},r(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=l(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=l(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=l(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function c(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function l(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=c(t[e]);return t}return c(t)}function f(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=n,this.width=r,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=c}return t.measureText=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;r=null==r?n.wordWrap:r;var o=n.toFontString(),a=t.measureFont(o),s=i.getContext("2d");s.font=o;for(var u=r?t.wordWrap(e,n,i):e,c=u.split(/(?:\r\n|\r|\n)/),l=new Array(c.length),f=0,h=0;h<c.length;h++){var p=s.measureText(c[h]).width+(c[h].length-1)*n.letterSpacing;l[h]=p,f=Math.max(f,p)}var d=f+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var v=n.lineHeight||a.fontSize+n.strokeThickness,y=Math.max(v,a.fontSize+n.strokeThickness)+(c.length-1)*(v+n.leading);return n.dropShadow&&(y+=n.dropShadowDistance),new t(e,n,d,y,c,l,v+n.leading,f,a)},t.wordWrap=function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas,i=r.getContext("2d"),o=0,a="",s="",u={},c=n.letterSpacing,l=n.whiteSpace,f=t.collapseSpaces(l),h=t.collapseNewlines(l),p=!f,d=n.wordWrapWidth+c,v=t.tokenize(e),y=0;y<v.length;y++){var m=v[y];if(t.isNewline(m)){if(!h){s+=t.addLine(a),p=!f,a="",o=0;continue}m=" "}if(f){var g=t.isBreakingSpace(m),b=t.isBreakingSpace(a[a.length-1]);if(g&&b)continue}var _=t.getFromCache(m,c,u,i);if(_>d)if(""!==a&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(m,n.breakWords))for(var w=m.split(""),x=0;x<w.length;x++){for(var E=w[x],T=1;w[x+T];){var O=w[x+T],S=E[E.length-1];if(t.canBreakChars(S,O,m,x,n.breakWords))break;E+=O,T++}x+=E.length-1;var C=t.getFromCache(E,c,u,i);C+o>d&&(s+=t.addLine(a),p=!1,a="",o=0),a+=E,o+=C}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var A=y===v.length-1;s+=t.addLine(m,!A),p=!1,a="",o=0}else _+o>d&&(p=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(m)||p)&&(a+=m,o+=_)}return s+=t.addLine(a,!1)},t.addLine=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,r){var i=n[t];if(void 0===i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if("string"!=typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a,u).data,l=c.length,f=4*a,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(255!==c[p+v]){d=!0;break}if(d)break;p+=f}for(n.ascent=s-h,p=l-f,d=!1,h=u;h>s;--h){for(var y=0;y<f;y+=4)if(255!==c[p+y]){d=!0;break}if(d)break;p-=f}return n.descent=h-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();e.default=r;var i=document.createElement("canvas");i.width=i.height=10,r._canvas=i,r._context=i.getContext("2d"),r._fonts={},r.METRICS_STRING="|Éq",r.BASELINE_SYMBOL="M",r.BASELINE_MULTIPLIER=1.4,r._newlines=[10,13],r._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e,n,r,i,o,a,s,u,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.lineAlignment=c,this.nativeLines=s,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=a,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(324),o=c(n(108)),a=n(229),s=c(n(36)),u=n(29);function c(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n,r,u,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:n||s.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!c},r)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,e){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},r(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,n,a){var s=t&&t.forceCanvas;void 0!==a&&(s=a);if(!s&&r.isWebGLSupported())return new o.default(t,e,n);return new i.default(t,e,n)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(31)),i=a(n(109)),o=a(n(156));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,n){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var r=n(777);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return s(r).default}});var i=n(778);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return s(i).default}});var o=n(779);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return s(o).default}});var a=n(780);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return s(a).default}}),n(781),n(782),n(783)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=u(n(328)),a=u(n(329)),s=u(n(330));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var c=(0,o.default)(u,!0),l=(0,a.default)(u),f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,c,l));return f.resolution=s||i.settings.RESOLUTION,f._quality=0,f.quality=r||4,f.strength=n||8,f.firstRun=!0,f}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var c=t.getRenderTarget(!0),l=e,f=c,h=0;h<this.passes-1;h++){t.applyFilter(this,l,f,!0);var p=f;f=l,l=p}t.applyFilter(this,l,n,r),t.returnRenderTarget(c)}},r(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=Math.ceil(t/2),i=r,o="",a=void 0;a=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var u=a.replace("%index%",s);u=u.replace("%sampleIndex%",s-(n-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var r=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=r[t],n=e.length,o=i,a="",s=void 0,u=0;u<t;u++){var c="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);s=u,u>=n&&(s=t-u-1),c=c.replace("%value%",e[s]),a+=c,a+="\n"}return o=(o=o.replace("%blur%",a)).replace("%size%",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;for(;n>e;)n-=2;return n}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=u(n(328)),a=u(n(329)),s=u(n(330));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var c=(0,o.default)(u,!1),l=(0,a.default)(u),f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,c,l));return f.resolution=s||i.settings.RESOLUTION,f._quality=0,f.quality=r||4,f.strength=n||8,f.firstRun=!0,f}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,u=(0,s.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,a.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var c=t.getRenderTarget(!0),l=e,f=c,h=0;h<this.passes-1;h++){t.applyFilter(this,l,f,!0);var p=f;f=l,l=p}t.applyFilter(this,l,n,r),t.returnRenderTarget(c)}},r(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},r(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,n){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,n){"use strict";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===i.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var n=t.isDataUrl?"":r.dirname(t.url);t.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),(n=n.replace(this.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/");for(var o=t.data.getElementsByTagName("page"),s={},u=function(n){s[n.metadata.pageFile]=n.texture,Object.keys(s).length===o.length&&(a(t,s),e())},c=0;c<o.length;++c){var l=o[c].getAttribute("file"),f=n+l,h=!1;for(var p in this.resources){var d=this.resources[p];if(d.url===f){d.metadata.pageFile=l,d.texture?u(d):d.onAfterMiddleware.add(u),h=!0;break}}if(!h){var v={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(f,v,u)}}}else e();else e()}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(44)),i=n(112),o=n(326);function a(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=o,e.default=s,t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(i[n.q.name][e]=r)})),i}},function(t,e,n){"use strict";function r(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){e(t[i++],a)}),1):e(t[i++],a)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){n=0,o.drain=r,o.started=!1,o._tasks=[]},unshift:function(t,e){a(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),t(e.data,i(s(e)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function a(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout((function(){return o.drain()}),1);else{var i={data:t,callback:"function"==typeof n?n:r};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout((function(){return o.process()}),1)}}function s(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,n){"use strict";e.__esModule=!0,e.encodeBinary=function(t){var e="",n=0;for(;n<t.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<t.length?r[o]=255&t.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[a])}return e}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var n=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[n]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(n,o,r,(function(n){if(n.error)e(n.error);else{var r=new s.Spritesheet(n.texture.baseTexture,t.data,t.url);r.parse((function(){t.spritesheet=r,t.textures=r.textures,e()}))}}))}else e()}},e.getResourcePath=u;var r,i=n(112),o=n(103),a=(r=o)&&r.__esModule?r:{default:r},s=n(30);function u(t,e){return t.isDataUrl?t.data.meta.image:a.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=a.default.fromLoader(t.data,t.url,t.name)),e()}};var r,i=n(112),o=n(67),a=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(113),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return a._ready=!0,a.verticesX=r||10,a.verticesY=i||10,a.drawMode=o.default.DRAW_MODES.TRIANGLES,a.refresh(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,n=[],r=[],i=[],o=this.verticesX-1,a=this.verticesY-1,s=t.width/o,u=t.height/a,c=0;c<e;c++){var l=c%this.verticesX,f=c/this.verticesX|0;n.push(l*s,f*u),r.push(l/o,f/a)}for(var h=o*a,p=0;p<h;p++){var d=p%o,v=p/o|0,y=v*this.verticesX+d,m=v*this.verticesX+d+1,g=(v+1)*this.verticesX+d,b=(v+1)*this.verticesX+d+1;i.push(y,m,g),i.push(m,b,g)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=r},,function(t,e,n){var r=n(847);t.exports=function(t,e,n,i){if("number"==typeof t&&"number"==typeof e)return r(t,e,n);var o=Math.min(t.length,e.length);i=i||new Array(o);for(var a=0;a<o;a++)i[a]=r(t[a],e[a],n);return i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return v})),n.d(e,"d",(function(){return m}));var r=n(504),i=n.n(r),o=n(32),a=n.n(o),s=n(82),u=n.n(s);function c(t){return u.a.fromBinder(e=>{for(let n of t.inputs.values())e(new u.a.Next(n));for(let n of t.outputs.values())e(new u.a.Next(n));t.onstatechange=t=>{e(new u.a.Next(t.port))}})}function l(t){return"input"!==t.type?u.a.never():u.a.fromEvent(t,"midimessage")}var f=function(){return u.a.fromPromise(navigator.requestMIDIAccess?navigator.requestMIDIAccess():Promise.reject(new Error("MIDI is not supported"))).flatMap(c).flatMapError(t=>(console.warn("MIDI Error:",t.stack),u.a.never())).flatMap(l).doLog("messageforport")};class h{constructor(){this.stop=1,this.charge=0,this.previous=!1,this.active=!1,this.positive=!1}update(t,e=3){if(!1===this.previous)return this.previous=t,0;if(this.previous!==t){let n=t-this.previous;n>1?n-=2.005:n<-1&&(n+=2.005);let r=n>0;this.active&&this.positive!==r?(this.positive=r,this.active=!1,this.charge=0):this.active||((0===this.charge||this.stop<=e)&&(this.charge+=Math.ceil(Math.abs(n)/.01)),this.charge>=2&&(this.active=!0,this.positive=r)),this.stop=0,this.previous=t}return this.stop>2*e&&(this.active=!1,this.charge=0,this.stop=0),this.stop+=1,this.active?this.positive?1:-1:0}}class p{constructor(t=window,e={}){const n=(e.getMidi川||f)();this._window=t,this._exclusive=!!e.exclusive,this._continuousAxis=!!e.continuous,this.setGamepadSensitivity(e.sensitivity||3),this._disposables=[g(t,"keydown",t=>this._handleKeyDown(t)),g(t,"keyup",t=>this._handleKeyUp(t)),n.onValue(t=>this._handleMIDIMessage(t))],this._status={},this._axis={}}_handleKeyDown(t){this._status[""+t.which]=!0,this._exclusive&&t.preventDefault()}_handleKeyUp(t){this._status[""+t.which]=!1}_handleMIDIMessage(t){if(!t||!t.data)return;const e=t.data,n=`midi.${t.target.id}.${15&t.data[0]}`,r=t=>{this._status[`${n}.note.${e[1]}`]=t};if(128==(240&e[0]))r(!1);else if(144==(240&e[0]))e[2]>0?r(!0):r(!1);else if(176==(240&e[0]))64===e[1]?this._status[n+".sustain"]=e[2]>=64:1===e[1]&&(this._status[n+".mod"]=e[2]>=16);else if(224==(240&e[0])){const t=e[1]|e[2]<<7;this._status[n+".pitch.up"]=t>=8448,this._status[n+".pitch.down"]=t<7936}}_updateGamepads(){const t=this._window.navigator,e=t.getGamepads?t.getGamepads():t.webkitGetGamepads?t.webkitGetGamepads():[];if(e)for(let t=0;t<e.length;t++){const n=e[t];n&&this._updateGamepad(n)}}_updateGamepad(t){const e="gamepad."+t.index;for(let n=0;n<t.buttons.length;n++){const r=t.buttons[n];this._status[`${e}.button.${n}`]=r&&r.value>=.5}for(let n=0;n<t.axes.length;n++){const r=`${e}.axis.${n}`;let i=t.axes[n];this._continuousAxis&&(null==this._axis[r]&&(this._axis[r]=new h),i=this._axis[r].update(i)),this._status[r+".positive"]=i>=this._deadzone,this._status[r+".negative"]=i<=-this._deadzone}}update(){return this._updateGamepads(),this._status}setGamepadSensitivity(t){this._sensitivity=t,this._deadzone=.05*(9-this._sensitivity),this._deadzone<.01&&(this._deadzone=.01),this._analogThreshold=18-2*this._sensitivity}setGamepadContinuousAxisEnabled(t){this._continuousAxis=t}dispose(){for(let t of this._disposables)t()}}function d(t=new p,e=window){return v(u.a.fromBinder(n=>{const r=e.setInterval(()=>{n(new u.a.Next(t.update()))},16);return()=>e.clearInterval(r)}))}function v(t){return t.map(t=>Object.keys(t).filter(e=>t[e])).diff([],(t,e)=>a.a.difference(e,t)).flatMap(t=>u.a.fromArray(t))}e.c=p;const y={};function m(t){if(+t)return a.a.capitalize(i()(+t));{const e=t.match(/^gamepad\.(\d+)\.axis\.(\d+)\.(\w+)/);if(e)return`Joy${e[1]} Axis${e[2]} (${"positive"===e[3]?"+":"-"})`}{const e=t.match(/^gamepad\.(\d+)\.button\.(\d+)/);if(e)return`Joy${e[1]} Btn${e[2]}`}{const e=t.match(/^midi\.(.+)\.(\d+)\.(.+)$/);if(e){const t=e[3].split("."),n=e[1],r=`MIDI${y[n]||(y[n]=Object.keys(y).length+1)} Ch${+e[2]+1}`;if("note"===t[0]){const e=+t[1];return`${r} ${["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][e%12]}${Math.floor(e/12)-1}`}if("pitch"===t[0])return`${r} Pitch${"up"===t[1]?"+":"-"}`;if("sustain"===t[0])return"Sustain";if("mod"===t[0])return"Mod"}}return String(t).replace(/\./g," ")+"?"}function g(t,e,n){return t.addEventListener(e,n),function(){t.removeEventListener(e,n)}}},function(t,e,n){"use strict";var r=class{constructor(){this.value=0,this.changed=!1}get justPressed(){return this.changed&&this.value}},i=n(32),o=n.n(i),a=n(171);e.a=class{constructor(){this._controls=new Map,this._plugins=[]}update(){let t=new Map;for(let[t,e]of this._controls)e.changed=!1;for(let e of this._plugins)for(let[n,r]of e.get())t.set(n,r);for(let[e,n]of t){let t=this.get(e);t.value!==n&&(t.changed=!0,t.value=n)}}destroy(){for(let t of this._plugins)t.destroy()}get(t){return this._controls.has(t)||this._controls.set(t,new r),this._controls.get(t)}use(t){let e={},n="input:"+t.name;this._plugins.push({get:a.a.wrap(n,(function(){let n=t.get(),r=[];for(let t of o.a.union(o.a.keys(n),o.a.keys(e))){let i=+e[t]||0,o=+n[t]||0;i!==o&&r.push([t,o]),e[t]=o}return r})),destroy:()=>"function"!=typeof t.destroy||t.destroy()})}}},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function a(){if(a.enabled){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=a,s=Number(new Date),u=s-(n||s);o.diff=u,o.prev=n,o.curr=s,n=s,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;c++;var i=r.formatters[n];if("function"==typeof i){var a=e[c];t=i.call(o,a),e.splice(c,1),c--}return t})),r.formatArgs.call(o,e);var l=o.log||r.log;l.apply(o,e)}}return a.namespace=t,a.enabled=r.enabled(t),a.useColors=r.useColors(),a.color=e(t),a.destroy=i,a.extend=o,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function i(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var o=r.instances[e];o.enabled=r.enabled(o.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(350),Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function a(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var s=typeof t;if("string"===s&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===s&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return a(t,e,o,"day");if(e>=i)return a(t,e,i,"hour");if(e>=r)return a(t,e,r,"minute");if(e>=n)return a(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},,,function(t,e,n){var r=n(354);t.exports=function(t,e,n){var i=new WebSocket(t),o=[];function a(){try{i.send(""+(new Date).getTime())}catch(t){}}i.onmessage=function(t){var e,i,s,u,c;"k"==t.data&&a(),t.data.indexOf(",")>=0&&(e=t.data,i=e.split(","),s=+i[0],u=+i[1],c=(new Date).getTime(),s<=c&&o.push(r.convert([s,u,u,c])),o.length>=8&&n&&n(r.offset(o)),a())},i.onclose=function(){return o.length<1?e(new Error("no offset received")):e(null,r.offset(o))}}},function(t,e){e.convert=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return{offset:(n-e+(r-i))/2,delay:i-e-(r-n)}},e.offset=function(t){(t=t.slice()).sort((function(t,e){return t.offset-e.offset})),(t=t.slice(1,t.length-1)).sort((function(t,e){return t.delay-e.delay}));for(var e=0,n=0,r=Math.ceil(t.length/8),i=0;i<t.length&&(t[i].delay>t[0].delay&&r--,0!==r);i++)e+=t[i].offset,n+=1;return e/n}},,function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(i(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}},function(t,e,n){"use strict";(function(t,r){var i,o=n(559);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(33),n(359)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports=function(t){return t.length?t.reduce((function(t,e){return t+e}))/t.length:0}},function(t,e,n){var r=n(892);t.exports=function(t){"use strict";var e=r(t);return t.reduce((function(t,n){var r=n-e;return t+r*r}),0)/t.length}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(118),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){var e=(0,o.default)(t);return function(){return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(174)),i=o(n(63));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n){for(var i=(0,r.default)(t),o=n,a=0;a<i.length;++a){if(void 0===o)return!1;o=o[i[a]]}return"function"==typeof e?e(o):e===o}))},function(t,e,n){var r=n(119);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},function(t,e,n){var r=n(366)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(59),i=n(46);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(60),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(59),i=n(123),o=n(46),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(126),i=n(374),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(181)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(85);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(377),i=n(418),o=n(191);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(127),i=n(184);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var l=(c=n[a])[0],f=t[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in t))return!1}else{var p=new r;if(o)var d=o(f,h,l,t,e,p);if(!(void 0===d?i(h,f,3,o,p):d))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(87),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(87);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(87);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(87);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(86);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(86),i=n(129),o=n(130);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(182),i=n(389),o=n(52),a=n(183),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r,i=n(390),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(41)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(393),i=n(86),o=n(129);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(394),i=n(395),o=n(396),a=n(397),s=n(398);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(88);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(88),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(88),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(88);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(89);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(89);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(89);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(89);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(127),i=n(185),o=n(410),a=n(413),s=n(90),u=n(37),c=n(121),l=n(180),f="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,d,v){var y=u(t),m=u(e),g=y?"[object Array]":s(t),b=m?"[object Array]":s(e),_=(g="[object Arguments]"==g?f:g)==f,w=(b="[object Arguments]"==b?f:b)==f,x=g==b;if(x&&c(t)){if(!c(e))return!1;y=!0,_=!1}if(x&&!_)return v||(v=new r),y||l(t)?i(t,e,n,p,d,v):o(t,e,g,n,p,d,v);if(!(1&n)){var E=_&&h.call(t,"__wrapped__"),T=w&&h.call(e,"__wrapped__");if(E||T){var O=E?t.value():t,S=T?e.value():e;return v||(v=new r),d(O,S,n,p,v)}}return!!x&&(v||(v=new r),a(t,e,n,p,d,v))}},function(t,e,n){var r=n(130),i=n(406),o=n(407);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(60),i=n(186),o=n(128),a=n(185),s=n(411),u=n(412),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,f,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=u),t.size!=e.size&&!d)return!1;var v=h.get(t);if(v)return v==e;r|=2,h.set(t,e);var y=a(p(t),p(e),r,c,f,h);return h.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(187),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,c=r(t),l=c.length;if(l!=r(e).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in e:i.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var v=u;++f<l;){var y=t[h=c[f]],m=e[h];if(o)var g=u?o(m,y,h,e,t,s):o(y,m,h,t,e,s);if(!(void 0===g?y===m||a(y,m,n,o,s):g)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(d=!1)}return s.delete(t),s.delete(e),d}},function(t,e,n){var r=n(53)(n(41),"DataView");t.exports=r},function(t,e,n){var r=n(53)(n(41),"Promise");t.exports=r},function(t,e,n){var r=n(53)(n(41),"Set");t.exports=r},function(t,e,n){var r=n(53)(n(41),"WeakMap");t.exports=r},function(t,e,n){var r=n(190),i=n(71);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(184),i=n(420),o=n(426),a=n(133),s=n(190),u=n(191),c=n(62);t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(91);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(422),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(423);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(130);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(425);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(60),i=n(92),o=n(37),a=n(134),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(427),i=n(428);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(61),i=n(120),o=n(37),a=n(122),s=n(123),u=n(62);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(h,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(430),i=n(431),o=n(133),a=n(62);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(91);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(193)),i=o(n(63));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n){return(0,r.default)(t,e,(function(t){return t}),n)}))},function(t,e,n){var r=n(196),i=n(119),o=n(434),a=n(37);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(135);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(92),i=n(72),o=n(436),a=n(37);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(119),i=n(85);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},function(t,e,n){var r=n(137),i=n(177),o=n(72);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(439)),i=o(n(64));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){return(0,r.default)(e,t)}))},function(t,e,n){var r=n(92),i=n(440),o=n(461),a=n(61),s=n(74),u=n(465),c=n(466),l=n(139),f=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),s(t,l(t),n),c&&(n=i(n,7,u));for(var f=e.length;f--;)o(n,e[f]);return n}));t.exports=f},function(t,e,n){var r=n(127),i=n(196),o=n(138),a=n(441),s=n(442),u=n(445),c=n(446),l=n(447),f=n(448),h=n(187),p=n(139),d=n(90),v=n(449),y=n(450),m=n(455),g=n(37),b=n(121),_=n(457),w=n(52),x=n(459),E=n(71),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,O,S,C,A){var M,P=1&n,k=2&n,I=4&n;if(O&&(M=C?O(e,S,C,A):O(e)),void 0!==M)return M;if(!w(e))return e;var D=g(e);if(D){if(M=v(e),!P)return c(e,M)}else{var R=d(e),j="[object Function]"==R||"[object GeneratorFunction]"==R;if(b(e))return u(e,P);if("[object Object]"==R||"[object Arguments]"==R||j&&!C){if(M=k||j?{}:m(e),!P)return k?f(e,s(M,e)):l(e,a(M,e))}else{if(!T[R])return C?e:{};M=y(e,R,P)}}A||(A=new r);var F=A.get(e);if(F)return F;A.set(e,M),x(e)?e.forEach((function(r){M.add(t(r,n,O,r,e,A))})):_(e)&&e.forEach((function(r,i){M.set(i,t(r,n,O,i,e,A))}));var L=I?k?p:h:k?keysIn:E,N=D?void 0:L(e);return i(N||e,(function(r,i){N&&(r=e[i=r]),o(M,i,t(r,n,O,i,e,A))})),M}},function(t,e,n){var r=n(74),i=n(71);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(74),i=n(198);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(52),i=n(126),o=n(444),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(41),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(66)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(74),i=n(132);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(74),i=n(199);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(140),i=n(451),o=n(452),a=n(453),s=n(454);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(140);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(60),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(140);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(456),i=n(136),o=n(126);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(52),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(458),i=n(124),o=n(125),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(90),i=n(46);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(460),i=n(124),o=n(125),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(90),i=n(46);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(61),i=n(462),o=n(463),a=n(62);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(91),i=n(464);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(194);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(467),i=n(470),o=n(472);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(468);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(131),i=n(469);t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(60),i=n(120),o=n(37),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(471),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(473),i=n(475)(r);t.exports=i},function(t,e,n){var r=n(474),i=n(197),o=n(135),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(477)),i=o(n(64));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){return(0,r.default)(e,t)}))},function(t,e,n){var r=n(72),i=n(192),o=n(478);t.exports=function(t,e){return o(t,i(r(e)))}},function(t,e,n){var r=n(92),i=n(72),o=n(479),a=n(139);t.exports=function(t,e){if(null==t)return{};var n=r(a(t),(function(t){return[t]}));return e=i(e),o(t,n,(function(t,n){return e(t,n[0])}))}},function(t,e,n){var r=n(91),i=n(480),o=n(61);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&i(u,o(c,t),l)}return u}},function(t,e,n){var r=n(138),i=n(61),o=n(122),a=n(52),s=n(62);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=i(e,t)).length,f=l-1,h=t;null!=h&&++c<l;){var p=s(e[c]),d=n;if(c!=f){var v=h[p];void 0===(d=u?u(v,p,h):void 0)&&(d=a(v)?v:o(e[c+1])?[]:{})}r(h,p,d),h=h[p]}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(175)),i=o(n(64));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){var n=(0,r.default)(e,t);return e.length===n.length?e:n}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(63)),i=s(n(73)),o=s(n(195)),a=s(n(174));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){return"*"===e?function(e){return Object.prototype.hasOwnProperty.call(e,"*")?(0,i.default)(u({},"*",t),e):(0,o.default)(t,e)}:u({},e,t)}e.default=(0,r.default)((function(t,e,n){var r=(0,a.default)(t).reduceRight(c,e);return(0,i.default)(r,n)}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(73)),i=o(n(63));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n){return void 0===n?(0,r.default)(e,t):(0,r.default)(e,n)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return c}));var r=n(281);let i=localStorage;const o={"player.P1.mode":"KB","input.P1.keyboard.BM.SC":"16","input.P1.keyboard.BM.SC2":"65","input.P1.keyboard.BM.1":"90","input.P1.keyboard.BM.2":"83","input.P1.keyboard.BM.3":"88","input.P1.keyboard.BM.4":"68","input.P1.keyboard.BM.5":"67","input.P1.keyboard.BM.6":"70","input.P1.keyboard.BM.7":"86","input.P1.keyboard.KB.1":"83","input.P1.keyboard.KB.2":"68","input.P1.keyboard.KB.3":"70","input.P1.keyboard.KB.4":"32","input.P1.keyboard.KB.5":"74","input.P1.keyboard.KB.6":"75","input.P1.keyboard.KB.7":"76","player.P1.speed":"1.0","player.P1.lane-cover":"0","player.P1.lead-time":"1685","player.P1.auto-velocity":"0","player.P1.scratch":"left","player.P1.panel":"center","player.P1.gauge":"off","gamepad.continuous":"0","gamepad.sensitivity":"4","system.offset.audio-input":"0","system.offset.audio-visual":"0","system.bga.enabled":"1","system.preview.enabled":"1","system.last-seen-version":"0.0.0","system.ack.twitter":"0","system.ack.deltas":"0","system.ack.finishGame":"0","system.ack.replayGame":"0"},a=new r.EventEmitter;function s(t){return i.getItem(t)||o[t]}function u(t){for(const e of Object.keys(t))i.setItem(e,t[e]);a.emit("changed")}function c(){let t={};for(let e of Object.keys(o))t[e]=s(e);return t}var l,f;"off"===s("player.P1.scratch")&&(l="player.P1.scratch",f="left",i.setItem(l,f),a.emit("changed"))},function(t,e,n){"use strict";var r=n(65);e.a=function(t){return t.filter(t=>Math.abs(t)<Object(r.h)(4))}},function(t,e,n){"use strict";var r=n(32),i=n.n(r);const o=[{title:"Custom Song",criteria:t=>t.custom},{title:"Tutorial",criteria:t=>t.tutorial},{title:"Unreleased",criteria:t=>t.unreleased},{title:"Recently Added Songs",criteria:t=>t.added&&Date.now()-Date.parse(t.added)<5184e6,sort:t=>t.added,reverse:!0},{title:"☆",criteria:()=>!0}];e.a=function(t){let e=o.map(t=>({input:t,output:{title:t.title,songs:[]}}));for(let n of t)for(let{input:t,output:r}of e)if(t.criteria(n)){r.songs.push(n);break}for(let{input:t,output:n}of e)t.sort&&(n.songs=i.a.sortBy(n.songs,t.sort)),t.reverse&&n.songs.reverse();return i()(e).map("output").filter(t=>t.songs.length>0).value()}},function(t,e,n){"use strict";var r=n(84),i=n.n(r);const o=i()({songs:i.a.map((function(t){t.chart_names&&(t=i()({charts:i.a.map(e=>{const n=t.chart_names[e.file];return n?i()({info:{subtitles:t=>[...t,n]}},e):e})},t));return t}))});e.a=o},function(t,e,n){"use strict";var r=n(32),i=n.n(r),o=n(200);e.a=function(t){return i.a.orderBy(t,[t=>i()(t.charts).filter(o.a).filter(t=>t.info.difficulty<5).filter(t=>t.info.level>0).map(t=>t.info.level).min(),t=>t.bpm,t=>t.title.toLowerCase()])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return f})),n.d(e,"b",(function(){return h}));var r=n(201),i=n(164);const o=new r.Map;function a(t){return t.scan(o,s)}function s(t=o,e){switch(e.type){case"PUT":{let n=new r.Map(e.data).map(function(t){return(e,n)=>Object(i.f)(u(t,n),e)}(t));return t.merge(n)}case"CLEAR":return o;default:return t}}function u(t,e){return t.get(e,i.a)}function c(t,e){return t.has(e)}function l(t,e){return f(new r.Map([[t,e]]))}function f(t){return{type:"PUT",data:t}}function h(){return{type:"CLEAR"}}},function(t,e,n){t.exports=n(571)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];return e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return u}));var r=n(2);function i(){return r.a.BEMUSE_MUSIC_SERVER||r.a.server}function o(){return r.a.archive}function a(){return r.a.grep}function s(){return r.a.song}function u(){return r.a.BEMUSE_TIMESYNCHRO_SERVER}},,function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},,,,function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fromBMSChart=void 0;var s=o(n(104)),u=a(n(206)),c=a(n(262));function l(t){var e=+t.headers.get("rank")||2;return 0===e?[8,24]:1===e?[15,30]:3===e?[21,60]:[18,40]}function f(t,e){var n=u.default.max(t.map((function(t){return t.endBeat||t.beat})))||0,r=[0],i=0,o=0;do{i+=e.timeSignatures.getBeats(o),o+=1,r.push(i)}while(i<=n);return r}e.fromBMSChart=function(t,e){var n=s.Notes.fromBMSChart(t).all(),r={notes:n,timing:s.Timing.fromBMSChart(t),keysounds:s.Keysounds.fromBMSChart(t),songInfo:s.SongInfo.fromBMSChart(t),positioning:s.Positioning.fromBMSChart(t),spacing:s.Spacing.fromBMSChart(t),barLines:f(n,t),expertJudgmentWindow:l(t)};return new c.default(r,e)}},,,function(t,e,n){var r=n(502);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".BenchmarkPanel {\n  background: #449;\n  border: 2px solid #66e;\n  padding: 4px;\n}\n.BenchmarkPanel table {\n  font-size: 10px;\n}",""])},function(t,e,n){"use strict";var r,i=n(32),o=n.n(i),a=n(291),s=n(65),u=n(56),c=n.n(u);!function(t){t.Active="active",t.Unjudged="unjudged",t.Judged="judged"}(r||(r={}));function l(){return!!window.BEMUSE_AUTOPLAY}e.a=class{constructor(t){var e;this.player=t,this.notifications={sounds:[],judgments:[]},this.finished=!1,this.tainted=!1,this.input=new Map,this._gameTime=0,this._pinching=null,this._columns=t.columns,this._noteBufferByColumn=o()(t.notechart.notes).sortBy(t=>t.time).groupBy(t=>t.column).mapValues((e=this,function(t){let n=0;return{notes:t,get startIndex(){return n},update(){for(;n<t.length&&"judged"===e.getNoteStatus(t[n]);)n+=1}}})).value(),this._noteResult=new Map,this._duration=t.notechart.duration,this._judge=Object(s.d)(t.notechart,{tutorial:t.options.tutorial}),this.stats=new a.a(t.notechart),this.speed=t.options.speed}update(t,e){this._gameTime=t,this._rawInput=e,this.notifications={sounds:[],judgments:[]},this._updateInputColumnMap(),this._judgeNotes(),this._updateSpeed(),t>this._duration+1&&(this.finished=!0)}getNoteStatus(t){let e=this._noteResult.get(t);return e?e.status:r.Unjudged}getNoteJudgment(t){let e=this._noteResult.get(t);return e?e.judgment:s.a.Unjudged}getPlayerInput(t){return this._rawInput.get(`p${this.player.number}_${t}`)}_updateInputColumnMap(){this.input=new Map(this._columns.map(t=>[t,this.getPlayerInput(t)]))}_judgeNotes(){for(let t of this._columns){let e=this._noteBufferByColumn[t];if(e){let n=this.input.get(t);this._judgeColumn(e,n,t),e.update()}}}_updateSpeed(){this.getPlayerInput("speedup").justPressed&&this._modifySpeed(1),this.getPlayerInput("speeddown").justPressed&&this._modifySpeed(-1);let t=this.getPlayerInput("pinch").value;if(t&&!this._pinching?this._pinching={start:t,speed:this.speed}:t||(this._pinching=null),t&&this._pinching){let e=this._pinching,n=e.speed*t/e.start;this.speed=Math.max(.2,Math.round(10*n)/10)}}_modifySpeed(t){let e=this._rawInput.get("select").value?.1:this.speed<.5?.3:.5;this.speed+=t*e,this.speed<.2&&(this.speed=.2)}_judgeColumn(t,e,n){let r,i,o=t.notes,a=!1;for(let n=t.startIndex;n<o.length;n++){let s=o[n];if(this._shouldJudge(s,e,t)){let t="active"!==this.getNoteStatus(s);if(r=s,i=this._judgeNote(s),l()&&(a=!0),t)break}}if(e.justPressed||a)if(r&&null!=i)this.notifications.sounds.push({note:r,type:"hit",judgment:i});else{let t=this._getFreestyleNote(o);if(t){("3d"!==this.player.options.placement||!this._isSandwiched(n))&&this.notifications.sounds.push({note:t,type:"free"})}}}_getClosestNote(t){return o.a.minBy(t,t=>Math.abs(this._gameTime-t.time))}_getFreestyleNote(t){return o.a.minBy(t,t=>Math.abs(this._gameTime-t.time)+(this._gameTime<t.time-1?1e6:0))}_isSandwiched(t){const e={2:["1","3"],3:["2","4"],4:["3","5"],5:["4","6"],6:["5","7"]};return!!e[t]&&e[t].every(t=>{const e=this._noteBufferByColumn[t];return!!e&&e.notes.some(t=>Math.abs(this._gameTime-t.time)<.1)})}_shouldJudge(t,e,n){let r=this.getNoteStatus(t);if("unjudged"===r){if(l()&&this._gameTime>=t.time)return this.tainted=!0,!0;let r=Object(s.g)(this._gameTime,t.time,this._judge),i=r===s.b,o=r>0&&e.changed&&e.value;return Object(s.e)(r)&&this._getClosestNote(n.notes)!==t&&(o=!1),i||o}if("active"===r){const n=t.end||c()(!1,"note.end must exist");if(l()&&this._gameTime>=n.time)return this.tainted=!0,!0;let r=Object(s.f)(this._gameTime,n.time,this._judge)===s.b,i=e.changed,o="SC"===t.column,a=this._gameTime>=n.time;return r||i||o&&a}return!1}_judgeNote(t){let e=this._gameTime-t.time,n=Object(s.g)(this._gameTime,t.time,this._judge),i=this._noteResult.get(t),o=!i||"unjudged"===i.status,a=i&&"active"===i.status;if(l()&&n>=1&&(n=1),t.end){if(o){let o=n===s.b?r.Judged:r.Active;n===s.b&&this._setJudgment(n,e,t.column),i={status:o,judgment:n,delta:e}}else if(a){let o="SC"===t.column;e=this._gameTime-t.end.time,n=Object(s.f)(this._gameTime,t.end.time,this._judge)||s.b,o&&e>0&&(n=1),i={status:r.Judged,judgment:n,delta:e}}}else i={status:r.Judged,judgment:n,delta:e};if(n===s.b&&this.notifications.sounds.push({note:t,type:"break"}),o&&n!==s.b&&this.stats.handleDelta(e),!i)throw new Error("Invariant violation: result must not be undefined");if(!n)throw new Error("Invariant violation: note should be judged by this point");return this._noteResult.set(t,i),this._setJudgment(n,e,t.column),n}_setJudgment(t,e,n){this.stats.handleJudgment(t);let r={judgment:t,combo:this.stats.combo,delta:e,column:n};this.notifications.judgments.push(r)}}},function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,o=String(t);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=r[e.toLowerCase()])return o===n;if(o=i[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var r=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=e.names=e.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},function(t,e,n){"use strict";var r=n(169),i=n(292),o=n(65),a=n(293);e.a=class{constructor(t,e){this._currentSpeed=1,this._player=t,this._noteArea=new i.a(t.notechart.notes,t.notechart.barLines),this._stateful={},this._defaultData={placement:t.options.placement,scratch:t.options.scratch,key_mode:t.notechart.getKeyMode(t.options.scratch),lane_lift:Math.max(0,-t.options.laneCover),lane_press:Math.max(0,t.options.laneCover)},this._gauge=Object(a.a)(t.options.gauge),this._touch3dMode="touch3d"===e.displayMode}update(t,e,n){const i=this._touch3dMode;let a=this._player,s=this._noteArea,u=this._stateful,c=a.notechart.secondsToBeat(e),l=a.notechart.beatToPosition(c),f=a.notechart.spacingAtBeat(c),h=Object.assign({},this._defaultData),p=(t,e)=>(h[t]||(h[t]=[])).push(e),d=this._gauge;this._currentSpeed+=(n.speed-this._currentSpeed)/3;let v=this._currentSpeed*f;h.beat=c,function(){let t=s.getVisibleNotes(l,g(),1);if(i){const e=(t,e,n,i=1)=>{const o=r.b(e-.01),a=+n||-1,s=r.a,u=o.projection*s*(2*(a-.5)/7-1),c=o.projection*i*s*2/7;p("note3d_"+n,{key:t,y:o.y,x:u+640,width:c})};let i=3/128;for(let r of t){let t=r.note,o=t.column;if(r.height){let n=0,a=r.y+r.height;for(let s=a-Math.max(0,Math.floor((a-1)/i)*i);s>=0&&s>=r.y;s-=i)e(t.id+"x"+n++,s,o,.8);e(t.id,r.y+r.height,o)}else"judged"!==n.getNoteStatus(t)&&e(t.id,r.y,o)}}else for(let e of t){let t=e.note,r=t.column;if(e.height){let i=n.getNoteJudgment(t),a=n.getNoteStatus(t);p("longnote_"+r,{key:t.id,y:e.y,height:e.height,active:0!==i&&i!==o.b,missed:"judged"===a&&i===o.b})}else"judged"!==n.getNoteStatus(t)&&p("note_"+r,{key:t.id,y:e.y})}}(),function(){let t=s.getVisibleBarLines(l,g(),1);for(let e of t)if(i){const t=r.b(e.y-.01);p("barlines3d",{key:e.id,y:t.y,x:t.projection*-r.a+640,width:t.projection*r.a*2})}else p("barlines",{key:e.id,y:e.y})}(),function(){let e=n.input;for(let n of a.columns){let r=e.get(n);h[n+"_active"]=0!==r.value?1:0,r.changed&&(0!==r.value?u[n+"_down"]=t:u[n+"_up"]=t)}}(),function(){let e=n.notifications.judgments,r=e[e.length-1];if(r){let e=-1===r.judgment?"missed":""+r.judgment;u["judge_"+e]=t;let n=-1===r.judgment||1===r.judgment?"none":r.delta>0?"late":r.delta<0?"early":"none";u["judge_deviation_"+n]=t,u.combo=r.combo}h.score=n.stats.score}(),function(){d.update(n),d.shouldDisplay()?u.gauge_enter||(u.gauge_enter=t):u.gauge_enter&&(u.gauge_exit||(u.gauge_exit=t));h.gauge_primary=d.getPrimary(),h.gauge_secondary=d.getSecondary(),h.gauge_extra=d.getExtra()}(),function(){let e=n.notifications.judgments;for(let n=0;n<e.length;n++){let r=e[n];Object(o.c)(r.judgment)||(u[r.column+"_explode"]=t)}}(),h.speed=n.speed.toFixed(1)+"x",h.stat_1=m(1),h.stat_2=m(2),h.stat_3=m(3),h.stat_4=m(4),h.stat_missed=m(o.b),h.stat_acc=(100*(n.stats.currentAccuracy||0)).toFixed(2)+"%";const y=a.notechart.bpmAtBeat(c);return h.bpm=y<1?"":Math.round(y)%1e4||"",Object.assign(h,u),h;function m(t){return n.stats.counts&&n.stats.counts[t]}function g(){return l+5/v}}}},function(t,e,n){"use strict";var r=n(278),i=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};class o extends r.b{constructor(t){super({getFiles:e=>function(t,e){return i(this,void 0,void 0,(function*(){let n=[];const o=t.dataTransfer;if(!o)throw new Error("Expect event.dataTransfer to be present");if(o.types.indexOf("text/uri-list")>-1){let t=o.getData("text/uri-list").split(/\r\n|\r|\n/).filter(t=>t&&!t.startsWith("#"))[0];if(r.a.test(t&&t.replace(/[?#].*/,"")))return e("Link to archive file detected. Trying to download"),[yield Object(r.c)(t,e)]}else if(o.items)for(let t of Array.from(o.items))yield a(t);else if(o.files)for(let t of Array.from(o.files))u(t);return n;function a(t){return i(this,void 0,void 0,(function*(){let e=t.webkitGetAsEntry&&t.webkitGetAsEntry();if(e)yield s(e);else{let e=t.getAsFile&&t.getAsFile();e&&u(e)}}))}function s(t){return t.isFile?function(t){return new Promise((e,n)=>{t.file(e,n)}).tap(t=>{u(t)})}(t):t.isDirectory?function(t){return i(this,void 0,void 0,(function*(){let e=[],n=t.createReader();for(;;){let t=yield new Promise((t,e)=>{n.readEntries(t,e)});if(!t||0===t.length)break;e.push(...Array.from(t))}for(let t of e)yield s(t)}))}(t):void 0}function u(t){t&&n.push({name:t.name,file:t})}}))}(t,e)})}}e.a=o},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class r{constructor(t,e,n,r){this._name=t,this._size=e,this._path=n,this._archiveRef=r}get name(){return this._name}get size(){return this._size}extract(){return this._archiveRef.extractSingleFile(this._path)}}class i{static init(t={}){return i._options={workerUrl:"../dist/worker-bundle.js",...t},i._options}static open(t,e=null){e=e||i._options||i.init()&&console.warn("Automatically initializing using options: ",i._options);return new i(t,e).open()}constructor(t,e){this._worker=new Worker(e.workerUrl),this._worker.addEventListener("message",this._workerMsg.bind(this)),this._callbacks=[],this._content={},this._processed=0,this._file=t}async open(){return await this._postMessage({type:"HELLO"},(t,e,n)=>{"READY"===n.type&&t()}),await this._postMessage({type:"OPEN",file:this._file},(t,e,n)=>{"OPENED"===n.type&&t(this)})}hasEncryptedData(){return this._postMessage({type:"CHECK_ENCRYPTION"},(t,e,n)=>{"ENCRYPTION_STATUS"===n.type&&t(n.status)})}usePassword(t){return this._postMessage({type:"SET_PASSPHRASE",passphrase:t},(t,e,n)=>{"PASSPHRASE_STATUS"===n.type&&t(n.status)})}getFilesObject(){return this._processed>0?Promise.resolve().then(()=>this._content):this._postMessage({type:"LIST_FILES"},(t,e,n)=>{if("ENTRY"===n.type){const t=n.entry,[e,i]=this._getProp(this._content,t.path);return"FILE"===t.type&&(e[i]=new r(t.fileName,t.size,t.path,this)),!0}"END"===n.type&&(this._processed=1,t(this._cloneContent(this._content)))})}getFilesArray(){return this.getFilesObject().then(t=>this._objectToArray(t))}extractSingleFile(t){return this._postMessage({type:"EXTRACT_SINGLE_FILE",target:t},(t,e,n)=>{if("FILE"===n.type){t(new File([n.entry.fileData],n.entry.fileName,{type:"application/octet-stream"}))}})}extractFiles(t){return this._processed>1?Promise.resolve().then(()=>this._content):this._postMessage({type:"EXTRACT_FILES"},(e,n,r)=>{if("ENTRY"===r.type){const[e,n]=this._getProp(this._content,r.entry.path);return"FILE"===r.entry.type&&(e[n]=new File([r.entry.fileData],r.entry.fileName,{type:"application/octet-stream"}),void 0!==t&&setTimeout(t.bind(null,{file:e[n],path:r.entry.path}))),!0}"END"===r.type&&(this._processed=2,this._worker.terminate(),e(this._cloneContent(this._content)))})}_cloneContent(t){if(t instanceof File||t instanceof r||null===t)return t;const e={};for(const n of Object.keys(t))e[n]=this._cloneContent(t[n]);return e}_objectToArray(t,e=""){const n=[];for(const i of Object.keys(t))t[i]instanceof File||t[i]instanceof r||null===t[i]?n.push({file:t[i]||i,path:e}):n.push(...this._objectToArray(t[i],`${e}${i}/`));return n}_getProp(t,e){const n=e.split("/");""===n[n.length-1]&&n.pop();let r=t,i=null;for(const t of n)r[t]=r[t]||{},i=r,r=r[t];return[i,n[n.length-1]]}_postMessage(t,e){return this._worker.postMessage(t),new Promise((t,n)=>{this._callbacks.push(this._msgHandler.bind(this,e,t,n))})}_msgHandler(t,e,n,r){if("BUSY"===r.type)n("worker is busy");else{if("ERROR"!==r.type)return t(e,n,r);n(r.error)}}_workerMsg({data:t}){(0,this._callbacks[this._callbacks.length-1])(t)||this._callbacks.pop()}}},function(t,e,n){"use strict";var r=n(911),i=n.n(r);const o=()=>Promise.reject(new Error("Online services not enabled."));var a=class{getCurrentUser(){return null}isLoggedIn(){return!1}signUp({username:t,password:e,email:n}){return o()}logIn({username:t,password:e}){return o()}logOut(){return o()}submitScore(t){return Promise.reject(new Error("Online services not enabled."))}retrieveRecord(t,e){return Promise.reject(new Error("Online services not enabled."))}retrieveScoreboard({md5:t,playMode:e}){return Promise.reject(new Error("Online services not enabled."))}retrieveMultipleRecords(t,e){return Promise.reject(new Error("Online services not enabled."))}},s=n(856),u=n(855);let c=null;i.a.AUTH0_CLIENT_ID&&i.a.AUTH0_DOMAIN&&i.a.SCOREBOARD_SERVER?c=new s.a(new u.a({server:i.a.SCOREBOARD_SERVER,authOptions:{domain:i.a.AUTH0_DOMAIN,clientID:i.a.AUTH0_CLIENT_ID}})):(console.warn("Warning: No Parse API keys specified. Online functionalities wilt not work."),c=new s.a(new a));e.a=c},function(t,e,n){n(554);var r=n(69).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(114),i=n(147).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l}));var r=n(201),i=n.n(r),o=n(238);const a=i.a.Map(),s=t=>e=>e.set(t,o.f()),u=(t,e)=>n=>n.update(t,o.b(e)),c=(t,e)=>n=>n.update(t,o.d(e)),l=t=>e=>e.get(t)},function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return f}));var r=n(84),i=n.n(r);const o=t=>({staged:t,committed:t}),a=o(""),s=t=>t.committed,u=t=>t.staged,c=t=>i()({staged:t}),l=t=>Object.assign(Object.assign({},t),{committed:t.staged}),f=t=>()=>o(t)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return f}));var r=n(84),i=n.n(r),o=n(32),a=n.n(o);const s={selectedSongId:null,selectedChartId:null,selectedChartLevel:1},u=t=>e=>{const n=a.a.find(t,{id:e.selectedSongId});return n||t[0]},c=t=>e=>{t=t||[];const n=a.a.find(t,{file:e.selectedChartId});return n||a.a.minBy(t,t=>Math.abs(t.info.level-e.selectedChartLevel))},l=t=>i()({selectedSongId:t}),f=(t,e,n)=>i()({selectedSongId:t,selectedChartId:e,selectedChartLevel:n})},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(896);var r=n(26),i=n.n(r),o=n(27),a=n.n(o),s=n(49),u=n.n(s);class c extends i.a.Component{render(){return i.a.createElement("div",{className:u()("SceneHeading",this.props.className)},this.props.children)}}c.propTypes={className:a.a.string,children:a.a.node}},function(t,e,n){"use strict";n(898);var r=n(26),i=n.n(r),o=n(27),a=n.n(o);class s extends i.a.Component{render(){return i.a.createElement("div",{className:"SceneToolbar"},this.props.children)}}s.propTypes={children:a.a.node},s.Spacer=class extends i.a.Component{render(){return i.a.createElement("div",{className:"SceneToolbarのspacer"})}},e.a=s},function(t,e,n){"use strict";e.a=function({md5:t,playMode:e}){return`${t}-${e}`}},function(t,e){var n=Array.prototype.slice;function r(t){var e=this,r=n.call(arguments,1);return new Promise((function(n,o){if("function"==typeof t&&(t=t.apply(e,r)),!t||"function"!=typeof t.next)return n(t);function a(e){var n;try{n=t.next(e)}catch(t){return o(t)}c(n)}function s(e){var n;try{n=t.throw(e)}catch(t){return o(t)}c(n)}function c(t){if(t.done)return n(t.value);var r=i.call(e,t.value);return r&&u(r)?r.then(a,s):s(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}a()}))}function i(t){return t?u(t)?t:function(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||c(e.prototype))}(t)||c(t)?r.call(this,t):"function"==typeof t?o.call(this,t):Array.isArray(t)?a.call(this,t):Object==t.constructor?s.call(this,t):t:t}function o(t){var e=this;return new Promise((function(r,i){t.call(e,(function(t,e){if(t)return i(t);arguments.length>2&&(e=n.call(arguments,1)),r(e)}))}))}function a(t){return Promise.all(t.map(i,this))}function s(t){for(var e=new t.constructor,n=Object.keys(t),r=[],o=0;o<n.length;o++){var a=n[o],s=i.call(this,t[a]);s&&u(s)?c(s,a):e[a]=t[a]}return Promise.all(r).then((function(){return e}));function c(t,n){e[n]=void 0,r.push(t.then((function(t){e[n]=t})))}}function u(t){return"function"==typeof t.then}function c(t){return"function"==typeof t.next&&"function"==typeof t.throw}t.exports=r.default=r.co=r,r.wrap=function(t){return e.__generatorFunction__=t,e;function e(){return r.call(this,t.apply(this,arguments))}}},function(t,e,n){"use strict";var r=n(79),i=n(162),o=n(26),a=n.n(o),s=n(862),u=n(145),c=n(161),l=n(142),f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const h=Object(c.a)(Object(l.b)({onClick:({featureKey:t})=>()=>i.b(r.a(t))}),Object(u.b)((t,{featureKey:e})=>({tipVisible:!r.n(e)(t.options)})))(t=>{var{onClick:e}=t,n=f(t,["onClick"]);return a.a.createElement("span",{onClick:e},a.a.createElement(s.a,Object.assign({},n)))});e.a=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconStack=e.Icon=e.default=void 0,n(934);var r=o(n(942)),i=o(n(943));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default,e.Icon=r.default,e.IconStack=i.default},,,function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(970),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return(0,o.default)("displayName",t)}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(971),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){return e+"("+(0,o.default)(t)+")"}},,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return h}));var r=n(32),i=n.n(r),o=n(68),a=n.n(o),s=n(813),u=n.n(s);let c=t=>Object.assign({},t,{data:u()(t.data)});class l{constructor(t,e){this._timeKey=e||"t",this._properties=i()(t).map(t=>i.a.map(t.data,"name")).flatten().thru(t=>new Set(t)).value(),this._animations=i.a.map(t,c),this._events=i.a.uniq(i.a.map(t,"on"))}prop(t,e){return this._properties.has(t)?n=>{let r=this._getAnimation(n);return r.hasOwnProperty(t)?r[t]:e(n)}:e}_getAnimation(t){let e=i()(this._events).filter(e=>""===e||e in t).maxBy(e=>t[e]||0),n=t[this._timeKey]-(t[e]||0),r=this._animations.filter(t=>t.on===e).map(t=>t.data.values(n));return Object.assign({},...r)}static compile(t,e){let n=Array.from(e.children("animation")),r=i.a.map(n,t=>f(a()(t))),o=e.attr("t")||"t";return new l(r,o)}}function f(t){let e=i.a.map(Array.from(t.children("keyframe")),h),n={};for(let t of e){let e=+t.t,r=t.ease||"linear";if(isNaN(e))throw new Error('Expected keyframe to have "t" attribute');for(let i in t){if("t"===i||"ease"===i)continue;let o=+t[i];(n[i]||(n[i]={name:i,keyframes:[]})).keyframes.push({time:e,value:o,ease:r})}}return{on:t.attr("on")||"",data:i.a.values(n)}}function h(t){return i()(t.attributes).map(t=>[t.name.toLowerCase(),t.value]).fromPairs().value()}e.d=l},,,function(t,e,n){var r=n(78);r(r.S+r.F*!n(99),"Object",{defineProperty:n(148).f})},function(t,e,n){t.exports=!n(99)&&!n(160)((function(){return 7!=Object.defineProperty(n(531)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(114);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="(╯°□°)╯︵ ┻━┻"},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);t.exports=function t(e,n,f){if("string"!=typeof n){if(l){var h=c(n);h&&h!==l&&t(e,h,f)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var v=p[d];if(!(r[v]||i[v]||f&&f[v])){var y=u(n,v);try{o(e,v,y)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){!function(){function e(t){if(!Array.isArray(t))throw new TypeError("You need to pass an Array not "+typeof t);if(1==t.length)return t[0];t.sort((function(t,e){return t-e}));var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}t.exports?t.exports=e:window.median=e}()},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:o,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var u=a[s],c=o[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(e.push({obj:o,prop:u}),n.push(c))}return function(t){for(var e;t.length;){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var r=[],i=0;i<e.length;++i)void 0!==e[i]&&r.push(e[i]);n.obj[n.prop]=r}}return e}(e)},decode:function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},encode:function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",r=0;r<e.length;++r){var o=e.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=e.charAt(r):o<128?n+=i[o]:o<2048?n+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?n+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(r+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(r)),n+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return n},isBuffer:function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,i){if(!n)return e;if("object"!=typeof n){if(Array.isArray(e))e.push(n);else{if("object"!=typeof e)return[e,n];(i.plainObjects||i.allowPrototypes||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!=typeof e)return[e].concat(n);var a=e;return Array.isArray(e)&&!Array.isArray(n)&&(a=o(e,i)),Array.isArray(e)&&Array.isArray(n)?(n.forEach((function(n,o){r.call(e,o)?e[o]&&"object"==typeof e[o]?e[o]=t(e[o],n,i):e.push(n):e[o]=n})),e):Object.keys(n).reduce((function(e,o){var a=n[o];return r.call(e,o)?e[o]=t(e[o],a,i):e[o]=a,e}),a)}}},function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(t,e,n){"use strict";e.a=function(t,[e,n]){let r=0;for(const i of t){const t=1e3*Math.abs(i);t<e&&(r+=1),t<n&&(r+=1)}return r}},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(33))},function(t,e,n){var r=n(566);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.Scene {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  font-family: "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n}\n.Scene > .SceneHeading {\n  position: absolute;\n  top: 20px;\n  right: 0;\n  left: 0;\n}\n@media (min-width: 720px) {\n  .Scene > .SceneHeading {\n    top: 2rem;\n  }\n}\n.Scene > .SceneToolbar {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}',""])},,function(t,e,n){var r=n(906);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(26),i=n.n(r),o=n(27),a=n.n(o);class s extends i.a.Component{render(){let t={};return void 0!==this.props.grow&&(t.flex=this.props.grow),i.a.createElement("div",{style:t})}}s.propTypes={grow:a.a.oneOf([a.a.number,a.a.string])}},function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var i=r((function(t){var e;e=n,t.exports?t.exports=function(){var t=arguments;"object"==typeof arguments[0]&&(t=arguments[0]);var e=[].slice.call(t,0).join("/");return e.replace(/:\//g,"://").replace(/([^:\s])\/+/g,"$1/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/(\?.+)\?/g,"$1&")}:e.urljoin=function(){var t=arguments;"object"==typeof arguments[0]&&(t=arguments[0]);var e=[].slice.call(t,0).join("/");return e.replace(/:\//g,"://").replace(/([^:\s])\/+/g,"$1/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/(\?.+)\?/g,"$1&")}})),o=r((function(t,e){var n=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},e.merge=function(t,r,i){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var o=t;return Array.isArray(t)&&!Array.isArray(r)&&(o=e.arrayToObject(t,i)),Array.isArray(t)&&Array.isArray(r)?(r.forEach((function(r,o){n.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],r,i):t.push(r):t[o]=r})),t):Object.keys(r).reduce((function(t,n){var o=r[n];return Object.prototype.hasOwnProperty.call(t,n)?t[n]=e.merge(t[n],o,i):t[n]=o,t}),o)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",i=0;i<e.length;++i){var o=e.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=e.charAt(i):o<128?n+=r[o]:o<2048?n+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?n+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(i)),n+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return n},e.compact=function(t,n){if("object"!=typeof t||null===t)return t;var r=n||[],i=r.indexOf(t);if(-1!==i)return r[i];if(r.push(t),Array.isArray(t)){for(var o=[],a=0;a<t.length;++a)t[a]&&"object"==typeof t[a]?o.push(e.compact(t[a],r)):void 0!==t[a]&&o.push(t[a]);return o}return Object.keys(t).forEach((function(n){t[n]=e.compact(t[n],r)})),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}})),a=(o.arrayToObject,o.merge,o.decode,o.encode,o.compact,o.isRegExp,o.isBuffer,String.prototype.replace),s=/%20/g,u={default:"RFC3986",formatters:{RFC1738:function(t){return a.call(t,s,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},c={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Date.prototype.toISOString,f={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},h=function t(e,n,r,i,a,s,u,c,l,f,h,p){var d=e;if("function"==typeof u)d=u(n,d);else if(d instanceof Date)d=f(d);else if(null===d){if(i)return s&&!p?s(n):n;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||o.isBuffer(d))return s?[h(p?n:s(n))+"="+h(s(d))]:[h(n)+"="+h(String(d))];var v,y=[];if(void 0===d)return y;if(Array.isArray(u))v=u;else{var m=Object.keys(d);v=c?m.sort(c):m}for(var g=0;g<v.length;++g){var b=v[g];a&&null===d[b]||(y=Array.isArray(d)?y.concat(t(d[b],r(n,b),r,i,a,s,u,c,l,f,h,p)):y.concat(t(d[b],n+(l?"."+b:"["+b+"]"),r,i,a,s,u,c,l,f,h,p)))}return y},p=Object.prototype.hasOwnProperty,d={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},v=function(t,e,n){if(!t.length)return e;var r,i=t.shift();if("[]"===i)r=(r=[]).concat(v(t,e,n));else{r=n.plainObjects?Object.create(null):{};var o="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,a=parseInt(o,10);!isNaN(a)&&i!==o&&String(a)===o&&a>=0&&n.parseArrays&&a<=n.arrayLimit?(r=[])[a]=v(t,e,n):r[o]=v(t,e,n)}return r},y=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),a=o?r.slice(0,o.index):r,s=[];if(a){if(!n.plainObjects&&p.call(Object.prototype,a)&&!n.allowPrototypes)return;s.push(a)}for(var u=0;null!==(o=i.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&p.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+r.slice(o.index)+"]"),v(s,e,n)}},m=function(t,e){var n=e||{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.delimiter="string"==typeof n.delimiter||o.isRegExp(n.delimiter)?n.delimiter:d.delimiter,n.depth="number"==typeof n.depth?n.depth:d.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:d.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:d.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:d.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:d.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:d.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:d.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:d.strictNullHandling,""===t||null==t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?function(t,e){for(var n={},r=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),i=0;i<r.length;++i){var o,a,s=r[i],u=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;-1===u?(o=e.decoder(s),a=e.strictNullHandling?null:""):(o=e.decoder(s.slice(0,u)),a=e.decoder(s.slice(u+1))),p.call(n,o)?n[o]=[].concat(n[o]).concat(a):n[o]=a}return n}(t,n):t,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var u=a[s],c=y(u,r[u],n);i=o.merge(i,c,n)}return o.compact(i)},g=function(t,e){var n=t,r=e||{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===r.delimiter?f.delimiter:r.delimiter,o="boolean"==typeof r.strictNullHandling?r.strictNullHandling:f.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:f.skipNulls,s="boolean"==typeof r.encode?r.encode:f.encode,l="function"==typeof r.encoder?r.encoder:f.encoder,p="function"==typeof r.sort?r.sort:null,d=void 0!==r.allowDots&&r.allowDots,v="function"==typeof r.serializeDate?r.serializeDate:f.serializeDate,y="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:f.encodeValuesOnly;if(void 0===r.format)r.format=u.default;else if(!Object.prototype.hasOwnProperty.call(u.formatters,r.format))throw new TypeError("Unknown format option provided.");var m,g,b=u.formatters[r.format];"function"==typeof r.filter?n=(g=r.filter)("",n):Array.isArray(r.filter)&&(m=g=r.filter);var _,w=[];if("object"!=typeof n||null===n)return"";_=r.arrayFormat in c?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var x=c[_];m||(m=Object.keys(n)),p&&m.sort(p);for(var E=0;E<m.length;++E){var T=m[E];a&&null===n[T]||(w=w.concat(h(n[T],T,x,o,a,s?l:null,g,p,d,v,b,y)))}return w.join(i)},b=r((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}));var _=function(t){return null!==t&&"object"==typeof t},w=x;function x(t){if(t)return function(t){for(var e in x.prototype)t[e]=x.prototype[e];return t}(t)}x.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},x.prototype.parse=function(t){return this._parser=t,this},x.prototype.responseType=function(t){return this._responseType=t,this},x.prototype.serialize=function(t){return this._serializer=t,this},x.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},x.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var E=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];x.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~E.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},x.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},x.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){n.end((function(n,r){n?e(n):t(r)}))}))}return this._fullfilledPromise.then(t,e)},x.prototype.catch=function(t){return this.then(void 0,t)},x.prototype.use=function(t){return t(this),this},x.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},x.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},x.prototype.get=function(t){return this._header[t.toLowerCase()]},x.prototype.getHeader=x.prototype.get,x.prototype.set=function(t,e){if(_(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},x.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},x.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),_(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)this.field(t,e[r]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},x.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},x.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},x.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},x.prototype.redirects=function(t){return this._maxRedirects=t,this},x.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},x.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},x.prototype.send=function(t){var e=_(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&_(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||n||this.type("json"),this},x.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},x.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},x.prototype._appendQueryString=function(){console.trace("Unsupported")},x.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error(t+e+"ms exceeded");r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},x.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};var T=function(t){return t.split(/ *; */).shift()},O=function(t){return t.split(/ *; */).reduce((function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t}),{})},S=function(t){return t.split(/ *, */).reduce((function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t}),{})},C=A;function A(t){if(t)return function(t){for(var e in A.prototype)t[e]=A.prototype[e];return t}(t)}function M(){this._defaults=[]}A.prototype.get=function(t){return this.header[t.toLowerCase()]},A.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=T(e);var n=O(e);for(var r in n)this[r]=n[r];this.links={};try{t.link&&(this.links=S(t.link))}catch(t){}},A.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(t){M.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}})),M.prototype._setDefaults=function(t){this._defaults.forEach((function(e){t[e.fn].apply(t,e.arguments)}))};for(var P=M,k=r((function(t,e){var r;function i(){}"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=n);var o=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=h,o.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var a="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function s(t){if(!_(t))return t;var e=[];for(var n in t)u(e,n,t[n]);return e.join("&")}function u(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){u(t,e,n)}));else if(_(n))for(var r in n)u(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function c(t){for(var e,n,r={},i=t.split("&"),o=0,a=i.length;o<a;++o)-1==(n=(e=i[o]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function l(t){return/[\/+]json($|[^-\w])/.test(t)}function f(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,n,r,i,o=t.split(/\r?\n/),s={},u=0,c=o.length;u<c;++u)-1!==(e=(n=o[u]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),i=a(n.slice(e+1)),s[r]=i);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,r=null;try{r=new f(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)}))}function p(t,e,n){var r=o("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}o.serializeObject=s,o.parseString=c,o.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},o.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},o.parse={"application/x-www-form-urlencoded":c,"application/json":JSON.parse},C(f.prototype),f.prototype._parseBody=function(t){var e=o.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&l(this.type)&&(e=o.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},f.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},o.Response=f,b(h.prototype),w(h.prototype),h.prototype.type=function(t){return this.set("Content-Type",o.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",o.types[t]||t),this},h.prototype.auth=function(t,e,n){return 1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"}),this._auth(t,e,n,(function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")}))},h.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},h.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},h.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.buffer=h.prototype.ca=h.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},h.prototype.pipe=h.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},h.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},h.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||i,this._finalizeQueryString(),this._end()},h.prototype._end=function(){var t=this,e=this.xhr=o.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=r.bind(null,"download"),e.upload&&(e.upload.onprogress=r.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],a=this._serializer||o.serialize[i?i.split(";")[0]:""];!a&&l(i)&&(a=o.serialize["application/json"]),a&&(n=a(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},o.agent=function(){return new P},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){P.prototype[t.toLowerCase()]=function(e,n){var r=new o.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}})),P.prototype.del=P.prototype.delete,o.get=function(t,e,n){var r=o("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},o.head=function(t,e,n){var r=o("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},o.options=function(t,e,n){var r=o("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.del=p,o.delete=p,o.patch=function(t,e,n){var r=o("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.post=function(t,e,n){var r=o("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.put=function(t,e,n){var r=o("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}})),I=(k.Request,function(t){return 3*t.length/4-z(t)}),D=function(t){var e,n,r,i,o,a,s=t.length;o=z(t),a=new L(3*s/4-o),r=o>0?s-4:s;var u=0;for(e=0,n=0;e<r;e+=4,n+=3)i=F[t.charCodeAt(e)]<<18|F[t.charCodeAt(e+1)]<<12|F[t.charCodeAt(e+2)]<<6|F[t.charCodeAt(e+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=F[t.charCodeAt(e)]<<2|F[t.charCodeAt(e+1)]>>4,a[u++]=255&i):1===o&&(i=F[t.charCodeAt(e)]<<10|F[t.charCodeAt(e+1)]<<4|F[t.charCodeAt(e+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a},R=function(t){for(var e,n=t.length,r=n%3,i="",o=[],a=0,s=n-r;a<s;a+=16383)o.push(q(t,a,a+16383>s?s:a+16383));return 1===r?(e=t[n-1],i+=j[e>>2],i+=j[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=j[e>>10],i+=j[e>>4&63],i+=j[e<<2&63],i+="="),o.push(i),o.join("")},j=[],F=[],L="undefined"!=typeof Uint8Array?Uint8Array:Array,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=0,U=N.length;B<U;++B)j[B]=N[B],F[N.charCodeAt(B)]=B;function z(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function q(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(j[(a=r)>>18&63]+j[a>>12&63]+j[a>>6&63]+j[63&a]);var a;return i.join("")}F["-".charCodeAt(0)]=62,F["_".charCodeAt(0)]=63;var H={byteLength:I,toByteArray:D,fromByteArray:R};var V={encode:function(t){return H.fromByteArray(function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)).replace(/\+/g,"-").replace(/\//g,"_")},decode:function(t){return t=function(t){var e=t.length%4;return 0===e?t:t+new Array(4-e+1).join("=")}(t).replace(/-/g,"+").replace(/_/g,"/"),function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}(H.toByteArray(t))}},W={raw:"9.8.0"};function X(t){this.request=t,this.method=t.method,this.url=t.url,this.body=t._data,this.headers=t._header}function G(t){this.request=t}function Y(t){this._sendTelemetry=!1!==t._sendTelemetry||t._sendTelemetry,this._telemetryInfo=t._telemetryInfo||null,this._timesToRetryFailedRequests=t._timesToRetryFailedRequests,this.headers=t.headers||{}}X.prototype.abort=function(){this.request.abort()},X.prototype.getMethod=function(){return this.method},X.prototype.getBody=function(){return this.body},X.prototype.getUrl=function(){return this.url},X.prototype.getHeaders=function(){return this.headers},G.prototype.set=function(t,e){return this.request=this.request.set(t,e),this},G.prototype.send=function(t){return this.request=this.request.send(t),this},G.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},G.prototype.end=function(t){return this.request=this.request.end(t),new X(this.request)},Y.prototype.setCommonConfiguration=function(t,e){if(e=e||{},this._timesToRetryFailedRequests>0&&(t=t.retry(this._timesToRetryFailedRequests)),e.noHeaders)return t;var n=this.headers;t=t.set("Content-Type","application/json");for(var r=Object.keys(this.headers),i=0;i<r.length;i++)t=t.set(r[i],n[r[i]]);return this._sendTelemetry&&(t=t.set("Auth0-Client",this.getTelemetryData())),t},Y.prototype.getTelemetryData=function(){var t=this._telemetryInfo||{name:"auth0.js",version:W.raw},e=JSON.stringify(t);return V.encode(e)},Y.prototype.get=function(t,e){return new G(this.setCommonConfiguration(k.get(t),e))},Y.prototype.post=function(t,e){return new G(this.setCommonConfiguration(k.post(t),e))},Y.prototype.patch=function(t,e){return new G(this.setCommonConfiguration(k.patch(t),e))};var K=Object.prototype.toString;function $(t,e,n,r){if(n="array"===n?"object":n,t&&typeof t[e]!==n)throw new Error(r)}function J(t,e,n){if(typeof t!==e)throw new Error(n)}function Z(t,e,n){if(-1===e.indexOf(t))throw new Error(n)}var Q={check:function(t,e,n){if(e.optional&&!t||J(t,e.type,e.message),"object"===e.type&&n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i];n[o].optional&&!t[o]||n[o].condition&&!n[o].condition(t)||($(t,o,n[o].type,n[o].message),n[o].values&&Z(t[o],n[o].values,n[o].value_message))}},attribute:$,variable:J,value:Z,isArray:function(t){return this.supportsIsArray()?Array.isArray(t):"[object Array]"===K.call(t)},supportsIsArray:function(){return null!=Array.isArray}};function tt(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i=Object.keys(Object(r)),o=0,a=i.length;o<a;o++){var s=i[o],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(e[s]=r[s])}}return e}var et={get:function(){return Object.assign?Object.assign:tt},objectAssignPolyfill:tt};function nt(t,e){return e.reduce((function(e,n){return t[n]&&(e[n]=t[n]),e}),{})}function rt(t){var e=[];for(var n in t)e.push(t[n]);return e}function it(){var t=rt(arguments);return t.unshift({}),et.get().apply(void 0,t)}function ot(t){var e=t.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}var at={toSnakeCase:function t(e,n){return"object"!=typeof e||Q.isArray(e)||null===e?e:(n=n||[],Object.keys(e).reduce((function(r,i){return r[-1===n.indexOf(i)?function(t){for(var e,n="",r=0,i=!0,o=!0;r<t.length;)e=t.charCodeAt(r),!o&&e>=65&&e<=90||!i&&e>=48&&e<=57?(n+="_",n+=t[r].toLowerCase()):n+=t[r].toLowerCase(),i=e>=48&&e<=57,o=e>=65&&e<=90,r++;return n}(i):i]=t(e[i]),r}),{}))},toCamelCase:function t(e,n){return"object"!=typeof e||Q.isArray(e)||null===e?e:(n=n||[],Object.keys(e).reduce((function(r,i){return r[-1===n.indexOf(i)?(o=i,a=o.split("_"),a.reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}),a.shift())):i]=t(e[i]),r;var o,a}),{}))},blacklist:function(t,e){return Object.keys(t).reduce((function(n,r){return-1===e.indexOf(r)&&(n[r]=t[r]),n}),{})},merge:function(t,e){return{base:e?nt(t,e):t,with:function(t,e){return t=e?nt(t,e):t,it(this.base,t)}}},pick:nt,getKeysNotIn:function(t,e){var n=[];for(var r in t)-1===e.indexOf(r)&&n.push(r);return n},extend:it,getOriginFromUrl:function(t){if(t){var e=ot(t),n=e.protocol+"//"+e.hostname;return e.port&&(n+=":"+e.port),n}},getLocationFromUrl:ot};function st(){return window}var ut={redirect:function(t){st().location=t},getDocument:function(){return st().document},getWindow:st,getOrigin:function(){var t=st().location,e=t.origin;return e||(e=at.getOriginFromUrl(t.href)),e}};function ct(){}ct.prototype.getItem=function(){return null},ct.prototype.removeItem=function(){},ct.prototype.setItem=function(){};var lt=r((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function e(n){function r(e,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(t){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c]));return document.cookie=e+"="+i+u}e||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var p=l[h].split("="),d=p.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var v=p[0].replace(f,decodeURIComponent);if(d=n.read?n.read(d,v):n(d,v)||d.replace(f,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(e===v){a=d;break}e||(a[v]=d)}catch(t){}}return a}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}((function(){}))},t.exports=n()}));function ft(){}function ht(t){this.disableWarnings=t.disableWarnings}function pt(t){if(this.warn=new ht({}),this.storage=new ft,!0===t.__tryLocalStorageFirst)try{var e=ut.getWindow().localStorage;e&&(this.storage=e)}catch(t){this.warn.warning(t),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function dt(t){this.handler=new pt(t)}function vt(t){this.storage=new dt(t)}function yt(t,e){return{error:t,errorDescription:e}}ft.prototype.getItem=function(t){return lt.get(t)},ft.prototype.removeItem=function(t){lt.remove(t)},ft.prototype.setItem=function(t,e,n){var r=at.extend({expires:1},n);lt.set(t,e,r)},ht.prototype.warning=function(t){this.disableWarnings||console.warn(t)},pt.prototype.failover=function(){this.storage instanceof ct?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof ft?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new ct):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new ft)},pt.prototype.getItem=function(t){try{return this.storage.getItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.getItem(t)}},pt.prototype.removeItem=function(t){try{return this.storage.removeItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.removeItem(t)}},pt.prototype.setItem=function(t,e,n){try{return this.storage.setItem(t,e,n)}catch(r){return this.warn.warning(r),this.failover(),this.setItem(t,e,n)}},dt.prototype.getItem=function(t){var e=this.handler.getItem(t);try{return JSON.parse(e)}catch(t){return e}},dt.prototype.removeItem=function(t){return this.handler.removeItem(t)},dt.prototype.setItem=function(t,e,n){var r=JSON.stringify(e);return this.handler.setItem(t,r,n)},vt.prototype.set=function(t,e){var n={lastUsedConnection:t,lastUsedSub:e};this.storage.setItem("auth0.ssodata",JSON.stringify(n))},vt.prototype.get=function(){var t=this.storage.getItem("auth0.ssodata");if(t)return JSON.parse(t)};var mt={buildResponse:yt,invalidToken:function(t){return yt("invalid_token",t)}};function gt(t,e){return(e=e||{}).ignoreCasing=!!e.ignoreCasing&&e.ignoreCasing,function(n,r){var i;return n||r?(!n&&r.err&&(n=r.err,r=null),!n&&r.error&&(n=r,r=null),n?(i={original:n},n.response&&n.response.statusCode&&(i.statusCode=n.response.statusCode),n.response&&n.response.statusText&&(i.statusText=n.response.statusText),n.response&&n.response.body&&(n=n.response.body),n.err&&(n=n.err),i.code=n.error||n.code||n.error_code||n.status||null,i.description=n.errorDescription||n.error_description||n.description||n.error||n.details||n.err||null,e.forceLegacyError&&(i.error=i.code,i.error_description=i.description),n.name&&(i.name=n.name),n.policy&&(i.policy=n.policy),t(i)):!r.type||"text/html"!==r.type&&"text/plain"!==r.type?e.ignoreCasing?t(null,r.body||r):t(null,at.toCamelCase(r.body||r)):t(null,r.text)):t(mt.buildResponse("generic_error","Something went wrong"))}}var bt=["realm","audience","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],_t=["connection","connection_scope","auth0Client","owp","device","realm","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"];var wt={oauthTokenParams:function(t,e){return at.pick(e,bt)},oauthAuthorizeParams:function(t,e){var n=at.getKeysNotIn(e,_t);return n.length>0&&t.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+n.join(",")+"]"),e}},xt=r((function(t,e){var n;t.exports=n=n||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=i(4294967296*(n||t.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,e)}}),s=r.enc={},u=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),u=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,c=t.min(4*u,i);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(r,l);var f=r.splice(0,u);n.sigBytes-=c}return new a.init(f,c)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(i.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math)})),Et=r((function(t,e){var n;t.exports=(n=xt,function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++}();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],h=n[7],p=0;p<64;p++){if(p<16)c[p]=0|t[e+p];else{var d=c[p-15],v=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,y=c[p-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[p]=v+c[p-7]+m+c[p-16]}var g=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+u[p]+c[p];h=f,f=l,l=s,s=a+_|0,a=o,o=i,i=r,r=_+(b+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)})),Tt=r((function(t,e){var n,r,i;t.exports=(i=(r=n=xt).lib.WordArray,r.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var r=[],o=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,u=n[t.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|u)<<24-o%4*8,o++}return i.create(r,o)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)})),Ot=r((function(t,e){t.exports=xt.enc.Hex})),St=r((function(t,e){(function(){var e;function n(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function r(){return new n(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(t,e,n,r,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},e=30):i&&"Netscape"!=navigator.appName?(n.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var a=e*this[t++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},e=26):(n.prototype.am=function(t,e,n,r,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},e=28),n.prototype.DB=e,n.prototype.DM=(1<<e)-1,n.prototype.DV=1<<e,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-e,n.prototype.F2=2*e-52;var o,a,s=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)s[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)s[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)s[o++]=a;function u(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function c(t,e){var n=s[t.charCodeAt(e)];return null==n?-1:n}function l(t){var e=r();return e.fromInt(t),e}function f(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function h(t){this.m=t}function p(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function d(t,e){return t&e}function v(t,e){return t|e}function y(t,e){return t^e}function m(t,e){return t&~e}function g(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function b(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function _(){}function w(t){return t}function x(t){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}h.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},h.prototype.revert=function(t){return t},h.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},h.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},h.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},p.prototype.convert=function(t){var e=r();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e},p.prototype.revert=function(t){var e=r();return t.copyTo(e),this.reduce(e),e},p.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},p.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},p.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},n.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},n.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},n.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,a=0;--i>=0;){var s=8==r?255&t[i]:c(t,i);s<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},n.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},n.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},n.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},n.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<i,e[a-n]=this[a]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},n.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},n.prototype.multiplyTo=function(t,e){var r=this.abs(),i=t.abs(),o=r.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+r.t]=r.am(0,i[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)},n.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},n.prototype.divRemTo=function(t,e,i){var o=t.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var s=r(),u=this.s,c=t.s,l=this.DB-f(o[o.t-1]);l>0?(o.lShiftTo(l,s),a.lShiftTo(l,i)):(o.copyTo(s),a.copyTo(i));var h=s.t,p=s[h-1];if(0!=p){var d=p*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),v=this.FV/d,y=(1<<this.F1)/d,m=1<<this.F2,g=i.t,b=g-h,_=null==e?r():e;for(s.dlShiftTo(b,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),n.ONE.dlShiftTo(h,_),_.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--b>=0;){var w=i[--g]==p?this.DM:Math.floor(i[g]*v+(i[g-1]+m)*y);if((i[g]+=s.am(0,w,i,b,0,h))<w)for(s.dlShiftTo(b,_),i.subTo(_,i);i[g]<--w;)i.subTo(_,i)}null!=e&&(i.drShiftTo(h,e),u!=c&&n.ZERO.subTo(e,e)),i.t=h,i.clamp(),l>0&&i.rShiftTo(l,i),u<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(t,e){if(t>4294967295||t<1)return n.ONE;var i=r(),o=r(),a=e.convert(this),s=f(t)-1;for(a.copyTo(i);--s>=0;)if(e.sqrTo(i,o),(t&1<<s)>0)e.mulTo(o,a,i);else{var u=i;i=o,o=u}return e.revert(i)},n.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=u(n));a>=0;)s<e?(n=(this[a]&(1<<s)-1)<<e-s,n|=this[--a]>>(s+=this.DB-e)):(n=this[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=u(n));return i?o:"0"},n.prototype.negate=function(){var t=r();return n.ZERO.subTo(this,t),t},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(t){var e=r();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e},n.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new h(e):new p(e),this.exp(t,n)},n.ZERO=l(0),n.ONE=l(1),_.prototype.convert=w,_.prototype.revert=w,_.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},_.prototype.sqrTo=function(t,e){t.squareTo(e)},x.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=r();return t.copyTo(e),this.reduce(e),e},x.prototype.revert=function(t){return t},x.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},x.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},x.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var E,T,O,S=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],C=(1<<26)/S[S.length-1];function A(){var t;t=(new Date).getTime(),T[O++]^=255&t,T[O++]^=t>>8&255,T[O++]^=t>>16&255,T[O++]^=t>>24&255,O>=j&&(O-=j)}if(n.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},n.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=l(n),o=r(),a=r(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(n+a.intValue()).toString(t).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(t)+s},n.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),o=!1,a=0,s=0,u=0;u<t.length;++u){var l=c(t,u);l<0?"-"==t.charAt(u)&&0==this.signum()&&(o=!0):(s=e*s+l,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},n.prototype.changeBit=function(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},n.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},n.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},n.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},n.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},n.prototype.millerRabin=function(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var o=e.shiftRight(i);(t=t+1>>1)>S.length&&(t=S.length);for(var a=r(),s=0;s<t;++s){a.fromInt(S[Math.floor(Math.random()*S.length)]);var u=a.modPow(o,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<i&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},n.prototype.clone=function(){var t=r();return this.copyTo(t),t},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},n.prototype.equals=function(t){return 0==this.compareTo(t)},n.prototype.min=function(t){return this.compareTo(t)<0?this:t},n.prototype.max=function(t){return this.compareTo(t)>0?this:t},n.prototype.and=function(t){var e=r();return this.bitwiseTo(t,d,e),e},n.prototype.or=function(t){var e=r();return this.bitwiseTo(t,v,e),e},n.prototype.xor=function(t){var e=r();return this.bitwiseTo(t,y,e),e},n.prototype.andNot=function(t){var e=r();return this.bitwiseTo(t,m,e),e},n.prototype.not=function(){for(var t=r(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},n.prototype.shiftLeft=function(t){var e=r();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},n.prototype.shiftRight=function(t){var e=r();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},n.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+g(this[t]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=b(this[n]^e);return t},n.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},n.prototype.setBit=function(t){return this.changeBit(t,v)},n.prototype.clearBit=function(t){return this.changeBit(t,m)},n.prototype.flipBit=function(t){return this.changeBit(t,y)},n.prototype.add=function(t){var e=r();return this.addTo(t,e),e},n.prototype.subtract=function(t){var e=r();return this.subTo(t,e),e},n.prototype.multiply=function(t){var e=r();return this.multiplyTo(t,e),e},n.prototype.divide=function(t){var e=r();return this.divRemTo(t,e,null),e},n.prototype.remainder=function(t){var e=r();return this.divRemTo(t,null,e),e},n.prototype.divideAndRemainder=function(t){var e=r(),n=r();return this.divRemTo(t,e,n),new Array(e,n)},n.prototype.modPow=function(t,e){var n,i,o=t.bitLength(),a=l(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new h(e):e.isEven()?new x(e):new p(e);var s=new Array,u=3,c=n-1,d=(1<<n)-1;if(s[1]=i.convert(this),n>1){var v=r();for(i.sqrTo(s[1],v);u<=d;)s[u]=r(),i.mulTo(v,s[u-2],s[u]),u+=2}var y,m,g=t.t-1,b=!0,_=r();for(o=f(t[g])-1;g>=0;){for(o>=c?y=t[g]>>o-c&d:(y=(t[g]&(1<<o+1)-1)<<c-o,g>0&&(y|=t[g-1]>>this.DB+o-c)),u=n;0==(1&y);)y>>=1,--u;if((o-=u)<0&&(o+=this.DB,--g),b)s[y].copyTo(a),b=!1;else{for(;u>1;)i.sqrTo(a,_),i.sqrTo(_,a),u-=2;u>0?i.sqrTo(a,_):(m=a,a=_,_=m),i.mulTo(_,s[y],a)}for(;g>=0&&0==(t[g]&1<<o);)i.sqrTo(a,_),m=a,a=_,_=m,--o<0&&(o=this.DB-1,--g)}return i.revert(a)},n.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),o=l(1),a=l(0),s=l(0),u=l(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),e&&o.subTo(s,o),a.subTo(u,a)):(i.subTo(r,i),e&&s.subTo(o,s),u.subTo(a,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},n.prototype.pow=function(t){return this.exp(t,new _)},n.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=S[S.length-1]){for(e=0;e<S.length;++e)if(n[0]==S[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<S.length;){for(var r=S[e],i=e+1;i<S.length&&r<C;)r*=S[i++];for(r=n.modInt(r);e<i;)if(r%S[e++]==0)return!1}return n.millerRabin(t)},n.prototype.square=function(){var t=r();return this.squareTo(t),t},n.prototype.Barrett=x,null==T){var M;if(T=new Array,O=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var P=new Uint8Array(32);for(window.crypto.getRandomValues(P),M=0;M<32;++M)T[O++]=P[M]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var k=window.crypto.random(32);for(M=0;M<k.length;++M)T[O++]=255&k.charCodeAt(M)}for(;O<j;)M=Math.floor(65536*Math.random()),T[O++]=M>>>8,T[O++]=255&M;O=0,A()}function I(){if(null==E){for(A(),(E=new R).init(T),O=0;O<T.length;++O)T[O]=0;O=0}return E.next()}function D(){}function R(){this.i=0,this.j=0,this.S=new Array}D.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=I()},R.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},R.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var j=256;n.SecureRandom=D,n.BigInteger=n,t.exports=n}).call(n)})).BigInteger,Ct={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},At={sha256:Et};function Mt(t,e){if(this.n=null,this.e=0,!(null!=t&&null!=e&&t.length>0&&e.length>0))throw new Error("Invalid key data");this.n=new St(t,16),this.e=parseInt(e,16)}Mt.prototype.verify=function(t,e){e=e.replace(/[^0-9a-f]|[\s\n]]/gi,"");var n=new St(e,16);if(n.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var r=function(t){for(var e in Ct){var n=Ct[e],r=n.length;if(t.substring(0,r)===n)return{alg:e,hash:t.substring(r)}}return[]}(n.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===r.length)return!1;if(!At.hasOwnProperty(r.alg))throw new Error("Hashing algorithm is not supported.");var i=At[r.alg](t).toString();return r.hash===i};var Pt=Mt;function kt(t){var e=t.length%4;return 0===e?t:t+new Array(4-e+1).join("=")}function It(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function Dt(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function Rt(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);e+=2===r.length?r:"0"+r}return e}var jt={encodeString:function(t){return H.fromByteArray(Dt(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))).replace(/\+/g,"-").replace(/\//g,"_")},decodeToString:function(t){return t=kt(t).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(It(H.toByteArray(t)).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},byteArrayToString:It,stringToByteArray:Dt,padding:kt,byteArrayToHex:Rt,decodeToHEX:function(t){return Rt(H.toByteArray(kt(t)))},base64ToBase64Url:function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+\/=]/g,(function(t){return e[t]}))}};function Ft(t){return{modulus:jt.decodeToHEX(t.n),exp:jt.decodeToHEX(t.e)}}var Lt={process:Ft,getJWKS:function(t,e){var n=t.jwksURI||i(t.iss,".well-known","jwks.json");return k.get(n).end((function(n,r){var i,o,a=null;if(n)return e(n);for(i=0;i<r.body.keys.length&&null===a;i++)(o=r.body.keys[i]).kid===t.kid&&(a=o);return e(null,Ft(a))}))}};function Nt(t){this.name="ConfigurationError",this.message=t||""}function Bt(t){this.name="TokenValidationError",this.message=t||""}Nt.prototype=Error.prototype,Bt.prototype=Error.prototype;var Ut={ConfigurationError:Nt,TokenValidationError:Bt};function zt(){}zt.prototype.get=function(){return null},zt.prototype.has=function(){return!1},zt.prototype.set=function(){};var qt=zt,Ht=["RS256"];function Vt(t){var e=t||{};if(this.jwksCache=e.jwksCache||new qt,this.expectedAlg=e.expectedAlg||"RS256",this.issuer=e.issuer,this.audience=e.audience,this.leeway=e.leeway||0,this.__disableExpirationCheck=e.__disableExpirationCheck||!1,this.jwksURI=e.jwksURI,this.leeway<0||this.leeway>60)throw new Ut.ConfigurationError("The leeway should be positive and lower than a minute.");if(-1===Ht.indexOf(this.expectedAlg))throw new Ut.ConfigurationError("Algorithm "+this.expectedAlg+" is not supported. (Expected algs: ["+Ht.join(",")+"])")}Vt.prototype.verify=function(t,e,n){var r=this.decode(t);if(r instanceof Error)return n(r,!1);var i=r.encoded.header+"."+r.encoded.payload,o=jt.decodeToHEX(r.encoded.signature),a=r.header.alg,s=r.header.kid,u=r.payload.aud,c=r.payload.iss,l=r.payload.exp,f=r.payload.nbf,h=r.payload.nonce||null;if(this.issuer!==c)return n(new Ut.TokenValidationError("Issuer "+c+" is not valid."),!1);if(this.audience!==u)return n(new Ut.TokenValidationError("Audience "+u+" is not valid."),!1);if(this.expectedAlg!==a)return n(new Ut.TokenValidationError("Algorithm "+a+" is not supported. (Expected algs: ["+Ht.join(",")+"])"),!1);if(h!==e)return n(new Ut.TokenValidationError("Nonce does not match."),!1);var p=this.verifyExpAndNbf(l,f);return p?n(p,!1):this.getRsaVerifier(c,s,(function(t,e){return t?n(t):e.verify(i,o)?n(null,r.payload):n(new Ut.TokenValidationError("Invalid signature."))}))},Vt.prototype.verifyExpAndNbf=function(t,e){var n=new Date,r=new Date(0),i=new Date(0);return this.__disableExpirationCheck?null:(r.setUTCSeconds(t+this.leeway),n>r?new Ut.TokenValidationError("Expired token."):void 0===e?null:(i.setUTCSeconds(e-this.leeway),n<i?new Ut.TokenValidationError("The token is not valid until later in the future. Please check your computed clock."):null))},Vt.prototype.verifyExpAndIat=function(t,e){var n=new Date,r=new Date(0),i=new Date(0);return this.__disableExpirationCheck?null:(r.setUTCSeconds(t+this.leeway),n>r?new Ut.TokenValidationError("Expired token."):(i.setUTCSeconds(e-this.leeway),n<i?new Ut.TokenValidationError("The token was issued in the future. Please check your computed clock."):null))},Vt.prototype.getRsaVerifier=function(t,e,n){var r=this,i=t+e;if(this.jwksCache.has(i)){var o=this.jwksCache.get(i);n(null,new Pt(o.modulus,o.exp))}else Lt.getJWKS({jwksURI:this.jwksURI,iss:t,kid:e},(function(t,e){return t?n(t):(r.jwksCache.set(i,e),n(null,new Pt(e.modulus,e.exp)))}))},Vt.prototype.decode=function(t){var e,n,r=t.split(".");if(3!==r.length)return new Ut.TokenValidationError("Cannot decode a malformed JWT");try{e=JSON.parse(jt.decodeToString(r[0])),n=JSON.parse(jt.decodeToString(r[1]))}catch(t){return new Ut.TokenValidationError("Token header or payload is not valid JSON")}return{header:e,payload:n,encoded:{header:r[0],payload:r[1],signature:r[2]}}},Vt.prototype.validateAccessToken=function(t,e,n,r){if(this.expectedAlg!==e)return r(new Ut.TokenValidationError("Algorithm "+e+" is not supported. (Expected alg: "+this.expectedAlg+")"));var i=Et(t),o=Ot.stringify(i),a=o.substring(0,o.length/2),s=Ot.parse(a),u=Tt.stringify(s);return r(jt.base64ToBase64Url(u)!==n?new Ut.TokenValidationError("Invalid access_token"):null)};var Wt=Vt;function Xt(t,e){this.plugins=e;for(var n=0;n<this.plugins.length;n++){if(this.plugins[n].version!==W.raw){var r="";throw this.plugins[n].constructor&&this.plugins[n].constructor.name&&(r=this.plugins[n].constructor.name),new Error("Plugin "+r+" version ("+this.plugins[n].version+") is not compatible with the SDK version ("+W.raw+")")}this.plugins[n].setWebAuth(t)}}Xt.prototype.get=function(t){for(var e=0;e<this.plugins.length;e++)if(this.plugins[e].supports(t))return this.plugins[e].init();return null};var Gt={randomString:function(t){var e=new Uint8Array(t),n=[],r="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",i=ut.getWindow().crypto||ut.getWindow().msCrypto;if(!i)return null;for(var o=i.getRandomValues(e),a=0;a<o.length;a++)n.push(r[o[a]%r.length]);return n.join("")}};function Yt(t){var e=t.transaction||{};this.namespace=e.namespace||"com.auth0.auth.",this.keyLength=e.keyLength||32,this.storage=new dt(t)}function Kt(t){if(this.url=t.url,this.callback=t.callback,this.timeout=t.timeout||6e4,this.timeoutCallback=t.timeoutCallback||null,this.eventListenerType=t.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=t.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw new Error("options.callback must be a function")}function $t(t){this.webAuth=t,this.warn=new ht(t.baseOptions)}function Jt(t,e){this.webAuth=t,this.baseOptions=e,this.request=new Y(e),this.webMessageHandler=new $t(t),this.storage=new dt(e)}function Zt(t,e){return["co/verifier",encodeURIComponent(t),encodeURIComponent(e)].join("/")}function Qt(t,e){this.webAuth=t,this.baseOptions=e,this.crossOriginAuthentication=new Jt(t,this.baseOptions),this.warn=new ht({disableWarnings:!!e._disableDeprecationWarnings})}Yt.prototype.process=function(t){if(!t.responseType)throw new Error("responseType is required");var e=t.realm||t.connection,n=-1!==t.responseType.indexOf("id_token"),r=this.generateTransaction(t.appState,t.state,t.nonce,e,n);return t.state||(t.state=r.state),n&&!t.nonce&&(t.nonce=r.nonce),t},Yt.prototype.generateTransaction=function(t,e,n,r,i){return e=e||Gt.randomString(this.keyLength),n=n||(i?Gt.randomString(this.keyLength):null),this.storage.setItem(this.namespace+e,{nonce:n,appState:t,state:e,lastUsedConnection:r},1/48),{state:e,nonce:n}},Yt.prototype.getStoredTransaction=function(t){var e;return e=this.storage.getItem(this.namespace+t),this.clearTransaction(t),e},Yt.prototype.clearTransaction=function(t){this.storage.removeItem(this.namespace+t)},Kt.prototype.init=function(){var t=this,e=ut.getWindow();switch(this.iframe=e.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(e){t.eventListener(e)},this.eventListenerType){case"message":this.eventSourceObject=e;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),e.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout((function(){t.timeoutHandler()}),this.timeout)},Kt.prototype.eventListener=function(t){var e={event:t,sourceObject:this.eventSourceObject};this.eventValidator.isValid(e)&&(this.destroy(),this.callback(e))},Kt.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},Kt.prototype.destroy=function(){var t=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout((function(){t.eventSourceObject.removeEventListener(t.eventListenerType,t.proxyEventListener,!1),t.iframe.parentNode&&t.iframe.parentNode.removeChild(t.iframe)}),0)},$t.prototype.run=function(t,e){var n=this;t.responseMode="web_message",t.prompt="none";var r=ut.getOrigin(),i=at.getOriginFromUrl(t.redirectUri);if(i&&r!==i)return e({error:"origin_mismatch",error_description:"The redirectUri's origin ("+i+") should match the window's origin ("+r+")."});!function(t,e,n){new Kt({url:t,eventListenerType:"message",callback:function(t){n(null,t)},timeout:e.timeout,eventValidator:{isValid:function(t){return"authorization_response"===t.event.data.type&&e.state===t.event.data.response.state}},timeoutCallback:function(){n({error:"timeout",error_description:"Timeout during executing web_message communication",state:e.state})}}).init()}(this.webAuth.client.buildAuthorizeUrl(t),t,(function(r,i){var o=r;if(!r&&i.event.data.response.error&&(o=i.event.data.response),!o){var a=i.event.data.response;return n.webAuth.validateAuthenticationResponse(t,a,e)}return"consent_required"===o.error&&"localhost"===ut.getWindow().location.hostname&&n.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),n.webAuth.transactionManager.clearTransaction(o.state),e(at.pick(o,["error","error_description"]))}))},Jt.prototype.login=function(t,e){var n=this,r=i(this.baseOptions.rootUrl,"/co/authenticate");t.username=t.username||t.email,delete t.email;var o={client_id:t.clientID||this.baseOptions.clientID,username:t.username};t.password&&(o.password=t.password),t.otp&&(o.otp=t.otp);var a=t.realm||this.baseOptions.realm;if(a){var s=t.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";o.realm=a,o.credential_type=s}else o.credential_type="password";this.request.post(r).withCredentials().send(o).end((function(r,i){if(r){var o=r.response&&r.response.body||{error:"request_error",error_description:JSON.stringify(r)};return gt(e,{forceLegacyError:!0})(o)}var a=!0===t.popup;t=at.blacklist(t,["password","credentialType","otp","popup"]);var s=at.merge(t).with({loginTicket:i.body.login_ticket}),u=Zt(n.baseOptions.rootUrl,i.body.co_id);n.storage.setItem(u,i.body.co_verifier,{expires:1/96}),a?n.webMessageHandler.run(s,gt(e,{forceLegacyError:!0})):n.webAuth.authorize(s)}))},Jt.prototype.callback=function(){var t=decodeURIComponent(function(t){var e=("&"+ut.getWindow().location.hash.substring(1)).split("&"+t+"=");if(2===e.length)return e.pop().split("&").shift()}("origin")),e=ut.getWindow(),n=this;e.addEventListener("message",(function(t){if("co_verifier_request"===t.data.type){var e=Zt(t.origin,t.data.request.id),r=function(t,e){try{var n=t.getItem(e);return t.removeItem(e),n||""}catch(t){return""}}(n.storage,e);t.source.postMessage({type:"co_verifier_response",response:{verifier:r}},t.origin)}})),e.parent.postMessage({type:"ready"},t)},Qt.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,delete t.connection,this.crossOriginAuthentication.login(t,e)},Qt.prototype.signupAndLogin=function(t,e){var n=this;return this.webAuth.client.dbConnection.signup(t,(function(r){return r?e(r):(t.realm=t.realm||t.connection,delete t.connection,n.webAuth.login(t,e))}))};var te=r((function(t){var e=function(){function t(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function e(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function n(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}var r=function(){if("undefined"==typeof navigator)return!1;var t=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)):e.indexOf("Trident")>-1&&null!==new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),t>=8}();return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(i,o){if(!o)throw"missing required callback argument";var a,s;i.url||(a="missing required 'url' parameter"),i.relay_url||(a="missing required 'relay_url' parameter"),a&&setTimeout((function(){o(a)}),0),i.window_name||(i.window_name=null),i.window_features&&!function(){try{var t=navigator.userAgent;return-1!=t.indexOf("Fennec/")||-1!=t.indexOf("Firefox/")&&-1!=t.indexOf("Android")}catch(t){}return!1}()||(i.window_features=void 0);var u,c=i.origin||n(i.url);if(c!==n(i.relay_url))return setTimeout((function(){o("invalid arguments: origin of url and relay_url must match")}),0);r&&((s=document.createElement("iframe")).setAttribute("src",i.relay_url),s.style.display="none",s.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(s),u=s.contentWindow);var l=i.popup||window.open(i.url,i.window_name,i.window_features);i.popup&&(l.location.href=i.url),u||(u=l);var f=setInterval((function(){l&&l.closed&&(p(),o&&(o("User closed the popup window"),o=null))}),500),h=JSON.stringify({a:"request",d:i.params});function p(){if(s&&document.body.removeChild(s),s=void 0,f&&(f=clearInterval(f)),e(window,"message",d),e(window,"unload",p),l)try{l.close()}catch(t){u.postMessage("die",c)}l=u=void 0}function d(t){if(t.origin===c){try{var e=JSON.parse(t.data)}catch(t){if(o)return o(t);throw t}"ready"===e.a?u.postMessage(h,c):"error"===e.a?(p(),o&&(o(e.d),o=null)):"response"===e.a&&(p(),o&&(o(null,e.d),o=null))}}return t(window,"unload",p),t(window,"message",d),{close:p,focus:function(){if(l)try{l.focus()}catch(t){}}}},onOpen:function(n){var i="*",o=r?function(){window.location;for(var t=window.opener.frames,e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(t){}}():window.opener;if(!o)throw"can't find relay frame";function a(t){t=JSON.stringify(t),r?o.doPost(t,i):o.postMessage(t,i)}function s(t){if("die"===t.data)try{window.close()}catch(t){}}t(r?o:window,"message",(function t(r){var o;try{o=JSON.parse(r.data)}catch(t){}o&&"request"===o.a&&(e(window,"message",t),i=r.origin,n&&setTimeout((function(){n(i,o.d,(function(t){n=void 0,a({a:"response",d:t})}))}),0))})),t(r?o:window,"message",s);try{a({a:"ready"})}catch(e){t(o,"load",(function(t){a({a:"ready"})}))}var u=function(){try{e(r?o:window,"message",s)}catch(t){}n&&a({a:"error",d:"client closed window"}),n=void 0;try{window.close()}catch(t){}};return t(window,"unload",u),{detach:function(){e(window,"unload",u)}}}}:{open:function(t,e,n,r){setTimeout((function(){r("unsupported browser")}),0)},onOpen:function(t){setTimeout((function(){t("unsupported browser")}),0)}}}();t.exports&&(t.exports=e)}));var ee={extractOrigin:function(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(t);return e?e[1]:t}};function ne(){this._current_popup=null}function re(t,e){this.baseOptions=e,this.baseOptions.popupOrigin=e.popupOrigin,this.client=t.client,this.webAuth=t,this.transactionManager=new Yt(this.baseOptions),this.crossOriginAuthentication=new Jt(t,this.baseOptions),this.warn=new ht({disableWarnings:!!e._disableDeprecationWarnings})}function ie(t){this.authenticationUrl=t.authenticationUrl,this.timeout=t.timeout||6e4,this.handler=null,this.postMessageDataType=t.postMessageDataType||!1,this.postMessageOrigin=t.postMessageOrigin||ut.getWindow().location.origin||ut.getWindow().location.protocol+"//"+ut.getWindow().location.hostname+(ut.getWindow().location.port?":"+ut.getWindow().location.port:"")}function oe(t){this.baseOptions=t,this.request=new Y(t),this.transactionManager=new Yt(this.baseOptions)}function ae(t,e){this.baseOptions=e,this.client=t,this.request=new Y(this.baseOptions),this.warn=new ht({disableWarnings:!!e._disableDeprecationWarnings})}function se(t){Q.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),t.overrides&&Q.check(t.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=t,this.baseOptions.plugins=new Xt(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=t._timesToRetryFailedRequests?parseInt(t._timesToRetryFailedRequests,0):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new Yt(this.baseOptions),this.client=new le(this.baseOptions),this.redirect=new Qt(this,this.baseOptions),this.popup=new re(this,this.baseOptions),this.crossOriginAuthentication=new Jt(this,this.baseOptions),this.webMessageHandler=new $t(this),this._universalLogin=new ae(this,this.baseOptions),this.ssodataStorage=new vt(this.baseOptions)}function ue(t,e){this.baseOptions=e,this.request=t}function ce(t,e){this.baseOptions=e,this.request=t}function le(t,e){2===arguments.length?this.auth0=t:e=t,Q.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl="https://"+this.baseOptions.domain,this.request=new Y(this.baseOptions),this.passwordless=new ue(this.request,this.baseOptions),this.dbConnection=new ce(this.request,this.baseOptions),this.warn=new ht({disableWarnings:!!e._disableDeprecationWarnings}),this.ssodataStorage=new vt(this.baseOptions)}function fe(t){Q.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new Y(this.baseOptions),this.baseOptions.rootUrl=i("https://"+this.baseOptions.domain,"api","v2")}ne.prototype.calculatePosition=function(t){var e=t.width||500,n=t.height||600,r=ut.getWindow(),i=void 0!==r.screenX?r.screenX:r.screenLeft,o=void 0!==r.screenY?r.screenY:r.screenTop;return{width:e,height:n,left:i+((void 0!==r.outerWidth?r.outerWidth:r.document.body.clientWidth)-e)/2,top:o+((void 0!==r.outerHeight?r.outerHeight:r.document.body.clientHeight)-n)/2}},ne.prototype.preload=function(t){var e=this,n=ut.getWindow(),r=this.calculatePosition(t.popupOptions||{}),i=at.merge(r).with(t.popupOptions),o=t.url||"about:blank",a=g(i,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=n.open(o,"auth0_signup_popup",a),this._current_popup.kill=function(){this.close(),e._current_popup=null}),this._current_popup},ne.prototype.load=function(t,e,n,r){var i=this,o=this.calculatePosition(n.popupOptions||{}),a=at.merge(o).with(n.popupOptions),s=at.merge({url:t,relay_url:e,window_features:g(a,{delimiter:",",encode:!1}),popup:this._current_popup}).with(n),u=te.open(s,(function(t,e){return i._current_popup=null,r(t,e)}));return u.focus(),u},re.prototype.buildPopupHandler=function(){var t=this.baseOptions.plugins.get("popup.getPopupHandler");return t?t.getPopupHandler():new ne},re.prototype.preload=function(t){t=t||{};var e=this.buildPopupHandler();return e.preload(t),e},re.prototype.getPopupHandler=function(t,e){return t.popupHandler?t.popupHandler:e?this.preload(t):this.buildPopupHandler()},re.prototype.callback=function(t){var e=this,n=ut.getWindow(),r=(t=t||{}).popupOrigin||this.baseOptions.popupOrigin||ut.getOrigin();n.opener?te.onOpen((function(n,i,o){if(n!==r)return o({error:"origin_mismatch",error_description:"The popup's origin ("+n+") should match the `popupOrigin` parameter ("+r+")."});e.webAuth.parseHash(t||{},(function(t,e){return o(t||e)}))})):n.doPost=function(t){n.parent&&n.parent.postMessage(t,r)}},re.prototype.authorize=function(t,e){var n,r,o={},a=this.baseOptions.plugins.get("popup.authorize"),s=at.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce"]).with(at.blacklist(t,["popupHandler"]));return Q.check(s,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=i(this.baseOptions.rootUrl,"relay.html"),t.owp?s.owp=!0:(o.origin=ee.extractOrigin(s.redirectUri),r=s.redirectUri),t.popupOptions&&(o.popupOptions=at.pick(t.popupOptions,["width","height"])),a&&(s=a.processParams(s)),(s=this.transactionManager.process(s)).scope=s.scope||"openid profile email",delete s.domain,n=this.client.buildAuthorizeUrl(s),this.getPopupHandler(t).load(n,r,o,gt(e))},re.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,t.popup=!0,t=at.merge(this.baseOptions,["redirectUri","responseType","state","nonce"]).with(at.blacklist(t,["popupHandler","connection"])),t=this.transactionManager.process(t),this.crossOriginAuthentication.login(t,e)},re.prototype.passwordlessVerify=function(t,e){var n=this;return this.client.passwordless.verify(at.blacklist(t,["popupHandler"]),(function(r){if(r)return e(r);t.username=t.phoneNumber||t.email,t.password=t.verificationCode,delete t.email,delete t.phoneNumber,delete t.verificationCode,delete t.type,n.client.loginWithResourceOwner(t,e)}))},re.prototype.signupAndLogin=function(t,e){var n=this,r=this.getPopupHandler(t,!0);return t.popupHandler=r,this.client.dbConnection.signup(at.blacklist(t,["popupHandler"]),(function(i){if(i)return r._current_popup&&r._current_popup.kill(),e(i);n.loginWithCredentials(t,e)}))},ie.create=function(t){return new ie(t)},ie.prototype.login=function(t,e){this.handler=new Kt({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:t?"message":"load",callback:this.getCallbackHandler(e,t),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){e(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:t||!1}),this.handler.init()},ie.prototype.getEventValidator=function(){var t=this;return{isValid:function(e){switch(e.event.type){case"message":return e.event.origin===t.postMessageOrigin&&e.event.source===t.handler.iframe.contentWindow&&(!1===t.postMessageDataType||e.event.data.type&&e.event.data.type===t.postMessageDataType);case"load":if("about:"===e.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},ie.prototype.getCallbackHandler=function(t,e){return function(n){var r;r=e?"object"==typeof n.event.data&&n.event.data.hash?n.event.data.hash:n.event.data:n.sourceObject.contentWindow.location.hash,t(null,r)}},oe.prototype.login=function(t,e){var n,r;return n=i(this.baseOptions.rootUrl,"usernamepassword","login"),t.username=t.username||t.email,t=at.blacklist(t,["email"]),r=at.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(t),r=this.transactionManager.process(r),r=at.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(gt(e))},oe.prototype.callback=function(t){var e,n=ut.getDocument();(e=n.createElement("div")).innerHTML=t,n.body.appendChild(e).children[0].submit()},ae.prototype.login=function(t,e){if(ut.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var n,r=at.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return Q.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(n=new oe(this.baseOptions)).login(r,(function(t,r){return t?e(t):n.callback(r)}))},ae.prototype.signupAndLogin=function(t,e){var n=this;return n.client.client.dbConnection.signup(t,(function(r){return r?e(r):n.login(t,e)}))},ae.prototype.getSSOData=function(t,e){var n,r="";return"function"==typeof t&&(e=t,t=!1),Q.check(t,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),t&&(r="?"+g({ldaps:1,client_id:this.baseOptions.clientID})),n=i(this.baseOptions.rootUrl,"user","ssodata",r),this.request.get(n,{noHeaders:!0}).withCredentials().end(gt(e))},se.prototype.parseHash=function(t,e){var n,r;e||"function"!=typeof t?t=t||{}:(e=t,t={});var i=ut.getWindow(),o=void 0===t.hash?i.location.hash:t.hash;if(o=o.replace(/^#?\/?/,""),(n=m(o)).hasOwnProperty("error"))return r=mt.buildResponse(n.error,n.error_description),n.state&&(r.state=n.state),e(r);if(!n.hasOwnProperty("access_token")&&!n.hasOwnProperty("id_token")&&!n.hasOwnProperty("refresh_token"))return e(null,null);var a=(this.baseOptions.responseType||t.responseType||"").split(" ");return a.length>0&&-1!==a.indexOf("token")&&!n.hasOwnProperty("access_token")?e(mt.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):a.length>0&&-1!==a.indexOf("id_token")&&!n.hasOwnProperty("id_token")?e(mt.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(t,n,e)},se.prototype.validateAuthenticationResponse=function(t,e,n){var r=this;t.__enableIdPInitiatedLogin=t.__enableIdPInitiatedLogin||t.__enableImpersonation;var i=e.state,o=this.transactionManager.getStoredTransaction(i),a=t.state||o&&o.state||null,s=a===i;if((i||a||!t.__enableIdPInitiatedLogin)&&!s)return n({error:"invalid_token",errorDescription:"`state` does not match."});var u=t.nonce||o&&o.nonce||null,c=t.state||o&&o.appState||null,l=function(t,i){return t?n(t):(o&&o.lastUsedConnection&&(i&&(a=i.sub),r.ssodataStorage.set(o.lastUsedConnection,a)),n(null,function(t,e,n){return{accessToken:t.access_token||null,idToken:t.id_token||null,idTokenPayload:n||null,appState:e||null,refreshToken:t.refresh_token||null,state:t.state||null,expiresIn:t.expires_in?parseInt(t.expires_in,10):null,tokenType:t.token_type||null,scope:t.scope||null}}(e,c,i)));var a};return e.id_token?this.validateToken(e.id_token,u,(function(t,n){return t?"invalid_token"!==t.error||"HS256"!==(new Wt).decode(e.id_token).header.alg?l(t):e.access_token?r.client.userInfo(e.access_token,(function(t,e){return t?l(t):l(null,e)})):l({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) can’t store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"}):e.access_token&&n.at_hash?(new Wt).validateAccessToken(e.access_token,"RS256",n.at_hash,(function(t){return t?l(mt.invalidToken(t.message)):l(null,n)})):l(null,n)})):l(null,null)},se.prototype.validateToken=function(t,e,n){new Wt({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||0,__disableExpirationCheck:this.baseOptions.__disableExpirationCheck}).verify(t,e,(function(t,e){if(t)return n(mt.invalidToken(t.message));n(null,e)}))},se.prototype.renewAuth=function(t,e){var n=!!t.usePostMessage,r=t.postMessageDataType||!1,i=t.postMessageOrigin||ut.getWindow().origin,o=t.timeout,a=this,s=at.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(t);s.responseType=s.responseType||"token",s.responseMode=s.responseMode||"fragment",s=this.transactionManager.process(s),Q.check(s,{type:"object",message:"options parameter is not valid"}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),s.prompt="none",s=at.blacklist(s,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),ie.create({authenticationUrl:this.client.buildAuthorizeUrl(s),postMessageDataType:r,postMessageOrigin:i,timeout:o}).login(n,(function(t,n){if("object"==typeof n)return e(t,n);a.parseHash({hash:n},e)}))},se.prototype.checkSession=function(t,e){var n=at.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);if("code"===n.responseType)return e({error:"error",error_description:"responseType can't be `code`"});t.nonce||(n=this.transactionManager.process(n)),Q.check(n,{type:"object",message:"options parameter is not valid"}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=at.blacklist(n,["usePostMessage","tenant","postMessageDataType"]),this.webMessageHandler.run(n,e)},se.prototype.changePassword=function(t,e){return this.client.dbConnection.changePassword(t,e)},se.prototype.passwordlessStart=function(t,e){var n=at.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t.authParams);return t.authParams=this.transactionManager.process(n),this.client.passwordless.start(t,e)},se.prototype.signup=function(t,e){return this.client.dbConnection.signup(t,e)},se.prototype.authorize=function(t){var e=at.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);Q.check(e,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(e=this.transactionManager.process(e)).scope=e.scope||"openid profile email",ut.redirect(this.client.buildAuthorizeUrl(e))},se.prototype.signupAndAuthorize=function(t,e){var n=this;return this.client.dbConnection.signup(at.blacklist(t,["popupHandler"]),(function(r){if(r)return e(r);t.realm=t.connection,t.username||(t.username=t.email),n.client.login(t,e)}))},se.prototype.login=function(t,e){var n=at.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);n=this.transactionManager.process(n),ut.getWindow().location.host===this.baseOptions.domain?(n.connection=n.realm,delete n.realm,this._universalLogin.login(n,e)):this.crossOriginAuthentication.login(n,e)},se.prototype.passwordlessLogin=function(t,e){var n=at.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);if(n=this.transactionManager.process(n),ut.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(n,e);else{var r=at.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:n.connection,username:n.email||n.phoneNumber,otp:n.verificationCode},at.blacklist(n,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(r,e)}},se.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},se.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},se.prototype.logout=function(t){ut.redirect(this.client.buildLogoutUrl(t))},se.prototype.passwordlessVerify=function(t,e){var n=this,r=at.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return Q.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=this.transactionManager.process(r),this.client.passwordless.verify(r,(function(t){return t?e(t):ut.redirect(n.client.passwordless.buildVerifyUrl(r))}))},ue.prototype.buildVerifyUrl=function(t){var e,n;return Q.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),e=at.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(t),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=at.toSnakeCase(e,["auth0Client"]),n=g(e),i(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+n)},ue.prototype.start=function(t,e){var n,r;return Q.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(t){return"code"===t.send||!t.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(t){return"link"===t.send||!t.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"passwordless","start"),(r=at.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(t)).scope&&(r.authParams=r.authParams||{},r.authParams.scope=r.scope),r.redirectUri&&(r.authParams=r.authParams||{},r.authParams.redirect_uri=r.redirectUri),r.responseType&&(r.authParams=r.authParams||{},r.authParams.response_type=r.responseType),delete r.redirectUri,delete r.responseType,delete r.scope,r=at.toSnakeCase(r,["auth0Client","authParams"]),this.request.post(n).send(r).end(gt(e))},ue.prototype.verify=function(t,e){var n,r;return Q.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),r=at.pick(t,["connection","verificationCode","phoneNumber","email","auth0Client"]),r=at.toSnakeCase(r,["auth0Client"]),n=i(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(n).send(r).end(gt(e))},ce.prototype.signup=function(t,e){var n,r,o;return Q.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"dbconnections","signup"),o=(r=at.merge(this.baseOptions,["clientID"]).with(t)).user_metadata||r.userMetadata,r=at.blacklist(r,["scope","userMetadata","user_metadata"]),r=at.toSnakeCase(r,["auth0Client"]),o&&(r.user_metadata=o),this.request.post(n).send(r).end(gt(e))},ce.prototype.changePassword=function(t,e){var n,r;return Q.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"dbconnections","change_password"),r=at.merge(this.baseOptions,["clientID"]).with(t,["email","connection"]),r=at.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(gt(e))},le.prototype.buildAuthorizeUrl=function(t){var e,n;return Q.check(t,{type:"object",message:"options parameter is not valid"}),e=at.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(t),Q.check(e,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(t){return-1===t.responseType.indexOf("code")&&-1!==t.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e.connection_scope&&Q.isArray(e.connection_scope)&&(e.connection_scope=e.connection_scope.join(",")),e=at.blacklist(e,["username","popupOptions","domain","tenant","timeout"]),e=at.toSnakeCase(e,["auth0Client"]),e=wt.oauthAuthorizeParams(this.warn,e),n=g(e),i(this.baseOptions.rootUrl,"authorize","?"+n)},le.prototype.buildLogoutUrl=function(t){var e,n;return Q.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=at.merge(this.baseOptions,["clientID"]).with(t||{}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=at.toSnakeCase(e,["auth0Client","returnTo"]),n=g(at.blacklist(e,["federated"])),t&&void 0!==t.federated&&!1!==t.federated&&"false"!==t.federated&&(n+="&federated"),i(this.baseOptions.rootUrl,"v2","logout","?"+n)},le.prototype.loginWithDefaultDirectory=function(t,e){return Q.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="password",this.oauthToken(t,e)},le.prototype.login=function(t,e){return Q.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(t,e)},le.prototype.oauthToken=function(t,e){var n,r;return Q.check(t,{type:"object",message:"options parameter is not valid"}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"oauth","token"),r=at.merge(this.baseOptions,["clientID","scope","audience"]).with(t),Q.check(r,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),r=at.toSnakeCase(r,["auth0Client"]),r=wt.oauthTokenParams(this.warn,r),this.request.post(n).send(r).end(gt(e))},le.prototype.loginWithResourceOwner=function(t,e){var n,r;return Q.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"oauth","ro"),r=at.merge(this.baseOptions,["clientID","scope"]).with(t,["username","password","scope","connection","device"]),(r=at.toSnakeCase(r,["auth0Client"])).grant_type=r.grant_type||"password",this.request.post(n).send(r).end(gt(e))},le.prototype.getSSOData=function(t,e){if(this.auth0||(this.auth0=new se(this.baseOptions)),ut.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(t,e);"function"==typeof t&&(e=t),Q.check(e,{type:"function",message:"cb parameter is not valid"});var n=this.baseOptions.clientID,r=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:r.lastUsedConnection,timeout:5e3},(function(t,i){return t?"login_required"===t.error?e(null,{sso:!1}):("consent_required"===t.error&&(t.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),e(t,{sso:!1})):r.lastUsedSub&&r.lastUsedSub!==i.idTokenPayload.sub?e(t,{sso:!1}):e(null,{lastUsedConnection:{name:r.lastUsedConnection},lastUsedUserID:i.idTokenPayload.sub,lastUsedUsername:i.idTokenPayload.email||i.idTokenPayload.name,lastUsedClientID:n,sessionClients:[n],sso:!0})}))},le.prototype.userInfo=function(t,e){var n;return Q.check(t,{type:"string",message:"accessToken parameter is not valid"}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"userinfo"),this.request.get(n).set("Authorization","Bearer "+t).end(gt(e,{ignoreCasing:!0}))},le.prototype.delegation=function(t,e){var n,r;return Q.check(t,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"delegation"),r=at.merge(this.baseOptions,["clientID"]).with(t),r=at.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(gt(e))},le.prototype.getUserCountry=function(t){var e;return Q.check(t,{type:"function",message:"cb parameter is not valid"}),e=i(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(e).end(gt(t))},fe.prototype.getUser=function(t,e){var n;return Q.check(t,{type:"string",message:"userId parameter is not valid"}),Q.check(e,{type:"function",message:"cb parameter is not valid"}),n=i(this.baseOptions.rootUrl,"users",t),this.request.get(n).end(gt(e,{ignoreCasing:!0}))},fe.prototype.patchUserMetadata=function(t,e,n){var r;return Q.check(t,{type:"string",message:"userId parameter is not valid"}),Q.check(e,{type:"object",message:"userMetadata parameter is not valid"}),Q.check(n,{type:"function",message:"cb parameter is not valid"}),r=i(this.baseOptions.rootUrl,"users",t),this.request.patch(r).send({user_metadata:e}).end(gt(n,{ignoreCasing:!0}))},fe.prototype.linkUser=function(t,e,n){var r;return Q.check(t,{type:"string",message:"userId parameter is not valid"}),Q.check(e,{type:"string",message:"secondaryUserToken parameter is not valid"}),Q.check(n,{type:"function",message:"cb parameter is not valid"}),r=i(this.baseOptions.rootUrl,"users",t,"identities"),this.request.post(r).send({link_with:e}).end(gt(n,{ignoreCasing:!0}))};var he={Authentication:le,Management:fe,WebAuth:se,version:W};e.a=he}).call(this,n(33))},function(t,e,n){"use strict";var r=n(42),i=n(283),o=n(573),a=n(202);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(287),u.CancelToken=n(586),u.isCancel=n(286),u.all=function(t){return Promise.all(t)},u.spread=n(587),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(202),i=n(42),o=n(581),a=n(582);function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],(function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=s},function(t,e,n){"use strict";var r=n(42);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(285);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(42);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var r=n(42),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(42);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(42);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(42);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(42),i=n(583),o=n(286),a=n(202),s=n(584),u=n(585);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(42);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(287);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},,,,,,,,,,function(t,e,n){"use strict";var r=n(290);e.a=class{constructor(t,e){this.options=e,this.players=e.players.map((function(n,i){return n=Object.assign({},n,{autosound:e.audioInputLatency>=.01,tutorial:e.tutorial}),new r.a(t[i],i+1,n)}))}get samples(){let t=new Set;for(let e of this.players)for(let n of e.notechart.samples)t.add(n);return Array.from(t)}}},,function(t,e,n){"use strict";var r=n(503),i=n(56),o=n.n(i);e.a=class{constructor(t){this.game=t,this.readyFraction=0,this.gettingStarted=!1,this.started=!1,this.finished=!1,this._players=new Map(t.players.map(t=>[t,new r.a(t)]))}update(t,e,n){let r=!0;for(let[n,i]of this._players)i.update(t,e),i.finished||(r=!1);this.readyFraction=n.readyFraction,this.gettingStarted=n.gettingStarted,this.started=n.started,this.finished=r}player(t){return this._players.get(t)||o()(!1,"Invariant violation: No player state found for player %s",t.number)}}},,function(t,e,n){"use strict";n(602);var r=n(68),i=n.n(r),o=n(505),a=n(294),s=n(117),u=n(608),c=n.n(u);function l(t,e){let n=document.createElement("button");return n.addEventListener("touchstart",t=>{t.stopPropagation()},!0),n.onclick=e=>{e.preventDefault(),t()},n.className=e,n}e.a=class{constructor({game:t,context:e,backgroundImagePromise:n,video:r}){this._game=t,this._context=e;const i=e.skinData;this._players=new Map(t.players.map(t=>[t,new o.a(t,i)])),this._stateful={},this._wrapper=this._createWrapper({backgroundImagePromise:n,video:r,panelPlacement:t.players[0].options.placement,infoPanelPosition:i.infoPanelPosition}),this._createTouchEscapeButton(),this._createFullScreenButton(),this._escapeHintShown=!1}setEscapeHandler(t){this._onEscape=t}setReplayHandler(t){this._onReplay=t}start(){this._started=(new Date).getTime();let t=this._game.players[0],e=t.notechart.songInfo;this._stateful.song_title=e.title,this._stateful.song_artist=e.artist,this._duration=t.notechart.duration}destroy(){this._context.destroy()}update(t,e){let n=((new Date).getTime()-this._started)/1e3,r=this._getData(n,t,e);this._updateStatefulData(n,t,e),this._context.render(Object.assign({},this._stateful,r)),this._synchronizeVideo(t),this._synchronizeTutorialEscapeHint(t)}_synchronizeVideo(t){this._video&&!this._videoStarted&&t>=this._videoOffset&&(this._video.volume=0,this._video.play(),this._video.classList.add("is-playing"),this._videoStarted=!0)}_synchronizeTutorialEscapeHint(t){if(this._game.options.tutorial){t>=101.123595506&&!this._escapeHintShown&&(this._escapeHintShown=!0,this._escapeHint.classList.add("is-shown"))}}_getData(t,e,n){let r={};r.tutorial=this._game.options.tutorial?"yes":"no",r.t=t,r.gameTime=e,r.ready=this._getReady(n),r.song_time=this._getSongTime(e);for(let[i,o]of this._players){let a=n.player(i),s=o.update(t,e,a);for(let t in s)r[`p${i.number}_${t}`]=s[t]}return r}_updateStatefulData(t,e,n){let r=this._stateful;void 0===r.started&&n.started&&(r.started=t),void 0===r.gettingStarted&&n.gettingStarted&&(r.gettingStarted=t)}_getSongTime(t){return Object(a.a)(Math.min(this._duration,Math.max(0,t)))+" / "+Object(a.a)(this._duration)}_getReady(t){let e=t.readyFraction;return e>.5?Math.pow(1-(e-.5)/.5,2):0}_createWrapper({backgroundImagePromise:t,video:e,panelPlacement:n,infoPanelPosition:r}){var o=i()('<div class="game-display"></div>').attr("data-panel-placement",n).attr("data-info-panel-position",r).append('<div class="game-display--bg js-back-image"></div>').append(this.view);return t&&Promise.resolve(t).then(t=>o.find(".js-back-image").append(t)),e&&(this._video=e.element,this._videoOffset=e.offset,i()(e.element).addClass("game-display--video-bg").appendTo(o)),o[0]}_createTouchEscapeButton(){const t=document.createElement("div");t.className="game-display--touch-buttons is-left",this.wrapper.appendChild(t),t.classList.add("is-visible");const e=(e,n)=>{let r=l(n,e);t.appendChild(r)};e("game-display--touch-escape-button",()=>this._onEscape()),e("game-display--touch-replay-button",()=>this._onReplay());const n=document.createElement("div");n.textContent="Click or press Esc to exit the tutorial",n.className="game-display--escape-hint",this._escapeHint=n,t.appendChild(n)}_createFullScreenButton(){if(Object(s.b)()||!c.a.enabled)return;const t=document.createElement("div");t.className="game-display--touch-buttons is-visible is-right",this.wrapper.appendChild(t);const e=l(()=>{c.a.request()},"game-display--touch-fullscreen-button");t.appendChild(e)}get context(){return this._context}get view(){return this._context.view}get wrapper(){return this._wrapper}}},function(t,e,n){var r=n(603);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,".game-display {\n  display: block;\n  margin: 0 auto;\n  overflow: hidden;\n  position: relative;\n}\n.game-display--bg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  background: url("+r(n(604))+") center no-repeat;\n  background-size: cover;\n  -webkit-animation: 1.5s game-display--bg-default;\n          animation: 1.5s game-display--bg-default;\n  -webkit-animation-fill-mode: both;\n          animation-fill-mode: both;\n}\n.game-display[data-info-panel-position=top] .game-display--bg {\n  -webkit-animation-name: game-display--bg-down;\n          animation-name: game-display--bg-down;\n}\n.game-display--video-bg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: -48px;\n  left: 0px;\n  z-index: 11;\n  opacity: 0;\n  transition: 0.5s opacity;\n  will-change: opacity;\n}\n.game-display--video-bg.is-playing {\n  opacity: 1;\n}\n.game-display[data-panel-placement=left] .game-display--video-bg {\n  -webkit-transform: translateX(13.671875%) scale(0.87);\n          transform: translateX(13.671875%) scale(0.87);\n}\n.game-display[data-panel-placement=right] .game-display--video-bg {\n  -webkit-transform: translateX(13.671875%) scale(0.87);\n          transform: translateX(13.671875%) scale(0.87);\n}\n.game-display--bg img {\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: cover;\n  -webkit-animation: 1.2s game-display--bg-default;\n          animation: 1.2s game-display--bg-default;\n  -webkit-animation-fill-mode: both;\n          animation-fill-mode: both;\n}\n.game-display[data-info-panel-position=top] .game-display--bg img {\n  -webkit-animation-name: game-display--bg-down;\n          animation-name: game-display--bg-down;\n}\n.game-display > canvas {\n  position: relative;\n  z-index: 100;\n}\n.game-display--touch-buttons {\n  position: fixed;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  top: 0;\n  opacity: 0;\n  z-index: 110;\n}\n.game-display--touch-buttons.is-visible {\n  opacity: 1;\n}\n.game-display--touch-buttons.is-left {\n  left: 0;\n}\n.game-display--touch-buttons.is-right {\n  right: 0;\n}\n.game-display--touch-escape-button, .game-display--touch-replay-button, .game-display--touch-fullscreen-button {\n  position: absolute;\n  top: 12px;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  width: 32px;\n  height: 32px;\n  background: transparent center center no-repeat;\n  background-size: 32px 32px;\n  cursor: pointer;\n}\n.game-display--touch-escape-button {\n  background-image: url("+r(n(605))+");\n  left: 12px;\n}\n.game-display--touch-replay-button {\n  background-image: url("+r(n(606))+");\n  left: 56px;\n}\n.game-display--touch-fullscreen-button {\n  background-image: url("+r(n(607))+');\n  right: 12px;\n}\n:root:-webkit-full-screen .game-display--touch-fullscreen-button {\n  display: none;\n}\n:root:-moz-full-screen .game-display--touch-fullscreen-button {\n  display: none;\n}\n:root:fullscreen .game-display--touch-fullscreen-button {\n  display: none;\n}\n.game-display--escape-hint {\n  position: absolute;\n  left: 12px;\n  top: 56px;\n  display: none;\n  background: #b61a44;\n  padding: 8px 12px;\n  color: white;\n  white-space: nowrap;\n  border-radius: 8px;\n  font-weight: bold;\n  font-size: 1rem;\n  pointer-events: none;\n}\n.game-display--escape-hint.is-shown {\n  display: block;\n}\n.game-display--escape-hint::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  top: -8px;\n  left: 16px;\n  margin-left: -8px;\n  border-width: 0 8px 8px 8px;\n  border-style: solid;\n  border-color: transparent;\n  border-bottom-color: #b61a44;\n}\n\n@-webkit-keyframes game-display--bg-default {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, -35px);\n            transform: translate(0, -35px);\n    opacity: 1;\n  }\n}\n\n@keyframes game-display--bg-default {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, -35px);\n            transform: translate(0, -35px);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes game-display--bg-down {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, 35px);\n            transform: translate(0, 35px);\n    opacity: 1;\n  }\n}\n@keyframes game-display--bg-down {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, 35px);\n            transform: translate(0, 35px);\n    opacity: 1;\n  }\n}',""])},function(t,e,n){t.exports=n.p+"build/ea410328703171d8f693d3a404a11a8f.jpg"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACxUlEQVR4AdSYgWfrUBTG2xWNhLbQUbQAlUA7oEzKUNSGwqbA84INBs3oJPvj+75wUMe5Sd+yfM3KD+L2nvPdnNz7ndtp+nc6nQIQghjsQALeQQoyIZVniYyJ5T9BI0kRRE/ABryCr5q8ylyTtovugxV4k8Sb4E1i9Nsk3ANr8CFJMviQmN41hXfBAqQVyeYgkTK+AzMwAj7oCb48m8mYjfwnr5j7IDl02eKH4E9JYhl4lo3Mq1ldocyVueJJLkOW+Ck4OBL5BA/AbyCuL3N/llTDtGnxS5A5yvwJDAgvYCCxckflLZsIegM2jpXfg/EV9qCxxP7SSK43Pyn+xRHovgWn0L0jt5cfWQTHmz+CeYuO4jk4WpVQ+5s3Jn0Hty00YreSm853WWe3zwzxQYvdaKAXQTRMv3POH3TZ22++lZVwNI7I4eUOzzY581/UjM0dZql7yZ8X5m5fvmBbEBEFRhKz+5+nw6LSehrefl8h/vHMDEUk8bnEfKxYhL3xKXhlk68NhzcuGb81xkcM8WdsK8ySHr8u6+d1S/t0SUKERfh2rEKD0Ur3rYEro7EZNJIYQbzqHXQDtbIG6pucB0KClLkLLfpmSQ+YGObBJyRKmbPQYpi6SZnffyYkTF3QQpOzTzBub0PCW2NXU6hvm8/9sw7kUb5bgnjlcfS8gbUyf2k7N0G8mj/RlV48jK1vg7cIBPHuvS4uHu7UwzuWgWEbqkKbirGzymLGdHFkNzlTcZKOcYEwIvr4nCVechjpC56O0f35zGaG3Ez5Kl7aMRxSj9HOssVL7J52vP/at28CgIEYiqF4AssQzH/Jmt4z/QfhqptkAzwBn6AwmJ4ISYWH1bUIKobiy2ENES0xTVFtcYMRozHD0Vms7IDxOEACIgOSgskBJaGyYGm4PGGCMkOaeq/N9QVtrh5oc/W7NkecpM6Sp+P1+REepk4aEr9vwAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEEklEQVR4AdSaBY/zPAzHBw8cMzMzCo+ZmZmZmfvh7/1P8kt+kq65dLt00k9QZYbUSWynvkj/Pj8/40Et6AZz4ABcgQfwTjzQswMa003/ifd58QfDc8EwOAGWJickK9d0p3+DNnAKrAhxSjp+m+R4DOgBj8CKEo+kM+Y7HfeDZvAQxtgPcEBh3AqKQAqIA0Eijp4V0Zhh+s9HGNn3ZIM/2s4ng10bw97BMqgFMZrRVUuy3mX6yJbkaDlfCO4lhryCfhAXAb1xJPvVJhoKI+18C3iXhPkUSIrCC0giXR+SyGuJhNIArUtLwBrI/IY9KJN0WxyyNeCm8ysSRZ0GnEKdEttWXJkEyZt/AdUGHcXV4EUUCW6seYtxBbIMTMSyyDaL0aKz279z503Oz6nuuBJsjIVfOefvediL37yRkfAiOCKTFTI8YZJTrWlYLGgEM2AbnIMX4hLsgRkak+BQ5oB0TxAnS34nQps1d3surwZsOUhrRQZX2sgdonG/FE6HZiep5wM/5zX2kD1gaXIMSkTOE9LkS5An3Num5lRh8Qwv8wt5wwiwXGYQBJnzIbLDJEs88nrs6nle0k59oXjZsHHiCHSDEpAOfhF/V4LdYYqsW8Gz4jA2TQlK6d+igW2CwiZJ0fkzieGLIF1xJ59xGBnVDmoHXkC1iQbyTk6/YthvSJKmAs3K85LJVE50Qr7wzpKgh8eSB4WSVrLmtxVkKMlmtDkspXlSl2uX7y8rvSWx80F95/mGJ6TPoaxlaZ0g6N7WKhi5Jwj7uGg4T4w5lFfLu83/zZ/50RejkORYjIJoOU/MK2zS/EiMF83MvoKhW3y3d8H5AWApsK4g++CPSKezV7mGptyez2i6SwXNLzq+skExRVoLaAN9YAzMg3UwqdHb6A49nGMPWx0Ka+RJjgcqxVZm85woLIocCpvls+mBCShiNh/4BA2EFIfCttn/SjwwASn8xPIJqr84h8LO+fr3wATEMZsffDxDcprACLouvzwwAUGe8XpyAsiRjv/QpjMBnlsC0JXG17LGEvDeJghd5Uz3lsYm6L1jkMJe0LhRPwY9mQiFdHGbdRIhY1Jhh3ozBMVbnE4qXMvD4juKIQWdC+4WQwaUw5rNlzqdctjMhoh8yV0wXXvAr9EQMbolxhOYHZ1oE7fEvNEUjQObCq0whaao+W3xfMmd/wb7+kOvLW7gxUgG/ccScMo3ae2LEQOuxtJAMegBhzb/3xQtK42rMU9djsq//NK8HOVv8N6w6/G9cBegGtfjxn4g8UGnSLXLn881m/CJzKzgE5kLejZLY2L/at8OLACAgSAI1nolpH9IC8kJ4U0Xi50H21y1yJikbHJGSausWdouD0wgM9DUBZtbB1mbgs3lP5sDJ9FZeHo6n99ybdMJ2yzi/QAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC30lEQVR4AdyYgacqQRTGt1u0NmqhSyiAFFRAXEUICEHXA563KNiH9tK19cf3vjgexje7e+9p9m4NPxhzzpzzdXbmTJ7rcb1eW2AEFmALIhCDBKRCInORrFmITct7xIHAe2AN9uCiZC++elVPugnm4AAujjjIHs0qJe6DJfgAl5L4kD39n0y8BiYgyQn2DCIp4xkYgBAEoC4EMjeQNWuxOef4PkoMtbKT74DfGYGlYCcHma+srpH4Sm37SSydspLvi/IskE+wAoGDfQPx/ZlRDX3XyU9BainzDWiX8AO0Za+zpfKmLjZ9AWuL8r9A9wfOoK7szWJag5d7Jv9u2eitArfQmyW297uIYPnlT2BYoat4CE6sEtTfPHEag9cKNmKvICbxTjWnfUqSb1W4G20REVLQ/849fyRlz3/56lXCiVyRneIdHm9yhg/0GBtamqVaEeNJVU57B7fDpEjrmZj3fI7N5SuIWSn+SJ9wBH6WwZJ0eN0HFqBLOsal9T1PnrQb9wE797chT+kmWzgnD5v2EwjQJg+oOVt4MBatPAxFwGcwvsNhNs76X6Cgj5VhdzAX9EjzECgF0IlAklcIEJCmrpfV7++KB0mTVovAkmdifMHfzvpOIP/ejhQCjLUiZPlQCDAybPf/+2eykV/YMQlIIUKurUIAn/htMWX+eBgaAb4pQr6NQgCxjcxKv00u+LehECA7oRg0iJ8GiO3J6wUgZ93iNrk1Jmd6Aawi/AVhhq9Q1vBq0QswM+y3rCwGnnZwEWKaPBchBmMHcQyMXCOPlF3o6HXW0K9VxxCan6NHXn+B96TjlpuRa+KRDqn+xALUzY73X/v2UQAgDMBQVA+yKqH+L9zZezRPAnQn//sBlkD6JugYdBFyFe5G0yLoMeQ5nByIiMSEomJxxYhqTDk6PitrQD0OkIDIgKRgckBJqCxYGi5PmKDMkKbOa3N1QyhSDmhz5WVtjjhJnSVPB+jzPZGAyclJbc34AAAAAElFTkSuQmCC"},function(t,e,n){
/*!
* screenfull
* v3.3.3 - 2018-09-04
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=t.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},a={request:function(t){var n=i.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[n]():t[n](r?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){e[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var r=o[t];r&&e.addEventListener(r,n,!1)},off:function(t,n){var r=o[t];r&&e.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?t.exports=a:window.screenfull=a):n?t.exports=!1:window.screenfull=!1}()},,function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return kt})),n.d(e,"b",(function(){return Z})),n.d(e,"c",(function(){return Jt})),n.d(e,"d",(function(){return Y})),n.d(e,"e",(function(){return zt})),n.d(e,"f",(function(){return Ft})),n.d(e,"g",(function(){return ne}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var u=[];Object.freeze(u);var c={};function l(){return++wt.mobxGuid}function f(t){throw h(!1,t),"X"}function h(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is an production build."))}Object.freeze(c);function p(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var d=function(){};function v(t){return null!==t&&"object"==typeof t}function y(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function m(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function g(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return v(t)&&!0===t[n]}}function b(t){return t instanceof Map}function _(t){return t instanceof Set}function w(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function x(t){return t&&t.toString?t.toString():new String(t).toString()}function E(t){return null===t?null:"object"==typeof t?""+t:t}var T=Symbol("mobx administration"),O=function(){function t(t){void 0===t&&(t="Atom@"+l()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=rt.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Mt(this)},t.prototype.reportChanged=function(){Ct(),function(t){if(t.lowestObserverState===rt.STALE)return;t.lowestObserverState=rt.STALE,t.observers.forEach((function(e){e.dependenciesState===rt.UP_TO_DATE&&(e.isTracing!==it.NONE&&Pt(e,t),e.onBecomeStale()),e.dependenciesState=rt.STALE}))}(this),At()},t.prototype.toString=function(){return this.name},t}(),S=g("Atom",O);function C(t,e,n){void 0===e&&(e=d),void 0===n&&(n=d);var r,i=new O(t);return e!==d&&Gt("onBecomeObserved",i,e,r),n!==d&&Xt(i,n),i}var A={identity:function(t,e){return t===e},structural:function(t,e){return Le(t,e)},default:function(t,e){return Object.is(t,e)}},M=Symbol("mobx did run lazy initializers"),P=Symbol("mobx pending decorators"),k={},I={};function D(t,e){var n=e?k:I;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return R(this),this[t]},set:function(e){R(this),this[t]=e}})}function R(t){if(!0!==t[M]){var e=t[P];if(e)for(var n in m(t,M,!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function j(t,e){return function(){var n,r=function(r,i,a,s){if(!0===s)return e(r,i,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,P)){var u=r[P];m(r,P,o({},u))}return r[P][i]={prop:i,propertyCreator:e,descriptor:a,decoratorTarget:r,decoratorArguments:n},D(i,t)};return F(arguments)?(n=u,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function F(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}function L(t,e,n){return te(t)?t:Array.isArray(t)?Y.array(t,{name:n}):y(t)?Y.object(t,void 0,{name:n}):b(t)?Y.map(t,{name:n}):_(t)?Y.set(t,{name:n}):t}function N(t){return t}function B(e){h(e);var n=j(!0,(function(t,n,r,i,o){var a=r?r.initializer?r.initializer.call(t):r.value:void 0;Ae(t).addObservableProp(n,a,e)})),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var U={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function z(t){return null==t?U:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(U);var q=B(L),H=B((function(t,e,n){return null==t||De(t)||be(t)||Ee(t)||Se(t)?t:Array.isArray(t)?Y.array(t,{name:n,deep:!1}):y(t)?Y.object(t,void 0,{name:n,deep:!1}):b(t)?Y.map(t,{name:n,deep:!1}):_(t)?Y.set(t,{name:n,deep:!1}):f(!1)})),V=B(N),W=B((function(t,e,n){return Le(t,e)?e:t}));function X(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?N:L}var G={box:function(t,e){arguments.length>2&&K("box");var n=z(e);return new ot(t,X(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&K("array");var n=z(e);return de(t,X(n),n.name)},map:function(t,e){arguments.length>2&&K("map");var n=z(e);return new xe(t,X(n),n.name)},set:function(t,e){arguments.length>2&&K("set");var n=z(e);return new Oe(t,X(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&K("object");var r=z(n);if(!1===r.proxy)return Yt({},t,e,r);var i=Kt(r),o=Yt({},void 0,void 0,r),a=ae(o);return $t(a,t,e,i),a},ref:V,shallow:H,deep:q,struct:W},Y=function(t,e,n){if("string"==typeof arguments[1])return q.apply(null,arguments);if(te(t))return t;var r=y(t)?Y.object(t,e,n):Array.isArray(t)?Y.array(t,e):b(t)?Y.map(t,e):_(t)?Y.set(t,e):t;if(r!==t)return r;f(!1)};function K(t){f("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(G).forEach((function(t){return Y[t]=G[t]}));var $=j(!1,(function(t,e,n,r,i){var a=n.get,s=n.set,u=i[0]||{};Ae(t).addComputedProp(t,e,o({get:a,set:s,context:t},u))})),J=$({equals:A.structural}),Z=function(t,e,n){if("string"==typeof e)return $.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return $.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new at(r)};function Q(t,e,n){var r=function(){return tt(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function tt(t,e,n,r){var i=function(t,e,n){var r=0;var i=vt();Ct();var o=et(!0),a={prevDerivation:i,prevAllowStateChanges:o,notifySpy:!1,startTime:r,actionId:wt.nextActionId++,parentActionId:wt.currentActionId};return wt.currentActionId=a.actionId,a}();try{return e.apply(n,r)}catch(t){throw i.error=t,t}finally{!function(t){wt.currentActionId!==t.actionId&&f("invalid action stack. did you forget to finish an action?");wt.currentActionId=t.parentActionId,void 0!==t.error&&(wt.suppressReactionErrors=!0);nt(t.prevAllowStateChanges),At(),yt(t.prevDerivation),t.notifySpy&&!1;wt.suppressReactionErrors=!1}(i)}}function et(t){var e=wt.allowStateChanges;return wt.allowStateChanges=t,e}function nt(t){wt.allowStateChanges=t}Z.struct=J;var rt,it,ot=function(t){function e(e,n,r,i,o){void 0===r&&(r="ObservableValue@"+l()),void 0===i&&(i=!0),void 0===o&&(o=A.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),a}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==wt.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(ft(this),se(this)){var e=ce(this,{object:this,type:"update",newValue:t});if(!e)return wt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?wt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),le(this)&&he(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return ue(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),fe(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return E(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(O),at=(g("ObservableValue",ot),function(){function t(t){this.dependenciesState=rt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=rt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+l(),this.value=new ut(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=it.NONE,this.derivation=t.get,this.name=t.name||"ComputedValue@"+l(),t.set&&(this.setter=Q(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?A.structural:A.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==rt.UP_TO_DATE)return;t.lowestObserverState=rt.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===rt.UP_TO_DATE&&(e.dependenciesState=rt.POSSIBLY_STALE,e.isTracing!==it.NONE&&Pt(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&f("Cycle detected in computation "+this.name+": "+this.derivation),0!==wt.inBatch||0!==this.observers.size||this.keepAlive?(Mt(this),lt(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===rt.STALE)return;t.lowestObserverState=rt.STALE,t.observers.forEach((function(e){e.dependenciesState===rt.POSSIBLY_STALE?e.dependenciesState=rt.STALE:e.dependenciesState===rt.UP_TO_DATE&&(t.lowestObserverState=rt.UP_TO_DATE)}))}(this)):lt(this)&&(this.warnAboutUntrackedRead(),Ct(),this.value=this.computeValue(!1),At());var t=this.value;if(ct(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ct(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){h(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else h(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===rt.NOT_TRACKING,n=this.computeValue(!0),r=e||ct(t)||ct(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,wt.computationDepth++,t)e=ht(this,this.derivation,this.scope);else if(!0===wt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new ut(t)}return wt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(pt(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return Ht((function(){var o=n.get();if(!r||e){var a=vt();t({type:"update",object:n,newValue:o,oldValue:i}),yt(a)}r=!1,i=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return E(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}()),st=g("ComputedValue",at);!function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(rt||(rt={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(it||(it={}));var ut=function(t){this.cause=t};function ct(t){return t instanceof ut}function lt(t){switch(t.dependenciesState){case rt.UP_TO_DATE:return!1;case rt.NOT_TRACKING:case rt.STALE:return!0;case rt.POSSIBLY_STALE:for(var e=vt(),n=t.observing,r=n.length,i=0;i<r;i++){var o=n[i];if(st(o)){if(wt.disableErrorBoundaries)o.get();else try{o.get()}catch(t){return yt(e),!0}if(t.dependenciesState===rt.STALE)return yt(e),!0}}return mt(t),yt(e),!1}}function ft(t){var e=t.observers.size>0;wt.computationDepth>0&&e&&f(!1),wt.allowStateChanges||!e&&"strict"!==wt.enforceActions||f(!1)}function ht(t,e,n){mt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++wt.runId;var r,i=wt.trackingDerivation;if(wt.trackingDerivation=t,!0===wt.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(t){r=new ut(t)}return wt.trackingDerivation=i,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=rt.UP_TO_DATE,i=0,o=t.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,t.newObserving=null,o=e.length;for(;o--;){0===(s=e[o]).diffValue&&Ot(s,t),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,Tt(s,t))}r!==rt.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),r}function pt(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Ot(e[n],t);t.dependenciesState=rt.NOT_TRACKING}function dt(t){var e=vt();try{return t()}finally{yt(e)}}function vt(){var t=wt.trackingDerivation;return wt.trackingDerivation=null,t}function yt(t){wt.trackingDerivation=t}function mt(t){if(t.dependenciesState!==rt.UP_TO_DATE){t.dependenciesState=rt.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=rt.UP_TO_DATE}}var gt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.currentActionId=0,this.nextActionId=1},bt=!0,_t=!1,wt=function(){var t=Et();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(bt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new gt).version&&(bt=!1),bt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new gt):(setTimeout((function(){_t||f("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new gt)}();var xt={};function Et(){return"undefined"!=typeof window?window:void 0!==r?r:xt}function Tt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ot(t,e){t.observers.delete(e),0===t.observers.size&&St(t)}function St(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,wt.pendingUnobservations.push(t))}function Ct(){wt.inBatch++}function At(){if(0==--wt.inBatch){Dt();for(var t=wt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof at&&n.suspend())}wt.pendingUnobservations=[]}}function Mt(t){var e=wt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&wt.inBatch>0&&St(t),!1)}function Pt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===it.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,r+1)}))}(Jt(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof at?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var kt=function(){function t(t,e,n){void 0===t&&(t="Reaction@"+l()),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=rt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+l(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=it.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,wt.pendingReactions.push(this),Dt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Ct(),this._isScheduled=!1,lt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}At()}},t.prototype.track=function(t){if(!this.isDisposed){Ct();0,this._isRunning=!0;var e=ht(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&pt(this),ct(e)&&this.reportExceptionInDerivation(e.cause),At()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(wt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";wt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),wt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ct(),pt(this),At()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[T]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=ee(t);if(!r)return f(!1);r.isTracing===it.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?it.BREAK:it.LOG}(this,t)},t}();var It=function(t){return t()};function Dt(){wt.inBatch>0||wt.isRunningReactions||It(Rt)}function Rt(){wt.isRunningReactions=!0;for(var t=wt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}wt.isRunningReactions=!1}var jt=g("Reaction",kt);function Ft(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Lt(){f(!1)}function Nt(t){return function(e,n,r){if(r){if(r.value)return{value:Q(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Q(t,i.call(this))}}}return Bt(t).apply(this,arguments)}}function Bt(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){m(this,n,Ut(t,e))}})}}var Ut=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?Q(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?Q(t,e):1===arguments.length&&"string"==typeof t?Nt(t):!0!==r?Nt(e).apply(null,arguments):void m(t,e,Q(t.name||e,n.value,this))};function zt(t,e){"string"==typeof t||t.name;return tt(0,"function"==typeof t?t:e,this,void 0)}function qt(t,e,n){m(t,e,Q(e,n.bind(t)))}function Ht(t,e){void 0===e&&(e=c);var n,r=e&&e.name||t.name||"Autorun@"+l();if(!e.scheduler&&!e.delay)n=new kt(r,(function(){this.track(a)}),e.onError);else{var i=Wt(e),o=!1;n=new kt(r,(function(){o||(o=!0,i((function(){o=!1,n.isDisposed||n.track(a)})))}),e.onError)}function a(){t(n)}return n.schedule(),n.getDisposer()}Ut.bound=function(t,e,n,r){return!0===r?(qt(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return qt(this,e,n.value||n.initializer.call(this)),this[e]},set:Lt}:{enumerable:!1,configurable:!0,set:function(t){qt(this,e,t)},get:function(){}}};var Vt=function(t){return t()};function Wt(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Vt}function Xt(t,e,n){return Gt("onBecomeUnobserved",t,e,n)}function Gt(t,e,n,r){var i="function"==typeof r?Re(e,n):Re(e),o="function"==typeof r?r:n,a=t+"Listeners";return i[a]?i[a].add(o):i[a]=new Set([o]),"function"!=typeof i[t]?f(!1):function(){var t=i[a];t&&(t.delete(o),0===t.size&&delete i[a])}}function Yt(t,e,n,r){var i=Kt(r=z(r));return R(t),Ae(t,r.name,i.enhancer),e&&$t(t,e,n,i),t}function Kt(t){return t.defaultDecorator||(!1===t.deep?V:q)}function $t(t,e,n,r){var i,o;Ct();try{var s=w(e);try{for(var u=a(s),c=u.next();!c.done;c=u.next()){var l=c.value,f=Object.getOwnPropertyDescriptor(e,l);0;var h=(n&&l in n?n[l]:f.get?$:r)(t,l,f,!0);h&&Object.defineProperty(t,l,h)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}finally{At()}}function Jt(t,e){return Zt(Re(t,e))}function Zt(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(Zt)),r}function Qt(t,e){return null!=t&&(void 0!==e?!!De(t)&&t[T].values.has(e):De(t)||!!t[T]||S(t)||jt(t)||st(t))}function te(t){return 1!==arguments.length&&f(!1),Qt(t)}function ee(t){switch(t.length){case 0:return wt.trackingDerivation;case 1:return Re(t[0]);case 2:return Re(t[0],t[1])}}function ne(t,e){void 0===e&&(e=void 0),Ct();try{return t.apply(e)}finally{At()}}function re(t){return t[T]}function ie(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var oe={has:function(t,e){if(e===T||"constructor"===e||e===M)return!0;var n=re(t);return ie(e)?n.has(e):e in t},get:function(t,e){if(e===T||"constructor"===e||e===M)return t[e];var n=re(t),r=n.values.get(e);if(r instanceof O){var i=r.get();return void 0===i&&n.has(e),i}return ie(e)&&n.has(e),t[e]},set:function(t,e,n){return!!ie(e)&&(function t(e,n,r){if(2!==arguments.length||Se(e))if(De(e)){var i=e[T],o=i.values.get(n);o?i.write(n,r):i.addObservableProp(n,r,i.defaultEnhancer)}else if(Ee(e))e.set(n,r);else if(Se(e))e.add(n);else{if(!be(e))return f(!1);"number"!=typeof n&&(n=parseInt(n,10)),h(n>=0,"Not a valid index: '"+n+"'"),Ct(),n>=e.length&&(e.length=n+1),e[n]=r,At()}else{Ct();var a=n;try{for(var s in a)t(e,s,a[s])}finally{At()}}}(t,e,n),!0)},deleteProperty:function(t,e){return!!ie(e)&&(re(t).remove(e),!0)},ownKeys:function(t){return re(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return f("Dynamic observable objects cannot be frozen"),!1}};function ae(t){var e=new Proxy(t,oe);return t[T].proxy=e,e}function se(t){return void 0!==t.interceptors&&t.interceptors.length>0}function ue(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),p((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function ce(t,e){var n=vt();try{var r=t.interceptors;if(r)for(var i=0,o=r.length;i<o&&(h(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{yt(n)}}function le(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function fe(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),p((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function he(t,e){var n=vt(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);yt(n)}}var pe={get:function(t,e){return e===T?t[T]:"length"===e?t[T].getArrayLength():"number"==typeof e?ye.get.call(t,e):"string"!=typeof e||isNaN(e)?ye.hasOwnProperty(e)?ye[e]:t[e]:ye.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[T].setArrayLength(n),"number"==typeof e&&ye.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:ye.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return f("Observable arrays cannot be frozen"),!1}};function de(t,e,n,r){void 0===n&&(n="ObservableArray@"+l()),void 0===r&&(r=!1);var i,o,a,s=new ve(n,e,r);i=s.values,o=T,a=s,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(s.values,pe);if(s.proxy=u,t&&t.length){var c=et(!0);s.spliceWithArray(0,0,t),nt(c)}return u}var ve=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new O(t||"ObservableArray@"+l()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return ue(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fe(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;ft(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=u),se(this)){var o=ce(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!o)return u;e=o.removedCount,n=o.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}([t,e],n));var i=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,i=le(this),o=i||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),i&&he(this,o)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,i=le(this),o=i||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),i&&he(this,o)},t}(),ye={intercept:function(t){return this[T].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[T].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[T];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[T];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[T].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[T];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[T].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[T];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[T],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[T];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[T],r=n.values;if(t<r.length){ft(n.atom);var i=r[t];if(se(n)){var o=ce(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){ye[t]=function(){var e=this[T];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}}));var me,ge=g("ObservableArrayAdministration",ve);function be(t){return v(t)&&ge(t[T])}var _e,we={},xe=function(){function t(t,e,n){if(void 0===e&&(e=L),void 0===n&&(n="ObservableMap@"+l()),this.enhancer=e,this.name=n,this[me]=we,this._keysAtom=C(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!wt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new ot(this._has(t),N,this.name+"."+x(t)+"?",!1);this._hasMap.set(t,r),Xt(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(se(this)){var r=ce(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(se(this)&&!(r=ce(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=le(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return ne((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&he(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==wt.UNCHANGED){var r=le(this),i=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),r&&he(this,i)}},t.prototype._addValue=function(t,e){var n=this;ft(this._keysAtom),ne((function(){var r=new ot(e,n.enhancer,n.name+"."+x(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=le(this),i=r?{type:"add",object:this,name:t,newValue:e}:null;r&&he(this,i)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return ze({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return ze({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[(me=T,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var i=a(this),o=i.next();!o.done;o=i.next()){var u=s(o.value,2),c=u[0],l=u[1];t.call(e,l,c,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return Ee(t)&&(t=t.toJS()),ne((function(){y(t)?w(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=s(t,2),r=n[0],i=n[1];return e.set(r,i)})):b(t)?(t.constructor!==Map&&f("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&f("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;ne((function(){dt((function(){var e,n;try{for(var r=a(t.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return ne((function(){var n,r=y(n=t)?Object.keys(n):Array.isArray(n)?n.map((function(t){return s(t,1)[0]})):b(n)||Ee(n)?Array.from(n.keys()):f("Cannot get keys from '"+n+"'");Array.from(e.keys()).filter((function(t){return-1===r.indexOf(t)})).forEach((function(t){return e.delete(t)})),e.merge(t)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=a(this),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),u=o[0],c=o[1];n["symbol"==typeof u?u:x(u)]=c}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return x(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return fe(this,t)},t.prototype.intercept=function(t){return ue(this,t)},t}(),Ee=g("ObservableMap",xe),Te={},Oe=function(){function t(t,e,n){if(void 0===e&&(e=L),void 0===n&&(n="ObservableSet@"+l()),this.name=n,this[_e]=Te,this._data=new Set,this._atom=C(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;ne((function(){dt((function(){var e,n;try{for(var r=a(t._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var i=a(this),o=i.next();!o.done;o=i.next()){var s=o.value;t.call(e,s,s,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((ft(this._atom),se(this))&&!(r=ce(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){ne((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=le(this),r=n?{type:"add",object:this,newValue:t}:null;0,n&&he(this,r)}return this},t.prototype.delete=function(t){var e=this;if(se(this)&&!(r=ce(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=le(this),r=n?{type:"delete",object:this,oldValue:t}:null;return ne((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&he(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return ze({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return ze({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return Se(t)&&(t=t.toJS()),ne((function(){Array.isArray(t)||_(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&f("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t,e){return fe(this,t)},t.prototype.intercept=function(t){return ue(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(_e=T,Symbol.iterator)]=function(){return this.values()},t}(),Se=g("ObservableSet",Oe),Ce=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new O(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof at)r.set(e);else{if(se(this)){if(!(o=ce(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=o.newValue}if((e=r.prepareNewValue(e))!==wt.UNCHANGED){var i=le(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),i&&he(this,o)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new ot(r,N,this.name+"."+x(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(se(this)){var i=ce(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!i)return;e=i.newValue}var o=new ot(e,n,this.name+"."+x(t),!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,function(t){return Me[t]||(Me[t]={configurable:!0,enumerable:!0,get:function(){return this[T].read(t)},set:function(e){this[T].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,i,o,a=this.target;n.name=n.name||this.name+"."+x(e),this.values.set(e,new at(n)),(t===a||(r=t,i=e,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return Pe[t]||(Pe[t]={configurable:wt.computedConfigurable,enumerable:!1,get:function(){return ke(this).read(t)},set:function(e){ke(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(se(this))if(!(a=ce(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Ct();var n=le(this),r=this.values.get(t),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!1)}delete this.target[t];var a=n?{type:"remove",object:this.proxy||e,oldValue:i,name:t}:null;0,n&&he(this,a)}finally{At()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return fe(this,t)},t.prototype.intercept=function(t){return ue(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=le(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&he(this,r),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=a(this.values),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),u=o[0];o[1]instanceof ot&&n.push(u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function Ae(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=L),Object.prototype.hasOwnProperty.call(t,T))return t[T];y(t)||(e=(t.constructor.name||"ObservableObject")+"@"+l()),e||(e="ObservableObject@"+l());var r=new Ce(t,new Map,x(e),n);return m(t,T,r),r}var Me=Object.create(null),Pe=Object.create(null);function ke(t){var e=t[T];return e||(R(t),t[T])}var Ie=g("ObservableObjectAdministration",Ce);function De(t){return!!v(t)&&(R(t),Ie(t[T]))}function Re(t,e){if("object"==typeof t&&null!==t){if(be(t))return void 0!==e&&f(!1),t[T].atom;if(Se(t))return t[T];if(Ee(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||f(!1),r)}var r;if(R(t),e&&!t[T]&&t[e],De(t))return e?((r=t[T].values.get(e))||f(!1),r):f(!1);if(S(t)||st(t)||jt(t))return t}else if("function"==typeof t&&jt(t[T]))return t[T];return f(!1)}function je(t,e){return t||f("Expecting some object"),void 0!==e?je(Re(t,e)):S(t)||st(t)||jt(t)||Ee(t)||Se(t)?t:(R(t),t[T]?t[T]:void f(!1))}var Fe=Object.prototype.toString;function Le(t,e){return Ne(t,e)}function Ne(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&function(t,e,n,r){t=Be(t),e=Be(e);var i=Fe.call(t);if(i!==Fe.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];var u=(n=n||[]).length;for(;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!Ne(t[u],e[u],n,r))return!1}else{var c=Object.keys(t),l=void 0;if(u=c.length,Object.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!Ue(e,l)||!Ne(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0}(t,e,n,r)}function Be(t){return be(t)?t.slice():b(t)||Ee(t)||_(t)||Se(t)?Array.from(t.entries()):t}function Ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ze(t){return t[Symbol.iterator]=qe,t}function qe(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ft,extras:{getDebugName:function(t,e){return(void 0!==e?Re(t,e):De(t)||Ee(t)||Se(t)?je(t):Re(t)).name}},$mobx:T})}).call(this,n(55),n(33))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(718),n(719),n(720),n(721),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,n){"use strict";var r,i=n(352),o=(r=i)&&r.__esModule?r:{default:r};Object.assign||(Object.assign=o.default)},function(t,e,n){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout((function(){n=Date.now(),t(performance.now())}),r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,n(33))},function(t,e,n){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,n){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(221),o=(r=i)&&r.__esModule?r:{default:r},a=n(29);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s(this,t),this.x=e,this.y=n,this.radius=r,this.type=a.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(221),o=(r=i)&&r.__esModule?r:{default:r},a=n(29);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;s(this,t),this.x=e,this.y=n,this.width=r,this.height=i,this.type=a.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(219),o=(r=i)&&r.__esModule?r:{default:r},a=n(29);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(s(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof o.default){for(var i=[],u=0,c=n.length;u<c;u++)i.push(n[u].x,n[u].y);n=i}this.closed=!0,this.points=n,this.type=a.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],c=this.points[2*o+1];s>e!=c>e&&t<(e-s)/(c-s)*(u-a)+a&&(n=!n)}return n},t}();e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=n(29);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;i(this,t),this.x=e,this.y=n,this.width=o,this.height=a,this.radius=s,this.type=r.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=e-(this.y+this.height-this.radius))*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}();e.default=o},function(t,e){t.exports=function(t,e){var n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n}},function(t,e){var n=new ArrayBuffer(0),r=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};r.prototype.upload=function(t,e,n){n||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(t,e,n){return new r(t,t.ARRAY_BUFFER,e,n)},r.createIndexBuffer=function(t,e,n){return new r(t,t.ELEMENT_ARRAY_BUFFER,e,n)},r.create=function(t,e,n,i){return new r(t,e,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},function(t,e,n){var r=n(298),i=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new r(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,n,r){this.bind();var i=this.gl;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,n,o){var a=r.fromData(t,null,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,n,o){var a=new r.fromData(t,o,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},t.exports=i},function(t,e,n){var r=n(299),i=n(300),o=n(302),a=n(304),s=n(305),u=function(t,e,n,u,c){this.gl=t,u&&(e=a(e,u),n=a(n,u)),this.program=r(t,e,n,c),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,n){var r=n(297);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,n,r,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,n){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(t,n,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,n){t.exports={compileProgram:n(299),defaultValue:n(303),extractAttributes:n(300),extractUniforms:n(302),generateUniformAccessObject:n(305),setPrecision:n(304),mapSize:n(301),mapType:n(222)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var r,i=n(224),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,n){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,n){"use strict";function r(t,e){if(t&&e)for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=r,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)r(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var r=n(29)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(36)),o=n(29),a=s(n(739));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},r(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,t),this.fn=e,this.context=n,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(109)),i=n(29),o=n(38),a=s(n(231));function s(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,r=e._frame.width,s=e._frame.height,c=t.transform.worldTransform,l=0,f=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var h=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==h&&(n.context[n.smoothProperty]=h),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,f=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,f=(.5-t.anchor.y)*e.orig.height),e.rotate&&(c.copy(u),c=u,o.GroupD8.matrixAppendRotationInv(c,e.rotate,l,f),l=0,f=0),l-=r/2,f-=s/2,n.roundPixels?(n.context.setTransform(c.a,c.b,c.c,c.d,c.tx*n.resolution|0,c.ty*n.resolution|0),l|=0,f|=0):n.context.setTransform(c.a,c.b,c.c,c.d,c.tx*n.resolution,c.ty*n.resolution);var p=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=a.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,r*p,s*p,l*n.resolution,f*n.resolution,r*n.resolution,s*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*p,e._frame.y*p,r*p,s*p,l*n.resolution,f*n.resolution,r*n.resolution,s*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=c,r.default.registerPlugin("sprite",c)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(29);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var n=t.alpha,r=t.transform.worldTransform,i=e.resolution;e.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,n=t.graphicsData.length;if(0!==n){e.beginPath();for(var i=0;i<n;i++){var o=t.graphicsData[i],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points;e.moveTo(s[0],s[1]);for(var u=1;u<s.length/2;u++)e.lineTo(s[2*u],s[2*u+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(o.type===r.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var c=2*a.width,l=2*a.height,f=a.x-c/2,h=a.y-l/2,p=c/2*.5522848,d=l/2*.5522848,v=f+c,y=h+l,m=f+c/2,g=h+l/2;e.moveTo(f,g),e.bezierCurveTo(f,g-d,m-p,h,m,h),e.bezierCurveTo(m+p,h,v,g-d,v,g),e.bezierCurveTo(v,g+d,m+p,y,m,y),e.bezierCurveTo(m-p,y,f,g+d,f,g),e.closePath()}else if(o.type===r.SHAPES.RREC){var b=a.x,_=a.y,w=a.width,x=a.height,E=a.radius,T=Math.min(w,x)/2|0;E=E>T?T:E,e.moveTo(b,_+E),e.lineTo(b,_+x-E),e.quadraticCurveTo(b,_+x,b+E,_+x),e.lineTo(b+w-E,_+x),e.quadraticCurveTo(b+w,_+x,b+w,_+x-E),e.lineTo(b+w,_+E),e.quadraticCurveTo(b+w,_,b+w-E,_),e.lineTo(b+E,_),e.quadraticCurveTo(b,_,b,_+E),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var r,i=n(29),o=n(315),a=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0;var r=p(n(155)),i=p(n(156)),o=p(n(232)),a=p(n(755)),s=p(n(756)),u=p(n(757)),c=p(n(36)),l=n(31),f=p(n(43)),h=p(n(228));function p(t){return t&&t.__esModule?t:{default:t}}var d=0,v=0,y=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));r.vertSize=5,r.vertByteSize=4*r.vertSize,r.size=c.default.SPRITE_BATCH_SIZE,r.buffers=[];for(var i=1;i<=h.default.nextPow2(r.size);i*=2)r.buffers.push(new u.default(4*i*r.vertByteSize));r.indices=(0,o.default)(r.size),r.shader=null,r.currentIndex=0,r.groups=[];for(var a=0;a<r.size;a++)r.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on("prerender",r.onPrerender,r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,s.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=f.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=f.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,n=h.default.nextPow2(this.currentIndex),r=h.default.log2(n),i=this.buffers[r],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,p=this.boundTextures,y=this.renderer.boundTextures,m=this.renderer.textureGC.count,g=0,b=void 0,_=void 0,w=1,x=0,E=a[0],T=void 0,O=void 0,S=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];E.textureCount=0,E.start=0,E.blend=S,d++;var C=void 0;for(C=0;C<e;++C){var A=y[C];A._enabled!==d?(p[C]=A,A._virtalBoundId=C,A._enabled=d):p[C]=this.renderer.emptyTextures[C]}for(d++,C=0;C<this.currentIndex;++C){var M=o[C];o[C]=null,b=M._texture.baseTexture;var P=l.premultiplyBlendMode[Number(b.premultipliedAlpha)][M.blendMode];if(S!==P&&(S=P,_=null,x=e,d++),_!==b&&(_=b,b._enabled!==d)){if(x===e&&(d++,E.size=C-E.start,x=0,(E=a[w++]).blend=S,E.textureCount=0,E.start=C),b.touched=m,-1===b._virtalBoundId)for(var k=0;k<e;++k){var I=(k+v)%e,D=p[I];if(D._enabled!==d){v++,D._virtalBoundId=-1,b._virtalBoundId=I,p[I]=b;break}}b._enabled=d,E.textureCount++,E.ids[x]=b._virtalBoundId,E.textures[x++]=b}if(T=M.vertexData,O=M._texture._uvs.uvsUint32,this.renderer.roundPixels){var R=this.renderer.resolution;s[g]=(T[0]*R|0)/R,s[g+1]=(T[1]*R|0)/R,s[g+5]=(T[2]*R|0)/R,s[g+6]=(T[3]*R|0)/R,s[g+10]=(T[4]*R|0)/R,s[g+11]=(T[5]*R|0)/R,s[g+15]=(T[6]*R|0)/R,s[g+16]=(T[7]*R|0)/R}else s[g]=T[0],s[g+1]=T[1],s[g+5]=T[2],s[g+6]=T[3],s[g+10]=T[4],s[g+11]=T[5],s[g+15]=T[6],s[g+16]=T[7];u[g+2]=O[0],u[g+7]=O[1],u[g+12]=O[2],u[g+17]=O[3];var j=Math.min(M.worldAlpha,1),F=j<1&&b.premultipliedAlpha?(0,l.premultiplyTint)(M._tintRGB,j):M._tintRGB+(255*j<<24);u[g+3]=u[g+8]=u[g+13]=u[g+18]=F,s[g+4]=s[g+9]=s[g+14]=s[g+19]=b._virtalBoundId,g+=20}if(E.size=C-E.start,c.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var L=this.shader.attributes,N=this.vertexBuffers[this.vertexCount]=f.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(N,L.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(N,L.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(N,L.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);L.aTextureId&&B.addAttribute(N,L.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(C=0;C<e;++C)y[C]._virtalBoundId=-1;for(C=0;C<w;++C){for(var U=a[C],z=U.textureCount,q=0;q<z;q++)_=U.textures[q],y[U.ids[q]]!==_&&this.renderer.bindTexture(_,U.ids[q],!0),_._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),c.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(r.default);e.default=y,i.default.registerPlugin("sprite",y)},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(110)),i=o(n(316));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var n=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(r.default);e.default=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var r=a(t),i=a(e);return Object.assign(r,i)};var r,i=n(43);var o=((r=i)&&r.__esModule?r:{default:r}).default.shader.defaultValue;function a(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},r=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),a=0;a<i.length;a++){var s=i[a].trim();if(s.indexOf("uniform")>-1){var u=s.split(" "),c=u[1],l=u[2],f=1;l.indexOf("[")>-1&&(r=l.split(/\[|]/),l=r[0],f*=Number(r[1])),l.match(e)||(n[l]={value:o(c,f),name:l,type:c})}}return n}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(110),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.stencilMaskStack=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=l(n(110)),i=l(n(157)),o=l(n(319)),a=n(38),s=l(n(111)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(748)),c=l(n(228));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(){f(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),p=function(t){function e(n){f(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.gl=r.renderer.gl,r.quad=new o.default(r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r.managedFilters=[],r.renderer.on("prerender",r.onPrerender,r),r._screenWidth=n.view.width,r._screenHeight=n.view.height,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var n=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var i=new h;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[i]},this.filterData=r}var o=r.stack[++r.index],a=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new h);var s=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===n.screen.width&&t.filterArea.height===n.screen.height,u=e[0].resolution,c=0|e[0].padding,l=s?n.screen:t.filterArea||t.getBounds(!0),f=o.sourceFrame,p=o.destinationFrame;f.x=(l.x*u|0)/u,f.y=(l.y*u|0)/u,f.width=(l.width*u|0)/u,f.height=(l.height*u|0)/u,s||(r.stack[0].renderTarget.transform||e[0].autoFit&&f.fit(a),f.pad(c)),p.width=f.width,p.height=f.height;var d=this.getPotRenderTarget(n.gl,f.width,f.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=d,d.setFrame(p,f),n.bindRenderTarget(d),d.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,e.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<r.length-1;++a){r[a].apply(this,i,o,!0,n);var s=i;i=o,o=s}r[a].apply(this,i,e.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}n.clear(),t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,r){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new s.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n=e.uniformData,r=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in n){var c=n[u].type;if("sampler2d"===c&&0!==r[u]){if(r[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(r[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),r[u].texture.bind()}i++}else if("mat3"===c)void 0!==r[u].a?t.uniforms[u]=r[u].toArray(!0):t.uniforms[u]=r[u];else if("vec2"===c)if(void 0!==r[u].x){var f=t.uniforms[u]||new Float32Array(2);f[0]=r[u].x,f[1]=r[u].y,t.uniforms[u]=f}else t.uniforms[u]=r[u];else"float"===c?t.uniforms.data[u].value!==n[u]&&(t.uniforms[u]=r[u]):t.uniforms[u]=r[u]}},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,n=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var r=0;r<n.length;r++)t||n[r].glShaders[e.CONTEXT_UID].destroy(),delete n[r].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,r){var o="screen";n*=r,(e*=r)===this._screenWidth&&n===this._screenHeight||(o=(65535&(e=c.default.nextPow2(e)))<<16|65535&(n=c.default.nextPow2(n))),this.pool[o]||(this.pool[o]=[]);var a=this.pool[o].pop();if(!a){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),a=new i.default(t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=r,a.defaultFrame.width=a.size.width=e/r,a.defaultFrame.height=a.size.height=n/r,a.filterPoolKey=o,a},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(r.default);e.default=p},function(t,e,n){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,n){var r=t.identity();return r.translate(e.x/n.width,e.y/n.height),r.scale(n.width,n.height),r},e.calculateNormalizedScreenSpaceMatrix=function(t,e,n){var r=t.identity();r.translate(e.x/n.width,e.y/n.height);var i=n.width/e.width,o=n.height/e.height;return r.scale(i,o),r},e.calculateSpriteMatrix=function(t,e,n,i){var o=i._texture.orig,a=t.set(n.width,0,0,n.height,e.x,e.y),s=i.worldTransform.copy(r.Matrix.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(i.anchor.x,i.anchor.y),a};var r=n(38)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(43),o=n(29),a=n(157),s=(r=a)&&r.__esModule?r:{default:r},u=n(31);var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var a=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<a.length;++u)if(a[u]===t){e=u;break}}a[e]=t,n.activeTexture(n.TEXTURE0+e);var c=t._glTextures[this.renderer.CONTEXT_UID];if(c)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):c.upload(t.source);else{if(r){var l=new s.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,c=l.texture}else(c=new i.GLTexture(this.gl,null,null,null,null)).bind(e),c.premultiplyAlpha=!0,c.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=c,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&c.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?c.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?c.enableWrapRepeat():c.enableWrapMirrorRepeat()):c.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?c.enableNearestScaling():c.enableLinearScaling()}return c},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var n=this.renderer.CONTEXT_UID,r=t._glTextures,i=t._glRenderTargets;if(r[n]&&(this.renderer.unbindTexture(t),r[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[n],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,u.removeItems)(this._managedTextures,o,1)}i&&i[n]&&(i[n].destroy(),delete i[n])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(29),o=n(36),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(752),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=n(29)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=n(29)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=a;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(textureId == "+n+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var r=new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",n),i=[],s=0;s<e;s++)i[s]=s;return r.bind(),r.uniforms.uSamplers=i,r};var r,i=n(111),o=(r=i)&&r.__esModule?r:{default:r};n(44);var a=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(n){var r=document.createElement("canvas");r.width=1,r.height=1,e=o.default.createContext(r)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=a.replace(/%forloop%/gi,s(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}n&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var r,i=n(43),o=(r=i)&&r.__esModule?r:{default:r};var a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function s(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=p(n(227)),o=p(n(67)),a=n(38),s=n(31),u=n(29),c=p(n(36)),l=p(n(320)),f=p(n(321)),h=p(n(759));function p(t){return t&&t.__esModule?t:{default:t}}var d={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var s=o.default.fromCanvas(i,c.default.SCALE_MODE,"text");s.orig=new a.Rectangle,s.trim=new a.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,s));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=c.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=n,u.style=r,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,r=f.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,u=r.lineWidths,c=r.maxLineWidth,l=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;var h=void 0,p=void 0;if(e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<a.length;y++)h=e.strokeThickness/2,p=e.strokeThickness/2+y*s+l.ascent,"right"===e.align?h+=c-u[y]:"center"===e.align&&(h+=(c-u[y])/2),e.fill&&(this.drawLetterSpacing(a[y],h+d+e.padding,p+v+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[y],h+d+e.padding,p+v+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,a);for(var m=0;m<a.length;m++)h=e.strokeThickness/2,p=e.strokeThickness/2+m*s+l.ascent,"right"===e.align?h+=c-u[m]:"center"===e.align&&(h+=(c-u[m])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[m],h+e.padding,p+e.padding,!0),e.fill&&this.drawLetterSpacing(a[m],h+e.padding,p+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style,o=i.letterSpacing;if(0!==o)for(var a=String.prototype.split.call(t,""),s=e,u=0,c="";u<t.length;)c=a[u++],r?this.context.strokeText(c,s,n):this.context.fillText(c,s,n),s+=this.context.measureText(c).width+o;else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,h.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,c=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var f=c.length+1,h=1;h<f;++h)l.push(h/f);if(c.unshift(t.fill[0]),l.unshift(0),c.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),r=(c.length+1)*e.length,i=0;for(var p=0;p<e.length;p++){i+=1;for(var d=0;d<c.length;d++)o="number"==typeof l[d]?l[d]/e.length+p/e.length:i/r,n.addColorStop(o,c[d]),i++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),r=c.length+1,i=1;for(var v=0;v<c.length;v++)o="number"==typeof l[v]?l[v]:i/r,n.addColorStop(o,c[v]),i++}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},d,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,n=t.height,r=t.getContext("2d"),i=r.getImageData(0,0,e,n).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=null,u=void 0,c=void 0,l=void 0;for(u=0;u<o;u+=4)0!==i[u+3]&&(c=u/4%e,l=~~(u/4/e),null===a.top&&(a.top=l),(null===a.left||c<a.left)&&(a.left=c),(null===a.right||a.right<c)&&(a.right=c+1),(null===a.bottom||a.bottom<l)&&(a.bottom=l));null!==a.top&&(e=a.right-a.left,n=a.bottom-a.top+1,s=r.getImageData(a.left,a.top,e,n));return{height:n,width:e,data:s}}},function(t,e,n){"use strict";e.__esModule=!0;var r=d(n(108)),i=d(n(230)),o=d(n(67)),a=d(n(322)),s=d(n(227)),u=n(38),c=n(31),l=n(29),f=d(n(223)),h=d(n(761)),p=d(n(109));function d(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var m=void 0,g=new u.Matrix,b=new u.Point,_=new Float32Array(4),w=new Float32Array(4),x=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v(this,e);var r=y(this,t.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=n,r.lineColor=0,r.lineAlignment=.5,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=l.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new f.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r._prevRectTint=null,r._prevRectFillColor=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,n,r,i,o){var a=t-(2*n+i),s=e-(2*r+o),u=(n-2)*t*2,c=(r-2)*e*2,l=4*(a*a+s*s),f=4*(a*u+s*c),h=u*u+c*c,p=2*Math.sqrt(l+f+h),d=Math.sqrt(l),v=2*l*d,y=2*Math.sqrt(h),m=f/d;return(v*p+d*f*(p-y)+(4*h*l-f*f)*Math.log((2*d+m+p)/(m+y)))/(4*v)},e.prototype._bezierCurveLength=function(t,e,n,r,i,o,a,s){for(var u=0,c=0,l=0,f=0,h=0,p=0,d=0,v=0,y=0,m=0,g=0,b=t,_=e,w=1;w<=10;++w)m=b-(v=(d=(p=(h=1-(c=w/10))*h)*h)*t+3*p*c*n+3*h*(l=c*c)*i+(f=l*c)*a),g=_-(y=d*e+3*p*c*r+3*h*l*o+f*s),b=v,_=y,u+=Math.sqrt(m*m+g*g);return u},e.prototype._segmentsCount=function(t){var n=Math.ceil(t/e.CURVES.maxLength);return n<e.CURVES.minSegments?n=e.CURVES.minSegments:n>e.CURVES.maxSegments&&(n=e.CURVES.maxSegments),n},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this.lineAlignment=r,this.currentPath)if(this.currentPath.shape.points.length){var i=new u.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var n=new u.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){var n=this.currentPath.shape.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||(n.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],c=o[o.length-1],l=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,c,t,n,r,i)):20,f=1;f<=l;++f){var h=f/l;a=u+(t-u)*h,s=c+(n-c)*h,o.push(a+(t+(r-t)*h-a)*h,s+(n+(i-n)*h-s)*h)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,n,r,i,o,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,u=s[s.length-2],c=s[s.length-1];s.length-=2;var l=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(u,c,t,n,r,i,o,a)):20;return(0,h.default)(u,c,t,n,r,i,o,a,l,s),this.dirty++,this},e.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,c=r-e,l=n-t,f=Math.abs(s*l-u*c);if(f<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var h=s*s+u*u,p=c*c+l*l,d=s*c+u*l,v=i*Math.sqrt(h)/f,y=i*Math.sqrt(p)/f,m=v*d/h,g=y*d/p,b=v*l+y*u,_=v*c+y*s,w=u*(y+m),x=s*(y+m),E=l*(v+g),T=c*(v+g),O=Math.atan2(x-_,w-b),S=Math.atan2(T-_,E-b);this.arc(b+t,_+e,i,O,S,u*c>l*s)}return this.dirty++,this},e.prototype.arc=function(t,n,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;!a&&o<=i?o+=l.PI_2:a&&i<=o&&(i+=l.PI_2);var s=o-i,u=e.CURVES.adaptive?this._segmentsCount(Math.abs(s)*r):40*Math.ceil(Math.abs(s)/l.PI_2);if(0===s)return this;var c=t+Math.cos(i)*r,f=n+Math.sin(i)*r,h=this.currentPath?this.currentPath.shape.points:null;if(h){var p=Math.abs(h[h.length-2]-c),d=Math.abs(h[h.length-1]-f);p<.001&&d<.001||h.push(c,f)}else this.moveTo(c,f),h=this.currentPath.shape.points;for(var v=s/(2*u),y=2*v,m=Math.cos(v),g=Math.sin(v),b=u-1,_=b%1/b,w=0;w<=b;++w){var x=w+_*w,E=v+i+y*x,T=Math.cos(E),O=-Math.sin(E);h.push((m*T+g*O)*r+t,(m*-O+g*T)*r+n)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new u.Rectangle(t,e,n,r)),this},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new u.RoundedRectangle(t,e,n,r,i)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new u.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new u.Ellipse(t,e,n,r)),this},e.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof u.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new u.Polygon(e);return i.closed=n,this.drawShape(i),this},e.prototype.drawStar=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||r/2;for(var a=-1*Math.PI/2+o,s=2*n,u=l.PI_2/s,c=[],f=0;f<s;f++){var h=f%2?i:r,p=f*u+a;c.push(t+h*Math.cos(p),e+h*Math.sin(p))}return this.drawPolygon(c)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new s.default(new o.default(o.default.WHITE)));var n=this._spriteRect,r=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=r;else if(this.tint!==this._prevRectTint||r!==this._prevRectFillColor){var i=_,a=w;(0,c.hex2rgb)(r,i),(0,c.hex2rgb)(this.tint,a),i[0]*=a[0],i[1]*=a[1],i[2]*=a[2],n.tint=(0,c.rgb2hex)(i),this._prevRectTint=this.tint,this._prevRectFillColor=r}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=e.width,n._texture._frame.height=e.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-e.x/e.width,-e.y/e.height),n._onAnchorUpdate(),n._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,b);for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fill&&(r.shape&&r.shape.contains(b.x,b.y))){if(r.holes)for(var i=0;i<r.holes.length;i++){if(r.holes[i].contains(b.x,b.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,c=0;c<this.graphicsData.length;c++){var f=this.graphicsData[c],h=f.type,p=f.lineWidth;if(i=f.shape,h===l.SHAPES.RECT||h===l.SHAPES.RREC)o=i.x-p/2,a=i.y-p/2,t=o<t?o:t,e=o+(s=i.width+p)>e?o+s:e,n=a<n?a:n,r=a+(u=i.height+p)>r?a+u:r;else if(h===l.SHAPES.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+p/2)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.radius+p/2)<n?a-u:n,r=a+u>r?a+u:r;else if(h===l.SHAPES.ELIP)o=i.x,a=i.y,t=o-(s=i.width+p/2)<t?o-s:t,e=o+s>e?o+s:e,n=a-(u=i.height+p/2)<n?a-u:n,r=a+u>r?a+u:r;else for(var d=i.points,v=0,y=0,m=0,g=0,b=0,_=0,w=0,x=0,E=0;E+2<d.length;E+=2)o=d[E],a=d[E+1],v=d[E+2],y=d[E+3],m=Math.abs(v-o),g=Math.abs(y-a),u=p,(s=Math.sqrt(m*m+g*g))<1e-9||(t=(w=(v+o)/2)-(b=(u/s*g+m)/2)<t?w-b:t,e=w+b>e?w+b:e,n=(x=(y+a)/2)-(_=(u/s*m+g)/2)<n?x-_:n,r=x+_>r?x+_:r)}else t=0,e=0,n=0,r=0;var T=this.boundsPadding;this._localBounds.minX=t-T,this._localBounds.maxX=e+T,this._localBounds.minY=n-T,this._localBounds.maxY=r+T},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),r=i.default.create(n.width,n.height,t,e);m||(m=new p.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(g),g.invert(),g.tx-=n.x,g.ty-=n.y,m.render(this,r,!0,g);var a=o.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,"graphics");return a.baseTexture.resolution=e,a.baseTexture.update(),a},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var r in this._webGL)for(var i=0;i<this._webGL[r].data.length;++i)this._webGL[r].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(r.default);e.default=x,x._SPRITE_TEXTURE=null,x.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],l=0,f=0,h=0,p=0,d=0;c.push(t,e);for(var v=1,y=0;v<=u;++v)h=(f=(l=1-(y=v/u))*l)*l,d=(p=y*y)*y,c.push(h*t+3*f*y*n+3*l*p*i+d*a,h*e+3*f*y*r+3*l*p*o+d*s);return c}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(31),i=n(29),o=p(n(155)),a=p(n(156)),s=p(n(763)),u=p(n(764)),c=p(n(765)),l=p(n(766)),f=p(n(767)),h=p(n(768));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,n=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;e.bindShader(a),e.state.setBlendMode(t.blendMode);for(var s=0,u=o.data.length;s<u;s++){var c=(i=o.data[s]).shader;e.bindShader(c),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.tint=(0,r.hex2rgb)(t.tint),c.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?n.drawArrays(n.LINES,0,i.points.length/6):i.vao.draw(n.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var r=0;r<n.data.length;r++)this.graphicsDataPool.push(n.data[r]);n.data.length=0,n.lastIndex=0}for(var o=void 0,a=void 0,s=n.lastIndex;s<t.graphicsData.length;s++){var u=t.graphicsData[s];o=this.getWebGLData(n,0),u.nativeLines&&u.lineWidth&&(a=this.getWebGLData(n,0,!0),n.lastIndex++),u.type===i.SHAPES.POLY&&(0,c.default)(u,o,a),u.type===i.SHAPES.RECT?(0,l.default)(u,o,a):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,h.default)(u,o,a):u.type===i.SHAPES.RREC&&(0,f.default)(u,o,a),n.lastIndex++}this.renderer.bindVao(null);for(var p=0;p<n.data.length;p++)(o=n.data[p]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,n){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==n||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(o.default);e.default=d,a.default.registerPlugin("graphics",d)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(43),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new o.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(111);var o=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){t.points=t.shape.points.slice();var a=t.points;if(t.fill&&a.length>=6){for(var s=[],u=t.holes,c=0;c<u.length;c++){var l=u[c];s.push(a.length/2),a=a.concat(l.points)}var f=e.points,h=e.indices,p=a.length/2,d=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,y=d[0]*v,m=d[1]*v,g=d[2]*v,b=(0,o.default)(a,s,2);if(!b)return;for(var _=f.length/6,w=0;w<b.length;w+=3)h.push(b[w]+_),h.push(b[w]+_),h.push(b[w+1]+_),h.push(b[w+2]+_),h.push(b[w+2]+_);for(var x=0;x<p;x++)f.push(a[2*x],a[2*x+1],y,m,g,v)}t.lineWidth>0&&(0,r.default)(t,e,n)};var r=a(n(158)),i=n(31),o=a(n(226));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,i=r.x,s=r.y,u=r.width,c=r.height;if(t.fill){var l=(0,a.hex2rgb)(t.fillColor),f=t.fillAlpha,h=l[0]*f,p=l[1]*f,d=l[2]*f,v=e.points,y=e.indices,m=v.length/6;v.push(i,s),v.push(h,p,d,f),v.push(i+u,s),v.push(h,p,d,f),v.push(i,s+c),v.push(h,p,d,f),v.push(i+u,s+c),v.push(h,p,d,f),y.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var g=t.points;t.points=[i,s,i+u,s,i+u,s+c,i,s+c,i,s],(0,o.default)(t,e,n),t.points=g}};var r,i=n(158),o=(r=i)&&r.__esModule?r:{default:r},a=n(31)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var a=t.shape,s=a.x,c=a.y,l=a.width,f=a.height,h=a.radius,p=[];if(p.push(s,c+h),u(s,c+f-h,s,c+f,s+h,c+f,p),u(s+l-h,c+f,s+l,c+f,s+l,c+f-h,p),u(s+l,c+h,s+l,c,s+l-h,c,p),u(s+h,c,s,c,s,c+h+1e-10,p),t.fill){for(var d=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=d[0]*v,m=d[1]*v,g=d[2]*v,b=e.points,_=e.indices,w=b.length/6,x=(0,r.default)(p,null,2),E=0,T=x.length;E<T;E+=3)_.push(x[E]+w),_.push(x[E]+w),_.push(x[E+1]+w),_.push(x[E+2]+w),_.push(x[E+2]+w);for(var O=0,S=p.length;O<S;O++)b.push(p[O],p[++O],y,m,g,v)}if(t.lineWidth){var C=t.points;t.points=p,(0,i.default)(t,e,n),t.points=C}};var r=a(n(226)),i=a(n(158)),o=n(31);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return t+(e-t)*n}function u(t,e,n,r,i,o){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=20,c=a,l=0,f=0,h=0,p=0,d=0,v=0,y=0,m=0;y<=u;++y)l=s(t,n,m=y/u),f=s(e,r,m),h=s(n,i,m),p=s(r,o,m),d=s(l,h,m),v=s(f,p,m),c.push(d,v);return c}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var r=t.shape,i=r.x,u=r.y,c=void 0,l=void 0;t.type===a.SHAPES.CIRC?(c=r.radius,l=r.radius):(c=r.width,l=r.height);if(0===c||0===l)return;var f=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),h=2*Math.PI/f;if(t.fill){var p=(0,s.hex2rgb)(t.fillColor),d=t.fillAlpha,v=p[0]*d,y=p[1]*d,m=p[2]*d,g=e.points,b=e.indices,_=g.length/6;b.push(_);for(var w=0;w<f+1;w++)g.push(i,u,v,y,m,d),g.push(i+Math.sin(h*w)*c,u+Math.cos(h*w)*l,v,y,m,d),b.push(_++,_++);b.push(_-1)}if(t.lineWidth){var x=t.points;t.points=[];for(var E=0;E<f;E++)t.points.push(i+Math.sin(h*-E)*c,u+Math.cos(h*-E)*l);t.points.push(t.points[0],t.points[1]),(0,o.default)(t,e,n),t.points=x}};var r,i=n(158),o=(r=i)&&r.__esModule?r:{default:r},a=n(29),s=n(31)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(109),o=(r=i)&&r.__esModule?r:{default:r},a=n(29);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var u=t.graphicsData[s],c=u.shape,l=u._fillTint,f=u._lineTint;if(n.lineWidth=u.lineWidth,u.type===a.SHAPES.POLY){n.beginPath(),this.renderPolygon(c.points,c.closed,n);for(var h=0;h<u.holes.length;h++)this.renderPolygon(u.holes[h].points,!0,n);u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke())}else if(u.type===a.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),n.fillRect(c.x,c.y,c.width,c.height)),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.strokeRect(c.x,c.y,c.width,c.height));else if(u.type===a.SHAPES.CIRC)n.beginPath(),n.arc(c.x,c.y,c.radius,0,2*Math.PI),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke());else if(u.type===a.SHAPES.ELIP){var p=2*c.width,d=2*c.height,v=c.x-p/2,y=c.y-d/2;n.beginPath();var m=p/2*.5522848,g=d/2*.5522848,b=v+p,_=y+d,w=v+p/2,x=y+d/2;n.moveTo(v,x),n.bezierCurveTo(v,x-g,w-m,y,w,y),n.bezierCurveTo(w+m,y,b,x-g,b,x),n.bezierCurveTo(b,x+g,w+m,_,w,_),n.bezierCurveTo(w-m,_,v,x+g,v,x),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke())}else if(u.type===a.SHAPES.RREC){var E=c.x,T=c.y,O=c.width,S=c.height,C=c.radius,A=Math.min(O,S)/2|0;C=C>A?A:C,n.beginPath(),n.moveTo(E,T+C),n.lineTo(E,T+S-C),n.quadraticCurveTo(E,T+S,E+C,T+S),n.lineTo(E+O-C,T+S),n.quadraticCurveTo(E+O,T+S,E+O,T+S-C),n.lineTo(E+O,T+C),n.quadraticCurveTo(E+O,T,E+O-C,T),n.lineTo(E+C,T),n.quadraticCurveTo(E,T,E,T+C),n.closePath(),(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255}},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)n.lineTo(t[2*r],t[2*r+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,o.default.registerPlugin("graphics",s)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(30),o=n(31);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a(this,t),this.baseTexture=e,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,o.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE,o=this.baseTexture.sourceScale;n-e<r&&n<this._frameKeys.length;){var a=this._frameKeys[n],s=this._frames[a],u=s.frame;if(u){var c=null,l=null,f=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,h=new i.Rectangle(0,0,Math.floor(f.w*o)/this.resolution,Math.floor(f.h*o)/this.resolution);c=s.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(l=new i.Rectangle(Math.floor(s.spriteSourceSize.x*o)/this.resolution,Math.floor(s.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[a]=new i.Texture(this.baseTexture,c,h,l,s.rotated?2:0,s.anchor),i.Texture.addToCache(this.textures[a],a)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var n=t[e],r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;this.animations[e].push(this.textures[a])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,n=t.particles,r=t.extras,o=t.filters,a=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),n.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),r.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),r.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),r.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var c=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var n=c[e];Object.defineProperty(t[n.parent],"DEFAULT",{get:function(){return i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]},set:function(e){i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]=e}})},f=0;f<c.length;f++)l(f);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),r.AnimatedSprite}}});r&&Object.defineProperties(r,{TextureTransform:{get:function(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,n){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,n,r){this.legacyRenderer.render(t,this,n,e,!r),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),n=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){n=r,this._fontSize=e[r];break}this._fontWeight="normal";for(var o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){this._fontFamily="";for(var a=n+1;a<e.length;++a)this._fontFamily+=e[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var h=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),h=t},get:function(){return h}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(s.Loader){var p=s.Resource,d=s.Loader;Object.defineProperties(p.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===p.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===p.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===p.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===p.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===p.TYPE.VIDEO}}}),Object.defineProperties(d.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var r={};function i(t){if(!r[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),r[t]=!0}}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(325);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(r).default}});var i=n(773);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),i=a(n(224)),o=a(n(325));function a(t){return t&&t.__esModule?t:{default:t}}r.utils.mixins.delayMixin(r.DisplayObject.prototype,o.default);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width="100px",n.style.height="100px",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.zIndex=2,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",(function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)})),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var a=this.children[o];if(a.renderId!==this.renderId)a._accessibleActive=!1,r.utils.removeItems(this.children,o,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=a._accessibleDiv;var s=a.hitArea,u=a.worldTransform;a.hitArea?(i.style.left=(u.tx+s.x*u.a)*e+"px",i.style.top=(u.ty+s.y*u.d)*n+"px",i.style.width=s.width*u.a*e+"px",i.style.height=s.height*u.d*n+"px"):(s=a.getBounds(),this.capHitArea(s),i.style.left=s.x*e+"px",i.style.top=s.y*n+"px",i.style.width=s.width*e+"px",i.style.height=s.height*n+"px",i.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(i.title=a.accessibleTitle),i.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&i.setAttribute("aria-label",a.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=s,r.WebGLRenderer.registerPlugin("accessibility",s),r.CanvasRenderer.registerPlugin("accessibility",s)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(775);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(r).default}});var i=n(776);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));var i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=!1,u=void 0,c=!1;t&&(t instanceof r.RenderTexture?u=t:(u=this.renderer.generateTexture(t),c=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=u.frame,s=!1):(o=(n=this.renderer.rootRenderTarget).resolution,s=!0,(a=i).width=n.size.width,a.height=n.size.height);var l=a.width*o,f=a.height*o,h=new r.CanvasRenderTarget(l,f,1);if(n){e.bindRenderTarget(n);var p=new Uint8Array(4*l*f),d=e.gl;d.readPixels(a.x*o,a.y*o,l,f,d.RGBA,d.UNSIGNED_BYTE,p);var v=h.context.getImageData(0,0,l,f);v.data.set(p),h.context.putImageData(v,0,0),s&&(h.context.scale(1,-1),h.context.drawImage(h.canvas,0,-f))}return c&&u.destroy(!0),h.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0,u=!1;t&&(t instanceof r.RenderTexture?s=t:(s=this.renderer.generateTexture(t),u=!0)),s?(o=(n=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=s.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(a=i).width=n.size.width,a.height=n.size.height);var c=a.width*o,l=a.height*o,f=new Uint8Array(4*c*l);if(n){e.bindRenderTarget(n);var h=e.gl;h.readPixels(a.x*o,a.y*o,c,l,h.RGBA,h.UNSIGNED_BYTE,f)}return u&&s.destroy(!0),f},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.WebGLRenderer.registerPlugin("extract",o)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));var i=new r.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=i).width=this.renderer.width,a.height=this.renderer.height);var u=a.width*o,c=a.height*o,l=new r.CanvasRenderTarget(u,c,1),f=n.getImageData(a.x*o,a.y*o,u,c);return l.context.putImageData(f,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,o=void 0,a=void 0,s=void 0;return t&&(s=t instanceof r.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=i).width=e.width,a.height=e.height),n.getImageData(0,0,a.width*o,a.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,r.CanvasRenderer.registerPlugin("extract",o)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n[0]instanceof i.Texture?n[0]:n[0].texture));return o._textures=null,o._durations=null,o.textures=n,o._autoUpdate=!1!==r,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromFrame(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.Texture.fromImage(t[r]));return new e(n)},r(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),a=n(231),s=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=new o.Point,f=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;u(this,e);var a=c(this,t.call(this,n));return a.tileTransform=new o.TransformStatic,a._width=r,a._height=i,a._canvasPattern=null,a.uvTransform=n.transform||new o.TextureMatrix(n),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,i=t.resolution,a=e.baseTexture,u=a.resolution,c=this.tilePosition.x/this.tileScale.x%e._frame.width*u,l=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var f=new o.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=s.default.getTintedTexture(this,this.tint),f.context.drawImage(this.tintedTexture,0,0)):f.context.drawImage(a.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=f.context.createPattern(f.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/u,this.tileScale.y/u);var h=this.anchor.x*-this._width,p=this.anchor.y*-this._height;this.uvRespectAnchor?(n.translate(c,l),n.fillRect(-c+h,-l+p,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(n.translate(c+h,l+p),n.fillRect(-c,-l,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._width,n=this._height,r=-e*this.anchor._x;if(l.x>=r&&l.x<r+e){var i=-n*this.anchor._y;if(l.y>=i&&l.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,r){return new e(o.Texture.from(t),n,r)},e.fromFrame=function(t,n,r){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,n,r)},e.fromImage=function(t,n,r,i,a){return new e(o.Texture.fromImage(t,i,a),n,r)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=f},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),i=n(29);n(44);var o=new r.Matrix,a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r.simpleShader=null,r.quad=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new r.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new r.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,n=this.quad;e.bindVao(n.vao);var a=n.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((a=n.uvs)[0]=a[6]=-t.anchor.x,a[1]=a[3]=-t.anchor.y,a[2]=a[4]=1-t.anchor.x,a[5]=a[7]=1-t.anchor.y),n.upload();var s=t._texture,u=s.baseTexture,c=t.tileTransform.localTransform,l=t.uvTransform,f=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;f&&(u._glTextures[e.CONTEXT_UID]?f=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var h=f?this.simpleShader:this.shader;e.bindShader(h);var p=s.width,d=s.height,v=t._width,y=t._height;o.set(c.a*p/v,c.b*p/y,c.c*d/v,c.d*d/y,c.tx/v,c.ty/y),o.invert(),f?o.prepend(l.mapCoord):(h.uniforms.uMapCoord=l.mapCoord.toArray(!0),h.uniforms.uClampFrame=l.uClampFrame,h.uniforms.uClampOffset=l.uClampOffset),h.uniforms.uTransform=o.toArray(!0),h.uniforms.uColor=r.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,h.uniforms.uColor,u.premultipliedAlpha),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.uSampler=e.bindTexture(s),e.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(r.ObjectRenderer);e.default=a,r.WebGLRenderer.registerPlugin("tilingSprite",a)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=u(n(295)),a=n(31),s=u(n(36));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var i=l(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},i.font=r.font,i._text=n,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default((function(){i.dirty=!0}),i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],n=this._font.size/t.size,r=new i.Point,o=[],a=[],s=this.text.replace(/(?:\r\n|\r)/g,"\n"),u=s.length,c=this._maxWidth*t.size/this._font.size,l=null,f=0,h=0,p=0,d=-1,v=0,y=0,m=0,g=0;g<u;g++){var b=s.charCodeAt(g),_=s.charAt(g);if(/(?:\s)/.test(_)&&(d=g,v=f),"\r"!==_&&"\n"!==_){var w=t.chars[b];w&&(l&&w.kerning[l]&&(r.x+=w.kerning[l]),o.push({texture:w.texture,line:p,charCode:b,position:new i.Point(r.x+w.xOffset+this._letterSpacing/2,r.y+w.yOffset)}),r.x+=w.xAdvance+this._letterSpacing,f=r.x,m=Math.max(m,w.yOffset+w.texture.height),l=b,-1!==d&&c>0&&r.x>c&&(++y,i.utils.removeItems(o,1+d-y,1+g-d),g=d,d=-1,a.push(v),h=Math.max(h,v),p++,r.x=0,r.y+=t.lineHeight,l=null))}else a.push(f),h=Math.max(h,f),++p,++y,r.x=0,r.y+=t.lineHeight,l=null}var x=s.charAt(s.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(f=v),a.push(f),h=Math.max(h,f));for(var E=[],T=0;T<=p;T++){var O=0;"right"===this._font.align?O=h-a[T]:"center"===this._font.align&&(O=(h-a[T])/2),E.push(O)}for(var S=o.length,C=this.tint,A=0;A<S;A++){var M=this._glyphs[A];M?M.texture=o[A].texture:(M=new i.Sprite(o[A].texture),this._glyphs.push(M)),M.position.x=(o[A].position.x+E[o[A].line])*n,M.position.y=o[A].position.y*n,M.scale.x=M.scale.y=n,M.tint=C,M.parent||this.addChild(M)}for(var P=S;P<this._glyphs.length;++P)this.removeChild(this._glyphs[P]);if(this._textWidth=h*n,this._textHeight=(r.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var k=0;k<S;k++)this._glyphs[k].x-=this._textWidth*this.anchor.x,this._glyphs[k].y-=this._textHeight*this.anchor.y;this._maxLineHeight=m*n},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var r={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],c=t.getElementsByTagName("page"),l=(0,a.getResolutionOfUrl)(c[0].getAttribute("file"),s.default.RESOLUTION),f={};r.font=o.getAttribute("face"),r.size=parseInt(o.getAttribute("size"),10),r.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,r.chars={},n instanceof i.Texture&&(n=[n]);for(var h=0;h<c.length;h++){var p=c[h].getAttribute("id"),d=c[h].getAttribute("file");f[p]=n instanceof Array?n[h]:n[d]}for(var v=t.getElementsByTagName("char"),y=0;y<v.length;y++){var m=v[y],g=parseInt(m.getAttribute("id"),10),b=m.getAttribute("page")||0,_=new i.Rectangle(parseInt(m.getAttribute("x"),10)/l+f[b].frame.x/l,parseInt(m.getAttribute("y"),10)/l+f[b].frame.y/l,parseInt(m.getAttribute("width"),10)/l,parseInt(m.getAttribute("height"),10)/l);r.chars[g]={xOffset:parseInt(m.getAttribute("xoffset"),10)/l,yOffset:parseInt(m.getAttribute("yoffset"),10)/l,xAdvance:parseInt(m.getAttribute("xadvance"),10)/l,kerning:{},texture:new i.Texture(f[b].baseTexture,_),page:b}}for(var w=t.getElementsByTagName("kerning"),x=0;x<w.length;x++){var E=w[x],T=parseInt(E.getAttribute("first"),10)/l,O=parseInt(E.getAttribute("second"),10)/l,S=parseInt(E.getAttribute("amount"),10)/l;r.chars[O]&&(r.chars[O].kerning[T]=S)}return e.fonts[r.font]=r,r},r(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=f,f.fonts={}},function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),i=s(n(67)),o=s(n(83)),a=n(31);function s(t){return t&&t.__esModule?t:{default:t}}var u=r.DisplayObject,c=new r.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters){var s=this._filters[0].padding;n.pad(s)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,f=r.RenderTexture.create(0|n.width,0|n.height),h="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=h,o.default.addToCache(f.baseTexture,h),i.default.addToCache(f,h);var p=c;p.tx=-n.x,p.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,f,!0,p,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var d=new r.Sprite(f);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-n.x/n.width,d.anchor.y=-n.y/n.height,d.alpha=e,d._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),n=this.alpha;this.alpha=1;var s=t.context,u=r.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,a.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),i.default.addToCache(u,l);var f=c;this.transform.localTransform.copy(f),f.invert(),f.tx-=e.x,f.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,f,!1),t.context=s,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var h=new r.Sprite(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h._bounds=this._bounds,h.alpha=n,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=h,this.containsPoint=h.containsPoint.bind(h)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));r.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(785);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return f(r).default}});var i=n(786);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return f(i).default}});var o=n(787);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return f(o).default}});var a=n(788);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return f(a).default}});var s=n(327);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return f(s).default}});var u=n(331);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return f(u).default}});var c=n(789);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return f(c).default}});var l=n(790);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return f(l).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));n(44);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.Filter);e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));n(44);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();o(this,e);var i=a(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=n,i.seed=r,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));n(44);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;n.renderable=!1;var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return a.maskSprite=n,a.maskMatrix=o,a.uniforms.mapSampler=n._texture,a.uniforms.filterMatrix=o,a.uniforms.scale={x:1,y:1},null==r&&(r=20),a.scale=new i.Point(r,r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,n)},r(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=s(n(327)),a=s(n(331));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n,r,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return c.blurXFilter=new o.default(n,r,s,u),c.blurYFilter=new a.default(n,r,s,u),c.padding=0,c.resolution=s||i.settings.RESOLUTION,c.quality=r||4,c.blur=n||8,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,n,!1),t.returnRenderTarget(r)},r(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));n(44);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,c=(r>>8&255)/255,l=(255&r)/255,f=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,c,l,e=e||.15,0,o-u,a-c,s-l,0,0];this._loadMatrix(f,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30));n(44);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;o(this,e);var r=a(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return r.alpha=n,r.glShaderKey="alpha",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=n(332);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(r).default}});var i=n(792);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=n(335);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var a=n(334);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(a).default}});var s=n(333);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=l(n(332)),a=l(n(333)),s=l(n(334)),u=l(n(77)),c=l(n(335));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,c.default);var f={target:null,data:{global:null}},h=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r=r||{},s.renderer=n,s.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,s.interactionFrequency=r.interactionFrequency||10,s.mouse=new o.default,s.mouse.identifier=1,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[1]=s.mouse,s.interactionDataPool=[],s.eventData=new a.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents="ontouchstart"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new i.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&"touch"!==n.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":r(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var r=void 0;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint(o)||(r=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var c=e.children,l=c.length-1;l>=0;l--){var f=c[l],h=this.processInteractive(t,f,n,r,s);if(h){if(!f.parent)continue;s=!1,h&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new s.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),c=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(c.data.originalEvent=t,this.processInteractive(c,this.renderer._lastObjectRendered,n,e||!o),this.emit(e?"pointercancel":"pointerup"+o,c),"mouse"===s.pointerType||"pen"===s.pointerType){var l=2===s.button;this.emit(l?"rightup"+o:"mouseup"+o,c)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,c),this.releaseInteractionDataForPointerId(s.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===r.pointerType,u="mouse"===r.pointerType||"pen"===r.pointerType,c=!1;if(u){var l=2===r.button,f=s.default.FLAGS,h=l?f.RIGHT_DOWN:f.LEFT_DOWN,p=void 0!==o&&o.flags&h;n?(this.dispatchEvent(e,l?"rightup":"mouseup",t),p&&(this.dispatchEvent(e,l?"rightclick":"click",t),c=!0)):p&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(u&&!c||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new s.default(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return 1===e||"mouse"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:((n=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent||(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=1),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0),e.push(t);return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=h,i.WebGLRenderer.registerPlugin("interaction",h),i.CanvasRenderer.registerPlugin("interaction",h)},function(t,e,n){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var r=n(336);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return c(r).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var i=n(341);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return c(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(342);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return c(o).default}});var a=n(112);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return a.Resource}});var s=c(n(323)),u=c(n(795));function c(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var f=s.default.prototype;f._loader=null,Object.defineProperty(f,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),f._parentDestroy=f.destroy,f.destroy=function(t,e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,e)}},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=c(n(337)),a=c(n(338)),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(339)),u=c(n(233));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=/(#[\w-]+)?$/,h=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;l(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=s.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":r(t))&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,n),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,s=[],c=0;c<a.children.length;++c)a.children[c].isComplete||s.push(a.children[c]);var l=a.progressChunk*(s.length+1)/(s.length+2);a.children.push(this.resources[t]),a.progressChunk=l;for(var f=0;f<s.length;++f)s[f].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,a.default)(t,{strictMode:!0}),n=void 0;if(n=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=f.exec(n)[0];-1!==(n=n.substr(0,n.length-r.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=r}return n},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,s.eachSeries(this._beforeMiddleware,(function(e,r){e.call(n,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())}),!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s.eachSeries(this._afterMiddleware,(function(n,r){n.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=h},function(t,e,n){"use strict";e.__esModule=!0;var r=c(n(112)),i=n(796),o=c(n(77)),a=c(n(342)),s=c(n(341)),u=c(n(336));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));o.default.call(i);for(var a=0;a<e._pixiMiddleware.length;++a)i.use(e._pixiMiddleware[a]());return i.onStart.add((function(t){return i.emit("start",t)})),i.onProgress.add((function(t,e){return i.emit("progress",t,e)})),i.onError.add((function(t,e,n){return i.emit("error",t,e,n)})),i.onLoad.add((function(t,e){return i.emit("load",t,e)})),i.onComplete.add((function(t,e){return i.emit("complete",t,e)})),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(r.default);for(var f in e.default=l,o.default.prototype)l.prototype[f]=o.default.prototype[f];l._pixiMiddleware=[i.blobMiddlewareFactory,a.default,s.default,u.default];var h=r.default.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=(u=s.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=i.default.TYPE.IMAGE,t.data.onload=function(){s.revokeObjectURL(u),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===n?"undefined":r(n)))return n.v}}else{var a=t.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return t.data=new Image,t.data.src="data:"+a+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=i.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var u;e()}else e()}};var i=a(n(233)),o=a(n(340));function a(t){return t&&t.__esModule?t:{default:t}}var s=window.URL||window.webkitURL},function(t,e,n){"use strict";e.__esModule=!0;var r=n(113);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return c(r).default}});var i=n(798);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return c(i).default}});var o=n(799);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return c(o).default}});var a=n(343);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return c(a).default}});var s=n(800);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return c(s).default}});var u=n(801);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return c(u).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),i=a(n(43)),o=a(n(113));n(44);function a(t){return t&&t.__esModule?t:{default:t}}var s=r.Matrix.IDENTITY,u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.shader=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new r.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,n=e.gl,a=t._texture;if(a.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new i.default.VertexArrayObject(n).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),t.vertexDirty!==u.vertexDirty&&(u.vertexDirty=t.vertexDirty,u.vertexBuffer.upload(t.vertices)),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(a),e.state.setBlendMode(r.utils.correctBlendMode(t.blendMode,a.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=s.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var c=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;u.vao.draw(c,t.indices.length,0)}},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=n(113),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldTransform,i=e.resolution;e.roundPixels?n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===a.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,n=0;n<e-2;n++){var r=2*n;this._renderDrawTriangle(t,r,r+2,r+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,n=e.length,r=0;r<n;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,n,r){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,c=u.source,l=u.width,f=u.height,h=void 0,p=void 0,d=void 0,v=void 0,y=void 0,m=void 0;if(t.uploadUvTransform){var g=t._uvTransform.mapCoord;h=(o[e]*g.a+o[e+1]*g.c+g.tx)*u.width,p=(o[n]*g.a+o[n+1]*g.c+g.tx)*u.width,d=(o[r]*g.a+o[r+1]*g.c+g.tx)*u.width,v=(o[e]*g.b+o[e+1]*g.d+g.ty)*u.height,y=(o[n]*g.b+o[n+1]*g.d+g.ty)*u.height,m=(o[r]*g.b+o[r+1]*g.d+g.ty)*u.height}else h=o[e]*u.width,p=o[n]*u.width,d=o[r]*u.width,v=o[e+1]*u.height,y=o[n+1]*u.height,m=o[r+1]*u.height;var b=a[e],_=a[n],w=a[r],x=a[e+1],E=a[n+1],T=a[r+1],O=t.canvasPadding/this.renderer.resolution;if(O>0){var S=O/Math.abs(t.worldTransform.a),C=O/Math.abs(t.worldTransform.d),A=(b+_+w)/3,M=(x+E+T)/3,P=b-A,k=x-M,I=Math.sqrt(P*P+k*k);b=A+P/I*(I+S),x=M+k/I*(I+C),k=E-M,_=A+(P=_-A)/(I=Math.sqrt(P*P+k*k))*(I+S),E=M+k/I*(I+C),k=T-M,w=A+(P=w-A)/(I=Math.sqrt(P*P+k*k))*(I+S),T=M+k/I*(I+C)}i.save(),i.beginPath(),i.moveTo(b,x),i.lineTo(_,E),i.lineTo(w,T),i.closePath(),i.clip();var D=h*y+v*d+p*m-y*d-v*p-h*m,R=b*y+v*w+_*m-y*w-v*_-b*m,j=h*_+b*d+p*w-_*d-b*p-h*w,F=h*y*w+v*_*d+b*p*m-b*y*d-v*p*w-h*_*m,L=x*y+v*T+E*m-y*T-v*E-x*m,N=h*E+x*d+p*T-E*d-x*p-h*T,B=h*y*T+v*E*d+x*p*m-x*y*d-v*p*T-h*E*m;i.transform(R/D,L/D,j/D,N/D,F/D,B/D),i.drawImage(c,0,0,l*u.resolution,f*u.resolution,0,0,l,f),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;i<r-2;++i){var o=2*i,a=n[o],s=n[o+1],u=n[o+2],c=n[o+3],l=n[o+4],f=n[o+5];e.moveTo(a,s),e.lineTo(u,c),e.lineTo(l,f)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=s,i.CanvasRenderer.registerPlugin("mesh",s)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(343),a=(r=o)&&r.__esModule?r:{default:r};var s=function(t){function e(n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,4,4));return s._origWidth=n.orig.width,s._origHeight=n.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=void 0!==r?r:10,s._rightWidth=void 0!==o?o:10,s._topHeight=void 0!==i?i:10,s._bottomHeight=void 0!==a?a:10,s.refresh(!0),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,n=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var n=this.worldTransform,r=t.resolution;t.roundPixels?e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r);var i=this._texture.baseTexture,o=i.source,a=i.width*i.resolution,s=i.height*i.resolution;this.drawSegment(e,o,a,s,0,1,10,11),this.drawSegment(e,o,a,s,2,3,12,13),this.drawSegment(e,o,a,s,4,5,14,15),this.drawSegment(e,o,a,s,8,9,18,19),this.drawSegment(e,o,a,s,10,11,20,21),this.drawSegment(e,o,a,s,12,13,22,23),this.drawSegment(e,o,a,s,16,17,26,27),this.drawSegment(e,o,a,s,18,19,28,29),this.drawSegment(e,o,a,s,20,21,30,31)},e.prototype.drawSegment=function(t,e,n,r,i,o,a,s){var u=this.uvs,c=this.vertices,l=(u[a]-u[i])*n,f=(u[s]-u[o])*r,h=c[a]-c[i],p=c[s]-c[o];l<1&&(l=1),f<1&&(f=1),h<1&&(h=1),p<1&&(p=1),t.drawImage(e,u[i]*n,u[o]*r,l,f,c[i],c[o],h,p)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(a.default);e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(113);var o=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.points=r,i.vertices=new Float32Array(4*r.length),i.uvs=new Float32Array(4*r.length),i.colors=new Float32Array(2*r.length),i.indices=new Uint16Array(2*r.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,n=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var i=t.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,r[a=2*o]=1,r[a+1]=1,n[a=2*o]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],n=void 0,r=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],c=4*s;i=-((n=s<t.length-1?t[s+1]:u).x-e.x),r=n.y-e.y;var l=10*(1-s/(a-1));l>1&&(l=1);var f=Math.sqrt(r*r+i*i),h=this._texture.height/2;r/=f,i/=f,r*=h,i*=h,o[c]=u.x+r,o[c+1]=u.y+i,o[c+2]=u.x-r,o[c+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=n(803);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(r).default}});var i=n(804);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=n(31);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,r=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a(this,e);var c=s(this,t.call(this)),l=16384;return o>l&&(o=l),o>n&&(o=n),c._properties=[!1,!0,!1,!1,!1],c._maxSize=n,c._batchSize=o,c._glBuffers={},c._bufferUpdateIDs=[],c._updateID=0,c.interactiveChildren=!1,c.blendMode=i.BLEND_MODES.NORMAL,c.autoResize=u,c.roundPixels=!0,c.baseTexture=null,c.setProperties(r),c._tint=0,c.tintRgb=new Float32Array(4),c.tint=16777215,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var c=this.children[u];if(c.visible){var l=c._texture.frame;if(e.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)==0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),r=!1),i=c.anchor.x*(-l.width*c.scale.x)+c.position.x+.5,o=c.anchor.y*(-l.height*c.scale.y)+c.position.y+.5,a=l.width*c.scale.x,s=l.height*c.scale.y;else{r||(r=!0),c.displayObjectUpdateTransform();var f=c.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution|0,f.ty*t.resolution|0):e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution,f.ty*t.resolution),i=c.anchor.x*-l.width+.5,o=c.anchor.y*-l.height+.5,a=l.width,s=l.height}var h=c._texture.baseTexture.resolution;e.drawImage(c._texture.baseTexture.source,l.x*h,l.y*h,l.width*h,l.height*h,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),i=s(n(805)),o=s(n(806)),a=n(31);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new r.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,o=this.renderer,a=e.length;if(0!==a){a>n&&(a=n);var s=t._glBuffers[o.CONTEXT_UID];s||(s=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(r.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var c=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=r.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var f=!1,h=0,p=0;h<a;h+=i,p+=1){var d=a-h;if(d>i&&(d=i),p>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var v=s[p];v.uploadDynamic(e,h,d);var y=t._bufferUpdateIDs[p]||0;(f=f||v._updateID<y)&&(v._updateID=t._updateID,v.uploadStatic(e,h,d)),o.bindVao(v.vao),v.vao.draw(c.TRIANGLES,6*d)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,n=[],r=t._maxSize,i=t._batchSize,a=t._properties,s=0;s<r;s+=i)n.push(new o.default(e,this.properties,a,i));return n},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,n=t._batchSize,r=t._properties;return new o.default(e,this.properties,r,n)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,u=0,c=0,l=0;l<n;++l){var f=t[e+l],h=f._texture,p=f.scale.x,d=f.scale.y,v=h.trim,y=h.orig;v?(a=(s=v.x-f.anchor.x*y.width)+v.width,u=(c=v.y-f.anchor.y*y.height)+v.height):(a=y.width*(1-f.anchor.x),s=y.width*-f.anchor.x,u=y.height*(1-f.anchor.y),c=y.height*-f.anchor.y),r[o]=s*p,r[o+1]=c*d,r[o+i]=a*p,r[o+i+1]=c*d,r[o+2*i]=a*p,r[o+2*i+1]=u*d,r[o+3*i]=s*p,r[o+3*i+1]=u*d,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,o){for(var s=0;s<n;++s){var u=t[e+s],c=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,f=l<1&&c?(0,a.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);r[o]=f,r[o+i]=f,r[o+2*i]=f,r[o+3*i]=f,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(r.ObjectRenderer);e.default=u,r.WebGLRenderer.registerPlugin("particle",u)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(111);var o=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(43)),i=o(n(232));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<n.length;++o){var a=n[o];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},r[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=r.default.GLBuffer.createVertexBuffer(t,a,t.STREAM_DRAW);var s=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var c=this.staticProperties[u];c.offset=s,s+=c.size,this.staticStride+=c.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=r.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var f=0;f<this.dynamicProperties.length;++f){var h=this.dynamicProperties[f];h.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,h.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*h.offset):this.vao.addAttribute(this.dynamicBuffer,h.attribute,t.FLOAT,!1,4*this.dynamicStride,4*h.offset)}for(var p=0;p<this.staticProperties.length;++p){var d=this.staticProperties[p];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*d.offset):this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,!1,4*this.staticStride,4*d.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=n(808);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(r).default}});var i=n(809);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=n(234);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var a=n(344);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(a).default}});var s=n(810);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(s).default}})},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=n(234);var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r.renderer,r.registerFindHook(c),r.registerUploadHook(s),r.registerUploadHook(u),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);function s(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function c(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=a,i.WebGLRenderer.registerPlugin("prepare",a)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(30)),o=n(234),a=(r=o)&&r.__esModule?r:{default:r};var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r.uploadHookHelper=r,r.canvas=document.createElement("canvas"),r.canvas.width=16,r.canvas.height=16,r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(u),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(a.default);function u(t,e){if(e instanceof i.BaseTexture){var n=e.source,r=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),o=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,r,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=s,i.CanvasRenderer.registerPlugin("prepare",s)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=r},,function(t,e,n){"use strict";function r(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(r,Error),r.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(i=t[e],n[i.type](i));if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:r,parse:function(t,e){e=void 0!==e?e:{};var n,i={},o={expr:Y},a=Y,s=z("||",!1),u=function(t,e){return function(t,e){return t+e.map(et).join("")}(t,e)},c=z("&&",!1),l=z("+",!1),f=z("-",!1),h=z("*",!1),p=z("/",!1),d=z("%",!1),v=z("(",!1),y=z(")",!1),m=z("!",!1),g=H("number"),b=/^[eE]/,_=q(["e","E"],!1,!1),w=/^[0-9]/,x=q([["0","9"]],!1,!1),E=z(".",!1),T=z("0",!1),O=/^[1-9]/,S=q([["1","9"]],!1,!1),C=/^[a-zA-Z]/,A=q([["a","z"],["A","Z"]],!1,!1),M=/^[a-zA-Z0-9_]/,P=q([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),k=H("whitespace"),I=/^[ \t\n\r]/,D=q([" ","\t","\n","\r"],!1,!1),R=0,j=0,F=[{line:1,column:1}],L=0,N=[],B=0;if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function U(){return t.substring(j,R)}function z(t,e){return{type:"literal",text:t,ignoreCase:e}}function q(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function H(t){return{type:"other",description:t}}function V(e){var n,r=F[e];if(r)return r;for(n=e-1;!F[n];)n--;for(r={line:(r=F[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return F[e]=r,r}function W(t,e){var n=V(t),r=V(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function X(t){R<L||(R>L&&(L=R,N=[]),N.push(t))}function G(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function Y(){return K()}function K(){var e,n,r,o,a,c,l,f;if(e=R,(n=$())!==i){for(r=[],o=R,(a=tt())!==i?("||"===t.substr(R,2)?(c="||",R+=2):(c=i,0===B&&X(s)),c!==i&&(l=tt())!==i&&(f=$())!==i?o=a=[a,c,l,f]:(R=o,o=i)):(R=o,o=i);o!==i;)r.push(o),o=R,(a=tt())!==i?("||"===t.substr(R,2)?(c="||",R+=2):(c=i,0===B&&X(s)),c!==i&&(l=tt())!==i&&(f=$())!==i?o=a=[a,c,l,f]:(R=o,o=i)):(R=o,o=i);r!==i?(j=e,e=n=u(n,r)):(R=e,e=i)}else R=e,e=i;return e}function $(){var e,n,r,o,a,s,l,f;if(e=R,(n=J())!==i){for(r=[],o=R,(a=tt())!==i?("&&"===t.substr(R,2)?(s="&&",R+=2):(s=i,0===B&&X(c)),s!==i&&(l=tt())!==i&&(f=J())!==i?o=a=[a,s,l,f]:(R=o,o=i)):(R=o,o=i);o!==i;)r.push(o),o=R,(a=tt())!==i?("&&"===t.substr(R,2)?(s="&&",R+=2):(s=i,0===B&&X(c)),s!==i&&(l=tt())!==i&&(f=J())!==i?o=a=[a,s,l,f]:(R=o,o=i)):(R=o,o=i);r!==i?(j=e,e=n=u(n,r)):(R=e,e=i)}else R=e,e=i;return e}function J(){var e,n,r,o,a,s,c,h;if(e=R,(n=Z())!==i){for(r=[],o=R,(a=tt())!==i?(43===t.charCodeAt(R)?(s="+",R++):(s=i,0===B&&X(l)),s===i&&(45===t.charCodeAt(R)?(s="-",R++):(s=i,0===B&&X(f))),s!==i&&(c=tt())!==i&&(h=Z())!==i?o=a=[a,s,c,h]:(R=o,o=i)):(R=o,o=i);o!==i;)r.push(o),o=R,(a=tt())!==i?(43===t.charCodeAt(R)?(s="+",R++):(s=i,0===B&&X(l)),s===i&&(45===t.charCodeAt(R)?(s="-",R++):(s=i,0===B&&X(f))),s!==i&&(c=tt())!==i&&(h=Z())!==i?o=a=[a,s,c,h]:(R=o,o=i)):(R=o,o=i);r!==i?(j=e,e=n=u(n,r)):(R=e,e=i)}else R=e,e=i;return e}function Z(){var e,n,r,o,a,s,c,l;if(e=R,(n=Q())!==i){for(r=[],o=R,(a=tt())!==i?(42===t.charCodeAt(R)?(s="*",R++):(s=i,0===B&&X(h)),s===i&&(47===t.charCodeAt(R)?(s="/",R++):(s=i,0===B&&X(p)),s===i&&(37===t.charCodeAt(R)?(s="%",R++):(s=i,0===B&&X(d)))),s!==i&&(c=tt())!==i&&(l=Q())!==i?o=a=[a,s,c,l]:(R=o,o=i)):(R=o,o=i);o!==i;)r.push(o),o=R,(a=tt())!==i?(42===t.charCodeAt(R)?(s="*",R++):(s=i,0===B&&X(h)),s===i&&(47===t.charCodeAt(R)?(s="/",R++):(s=i,0===B&&X(p)),s===i&&(37===t.charCodeAt(R)?(s="%",R++):(s=i,0===B&&X(d)))),s!==i&&(c=tt())!==i&&(l=Q())!==i?o=a=[a,s,c,l]:(R=o,o=i)):(R=o,o=i);r!==i?(j=e,e=n=u(n,r)):(R=e,e=i)}else R=e,e=i;return e}function Q(){var e,n,r,o,a;return e=R,40===t.charCodeAt(R)?(n="(",R++):(n=i,0===B&&X(v)),n!==i&&(r=tt())!==i&&(o=K())!==i&&tt()!==i?(41===t.charCodeAt(R)?(a=")",R++):(a=i,0===B&&X(y)),a!==i?(j=e,e=n="("+o+")"):(R=e,e=i)):(R=e,e=i),e===i&&(e=R,33===t.charCodeAt(R)?(n="!",R++):(n=i,0===B&&X(m)),n!==i&&(r=Q())!==i?(j=e,e=n="!"+r):(R=e,e=i),e===i&&(e=function(){var e,n,r,o;B++,e=R,45===t.charCodeAt(R)?(n="-",R++):(n=i,0===B&&X(f));n===i&&(n=null);n!==i&&function(){var e,n,r,o;48===t.charCodeAt(R)?(e="0",R++):(e=i,0===B&&X(T));if(e===i)if(e=R,O.test(t.charAt(R))?(n=t.charAt(R),R++):(n=i,0===B&&X(S)),n!==i){for(r=[],w.test(t.charAt(R))?(o=t.charAt(R),R++):(o=i,0===B&&X(x));o!==i;)r.push(o),w.test(t.charAt(R))?(o=t.charAt(R),R++):(o=i,0===B&&X(x));r!==i?e=n=[n,r]:(R=e,e=i)}else R=e,e=i;return e}()!==i?((r=function(){var e,n,r,o;e=R,46===t.charCodeAt(R)?(n=".",R++):(n=i,0===B&&X(E));if(n!==i){if(r=[],w.test(t.charAt(R))?(o=t.charAt(R),R++):(o=i,0===B&&X(x)),o!==i)for(;o!==i;)r.push(o),w.test(t.charAt(R))?(o=t.charAt(R),R++):(o=i,0===B&&X(x));else r=i;r!==i?e=n=[n,r]:(R=e,e=i)}else R=e,e=i;return e}())===i&&(r=null),r!==i?((o=function(){var e,n,r,o,a;e=R,b.test(t.charAt(R))?(n=t.charAt(R),R++):(n=i,0===B&&X(_));if(n!==i)if(45===t.charCodeAt(R)?(r="-",R++):(r=i,0===B&&X(f)),r===i&&(43===t.charCodeAt(R)?(r="+",R++):(r=i,0===B&&X(l))),r===i&&(r=null),r!==i){if(o=[],w.test(t.charAt(R))?(a=t.charAt(R),R++):(a=i,0===B&&X(x)),a!==i)for(;a!==i;)o.push(a),w.test(t.charAt(R))?(a=t.charAt(R),R++):(a=i,0===B&&X(x));else o=i;o!==i?e=n=[n,r,o]:(R=e,e=i)}else R=e,e=i;else R=e,e=i;return e}())===i&&(o=null),o!==i?(j=e,n=U(),e=n):(R=e,e=i)):(R=e,e=i)):(R=e,e=i);B--,e===i&&(n=i,0===B&&X(g));return e}())===i&&(e=function(){var e,n,r,o;e=R,n=[],C.test(t.charAt(R))?(r=t.charAt(R),R++):(r=i,0===B&&X(A));if(r!==i)for(;r!==i;)n.push(r),C.test(t.charAt(R))?(r=t.charAt(R),R++):(r=i,0===B&&X(A));else n=i;if(n!==i){for(r=[],M.test(t.charAt(R))?(o=t.charAt(R),R++):(o=i,0===B&&X(P));o!==i;)r.push(o),M.test(t.charAt(R))?(o=t.charAt(R),R++):(o=i,0===B&&X(P));r!==i?(j=e,n="get("+JSON.stringify(U())+")",e=n):(R=e,e=i)}else R=e,e=i;return e}())),e}function tt(){var e,n;for(B++,e=[],I.test(t.charAt(R))?(n=t.charAt(R),R++):(n=i,0===B&&X(D));n!==i;)e.push(n),I.test(t.charAt(R))?(n=t.charAt(R),R++):(n=i,0===B&&X(D));return B--,e===i&&(n=i,0===B&&X(k)),e}function et(t){return" "+t[1]+" "+t[3]}if((n=a())!==i&&R===t.length)return n;throw n!==i&&R<t.length&&X({type:"end"}),G(N,L<t.length?t.charAt(L):null,L<t.length?W(L,L+1):W(L,L))}}},function(t,e,n){var r=n(814),i=n(845),o=n(846);function a(t){if(!(this instanceof a))return new a(t);o.call(this,t)}i(a,o),a.prototype.ease=function(t,e){return r[t](e)},t.exports=a},function(t,e,n){t.exports={backInOut:n(815),backIn:n(816),backOut:n(817),bounceInOut:n(818),bounceIn:n(819),bounceOut:n(235),circInOut:n(820),circIn:n(821),circOut:n(822),cubicInOut:n(823),cubicIn:n(824),cubicOut:n(825),elasticInOut:n(826),elasticIn:n(827),elasticOut:n(828),expoInOut:n(829),expoIn:n(830),expoOut:n(831),linear:n(832),quadInOut:n(833),quadIn:n(834),quadOut:n(835),quartInOut:n(836),quartIn:n(837),quartOut:n(838),quintInOut:n(839),quintIn:n(840),quintOut:n(841),sineInOut:n(842),sineIn:n(843),sineOut:n(844)}},function(t,e){t.exports=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},function(t,e){t.exports=function(t){var e=1.70158;return t*t*((e+1)*t-e)}},function(t,e){t.exports=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}},function(t,e,n){var r=n(235);t.exports=function(t){return t<.5?.5*(1-r(1-2*t)):.5*r(2*t-1)+.5}},function(t,e,n){var r=n(235);t.exports=function(t){return 1-r(1-t)}},function(t,e){t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(t,e){t.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(t,e){t.exports=function(t){return Math.sqrt(1- --t*t)}},function(t,e){t.exports=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}},function(t,e){t.exports=function(t){return t*t*t}},function(t,e){t.exports=function(t){var e=t-1;return e*e*e+1}},function(t,e){t.exports=function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}},function(t,e){t.exports=function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}},function(t,e){t.exports=function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}},function(t,e){t.exports=function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}},function(t,e){t.exports=function(t){return 0===t?t:Math.pow(2,10*(t-1))}},function(t,e){t.exports=function(t){return 1===t?t:1-Math.pow(2,-10*t)}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(t,e){t.exports=function(t){return t*t}},function(t,e){t.exports=function(t){return-t*(t-2)}},function(t,e){t.exports=function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}},function(t,e){t.exports=function(t){return Math.pow(t,4)}},function(t,e){t.exports=function(t){return Math.pow(t-1,3)*(1-t)+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(t,e){t.exports=function(t){return t*t*t*t*t}},function(t,e){t.exports=function(t){return--t*t*t*t*t+1}},function(t,e){t.exports=function(t){return-.5*(Math.cos(Math.PI*t)-1)}},function(t,e){t.exports=function(t){var e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}},function(t,e){t.exports=function(t){return Math.sin(t*Math.PI/2)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){var r=n(346),i=n(848);function o(t){if(!(this instanceof o))return new o(t);this.properties=[],t&&this.load(t)}o.prototype.dispose=function(){this.properties.forEach((function(t){t.dispose()})),this.properties.length=0},o.prototype.addProperty=function(t){this.properties.push(new i(t))},o.prototype.duration=function(){for(var t=0,e=0;e<this.properties.length;e++)for(var n=this.properties[e].keyframes.frames,r=0;r<n.length;r++)t=Math.max(n[r].time,t);return t},o.prototype.property=function(t){var e="number"==typeof t?t:function(t,e){for(var n=0;n<t.length;n++)if(t[n].name===e)return n;return-1}(this.properties,t);return e<0?void 0:this.properties[e]},o.prototype.load=function(t){this.dispose(),t&&(this.properties=t.map((function(t){return new i(t)})))},o.prototype.export=function(){return this.properties.map((function(t){return t.export()}))},o.prototype.ease=function(t,e){return e},o.prototype.interpolate=function(t,e,n,i){return r(e.value,n.value,i)},o.prototype.valueOf=function(t,e){var n=e.keyframes,r=n.interpolation(t),i=r[0],o=r[1],a=r[2];if(-1===i||-1===o)return e.value;var s=n.frames[i],u=n.frames[o];if(i===o)return s.value;var c=u.ease;return c&&(a=this.ease(c,a)),this.interpolate(e,s,u,a)},o.prototype.values=function(t,e){e||(e={});for(var n=0;n<this.properties.length;n++){var r=this.properties[n];e[r.name]=this.valueOf(t,r)}return e},t.exports=o},function(t,e){t.exports=function(t,e,n){return t*(1-n)+e*n}},function(t,e,n){var r=n(849),i=n(852);function o(t){if(!(this instanceof o))return new o(t);this.keyframes=r(),this.value=null,this.name="",t&&this.load(t)}o.prototype.dispose=function(){this.keyframes.clear()},o.prototype.export=function(){return i(this,{keyframes:this.keyframes.frames})},o.prototype.load=function(t){if(this.dispose(),t)for(var e in t)t.hasOwnProperty(e)&&("keyframes"===e?this.keyframes.frames=t.keyframes:this[e]=t[e])},t.exports=o},function(t,e,n){var r=n(346),i=n(850),o=n(851),a=[0,0,0];function s(t,e){return t.time-e.time}function u(t,e){if(!(this instanceof u))return new u(t,e);this.frames=t||[],e||this.sort()}u.prototype.nearestIndex=function(t,e){e="number"==typeof e?e:Number.MAX_VALUE;for(var n=Number.MAX_VALUE,r=-1,i=0;i<this.frames.length;i++){var o=Math.abs(this.frames[i].time-t);o<n&&o<=e&&(n=o,r=i)}return r},u.prototype.nearest=function(t,e){var n=this.nearestIndex(t,e);return-1===n?null:this.frames[n]},u.prototype.get=function(t){return this.nearest(t,0)},u.prototype.getIndex=function(t){return this.nearestIndex(t,0)},u.prototype.value=function(t,e,n){var i=this.interpolation(t);if(-1===i[0]||-1===i[1])return null;var o=this.frames[i[0]],a=this.frames[i[1]],s=i[2];return"function"==typeof e?e(o,a,s,n):r(o.value,a.value,s,n)},u.prototype.interpolation=function(t){if(0===this.frames.length)return o(a,-1,-1,0);for(var e=-1,n=this.frames.length-1;n>=0;n--)if(t>=this.frames[n].time){e=n;break}if(-1===e||e===this.frames.length-1)return e<0&&(e=0),o(a,e,e,0);var r=this.frames[e],s=this.frames[e+1];t=Math.max(r.time,Math.min(t,s.time));var u=i(r.time,s.time,t);return o(a,e,e+1,u)},u.prototype.next=function(t){if(this.frames.length<1)return null;for(var e=-1,n=0;n<this.frames.length;n++)if(t<this.frames[n].time){e=n;break}return-1===e?null:this.frames[e]},u.prototype.previous=function(t){if(this.frames.length<1)return null;for(var e=-1,n=this.frames.length-1;n>=0;n--)if(t>this.frames[n].time){e=n;break}return-1===e?null:this.frames[e]},u.prototype.add=function(t){this.frames.push(t),this.sort()},u.prototype.splice=function(t,e,n){this.frames.splice.apply(this.frames,arguments),arguments.length>2&&this.sort()},u.prototype.sort=function(){this.frames.sort(s)},u.prototype.clear=function(){this.frames.length=0},Object.defineProperty(u.prototype,"count",{get:function(){return this.frames.length}}),t.exports=u},function(t,e){t.exports=function(t,e,n){return(n-t)/(e-t)}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},,function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));n(904);var r=n(26),i=n.n(r),o=n(27),a=n.n(o),s=n(236),u=(n(907),n(49)),c=n.n(u),l=n(150),f=n(569),h=n(529),p=(n(912),n(58)),d=n.n(p),v=n(115),y=n(68),m=n.n(y);class g extends i.a.Component{constructor(){super(...arguments),this.onButtonClick=t=>{t.preventDefault(),this.props.onSubmit({username:d.a.findDOMNode(this.refs.username).value,password:d.a.findDOMNode(this.refs.password).value,passwordConfirmation:d.a.findDOMNode(this.refs.passwordConfirmation).value,email:d.a.findDOMNode(this.refs.email).value})},this.renderSubmitText=()=>"signUp"===this.props.mode?"Sign Me Up":"Log In"}componentDidMount(){m()(d.a.findDOMNode(this)).on("keydown keyup keypress",t=>{t.stopPropagation()})}render(){return i.a.createElement("form",{className:"AuthenticationForm"},i.a.createElement("div",{className:"AuthenticationFormのgroup"},i.a.createElement("label",null,i.a.createElement("span",{className:"AuthenticationFormのlabel"},"Username"),i.a.createElement("span",{className:"AuthenticationFormのcontrol"},i.a.createElement("input",{type:"text",defaultValue:"",ref:"username"}))),i.a.createElement("label",{hidden:"signUp"!==this.props.mode},i.a.createElement("span",{className:"AuthenticationFormのlabel"},"Email"),i.a.createElement("span",{className:"AuthenticationFormのcontrol"},i.a.createElement("input",{type:"email",defaultValue:"",ref:"email"}))),i.a.createElement("label",null,i.a.createElement("span",{className:"AuthenticationFormのlabel"},"Password"),i.a.createElement("span",{className:"AuthenticationFormのcontrol"},i.a.createElement("input",{type:"password",defaultValue:"",ref:"password"}))),i.a.createElement("label",{hidden:"signUp"!==this.props.mode},i.a.createElement("span",{className:"AuthenticationFormのlabel"},"Confirm Password"),i.a.createElement("span",{className:"AuthenticationFormのcontrol"},i.a.createElement("input",{type:"password",defaultValue:"",ref:"passwordConfirmation"}))),i.a.createElement("div",{className:"AuthenticationFormのbuttons"},i.a.createElement(v.a,{onClick:this.onButtonClick},this.renderSubmitText()))))}}g.propTypes={onSubmit:a.a.func,mode:a.a.string};class b extends i.a.Component{constructor(t){super(t),this.onSubmit=t=>{"signUp"===this.state.mode?this.runPromise(this.doSignUp(t)):this.runPromise(this.doLogIn(t))},this.runPromise=t=>{this.setState({authentication:{status:"loading",message:"Omachi kudasai..."}}),t.then(t=>{this.setState({authentication:{status:"completed",message:t}})},t=>{this.setState({authentication:{status:"error",message:t.message}})}).done()},this.doSignUp=t=>Promise.try(()=>{if(!t.username.trim())throw new Error("Please enter a username.");if(!t.username.match(/^\S+$/))throw new Error("Username may not contain spaces.");if(t.username.length<2)throw new Error("Username must be at least 2 characters long.");if(t.username.length>24)throw new Error("Username must be at most 24 characters long.");if(!t.password)throw new Error("Please enter a password.");if(t.password.length<6)throw new Error("Password must be at least 6 characters long.");if(!t.passwordConfirmation)throw new Error("Please confirm your password.");if(t.password!==t.passwordConfirmation)throw new Error("Passwords do not match.");return h.a.signUp(t).then(()=>(this.props.onFinish&&this.props.onFinish(),"Welcome to Bemuse!"))}),this.doLogIn=t=>Promise.try(()=>{if(!t.username.trim())throw new Error("Please enter your username.");if(!t.password.trim())throw new Error("Please enter your password.");return h.a.logIn(t).then(()=>(this.props.onFinish&&this.props.onFinish(),"Welcome back!"))}),this.onSwitchToLogin=()=>{this.setState({mode:"logIn"})},this.onSwitchToSignup=()=>{this.setState({mode:"signUp"})},this.renderMessage=()=>{let t=this.state.authentication;return"idle"!==t.status&&t.message?i.a.createElement("div",{className:c()("AuthenticationPanelのmessage","is-"+t.status)},t.message):null},this.renderModeActiveClass=t=>t===this.state.mode?"is-active":"",this.state={mode:"logIn",authentication:{status:"idle",message:""}}}render(){return i.a.createElement("div",{className:"AuthenticationPanel"},i.a.createElement(l.a,{title:"Bemuse Online Ranking"},i.a.createElement("div",{className:"AuthenticationPanelのlayout"},i.a.createElement("div",{className:"AuthenticationPanelのtitle"},i.a.createElement("img",{src:n(858),alt:"DJ Bemuse"}),i.a.createElement("div",{className:"AuthenticationPanelのidentification"},"Bemuse",i.a.createElement("br",null),"Online",i.a.createElement("br",null),"Ranking")),i.a.createElement("div",{className:"AuthenticationPanelのcontent"},i.a.createElement("div",{className:"AuthenticationPanelのmodeSwitcher"},i.a.createElement("a",{href:"javascript://online/logIn",onClick:this.onSwitchToLogin,className:this.renderModeActiveClass("logIn")},"Log In")," ","·"," ",i.a.createElement("a",{href:"javascript://online/signUp",onClick:this.onSwitchToSignup,className:this.renderModeActiveClass("signUp")},"Create an Account")),i.a.createElement(f.a,{grow:"2"}),this.renderMessage(),i.a.createElement(g,{mode:this.state.mode,onSubmit:this.onSubmit}),i.a.createElement(f.a,{grow:"3"})))))}}b.propTypes={onFinish:a.a.func};class _ extends i.a.Component{render(){return i.a.createElement(s.a,Object.assign({},this.props),i.a.createElement("div",{className:"AuthenticationPopup"},i.a.createElement(b,{onFinish:this.props.onFinish})))}}_.propTypes={onFinish:a.a.func}},function(t,e,n){"use strict";var r=n(570),i=n(490),o=n.n(i),a=n(539),s=n.n(a),u=n(56),c=n.n(u);function l({server:t,auth:e,log:n=((t,...e)=>console.log("[ScoreboardClient] "+t,...e))}){const r=o.a.create({baseURL:t});function i(t,r,i,o){return new Promise((a,s)=>{n("Signing up with Auth0"),e.signup({connection:"Username-Password-Authentication",email:r,username:t,password:i,userMetadata:{playerName:o}},(function(r){if(r)return n("Auth0 signup error",r),s(f(r));n("Auth0 signup OK — now logging in"),e.client.login({realm:"Username-Password-Authentication",username:t,password:i,scope:"openid email profile"},(function(t,e){if(t)return n("Auth0 login error",t),s(f(t));n("Auth result",e),a({idToken:e.idToken})}))}))})}function a({query:t,variables:e}){return r.post("graphql",{query:t,variables:e}).then(t=>t.data)}function u(t,r){return new Promise((i,o)=>{n("Auth0 log in"),e.client.login({realm:"Username-Password-Authentication",username:t,password:r,scope:"openid email profile"},(function(t,e){if(t)return n("Auth0 login error",t),o(f(t));n("Auth result",e),i({idToken:e.idToken})}))})}function l(t){return Promise.resolve(a({query:"\n          query checkPlayerNameAvailability ($name: String!) {\n            player (name: $name) {\n              linked\n            }\n          }\n        ",variables:{name:t}}).then(t=>(n("checkPlayerNameAvailability response",t),t.data.player&&t.data.player.linked?(n("checkPlayerNameAvailability: Player name already taken."),!1):(n("checkPlayerNameAvailability: Player name is available!"),!0))))}function h(t){return Promise.resolve(a({query:"\n          query resolvePlayerId ($name: String!) {\n            player (name: $name) {\n              id\n            }\n          }\n        ",variables:{name:t}}).then(t=>null===t.data.player?{error:"Player not found..."}:{playerId:t.data.player.id}))}function p(t){return Promise.resolve(a({query:"\n          mutation reservePlayerId ($name: String!) {\n            registerPlayer(name: $name) {\n              id\n            }\n          }\n        ",variables:{name:t}}).then(t=>{const e=t.data.registerPlayer.id;return n("reservePlayerId response",t,"playerId",e),e}))}function d(t){return Promise.resolve(a({query:"\n          mutation ensureLink ($jwt: String!) {\n            linkPlayer(jwt: $jwt) {\n              id,\n              name\n            }\n          }\n        ",variables:{jwt:t}}).then(t=>{const e=t.data.linkPlayer.id,r=t.data.linkPlayer.name;return n("ensureLink response",t,"playerId",e),{playerId:e,playerName:r}}))}function v(t){return Promise.resolve(a({query:"\n          mutation resolvePlayerTokenFromIdToken ($jwt: String!) {\n            authenticatePlayer(jwt: $jwt) { playerToken }\n          }\n        ",variables:{jwt:t}}).then(t=>t.data.authenticatePlayer.playerToken))}const y="{\n    id\n    score\n    total\n    combo\n    count\n    playNumber\n    playCount\n    recordedAt\n    player { name }\n  }",m=`{\n    rank\n    entry ${y}\n  }`;return{signUp:({username:t,password:e,email:r})=>(c()("string"==typeof t,"username must be a string"),c()("string"==typeof e,"password must be a string"),c()("string"==typeof r,"email must be a string"),s()((function*(){const{idToken:o}=yield*function*(t,e,n,{log:r=(t=>console.log("[signUp]",t)),userSignUp:i,reservePlayerId:o,checkPlayerNameAvailability:a,ensureLink:s}){if(r("Checking player name availability..."),!(yield a(t)))throw new Error("Player name already taken");r("Registering player name...");const u=yield o(t);r("Creating account...");const{idToken:c}=yield i(u,e,n,t);if(!c)throw new Error("Cannot sign up (unknown error)");return r("Linking account..."),yield s(c),{idToken:c}}(t,r,e,{log:t=>n("[signUp]",t),userSignUp:i,checkPlayerNameAvailability:l,reservePlayerId:p,ensureLink:d});return{playerToken:yield v(o)}}))),loginByUsernamePassword:({username:t,password:e})=>(c()("string"==typeof t,"username must be a string"),c()("string"==typeof e,"password must be a string"),s()((function*(){const{idToken:r}=yield*function*(t,e,{log:n=(t=>console.log("[loginByUsernamePassword]",t)),usernamePasswordLogin:r,resolvePlayerId:i,ensureLink:o}){{const{idToken:a}=yield*function*(){if(/@/.test(t)){n("Authenticating using email...");const i=t,{idToken:o}=yield r(i,e);if(o)return n("Authenticated using email."),{idToken:o}}n("Resolving player...");const{playerId:o}=yield i(t);if(!o)throw new Error("Player not registered");n("Authenticating player...");const{idToken:a}=yield r(o,e);if(!a)throw new Error("Invalid password");return{idToken:a}}();return n("Loading profile..."),yield o(a),{idToken:a}}}(t,e,{log:t=>n("[loginByUsernamePassword]",t),usernamePasswordLogin:u,resolvePlayerId:h,ensureLink:d});return{playerToken:yield v(r)}}))),submitScore:({playerToken:t,md5:e,playMode:n,input:r})=>a({query:`\n          mutation submitScore ($playerToken: String!, $md5: String!, $playMode: String!, $input: RegisterScoreInput!) {\n            registerScore (playerToken: $playerToken, md5: $md5, playMode: $playMode, input: $input) {\n              resultingRow ${m}\n            }\n          }\n        `,variables:{playerToken:t,md5:e,playMode:n,input:r}}),retrieveScoreboard:({md5:t,playMode:e})=>a({query:`\n          query retrieveScoreboard ($md5: String!, $playMode: String!) {\n            chart (md5: $md5) {\n              level (playMode: $playMode) {\n                leaderboard (max: 50) ${m}\n              }\n            }\n          }\n        `,variables:{md5:t,playMode:e}}),retrieveRecord:({playerToken:t,md5:e,playMode:n})=>a({query:`\n          query retrieveRecord ($md5: String!, $playMode: String!, $playerToken: String!) {\n            chart (md5: $md5) {\n              level (playMode: $playMode) {\n                myRecord (playerToken: $playerToken) ${m}\n              }\n            }\n          }\n        `,variables:{md5:e,playMode:n,playerToken:t}}),retrieveRankingEntries:({playerToken:t,md5s:e})=>a({query:`\n          query retrieveRecord ($md5s: [String], $playerToken: String!) {\n            me (playerToken: $playerToken) {\n              records (md5s: $md5s) {\n                md5\n                playMode\n                entry ${y}\n              }\n            }\n          }\n        `,variables:{md5s:e,playerToken:t}}),renewPlayerToken:({playerToken:t})=>a({query:"\n          mutation renewPlayerToken ($playerToken: String!) {\n            renewPlayerToken (playerToken: $playerToken) {\n              playerToken\n            }\n          }\n        ",variables:{playerToken:t}}).then(t=>t.data.renewPlayerToken.playerToken)}}function f(t){return new Error(`Auth0 Error: ${t.statusCode} ${t.description} [${t.code}]`)}var h=n(247),p=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};e.a=class{constructor({server:t,storagePrefix:e="scoreboard.auth",authOptions:n}){const i=new r.a.WebAuth(Object.assign(Object.assign({},n),{redirectUri:window.location.href,responseType:"token id_token"}));this._scoreboardClient=l({server:t,auth:i,log:()=>{}}),this._storagePrefix=e,this._updateUserFromStorage(),this._renewPlayerToken()}_updateUserFromStorage(){this._currentUser=(t=>{if(!t)return null;try{const e=JSON.parse(t),n=e.playerToken,r=1e3*JSON.parse(atob(n.split(".")[1])).exp;return Date.now()>r-864e5?(console.warn("Authentication token is about to expire, skipping!"),null):e}catch(t){return null}})(localStorage[this._storagePrefix+".id"])}_renewPlayerToken(){const t=this._currentUser&&this._currentUser.playerToken;if(!t)return;const e=this._currentUser.username;return this._scoreboardClient.renewPlayerToken({playerToken:t}).then(t=>{localStorage[this._storagePrefix+".id"]=JSON.stringify({username:e,playerToken:t})})}getCurrentUser(){return this._currentUser&&this._currentUser.playerToken?{username:this._currentUser.username}:null}isLoggedIn(){return!!this._currentUser}signUp({username:t,password:e,email:n}){return this._scoreboardClient.signUp({username:t,password:e,email:n}).then(e=>{localStorage[this._storagePrefix+".id"]=JSON.stringify({username:t,playerToken:e.playerToken}),this._updateUserFromStorage()})}logIn({username:t,password:e}){return this._scoreboardClient.loginByUsernamePassword({username:t,password:e}).then(e=>(localStorage[this._storagePrefix+".id"]=JSON.stringify({username:t,playerToken:e.playerToken}),this._updateUserFromStorage(),this.getCurrentUser()))}logOut(){return p(this,void 0,void 0,(function*(){delete localStorage[this._storagePrefix+".id"],this._updateUserFromStorage()}))}submitScore(t){return p(this,void 0,void 0,(function*(){if(Object(h.isTestModeEnabled)())throw new Error("Cannot submit score in test mode");if(!this._currentUser)throw new Error("Not logged in");const e=yield this._scoreboardClient.submitScore({playerToken:this._currentUser.playerToken,md5:t.md5,playMode:t.playMode,input:{score:t.score,combo:t.combo,count:t.count,total:t.total,log:t.log}});return Object.assign({md5:t.md5,playMode:t.playMode},d(e.data.registerScore.resultingRow))}))}retrieveRecord(t,e){return p(this,void 0,void 0,(function*(){const e=(yield this._scoreboardClient.retrieveRecord({playerToken:this._currentUser.playerToken,md5:t.md5,playMode:t.playMode})).data.chart.level.myRecord;return e&&Object.assign({md5:t.md5,playMode:t.playMode},d(e))}))}retrieveScoreboard({md5:t,playMode:e}){return p(this,void 0,void 0,(function*(){return{data:(yield this._scoreboardClient.retrieveScoreboard({md5:t,playMode:e})).data.chart.level.leaderboard.map(d)}}))}retrieveMultipleRecords(t){return p(this,void 0,void 0,(function*(){return(yield this._scoreboardClient.retrieveRankingEntries({playerToken:this._currentUser.playerToken,md5s:t.map(t=>t.md5)})).data.me.records.map(t=>Object.assign(Object.assign({},d(t)),{md5:t.md5,playMode:t.playMode}))}))}};function d(t){return{rank:t.rank,score:t.entry.score,combo:t.entry.combo,count:t.entry.count,total:t.entry.total,playerName:t.entry.player.name,recordedAt:new Date(t.entry.recordedAt),playCount:t.entry.playCount,playNumber:t.entry.playNumber}}},function(t,e,n){"use strict";var r=n(32),i=n.n(r),o=n(82),a=n.n(o),s=n(201),u=n.n(s),c=n(489),l=n(56),f=n.n(l);var h=n(538),p=n(164);e.a=function(t){const e=new a.a.Bus,n=new a.a.Bus,r=new a.a.Bus,o=e.toProperty(null).map(e=>e||t.getCurrentUser());function s(e){return t.submitScore(e).tap(t=>r.push(t))}function l(e){return t.retrieveScoreboard(e)}const d=n.bufferWithTime(138).scan(new u.a.Map,(t,e)=>t.merge(i.a.zipObject(e.map(h.a),e))).map(t=>t.valueSeq()).skipDuplicates(u.a.is).map(t=>t.toJS()),v=o.flatMapLatest((function(e){let n={};{const o=a.a.mergeAll(d.toEventStream().delay(0).flatMap((function(r){const o=r.filter(t=>!n[Object(h.a)(t)]);for(let t of o)n[Object(h.a)(t)]=!0;const s=e&&o.length>0?t.retrieveMultipleRecords(o):Promise.resolve([]);return a.a.fromPromise(s.then((function(t){let e=i.a.zipObject(t.map(h.a),t.map(p.b)),n=i.a.zipObject(o.map(h.a),o.map(()=>Object(p.b)(null))),r=i.a.defaults(e,n);return c.f(r)})).catch((function(t){return console.error("Cannot fetch levels:",t),c.f({})})))})),r.map(t=>c.e(Object(h.a)(t),Object(p.b)(t))));return c.h(o)}})).toProperty(c.a),y=v.onValue(()=>{});function m(t){return a.a.later(0,t)}return{"user川":o,"records川":v,signUp:function(n){return Promise.resolve(t.signUp(n)).tap(t=>e.push(t))},logIn:function(n){return Promise.resolve(t.logIn(n)).tap(t=>e.push(t))},logOut:function(){return t.logOut().tap(()=>e.push(null))},submitScore:s,scoreboard:l,Ranking:function(e){const n=function({md5:t,playMode:e}){return f()("string"==typeof t,"md5 must be a string"),f()("string"==typeof e,"playMode must be a string"),{md5:t,playMode:e}}(e),r=new a.a.Bus,u=new a.a.Bus;{const t=o.map((function(t){return t?e.score?function(t){const n=Object(p.e)(m().merge(r).flatMapLatest(()=>Object(p.g)(s(e)))),i=n.toEventStream().filter(t=>!Object(p.c)(t));return{"self川":n,"scoreboardTrigger川":i.map(()=>({force:!0}))}}():function(t){return{"self川":h(t),"scoreboardTrigger川":m({force:!1})}}(t):function(){return{"self川":a.a.constant({status:"unauthenticated",error:null,record:null}),"scoreboardTrigger川":a.a.once({force:!1})}}()})),f=t.flatMapLatest(t=>t.self川).toProperty(p.a),d=t.flatMapLatest(t=>t.scoreboardTrigger川),v=(c=d,Object(p.e)(c.merge(u).flatMapLatest(()=>Object(p.g)(l(n)))));return{"state川":a.a.combineTemplate({self:f,scoreboard:v}).map((function(t){return{data:t.scoreboard.value&&t.scoreboard.value.data,meta:{scoreboard:i.a.omit(t.scoreboard,"value"),submission:t.self}}})),resubmit:()=>r.push(),reloadScoreboard:()=>u.push()}}var c;function h(e){return Object(p.e)(m().merge(r).flatMapLatest(()=>Object(p.g)(t.retrieveRecord(n,e))))}},seen:function(t){return n.push(t)},dispose:y}}},function(t,e,n){t.exports=n.p+"build/ea410328703171d8f693d3a404a11a8f.jpg"},function(t,e,n){t.exports=n.p+"build/ad5c8959ea47d80c4de028b26525ac67.png"},,,function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n(492);let i=String(Object(r.d)()||"")||null;function o(){return!!i}function a(){try{return i}finally{i=null}}},function(t,e,n){"use strict";var r=n(26),i=n.n(r),o=n(27),a=n.n(o);n(928);const s=({children:t,tip:e,tipVisible:n=!0})=>i.a.createElement("div",{className:"TipContainer"},i.a.createElement("div",{className:"TipContainerのchildren"},t),n?i.a.createElement("span",{className:"TipContainerのbubble"},i.a.createElement("span",{className:"TipContainerのbubbleContent"},e)):null);s.propTypes={children:a.a.node,tip:a.a.node,tipVisible:a.a.bool},e.a=s},function(t,e,n){"use strict";n(930);var r=n(26),i=n.n(r),o=n(27),a=n.n(o);const s=({info:t})=>i.a.createElement("section",{className:"MusicChartInfo"},i.a.createElement("div",{className:"MusicChartInfoのgenre"},t.genre),i.a.createElement("div",{className:"MusicChartInfoのtitle"},t.title),t.subtitles.map((t,e)=>i.a.createElement("div",{className:"MusicChartInfoのsubtitle",key:e},t)),i.a.createElement("div",{className:"MusicChartInfoのartist"},t.artist,t.subartists.length?i.a.createElement("small",null," · "+t.subartists.join(" · ")):null));s.propTypes={info:a.a.shape({title:a.a.string,artist:a.a.string,genre:a.a.string,subtitles:a.a.arrayOf(a.a.string),subartists:a.a.arrayOf(a.a.string),difficulty:a.a.number,level:a.a.number})},e.a=s},function(t,e,n){"use strict";n(932);var r=n(541),i=n.n(r),o=n(26),a=n.n(o),s=n(27),u=n.n(s),c=n(49),l=n.n(c);class f extends a.a.Component{constructor(){super(...arguments),this.handleClick=()=>{this.props.onChartClick(this.props.chart)}}render(){let t=l()("MusicChartSelectorItem",{"is-active":this.props.isSelected,"is-replayable":this.props.isReplayable,"is-tutorial":this.props.isTutorial,"is-insane":this.props.chart.info.difficulty>=5,"is-5keys":"5K"===this.props.chart.keys});return a.a.createElement("li",{className:t,onClick:this.handleClick,"data-testid":this.props.isSelected?"play-selected-chart":void 0},this.renderText(),a.a.createElement("span",{className:"MusicChartSelectorItemのplay"},a.a.createElement(i.a,{name:"play"})))}renderText(){if(this.props.isTutorial){return`Start Tutorial (${"5K"===this.props.chart.keys?"5 keys":"7 keys"})`}return a.a.createElement("span",{className:"MusicChartSelectorItemのlevel"},this.props.chart.info.level)}}f.propTypes={chart:u.a.object.isRequired,isSelected:u.a.bool,isReplayable:u.a.bool,isTutorial:u.a.number,onChartClick:u.a.func.isRequired},e.a=f},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(26),i=n.n(r),o=n(27),a=n.n(o),s=n(882),u=n(529);class c extends i.a.Component{constructor(t){super(t),this.onStoreTrigger=t=>{this.mounted&&this.setState(t)},this.state={data:null,meta:{scoreboard:{status:"loading"},submission:{status:"loading"}}}}getParams(t){let e={};Object.assign(e,{md5:t.chart.md5,playMode:t.playMode});let n=t.result;return n&&Object.assign(e,{score:n.score,combo:n.maxCombo,total:n.totalCombo,count:[n[1],n[2],n[3],n[4],n.missed],log:n.log}),e}componentDidMount(){this.model=u.a.Ranking(this.getParams(this.props)),this.unsubscribe=this.model.state川.onValue(this.onStoreTrigger),this.mounted=!0}componentWillReceiveProps(t){this.props.chart.md5===t.chart.md5&&this.props.playMode===t.playMode||(this.unsubscribe&&this.unsubscribe(),this.model=u.a.Ranking(this.getParams(t)),this.unsubscribe=this.model.state川.onValue(this.onStoreTrigger))}componentWillUnmount(){this.mounted=!1,this.unsubscribe&&this.unsubscribe()}onReloadScoreboardRequest(){this.model.reloadScoreboard()}onResubmitScoreRequest(){this.model.resubmit()}render(){return i.a.createElement(s.a,{state:this.state,onReloadScoreboardRequest:this.onReloadScoreboardRequest,onResubmitScoreRequest:this.onResubmitScoreRequest})}}c.propTypes={chart:a.a.object,playMode:a.a.any}},function(t,e,n){"use strict";function r(t){return e=t.count,n=t.total,(100*((e[0]+.8*e[1]+.5*e[2])/n)).toFixed(2)+"%";var e,n}n.d(e,"a",(function(){return r}))},,,function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(357),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(972)),i=o(n(869));o(n(544)),o(n(545));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return(0,r.default)((function(t,e){return!(0,i.default)(t,e)}))(t)}},,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"load",(function(){return N})),n.d(e,"Context",(function(){return o})),n.d(e,"getSkinUrl",(function(){return B}));var r=n(50);function i(t,e){return r.utils.canUseNewCanvasBlendModes=()=>!0,new r.CanvasRenderer(t,e,{transparent:!0})}class o{constructor(t,{touchEventTarget:e}={}){this.refs={},this._skin=t,this._touchEventTarget=e,this._instance=t.instantiate(this),this._renderer=i(t.width,t.height),this.stage=this._instance.object,this.view=this._renderer.view,this.skinData=t.data,this._setupInteractivity()}render(t){this._instance.push(t),this._renderer.render(this.stage)}destroy(){this._instance.destroy(),this._instance=null,this._teardownInteractivity()}get input(){return this._input.get()}ref(t,e){(this.refs[t]||(this.refs[t]=new Set)).add(e)}unref(t,e){let n=this.refs[t];n&&n.delete(e)}_setupInteractivity(){let t=null,e=[],n=e=>{t=e},r=e=>{t=t&&e},i=()=>{t=null},o=t=>{e=[].slice.call(t.touches)};const a=this._touchEventTarget||this.view;let s=this._skin.width,u=this._skin.height;function c(t,e,n){return{x:(e.clientX-n.left)/n.width*s,y:(e.clientY-n.top)/n.height*u,id:t}}a.addEventListener("mousedown",n,!1),a.addEventListener("mousemove",r,!1),a.addEventListener("mouseup",i,!1),a.addEventListener("touchstart",o,!1),a.addEventListener("touchmove",o,!1),a.addEventListener("touchend",o,!1),this._teardownInteractivity=()=>{a.removeEventListener("mousedown",n,!1),a.removeEventListener("mousemove",r,!1),a.removeEventListener("mouseup",i,!1),a.removeEventListener("touchstart",o,!1),a.removeEventListener("touchmove",o,!1),a.removeEventListener("touchend",o,!1)},this._input={get:()=>{let n=[],r=this.view.getBoundingClientRect();t&&n.push(c("mouse",t,r));for(let t=0;t<e.length;t++){let i=e[t];n.push(c("touch"+i.identifier,i,r))}return n}}}}var a=n(68),s=n.n(a),u=n(159),c=n.n(u),l=n(103),f=n.n(l),h=n(75);var p=class{static compile(t,e){let n=new this;return n.compile(t,e),n}},d=n(167);var v=class{constructor(t){if(this._context=t.context,this._object=t.object,this._children=t.children,this._bindings=[],this._concerns=[],this.onData=new d.a(t.onData),this.onDestroy=new d.a(t.onDestroy),t.bindings)for(let e of t.bindings)this.bind(...e);if(t.concerns)for(let e of t.concerns)this._concerns.push(e.instantiate(this._context,this));if(t.children)for(let e of t.children)this._concerns.push(e.instantiate(this._context,this._object));t.onCreate&&new d.a(t.onCreate).call(),t.parent&&this.attachTo(t.parent)}bind(...t){let e=function(t){let e;return function(n){e!==n&&(e=n,t(n))}}(t.pop());1===t.length&&t[0].constant?e(t[0]()):this._bindings.push(n=>{for(var r=0;r<t.length;r++)n=t[r](n);e(n)})}attachTo(t){this._parent=t,this._parent.addChild(this._object)}detach(){this._parent&&(this._parent.removeChild(this._object),this._parent=null)}push(t){var e;for(e=0;e<this._bindings.length;e++)this._bindings[e](t);for(e=0;e<this._concerns.length;e++)this._concerns[e].push(t);this.onData.call(t)}destroy(){this.detach();for(var t=0;t<this._concerns.length;t++)this._concerns[t].destroy();this.onDestroy.call(),this._concerns=null,this._bindings=null,this._parent=null,this._object=null}get object(){return this._object}get parent(){return this._parent}},y=n(144),m=n(551);let g=[{name:"x",default:"0",apply:(t,e)=>t.x=e},{name:"y",default:"0",apply:(t,e)=>t.y=e},{name:"scale-x",default:"1",apply:(t,e)=>t.scale.x=e},{name:"scale-y",default:"1",apply:(t,e)=>t.scale.y=e},{name:"alpha",default:"1",apply:(t,e)=>t.alpha=e},{name:"width",apply:(t,e)=>t.width=e},{name:"height",apply:(t,e)=>t.height=e},{name:"visible",apply:(t,e)=>t.visible=e}];var b=class extends p{compile(t,e){this._animation=m.d.compile(t,e),this._bindings=[];for(let t of g){let n=e.attr(t.name)||t.default;if(!n)continue;let r=new y.a(n),i=this._animation.prop(t.name,r);this._bindings.push({getter:i,apply:t.apply})}this.blendMode=function(t){if("normal"===t)return r.BLEND_MODES.NORMAL;if("screen"===t)return r.BLEND_MODES.SCREEN;throw new Error("Invalid blend mode: "+t)}(e.attr("blend")||"normal"),this.ref=e.attr("ref")||null}instantiate(t,e){var n=e.object,r=[],i=null;n.blendMode=this.blendMode;for(var o=0;o<this._bindings.length;o++){var a=this._bindings[o];r.push([a.getter,a.apply.bind(null,n)])}return this.ref&&(t.ref(this.ref,n),i=()=>t.unref(this.ref,n)),new v({bindings:r,onDestroy:i})}};function _(t){let e=t.match(/^(\d+)x(\d+)\+(\d+)\+(\d+)$/);return e?new r.Rectangle(+e[3],+e[4],+e[1],+e[2]):null}class w{constructor(t){this._frame=t}instantiate(t,e){let n=new r.Graphics;return n.beginFill(),n.drawShape(this._frame),n.endFill(),e.object.mask=n,new v({context:t,object:n,parent:e.object})}}var x=class extends p{compile(t,e){this.children=t.compileChildren(e),this.display=b.compile(t,e);let n=_(e.attr("mask")||"");n&&(this.mask=new w(n))}instantiate(t,e){let n=new r.Container,i=[this.display];return this.mask&&i.push(this.mask),new v({context:t,object:n,parent:e,concerns:i,children:this.children})}};var E=class extends p{compile(t,e){let n=t.compileChildren(e);if(1!==n.length)throw new Error("Expected exactly 1 children, "+n.length+" found");this.child=n[0],this.key=new y.a(e.attr("key")),this.value=String(e.attr("value"))}instantiate(t,e){let n=new r.Container,i=this.key,o=this.value,a=this.child,s=null;return new v({context:t,parent:e,object:n,onData:e=>{String(i(e))===o?(null===s&&(s=a.instantiate(t,n)),s.push(e)):null!==s&&(s.destroy(),s=null)}})}};function T(t,e,n){return{instantiate(r,i){let o=new Map,a=[];return function(){for(var t,o=0;o<n;o++)(t=e.instantiate(r,i.object)).detach(),a.push(t)}(),new v({context:r,onData:e=>{!function(t){var e,n,r,i=new Set(o.keys());t||(t=[]);for(var u=0;u<t.length;u++)n=t[u],e=n.key,o.has(e)?r=o.get(e):(r=s(),o.set(e,r)),r.push(n),i.delete(e);for(e of i)(r=o.get(e)).detach(),o.delete(e),a.push(r)}(t(e))}});function s(){var t=a.pop();return t?t.attachTo(i.object):t=e.instantiate(r,i.object),t}}}}var O=class extends p{compile(t,e){if(this.children=t.compileChildren(e),1!==this.children.length)throw new Error("Expected exactly 1 children, "+this.children.length+" given");this.pool=+e.attr("pool")||1,this.key=new y.a(e.attr("key"))}instantiate(t,e){let n=new r.particles.ParticleContainer(void 0,{position:!0,alpha:!0}),i=new T(this.key,this.children[0],this.pool);return new v({context:t,parent:e,object:n,concerns:[i]})}};var S=class extends p{compile(t,e){this.children=t.compileChildren(e),this.width=+e.attr("width"),this.height=+e.attr("height"),this.data=e.data()}instantiate(t){let e=new r.Stage(591879);return new v({context:t,object:e,children:this.children})}};var C=class extends p{compile(t,e){this.url=t.resources.get(e.attr("image")),this.display=b.compile(t,e),this.frame=_(e.attr("frame")||""),this.anchorX=+e.attr("anchor-x")||0,this.anchorY=+e.attr("anchor-y")||0}instantiate(t,e){let n=new r.Sprite(this.getTexture());return n.anchor.x=this.anchorX,n.anchor.y=this.anchorY,new v({context:t,object:n,parent:e,concerns:[this.display]})}getTexture(){if(this._texture)return this._texture;let t=r.SCALE_MODES.NEAREST,e=r.BaseTexture.fromImage(this.url,void 0,t),n=new r.Texture(e,this.frame);return this._texture=n,n}};var A=class extends p{compile(t,e){this.font=e.attr("font"),this.text=e.attr("text"),this.data=new y.a(e.attr("data")||"0"),this.display=b.compile(t,e),this.ttf=!e.attr("font-src"),this.fill=e.attr("fill"),this.align="left"===e.attr("align")?0:"right"===e.attr("align")?1:.5}instantiate(t,e){let n;n=this.ttf?new r.Text(this.text,{font:this.font,fill:this.fill}):new r.extras.BitmapText(this.text,{font:this.font});let i=new r.Container;return i.addChild(n),new v({context:t,parent:e,object:i,concerns:[this.display],bindings:[[this.data,t=>{n.text=this.text.replace("%s",t),n.updateText(),n.x=n.width*-this.align}]]})}};const M=c()("scintillator:compiler");let P={skin:S,sprite:C,group:x,object:O,text:A,if:E};class k{constructor(t){Object.assign(this,t),this._defs=new Map}compile(t){let e=t[0].nodeName;M("compiling",t[0]);let n=k.getNodeClass(e);if(!n)throw new Error("Invalid node name: "+e);return n.compile(this,t)}compileChildren(t){let e=[];for(let n of Array.from(t.children())){let t=n.nodeName;if("defs"===t)this.compileDefs(s()(n));else if("use"===t)e.push(this.getDef(n.getAttribute("def")));else{k.getNodeClass(t)&&e.push(this.compile(s()(n)))}}return e}compileDefs(t){for(let e of Array.from(t.children())){let t=e.getAttribute("id");if(!t)throw new Error("A def should have an id: "+e.nodeName);this._defs.set(t,this.compile(s()(e)))}}getDef(t){let e=this._defs.get(t);if(!e)throw new Error("Cannot find def: "+t);return e}static getNodeClass(t){return P[t]}}var I=k,D=n(32),R=n.n(D);var j=class{constructor(){this._map={}}add(t,e){this._map[t]=e}get(t){if(!(t in this._map))throw new Error("Not registered: "+t);return this._map[t]}get urls(){return R.a.values(this._map)}},F=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};const L=c()("scintillator:loader");function N(t,e){return F(this,void 0,void 0,(function*(){L("load XML from %s",t);let n=yield(i=t,Promise.resolve(s.a.ajax({url:i,dataType:"xml"})).then(t=>s()(t.documentElement)));var i;let o=new j,a=new Set;for(let t of Array.from(n.find("[image]")))a.add(s()(t).attr("image"));for(let t of Array.from(n.find("[font-src]")))a.add(s()(t).attr("font-src"));for(let e of a){let n=f.a.resolve(t,e);o.add(e,n)}return yield function(t,e){return L("loading resources"),new Promise((function(n){if(0===t.urls.length)return n();let i=new r.loaders.Loader;for(let e of t.urls)i.add(e,e);i.once("complete",(function(){L("resources finished loading"),n()})),e&&(e.formatter=h.c,i.once("complete",(function(){e.report(100,100)})),i.on("progress",(function(){e.report(i.progress,100)}))),i.load()}))}(o,e),L("compiling"),new I({resources:o}).compile(n)}))}function B({displayMode:t}={}){return"touch3d"===t?"/skins/default/skin_touch3d.xml":window.innerWidth<window.innerHeight?"/skins/default/skin_touch.xml":"/skins/default/skin_screen.xml"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(944);var r=n(26),i=n.n(r),o=n(27),a=n.n(o),s=(n(946),n(866));const u=({children:t})=>i.a.createElement("table",{className:"RankingTable"},i.a.createElement("tbody",null,t));u.propTypes={children:a.a.any};class c extends i.a.Component{render(){return i.a.createElement("tr",null,i.a.createElement("td",{className:"RankingTableのrank"},this.props.record.rank||i.a.createElement("span",{title:"Unable to determine your rank"},"??")),i.a.createElement("td",{className:"RankingTableのname"},this.props.record.playerName),i.a.createElement("td",{className:"RankingTableのscore"},this.props.record.score),i.a.createElement("td",{className:"RankingTableのaccuracy"},Object(s.a)(this.props.record)))}}c.propTypes={record:a.a.object};const l=({children:t})=>i.a.createElement("tr",null,i.a.createElement("td",{colSpan:4,className:"RankingTableのmessage"},t));l.propTypes={children:a.a.any},u.Row=c,u.Message=l;var f=u,h=n(854),p=n(164);class d extends i.a.Component{constructor(t){super(t),this.handleAuthenticate=()=>{this.setState({authenticationPopupVisible:!0})},this.handleAuthenticationClose=()=>{this.setState({authenticationPopupVisible:!1})},this.handleAuthenticationFinish=()=>{this.setState({authenticationPopupVisible:!1})},this.state={authenticationPopupVisible:!1}}render(){return i.a.createElement("div",{className:"Ranking"},i.a.createElement(h.a,{visible:this.state.authenticationPopupVisible,onFinish:this.handleAuthenticationFinish,onBackdropClick:this.handleAuthenticationClose}),this.renderYours(),this.renderLeaderboard())}renderYours(){const t=this.props.state.meta.submission;return i.a.createElement("div",{className:"Rankingのyours"},i.a.createElement("div",{className:"Rankingのtitle"},"Your Ranking"),i.a.createElement(f,null,t.value?i.a.createElement(f.Row,{record:t.value}):"unauthenticated"===t.status?i.a.createElement(f.Message,null,"Please"," ",i.a.createElement("a",{href:"javascript://online/auth",onClick:this.handleAuthenticate},"log in or create an account")," ","to submit scores."):"error"===t.status?i.a.createElement(f.Message,null,this.renderError("Unable to submit score",t.error,this.props.onResubmitScoreRequest)):Object(p.c)(t)?i.a.createElement(f.Message,null,"Please wait..."):i.a.createElement(f.Message,null,"No record. Let’s play!")))}renderLeaderboard(){const t=this.props.state;return i.a.createElement("div",{className:"Rankingのleaderboard"},i.a.createElement("div",{className:"Rankingのtitle"},"Leaderboard"),i.a.createElement(f,null,t.data&&t.data.length?t.data.map((t,e)=>i.a.createElement(f.Row,{key:e,record:t})):Object(p.c)(t.meta.scoreboard)?i.a.createElement(f.Message,null,"Loading..."):"error"===t.meta.scoreboard.status?i.a.createElement(f.Message,null,this.renderError("Sorry, we are unable to fetch the scoreboard.",t.meta.scoreboard.error,this.props.onReloadScoreboardRequest)):i.a.createElement(f.Message,null,"No Data")))}renderError(t,e,n){return i.a.createElement("span",{className:"Rankingのerror"},i.a.createElement("strong",null,t," ",i.a.createElement("a",{onClick:n,className:"RankingのerrorRetry",href:"javascript://retry"},"(click to retry)")),i.a.createElement("br",null),i.a.createElement("span",{className:"RankingのerrorDescription"},e&&e.message?""+e.message:"(unknown error)"))}}d.propTypes={state:a.a.shape({data:a.a.arrayOf(a.a.object),meta:a.a.shape({scoreboard:a.a.object,submission:a.a.object})}),onReloadScoreboardRequest:a.a.func,onResubmitScoreRequest:a.a.func}},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(887));e.createIO=function(t){return(0,r.default)({},i.default,(function(e,n){return t(e,n)}))};var i=o(n(557));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(888),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports={default:n(530),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRun=function(t){var e=t.context;return function t(n){return n[o.default](e,t)}};var r,i=n(557),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChangeEmitter=function(){var t=[],e=t;function n(){e===t&&(e=t.slice())}return{listen:function(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var r=!0;return n(),e.push(t),function(){if(r){r=!1,n();var i=e.indexOf(t);e.splice(i,1)}}},emit:function(){for(var n=t=e,r=0;r<n.length;r++)n[r].apply(n,arguments)}}}},function(t,e,n){(function(e){var n=Math.floor(16777215*Math.random()),r=o.index=parseInt(16777215*Math.random(),10),i=(void 0===e||"number"!=typeof e.pid?Math.floor(1e5*Math.random()):e.pid)%65535;function o(t){if(!(this instanceof o))return new o(t);if(t&&(t instanceof o||"ObjectID"===t._bsontype))return t;var e,n;if(null!=(n=t)&&n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)||Array.isArray(t)&&12===t.length)e=Array.prototype.slice.call(t);else if("string"==typeof t){if(12!==t.length&&!o.isValid(t))throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");e=u(t)}else/number|undefined/.test(typeof t)&&(e=u(a(t)));Object.defineProperty(this,"id",{enumerable:!0,get:function(){return String.fromCharCode.apply(this,e)}}),Object.defineProperty(this,"str",{get:function(){return e.map(s.bind(this,2)).join("")}})}function a(t){return"number"!=typeof t&&(t=Date.now()/1e3),s(8,t=parseInt(t,10)%4294967295)+s(6,n)+s(4,i)+s(6,r=(r+1)%16777215)}function s(t,e){return(e=e.toString(16)).length===t?e:"00000000".substring(e.length,t)+e}function u(t){var e=0,n=[];if(24===t.length)for(;e<24;n.push(parseInt(t[e]+t[e+1],16)),e+=2);else if(12===t.length)for(;e<12;n.push(t.charCodeAt(e)),e++);return n}t.exports=o,o.generate=a,o.default=o,o.createFromTime=function(t){return new o(s(8,t=parseInt(t,10)%4294967295)+"0000000000000000")},o.createFromHexString=function(t){if(!o.isValid(t))throw new Error("Invalid ObjectID hex string");return new o(t)},o.isValid=function(t){return!!t&&/^[0-9A-F]{24}$/i.test(t.toString())},o.setMachineID=function(t){var e;if("string"==typeof t){if(e=parseInt(t,16),isNaN(e)){t=("000000"+t).substr(-7,6),e="";for(var r=0;r<6;r++)e+=t.charCodeAt(r)}}else/number|undefined/.test(typeof t)&&(e=0|t);n=16777215&e},o.getMachineID=function(){return n},o.prototype={_bsontype:"ObjectID",constructor:o,toHexString:function(){return this.str},equals:function(t){return!!t&&this.str===t.toString()},getTimestamp:function(){return new Date(1e3*parseInt(this.str.substr(0,8),16))}},o.prototype.inspect=function(){return"ObjectID("+this+")"},o.prototype.toJSON=o.prototype.toHexString,o.prototype.toString=o.prototype.toHexString}).call(this,n(55))},function(t,e){function n(t,e){return t+e}t.exports=function(t){"use strict";return t.reduce(n,0)/t.length}},function(t,e,n){"use strict";var r=n(894),i=n(895),o=n(562);t.exports={formats:o,parse:i,stringify:r}},function(t,e,n){"use strict";var r=n(561),i=n(562),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(t){return a.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(e,n,i,o,a,u,c,l,f,h,p,d){var v=e;if("function"==typeof c)v=c(n,v);else if(v instanceof Date)v=h(v);else if(null===v){if(o)return u&&!d?u(n,s.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||r.isBuffer(v))return u?[p(d?n:u(n,s.encoder))+"="+p(u(v,s.encoder))]:[p(n)+"="+p(String(v))];var y,m=[];if(void 0===v)return m;if(Array.isArray(c))y=c;else{var g=Object.keys(v);y=l?g.sort(l):g}for(var b=0;b<y.length;++b){var _=y[b];a&&null===v[_]||(m=Array.isArray(v)?m.concat(t(v[_],i(n,_),i,o,a,u,c,l,f,h,p,d)):m.concat(t(v[_],n+(f?"."+_:"["+_+"]"),i,o,a,u,c,l,f,h,p,d)))}return m};t.exports=function(t,e){var n=t,a=e?r.assign({},e):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===a.delimiter?s.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,f="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,h="boolean"==typeof a.encode?a.encode:s.encode,p="function"==typeof a.encoder?a.encoder:s.encoder,d="function"==typeof a.sort?a.sort:null,v=void 0!==a.allowDots&&a.allowDots,y="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,m="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if(void 0===a.format)a.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var g,b,_=i.formatters[a.format];"function"==typeof a.filter?n=(b=a.filter)("",n):Array.isArray(a.filter)&&(g=b=a.filter);var w,x=[];if("object"!=typeof n||null===n)return"";w=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var E=o[w];g||(g=Object.keys(n)),d&&g.sort(d);for(var T=0;T<g.length;++T){var O=g[T];f&&null===n[O]||(x=x.concat(u(n[O],O,E,l,f,h?p:null,b,d,v,y,_,m)))}var S=x.join(c),C=!0===a.addQueryPrefix?"?":"";return S.length>0?C+S:""}},function(t,e,n){"use strict";var r=n(561),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,u=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var c=0;null!==(a=o.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),function(t,e,n){for(var r=e,i=t.length-1;i>=0;--i){var o,a=t[i];if("[]"===a)o=(o=[]).concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(s,10);!isNaN(u)&&a!==s&&String(u)===s&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=r:o[s]=r}r=o}return r}(u,e,n)}};t.exports=function(t,e){var n=e?r.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===t||null==t)return n.plainObjects?Object.create(null):{};for(var s="string"==typeof t?function(t,e){for(var n={},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=e.parameterLimit===1/0?void 0:e.parameterLimit,s=r.split(e.delimiter,a),u=0;u<s.length;++u){var c,l,f=s[u],h=f.indexOf("]="),p=-1===h?f.indexOf("="):h+1;-1===p?(c=e.decoder(f,o.decoder),l=e.strictNullHandling?null:""):(c=e.decoder(f.slice(0,p),o.decoder),l=e.decoder(f.slice(p+1),o.decoder)),i.call(n,c)?n[c]=[].concat(n[c]).concat(l):n[c]=l}return n}(t,n):t,u=n.plainObjects?Object.create(null):{},c=Object.keys(s),l=0;l<c.length;++l){var f=c[l],h=a(f,s[f],n);u=r.merge(u,h,n)}return r.compact(u)}},function(t,e,n){var r=n(897);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.SceneHeading {\n  box-shadow: 0 0.1vh 3vh rgba(0, 0, 0, 0.1);\n  background: white;\n  margin: 0;\n  padding: 0 20px;\n  font: bold 2rem "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n  line-height: 40px;\n  color: black;\n  padding-left: 70px;\n}\n@media (min-width: 720px) {\n  .SceneHeading {\n    font-size: 3.6rem;\n    padding: 0 4rem;\n    line-height: 1.67em;\n  }\n}',""])},function(t,e,n){var r=n(899);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.SceneToolbar {\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 0.5rem;\n  font-size: 1rem;\n}\n.SceneToolbar > a,\n.SceneToolbar > span {\n  display: block;\n  padding: 0.8ex 1.3ex;\n}\n.SceneToolbar > a {\n  color: rgba(255, 255, 255, 0.8);\n  text-decoration: none;\n  background: rgba(0, 0, 0, 0);\n  transition: 0.1s background, 0.1s color;\n}\n.SceneToolbar > a:hover {\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n}\n.SceneToolbar > a[data-position=right] {\n  float: right;\n}\n.SceneToolbar > span {\n  color: rgba(255, 255, 255, 0.6);\n}\n.SceneToolbarのspacer {\n  flex: 1 1;\n}',""])},function(t,e,n){var r=n(901);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".OptionsButton {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #454443, #151413);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n}\n.OptionsButton:hover {\n  border-color: #656463;\n}\n.OptionsButton:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.OptionsButton:active {\n  background: #252423 linear-gradient(to top, #353433, #151413);\n  border-color: #454443;\n}",""])},,,function(t,e,n){var r=n(905);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,"",""])},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ModalPopup {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(17, 17, 17, 0.5);\n  overflow: hidden;\n  z-index: 10000;\n}\n.ModalPopupのscroller {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.ModalPopupのcontentsContainer {\n  position: absolute;\n  top: 0;\n  min-width: 100vw;\n  min-height: 100vh;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ModalPopupのcontents {\n  position: relative;\n}\n.ModalPopup:not(.is-visible) {\n  display: none;\n}',""])},function(t,e,n){var r=n(908);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.AuthenticationPanelのlayout {\n  display: flex;\n  align-items: stretch;\n}\n.AuthenticationPanelのtitle {\n  padding: 12px 12px 24px;\n}\n.AuthenticationPanelのtitle img {\n  width: 143px;\n  height: 143px;\n}\n.AuthenticationPanelのidentification {\n  color: #8b8685;\n  font-size: 32px;\n  padding-left: 10px;\n}\n.AuthenticationPanelのcontent {\n  padding: 16px 26px 16px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.AuthenticationPanelのmodeSwitcher {\n  text-align: center;\n  margin-bottom: 16px;\n  color: #8b8685;\n}\n.AuthenticationPanelのmodeSwitcher a {\n  color: #8b8685;\n}\n.AuthenticationPanelのmodeSwitcher a.is-active {\n  color: #bef;\n  font-weight: bold;\n  cursor: default;\n  text-decoration: none;\n}\n.AuthenticationPanelのmessage {\n  color: #ff6;\n}\n.AuthenticationPanelのmessage.is-error {\n  color: #f88;\n}',""])},function(t,e,n){var r=n(910);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.Panel {\n  border: 1px solid #151413;\n  border-radius: 4px 4px 0 0;\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);\n  background: #353433;\n}\n.Panelのtitle {\n  background: #252423 linear-gradient(to bottom, #353433 0%, #252423 50%, #151413 50%, #252423 100%);\n  border-bottom: 0;\n  text-align: center;\n  color: #8b8685;\n  padding: 0.5ex 1em;\n}',""])},function(t,e){t.exports={SCOREBOARD_SERVER:"https://bemuse-scoreboard.herokuapp.com/",AUTH0_DOMAIN:"bemuse.au.auth0.com",AUTH0_CLIENT_ID:"XOS0iHs3cwHICkVHwPEJYVHuyyLrETN4"}},function(t,e,n){var r=n(913);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.AuthenticationForm label {\n  display: flex;\n  align-items: center;\n  margin: 8px 0;\n}\n.AuthenticationForm label[hidden] {\n  display: none;\n}\n.AuthenticationFormのlabel {\n  width: 120px;\n  text-align: right;\n}\n.AuthenticationFormのcontrol {\n  margin-left: 12px;\n}\n.AuthenticationForm input {\n  font: inherit;\n  background: #252423 linear-gradient(to top, #454443, #151413);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  width: 12em;\n}\n.AuthenticationFormのbuttons {\n  margin-top: 24px;\n  text-align: center;\n}\n.AuthenticationForm .OptionsButton {\n  font-size: 1.4em;\n}',""])},,,,,,,,,,,,function(t,e,n){var r=n(926);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultScene {\n  background: url('+r(n(927))+") center no-repeat;\n  background-size: cover;\n  color: black;\n}\n.ResultScene .SceneHeading {\n  z-index: 10;\n}\n.ResultSceneのreport {\n  position: absolute;\n  top: 9rem;\n  right: calc(50vw + 1rem);\n  bottom: 3rem;\n  left: 4rem;\n}\n@media (min-height: 480px) {\n  .ResultSceneのreport {\n    top: 10rem;\n  }\n}\n.ResultSceneのinformation {\n  background: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  top: 0;\n  right: 4rem;\n  bottom: 0;\n  left: calc(50vw + 1rem);\n  padding-top: 9rem;\n  padding-bottom: calc(32px + 4vh);\n  display: flex;\n  flex-direction: column;\n}\n@media (min-height: 480px) {\n  .ResultSceneのinformation {\n    padding-top: 10rem;\n  }\n}\n@media (orientation: portrait) {\n  .ResultSceneのinformation {\n    right: 0;\n  }\n}\n.ResultSceneのinformationHeader {\n  flex: 0 0 auto;\n}\n.ResultSceneのinformationBody {\n  flex: 1 1 auto;\n  background: rgba(255, 255, 255, 0.6);\n  overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  margin: 0.5rem 0 0.5rem;\n}\n@media (min-height: 480px) {\n  .ResultSceneのinformationBody {\n    margin: 4vh 0 4vh;\n  }\n}\n.ResultSceneのinformationFooter {\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: flex-end;\n  padding: 0 0.5rem;\n}\n@media (min-height: 480px) {\n  .ResultSceneのinformationFooter {\n    padding: 0 2vw;\n  }\n}\n.ResultScene .MusicChartInfo {\n  margin: 0 2vw;\n}\n.ResultScene .Ranking {\n  font-size: 1rem;\n}\n.ResultScene .ResultGrade {\n  position: absolute;\n  bottom: calc(32px + 4vh);\n  right: 52vw;\n  width: 20vh;\n  height: 20vh;\n}\n.ResultSceneのchart {\n  float: right;\n  margin-right: 2vw;\n  text-align: center;\n  z-index: 11;\n  position: relative;\n}\n.ResultSceneのmode {\n  opacity: 0.5;\n  position: absolute;\n  right: 4rem;\n  top: 0;\n  bottom: 0;\n  font-size: 2rem;\n  text-align: right;\n}\n.ResultScene .MusicChartSelectorItem {\n  width: 4.5rem;\n}\n.ResultSceneのexit {\n  display: block;\n  background: #5a5;\n  border: 2px solid #4d994d;\n  text-align: center;\n  font-size: 1.75rem;\n  color: #fff;\n  padding: 1ex 2ex;\n  cursor: pointer;\n  border-radius: 0.8rem;\n}\n.ResultSceneのtweet {\n  display: block;\n  background: #54abee;\n  border: 2px solid #3da0ec;\n  text-align: center;\n  font-size: 1.75rem;\n  color: #fff;\n  padding: 1ex 2ex;\n  cursor: pointer;\n  border-radius: 0.8rem;\n}",""])},function(t,e,n){t.exports=n.p+"build/0cfe6fe9284bd4c4fcc04d66ee85c398.jpg"},function(t,e,n){var r=n(929);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.TipContainer {\n  display: inline-block;\n  position: relative;\n}\n.TipContainerのbubble {\n  position: absolute;\n  top: -16px;\n  left: 50%;\n  -webkit-transform: translate(-50%, -100%);\n          transform: translate(-50%, -100%);\n  -webkit-animation: 0.5s TipContainerのbubble;\n          animation: 0.5s TipContainerのbubble;\n  cursor: pointer;\n}\n.TipContainerのbubbleContent {\n  position: relative;\n  display: block;\n  background: #b61a44;\n  padding: 8px 12px;\n  color: white;\n  white-space: nowrap;\n  border-radius: 8px;\n  font-weight: bold;\n  font-size: 1rem;\n  -webkit-animation: 1.8s TipContainerのbubbleContent linear infinite;\n          animation: 1.8s TipContainerのbubbleContent linear infinite;\n}\n.TipContainerのbubbleContent::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -8px;\n  border-width: 8px 8px 0 8px;\n  border-style: solid;\n  border-color: transparent;\n  border-top-color: #b61a44;\n}\n\n@-webkit-keyframes TipContainerのbubble {\n  from {\n    -webkit-transform: translate(-50%, -200%);\n            transform: translate(-50%, -200%);\n    opacity: 0;\n  }\n}\n\n@keyframes TipContainerのbubble {\n  from {\n    -webkit-transform: translate(-50%, -200%);\n            transform: translate(-50%, -200%);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes TipContainerのbubbleContent {\n  0% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  25% {\n    -webkit-transform: translateY(-3px);\n            transform: translateY(-3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  50% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  75% {\n    -webkit-transform: translateY(3px);\n            transform: translateY(3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  100% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n@keyframes TipContainerのbubbleContent {\n  0% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  25% {\n    -webkit-transform: translateY(-3px);\n            transform: translateY(-3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  50% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  75% {\n    -webkit-transform: translateY(3px);\n            transform: translateY(3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  100% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}',""])},function(t,e,n){var r=n(931);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicChartInfo {\n  font: 1rem "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n}\n.MusicChartInfoのtitle {\n  font-size: 2em;\n  font-weight: bold;\n}\n.MusicChartInfoのsubtitle {\n  font-size: 1.5em;\n  color: rgba(0, 0, 0, 0.6);\n  font-weight: bold;\n}\n.MusicChartInfoのartist > small {\n  font-size: 1em;\n  color: rgba(0, 0, 0, 0.6);\n}',""])},function(t,e,n){var r=n(933);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicChartSelectorItem {\n  list-style: none;\n  height: 4.5rem;\n  line-height: 4.25rem;\n  font-size: 2rem;\n  text-align: center;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 0.8rem;\n  cursor: pointer;\n  position: relative;\n  box-sizing: border-box;\n}\n.MusicChartSelectorItem.is-active {\n  color: white;\n}\n.MusicChartSelectorItemのlevel {\n  opacity: 1;\n  transition: 0.3s opacity;\n}\n.MusicChartSelectorItemのplay {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  opacity: 0;\n  transition: 0.3s opacity;\n}\n.MusicChartSelectorItem:not(.is-tutorial).is-active:hover .MusicChartSelectorItemのplay, .MusicChartSelectorItem.is-replayable:hover .MusicChartSelectorItemのplay {\n  opacity: 1;\n}\n.MusicChartSelectorItem:not(.is-tutorial).is-active:hover .MusicChartSelectorItemのlevel, .MusicChartSelectorItem.is-replayable:hover .MusicChartSelectorItemのlevel {\n  opacity: 0;\n}\n\n.MusicChartSelectorItem {\n  border: 2px solid #8ac;\n}\n.MusicChartSelectorItem.is-active {\n  background: #8ac;\n  -webkit-animation: 3s music-chart-selector-item--active-normal infinite;\n          animation: 3s music-chart-selector-item--active-normal infinite;\n}\n\n@-webkit-keyframes music-chart-selector-item--active-normal {\n  0% {\n    background: #acc4db;\n  }\n  50% {\n    background: #6491bd;\n  }\n  100% {\n    background: #acc4db;\n  }\n}\n\n@keyframes music-chart-selector-item--active-normal {\n  0% {\n    background: #acc4db;\n  }\n  50% {\n    background: #6491bd;\n  }\n  100% {\n    background: #acc4db;\n  }\n}\n.MusicChartSelectorItem.is-5keys {\n  border: 2px solid #ac8;\n}\n.MusicChartSelectorItem.is-5keys.is-active {\n  background: #8ac;\n  -webkit-animation: 3s music-chart-selector-item--active-5k infinite;\n          animation: 3s music-chart-selector-item--active-5k infinite;\n}\n\n@-webkit-keyframes music-chart-selector-item--active-5k {\n  0% {\n    background: #c4dbac;\n  }\n  50% {\n    background: #91bd64;\n  }\n  100% {\n    background: #c4dbac;\n  }\n}\n\n@keyframes music-chart-selector-item--active-5k {\n  0% {\n    background: #c4dbac;\n  }\n  50% {\n    background: #91bd64;\n  }\n  100% {\n    background: #c4dbac;\n  }\n}\n.MusicChartSelectorItem.is-insane {\n  border: 2px solid #c66;\n}\n.MusicChartSelectorItem.is-insane.is-active {\n  background: #8ac;\n  -webkit-animation: 3s music-chart-selector-item--active-insane infinite;\n          animation: 3s music-chart-selector-item--active-insane infinite;\n}\n\n@-webkit-keyframes music-chart-selector-item--active-insane {\n  0% {\n    background: #d98c8c;\n  }\n  50% {\n    background: #bf4040;\n  }\n  100% {\n    background: #d98c8c;\n  }\n}\n\n@keyframes music-chart-selector-item--active-insane {\n  0% {\n    background: #d98c8c;\n  }\n  50% {\n    background: #bf4040;\n  }\n  100% {\n    background: #d98c8c;\n  }\n}',""])},function(t,e,n){var r=n(935);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,"/*!\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: 'FontAwesome';\n  src: url("+r(n(936))+");\n  src: url("+r(n(937))+"?#iefix&v=4.7.0) format('embedded-opentype'), url("+r(n(938))+") format('woff2'), url("+r(n(939))+") format('woff'), url("+r(n(940))+") format('truetype'), url("+r(n(941))+'#fontawesomeregular) format(\'svg\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fa {\n  display: inline-block;\n  font: normal normal normal 14px/1 FontAwesome;\n  font-size: inherit;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/* makes the font 33% larger relative to the icon container */\n.fa-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.fa-2x {\n  font-size: 2em;\n}\n.fa-3x {\n  font-size: 3em;\n}\n.fa-4x {\n  font-size: 4em;\n}\n.fa-5x {\n  font-size: 5em;\n}\n.fa-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n.fa-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.fa-ul > li {\n  position: relative;\n}\n.fa-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.fa-li.fa-lg {\n  left: -1.85714286em;\n}\n.fa-border {\n  padding: .2em .25em .15em;\n  border: solid 0.08em #eeeeee;\n  border-radius: .1em;\n}\n.fa-pull-left {\n  float: left;\n}\n.fa-pull-right {\n  float: right;\n}\n.fa.fa-pull-left {\n  margin-right: .3em;\n}\n.fa.fa-pull-right {\n  margin-left: .3em;\n}\n/* Deprecated as of 4.4.0 */\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.fa.pull-left {\n  margin-right: .3em;\n}\n.fa.pull-right {\n  margin-left: .3em;\n}\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n  animation: fa-spin 2s infinite linear;\n}\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n  animation: fa-spin 1s infinite steps(8);\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n  transform: scale(-1, 1);\n}\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n  transform: scale(1, -1);\n}\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none;\n}\n.fa-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.fa-stack-1x,\n.fa-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.fa-stack-1x {\n  line-height: inherit;\n}\n.fa-stack-2x {\n  font-size: 2em;\n}\n.fa-inverse {\n  color: #ffffff;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.fa-glass:before {\n  content: "\\F000";\n}\n.fa-music:before {\n  content: "\\F001";\n}\n.fa-search:before {\n  content: "\\F002";\n}\n.fa-envelope-o:before {\n  content: "\\F003";\n}\n.fa-heart:before {\n  content: "\\F004";\n}\n.fa-star:before {\n  content: "\\F005";\n}\n.fa-star-o:before {\n  content: "\\F006";\n}\n.fa-user:before {\n  content: "\\F007";\n}\n.fa-film:before {\n  content: "\\F008";\n}\n.fa-th-large:before {\n  content: "\\F009";\n}\n.fa-th:before {\n  content: "\\F00A";\n}\n.fa-th-list:before {\n  content: "\\F00B";\n}\n.fa-check:before {\n  content: "\\F00C";\n}\n.fa-remove:before,\n.fa-close:before,\n.fa-times:before {\n  content: "\\F00D";\n}\n.fa-search-plus:before {\n  content: "\\F00E";\n}\n.fa-search-minus:before {\n  content: "\\F010";\n}\n.fa-power-off:before {\n  content: "\\F011";\n}\n.fa-signal:before {\n  content: "\\F012";\n}\n.fa-gear:before,\n.fa-cog:before {\n  content: "\\F013";\n}\n.fa-trash-o:before {\n  content: "\\F014";\n}\n.fa-home:before {\n  content: "\\F015";\n}\n.fa-file-o:before {\n  content: "\\F016";\n}\n.fa-clock-o:before {\n  content: "\\F017";\n}\n.fa-road:before {\n  content: "\\F018";\n}\n.fa-download:before {\n  content: "\\F019";\n}\n.fa-arrow-circle-o-down:before {\n  content: "\\F01A";\n}\n.fa-arrow-circle-o-up:before {\n  content: "\\F01B";\n}\n.fa-inbox:before {\n  content: "\\F01C";\n}\n.fa-play-circle-o:before {\n  content: "\\F01D";\n}\n.fa-rotate-right:before,\n.fa-repeat:before {\n  content: "\\F01E";\n}\n.fa-refresh:before {\n  content: "\\F021";\n}\n.fa-list-alt:before {\n  content: "\\F022";\n}\n.fa-lock:before {\n  content: "\\F023";\n}\n.fa-flag:before {\n  content: "\\F024";\n}\n.fa-headphones:before {\n  content: "\\F025";\n}\n.fa-volume-off:before {\n  content: "\\F026";\n}\n.fa-volume-down:before {\n  content: "\\F027";\n}\n.fa-volume-up:before {\n  content: "\\F028";\n}\n.fa-qrcode:before {\n  content: "\\F029";\n}\n.fa-barcode:before {\n  content: "\\F02A";\n}\n.fa-tag:before {\n  content: "\\F02B";\n}\n.fa-tags:before {\n  content: "\\F02C";\n}\n.fa-book:before {\n  content: "\\F02D";\n}\n.fa-bookmark:before {\n  content: "\\F02E";\n}\n.fa-print:before {\n  content: "\\F02F";\n}\n.fa-camera:before {\n  content: "\\F030";\n}\n.fa-font:before {\n  content: "\\F031";\n}\n.fa-bold:before {\n  content: "\\F032";\n}\n.fa-italic:before {\n  content: "\\F033";\n}\n.fa-text-height:before {\n  content: "\\F034";\n}\n.fa-text-width:before {\n  content: "\\F035";\n}\n.fa-align-left:before {\n  content: "\\F036";\n}\n.fa-align-center:before {\n  content: "\\F037";\n}\n.fa-align-right:before {\n  content: "\\F038";\n}\n.fa-align-justify:before {\n  content: "\\F039";\n}\n.fa-list:before {\n  content: "\\F03A";\n}\n.fa-dedent:before,\n.fa-outdent:before {\n  content: "\\F03B";\n}\n.fa-indent:before {\n  content: "\\F03C";\n}\n.fa-video-camera:before {\n  content: "\\F03D";\n}\n.fa-photo:before,\n.fa-image:before,\n.fa-picture-o:before {\n  content: "\\F03E";\n}\n.fa-pencil:before {\n  content: "\\F040";\n}\n.fa-map-marker:before {\n  content: "\\F041";\n}\n.fa-adjust:before {\n  content: "\\F042";\n}\n.fa-tint:before {\n  content: "\\F043";\n}\n.fa-edit:before,\n.fa-pencil-square-o:before {\n  content: "\\F044";\n}\n.fa-share-square-o:before {\n  content: "\\F045";\n}\n.fa-check-square-o:before {\n  content: "\\F046";\n}\n.fa-arrows:before {\n  content: "\\F047";\n}\n.fa-step-backward:before {\n  content: "\\F048";\n}\n.fa-fast-backward:before {\n  content: "\\F049";\n}\n.fa-backward:before {\n  content: "\\F04A";\n}\n.fa-play:before {\n  content: "\\F04B";\n}\n.fa-pause:before {\n  content: "\\F04C";\n}\n.fa-stop:before {\n  content: "\\F04D";\n}\n.fa-forward:before {\n  content: "\\F04E";\n}\n.fa-fast-forward:before {\n  content: "\\F050";\n}\n.fa-step-forward:before {\n  content: "\\F051";\n}\n.fa-eject:before {\n  content: "\\F052";\n}\n.fa-chevron-left:before {\n  content: "\\F053";\n}\n.fa-chevron-right:before {\n  content: "\\F054";\n}\n.fa-plus-circle:before {\n  content: "\\F055";\n}\n.fa-minus-circle:before {\n  content: "\\F056";\n}\n.fa-times-circle:before {\n  content: "\\F057";\n}\n.fa-check-circle:before {\n  content: "\\F058";\n}\n.fa-question-circle:before {\n  content: "\\F059";\n}\n.fa-info-circle:before {\n  content: "\\F05A";\n}\n.fa-crosshairs:before {\n  content: "\\F05B";\n}\n.fa-times-circle-o:before {\n  content: "\\F05C";\n}\n.fa-check-circle-o:before {\n  content: "\\F05D";\n}\n.fa-ban:before {\n  content: "\\F05E";\n}\n.fa-arrow-left:before {\n  content: "\\F060";\n}\n.fa-arrow-right:before {\n  content: "\\F061";\n}\n.fa-arrow-up:before {\n  content: "\\F062";\n}\n.fa-arrow-down:before {\n  content: "\\F063";\n}\n.fa-mail-forward:before,\n.fa-share:before {\n  content: "\\F064";\n}\n.fa-expand:before {\n  content: "\\F065";\n}\n.fa-compress:before {\n  content: "\\F066";\n}\n.fa-plus:before {\n  content: "\\F067";\n}\n.fa-minus:before {\n  content: "\\F068";\n}\n.fa-asterisk:before {\n  content: "\\F069";\n}\n.fa-exclamation-circle:before {\n  content: "\\F06A";\n}\n.fa-gift:before {\n  content: "\\F06B";\n}\n.fa-leaf:before {\n  content: "\\F06C";\n}\n.fa-fire:before {\n  content: "\\F06D";\n}\n.fa-eye:before {\n  content: "\\F06E";\n}\n.fa-eye-slash:before {\n  content: "\\F070";\n}\n.fa-warning:before,\n.fa-exclamation-triangle:before {\n  content: "\\F071";\n}\n.fa-plane:before {\n  content: "\\F072";\n}\n.fa-calendar:before {\n  content: "\\F073";\n}\n.fa-random:before {\n  content: "\\F074";\n}\n.fa-comment:before {\n  content: "\\F075";\n}\n.fa-magnet:before {\n  content: "\\F076";\n}\n.fa-chevron-up:before {\n  content: "\\F077";\n}\n.fa-chevron-down:before {\n  content: "\\F078";\n}\n.fa-retweet:before {\n  content: "\\F079";\n}\n.fa-shopping-cart:before {\n  content: "\\F07A";\n}\n.fa-folder:before {\n  content: "\\F07B";\n}\n.fa-folder-open:before {\n  content: "\\F07C";\n}\n.fa-arrows-v:before {\n  content: "\\F07D";\n}\n.fa-arrows-h:before {\n  content: "\\F07E";\n}\n.fa-bar-chart-o:before,\n.fa-bar-chart:before {\n  content: "\\F080";\n}\n.fa-twitter-square:before {\n  content: "\\F081";\n}\n.fa-facebook-square:before {\n  content: "\\F082";\n}\n.fa-camera-retro:before {\n  content: "\\F083";\n}\n.fa-key:before {\n  content: "\\F084";\n}\n.fa-gears:before,\n.fa-cogs:before {\n  content: "\\F085";\n}\n.fa-comments:before {\n  content: "\\F086";\n}\n.fa-thumbs-o-up:before {\n  content: "\\F087";\n}\n.fa-thumbs-o-down:before {\n  content: "\\F088";\n}\n.fa-star-half:before {\n  content: "\\F089";\n}\n.fa-heart-o:before {\n  content: "\\F08A";\n}\n.fa-sign-out:before {\n  content: "\\F08B";\n}\n.fa-linkedin-square:before {\n  content: "\\F08C";\n}\n.fa-thumb-tack:before {\n  content: "\\F08D";\n}\n.fa-external-link:before {\n  content: "\\F08E";\n}\n.fa-sign-in:before {\n  content: "\\F090";\n}\n.fa-trophy:before {\n  content: "\\F091";\n}\n.fa-github-square:before {\n  content: "\\F092";\n}\n.fa-upload:before {\n  content: "\\F093";\n}\n.fa-lemon-o:before {\n  content: "\\F094";\n}\n.fa-phone:before {\n  content: "\\F095";\n}\n.fa-square-o:before {\n  content: "\\F096";\n}\n.fa-bookmark-o:before {\n  content: "\\F097";\n}\n.fa-phone-square:before {\n  content: "\\F098";\n}\n.fa-twitter:before {\n  content: "\\F099";\n}\n.fa-facebook-f:before,\n.fa-facebook:before {\n  content: "\\F09A";\n}\n.fa-github:before {\n  content: "\\F09B";\n}\n.fa-unlock:before {\n  content: "\\F09C";\n}\n.fa-credit-card:before {\n  content: "\\F09D";\n}\n.fa-feed:before,\n.fa-rss:before {\n  content: "\\F09E";\n}\n.fa-hdd-o:before {\n  content: "\\F0A0";\n}\n.fa-bullhorn:before {\n  content: "\\F0A1";\n}\n.fa-bell:before {\n  content: "\\F0F3";\n}\n.fa-certificate:before {\n  content: "\\F0A3";\n}\n.fa-hand-o-right:before {\n  content: "\\F0A4";\n}\n.fa-hand-o-left:before {\n  content: "\\F0A5";\n}\n.fa-hand-o-up:before {\n  content: "\\F0A6";\n}\n.fa-hand-o-down:before {\n  content: "\\F0A7";\n}\n.fa-arrow-circle-left:before {\n  content: "\\F0A8";\n}\n.fa-arrow-circle-right:before {\n  content: "\\F0A9";\n}\n.fa-arrow-circle-up:before {\n  content: "\\F0AA";\n}\n.fa-arrow-circle-down:before {\n  content: "\\F0AB";\n}\n.fa-globe:before {\n  content: "\\F0AC";\n}\n.fa-wrench:before {\n  content: "\\F0AD";\n}\n.fa-tasks:before {\n  content: "\\F0AE";\n}\n.fa-filter:before {\n  content: "\\F0B0";\n}\n.fa-briefcase:before {\n  content: "\\F0B1";\n}\n.fa-arrows-alt:before {\n  content: "\\F0B2";\n}\n.fa-group:before,\n.fa-users:before {\n  content: "\\F0C0";\n}\n.fa-chain:before,\n.fa-link:before {\n  content: "\\F0C1";\n}\n.fa-cloud:before {\n  content: "\\F0C2";\n}\n.fa-flask:before {\n  content: "\\F0C3";\n}\n.fa-cut:before,\n.fa-scissors:before {\n  content: "\\F0C4";\n}\n.fa-copy:before,\n.fa-files-o:before {\n  content: "\\F0C5";\n}\n.fa-paperclip:before {\n  content: "\\F0C6";\n}\n.fa-save:before,\n.fa-floppy-o:before {\n  content: "\\F0C7";\n}\n.fa-square:before {\n  content: "\\F0C8";\n}\n.fa-navicon:before,\n.fa-reorder:before,\n.fa-bars:before {\n  content: "\\F0C9";\n}\n.fa-list-ul:before {\n  content: "\\F0CA";\n}\n.fa-list-ol:before {\n  content: "\\F0CB";\n}\n.fa-strikethrough:before {\n  content: "\\F0CC";\n}\n.fa-underline:before {\n  content: "\\F0CD";\n}\n.fa-table:before {\n  content: "\\F0CE";\n}\n.fa-magic:before {\n  content: "\\F0D0";\n}\n.fa-truck:before {\n  content: "\\F0D1";\n}\n.fa-pinterest:before {\n  content: "\\F0D2";\n}\n.fa-pinterest-square:before {\n  content: "\\F0D3";\n}\n.fa-google-plus-square:before {\n  content: "\\F0D4";\n}\n.fa-google-plus:before {\n  content: "\\F0D5";\n}\n.fa-money:before {\n  content: "\\F0D6";\n}\n.fa-caret-down:before {\n  content: "\\F0D7";\n}\n.fa-caret-up:before {\n  content: "\\F0D8";\n}\n.fa-caret-left:before {\n  content: "\\F0D9";\n}\n.fa-caret-right:before {\n  content: "\\F0DA";\n}\n.fa-columns:before {\n  content: "\\F0DB";\n}\n.fa-unsorted:before,\n.fa-sort:before {\n  content: "\\F0DC";\n}\n.fa-sort-down:before,\n.fa-sort-desc:before {\n  content: "\\F0DD";\n}\n.fa-sort-up:before,\n.fa-sort-asc:before {\n  content: "\\F0DE";\n}\n.fa-envelope:before {\n  content: "\\F0E0";\n}\n.fa-linkedin:before {\n  content: "\\F0E1";\n}\n.fa-rotate-left:before,\n.fa-undo:before {\n  content: "\\F0E2";\n}\n.fa-legal:before,\n.fa-gavel:before {\n  content: "\\F0E3";\n}\n.fa-dashboard:before,\n.fa-tachometer:before {\n  content: "\\F0E4";\n}\n.fa-comment-o:before {\n  content: "\\F0E5";\n}\n.fa-comments-o:before {\n  content: "\\F0E6";\n}\n.fa-flash:before,\n.fa-bolt:before {\n  content: "\\F0E7";\n}\n.fa-sitemap:before {\n  content: "\\F0E8";\n}\n.fa-umbrella:before {\n  content: "\\F0E9";\n}\n.fa-paste:before,\n.fa-clipboard:before {\n  content: "\\F0EA";\n}\n.fa-lightbulb-o:before {\n  content: "\\F0EB";\n}\n.fa-exchange:before {\n  content: "\\F0EC";\n}\n.fa-cloud-download:before {\n  content: "\\F0ED";\n}\n.fa-cloud-upload:before {\n  content: "\\F0EE";\n}\n.fa-user-md:before {\n  content: "\\F0F0";\n}\n.fa-stethoscope:before {\n  content: "\\F0F1";\n}\n.fa-suitcase:before {\n  content: "\\F0F2";\n}\n.fa-bell-o:before {\n  content: "\\F0A2";\n}\n.fa-coffee:before {\n  content: "\\F0F4";\n}\n.fa-cutlery:before {\n  content: "\\F0F5";\n}\n.fa-file-text-o:before {\n  content: "\\F0F6";\n}\n.fa-building-o:before {\n  content: "\\F0F7";\n}\n.fa-hospital-o:before {\n  content: "\\F0F8";\n}\n.fa-ambulance:before {\n  content: "\\F0F9";\n}\n.fa-medkit:before {\n  content: "\\F0FA";\n}\n.fa-fighter-jet:before {\n  content: "\\F0FB";\n}\n.fa-beer:before {\n  content: "\\F0FC";\n}\n.fa-h-square:before {\n  content: "\\F0FD";\n}\n.fa-plus-square:before {\n  content: "\\F0FE";\n}\n.fa-angle-double-left:before {\n  content: "\\F100";\n}\n.fa-angle-double-right:before {\n  content: "\\F101";\n}\n.fa-angle-double-up:before {\n  content: "\\F102";\n}\n.fa-angle-double-down:before {\n  content: "\\F103";\n}\n.fa-angle-left:before {\n  content: "\\F104";\n}\n.fa-angle-right:before {\n  content: "\\F105";\n}\n.fa-angle-up:before {\n  content: "\\F106";\n}\n.fa-angle-down:before {\n  content: "\\F107";\n}\n.fa-desktop:before {\n  content: "\\F108";\n}\n.fa-laptop:before {\n  content: "\\F109";\n}\n.fa-tablet:before {\n  content: "\\F10A";\n}\n.fa-mobile-phone:before,\n.fa-mobile:before {\n  content: "\\F10B";\n}\n.fa-circle-o:before {\n  content: "\\F10C";\n}\n.fa-quote-left:before {\n  content: "\\F10D";\n}\n.fa-quote-right:before {\n  content: "\\F10E";\n}\n.fa-spinner:before {\n  content: "\\F110";\n}\n.fa-circle:before {\n  content: "\\F111";\n}\n.fa-mail-reply:before,\n.fa-reply:before {\n  content: "\\F112";\n}\n.fa-github-alt:before {\n  content: "\\F113";\n}\n.fa-folder-o:before {\n  content: "\\F114";\n}\n.fa-folder-open-o:before {\n  content: "\\F115";\n}\n.fa-smile-o:before {\n  content: "\\F118";\n}\n.fa-frown-o:before {\n  content: "\\F119";\n}\n.fa-meh-o:before {\n  content: "\\F11A";\n}\n.fa-gamepad:before {\n  content: "\\F11B";\n}\n.fa-keyboard-o:before {\n  content: "\\F11C";\n}\n.fa-flag-o:before {\n  content: "\\F11D";\n}\n.fa-flag-checkered:before {\n  content: "\\F11E";\n}\n.fa-terminal:before {\n  content: "\\F120";\n}\n.fa-code:before {\n  content: "\\F121";\n}\n.fa-mail-reply-all:before,\n.fa-reply-all:before {\n  content: "\\F122";\n}\n.fa-star-half-empty:before,\n.fa-star-half-full:before,\n.fa-star-half-o:before {\n  content: "\\F123";\n}\n.fa-location-arrow:before {\n  content: "\\F124";\n}\n.fa-crop:before {\n  content: "\\F125";\n}\n.fa-code-fork:before {\n  content: "\\F126";\n}\n.fa-unlink:before,\n.fa-chain-broken:before {\n  content: "\\F127";\n}\n.fa-question:before {\n  content: "\\F128";\n}\n.fa-info:before {\n  content: "\\F129";\n}\n.fa-exclamation:before {\n  content: "\\F12A";\n}\n.fa-superscript:before {\n  content: "\\F12B";\n}\n.fa-subscript:before {\n  content: "\\F12C";\n}\n.fa-eraser:before {\n  content: "\\F12D";\n}\n.fa-puzzle-piece:before {\n  content: "\\F12E";\n}\n.fa-microphone:before {\n  content: "\\F130";\n}\n.fa-microphone-slash:before {\n  content: "\\F131";\n}\n.fa-shield:before {\n  content: "\\F132";\n}\n.fa-calendar-o:before {\n  content: "\\F133";\n}\n.fa-fire-extinguisher:before {\n  content: "\\F134";\n}\n.fa-rocket:before {\n  content: "\\F135";\n}\n.fa-maxcdn:before {\n  content: "\\F136";\n}\n.fa-chevron-circle-left:before {\n  content: "\\F137";\n}\n.fa-chevron-circle-right:before {\n  content: "\\F138";\n}\n.fa-chevron-circle-up:before {\n  content: "\\F139";\n}\n.fa-chevron-circle-down:before {\n  content: "\\F13A";\n}\n.fa-html5:before {\n  content: "\\F13B";\n}\n.fa-css3:before {\n  content: "\\F13C";\n}\n.fa-anchor:before {\n  content: "\\F13D";\n}\n.fa-unlock-alt:before {\n  content: "\\F13E";\n}\n.fa-bullseye:before {\n  content: "\\F140";\n}\n.fa-ellipsis-h:before {\n  content: "\\F141";\n}\n.fa-ellipsis-v:before {\n  content: "\\F142";\n}\n.fa-rss-square:before {\n  content: "\\F143";\n}\n.fa-play-circle:before {\n  content: "\\F144";\n}\n.fa-ticket:before {\n  content: "\\F145";\n}\n.fa-minus-square:before {\n  content: "\\F146";\n}\n.fa-minus-square-o:before {\n  content: "\\F147";\n}\n.fa-level-up:before {\n  content: "\\F148";\n}\n.fa-level-down:before {\n  content: "\\F149";\n}\n.fa-check-square:before {\n  content: "\\F14A";\n}\n.fa-pencil-square:before {\n  content: "\\F14B";\n}\n.fa-external-link-square:before {\n  content: "\\F14C";\n}\n.fa-share-square:before {\n  content: "\\F14D";\n}\n.fa-compass:before {\n  content: "\\F14E";\n}\n.fa-toggle-down:before,\n.fa-caret-square-o-down:before {\n  content: "\\F150";\n}\n.fa-toggle-up:before,\n.fa-caret-square-o-up:before {\n  content: "\\F151";\n}\n.fa-toggle-right:before,\n.fa-caret-square-o-right:before {\n  content: "\\F152";\n}\n.fa-euro:before,\n.fa-eur:before {\n  content: "\\F153";\n}\n.fa-gbp:before {\n  content: "\\F154";\n}\n.fa-dollar:before,\n.fa-usd:before {\n  content: "\\F155";\n}\n.fa-rupee:before,\n.fa-inr:before {\n  content: "\\F156";\n}\n.fa-cny:before,\n.fa-rmb:before,\n.fa-yen:before,\n.fa-jpy:before {\n  content: "\\F157";\n}\n.fa-ruble:before,\n.fa-rouble:before,\n.fa-rub:before {\n  content: "\\F158";\n}\n.fa-won:before,\n.fa-krw:before {\n  content: "\\F159";\n}\n.fa-bitcoin:before,\n.fa-btc:before {\n  content: "\\F15A";\n}\n.fa-file:before {\n  content: "\\F15B";\n}\n.fa-file-text:before {\n  content: "\\F15C";\n}\n.fa-sort-alpha-asc:before {\n  content: "\\F15D";\n}\n.fa-sort-alpha-desc:before {\n  content: "\\F15E";\n}\n.fa-sort-amount-asc:before {\n  content: "\\F160";\n}\n.fa-sort-amount-desc:before {\n  content: "\\F161";\n}\n.fa-sort-numeric-asc:before {\n  content: "\\F162";\n}\n.fa-sort-numeric-desc:before {\n  content: "\\F163";\n}\n.fa-thumbs-up:before {\n  content: "\\F164";\n}\n.fa-thumbs-down:before {\n  content: "\\F165";\n}\n.fa-youtube-square:before {\n  content: "\\F166";\n}\n.fa-youtube:before {\n  content: "\\F167";\n}\n.fa-xing:before {\n  content: "\\F168";\n}\n.fa-xing-square:before {\n  content: "\\F169";\n}\n.fa-youtube-play:before {\n  content: "\\F16A";\n}\n.fa-dropbox:before {\n  content: "\\F16B";\n}\n.fa-stack-overflow:before {\n  content: "\\F16C";\n}\n.fa-instagram:before {\n  content: "\\F16D";\n}\n.fa-flickr:before {\n  content: "\\F16E";\n}\n.fa-adn:before {\n  content: "\\F170";\n}\n.fa-bitbucket:before {\n  content: "\\F171";\n}\n.fa-bitbucket-square:before {\n  content: "\\F172";\n}\n.fa-tumblr:before {\n  content: "\\F173";\n}\n.fa-tumblr-square:before {\n  content: "\\F174";\n}\n.fa-long-arrow-down:before {\n  content: "\\F175";\n}\n.fa-long-arrow-up:before {\n  content: "\\F176";\n}\n.fa-long-arrow-left:before {\n  content: "\\F177";\n}\n.fa-long-arrow-right:before {\n  content: "\\F178";\n}\n.fa-apple:before {\n  content: "\\F179";\n}\n.fa-windows:before {\n  content: "\\F17A";\n}\n.fa-android:before {\n  content: "\\F17B";\n}\n.fa-linux:before {\n  content: "\\F17C";\n}\n.fa-dribbble:before {\n  content: "\\F17D";\n}\n.fa-skype:before {\n  content: "\\F17E";\n}\n.fa-foursquare:before {\n  content: "\\F180";\n}\n.fa-trello:before {\n  content: "\\F181";\n}\n.fa-female:before {\n  content: "\\F182";\n}\n.fa-male:before {\n  content: "\\F183";\n}\n.fa-gittip:before,\n.fa-gratipay:before {\n  content: "\\F184";\n}\n.fa-sun-o:before {\n  content: "\\F185";\n}\n.fa-moon-o:before {\n  content: "\\F186";\n}\n.fa-archive:before {\n  content: "\\F187";\n}\n.fa-bug:before {\n  content: "\\F188";\n}\n.fa-vk:before {\n  content: "\\F189";\n}\n.fa-weibo:before {\n  content: "\\F18A";\n}\n.fa-renren:before {\n  content: "\\F18B";\n}\n.fa-pagelines:before {\n  content: "\\F18C";\n}\n.fa-stack-exchange:before {\n  content: "\\F18D";\n}\n.fa-arrow-circle-o-right:before {\n  content: "\\F18E";\n}\n.fa-arrow-circle-o-left:before {\n  content: "\\F190";\n}\n.fa-toggle-left:before,\n.fa-caret-square-o-left:before {\n  content: "\\F191";\n}\n.fa-dot-circle-o:before {\n  content: "\\F192";\n}\n.fa-wheelchair:before {\n  content: "\\F193";\n}\n.fa-vimeo-square:before {\n  content: "\\F194";\n}\n.fa-turkish-lira:before,\n.fa-try:before {\n  content: "\\F195";\n}\n.fa-plus-square-o:before {\n  content: "\\F196";\n}\n.fa-space-shuttle:before {\n  content: "\\F197";\n}\n.fa-slack:before {\n  content: "\\F198";\n}\n.fa-envelope-square:before {\n  content: "\\F199";\n}\n.fa-wordpress:before {\n  content: "\\F19A";\n}\n.fa-openid:before {\n  content: "\\F19B";\n}\n.fa-institution:before,\n.fa-bank:before,\n.fa-university:before {\n  content: "\\F19C";\n}\n.fa-mortar-board:before,\n.fa-graduation-cap:before {\n  content: "\\F19D";\n}\n.fa-yahoo:before {\n  content: "\\F19E";\n}\n.fa-google:before {\n  content: "\\F1A0";\n}\n.fa-reddit:before {\n  content: "\\F1A1";\n}\n.fa-reddit-square:before {\n  content: "\\F1A2";\n}\n.fa-stumbleupon-circle:before {\n  content: "\\F1A3";\n}\n.fa-stumbleupon:before {\n  content: "\\F1A4";\n}\n.fa-delicious:before {\n  content: "\\F1A5";\n}\n.fa-digg:before {\n  content: "\\F1A6";\n}\n.fa-pied-piper-pp:before {\n  content: "\\F1A7";\n}\n.fa-pied-piper-alt:before {\n  content: "\\F1A8";\n}\n.fa-drupal:before {\n  content: "\\F1A9";\n}\n.fa-joomla:before {\n  content: "\\F1AA";\n}\n.fa-language:before {\n  content: "\\F1AB";\n}\n.fa-fax:before {\n  content: "\\F1AC";\n}\n.fa-building:before {\n  content: "\\F1AD";\n}\n.fa-child:before {\n  content: "\\F1AE";\n}\n.fa-paw:before {\n  content: "\\F1B0";\n}\n.fa-spoon:before {\n  content: "\\F1B1";\n}\n.fa-cube:before {\n  content: "\\F1B2";\n}\n.fa-cubes:before {\n  content: "\\F1B3";\n}\n.fa-behance:before {\n  content: "\\F1B4";\n}\n.fa-behance-square:before {\n  content: "\\F1B5";\n}\n.fa-steam:before {\n  content: "\\F1B6";\n}\n.fa-steam-square:before {\n  content: "\\F1B7";\n}\n.fa-recycle:before {\n  content: "\\F1B8";\n}\n.fa-automobile:before,\n.fa-car:before {\n  content: "\\F1B9";\n}\n.fa-cab:before,\n.fa-taxi:before {\n  content: "\\F1BA";\n}\n.fa-tree:before {\n  content: "\\F1BB";\n}\n.fa-spotify:before {\n  content: "\\F1BC";\n}\n.fa-deviantart:before {\n  content: "\\F1BD";\n}\n.fa-soundcloud:before {\n  content: "\\F1BE";\n}\n.fa-database:before {\n  content: "\\F1C0";\n}\n.fa-file-pdf-o:before {\n  content: "\\F1C1";\n}\n.fa-file-word-o:before {\n  content: "\\F1C2";\n}\n.fa-file-excel-o:before {\n  content: "\\F1C3";\n}\n.fa-file-powerpoint-o:before {\n  content: "\\F1C4";\n}\n.fa-file-photo-o:before,\n.fa-file-picture-o:before,\n.fa-file-image-o:before {\n  content: "\\F1C5";\n}\n.fa-file-zip-o:before,\n.fa-file-archive-o:before {\n  content: "\\F1C6";\n}\n.fa-file-sound-o:before,\n.fa-file-audio-o:before {\n  content: "\\F1C7";\n}\n.fa-file-movie-o:before,\n.fa-file-video-o:before {\n  content: "\\F1C8";\n}\n.fa-file-code-o:before {\n  content: "\\F1C9";\n}\n.fa-vine:before {\n  content: "\\F1CA";\n}\n.fa-codepen:before {\n  content: "\\F1CB";\n}\n.fa-jsfiddle:before {\n  content: "\\F1CC";\n}\n.fa-life-bouy:before,\n.fa-life-buoy:before,\n.fa-life-saver:before,\n.fa-support:before,\n.fa-life-ring:before {\n  content: "\\F1CD";\n}\n.fa-circle-o-notch:before {\n  content: "\\F1CE";\n}\n.fa-ra:before,\n.fa-resistance:before,\n.fa-rebel:before {\n  content: "\\F1D0";\n}\n.fa-ge:before,\n.fa-empire:before {\n  content: "\\F1D1";\n}\n.fa-git-square:before {\n  content: "\\F1D2";\n}\n.fa-git:before {\n  content: "\\F1D3";\n}\n.fa-y-combinator-square:before,\n.fa-yc-square:before,\n.fa-hacker-news:before {\n  content: "\\F1D4";\n}\n.fa-tencent-weibo:before {\n  content: "\\F1D5";\n}\n.fa-qq:before {\n  content: "\\F1D6";\n}\n.fa-wechat:before,\n.fa-weixin:before {\n  content: "\\F1D7";\n}\n.fa-send:before,\n.fa-paper-plane:before {\n  content: "\\F1D8";\n}\n.fa-send-o:before,\n.fa-paper-plane-o:before {\n  content: "\\F1D9";\n}\n.fa-history:before {\n  content: "\\F1DA";\n}\n.fa-circle-thin:before {\n  content: "\\F1DB";\n}\n.fa-header:before {\n  content: "\\F1DC";\n}\n.fa-paragraph:before {\n  content: "\\F1DD";\n}\n.fa-sliders:before {\n  content: "\\F1DE";\n}\n.fa-share-alt:before {\n  content: "\\F1E0";\n}\n.fa-share-alt-square:before {\n  content: "\\F1E1";\n}\n.fa-bomb:before {\n  content: "\\F1E2";\n}\n.fa-soccer-ball-o:before,\n.fa-futbol-o:before {\n  content: "\\F1E3";\n}\n.fa-tty:before {\n  content: "\\F1E4";\n}\n.fa-binoculars:before {\n  content: "\\F1E5";\n}\n.fa-plug:before {\n  content: "\\F1E6";\n}\n.fa-slideshare:before {\n  content: "\\F1E7";\n}\n.fa-twitch:before {\n  content: "\\F1E8";\n}\n.fa-yelp:before {\n  content: "\\F1E9";\n}\n.fa-newspaper-o:before {\n  content: "\\F1EA";\n}\n.fa-wifi:before {\n  content: "\\F1EB";\n}\n.fa-calculator:before {\n  content: "\\F1EC";\n}\n.fa-paypal:before {\n  content: "\\F1ED";\n}\n.fa-google-wallet:before {\n  content: "\\F1EE";\n}\n.fa-cc-visa:before {\n  content: "\\F1F0";\n}\n.fa-cc-mastercard:before {\n  content: "\\F1F1";\n}\n.fa-cc-discover:before {\n  content: "\\F1F2";\n}\n.fa-cc-amex:before {\n  content: "\\F1F3";\n}\n.fa-cc-paypal:before {\n  content: "\\F1F4";\n}\n.fa-cc-stripe:before {\n  content: "\\F1F5";\n}\n.fa-bell-slash:before {\n  content: "\\F1F6";\n}\n.fa-bell-slash-o:before {\n  content: "\\F1F7";\n}\n.fa-trash:before {\n  content: "\\F1F8";\n}\n.fa-copyright:before {\n  content: "\\F1F9";\n}\n.fa-at:before {\n  content: "\\F1FA";\n}\n.fa-eyedropper:before {\n  content: "\\F1FB";\n}\n.fa-paint-brush:before {\n  content: "\\F1FC";\n}\n.fa-birthday-cake:before {\n  content: "\\F1FD";\n}\n.fa-area-chart:before {\n  content: "\\F1FE";\n}\n.fa-pie-chart:before {\n  content: "\\F200";\n}\n.fa-line-chart:before {\n  content: "\\F201";\n}\n.fa-lastfm:before {\n  content: "\\F202";\n}\n.fa-lastfm-square:before {\n  content: "\\F203";\n}\n.fa-toggle-off:before {\n  content: "\\F204";\n}\n.fa-toggle-on:before {\n  content: "\\F205";\n}\n.fa-bicycle:before {\n  content: "\\F206";\n}\n.fa-bus:before {\n  content: "\\F207";\n}\n.fa-ioxhost:before {\n  content: "\\F208";\n}\n.fa-angellist:before {\n  content: "\\F209";\n}\n.fa-cc:before {\n  content: "\\F20A";\n}\n.fa-shekel:before,\n.fa-sheqel:before,\n.fa-ils:before {\n  content: "\\F20B";\n}\n.fa-meanpath:before {\n  content: "\\F20C";\n}\n.fa-buysellads:before {\n  content: "\\F20D";\n}\n.fa-connectdevelop:before {\n  content: "\\F20E";\n}\n.fa-dashcube:before {\n  content: "\\F210";\n}\n.fa-forumbee:before {\n  content: "\\F211";\n}\n.fa-leanpub:before {\n  content: "\\F212";\n}\n.fa-sellsy:before {\n  content: "\\F213";\n}\n.fa-shirtsinbulk:before {\n  content: "\\F214";\n}\n.fa-simplybuilt:before {\n  content: "\\F215";\n}\n.fa-skyatlas:before {\n  content: "\\F216";\n}\n.fa-cart-plus:before {\n  content: "\\F217";\n}\n.fa-cart-arrow-down:before {\n  content: "\\F218";\n}\n.fa-diamond:before {\n  content: "\\F219";\n}\n.fa-ship:before {\n  content: "\\F21A";\n}\n.fa-user-secret:before {\n  content: "\\F21B";\n}\n.fa-motorcycle:before {\n  content: "\\F21C";\n}\n.fa-street-view:before {\n  content: "\\F21D";\n}\n.fa-heartbeat:before {\n  content: "\\F21E";\n}\n.fa-venus:before {\n  content: "\\F221";\n}\n.fa-mars:before {\n  content: "\\F222";\n}\n.fa-mercury:before {\n  content: "\\F223";\n}\n.fa-intersex:before,\n.fa-transgender:before {\n  content: "\\F224";\n}\n.fa-transgender-alt:before {\n  content: "\\F225";\n}\n.fa-venus-double:before {\n  content: "\\F226";\n}\n.fa-mars-double:before {\n  content: "\\F227";\n}\n.fa-venus-mars:before {\n  content: "\\F228";\n}\n.fa-mars-stroke:before {\n  content: "\\F229";\n}\n.fa-mars-stroke-v:before {\n  content: "\\F22A";\n}\n.fa-mars-stroke-h:before {\n  content: "\\F22B";\n}\n.fa-neuter:before {\n  content: "\\F22C";\n}\n.fa-genderless:before {\n  content: "\\F22D";\n}\n.fa-facebook-official:before {\n  content: "\\F230";\n}\n.fa-pinterest-p:before {\n  content: "\\F231";\n}\n.fa-whatsapp:before {\n  content: "\\F232";\n}\n.fa-server:before {\n  content: "\\F233";\n}\n.fa-user-plus:before {\n  content: "\\F234";\n}\n.fa-user-times:before {\n  content: "\\F235";\n}\n.fa-hotel:before,\n.fa-bed:before {\n  content: "\\F236";\n}\n.fa-viacoin:before {\n  content: "\\F237";\n}\n.fa-train:before {\n  content: "\\F238";\n}\n.fa-subway:before {\n  content: "\\F239";\n}\n.fa-medium:before {\n  content: "\\F23A";\n}\n.fa-yc:before,\n.fa-y-combinator:before {\n  content: "\\F23B";\n}\n.fa-optin-monster:before {\n  content: "\\F23C";\n}\n.fa-opencart:before {\n  content: "\\F23D";\n}\n.fa-expeditedssl:before {\n  content: "\\F23E";\n}\n.fa-battery-4:before,\n.fa-battery:before,\n.fa-battery-full:before {\n  content: "\\F240";\n}\n.fa-battery-3:before,\n.fa-battery-three-quarters:before {\n  content: "\\F241";\n}\n.fa-battery-2:before,\n.fa-battery-half:before {\n  content: "\\F242";\n}\n.fa-battery-1:before,\n.fa-battery-quarter:before {\n  content: "\\F243";\n}\n.fa-battery-0:before,\n.fa-battery-empty:before {\n  content: "\\F244";\n}\n.fa-mouse-pointer:before {\n  content: "\\F245";\n}\n.fa-i-cursor:before {\n  content: "\\F246";\n}\n.fa-object-group:before {\n  content: "\\F247";\n}\n.fa-object-ungroup:before {\n  content: "\\F248";\n}\n.fa-sticky-note:before {\n  content: "\\F249";\n}\n.fa-sticky-note-o:before {\n  content: "\\F24A";\n}\n.fa-cc-jcb:before {\n  content: "\\F24B";\n}\n.fa-cc-diners-club:before {\n  content: "\\F24C";\n}\n.fa-clone:before {\n  content: "\\F24D";\n}\n.fa-balance-scale:before {\n  content: "\\F24E";\n}\n.fa-hourglass-o:before {\n  content: "\\F250";\n}\n.fa-hourglass-1:before,\n.fa-hourglass-start:before {\n  content: "\\F251";\n}\n.fa-hourglass-2:before,\n.fa-hourglass-half:before {\n  content: "\\F252";\n}\n.fa-hourglass-3:before,\n.fa-hourglass-end:before {\n  content: "\\F253";\n}\n.fa-hourglass:before {\n  content: "\\F254";\n}\n.fa-hand-grab-o:before,\n.fa-hand-rock-o:before {\n  content: "\\F255";\n}\n.fa-hand-stop-o:before,\n.fa-hand-paper-o:before {\n  content: "\\F256";\n}\n.fa-hand-scissors-o:before {\n  content: "\\F257";\n}\n.fa-hand-lizard-o:before {\n  content: "\\F258";\n}\n.fa-hand-spock-o:before {\n  content: "\\F259";\n}\n.fa-hand-pointer-o:before {\n  content: "\\F25A";\n}\n.fa-hand-peace-o:before {\n  content: "\\F25B";\n}\n.fa-trademark:before {\n  content: "\\F25C";\n}\n.fa-registered:before {\n  content: "\\F25D";\n}\n.fa-creative-commons:before {\n  content: "\\F25E";\n}\n.fa-gg:before {\n  content: "\\F260";\n}\n.fa-gg-circle:before {\n  content: "\\F261";\n}\n.fa-tripadvisor:before {\n  content: "\\F262";\n}\n.fa-odnoklassniki:before {\n  content: "\\F263";\n}\n.fa-odnoklassniki-square:before {\n  content: "\\F264";\n}\n.fa-get-pocket:before {\n  content: "\\F265";\n}\n.fa-wikipedia-w:before {\n  content: "\\F266";\n}\n.fa-safari:before {\n  content: "\\F267";\n}\n.fa-chrome:before {\n  content: "\\F268";\n}\n.fa-firefox:before {\n  content: "\\F269";\n}\n.fa-opera:before {\n  content: "\\F26A";\n}\n.fa-internet-explorer:before {\n  content: "\\F26B";\n}\n.fa-tv:before,\n.fa-television:before {\n  content: "\\F26C";\n}\n.fa-contao:before {\n  content: "\\F26D";\n}\n.fa-500px:before {\n  content: "\\F26E";\n}\n.fa-amazon:before {\n  content: "\\F270";\n}\n.fa-calendar-plus-o:before {\n  content: "\\F271";\n}\n.fa-calendar-minus-o:before {\n  content: "\\F272";\n}\n.fa-calendar-times-o:before {\n  content: "\\F273";\n}\n.fa-calendar-check-o:before {\n  content: "\\F274";\n}\n.fa-industry:before {\n  content: "\\F275";\n}\n.fa-map-pin:before {\n  content: "\\F276";\n}\n.fa-map-signs:before {\n  content: "\\F277";\n}\n.fa-map-o:before {\n  content: "\\F278";\n}\n.fa-map:before {\n  content: "\\F279";\n}\n.fa-commenting:before {\n  content: "\\F27A";\n}\n.fa-commenting-o:before {\n  content: "\\F27B";\n}\n.fa-houzz:before {\n  content: "\\F27C";\n}\n.fa-vimeo:before {\n  content: "\\F27D";\n}\n.fa-black-tie:before {\n  content: "\\F27E";\n}\n.fa-fonticons:before {\n  content: "\\F280";\n}\n.fa-reddit-alien:before {\n  content: "\\F281";\n}\n.fa-edge:before {\n  content: "\\F282";\n}\n.fa-credit-card-alt:before {\n  content: "\\F283";\n}\n.fa-codiepie:before {\n  content: "\\F284";\n}\n.fa-modx:before {\n  content: "\\F285";\n}\n.fa-fort-awesome:before {\n  content: "\\F286";\n}\n.fa-usb:before {\n  content: "\\F287";\n}\n.fa-product-hunt:before {\n  content: "\\F288";\n}\n.fa-mixcloud:before {\n  content: "\\F289";\n}\n.fa-scribd:before {\n  content: "\\F28A";\n}\n.fa-pause-circle:before {\n  content: "\\F28B";\n}\n.fa-pause-circle-o:before {\n  content: "\\F28C";\n}\n.fa-stop-circle:before {\n  content: "\\F28D";\n}\n.fa-stop-circle-o:before {\n  content: "\\F28E";\n}\n.fa-shopping-bag:before {\n  content: "\\F290";\n}\n.fa-shopping-basket:before {\n  content: "\\F291";\n}\n.fa-hashtag:before {\n  content: "\\F292";\n}\n.fa-bluetooth:before {\n  content: "\\F293";\n}\n.fa-bluetooth-b:before {\n  content: "\\F294";\n}\n.fa-percent:before {\n  content: "\\F295";\n}\n.fa-gitlab:before {\n  content: "\\F296";\n}\n.fa-wpbeginner:before {\n  content: "\\F297";\n}\n.fa-wpforms:before {\n  content: "\\F298";\n}\n.fa-envira:before {\n  content: "\\F299";\n}\n.fa-universal-access:before {\n  content: "\\F29A";\n}\n.fa-wheelchair-alt:before {\n  content: "\\F29B";\n}\n.fa-question-circle-o:before {\n  content: "\\F29C";\n}\n.fa-blind:before {\n  content: "\\F29D";\n}\n.fa-audio-description:before {\n  content: "\\F29E";\n}\n.fa-volume-control-phone:before {\n  content: "\\F2A0";\n}\n.fa-braille:before {\n  content: "\\F2A1";\n}\n.fa-assistive-listening-systems:before {\n  content: "\\F2A2";\n}\n.fa-asl-interpreting:before,\n.fa-american-sign-language-interpreting:before {\n  content: "\\F2A3";\n}\n.fa-deafness:before,\n.fa-hard-of-hearing:before,\n.fa-deaf:before {\n  content: "\\F2A4";\n}\n.fa-glide:before {\n  content: "\\F2A5";\n}\n.fa-glide-g:before {\n  content: "\\F2A6";\n}\n.fa-signing:before,\n.fa-sign-language:before {\n  content: "\\F2A7";\n}\n.fa-low-vision:before {\n  content: "\\F2A8";\n}\n.fa-viadeo:before {\n  content: "\\F2A9";\n}\n.fa-viadeo-square:before {\n  content: "\\F2AA";\n}\n.fa-snapchat:before {\n  content: "\\F2AB";\n}\n.fa-snapchat-ghost:before {\n  content: "\\F2AC";\n}\n.fa-snapchat-square:before {\n  content: "\\F2AD";\n}\n.fa-pied-piper:before {\n  content: "\\F2AE";\n}\n.fa-first-order:before {\n  content: "\\F2B0";\n}\n.fa-yoast:before {\n  content: "\\F2B1";\n}\n.fa-themeisle:before {\n  content: "\\F2B2";\n}\n.fa-google-plus-circle:before,\n.fa-google-plus-official:before {\n  content: "\\F2B3";\n}\n.fa-fa:before,\n.fa-font-awesome:before {\n  content: "\\F2B4";\n}\n.fa-handshake-o:before {\n  content: "\\F2B5";\n}\n.fa-envelope-open:before {\n  content: "\\F2B6";\n}\n.fa-envelope-open-o:before {\n  content: "\\F2B7";\n}\n.fa-linode:before {\n  content: "\\F2B8";\n}\n.fa-address-book:before {\n  content: "\\F2B9";\n}\n.fa-address-book-o:before {\n  content: "\\F2BA";\n}\n.fa-vcard:before,\n.fa-address-card:before {\n  content: "\\F2BB";\n}\n.fa-vcard-o:before,\n.fa-address-card-o:before {\n  content: "\\F2BC";\n}\n.fa-user-circle:before {\n  content: "\\F2BD";\n}\n.fa-user-circle-o:before {\n  content: "\\F2BE";\n}\n.fa-user-o:before {\n  content: "\\F2C0";\n}\n.fa-id-badge:before {\n  content: "\\F2C1";\n}\n.fa-drivers-license:before,\n.fa-id-card:before {\n  content: "\\F2C2";\n}\n.fa-drivers-license-o:before,\n.fa-id-card-o:before {\n  content: "\\F2C3";\n}\n.fa-quora:before {\n  content: "\\F2C4";\n}\n.fa-free-code-camp:before {\n  content: "\\F2C5";\n}\n.fa-telegram:before {\n  content: "\\F2C6";\n}\n.fa-thermometer-4:before,\n.fa-thermometer:before,\n.fa-thermometer-full:before {\n  content: "\\F2C7";\n}\n.fa-thermometer-3:before,\n.fa-thermometer-three-quarters:before {\n  content: "\\F2C8";\n}\n.fa-thermometer-2:before,\n.fa-thermometer-half:before {\n  content: "\\F2C9";\n}\n.fa-thermometer-1:before,\n.fa-thermometer-quarter:before {\n  content: "\\F2CA";\n}\n.fa-thermometer-0:before,\n.fa-thermometer-empty:before {\n  content: "\\F2CB";\n}\n.fa-shower:before {\n  content: "\\F2CC";\n}\n.fa-bathtub:before,\n.fa-s15:before,\n.fa-bath:before {\n  content: "\\F2CD";\n}\n.fa-podcast:before {\n  content: "\\F2CE";\n}\n.fa-window-maximize:before {\n  content: "\\F2D0";\n}\n.fa-window-minimize:before {\n  content: "\\F2D1";\n}\n.fa-window-restore:before {\n  content: "\\F2D2";\n}\n.fa-times-rectangle:before,\n.fa-window-close:before {\n  content: "\\F2D3";\n}\n.fa-times-rectangle-o:before,\n.fa-window-close-o:before {\n  content: "\\F2D4";\n}\n.fa-bandcamp:before {\n  content: "\\F2D5";\n}\n.fa-grav:before {\n  content: "\\F2D6";\n}\n.fa-etsy:before {\n  content: "\\F2D7";\n}\n.fa-imdb:before {\n  content: "\\F2D8";\n}\n.fa-ravelry:before {\n  content: "\\F2D9";\n}\n.fa-eercast:before {\n  content: "\\F2DA";\n}\n.fa-microchip:before {\n  content: "\\F2DB";\n}\n.fa-snowflake-o:before {\n  content: "\\F2DC";\n}\n.fa-superpowers:before {\n  content: "\\F2DD";\n}\n.fa-wpexplorer:before {\n  content: "\\F2DE";\n}\n.fa-meetup:before {\n  content: "\\F2E0";\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.sr-only-focusable:active,\n.sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto;\n}\n',""])},function(t,e,n){t.exports=n.p+"build/674f50d287a8c48dc19ba404d20fe713.eot"},function(t,e,n){t.exports=n.p+"build/674f50d287a8c48dc19ba404d20fe713.eot"},function(t,e,n){t.exports=n.p+"build/af7ae505a9eed503f8b8e6982036873e.woff2"},function(t,e,n){t.exports=n.p+"build/fee66e712a8a08eef5805a46892932ad.woff"},function(t,e,n){t.exports=n.p+"build/b06871f281fee6b241d60582ae9369b9.ttf"},function(t,e,n){t.exports=n.p+"build/912ec66d7572ff821749319396470bde.svg"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(26)),s=n(27),u=(r=s)&&r.__esModule?r:{default:r};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function e(){return c(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"render",value:function(){var t=this.props,e=t.Component,n=t.name,r=t.size,o=t.rotate,s=t.flip,u=t.spin,c=t.fixedWidth,l=t.stack,f=t.inverse,h=t.pulse,p=t.className,d=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["Component","name","size","rotate","flip","spin","fixedWidth","stack","inverse","pulse","className"]),v="fa fa-"+n;return r&&(v=v+" fa-"+r),o&&(v=v+" fa-rotate-"+o),s&&(v=v+" fa-flip-"+s),c&&(v+=" fa-fw"),u&&(v+=" fa-spin"),h&&(v+=" fa-pulse"),l&&(v=v+" fa-stack-"+l),f&&(v+=" fa-inverse"),p&&(v=v+" "+p),a.createElement(e,i({},d,{className:v}))}}]),e}(a.Component);f.propTypes={name:u.default.string.isRequired,className:u.default.string,size:u.default.oneOf(["lg","2x","3x","4x","5x"]),rotate:u.default.oneOf(["45","90","135","180","225","270","315"]),flip:u.default.oneOf(["horizontal","vertical"]),fixedWidth:u.default.bool,spin:u.default.bool,pulse:u.default.bool,stack:u.default.oneOf(["1x","2x"]),inverse:u.default.bool,Component:u.default.oneOfType([u.default.string,u.default.func])},f.defaultProps={Component:"span"},e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(26)),s=n(27),u=(r=s)&&r.__esModule?r:{default:r};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function e(){return c(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.size,r=t.children,o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["className","size","children"]),s=["fa-stack"];n&&s.push("fa-"+n),e&&s.push(e);var u=s.join(" ");return a.createElement("span",i({},o,{className:u}),r)}}]),e}(a.Component);f.propTypes={className:u.default.string,size:u.default.oneOf(["lg","2x","3x","4x","5x"]),children:u.default.node.isRequired},e.default=f},function(t,e,n){var r=n(945);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.Ranking {\n  color: #111;\n}\n.Rankingのtitle {\n  padding: 0.4em 1em 0;\n  font-weight: bold;\n}\n.Rankingのerror {\n  color: #d55;\n}\n.RankingのerrorRetry {\n  font-weight: normal;\n  color: #369;\n  text-decoration: none;\n}\n.RankingのerrorDescription {\n  color: #888;\n}',""])},function(t,e,n){var r=n(947);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.RankingTable {\n  width: 100%;\n  border-spacing: 0;\n}\n.RankingTable td {\n  padding: 0.36em 0.5em;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.RankingTableのrank {\n  width: 2em;\n  text-align: right;\n}\n.RankingTable td.RankingTableのname {\n  padding-left: 1em;\n}\n.RankingTable td.RankingTableのscore {\n  width: 6em;\n  text-align: right;\n}\n.RankingTable td.RankingTableのaccuracy {\n  width: 5em;\n  text-align: right;\n  padding-right: 1em;\n}\n.RankingTable td.RankingTableのmessage {\n  text-align: center;\n}',""])},function(t,e,n){var r=n(949);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultGrade {\n  display: flex;\n  position: relative;\n  border: 2px dashed rgba(255, 255, 255, 0.5);\n  border-radius: 1em;\n  align-items: center;\n  justify-content: center;\n}\n.ResultGradeのlabel {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  color: rgba(255, 255, 255, 0.5);\n  text-align: center;\n}\n.ResultGradeのgrade {\n  font-weight: bold;\n  font-size: 18vh;\n  color: #ff9;\n  position: relative;\n  top: -0.2ex;\n  text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);\n  -webkit-animation: 0.3s result-grade--animation linear;\n          animation: 0.3s result-grade--animation linear;\n  -webkit-animation-delay: 2s;\n          animation-delay: 2s;\n  -webkit-animation-fill-mode: backwards;\n          animation-fill-mode: backwards;\n}\n\n@-webkit-keyframes result-grade--animation {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(2);\n            transform: scale(2);\n  }\n  80% {\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n\n@keyframes result-grade--animation {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(2);\n            transform: scale(2);\n  }\n  80% {\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}',""])},function(t,e,n){var r=n(951);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultTableのtable {\n  width: 100%;\n  margin-bottom: 1ex;\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);\n}\n.ResultTableのtable > tbody > tr > th,\n.ResultTableのtable > tbody > tr > td {\n  font-size: 1.25rem;\n  font-weight: normal;\n}\n@media (min-height: 480px) {\n  .ResultTableのtable > tbody > tr > th,\n.ResultTableのtable > tbody > tr > td {\n    font-size: 1.6rem;\n  }\n}\n.ResultTableのtable > tbody > tr > th {\n  text-align: left;\n  padding-left: 1ex;\n  color: rgba(255, 255, 255, 0.7);\n}\n.ResultTableのtable > tbody > tr > td {\n  text-align: right;\n  width: 36%;\n  color: white;\n}\n.ResultTableのtable > tbody > tr > td.is-clickable {\n  cursor: pointer;\n}\n.ResultTableのtable > tbody > tr > td.is-clickable:hover {\n  text-shadow: 0 0 1em white;\n}\n.ResultTable table.ResultTableのtotal > tbody > tr > th,\n.ResultTable table.ResultTableのtotal > tbody > tr > td {\n  font-weight: bold;\n}',""])},function(t,e,n){var r=n(953);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,"",""])},function(t,e,n){var r=n(955);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultDeltasViewのcontent {\n  color: white;\n  padding: 16px;\n  position: relative;\n}\n.ResultDeltasViewのhistogram {\n  display: flex;\n  min-width: 360px;\n  align-items: flex-end;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n.ResultDeltasViewのhistogramBar {\n  background: white;\n  flex: 1 1;\n}\n.ResultDeltasViewのhistogramBar[data-bucket="-20"], .ResultDeltasViewのhistogramBar[data-bucket="-19"], .ResultDeltasViewのhistogramBar[data-bucket="-18"], .ResultDeltasViewのhistogramBar[data-bucket="-17"], .ResultDeltasViewのhistogramBar[data-bucket="-16"], .ResultDeltasViewのhistogramBar[data-bucket="-15"], .ResultDeltasViewのhistogramBar[data-bucket="-14"], .ResultDeltasViewのhistogramBar[data-bucket="-13"], .ResultDeltasViewのhistogramBar[data-bucket="-12"], .ResultDeltasViewのhistogramBar[data-bucket="-11"] {\n  background: rgba(102, 102, 255, 0.4);\n}\n.ResultDeltasViewのhistogramBar[data-bucket="-10"], .ResultDeltasViewのhistogramBar[data-bucket="-9"], .ResultDeltasViewのhistogramBar[data-bucket="-8"], .ResultDeltasViewのhistogramBar[data-bucket="-7"], .ResultDeltasViewのhistogramBar[data-bucket="-6"] {\n  background: rgba(102, 102, 255, 0.8);\n}\n.ResultDeltasViewのhistogramBar[data-bucket="-5"], .ResultDeltasViewのhistogramBar[data-bucket="-4"], .ResultDeltasViewのhistogramBar[data-bucket="-3"] {\n  background: #66f;\n}\n.ResultDeltasViewのhistogramBar[data-bucket="-2"], .ResultDeltasViewのhistogramBar[data-bucket="-1"], .ResultDeltasViewのhistogramBar[data-bucket="0"], .ResultDeltasViewのhistogramBar[data-bucket="1"] {\n  background: #6e6;\n}\n.ResultDeltasViewのhistogramBar[data-bucket="2"], .ResultDeltasViewのhistogramBar[data-bucket="3"], .ResultDeltasViewのhistogramBar[data-bucket="4"] {\n  background: #f66;\n}\n.ResultDeltasViewのhistogramBar[data-bucket="5"], .ResultDeltasViewのhistogramBar[data-bucket="6"], .ResultDeltasViewのhistogramBar[data-bucket="7"], .ResultDeltasViewのhistogramBar[data-bucket="8"], .ResultDeltasViewのhistogramBar[data-bucket="9"] {\n  background: rgba(255, 102, 102, 0.8);\n}\n.ResultDeltasViewのhistogramBar[data-bucket="10"], .ResultDeltasViewのhistogramBar[data-bucket="11"], .ResultDeltasViewのhistogramBar[data-bucket="12"], .ResultDeltasViewのhistogramBar[data-bucket="13"], .ResultDeltasViewのhistogramBar[data-bucket="14"], .ResultDeltasViewのhistogramBar[data-bucket="15"], .ResultDeltasViewのhistogramBar[data-bucket="16"], .ResultDeltasViewのhistogramBar[data-bucket="17"], .ResultDeltasViewのhistogramBar[data-bucket="18"], .ResultDeltasViewのhistogramBar[data-bucket="19"] {\n  background: rgba(255, 102, 102, 0.4);\n}\n.ResultDeltasViewのnumber {\n  position: absolute;\n  top: 16px;\n}\n.ResultDeltasViewのnumber strong {\n  font-size: 2.5em;\n  display: block;\n  line-height: 1;\n}\n.ResultDeltasViewのnumber.is-early {\n  left: 16px;\n  text-align: left;\n  color: #9999ff;\n}\n.ResultDeltasViewのnumber.is-late {\n  right: 16px;\n  text-align: right;\n  color: #ff9999;\n}\n.ResultDeltasViewのinfo {\n  margin: 1em auto 0;\n}\n.ResultDeltasViewのinfo > tbody > tr > th {\n  text-align: right;\n}\n.ResultDeltasViewのinfo > tbody > tr > td {\n  text-align: center;\n}\n.ResultDeltasViewのinfo > tbody > tr > td.is-number {\n  text-align: right;\n  padding-left: 0.3em;\n  padding-right: 0.2em;\n}\n.ResultDeltasView pre {\n  margin: 0;\n}',""])},,function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(958);var r=n(26),i=n.n(r),o=n(115),a=n(236),s=n(150),u=n(163),c=n(149);function l(t){const{preamble:e,error:n,onContinue:r}=t,l=i.a.useMemo(()=>[e,"","[Error]",String(n),"","[User agent]",navigator.userAgent,"","[Stack trace]",String(n&&n.stack||n)].join("\n"),[n,e]);return i.a.createElement(u.a,{className:"GenericErrorScene"},i.a.createElement(a.a,null,i.a.createElement(s.a,{title:"Error"},i.a.createElement("div",{className:"GenericErrorSceneのwrapper"},i.a.createElement("textarea",{className:"GenericErrorSceneのstack",value:l,readOnly:!0}),i.a.createElement("div",{style:{textAlign:"right"}},i.a.createElement(o.a,{onClick:()=>{c.f("error","continue",String(n)),r()}},"Continue"))))))}l.getScene=t=>i.a.createElement(l,Object.assign({},t))},function(t,e,n){var r=n(959);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.GenericErrorScene {\n  background: url('+r(n(857))+") center no-repeat;\n  background-size: cover;\n}\n.GenericErrorSceneのwrapper {\n  padding: 1em;\n  width: 32em;\n  max-width: 90vw;\n  box-sizing: border-box;\n}\n.GenericErrorSceneのstack {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #151413, #292827);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  color: #faa;\n  display: block;\n  width: 100%;\n  box-sizing: border-box;\n  height: 16em;\n  margin: 0 0 0.5em;\n  font-family: Menlo, Consolas, monospace;\n  font-size: 0.72em;\n}\n.GenericErrorSceneのstack:hover {\n  border-color: #656463;\n}\n.GenericErrorSceneのstack:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.GenericErrorSceneのstack:active {\n  border-color: #454443;\n}\n.GenericErrorSceneのstack::-moz-selection {\n  background: #8b8685;\n  color: #8e8;\n}\n.GenericErrorSceneのstack::selection {\n  background: #8b8685;\n  color: #8e8;\n}",""])},,,,,function(t,e,n){var r=n(965);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.CustomBMSのwrapper {\n  padding: 1em;\n}\n.CustomBMSのinstruction {\n  margin-bottom: 1ex;\n  font-weight: bold;\n}\n.CustomBMSのremark {\n  color: #8b8685;\n}\n.CustomBMSのremark::before {\n  content: "\\203B   ";\n}\n.CustomBMSのdropzone {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 3px dashed #7b7675;\n  height: 240px;\n  margin-top: 1ex;\n}\n.CustomBMSのdropzone.is-hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n.CustomBMSのdropzone.is-hover .CustomBMSのdropzoneHint {\n  color: #ff8;\n  text-shadow: 0 0 8px #ff0;\n}\n.CustomBMSのdropzoneHint {\n  font-size: 1.8em;\n  text-transform: uppercase;\n  color: #8b8685;\n}\n.CustomBMSのlog {\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  padding: 1ex;\n}\n.CustomBMSのlog > p {\n  margin: 0;\n  line-height: 1.3em;\n}',""])},,,,,function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t,e){return function(n){return n[t]=e,n}}},function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t){return"string"==typeof t?t:t?t.displayName||t.name||"Component":void 0}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(26);i(n(544)),i(n(545));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.default=function(t){return function(e){var n=(0,r.createFactory)(e);return function(e){function r(){return o(this,r),a(this,e.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),r.prototype.shouldComponentUpdate=function(e){return t(this.props,e)},r.prototype.render=function(){return n(this.props)},r}(r.Component)}}},function(t,e,n){var r=n(974);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.Options {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap-reverse;\n  justify-content: center;\n  font-size: 15px;\n}\n.Optionsのa {\n  order: 2;\n}\n.Optionsのb {\n  order: 1;\n}\n.Options .Panel {\n  margin: 0.8em;\n}',""])},function(t,e,n){var r=n(976);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsPlayer {\n  padding: 1em;\n}\n.OptionsPlayerのrow {\n  display: flex;\n  margin-bottom: 1ex;\n  align-items: baseline;\n}\n.OptionsPlayerのrow > label {\n  width: 4em;\n  text-align: right;\n  margin-right: 12px;\n  font-weight: bold;\n  color: #8b8685;\n}\n.OptionsPlayerのrow > div {\n  flex: 1 1;\n}\n.OptionsPlayerのhint {\n  color: #8b8685;\n  font-size: 0.9em;\n}\n.OptionsPlayerのhelp {\n  color: #8b8685;\n  font-size: 0.9em;\n  margin-top: 0.5ex;\n}\n.OptionsPlayerのhelp[title] {\n  cursor: help;\n}\n.OptionsPlayerのbuttons {\n  margin-top: 1em;\n  text-align: right;\n  font-size: 1.2em;\n}',""])},function(t,e,n){var r=n(978);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsCheckbox > label > input {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #151413, #292827);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  width: 21px;\n  height: 21px;\n  padding: 0;\n  margin: 0;\n  position: relative;\n  top: 5px;\n  margin-right: 5px;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  transition: 0.138s all ease-out;\n}\n.OptionsCheckbox > label > input:hover {\n  border-color: #656463;\n}\n.OptionsCheckbox > label > input:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.OptionsCheckbox > label > input:active {\n  border-color: #454443;\n}\n.OptionsCheckbox > label > input::-moz-selection {\n  background: #8b8685;\n  color: #8e8;\n}\n.OptionsCheckbox > label > input::selection {\n  background: #8b8685;\n  color: #8e8;\n}\n.OptionsCheckbox > label > input::after {\n  position: absolute;\n  display: block;\n  -webkit-transform: translate(-50%, -50%) rotate(90deg);\n          transform: translate(-50%, -50%) rotate(90deg);\n  top: 50%;\n  left: 50%;\n  content: "\\2713";\n  color: #b9edff;\n  opacity: 0;\n  -webkit-transform: 0.138s opacity ease-out;\n          transform: 0.138s opacity ease-out;\n}\n.OptionsCheckbox > label > input:checked {\n  border-color: #b9edff;\n  border-width: 2px;\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n.OptionsCheckbox > label > input:checked::after {\n  opacity: 1;\n}',""])},function(t,e,n){var r=n(980);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".OptionsInputField {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #151413, #292827);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  text-align: center;\n}\n.OptionsInputField:hover {\n  border-color: #656463;\n}\n.OptionsInputField:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.OptionsInputField:active {\n  border-color: #454443;\n}\n.OptionsInputField::-moz-selection {\n  background: #8b8685;\n  color: #8e8;\n}\n.OptionsInputField::selection {\n  background: #8b8685;\n  color: #8e8;\n}\n.OptionsInputField.is-invalid {\n  color: #8b8685;\n}",""])},function(t,e,n){var r=n(982);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsPlayerSelector {\n  display: flex;\n}\n.OptionsPlayerSelector .OptionsPlayerGraphics {\n  vertical-align: top;\n}\n.OptionsPlayerSelectorのlabel {\n  text-align: center;\n  color: #8b8685;\n}\n.OptionsPlayerSelectorのitem.is-active .OptionsPlayerSelectorのlabel {\n  color: #bef;\n}\n.OptionsPlayerSelectorのitem:not(.is-active) {\n  cursor: pointer;\n}\n.OptionsPlayerSelectorのitem:not(:first-child) {\n  margin-left: 1ex;\n}',""])},function(t,e,n){var r=n(984);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsPlayerGraphics {\n  border: 1px solid #8b8685;\n  display: inline-block;\n}\n.OptionsPlayerGraphics.is-active {\n  border: 1px solid #bef;\n  outline: 1px solid #bef;\n}\n.OptionsPlayerGraphics svg {\n  display: block;\n}\n.OptionsPlayerGraphicsのline {\n  fill: none;\n  stroke: #8b8685;\n  stroke-width: 1;\n}\n.OptionsPlayerGraphics.is-active .OptionsPlayerGraphicsのline {\n  stroke: #a9a8a7;\n}',""])},function(t,e,n){var r=n(986);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsSpeed .OptionsButton {\n  width: 2em;\n}\n.OptionsSpeedのminus .OptionsButton {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.OptionsSpeed .OptionsInputField {\n  text-align: center;\n  width: 3em;\n  border-radius: 0;\n  margin-left: -1px;\n}\n.OptionsSpeedのplus .OptionsButton {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  margin-left: -1px;\n}\n.OptionsSpeed .OptionsInputField {\n  position: relative;\n  z-index: 20;\n}\n.OptionsSpeed .OptionsInputField:hover {\n  z-index: 30;\n}\n.OptionsSpeed .OptionsInputField:focus {\n  z-index: 40;\n}\n.OptionsSpeed .OptionsInputField:active {\n  z-index: 10;\n}\n.OptionsSpeed .OptionsButton {\n  position: relative;\n  z-index: 21;\n}\n.OptionsSpeed .OptionsButton:hover {\n  z-index: 30;\n}\n.OptionsSpeed .OptionsButton:focus {\n  z-index: 40;\n}\n.OptionsSpeed .OptionsButton:active {\n  z-index: 10;\n}',""])},function(t,e,n){var r=n(988);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsInput {\n  display: flex;\n  flex-direction: column;\n}\n.OptionsInputのbinding {\n  display: flex;\n  align-items: stretch;\n  padding: 2em;\n}\n.OptionsInputのbinding.is-reverse {\n  flex-direction: row-reverse;\n}\n.OptionsInputのzone {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin: 0 12px;\n}\n.OptionsInputのcontrol {\n  flex: 1 1;\n}\n.OptionsInputのtitle {\n  text-align: center;\n  padding-top: 1ex;\n  color: #8b8685;\n}\n.OptionsInputのgamepad {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 10px;\n}\n.OptionsInputのgroup {\n  display: flex;\n  align-items: baseline;\n}\n.OptionsInputのgroup > label {\n  font-weight: bold;\n  color: #8b8685;\n  margin-right: 1em;\n}\n.OptionsInputのsensitivity {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-right: 0.5em;\n}\n.OptionsInputのsensitivity > .OptionsInputField {\n  text-align: center;\n  width: 1em;\n  border-radius: 0;\n  margin-left: -1px;\n}\n.OptionsInputのminus .OptionsButton {\n  width: 2em;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.OptionsInputのplus .OptionsButton {\n  width: 2em;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  margin-left: -1px;\n}',""])},function(t,e,n){var r=n(990);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsInputKeys {\n  height: 160px;\n  position: relative;\n}\n.OptionsInputKeysのkeys {\n  position: absolute;\n  top: 0;\n  right: -12px;\n  bottom: -12px;\n  left: 0;\n}\n.OptionsInputKeys .OptionsInputKey {\n  position: absolute;\n  box-sizing: border-box;\n  height: 50%;\n  padding-bottom: 12px;\n  padding-right: 12px;\n}\n.OptionsInputKeys[data-arrangement=bm] {\n  width: 240px;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey {\n  width: 25%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="1"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="3"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="5"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="7"] {\n  top: 50%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="2"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="4"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="6"] {\n  top: 0%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="1"] {\n  left: 0%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="2"] {\n  left: 12.5%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="3"] {\n  left: 25%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="4"] {\n  left: 37.5%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="5"] {\n  left: 50%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="6"] {\n  left: 62.5%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="7"] {\n  left: 75%;\n}\n.OptionsInputKeys[data-arrangement=kb] {\n  width: 420px;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey {\n  width: 14.2857142857%;\n  top: 0%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="1"] {\n  left: 0%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="2"] {\n  left: 14.2857142857%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="3"] {\n  left: 28.5714285714%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="4"] {\n  left: 14.2857142857%;\n  width: 71.4285714286%;\n  top: 50%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="5"] {\n  left: 57.1428571429%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="6"] {\n  left: 71.4285714286%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="7"] {\n  left: 85.7142857143%;\n}',""])},function(t,e,n){var r=n(992);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n@-webkit-keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n@keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n.OptionsInputKeyのcontents {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n}\n.OptionsInputKeyのtext {\n  position: relative;\n  text-align: center;\n}\n.OptionsInputKey .OptionsInputKeyのcontents {\n  border: 1px solid #feb;\n  box-shadow: 0 0 1px #feb, inset 0 0 10px rgba(255, 238, 187, 0.4);\n  cursor: pointer;\n  background-color: rgba(255, 238, 187, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #feb;\n}\n.OptionsInputKey .OptionsInputKeyのcontents:hover {\n  background-color: rgba(255, 238, 187, 0.1);\n}\n.OptionsInputKey .OptionsInputKeyのcontents.is-editing {\n  background-color: rgba(255, 238, 187, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}\n.OptionsInputKey[data-n="2"] .OptionsInputKeyのcontents, .OptionsInputKey[data-n="6"] .OptionsInputKeyのcontents {\n  border: 1px solid #abf;\n  box-shadow: 0 0 1px #abf, inset 0 0 10px rgba(170, 187, 255, 0.4);\n  cursor: pointer;\n  background-color: rgba(170, 187, 255, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #abf;\n}\n.OptionsInputKey[data-n="2"] .OptionsInputKeyのcontents:hover, .OptionsInputKey[data-n="6"] .OptionsInputKeyのcontents:hover {\n  background-color: rgba(170, 187, 255, 0.1);\n}\n.OptionsInputKey[data-n="2"] .OptionsInputKeyのcontents.is-editing, .OptionsInputKey[data-n="6"] .OptionsInputKeyのcontents.is-editing {\n  background-color: rgba(170, 187, 255, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}\n.OptionsInputKey[data-n="4"] .OptionsInputKeyのcontents {\n  border: 1px solid #bfa;\n  box-shadow: 0 0 1px #bfa, inset 0 0 10px rgba(187, 255, 170, 0.4);\n  cursor: pointer;\n  background-color: rgba(187, 255, 170, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #bfa;\n}\n.OptionsInputKey[data-n="4"] .OptionsInputKeyのcontents:hover {\n  background-color: rgba(187, 255, 170, 0.1);\n}\n.OptionsInputKey[data-n="4"] .OptionsInputKeyのcontents.is-editing {\n  background-color: rgba(187, 255, 170, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}',""])},function(t,e,n){var r=n(994);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n@-webkit-keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n@keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n.OptionsInputScratch {\n  width: 160px;\n  height: 160px;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 200px;\n  position: relative;\n  border: 1px solid #faa;\n  box-shadow: 0 0 1px #faa, inset 0 0 10px rgba(255, 170, 170, 0.4);\n  cursor: pointer;\n  background-color: rgba(255, 170, 170, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #faa;\n}\n.OptionsInputScratch:hover {\n  background-color: rgba(255, 170, 170, 0.1);\n}\n.OptionsInputScratch.is-editing {\n  background-color: rgba(255, 170, 170, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}\n.OptionsInputScratch > svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.OptionsInputScratchのstar {\n  fill: rgba(255, 170, 170, 0.2);\n}\n.OptionsInputScratchのtext {\n  position: relative;\n  text-align: center;\n  text-align: center;\n}\n.OptionsInputScratchのkeySeparator {\n  font-size: 0.8em;\n  margin: 0.25ex 0;\n}\n.OptionsInputScratchのkeySeparator::before, .OptionsInputScratchのkeySeparator::after {\n  content: "\\2014";\n  margin: 0 0.25em;\n}\n.OptionsInputScratch.is-editing .OptionsInputScratchのkey:not(.is-editing), .OptionsInputScratch.is-editing .OptionsInputScratchのkeySeparator:not(.is-editing) {\n  opacity: 0.2;\n}',""])},function(t,e,n){var r=n(996);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsAdvanced {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 10px;\n}\n.OptionsAdvancedのgroup {\n  display: flex;\n  align-items: baseline;\n}\n.OptionsAdvancedのgroup > label {\n  font-weight: bold;\n  color: #8b8685;\n  margin-right: 1em;\n}\n.OptionsAdvancedのgroupItem {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 0.5em;\n}\n.OptionsAdvancedのgroupItem > .OptionsInputField {\n  text-align: right;\n  width: 4em;\n}\n.OptionsAdvancedのgroupItem > label {\n  display: block;\n  text-align: center;\n  color: #8b8685;\n  font-size: 0.9em;\n}',""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(277),i=n(101);function o(t){const e=window.devToolsExtension?window.devToolsExtension():t=>t;return Object(r.c)(i.p,t,e)}},,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return it}));n(973);var r=n(26),i=n.n(r),o=n(27),a=n.n(o),s=n(150),u=(n(975),n(491)),c=n.n(u),l=n(145),f=n(79),h=n(162),p=n(115);n(977);const d=({checked:t,children:e,onToggle:n})=>i.a.createElement("span",{className:"OptionsCheckbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:t,onChange:n}),i.a.createElement("span",{className:"OptionosCheckboxのレーベル"}," ",e)));d.propTypes={checked:a.a.bool,children:a.a.node,onToggle:a.a.func};var v=d,y=(n(979),n(58)),m=n.n(y),g=n(32),b=n.n(g);class _ extends i.a.PureComponent{constructor(){super(...arguments),this.handleInputChange=t=>{let e=t.target,n=this.props.validator.test(e.value);e.classList[n?"remove":"add"]("is-invalid"),n&&this.props.onChange(this.props.parse(e.value))},this.handleInputBlur=()=>{let t=m.a.findDOMNode(this.refs.input);t.value=this.props.stringify(this.props.value),t.classList.remove("is-invalid")}}render(){return i.a.createElement("input",Object.assign({},b.a.omit(this.props,["stringify","parse","onChange","validator","value"]),{type:"text",ref:"input",defaultValue:this.props.stringify(this.props.value),onChange:this.handleInputChange,onKeyDown:this.handleInputKeyDown,onBlur:this.handleInputBlur,className:"OptionsInputField"}))}componentDidUpdate(t,e){let n=this.props.stringify(this.props.value);if(this.props.stringify(t.value)!==n){let t=m.a.findDOMNode(this.refs.input);this.props.parse(t.value)!==this.props.parse(n)&&document.activeElement!==t&&(t.value=n)}}}_.propTypes={stringify:a.a.func,parse:a.a.func,onChange:a.a.func,validator:a.a.object,value:a.a.any},_.defaultProps={stringify:t=>""+t,parse:t=>t,onChange:()=>{}};var w=_,x=(n(981),n(49)),E=n.n(x),T=(n(983),n(169));const O=function(){const t=[],e=[];for(let n=0;n<=11;n++){const r=T.b(n/10),i=.075*r.y,o=T.a*r.projection*.075;t.push(`${0===n?"M":"L"}${48-o} ${i}`),e.push(`L${48+o} ${i}`)}return[...t,...e.reverse()].join(" ")}();class S extends i.a.Component{render(){let t="scratch"===this.props.type?this.renderScratch():this.renderPanel();return i.a.createElement("div",{className:E()("OptionsPlayerGraphics",{"is-active":this.props.active})},t)}renderScratch(){let t=this.props.value,e="left"===t?24:"right"===t?4:14,n="left"===t?21:"right"===t?75:null,r="left"===t?11:"right"===t?85:null,o="off"===this.props.value;return i.a.createElement("svg",{width:"96",height:"54"},i.a.createElement("g",{transform:"translate("+e+" 32)"},[0,1,2,3,4,5,6].map(t=>i.a.createElement("rect",{key:t,className:"OptionsPlayerGraphicsのline",x:o&&3===t?10:10*t,y:o?3===t?10:0:3*(1-t%2),width:o&&3===t?48:8,height:o?8:16,rx:2,ry:2}))),r&&i.a.createElement("circle",{className:"OptionsPlayerGraphicsのline",cx:r,cy:"42",r:"8",style:{fill:"rgba(255,255,255,0.1)"}}),n&&i.a.createElement("line",{className:"OptionsPlayerGraphicsのline",x1:n,x2:n,y1:"1",y2:"53"}),i.a.createElement("line",{className:"OptionsPlayerGraphicsのline",x1:"1",x2:"95",y1:"29",y2:"29"}))}renderPanel(){let t=this.props.value,e="left"===t?-35:"right"===t?35:0;return i.a.createElement("svg",{width:"96",height:"54"},"3d"===t?i.a.createElement("path",{className:"OptionsPlayerGraphicsのline",d:O,style:{fill:"rgba(255,255,255,0.1)"}}):i.a.createElement("g",{transform:"translate("+e+" 0)"},i.a.createElement("path",{className:"OptionsPlayerGraphicsのline",d:"M62 -2 L62 20 L65 23 L65 56\n          L31 56 L31 23 L34 20 L34 -2",style:{fill:"rgba(255,255,255,0.1)"}})))}}S.propTypes={type:a.a.string,active:a.a.bool,value:a.a.string};class C extends i.a.PureComponent{render(){return i.a.createElement("div",{className:"OptionsPlayerSelector"},this.props.options.map((t,e)=>i.a.createElement(C.Item,{key:e,type:this.props.type,value:t.value,label:t.label,active:t.value===this.props.value,onSelect:this.props.onSelect})))}}C.propTypes={onSelect:a.a.func,options:a.a.arrayOf(a.a.shape({label:a.a.string,value:a.a.string})),type:a.a.string,value:a.a.string};class A extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onSelect(this.props.value)}}render(){return i.a.createElement("div",{className:E()("OptionsPlayerSelectorのitem",{"is-active":this.props.active}),onClick:this.handleClick},i.a.createElement(S,{type:this.props.type,value:this.props.value,active:this.props.active}),i.a.createElement("div",{className:"OptionsPlayerSelectorのlabel"},this.props.label))}}A.propTypes={active:a.a.bool,onSelect:a.a.func,label:a.a.string,type:a.a.string,value:a.a.string},C.Item=A;var M=C;n(985);class P extends i.a.PureComponent{constructor(){super(...arguments),this.handleMinusButtonClick=()=>{let t=this.parseSpeed(this.props.value),e=t-(t>.5?.5:t>.2?.3:0);this.props.onChange(this.stringifySpeed(e))},this.handlePlusButtonClick=()=>{let t=this.parseSpeed(this.props.value),e=t+(t<.5?.3:.5);this.props.onChange(this.stringifySpeed(e))},this.handleSpeedInputChange=t=>{this.props.onChange(this.stringifySpeed(t))}}parseSpeed(t){return+(+t||1).toFixed(1)}stringifySpeed(t){return t.toFixed(1)}render(){return i.a.createElement("div",{className:"OptionsSpeed"},i.a.createElement("span",{className:"OptionsSpeedのminus"},i.a.createElement(p.a,{onClick:this.handleMinusButtonClick},"-")),i.a.createElement(w,{value:this.parseSpeed(this.props.value),parse:this.parseSpeed,stringify:this.stringifySpeed,validator:/^\d+(?:\.\d)?$/,onChange:this.handleSpeedInputChange}),i.a.createElement("span",{className:"OptionsSpeedのplus"},i.a.createElement(p.a,{onClick:this.handlePlusButtonClick},"+")))}}P.propTypes={value:a.a.string,onChange:a.a.func};var k=P,I=n(142);const D=c()(Object(l.b)(t=>({options:t.options})),Object(I.b)({onUpdateOptions:()=>t=>h.b(t)}))(t=>{const{label:e,isVisible:n,help:r,renderControl:o}=t,{options:a,onUpdateOptions:s}=t,u=!n||n(a),c=o(a,s);return i.a.createElement(R.Row,{label:e,hidden:!u},c,!!r&&i.a.createElement("div",{className:"OptionsPlayerのhelp"},r))});class R extends i.a.Component{render(){return i.a.createElement("div",{className:"OptionsPlayer"},i.a.createElement(D,{label:"Speed",isVisible:t=>!f.q(t),renderControl:(t,e)=>i.a.createElement(k,{value:f.E(t),onChange:t=>e(f.k(t))}),help:i.a.createElement("span",null,"You can also change the speed in-game",i.a.createElement("br",null),"using the Up and Down arrow keys.")}),i.a.createElement(D,{label:"LeadTime",isVisible:t=>f.q(t),renderControl:(t,e)=>i.a.createElement(w,{parse:t=>parseInt(t,10),stringify:t=>String(t)+"ms",validator:/^\d+(ms)?$/,value:f.y(t),onChange:t=>e(f.f(t)),style:{width:"5em"}}),help:i.a.createElement("span",null,"Speed will be automatically adjusted",i.a.createElement("br",null),"to maintain a consistent note velocity.")}),i.a.createElement(D,{label:"Scratch",renderControl:(t,e)=>i.a.createElement(M,{type:"scratch",options:[{value:"left",label:"Left"},{value:"right",label:"Right"},{value:"off",label:"Disabled"}],value:f.C(t),onSelect:t=>e(f.i(t))})}),i.a.createElement(D,{label:"Panel",renderControl:(t,e)=>i.a.createElement(M,{type:"panel",options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"3d",label:"3D [Beta]"}],onSelect:t=>e(f.g(t)),value:f.A(t)})}),i.a.createElement(D,{label:"Cover",renderControl:(t,e)=>i.a.createElement(w,{parse:t=>parseInt(t,10)/100,stringify:t=>Math.round(100*t||0)+"%",validator:/^-?\d+(%)?$/,value:f.w(t),onChange:t=>e(f.e(t)),style:{width:"5em"}})}),i.a.createElement(D,{label:"BGA",renderControl:(t,e)=>i.a.createElement(v,{checked:f.r(t),onToggle:()=>e(f.G)},"Enable background animations"," ",i.a.createElement("span",{className:"OptionsPlayerのhint"},"(720p, alpha)"))}),i.a.createElement(D,{label:"AutoVel",renderControl:(t,e)=>i.a.createElement(v,{checked:f.q(t),onToggle:()=>e(f.F)},"Maintain absolute note velocity"," ",i.a.createElement("span",{className:"OptionsPlayerのhint"},"(advanced)"))}),i.a.createElement(D,{label:"Gauge",renderControl:(t,e)=>i.a.createElement(v,{checked:f.t(t),onToggle:()=>e(f.I)},"Show expert gauge"," ",i.a.createElement("span",{className:"OptionsPlayerのhint"},"(experimental)"))}),i.a.createElement(D,{label:"Preview",renderControl:(t,e)=>i.a.createElement(v,{checked:f.u(t),onToggle:()=>e(f.J)},"Enable music preview")}),i.a.createElement("div",{className:"OptionsPlayerのbuttons"},i.a.createElement(p.a,{onClick:this.props.onClose},"Save & Exit")))}}R.propTypes={onClose:a.a.func};class j extends i.a.Component{render(){return i.a.createElement("div",{className:"OptionsPlayerのrow",style:{display:this.props.hidden?"none":""}},i.a.createElement("label",null,this.props.label),i.a.createElement("div",null,this.props.children))}}j.propTypes={hidden:a.a.bool,label:a.a.node,children:a.a.node},R.Row=j;var F=R,L=(n(987),n(161)),N=n(237),B=n(347);n(989),n(991);class U extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onEdit(""+this.props.n)}}render(){return i.a.createElement("div",{className:"OptionsInputKey","data-n":this.props.n},i.a.createElement("div",{className:E()("OptionsInputKeyのcontents",{"is-editing":this.props.isEditing}),onClick:this.handleClick},i.a.createElement("div",{className:"OptionsInputKeyのtext"},this.props.text)))}}U.propTypes={text:a.a.string,n:a.a.number,isEditing:a.a.bool,onEdit:a.a.func};var z=U;class q extends i.a.PureComponent{render(){let t=[];for(let e=1;e<=7;e++)t.push(i.a.createElement(z,{n:e,key:e,text:this.props.texts[e],isEditing:""+e==""+this.props.editing,onEdit:this.props.onEdit}));return i.a.createElement("div",{className:"OptionsInputKeys","data-arrangement":this.props.keyboardMode?"kb":"bm"},i.a.createElement("div",{className:"OptionsInputKeysのkeys"},t))}}q.propTypes={texts:a.a.objectOf(a.a.string),editing:a.a.string,onEdit:a.a.func,keyboardMode:a.a.bool};var H=q;n(993);class V extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onEdit("SC")}}render(){return i.a.createElement("div",{className:E()("OptionsInputScratch",{"is-editing":this.props.isEditing}),onClick:this.handleClick},i.a.createElement("svg",{viewBox:"-100 -100 200 200"},i.a.createElement("path",{d:X(),className:"OptionsInputScratchのstar"})),i.a.createElement("div",{className:"OptionsInputScratchのtext"},i.a.createElement("div",{className:this.renderKeyClass(0)},this.props.text[0]),i.a.createElement("div",{className:"OptionsInputScratchのkeySeparator"},"or"),i.a.createElement("div",{className:this.renderKeyClass(1)},this.props.text[1])))}renderKeyClass(t){return E()("OptionsInputScratchのkey",{"is-editing":this.props.editIndex===t})}}V.propTypes={text:a.a.arrayOf(a.a.string),editIndex:a.a.number,isEditing:a.a.bool,onEdit:a.a.func};var W=V;function X(){let t="";for(let e=0;e<10;e++){let n=e%2==0?40:90,r=e*Math.PI/5;t+=(0===e?"M":" L")+Math.sin(r)*n+","+Math.cos(r)*n}return t}const G=Object(N.createSelector)(t=>t.options,t=>f.v(t)),Y=Object(N.createSelector)(G,t=>b.a.mapValues(t,B.d)),K=Object(L.a)(Object(l.b)(t=>({scratch:f.C(t.options),texts:Y(t),mode:f.B(t.options),isContinuous:f.s(t.options),sensitivity:f.D(t.options)})),Object(L.f)("editing","setEditing",null),Object(I.b)({onSetKeyCode:({mode:t,editing:e})=>n=>h.b(f.d(t,e,n)),onUpdateOptions:()=>t=>h.b(t)}),Object(L.e)({onEdit:({editing:t,setEditing:e})=>n=>{e(t===n?null:n)},onKey:({editing:t,onSetKeyCode:e,setEditing:n,scratch:r})=>i=>{t&&(e(i),n(f.z(t,r)))}}));class $ extends i.a.Component{constructor(){super(...arguments),this.handleEdit=t=>{this.props.onEdit(t)},this.handleKey=t=>{this.props.editing&&this.props.onKey(t)},this.handleKeyboardEvent=t=>{this.props.editing&&t.preventDefault()},this.handleSensitivityChange=t=>{t<0?t=0:t>=10&&(t=9),this._input.setGamepadSensitivity(t),this.props.onUpdateOptions(f.j(t))},this.handleMinusButtonClick=()=>{this.handleSensitivityChange(parseInt(this.props.sensitivity,10)-1)},this.handlePlusButtonClick=()=>{this.handleSensitivityChange(parseInt(this.props.sensitivity,10)+1)}}render(){const t=E()("OptionsInputのbinding",{"is-reverse":"right"===this.props.scratch});return i.a.createElement("div",{className:"OptionsInput"},i.a.createElement("div",{className:t},"off"!==this.props.scratch?i.a.createElement("div",{className:"OptionsInputのzone is-scratch"},i.a.createElement("div",{className:"OptionsInputのcontrol"},i.a.createElement(W,{text:[this.props.texts.SC,this.props.texts.SC2],isEditing:"SC"===this.props.editing||"SC2"===this.props.editing,editIndex:"SC"===this.props.editing?0:"SC2"===this.props.editing?1:-1,onEdit:this.handleEdit})),i.a.createElement("div",{className:"OptionsInputのtitle"},"Scratch")):null,i.a.createElement("div",{className:"OptionsInputのzone"},i.a.createElement("div",{className:"OptionsInputのcontrol"},i.a.createElement(H,{keyboardMode:"off"===this.props.scratch,texts:this.props.texts,editing:this.props.editing,onEdit:this.handleEdit})),i.a.createElement("div",{className:"OptionsInputのtitle"},"Keys"))),i.a.createElement("div",{className:"OptionsInputのgamepad"},i.a.createElement("div",{className:"OptionsInputのgroup"},i.a.createElement("label",null,"Continuous Axis"),i.a.createElement(v,{checked:this.props.isContinuous,onToggle:()=>{this.props.onUpdateOptions(f.H),this._input.setGamepadContinuousAxisEnabled(!this.props.isContinuous)}})),i.a.createElement("div",{className:"OptionsInputのgroup"},i.a.createElement("label",null,"Sensitivity"),i.a.createElement("div",{className:"OptionsInputのsensitivity"},i.a.createElement("span",{className:"OptionsInputのminus"},i.a.createElement(p.a,{onClick:this.handleMinusButtonClick},"-")),i.a.createElement(w,{parse:t=>parseInt(t,10)-1,stringify:t=>String(parseInt(t,10)+1),validator:/^[0-9]+$/,value:this.props.sensitivity,onChange:this.handleSensitivityChange}),i.a.createElement("span",{className:"OptionsInputのplus"},i.a.createElement(p.a,{onClick:this.handlePlusButtonClick},"+"))))))}componentDidMount(){this._input=new B.c(window,{continuous:this.props.isContinuous}),this._dispose=Object(B.e)(this._input).debounceImmediate(16).doLog("a").onValue(this.handleKey),window.addEventListener("keydown",this.handleKeyboardEvent,!0)}componentWillUnmount(){this._dispose&&this._dispose(),this._input&&this._input.dispose(),window.removeEventListener("keydown",this.handleKeyboardEvent,!0)}}$.propTypes={scratch:a.a.string,texts:a.a.object,editing:a.a.string,onEdit:a.a.func,onKey:a.a.func,isContinuous:a.a.bool,sensitivity:a.a.number,onUpdateOptions:a.a.func};var J=K($),Z=(n(995),n(870)),Q=n.n(Z);const tt=c()(Object(l.b)(t=>({options:t.options})),Object(I.b)({onUpdateOptions:()=>t=>h.b(t)}),Q.a);class et extends i.a.Component{constructor(){super(...arguments),this.handleAudioInputLatencyChange=t=>{this.props.onUpdateOptions(f.c(t))},this.handleCalibrateButtonClick=()=>{window.open("?mode=sync","sync","width=640,height=360")}}stringifyLatency(t){return Math.round(t)+"ms"}parseLatency(t){return parseInt(t,10)}render(){let t=this.props.options;return i.a.createElement("div",{className:"OptionsAdvanced"},i.a.createElement(rt,{onLatency:this.handleAudioInputLatencyChange}),i.a.createElement("div",{className:"OptionsAdvancedのgroup"},i.a.createElement("label",null,"Latency"),i.a.createElement("div",{className:"OptionsAdvancedのgroupItem"},i.a.createElement(w,{value:f.b(t),parse:this.parseLatency,stringify:this.stringifyLatency,validator:/^\d+(?:ms)?$/,onChange:this.handleAudioInputLatencyChange}),i.a.createElement("label",null,"audio")),i.a.createElement(p.a,{onClick:this.handleCalibrateButtonClick},"Calibrate")))}}et.propTypes={options:a.a.object,onUpdateOptions:a.a.func};var nt=tt(et);class rt extends i.a.Component{constructor(){super(...arguments),this.handleMessage=t=>{t.data&&"number"==typeof t.data.latency&&this.props.onLatency(t.data.latency)}}render(){return null}componentDidMount(){window.addEventListener("message",this.handleMessage)}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}}rt.propTypes={onLatency:a.a.func};class it extends i.a.Component{render(){return i.a.createElement("div",{className:"Options"},i.a.createElement("div",{className:"Optionsのa"},i.a.createElement(s.a,{title:"Player Settings"},i.a.createElement(F,{onClose:this.props.onClose}))),i.a.createElement("div",{className:"Optionsのb"},i.a.createElement(s.a,{title:"Input Settings"},i.a.createElement(J,null)),i.a.createElement(s.a,{title:"Advanced Settings"},i.a.createElement(nt,null))))}}it.propTypes={onClose:a.a.func}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));n(925);var r=n(569),i=n(27),o=n.n(i),a=n(26),s=n.n(a),u=n(163),c=n(536),l=n(537),f=n(149),h=n(492),p=n(540),d=n(863),v=n(864),y=n(865),m=n(360),g=n.n(m),b=n(361),_=n.n(b),w=n(237),x=n(485);class E extends s.a.Component{constructor(){super(...arguments),this.getStats=(()=>{const t=Object(w.createSelector)(t=>t.deltas,t=>Object(x.a)(t)),e=Object(w.createSelector)(t,t=>g()(t)),n=Object(w.createSelector)(t,t=>Math.sqrt(_()(t))),r=Object(w.createStructuredSelector)({mean:e,standardDeviation:n});return()=>r(this.props)})()}render(){const t=this.getStats();return s.a.createElement("span",null,s.a.createElement("span",{style:{cursor:"help"},title:"Average and standard deviation of your keypresses."},(0===(e=t.mean)?"":e<0?"-":"+")+T(Math.abs(e))," ± ",T(t.standardDeviation),"ms"));var e}}function T(t){return(1e3*t).toFixed(1)}E.propTypes={deltas:o.a.array};n(948);const O=({grade:t})=>s.a.createElement("div",{className:"ResultGrade"},s.a.createElement("div",{className:"ResultGradeのlabel"},"GRADE"),s.a.createElement("div",{className:"ResultGradeのgrade"},t));O.propTypes={grade:o.a.string.isRequired};var S=O,C=(n(950),n(236)),A=(n(952),n(58)),M=n.n(A),P=n(146);class k extends s.a.Component{constructor(){super(...arguments),this._getText=t=>this.props.formatter?this.props.formatter(t):t.toFixed(0)}render(){return s.a.createElement("span",{className:"RunningNumber"})}componentDidMount(){let t=M.a.findDOMNode(this),e=document.createTextNode("");t.appendChild(e),e.nodeValue=this._getText(0);let n=Object(P.a)(),r=setInterval(()=>{let t=Math.min(1,Math.max(0,(Object(P.a)()-n)/2e3));t=1-Math.pow(1-t,4),e.nodeValue=this._getText(this.props.value*t),1===t&&clearInterval(r)},16)}}k.propTypes={formatter:o.a.func,value:o.a.number.isRequired};n(954);var I=n(32),D=n.n(I),R=n(560),j=n.n(R),F=n(150),L=n(65);class N extends s.a.Component{render(){const t=this.props.deltas,e=Object(x.a)(t),n=t.filter(t=>Object(L.h)(1)<=Math.abs(t)),r=n.filter(t=>t<0).length,i=n.filter(t=>t>0).length,o=(t=>D()(t).map(t=>Math.floor(100*t)).countBy(t=>t).value())(t),a=D.a.range(-20,20).map(t=>({bucket:t,count:o[t]||0})),u=D()(a).map("count").max();return s.a.createElement("div",{className:"ResultDeltasView"},s.a.createElement(F.a,{title:"Accuracy Data"},s.a.createElement("div",{className:"ResultDeltasViewのcontent"},s.a.createElement("div",{className:"ResultDeltasViewのhistogram"},a.map(({bucket:t,count:e})=>{return s.a.createElement("div",{key:t,className:"ResultDeltasViewのhistogramBar","data-bucket":t,style:{height:(n=e,Math.ceil(n/Math.max(u,1)*128))}});var n})),s.a.createElement("div",{className:"ResultDeltasViewのnumber is-early"},s.a.createElement("strong",null,r)," EARLY"),s.a.createElement("div",{className:"ResultDeltasViewのnumber is-late"},s.a.createElement("strong",null,i)," LATE"),s.a.createElement("table",{className:"ResultDeltasViewのinfo"},s.a.createElement("tbody",null,this.renderRow("Mean:",g()(e)),this.renderRow("S.D:",Math.sqrt(_()(e)),{showEarlyLate:!1}),this.renderRow("Median:",j()(e)))))))}renderRow(t,e,n={}){return s.a.createElement("tr",null,s.a.createElement("th",null,t),s.a.createElement("td",{className:"is-number"},(1e3*e).toFixed(1)+" ms"),s.a.createElement("td",null,!1!==n.showEarlyLate?e>0?"(late)":e<0?"(early)":"":null))}}N.propTypes={deltas:o.a.array};class B extends s.a.Component{constructor(t){super(t),this.handleToggleDeltasModal=()=>{this.setState({deltasModalVisible:!this.state.deltasModalVisible})},this.handleViewDeltas=()=>{this.handleToggleDeltasModal(),f.f("ResultTable","view deltas")},this.state={deltasModalVisible:!1}}render(){let{result:t}=this.props;return s.a.createElement("div",{className:"ResultTable"},s.a.createElement("table",{className:"ResultTableのtable"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k,{value:t[1]})),s.a.createElement("th",null,"Meticulous")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k,{value:t[2]})),s.a.createElement("th",null,"Precise")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k,{value:t[3]})),s.a.createElement("th",null,"Good")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k,{value:t[4]})),s.a.createElement("th",null,"Offbeat")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k,{value:t.missed})),s.a.createElement("th",null,"Missed")))),s.a.createElement("table",{className:"ResultTableのtable"},s.a.createElement("tbody",null,s.a.createElement("tr",{title:"Total combos: "+t.totalCombo},s.a.createElement("td",null,s.a.createElement(k,{value:t.maxCombo})),s.a.createElement("th",null,"Max Combo")),s.a.createElement("tr",null,s.a.createElement("td",{onClick:this.handleViewDeltas,className:"is-clickable"},s.a.createElement(p.a,{featureKey:"deltas",tip:"View detailed accuracy data"},s.a.createElement(k,{formatter:this.formatAccuracy,value:t.accuracy}))),s.a.createElement("th",null,"Accurate")))),s.a.createElement("table",{className:"ResultTableのtable is-total"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(k,{value:t.score})),s.a.createElement("th",null,"Total Score")))),s.a.createElement(C.a,{visible:this.state.deltasModalVisible,onBackdropClick:this.handleToggleDeltasModal},s.a.createElement(N,{deltas:t.deltas})))}formatAccuracy(t){return(100*t).toFixed(2)+"%"}}B.propTypes={result:o.a.object};class U extends s.a.Component{constructor(){super(...arguments),this.onTweet=t=>{t.preventDefault(),t.stopPropagation(),f.f("ResultScene","tweet"),window.open(this.getTweetLink(),"intent","width=550,height=420")},this.handleExit=t=>{this.props.onExit(t),f.f("ResultScene","exit")}}render(){return this.props.lr2Timegate,s.a.createElement(u.a,{className:"ResultScene"},s.a.createElement(c.a,null,"Play Result",s.a.createElement("div",{className:"ResultSceneのmode"},"KB"===this.props.playMode?"Keyboard":"BMS"," Mode")),s.a.createElement("div",{className:"ResultSceneのreport"},s.a.createElement(B,{result:this.props.result})),s.a.createElement(S,{grade:this.props.result.grade}),s.a.createElement("div",{className:"ResultSceneのinformation"},s.a.createElement("div",{className:"ResultSceneのinformationHeader"},s.a.createElement("div",{className:"ResultSceneのchart"},s.a.createElement(p.a,{tip:"Play again",featureKey:"replayGame"},s.a.createElement(v.a,{chart:this.props.chart,onChartClick:this.props.onReplay,isReplayable:!0}))),s.a.createElement(d.a,{info:this.props.chart.info})),s.a.createElement("div",{className:"ResultSceneのinformationBody"},s.a.createElement(y.a,{result:this.props.result.tainted?void 0:this.props.result,chart:this.props.chart,playMode:this.props.playMode})),s.a.createElement("div",{className:"ResultSceneのinformationFooter"},s.a.createElement("a",{href:this.getTweetLink(),className:"ResultSceneのtweet",onClick:this.onTweet},s.a.createElement("i",{className:"fa fa-twitter"})),s.a.createElement(r.a,{grow:1}),s.a.createElement(p.a,{tip:"Back to music selection",featureKey:"finishGame"},s.a.createElement("div",{className:"ResultSceneのexit",onClick:this.handleExit},"Continue")))),s.a.createElement(l.a,null,s.a.createElement("span",null,s.a.createElement(E,{deltas:this.props.result.deltas})),s.a.createElement(l.a.Spacer,null),s.a.createElement("a",{onClick:this.props.onExit,href:"javascript://"},"Continue")))}getTweetLink(){let t=this.props.chart.info.title,e=this.props.chart.info.subtitles[0]||"",n=this.props.result.score,r=this.props.result.grade;if(""===e){let t=this.props.chart.info.genre.match(/\[([^\]]+)\]$/);t&&(e=t[1])}e=e.trim(),""===e||/^[[(]/.test(e)||(e=`[${e}]`),""!==e&&(e=" "+e);let i="https://bemuse.ninja/",o=h.c();return o&&(i=(/^http:/.test(o)?"http":"https")+"://bemuse.ninja/?server="+encodeURIComponent(o)),"https://twitter.com/intent/tweet?related=bemusegame&text="+encodeURIComponent(`Played:「 ${t}${e} 」on #Bemuse (Score:${n} [${r}])\n→ `+i)}}U.propTypes={result:o.a.shape({grade:o.a.string,score:o.a.number,deltas:o.a.array,totalNotes:o.a.number,tainted:o.a.bool}),playMode:o.a.string,lr2Timegate:o.a.array,chart:o.a.object,onReplay:o.a.func,onExit:o.a.func}},function(t,e,n){"use strict";n(964);var r=n(150),i=n(26),o=n.n(i),a=n(27),s=n.n(a),u=n(49),c=n.n(u),l=n(161),f=n(149),h=n(243),p=n(610);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!p.f)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var d=!1;function v(){return d}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(t){return t.current?Object(p.c)(t.current):"<unknown>"}var g=[];function b(){var t=y(Object(i.useState)(0),2)[1];return Object(i.useCallback)((function(){t((function(t){return t+1}))}),[])}var _={};function w(t,e,n){if(void 0===e&&(e="observed"),void 0===n&&(n=_),v())return t();var r=(n.useForceUpdate||b)(),o=Object(i.useRef)(null);o.current||(o.current=new p.a("observer("+e+")",(function(){r()})));var a,s,u=function(){o.current&&!o.current.isDisposed&&o.current.dispose()};if(Object(i.useDebugValue)(o,m),function(t){Object(i.useEffect)((function(){return t}),g)}((function(){u()})),o.current.track((function(){try{a=t()}catch(t){s=t}})),s)throw u(),s;return a}function x(t){var e=t.children,n=t.render,r=e||n;return"function"!=typeof r?null:w(r)}function E(t,e,n,r,i){var o="children"===e?"render":"children",a="function"==typeof t[e],s="function"==typeof t[o];return a&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}x.propTypes={children:E,render:E},x.displayName="Observer";var T=n(101),O=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};const S=Object(p.d)({loaderLog:null});function C(t,e,{customSongLoader:n,store:r}){return O(this,void 0,void 0,(function*(){S.loaderLog=[...e];const i=S.loaderLog;try{const e=yield n.loadSongFromResources(t,{onMessage(t){i.push(t)}});if(e&&e.charts&&e.charts.length)return S.loaderLog=null,r.dispatch({type:T.d,song:e}),e;S.loaderLog=null}catch(t){const e="Error caught: "+t;throw i.push(e),t}}))}var A=n(506),M=n(278),P=n(93),k=n(203),I=n.n(k),D=n(490),R=n.n(D),j=n(2),F=n(204),L=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};class N{constructor(t){this._throat=I()(8),this._path=t}get gatewayName(){return"IPFS Companion extension"}_loadLinks(){return L(this,void 0,void 0,(function*(){const t=this._path.match(/^\/ipfs\/([^/]+)\/?$/);if(!t)throw new Error("Only IPFS path is supported");const e=t[1],n=(yield window.ipfs.object.get(e)).toJSON();if(!n.links||!n.links.length)throw new Error("Must be a folder...");return n.links}))}_getLinks(){return this._linksPromise||(this._linksPromise=this._loadLinks())}file(t){return L(this,void 0,void 0,(function*(){const e=yield this._getLinks();for(const n of e)if(n.name.toLowerCase()===t.toLowerCase())return new z(this._throat,new B(n.multihash,n.name));throw new Error("unable to find "+t)}))}get fileList(){return this._getLinks().then(t=>t.map(t=>t.name))}}class B{constructor(t,e){this._multihash=t,this._name=e}read(t){return P.a(t,window.ipfs.files.cat(this._multihash).then(t=>t.buffer))}get name(){return this._name}}class U{constructor(t,e="https://cloudflare-ipfs.com"){this._throat=I()(7),this._path=t,this._gateway=e}get gatewayName(){return`IPFS gateway "${this._gateway}"`}_loadLinks(){return L(this,void 0,void 0,(function*(){const t=`${this._gateway}${this._path}`,e=(yield R.a.get(t,{responseType:"text"})).data,n=[],r=this._path.replace(/\/?$/,"/");if(e.replace(/"(\/ipfs\/[^"]+)"/g,(t,e)=>{e.substr(0,r.length)===r&&n.push({Name:decodeURIComponent(e.substr(r.length))})}),!n.length)throw new Error("No files found :( Is this really an IPFS folder?");return n}))}_getLinks(){return this._linksPromise||(this._linksPromise=this._loadLinks())}file(t){return L(this,void 0,void 0,(function*(){const e=yield this._getLinks(),n=this._path.replace(/^\/|\/$/g,"").split("/");for(const r of e)if(r.Name.toLowerCase()===t.toLowerCase()){const t="/"+[...n,r.Name].map(t=>encodeURIComponent(t)).join("/");return new z(this._throat,new F.b(`${this._gateway}${t}`))}throw new Error("unable to find "+t)}))}get fileList(){return this._getLinks().then(t=>t.map(t=>t.Name))}}class z{constructor(t,e){this._throat=t,this._resource=e}read(t){return this._throat(()=>this._resource.read(t))}resolveUrl(){return this._resource.resolveUrl()}get name(){return this._resource.name}}var q=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function H(t){return Object(h.createIO)(({store:e,customSongLoader:n})=>q(this,void 0,void 0,(function*(){let r;if(r=t.clipboardData.getData("text/plain").match(/(https?:\/\/[a-zA-Z0-9:.-]+)?(\/ipfs\/\S+)/),r){const t=r[1]||void 0,i=t?decodeURI(r[2]):r[2],o=function(t,e){return window.ipfs&&"1"===j.a.BEMUSE_USE_IPFS_COMPANION?new N(t):new U(t,e)}(i,t),a=["Loading from IPFS path "+i+"...",`(Using ${o.gatewayName})`];return/^http:/.test(t)&&"https:"===window.location.protocol&&a.push(e,"WARNING: Loading http URL from https. This will likely fail!"),C(o,a,{store:e,customSongLoader:n})}})))}var V=n(142),W=n(861),X=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};const G=Object(l.a)(t=>function(e){const n=w(()=>S.loaderLog&&Array.from(S.loaderLog));return o.a.createElement(t,Object.assign({},e,{log:n}))},Object(V.b)({onFileDrop:()=>t=>function(t){return Object(h.createIO)(({store:e,customSongLoader:n})=>q(this,void 0,void 0,(function*(){return C(new A.a(t),["Examining dropped items..."],{store:e,customSongLoader:n})})))}(t),onPaste:()=>t=>H(t),loadFromURL:()=>t=>function(t){return Object(h.createIO)(({store:e,customSongLoader:n})=>q(this,void 0,void 0,(function*(){return C(new M.b({getFiles:e=>q(this,void 0,void 0,(function*(){return[yield Object(M.c)(t,e)]}))}),["Loading from "+t],{store:e,customSongLoader:n})})))}(t)}));class Y extends o.a.Component{constructor(t){super(t),this.handleDragEnter=t=>{t.preventDefault()},this.handleDragOver=t=>{this.setState({hover:!0}),t.preventDefault()},this.handleDragLeave=t=>{this.setState({hover:!1}),t.preventDefault()},this.handleDrop=t=>{this.setState({hover:!1}),f.f("CustomBMS","drop"),t.preventDefault(),this.props.onFileDrop(t.nativeEvent).then(t=>{this.props.onSongLoaded&&this.props.onSongLoaded(t)})},this.handlePaste=t=>X(this,void 0,void 0,(function*(){const e=yield this.props.onPaste(t);e&&this.props.onSongLoaded&&this.props.onSongLoaded(e)})),this.state={hover:!1}}componentDidMount(){window.addEventListener("paste",this.handlePaste),Object(W.b)()&&this.props.loadFromURL(Object(W.a)()).then(t=>{this.props.onSongLoaded&&this.props.onSongLoaded(t)})}componentWillUnmount(){window.removeEventListener("paste",this.handlePaste)}render(){return o.a.createElement(r.a,{className:"CustomBMS",title:"Load Custom BMS"},o.a.createElement("div",{className:"CustomBMSのwrapper"},o.a.createElement("div",{className:"CustomBMSのinstruction"},"Please drag and drop a BMS folder into the drop zone below."),o.a.createElement("div",{className:"CustomBMSのremark"},"This feature is only supported in Google Chrome and Firefox."),o.a.createElement("div",{className:"CustomBMSのremark"},"Please don’t play unauthorized / illegally obtained BMS files."),o.a.createElement("div",{className:"CustomBMSのremark"},"Experimental: You can paste IPFS path/URL here."),o.a.createElement("div",{className:c()("CustomBMSのdropzone",{"is-hover":this.state.hover}),onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.props.log?this.props.log.length?o.a.createElement("div",{className:"CustomBMSのlog"},this.props.log.map((t,e)=>o.a.createElement("p",{key:e},t))):o.a.createElement("div",{className:"CustomBMSのlog"},o.a.createElement("p",null,"Omachi kudasai...")):o.a.createElement("div",{className:"CustomBMSのdropzoneHint"},"Drop BMS folder here."))))}}Y.propTypes={log:s.a.arrayOf(s.a.string),onFileDrop:s.a.func,onPaste:s.a.func,onSongLoaded:s.a.func,loadFromURL:s.a.func};e.a=G(Y)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r={"./drop-bms.jsx":1732,"./error.jsx":1733,"./font.js":1734,"./online-authentication.jsx":1735,"./options.jsx":1736,"./ranking-table.jsx":1737,"./result.js":1740,"./skin.js":1741};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=1731},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return l}));var r=n(26),i=n.n(r),o=n(116),a=n(1316),s=n(58),u=n.n(s);const c=()=>i.a.createElement("div",null,i.a.createElement(a.a,null));function l(){u.a.render(i.a.createElement(c,null),o.a)}},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return l}));var r=n(26),i=n.n(r),o=n(116),a=n(957),s=n(58),u=n.n(s);const c=()=>i.a.createElement("div",null,i.a.createElement(a.a,{error:new Error("yabai"),preamble:"Test error."}));function l(){u.a.render(i.a.createElement(c,null),o.a)}},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return o}));var r=n(50),i=n(116);function o(){let t=r.autoDetectRenderer(640,480),e=new r.Stage(9143941),n=new r.loaders.Loader;const o=["/skins/default/Fonts/BemuseDefault-Meticulous.fnt","/skins/default/Fonts/BemuseDefault-Other.fnt"];for(const t of o)n.add(t,t);function a(){t.render(e)}n.load(()=>{let t=new r.BitmapText("*1234567890",{font:"BemuseDefault-Meticulous"});e.addChild(t);let n=new r.BitmapText("01",{font:"BemuseDefault-Other"});n.y=100,e.addChild(n),a(),console.log("Ok")}),i.a.appendChild(t.view),a()}},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return l}));var r=n(26),i=n.n(r),o=n(58),a=n.n(o),s=n(116),u=n(854);const c=()=>i.a.createElement("div",null,i.a.createElement(u.a,null));function l(){a.a.render(i.a.createElement(c,null),s.a)}},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return h}));var r=n(26),i=n.n(r),o=n(58),a=n.n(o),s=n(116),u=n(236),c=n(1313);const l=()=>{},f=()=>i.a.createElement(u.a,{visible:!0,onBackdropClick:l},i.a.createElement(c.a,{onClose:l}));function h(){a.a.render(i.a.createElement(f,null),s.a)}},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return l}));var r=n(26),i=n.n(r),o=n(58),a=n.n(o),s=n(116),u=n(882);n(1738);const c=()=>i.a.createElement("div",{className:"ranking-table-playground"},i.a.createElement(u.a,{state:{data:[{playerName:"One",score:"543210",count:[5,4,3,2,1],total:15,rank:1},{playerName:"Two",score:"123456",count:[1,2,3,4,5],total:15,rank:2}],meta:{scoreboard:{status:"completed"},submission:{status:"completed",record:{playerName:"One",score:"543210",count:[5,4,3,2,1],total:15,rank:1}}}}}),i.a.createElement(u.a,{state:{data:[{playerName:"One",score:"543210",count:[5,4,3,2,1],total:15,rank:1},{playerName:"Two",score:"123456",count:[1,2,3,4,5],total:15,rank:2}],meta:{scoreboard:{status:"completed"},submission:{status:"completed",record:null}}}}),i.a.createElement(u.a,{state:{data:null,meta:{scoreboard:{status:"completed"},submission:{status:"unauthenticated"}}}}),i.a.createElement(u.a,{state:{data:null,meta:{scoreboard:{status:"loading"},submission:{status:"loading"}}}}),i.a.createElement(u.a,{state:{data:null,meta:{scoreboard:{status:"error"},submission:{status:"error"}}}}));function l(){a.a.render(i.a.createElement(c,null),s.a)}},function(t,e,n){var r=n(1739);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".ranking-table-playground .Ranking {\n  background: #ddd;\n  margin: 10px;\n  display: inline-block;\n  width: 512px;\n  height: 256px;\n}",""])},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return c}));var r=n(1292),i=n(26),o=n.n(i),a=n(1315),s=n(172),u=n(145);function c(){let t={result:{1:9999,2:999,3:99,4:9,missed:123,score:543210,maxCombo:5555,accuracy:.97,totalCombo:11106,grade:"A",deltas:[0,.01,.03,-.03,-.06]},chart:{info:{title:"Test Song",subtitles:["fl*cknother"],artist:"iaht",subartists:["obj.flicknote"],genre:"Frantic Hardcore",level:17},md5:"12345670123456789abcdef89abemuse"},lr2Timegate:[20,40],onExit:()=>alert("Exit!"),onReplay:()=>alert("Replay!"),playMode:"BM"};s.a.display(o.a.createElement(u.a,{store:Object(r.a)()},o.a.createElement(a.a,Object.assign({},t)))).done()}},function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return v}));var r=n(881),i=n(68),o=n.n(i),a=n(104),s=n.n(a),u=n(597),c=n(601),l=n(348),f=n(599),h=n(116),p=n(498),d=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};function v(){return d(this,void 0,void 0,(function*(){let t=s.a.Compiler.compile("\n    #TITLE ทดสอบ Bemuse\n    #ARTIST ฟหกด\n    #00111:01\n    #00112:01\n    #00113:01\n    #00114:01\n    #00115:01\n    #00118:01\n    #00119:01\n    #00116:01\n    #00151:0001010000000000\n    #00152:0001010000000000\n    #00153:0001010000000000\n    #00154:0001010000000000\n    #00155:0001010000000000\n    #00158:0001010000000000\n    #00159:0001010000000000\n    #00156:0001010000000000\n    #00211:010000000000000000010000\n    #00212:000100000000000000010000\n    #00213:010001000000000000010000\n    #00214:010000010000000001000001\n    #00215:010000000100000100000100\n    #00218:010000000010010001000100\n    #00219:010000000001000100000100").chart,e=[Object(p.fromBMSChart)(t)],n=new u.a(e,{players:[{speed:2}]}),i=yield r.load(r.getSkinUrl({displayMode:"touch3d"})),a=new r.Context(i),d=new c.a({game:n,skin:i,context:a}),v=new f.a(n),y=new l.a,m=(new Date).getTime(),g={started:!0,startTime:m,readyFraction:0};var b;d.start(),d._getData=(b=d._getData,function(){let t=b.apply(d,arguments);return t.p1_score=((new Date).getTime()-m)%555556,window.LATEST_DATA=t,t});let _=()=>{let t=((new Date).getTime()-m)/1e3;g.time=t,v.update(t,y,g),d.update(t,v)};_(),requestAnimationFrame((function t(){_(),requestAnimationFrame(t)})),function(t){var{width:e,height:n}=t;function r(){var r=Math.min(window.innerWidth/e,window.innerHeight/n);t.style.width=Math.round(e*r)+"px",t.style.height=Math.round(n*r)+"px"}t.style.display="block",t.style.margin="0 auto",h.a.appendChild(t),r(),o()(window).on("resize",r)}(a.view)}))}},,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"main",(function(){return f}));var r=n(116),i=n(26),o=n.n(i),a=n(58),s=n.n(a),u=n(2);const c=function(t){let e={};for(let n of t.keys()){e[n.match(/\w[^.]+/)[0]]=t(n)}return e}(n(1731));class l extends o.a.Component{static main(){s.a.render(o.a.createElement(l,null),r.a)}render(){const t={color:"#abc"};return o.a.createElement("div",null,o.a.createElement("h1",null,"Bemuse Playground"),o.a.createElement("p",null,"Please select a playground"),o.a.createElement("ul",null,Object.keys(c).map(e=>o.a.createElement("li",null,o.a.createElement("a",{style:t,href:"?mode=playground&playground="+e},e)))))}}function f(){(c[u.a.playground]||l).main()}}])]);
//# sourceMappingURL=playground-ba91641cc9c33fb066c1.js.map