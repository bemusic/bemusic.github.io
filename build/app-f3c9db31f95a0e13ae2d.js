/*! For license information please see app-f3c9db31f95a0e13ae2d.js.LICENSE.txt */
(this.webpackJsonp=this.webpackJsonp||[]).push([[5,4,20,21],Array(25).concat([function(t,e,n){"use strict";var r=n(67),i=n(1205),o=n(367),s=n(687),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,r){var i;i=n.subscribe((function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)}),r,e)}))},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();e.Observable=a},,function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){var r=n(40),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},,,,function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(365),o=n(53),s=n(804),a=n(366),c=function(t){function e(e,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!e){this.destination=s.empty;break}if("object"==typeof e){if(l(e)){var i=e[a.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,n,r)}}return r(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.Subscription);e.Subscriber=c;var u=function(t){function e(e,n,r,o){var a;t.call(this),this._parentSubscriber=e;var c=this;i.isFunction(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==s.empty&&(c=Object.create(n),i.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=a,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c);function l(t){return t instanceof c||"syncErrorThrowable"in t&&t[a.rxSubscriber]}},,,,,function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(632).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,o=Math.min(t.length,n),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,c=0,l=n;l<a;l+=r)c=u(t,l,l+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,e.length-1),p=Math.max(0,u-t.length+1);p<=h;p++){var d=u-p|0;l+=(s=(i=0|t.words[d])*(o=0|e.words[p])+f)/67108864|0,f=67108863&s}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?l[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],p=h[t];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var b=d.modn(p).toString(t);n=(d=d.idivn(p)).isZero()?b+n:l[u-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===e,u=new t(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,u=0,l=0|s[0],f=8191&l,h=l>>>13,p=0|s[1],d=8191&p,b=p>>>13,m=0|s[2],y=8191&m,v=m>>>13,g=0|s[3],_=8191&g,w=g>>>13,S=0|s[4],x=8191&S,k=S>>>13,E=0|s[5],O=8191&E,A=E>>>13,M=0|s[6],C=8191&M,j=M>>>13,T=0|s[7],I=8191&T,P=T>>>13,F=0|s[8],R=8191&F,D=F>>>13,B=0|s[9],N=8191&B,L=B>>>13,q=0|a[0],U=8191&q,z=q>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,$=K>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Q=0|a[4],Z=8191&Q,tt=Q>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ht=lt>>>13,pt=0|a[9],dt=8191&pt,bt=pt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,U)|0))<<13)|0;u=((o=Math.imul(h,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(d,U),i=(i=Math.imul(d,z))+Math.imul(b,U)|0,o=Math.imul(b,z);var yt=(u+(r=r+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(h,H)|0))<<13)|0;u=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,U),i=(i=Math.imul(y,z))+Math.imul(v,U)|0,o=Math.imul(v,z),r=r+Math.imul(d,H)|0,i=(i=i+Math.imul(d,W)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,W)|0;var vt=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,$)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(_,U),i=(i=Math.imul(_,z))+Math.imul(w,U)|0,o=Math.imul(w,z),r=r+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,W)|0,r=r+Math.imul(d,G)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,$)|0;var gt=(u+(r=r+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(x,U),i=(i=Math.imul(x,z))+Math.imul(k,U)|0,o=Math.imul(k,z),r=r+Math.imul(_,H)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,$)|0,r=r+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _t=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Z)|0))<<13)|0;u=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(O,U),i=(i=Math.imul(O,z))+Math.imul(A,U)|0,o=Math.imul(A,z),r=r+Math.imul(x,H)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,X)|0,r=r+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,tt)|0;var wt=(u+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;u=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(C,U),i=(i=Math.imul(C,z))+Math.imul(j,U)|0,o=Math.imul(j,z),r=r+Math.imul(O,H)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(x,G)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(d,nt)|0,i=(i=i+Math.imul(d,rt)|0)+Math.imul(b,nt)|0,o=o+Math.imul(b,rt)|0;var St=(u+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(h,ot)|0))<<13)|0;u=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(I,U),i=(i=Math.imul(I,z))+Math.imul(P,U)|0,o=Math.imul(P,z),r=r+Math.imul(C,H)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0;var xt=(u+(r=r+Math.imul(f,ct)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(h,ct)|0))<<13)|0;u=((o=o+Math.imul(h,ut)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,U),i=(i=Math.imul(R,z))+Math.imul(D,U)|0,o=Math.imul(D,z),r=r+Math.imul(I,H)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,W)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(_,nt)|0,i=(i=i+Math.imul(_,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,ut)|0)+Math.imul(b,ct)|0,o=o+Math.imul(b,ut)|0;var kt=(u+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;u=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(N,U),i=(i=Math.imul(N,z))+Math.imul(L,U)|0,o=Math.imul(L,z),r=r+Math.imul(R,H)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,W)|0,r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,$)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,X)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(d,ft)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(b,ft)|0,o=o+Math.imul(b,ht)|0;var Et=(u+(r=r+Math.imul(f,dt)|0)|0)+((8191&(i=(i=i+Math.imul(f,bt)|0)+Math.imul(h,dt)|0))<<13)|0;u=((o=o+Math.imul(h,bt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,H),i=(i=Math.imul(N,W))+Math.imul(L,H)|0,o=Math.imul(L,W),r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,$)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(A,nt)|0,o=o+Math.imul(A,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,ht)|0;var Ot=(u+(r=r+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,bt)|0)+Math.imul(b,dt)|0))<<13)|0;u=((o=o+Math.imul(b,bt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(N,G),i=(i=Math.imul(N,$))+Math.imul(L,G)|0,o=Math.imul(L,$),r=r+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,r=r+Math.imul(x,ct)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,r=r+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,ht)|0)+Math.imul(w,ft)|0,o=o+Math.imul(w,ht)|0;var At=(u+(r=r+Math.imul(y,dt)|0)|0)+((8191&(i=(i=i+Math.imul(y,bt)|0)+Math.imul(v,dt)|0))<<13)|0;u=((o=o+Math.imul(v,bt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(N,Y),i=(i=Math.imul(N,X))+Math.imul(L,Y)|0,o=Math.imul(L,X),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(I,nt)|0,i=(i=i+Math.imul(I,rt)|0)+Math.imul(P,nt)|0,o=o+Math.imul(P,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,st)|0,r=r+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ut)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ht)|0;var Mt=(u+(r=r+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,bt)|0)+Math.imul(w,dt)|0))<<13)|0;u=((o=o+Math.imul(w,bt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,Z),i=(i=Math.imul(N,tt))+Math.imul(L,Z)|0,o=Math.imul(L,tt),r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,ut)|0,r=r+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,ht)|0)+Math.imul(A,ft)|0,o=o+Math.imul(A,ht)|0;var Ct=(u+(r=r+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,bt)|0)+Math.imul(k,dt)|0))<<13)|0;u=((o=o+Math.imul(k,bt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(N,nt),i=(i=Math.imul(N,rt))+Math.imul(L,nt)|0,o=Math.imul(L,rt),r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ut)|0,r=r+Math.imul(C,ft)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(j,ft)|0,o=o+Math.imul(j,ht)|0;var jt=(u+(r=r+Math.imul(O,dt)|0)|0)+((8191&(i=(i=i+Math.imul(O,bt)|0)+Math.imul(A,dt)|0))<<13)|0;u=((o=o+Math.imul(A,bt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,r=Math.imul(N,ot),i=(i=Math.imul(N,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ht)|0;var Tt=(u+(r=r+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,bt)|0)+Math.imul(j,dt)|0))<<13)|0;u=((o=o+Math.imul(j,bt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(N,ct),i=(i=Math.imul(N,ut))+Math.imul(L,ct)|0,o=Math.imul(L,ut),r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var It=(u+(r=r+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,bt)|0)+Math.imul(P,dt)|0))<<13)|0;u=((o=o+Math.imul(P,bt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(N,ft),i=(i=Math.imul(N,ht))+Math.imul(L,ft)|0,o=Math.imul(L,ht);var Pt=(u+(r=r+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,bt)|0)+Math.imul(D,dt)|0))<<13)|0;u=((o=o+Math.imul(D,bt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ft=(u+(r=Math.imul(N,dt))|0)+((8191&(i=(i=Math.imul(N,bt))+Math.imul(L,dt)|0))<<13)|0;return u=((o=Math.imul(L,bt))+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,c[0]=mt,c[1]=yt,c[2]=vt,c[3]=gt,c[4]=_t,c[5]=wt,c[6]=St,c[7]=xt,c[8]=kt,c[9]=Et,c[10]=Ot,c[11]=At,c[12]=Mt,c[13]=Ct,c[14]=jt,c[15]=Tt,c[16]=It,c[17]=Pt,c[18]=Ft,0!==u&&(c[19]=u,n.length++),n};function b(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=p),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?d(this,t,e):r<63?p(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):b(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=c,h=u,p=0;p<s;p++){var d=n[l+p],b=r[l+p],m=n[l+p+s],y=r[l+p+s],v=f*m-h*y;y=f*y+h*m,m=v,n[l+p]=d+m,r[l+p]=b+y,n[l+p+s]=d-m,r[l+p+s]=b-y,p!==a&&(v=c*f-u*h,h=c*h+u*f,f=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,f,r,i);for(var p=0;p<r;p++){var d=a[p]*l[p]-c[p]*f[p];c[p]=a[p]*f[p]+c[p]*l[p],a[p]=d}return this.conjugate(a,c,r),this.transform(a,c,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);a&&(a.words[f]=h)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var d=0,b=1;0==(n.words[0]&b)&&d<26;++d,b<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(f)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(c)):(n.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new x(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(g,v),g.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},g.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,v),i(w,v),i(S,v),S.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new g;else if("p224"===t)e=new _;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return y[t]=e,e},x.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},x.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var b=p,m=0;0!==b.cmp(a);m++)b=b.redSqr();r(m<d);var y=this.pow(f,new o(1).iushln(d-m-1));h=h.redMul(y),f=y.redSqr(),p=p.redMul(f),d=m}return h},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,x),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(63)(t))},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(32).Subscriber);e.OuterSubscriber=i},function(t,e,n){"use strict";var r=n(67),i=n(806),o=n(807),s=n(802),a=n(25),c=n(323),u=n(1214),l=n(367);e.subscribeToResult=function(t,e,n,f){var h=new u.InnerSubscriber(t,n,f);if(h.closed)return null;if(e instanceof a.Observable)return e._isScalar?(h.next(e.value),h.complete(),null):(h.syncErrorThrowable=!0,e.subscribe(h));if(i.isArrayLike(e)){for(var p=0,d=e.length;p<d&&!h.closed;p++)h.next(e[p]);h.closed||h.complete()}else{if(o.isPromise(e))return e.then((function(t){h.closed||(h.next(t),h.complete())}),(function(t){return h.error(t)})).then(null,(function(t){r.root.setTimeout((function(){throw t}))})),h;if(e&&"function"==typeof e[c.iterator])for(var b=e[c.iterator]();;){var m=b.next();if(m.done){h.complete();break}if(h.next(m.value),h.closed)break}else if(e&&"function"==typeof e[l.observable]){var y=e[l.observable]();if("function"==typeof y.subscribe)return y.subscribe(new u.InnerSubscriber(t,n,f));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(s.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(v))}}return null}},,,function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BMSChart=void 0;var r=n(134),i=n(135),o=n(136),s=function(){function t(){this.headers=new r.BMSHeaders,this.objects=new i.BMSObjects,this.timeSignatures=new o.TimeSignatures}return t.prototype.measureToBeat=function(t,e){return this.timeSignatures.measureToBeat(t,e)},t}();e.BMSChart=s},,function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var r=e,i=n(37),o=n(45),s=n(293);r.assert=o,r.toArray=s.toArray,r.zero2=s.zero2,r.toHex=s.toHex,r.encode=s.encode,r.getNAF=function(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<r.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,r[s]=a,o.iushrn(1)}return r},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,c=t.andln(3)+i&3,u=e.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!==(r=t.andln(7)+i&7)&&5!==r||2!==u?c:-c,n[0].push(s),a=0==(1&u)?0:3!==(r=e.andln(7)+o&7)&&5!==r||2!==c?u:-u,n[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},function(t,e,n){"use strict";var r=n(328),i=n(329);e.async=new i.AsyncScheduler(r.AsyncAction)},function(t,e,n){var r=n(240),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";var r=n(45),i=n(27);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=a(t[n].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=s(i)),n+=c(i.toString(16))}return n},e.zero2=a,e.zero8=c,e.join32=function(t,e,n,i){var o=n-e;r(o%4==0);for(var s=new Array(o/4),a=0,c=e;a<s.length;a++,c+=4){var u;u="big"===i?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[a]=u>>>0}return s},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},e.sum64=function(t,e,n,r){var i=t[e],o=r+t[e+1]>>>0,s=(o<r?1:0)+n+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,i,o,s,a){var c=0,u=e;return c+=(u=u+r>>>0)<e?1:0,c+=(u=u+o>>>0)<o?1:0,t+n+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,i,o,s,a){return e+r+o+a>>>0},e.sum64_5_hi=function(t,e,n,r,i,o,s,a,c,u){var l=0,f=e;return l+=(f=f+r>>>0)<e?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+a>>>0)<a?1:0,t+n+i+s+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,i,o,s,a,c,u){return e+r+o+a+u>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(36))},function(t,e,n){"use strict";var r=n(385),i=n(761),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},,function(t,e,n){"use strict";var r=n(106),i=n(802),o=n(365),s=n(62),a=n(59),c=n(803),u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,u=n._parent,f=n._parents,h=n._unsubscribe,p=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,b=f?f.length:0;u;)u.remove(this),u=++d<b&&f[d]||null;if(o.isFunction(h))s.tryCatch(h).call(this)===a.errorObject&&(e=!0,t=t||(a.errorObject.e instanceof c.UnsubscriptionError?l(a.errorObject.e.errors):[a.errorObject.e]));if(r.isArray(p))for(d=-1,b=p.length;++d<b;){var m=p[d];if(i.isObject(m))if(s.tryCatch(m.unsubscribe).call(m)===a.errorObject){e=!0,t=t||[];var y=a.errorObject.e;y instanceof c.UnsubscriptionError?t=t.concat(l(y.errors)):t.push(y)}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function l(t){return t.reduce((function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=u},,function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)){if(r.length){var s=i.apply(null,r);s&&t.push(s)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var a in r)n.call(r,a)&&r[a]&&t.push(a);else t.push(r.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(28).Buffer,i=n(604).Transform,o=n(93).StringDecoder;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(27)(s,i),s.prototype.update=function(t,e,n){"string"==typeof t&&(t=r.from(t,e));var i=this._update(t);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(32),s=n(53),a=n(368),c=n(805),u=n(366),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var f=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[u.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.Observable);e.Subject=f;var h=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(f);e.AnonymousSubject=h},function(t,e,n){"use strict";e.errorObject={e:{}}},,,function(t,e,n){"use strict";var r,i=n(59);function o(){try{return r.apply(this,arguments)}catch(t){return i.errorObject.e=t,i.errorObject}}e.tryCatch=function(t){return r=t,o}},,function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(494),i=n(497);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";var r=n(120),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=Object.create(n(94));o.inherits=n(27);var s=n(272),a=n(181);o.inherits(f,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=n||void 0!==t&&t||r;e.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,n(31))},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&y(t,"error",e,n)}(t,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,s,a;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function b(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return f(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return f(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):b.call(t,e)},a.prototype.listenerCount=b,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Speedcore=void 0;var r=n(314),i=function(){function t(t){t.forEach(r.Segment),this._segments=t}return t.prototype._reached=function(t,e,n){if(t>=this._segments.length)return!1;var r=this._segments[t],i=e(r);return r.inclusive?n>=i:n>i},t.prototype._segmentAt=function(t,e){for(var n=0;n<this._segments.length;n++)if(!this._reached(n+1,t,e))return this._segments[n];throw new Error("Unable to find a segment matching a criteria (this should never happen)!")},t.prototype.segmentAtX=function(t){return this._segmentAt(s,t)},t.prototype.segmentAtT=function(t){return this._segmentAt(o,t)},t.prototype.t=function(t){var e=this.segmentAtX(t);return e.t+(t-e.x)/(e.dx||1)},t.prototype.x=function(t){var e=this.segmentAtT(t);return e.x+(t-e.t)*e.dx},t.prototype.dx=function(t){return this.segmentAtT(t).dx},t}();e.Speedcore=i;var o=function(t){return t.t},s=function(t){return t.x}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return r.call(t,e)}function o(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(65535!=(65535&t)&&65534!=(65535&t)&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function s(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(a.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(1546);var f=/[&<>"]/,h=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(t){return p[t]}var b=/[.?*+^$[\]\\(){}|-]/g;var m=n(1171);e.lib={},e.lib.mdurl=n(1547),e.lib.ucmicro=n(1683),e.assign=function(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t},e.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},e.has=i,e.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(a,"$1")},e.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(c,(function(t,e,n){return e||function(t,e){var n=0;return i(l,e)?l[e]:35===e.charCodeAt(0)&&u.test(e)&&o(n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?s(n):t}(t,n)}))},e.isValidEntityCode=o,e.fromCodePoint=s,e.escapeHtml=function(t){return f.test(t)?t.replace(h,d):t},e.arrayReplaceAt=function(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))},e.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},e.isWhiteSpace=function(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},e.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},e.isPunctChar=function(t){return m.test(t)},e.escapeRE=function(t){return t.replace(b,"\\$&")},e.normalizeReference=function(t){return t.trim().replace(/\s+/g," ").toUpperCase()}},function(t,e,n){var r=n(73),i=n(475),o=n(476),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(48).Symbol;t.exports=r},function(t,e,n){var r=n(42),i=n(166),o=n(527),s=n(530);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e,n){var r=n(167);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.curry1=o,e.curry2=s,e.curry3=a,e.curry4=c,e.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?t.length:arguments[1];return[t,o,s,a,c][e](t)};var r=e._="@@updeep/placeholder";function i(t,e){var n=t.length;for(n>e&&(n=e);t[n-1]===r;)n--;return n}function o(t){return function e(n){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var a=o[0],c=o[1],u=i(arguments);return u>=1?t(n,a,c):e}}function s(t){return function e(n,s){for(var a=arguments.length,c=Array(a>2?a-2:0),u=2;u<a;u++)c[u-2]=arguments[u];var l=c[0],f=c[1],h=i(arguments,2);if(s===r||l===r||f===r)throw new Error("Can only use placeholder on first argument of this function.");return h>=2?n===r?o((function(e,n,r){return t(e,s,n,r)})):t(n,s,l,f):1===h?o((function(e,r,i){return t(n,e,r,i)})):e}}function a(t){return function e(n,a,c){for(var u=arguments.length,l=Array(u>3?u-3:0),f=3;f<u;f++)l[f-3]=arguments[f];var h=l[0],p=l[1],d=i(arguments,3);if(c===r||h===r||p===r)throw new Error("Can only use placeholder on first or second argument of this function.");return d>=3?n===r?a===r?s((function(e,n,r,i){return t(e,n,c,r,i)})):o((function(e,n,r){return t(e,a,c,n,r)})):a===r?o((function(e,r,i){return t(n,e,c,r,i)})):t(n,a,c,h,p):2===d?n===r?s((function(e,n,r,i){return t(e,a,n,r,i)})):o((function(e,r,i){return t(n,a,e,r,i)})):1===d?s((function(e,r,i,o){return t(n,e,r,i,o)})):e}}function c(t){return function e(n,c,u,l){for(var f=arguments.length,h=Array(f>4?f-4:0),p=4;p<f;p++)h[p-4]=arguments[p];var d=h[0],b=h[1],m=i(arguments,4);if(l===r||d===r||b===r)throw new Error("Can only use placeholder on first, second or third argument of this function.");return m>=4?n===r?c===r?u===r?a((function(e,n,r,i,o){return t(e,n,r,l,i,o)})):s((function(e,n,r,i){return t(e,n,u,l,r,i)})):u===r?s((function(e,n,r,i){return t(e,c,n,l,r,i)})):o((function(e,n,r){return t(e,c,u,l,n,r)})):c===r?u===r?s((function(e,r,i,o){return t(n,e,r,l,i,o)})):o((function(e,r,i){return t(n,e,u,l,r,i)})):u===r?o((function(e,r,i){return t(n,c,e,l,r,i)})):t(n,c,u,l,d,b):3===m?n===r?c===r?a((function(e,n,r,i,o){return t(e,n,u,r,i,o)})):s((function(e,n,r,i){return t(e,c,u,n,r,i)})):c===r?s((function(e,r,i,o){return t(n,e,u,r,i,o)})):o((function(e,r,i){return t(n,c,u,e,r,i)})):2===m?n===r?a((function(e,n,r,i,o){return t(e,c,n,r,i,o)})):s((function(e,r,i,o){return t(n,c,e,r,i,o)})):1===m?a((function(e,r,i,o,s){return t(n,e,r,i,o,s)})):e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?t.length:arguments[1];return(0,r.default)((function(){return(0,i.default)(t.apply(void 0,arguments))}),e)};var r=o(n(76)),i=o(n(151));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";(function(e,r){var i=65536,o=4294967295;var s=n(28).Buffer,a=e.crypto||e.msCrypto;a&&a.getRandomValues?t.exports=function(t,e){if(t>o)throw new RangeError("requested too many random bytes");var n=s.allocUnsafe(t);if(t>0)if(t>i)for(var c=0;c<t;c+=i)a.getRandomValues(n.slice(c,c+i));else a.getRandomValues(n);if("function"==typeof e)return r.nextTick((function(){e(null,n)}));return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(31),n(36))},function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,s,a;if("string"==typeof e&&(i="not ",e.substr(!s||s<0?0:+s,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var c=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(c," ").concat(r," ").concat(o(e,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},function(t,e,n){"use strict";(function(e){var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=u;var i=n(263),o=n(267);n(27)(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||e.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,n(36))},function(t,e,n){var r=n(28).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var c=s%i,u=Math.min(o-a,i-c),l=0;l<u;l++)n[c+l]=t[a+l];a+=u,(s+=u)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return m})),n.d(e,"g",(function(){return v})),n.d(e,"f",(function(){return g})),n.d(e,"h",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"c",(function(){return S})),n.d(e,"i",(function(){return x}));var r,i=n(30),o=n.n(i);!function(t){t[t.Missed=-1]="Missed",t[t.Unjudged=0]="Unjudged",t[t.Meticulous=1]="Meticulous",t[t.Precise=2]="Precise",t[t.Good=3]="Good",t[t.Offbeat=4]="Offbeat"}(r||(r={}));const s=r.Unjudged,a=r.Missed,c=[{value:1,timegate:.02,endTimegate:.04},{value:2,timegate:.05,endTimegate:.1},{value:3,timegate:.1,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],u=[{value:1,timegate:.021,endTimegate:.042},{value:2,timegate:.06,endTimegate:.12},{value:3,timegate:.12,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],l=[{value:1,timegate:.022,endTimegate:.044},{value:2,timegate:.07,endTimegate:.14},{value:3,timegate:.14,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],f=[{value:1,timegate:.023,endTimegate:.046},{value:2,timegate:.08,endTimegate:.16},{value:3,timegate:.16,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}],h=[{value:1,timegate:.024,endTimegate:.048},{value:2,timegate:.1,endTimegate:.18},{value:3,timegate:.18,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}];class p{constructor(t){this.timegates=t}getTimegates(t,e){return this.timegates}}class d{getTimegates(t,e){return!e||e<100?h:c}}const b=new p(c);function m(t,{tutorial:e=!1}){const n=t.songInfo,r=n.difficulty>=5;return e?new d:r?b:1===n.level||2===n.level?new p(h):3===n.level?new p(f):4===n.level?new p(l):5===n.level?new p(u):b}function y(t){return function(e,n,r=b){const i=r.getTimegates(e,n);let o=Math.abs(e-n);for(let e=0;e<i.length;e++)if(o<t(i[e]))return i[e].value;return e<n?s:a}}const v=y((t=>t.timegate)),g=y((t=>t.endTimegate));function _(t,e=b){return o.a.find(e.getTimegates(null,null),{value:t}).timegate}function w(t){return t>=4}function S(t){return t===a||w(t)}function x(t){return 1===t?100:2===t?80:3===t?50:0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c}));var r=n(219),i=n.n(r);let o=t=>e=>null!==e.progress?t(e):"",s=o((t=>i()(t.current)+" / "+i()(t.total))),a=o((t=>(t.current/t.total*100).toFixed(1)+"%")),c=o((t=>t.extra+""))},,function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},,function(t,e,n){(function(t,r){var i;(function(){var o=Array.prototype.slice,s={toString:function(){return"Bacon"},version:"0.7.95"},a=(null!=t?t:this).Error,c=function(){},u=function(t,e){return t},l=function(t,e){if(!e)throw new a(t)},f=function(t){if((null!=t?t._isObservable:void 0)&&!(null!=t?t._isProperty:void 0))throw new a("Observable is not a Property : "+t)},h=function(t){return l("not a function : "+t,g.isFunction(t))},p=Array.isArray||function(t){return t instanceof Array},d=function(t){return t&&t._isObservable},b=function(t){return l("no arguments supported",0===t.length)},m=function(t){for(var e=arguments.length,n=1;1<e?n<e:n>e;1<e?n++:n--)for(var r in arguments[n])t[r]=arguments[n][r];return t},y=function(t,e){var n={}.hasOwnProperty,r=function(){};for(var i in r.prototype=e.prototype,t.prototype=new r,e)n.call(e,i)&&(t[i]=e[i]);return t},v=function(t){return"undefined"!=typeof Symbol&&Symbol[t]?Symbol[t]:"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol[t]=Symbol.for(t):"@@"+t},g={indexOf:Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},indexWhere:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,e){for(var n,r=[],i=0;i<e.length;i++)t(n=e[i])&&r.push(n);return r},map:function(t,e){return function(){for(var n,r=[],i=0;i<e.length;i++)n=e[i],r.push(t(n));return r}()},each:function(t,e){for(var n in t){if(Object.prototype.hasOwnProperty.call(t,n))e(n,t[n])}},toArray:function(t){return p(t)?t:[t]},contains:function(t,e){return-1!==g.indexOf(t,e)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?g.id:arguments[1],n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0},any:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?g.id:arguments[1],n=0;n<t.length;n++)if(e(t[n]))return!0;return!1},without:function(t,e){return g.filter((function(e){return e!==t}),e)},remove:function(t,e){var n=g.indexOf(e,t);if(n>=0)return e.splice(n,1)},fold:function(t,e,n){for(var r=0;r<t.length;r++)e=n(e,t[r]);return e},flatMap:function(t,e){return g.fold(e,[],(function(e,n){return e.concat(t(n))}))},cached:function(t){var e=q;return function(){return(null!=e?e._isNone:void 0)&&(e=t(),t=void 0),e}},bind:function(t,e){return function(){return t.apply(e,arguments)}},isFunction:function(t){return"function"==typeof t},toString:function(t){var e,n,r={}.hasOwnProperty;try{return _++,null==t?"undefined":g.isFunction(t)?"function":p(t)?_>5?"[..]":"["+g.map(g.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"==typeof t?_>5?"{..}":"{"+function(){var i=[];for(e in t)r.call(t,e)&&(n=function(){var n;try{return t[e]}catch(n){return n}}(),i.push(g.toString(e)+":"+g.toString(n)));return i}()+"}":t}finally{_--}}},_=0;s._=g;var w=s.UpdateBarrier=function(){var t,e=[],n={},r=[],i=0,o={};function a(t){t<=i||(r[t-1]||(r[t-1]=[[],0]),i=t)}var c=function(e,n){if(!t&&!r.length)return n();a(1);for(var o=0;o<i-1&&!u(e,r[o][0]);)o++;r[o][0].push([e,n]),t||l()};function u(t,e){for(var n=0;n<e.length;n++)if(e[n][0].id==t.id)return!0;return!1}function l(){var t=i;if(t)for(;i>=t;){var e=r[i-1];if(!e)throw new G("Unexpected stack top: "+e);var n=e[0],o=e[1];if(!(o<n.length)){e[0]=[],e[1]=0;break}var s=n[o],c=(s[0],s[1]);e[1]++,a(i+1);var u=!1;try{for(c(),u=!0;i>t&&0==r[i-1][0].length;)i--}finally{u||(r=[],i=0)}}}var f=function(t,r){var i=e[t],o=i.id,s=n[o];e.splice(t,1),delete n[o],r&&e.length>0&&h(i);for(var a=0;a<s.length;a++)(0,s[a])()},h=function(t){if(!o[t.id]){for(var r,i=t.internalDeps(),s=0;s<i.length;s++)if(r=i[s],h(r),n[r.id]){var a=g.indexOf(e,r);f(a,!1)}o[t.id]=!0}};return{whenDoneWith:function(r,i){if(t){var o=n[r.id];return null==o?(o=n[r.id]=[i],e.push(r)):o.push(i)}return i()},hasWaiters:function(){return e.length>0},inTransaction:function(n,r,i,s){if(t)return i.apply(r,s);t=n;try{var a=i.apply(r,s);!function(){for(;e.length>0;)f(0,!0);o={}}()}finally{t=void 0,l()}return a},currentEventId:function(){return t?t.id:void 0},wrappedSubscribe:function(t,e){var n=!1,r=!1,i=function(){return r=!0},o=function(){return n=!0,i()};return i=t.dispatcher.subscribe((function(r){return c(t,(function(){if(!n&&e(r)===s.noMore)return o()}))})),r&&i(),o},afterTransaction:c}}();function S(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.obs=t,this.sync=e,this.lazy=n,this.queue=[]}function x(){S.apply(this,arguments)}function k(t){S.call(this,t,!0)}function E(t,e,n){this.context=t,this.method=e,this.args=n}m(S.prototype,{_isSource:!0,subscribe:function(t){return this.obs.dispatcher.subscribe(t)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.lazy?{value:g.always(this.queue[0])}:this.queue[0]},push:function(t){return this.queue=[t],[t]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),y(x,S),m(x.prototype,{consume:function(){return this.queue.shift()},push:function(t){return this.queue.push(t)},mayHave:function(t){return!this.ended||this.queue.length>=t},hasAtLeast:function(t){return this.queue.length>=t},flatten:!1}),y(k,S),m(k.prototype,{consume:function(){var t=this.queue;return this.queue=[],{value:function(){return t}}},push:function(t){return this.queue.push(t.value())},hasAtLeast:function(){return!0}}),S.isTrigger=function(t){return(null!=t?t._isSource:void 0)?t.sync:null!=t?t._isEventStream:void 0},S.fromObservable=function(t){return(null!=t?t._isSource:void 0)?t:(null!=t?t._isProperty:void 0)?new S(t,!1):new x(t,!0)},m(E.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=M([this.context].concat(this.args))),this.cached},toString:function(){return g.toString(this.context)+"."+g.toString(this.method)+"("+g.map(g.toString,this.args)+")"}});var O=function(t,e){var n=t||e;if(n&&n._isDesc)return t||e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new E(t,e,i)},A=function(t,e){return e.desc=t,e},M=function(t){return p(t)?g.flatMap(M,t):d(t)?[t]:(null!=t?t._isSource:void 0)?[t.obs]:[]};s.Desc=E,s.Desc.empty=new s.Desc("","",[]);var C=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if("object"==typeof e&&r.length){var o=e,s=r[0];e=function(){return o[s].apply(o,arguments)},r=r.slice(1)}return t.apply(void 0,[e].concat(r))}},j=function(t){return t=Array.prototype.slice.call(t),F.apply(void 0,t)},T=function(t,e){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(void 0,e.concat(r))}},I=function(t,e){var n=t.slice(1).split("."),r=g.map(function(t){return function(e){return function(n){if(null!=n){var r=n[e];return g.isFunction(r)?r.apply(n,t):r}}}}(e),n);return function(t){for(var e=0;e<r.length;e++)t=(0,r[e])(t);return t}},P=function(t){return"string"==typeof t&&t.length>1&&"."===t.charAt(0)},F=C((function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return g.isFunction(t)?n.length?T(t,n):t:P(t)?I(t,n):g.always(t)})),R=function(t,e){return F.apply(void 0,[t].concat(e))},D=function(t,e,n,r){if(null!=e?e._isProperty:void 0){var i=e.sampledBy(t,(function(t,e){return[t,e]}));return r.call(i,(function(t){var e=t[0];t[1];return e})).map((function(t){t[0];return t[1]}))}return e=R(e,n),r.call(t,e)},B=function(t){if(g.isFunction(t))return t;if(P(t)){var e=N(t);return function(t,n){return t[e](n)}}throw new a("not a function or a field key: "+t)},N=function(t){return t.slice(1)};function L(t){this.value=t}m(L.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(t){return t(this.value)?new L(this.value):q},map:function(t){return new L(t(this.value))},forEach:function(t){return t(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var q={_isNone:!0,getOrElse:function(t){return t},filter:function(){return q},map:function(){return q},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},U=function(t){return(null!=t?t._isSome:void 0)||(null!=t?t._isNone:void 0)?t:new L(t)};s.noMore="<no-more>",s.more="<more>";var z=0;function V(){this.id=++z}function H(t,e){if(!(this instanceof H))return new H(t,e);V.call(this),!e&&g.isFunction(t)||(null!=t?t._isNext:void 0)?(this.valueF=t,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=t)}function W(t,e){if(!(this instanceof W))return new W(t,e);H.call(this,t,e)}function K(){if(!(this instanceof K))return new K;V.call(this)}function G(t){if(!(this instanceof G))return new G(t);this.error=t,V.call(this)}V.prototype._isEvent=!0,V.prototype.isEvent=function(){return!0},V.prototype.isEnd=function(){return!1},V.prototype.isInitial=function(){return!1},V.prototype.isNext=function(){return!1},V.prototype.isError=function(){return!1},V.prototype.hasValue=function(){return!1},V.prototype.filter=function(){return!0},V.prototype.inspect=function(){return this.toString()},V.prototype.log=function(){return this.toString()},y(H,V),H.prototype.isNext=function(){return!0},H.prototype.hasValue=function(){return!0},H.prototype.value=function(){var t;return(null!=(t=this.valueF)?t._isNext:void 0)?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},H.prototype.fmap=function(t){var e,n;return this.valueInternal?(n=this.valueInternal,this.apply((function(){return t(n)}))):(e=this,this.apply((function(){return t(e.value())})))},H.prototype.apply=function(t){return new H(t)},H.prototype.filter=function(t){return t(this.value())},H.prototype.toString=function(){return g.toString(this.value())},H.prototype.log=function(){return this.value()},H.prototype._isNext=!0,y(W,H),W.prototype._isInitial=!0,W.prototype.isInitial=function(){return!0},W.prototype.isNext=function(){return!1},W.prototype.apply=function(t){return new W(t)},W.prototype.toNext=function(){return new H(this)},y(K,V),K.prototype.isEnd=function(){return!0},K.prototype.fmap=function(){return this},K.prototype.apply=function(){return this},K.prototype.toString=function(){return"<end>"},y(G,V),G.prototype.isError=function(){return!0},G.prototype.fmap=function(){return this},G.prototype.apply=function(){return this},G.prototype.toString=function(){return"<error> "+g.toString(this.error)},s.Event=V,s.Initial=W,s.Next=H,s.End=K,s.Error=G;var $=function(t){return new W(t,!0)},J=function(t){return new H(t,!0)},Y=function(){return new K},X=function(t){return t&&t._isEvent?t:J(t)},Q=0,Z=function(){};function tt(t){this.desc=t,this.id=++Q,this.initialDesc=this.desc}function et(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.unsubscribe=g.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var e,n=0;n<t.length;n++)e=t[n],this.add(e)}function nt(t,e){this._subscribe=t,this._handleEvent=e,this.subscribe=g.bind(this.subscribe,this),this.handleEvent=g.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function rt(t,e,n){if(!(this instanceof rt))return new rt(t,e,n);g.isFunction(t)&&(n=e,e=t,t=E.empty),tt.call(this,t),h(e),this.dispatcher=new nt(e,n),Z(this)}m(tt.prototype,{_isObservable:!0,subscribe:function(t){return w.wrappedSubscribe(this,t)},subscribeInternal:function(t){return this.dispatcher.subscribe(t)},onValue:function(){var t=j(arguments);return this.subscribe((function(e){if(e.hasValue())return t(e.value())}))},onValues:function(t){return this.onValue((function(e){return t.apply(void 0,e)}))},onError:function(){var t=j(arguments);return this.subscribe((function(e){if(e.isError())return t(e.error)}))},onEnd:function(){var t=j(arguments);return this.subscribe((function(e){if(e.isEnd())return t()}))},name:function(t){return this._name=t,this},withDescription:function(){return this.desc=O.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},deps:function(){return this.desc.deps()},internalDeps:function(){return this.initialDesc.deps()}}),tt.prototype.assign=tt.prototype.onValue,tt.prototype.forEach=tt.prototype.onValue,tt.prototype.inspect=tt.prototype.toString,s.Observable=tt,m(et.prototype,{add:function(t){var e=this;if(!this.unsubscribed){var n=!1,r=c;this.starting.push(t);return r=t(this.unsubscribe,(function(){if(!e.unsubscribed)return n=!0,e.remove(r),g.remove(t,e.starting)})),this.unsubscribed||n?r():this.subscriptions.push(r),g.remove(t,this.starting),r}},remove:function(t){if(!this.unsubscribed)return void 0!==g.remove(t,this.subscriptions)?t():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var t=this.subscriptions,e=0;e<t.length;e++)t[e]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}}),s.CompositeUnsubscribe=et,nt.prototype.hasSubscribers=function(){return this.subscriptions.length>0},nt.prototype.removeSub=function(t){return this.subscriptions=g.without(t,this.subscriptions),this.subscriptions},nt.prototype.push=function(t){return t.isEnd()&&(this.ended=!0),w.inTransaction(t,this,this.pushIt,[t])},nt.prototype.pushToSubscriptions=function(t){try{for(var e=this.subscriptions,n=e.length,r=0;r<n;r++){var i=e[r];(i.sink(t)===s.noMore||t.isEnd())&&this.removeSub(i)}return!0}catch(t){throw this.pushing=!1,this.queue=[],t}},nt.prototype.pushIt=function(t){if(this.pushing)return this.queue.push(t),s.more;if(t!==this.prevError){for(t.isError()&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;this.queue.length;)t=this.queue.shift(),this.push(t);return this.hasSubscribers()?s.more:(this.unsubscribeFromSource(),s.noMore)}},nt.prototype.handleEvent=function(t){return this._handleEvent?this._handleEvent(t):this.push(t)},nt.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},nt.prototype.subscribe=function(t){var e,n;return this.ended?(t(Y()),c):(h(t),e={sink:t},this.subscriptions.push(e),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),h(this.unsubSrc)),n=this,function(){if(n.removeSub(e),!n.hasSubscribers())return n.unsubscribeFromSource()})},s.Dispatcher=nt,y(rt,tt),m(rt.prototype,{_isEventStream:!0,toProperty:function(t){var e=0===arguments.length?q:U((function(){return t})),n=this.dispatcher,r=new s.Desc(this,"toProperty",[t]);return new at(r,(function(t){var r=!1,i=!1,o=c,a=s.more,u=function(){if(!r)return e.forEach((function(e){if(r=!0,(a=t(new W(e)))===s.noMore)return o(),o=c,c}))};return o=n.subscribe((function(n){return n.hasValue()?n.isInitial()&&!i?(e=new L((function(){return n.value()})),s.more):(n.isInitial()||u(),r=!0,e=new L(n),t(n)):(n.isEnd()&&(a=u()),a!==s.noMore?t(n):void 0)})),i=!0,u(),o}))},toEventStream:function(){return this},withHandler:function(t){return new rt(new s.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)}}),s.EventStream=rt,s.never=function(){return new rt(O(s,"never"),(function(t){return t(Y()),c}))},s.when=function(){if(0===arguments.length)return s.never();var t=arguments.length,e="when: expecting arguments in the form (Observable+,function)+";l(e,t%2==0);for(var n=[],r=[],i=0,o=[];i<t;){o[i]=arguments[i],o[i+1]=arguments[i+1];for(var a,c=g.toArray(arguments[i]),u=ot(arguments[i+1]),f={f:u,ixs:[]},h=!1,p=0;p<c.length;p++){a=c[p];var d=g.indexOf(n,a);h||(h=S.isTrigger(a)),d<0&&(n.push(a),d=n.length-1);for(var b,m=0;m<f.ixs.length;m++)(b=f.ixs[m]).index===d&&b.count++;f.ixs.push({index:d,count:1})}l("At least one EventStream required",h||!c.length),c.length>0&&r.push(f),i+=2}if(!n.length)return s.never();n=g.map(S.fromObservable,n);var y=g.any(n,(function(t){return t.flatten}))&&it(g.map((function(t){return t.obs}),n)),v=new s.Desc(s,"when",o),_=new rt(v,(function(t){var e=[],i=!1,o=function(t){for(var e,r=0;r<t.ixs.length;r++)if(e=t.ixs[r],!n[e.index].hasAtLeast(e.count))return!1;return!0},a=function(t){return!t.sync||t.ended},c=function(t){for(var e,r=0;r<t.ixs.length;r++)if(e=t.ixs[r],!n[e.index].mayHave(e.count))return!0},u=function(t){return!t.source.flatten},l=function(l){return function(f){var h=function(){return w.whenDoneWith(_,d)},p=function(){if(!(e.length>0))return s.more;for(var i,a=s.more,c=e.pop(),l=0;l<r.length;l++)if(i=r[l],o(i)){var f=function(){for(var t,e=[],r=0;r<i.ixs.length;r++)t=i.ixs[r],e.push(n[t.index].consume());return e}();return a=t(c.e.apply((function(){var t,e=function(){for(var t,e=[],n=0;n<f.length;n++)t=f[n],e.push(t.value());return e}();return(t=i).f.apply(t,e)}))),e.length&&(e=g.filter(u,e)),a===s.noMore?a:p()}},d=function(){var e=p();return i&&(g.all(n,a)||g.all(r,c))&&(e=s.noMore,t(Y())),e===s.noMore&&f(),e};return l.subscribe((function(n){if(n.isEnd())i=!0,l.markEnded(),h();else if(n.isError())var r=t(n);else l.push(n),l.sync&&(e.push({source:l,e:n}),y||w.hasWaiters()?h():d());return r===s.noMore&&f(),r||s.more}))}};return new s.CompositeUnsubscribe(function(){for(var t,e=[],r=0;r<n.length;r++)t=n[r],e.push(l(t));return e}()).unsubscribe}));return _};var it=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=function(t){if(g.contains(e,t))return!0;var r=t.internalDeps();return r.length?(e.push(t),g.any(r,n)):(e.push(t),!1)};return g.any(t,n)},ot=function(t){return g.isFunction(t)?t:g.always(t)};function st(t,e,n){nt.call(this,e,n),this.property=t,this.subscribe=g.bind(this.subscribe,this),this.current=q,this.currentValueRootId=void 0,this.propertyEnded=!1}function at(t,e,n){tt.call(this,t),h(e),this.dispatcher=new st(this,e,n),Z(this)}s.groupSimultaneous=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];1===e.length&&p(e[0])&&(e=e[0]);var r=function(){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push(new k(t));return n}();return A(new s.Desc(s,"groupSimultaneous",e),s.when(r,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e})))},y(st,nt),m(st.prototype,{push:function(t){return t.isEnd()&&(this.propertyEnded=!0),t.hasValue()&&(this.current=new L(t),this.currentValueRootId=w.currentEventId()),nt.prototype.push.call(this,t)},maybeSubSource:function(t,e){return e===s.noMore?c:this.propertyEnded?(t(Y()),c):nt.prototype.subscribe.call(this,t)},subscribe:function(t){var e=this,n=s.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var r=w.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&r&&r!==i?(w.whenDoneWith(this.property,(function(){if(e.currentValueRootId===i)return t($(e.current.get().value()))})),this.maybeSubSource(t,n)):(w.inTransaction(void 0,this,(function(){return n=t($(this.current.get().value()))}),[]),this.maybeSubSource(t,n))}return this.maybeSubSource(t,n)}}),y(at,tt),m(at.prototype,{_isProperty:!0,changes:function(){var t=this;return new rt(new s.Desc(this,"changes",[]),(function(e){return t.dispatcher.subscribe((function(t){if(!t.isInitial())return e(t)}))}))},withHandler:function(t){return new at(new s.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)},toProperty:function(){return b(arguments),this},toEventStream:function(){var t=this;return new rt(new s.Desc(this,"toEventStream",[]),(function(e){return t.dispatcher.subscribe((function(t){return t.isInitial()&&(t=t.toNext()),e(t)}))}))}}),s.Property=at,s.constant=function(t){return new at(new s.Desc(s,"constant",[t]),(function(e){return e($(t)),e(Y()),c}))},s.fromBinder=function(t){var e=arguments.length<=1||void 0===arguments[1]?g.id:arguments[1],n=new s.Desc(s,"fromBinder",[t,e]);return new rt(n,(function(n){var r=!1,i=!1,o=function(){if(!r)return null!=a?(a(),r=!0):i=!0},a=t((function(){for(var t,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var c=e.apply(this,i);p(c)&&(null!=(t=g.last(c))?t._isEvent:void 0)||(c=[c]);for(var u,l=s.more,f=0;f<c.length;f++)if(u=c[f],(l=n(u=X(u)))===s.noMore||u.isEnd())return o(),l;return l}));return i&&o(),o}))},s.Observable.prototype.map=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return D(this,t,n,(function(t){return A(new s.Desc(this,"map",[t]),this.withHandler((function(e){return this.push(e.fmap(t))})))}))};var ct=function(t){return p(t[0])?t[0]:Array.prototype.slice.call(t)},ut=function(t){return g.isFunction(t[0])?[ct(Array.prototype.slice.call(t,1)),t[0]]:[ct(Array.prototype.slice.call(t,0,t.length-1)),g.last(t)]};s.combineAsArray=function(){var t=ct(arguments);if(t.length){for(var e=[],n=0;n<t.length;n++){var r=d(t[n])?t[n]:s.constant(t[n]);e.push(new S(r,!0))}return A(new s.Desc(s,"combineAsArray",t),s.when(e,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e})).toProperty())}return s.constant([])},s.onValues=function(){return s.combineAsArray(Array.prototype.slice.call(arguments,0,arguments.length-1)).onValues(arguments[arguments.length-1])},s.combineWith=function(){var t=ut(arguments),e=t[0],n=t[1],r=new s.Desc(s,"combineWith",[n].concat(e));return A(r,s.combineAsArray(e).map((function(t){return n.apply(void 0,t)})))},s.Observable.prototype.combine=function(t,e){var n=B(e),r=new s.Desc(this,"combine",[t,e]);return A(r,s.combineAsArray(this,t).map((function(t){return n(t[0],t[1])})))},s.Observable.prototype.withStateMachine=function(t,e){var n=t,r=new s.Desc(this,"withStateMachine",[t,e]);return A(r,this.withHandler((function(t){var r=e(n,t),i=r[0],o=r[1];n=i;for(var a,c=s.more,u=0;u<o.length;u++)if(a=o[u],(c=this.push(a))===s.noMore)return c;return c})))};var lt=function(t,e){return t===e},ft=function(t){return null!=t&&t._isNone};s.Observable.prototype.skipDuplicates=function(){var t=arguments.length<=0||void 0===arguments[0]?lt:arguments[0],e=new s.Desc(this,"skipDuplicates",[]);return A(e,this.withStateMachine(q,(function(e,n){return n.hasValue()?n.isInitial()||ft(e)||!t(e.get(),n.value())?[new L(n.value()),[n]]:[e,[]]:[e,[n]]})))},s.Observable.prototype.awaiting=function(t){var e=new s.Desc(this,"awaiting",[t]);return A(e,s.groupSimultaneous(this,t).map((function(t){return 0===t[1].length})).toProperty(!1).skipDuplicates())},s.Observable.prototype.not=function(){return A(new s.Desc(this,"not",[]),this.map((function(t){return!t})))},s.Property.prototype.and=function(t){return A(new s.Desc(this,"and",[t]),this.combine(t,(function(t,e){return t&&e})))},s.Property.prototype.or=function(t){return A(new s.Desc(this,"or",[t]),this.combine(t,(function(t,e){return t||e})))},s.scheduler={setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},now:function(){return(new Date).getTime()}},s.EventStream.prototype.bufferWithTime=function(t){return A(new s.Desc(this,"bufferWithTime",[t]),this.bufferWithTimeOrCount(t,Number.MAX_VALUE))},s.EventStream.prototype.bufferWithCount=function(t){return A(new s.Desc(this,"bufferWithCount",[t]),this.bufferWithTimeOrCount(void 0,t))},s.EventStream.prototype.bufferWithTimeOrCount=function(t,e){var n=function(n){return n.values.length===e?n.flush():void 0!==t?n.schedule():void 0},r=new s.Desc(this,"bufferWithTimeOrCount",[t,e]);return A(r,this.buffer(t,n,n))},s.EventStream.prototype.buffer=function(t){var e=arguments.length<=1||void 0===arguments[1]?c:arguments[1],n=arguments.length<=2||void 0===arguments[2]?c:arguments[2],r={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(s.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var t=this.values;this.values=[];var e=this.push(J(t));if(null!=this.end)return this.push(this.end);if(e!==s.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var e=this;if(!this.scheduled)return this.scheduled=t((function(){return e.flush()}))}},i=s.more;if(!g.isFunction(t)){var o=t;t=function(t){return s.scheduler.setTimeout(t,o)}}return A(new s.Desc(this,"buffer",[]),this.withHandler((function(t){var n=this;return r.push=function(t){return n.push(t)},t.isError()?i=this.push(t):t.isEnd()?(r.end=t,r.scheduled||r.flush()):(r.values.push(t.value()),e(r)),i})))},s.Observable.prototype.filter=function(t){f(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return D(this,t,n,(function(t){return A(new s.Desc(this,"filter",[t]),this.withHandler((function(e){return e.filter(t)?this.push(e):s.more})))}))},s.once=function(t){return new rt(new E(s,"once",[t]),(function(e){return e(X(t)),e(Y()),c}))},s.EventStream.prototype.concat=function(t){var e=this;return new rt(new s.Desc(e,"concat",[t]),(function(n){var r=c,i=e.dispatcher.subscribe((function(e){return e.isEnd()?r=t.toEventStream().dispatcher.subscribe(n):n(e)}));return function(){return i(),r()}}))},s.Property.prototype.concat=function(t){return ht(this,this.changes().concat(t))},s.concatAll=function(){var t=ct(arguments);return t.length?A(new s.Desc(s,"concatAll",t),g.fold(g.tail(t),g.head(t).toEventStream(),(function(t,e){return t.concat(e)}))):s.never()};var ht=function(t,e){var n=new rt(O(t,"justInitValue"),(function(e){var r=void 0,i=t.dispatcher.subscribe((function(t){return t.isEnd()||(r=t),s.noMore}));return w.whenDoneWith(n,(function(){return null!=r&&e(r),e(Y())})),i}));return n.concat(e).toProperty()};s.Observable.prototype.flatMap=function(){return bt(this,pt(arguments))},s.Observable.prototype.flatMapFirst=function(){return bt(this,pt(arguments),!0)};var pt=function(t){return 1===t.length&&d(t[0])?g.always(t[0]):j(t)},dt=function(t){return d(t)?t:s.once(t)},bt=function(t,e,n,r){var i=[t],o=[],a=new rt(new s.Desc(t,"flatMap"+(n?"First":""),[e]),(function(i){var a=new et,c=[],u=function(t){var n=dt(e(t.value()));return o.push(n),a.add((function(t,e){return n.dispatcher.subscribe((function(r){if(r.isEnd())return g.remove(n,o),l(),f(e),s.noMore;(null!=r?r._isInitial:void 0)&&(r=r.toNext());var a=i(r);return a===s.noMore&&t(),a}))}))},l=function(){var t=c.shift();if(t)return u(t)},f=function(t){if(t(),a.empty())return i(Y())};return a.add((function(e,o){return t.dispatcher.subscribe((function(t){return t.isEnd()?f(o):t.isError()?i(t):n&&a.count()>1?s.more:a.unsubscribed?s.noMore:r&&a.count()>r?c.push(t):u(t)}))})),a.unsubscribe}));return a.internalDeps=function(){return o.length?i.concat(o):i},a};function mt(){if(!(this instanceof mt))return new mt;this.unsubAll=g.bind(this.unsubAll,this),this.subscribeAll=g.bind(this.subscribeAll,this),this.guardedSink=g.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,rt.call(this,new s.Desc(s,"Bus",[]),this.subscribeAll)}s.Observable.prototype.flatMapWithConcurrencyLimit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=new s.Desc(this,"flatMapWithConcurrencyLimit",[t].concat(n));return A(i,bt(this,pt(n),!1,t))},s.Observable.prototype.flatMapConcat=function(){var t=new s.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0));return A(t,this.flatMapWithConcurrencyLimit.apply(this,[1].concat(o.call(arguments))))},s.later=function(t,e){return A(new s.Desc(s,"later",[t,e]),s.fromBinder((function(n){var r=s.scheduler.setTimeout((function(){return n([e,Y()])}),t);return function(){return s.scheduler.clearTimeout(r)}})))},s.Observable.prototype.bufferingThrottle=function(t){var e=new s.Desc(this,"bufferingThrottle",[t]);return A(e,this.flatMapConcat((function(e){return s.once(e).concat(s.later(t).filter(!1))})))},s.Property.prototype.bufferingThrottle=function(){return s.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},y(mt,rt),m(mt.prototype,{unsubAll:function(){for(var t,e=this.subscriptions,n=0;n<e.length;n++)"function"==typeof(t=e[n]).unsub&&t.unsub()},subscribeAll:function(t){if(this.ended)t(Y());else{this.sink=t;for(var e,n=this.subscriptions.slice(0),r=0;r<n.length;r++)e=n[r],this.subscribeInput(e)}return this.unsubAll},guardedSink:function(t){var e=this;return function(n){return n.isEnd()?(e.unsubscribeInput(t),s.noMore):e.sink(n)}},subscribeInput:function(t){return t.unsub=t.input.dispatcher.subscribe(this.guardedSink(t.input)),t.unsub},unsubscribeInput:function(t){for(var e,n=this.subscriptions,r=0;r<n.length;r++)if((e=n[r]).input===t)return"function"==typeof e.unsub&&e.unsub(),void this.subscriptions.splice(r,1)},plug:function(t){var e=this;if(function(t){if(!(null!=t?t._isObservable:void 0))throw new a("not an Observable : "+t)}(t),!this.ended){var n={input:t};return this.subscriptions.push(n),void 0!==this.sink&&this.subscribeInput(n),function(){return e.unsubscribeInput(t)}}},end:function(){if(this.ended=!0,this.unsubAll(),"function"==typeof this.sink)return this.sink(Y())},push:function(t){if(!this.ended&&"function"==typeof this.sink){var e=!this.pushing;if(!e)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(t);this.pushing=!0;try{return this.sink(J(t))}finally{if(e&&this.pushQueue){for(var n=0;n<this.pushQueue.length;){t=this.pushQueue[n];this.sink(J(t)),n++}this.pushQueue=null}this.pushing=!1}}},error:function(t){if("function"==typeof this.sink)return this.sink(new G(t))}}),s.Bus=mt;var yt=function(t,e){return C((function(n){for(var r=T(e,[function(t,e){return n.apply(void 0,t.concat([e]))}]),i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return A(new s.Desc(s,t,[n].concat(o)),s.combineAsArray(o).flatMap(r))}))};s.fromCallback=yt("fromCallback",(function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return s.fromBinder((function(e){return R(t,n)(e),c}),(function(t){return[t,Y()]}))})),s.fromNodeCallback=yt("fromNodeCallback",(function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return s.fromBinder((function(e){return R(t,n)(e),c}),(function(t,e){return t?[new G(t),Y()]:[e,Y()]}))})),s.combineTemplate=function(t){function e(t,e,n){return(function(t){return t[t.length-1]}(t))[e]=n,n}function n(t){return p(t)?[]:{}}function r(t){if(d(t))return!0;if(t&&(t.constructor==Object||t.constructor==Array))for(var e in t){if(Object.prototype.hasOwnProperty.call(t,e))if(r(t[e]))return!0}}function i(t,i){if(d(i))c.push(i),a.push(function(t,n){return function(r,i){e(r,t,i[n])}}(t,c.length-1));else if(r(i)){a.push(function(t,r){return function(i){var o=n(r);e(i,t,o),i.push(o)}}(t,i)),o(i),a.push((function(t){t.pop()}))}else a.push(function(t,n){return function(r){e(r,t,n)}}(t,i))}function o(t){g.each(t,i)}var a=[],c=[],u=r(t)?(o(t),s.combineAsArray(c).map((function(e){for(var r=n(t),i=[r],o=0;o<a.length;o++)(0,a[o])(i,e);return r}))):s.constant(t);return A(new s.Desc(s,"combineTemplate",[t]),u)},s.Observable.prototype.mapEnd=function(){var t=j(arguments);return A(new s.Desc(this,"mapEnd",[t]),this.withHandler((function(e){return e.isEnd()?(this.push(J(t(e))),this.push(Y()),s.noMore):this.push(e)})))},s.Observable.prototype.skipErrors=function(){return A(new s.Desc(this,"skipErrors",[]),this.withHandler((function(t){return t.isError()?s.more:this.push(t)})))},s.EventStream.prototype.takeUntil=function(t){var e={};return A(new s.Desc(this,"takeUntil",[t]),s.groupSimultaneous(this.mapEnd(e),t.skipErrors()).withHandler((function(t){if(t.hasValue()){var n=t.value(),r=n[0];if(n[1].length)return this.push(Y());for(var i,o=s.more,a=0;a<r.length;a++)o=(i=r[a])===e?this.push(Y()):this.push(J(i));return o}return this.push(t)})))},s.Property.prototype.takeUntil=function(t){var e=this.changes().takeUntil(t);return A(new s.Desc(this,"takeUntil",[t]),ht(this,e))},s.Observable.prototype.flatMapLatest=function(){var t=pt(arguments),e=this.toEventStream();return A(new s.Desc(this,"flatMapLatest",[t]),e.flatMap((function(n){return dt(t(n)).takeUntil(e)})))},s.Property.prototype.delayChanges=function(t,e){return A(t,ht(this,e(this.changes())))},s.EventStream.prototype.delayChanges=function(t,e){return A(t,e(this))},s.Observable.prototype.delay=function(t){return this.delayChanges(new s.Desc(this,"delay",[t]),(function(e){return e.flatMap((function(e){return s.later(t,e)}))}))},s.Observable.prototype.debounce=function(t){return this.delayChanges(new s.Desc(this,"debounce",[t]),(function(e){return e.flatMapLatest((function(e){return s.later(t,e)}))}))},s.Observable.prototype.debounceImmediate=function(t){return this.delayChanges(new s.Desc(this,"debounceImmediate",[t]),(function(e){return e.flatMapFirst((function(e){return s.once(e).concat(s.later(t).filter(!1))}))}))},s.Observable.prototype.decode=function(t){return A(new s.Desc(this,"decode",[t]),this.combine(s.combineTemplate(t),(function(t,e){return e[t]})))},s.Observable.prototype.scan=function(t,e){var n,r=this;e=B(e);var i=U(t),o=!1;return n=new at(new s.Desc(this,"scan",[t,e]),(function(t){var a=!1,u=c,l=s.more,f=function(){if(!a)return i.forEach((function(e){if(a=o=!0,(l=t(new W((function(){return e}))))===s.noMore)return u(),u=c}))};return u=r.dispatcher.subscribe((function(n){if(n.hasValue()){if(o&&n.isInitial())return s.more;n.isInitial()||f(),a=o=!0;var r=i.getOrElse(void 0),c=e(r,n.value());return i=new L(c),t(n.apply((function(){return c})))}if(n.isEnd()&&(l=f()),l!==s.noMore)return t(n)})),w.whenDoneWith(n,f),u}))},s.Observable.prototype.diff=function(t,e){return e=B(e),A(new s.Desc(this,"diff",[t,e]),this.scan([t],(function(t,n){return[n,e(t[0],n)]})).filter((function(t){return 2===t.length})).map((function(t){return t[1]})))},s.Observable.prototype.doAction=function(){var t=j(arguments);return A(new s.Desc(this,"doAction",[t]),this.withHandler((function(e){return e.hasValue()&&t(e.value()),this.push(e)})))},s.Observable.prototype.doEnd=function(){var t=j(arguments);return A(new s.Desc(this,"doEnd",[t]),this.withHandler((function(e){return e.isEnd()&&t(),this.push(e)})))},s.Observable.prototype.doError=function(){var t=j(arguments);return A(new s.Desc(this,"doError",[t]),this.withHandler((function(e){return e.isError()&&t(e.error),this.push(e)})))},s.Observable.prototype.doLog=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return A(new s.Desc(this,"doLog",e),this.withHandler((function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,e.concat([t.log()])),this.push(t)})))},s.Observable.prototype.endOnError=function(t){null==t&&(t=!0);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return D(this,t,n,(function(t){return A(new s.Desc(this,"endOnError",[]),this.withHandler((function(e){return e.isError()&&t(e.error)?(this.push(e),this.push(Y())):this.push(e)})))}))},tt.prototype.errors=function(){return A(new s.Desc(this,"errors",[]),this.filter((function(){return!1})))},s.Observable.prototype.take=function(t){return t<=0?s.never():A(new s.Desc(this,"take",[t]),this.withHandler((function(e){return e.hasValue()?--t>0?this.push(e):(0===t&&this.push(e),this.push(Y()),s.noMore):this.push(e)})))},s.Observable.prototype.first=function(){return A(new s.Desc(this,"first",[]),this.take(1))},s.Observable.prototype.mapError=function(){var t=j(arguments);return A(new s.Desc(this,"mapError",[t]),this.withHandler((function(e){return e.isError()?this.push(J(t(e.error))):this.push(e)})))},s.Observable.prototype.flatMapError=function(t){var e=new s.Desc(this,"flatMapError",[t]);return A(e,this.mapError((function(t){return new G(t)})).flatMap((function(e){return e instanceof G?t(e.error):s.once(e)})))},s.EventStream.prototype.flatScan=function(t,e){var n=t;return this.flatMapConcat((function(t){return dt(e(n,t)).doAction((function(t){return n=t}))})).toProperty(t)},s.EventStream.prototype.sampledBy=function(t,e){return A(new s.Desc(this,"sampledBy",[t,e]),this.toProperty().sampledBy(t,e))},s.Property.prototype.sampledBy=function(t,e){var n=!1;null!=e?e=B(e):(n=!0,e=function(t){return t.value()});var r=new S(this,!1,n),i=new S(t,!0,n),o=s.when([r,i],e),a=t._isProperty?o.toProperty():o;return A(new s.Desc(this,"sampledBy",[t,e]),a)},s.Property.prototype.sample=function(t){return A(new s.Desc(this,"sample",[t]),this.sampledBy(s.interval(t,{})))},s.Observable.prototype.map=function(t){if(t&&t._isProperty)return t.sampledBy(this,u);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return D(this,t,n,(function(t){return A(new s.Desc(this,"map",[t]),this.withHandler((function(e){return this.push(e.fmap(t))})))}))},s.Observable.prototype.fold=function(t,e){return A(new s.Desc(this,"fold",[t,e]),this.scan(t,e).sampledBy(this.filter(!1).mapEnd().toProperty()))},tt.prototype.reduce=tt.prototype.fold;var vt=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]];function gt(t){return[t,Y()]}s.fromEventTarget=function(t,e,n){var r=function(t){for(var e,n=0;n<vt.length;n++){var r=[t[(e=vt[n])[0]],t[e[1]]];if(r[0]&&r[1])return r}for(var i=0;i<vt.length;i++){var o=t[(e=vt[i])[0]];if(o)return[o,function(){}]}throw new G("No suitable event methods in "+t)}(t),i=r[0],o=r[1],a=new s.Desc(s,"fromEvent",[t,e]);return A(a,s.fromBinder((function(n){return i.call(t,e,n),function(){return o.call(t,e,n)}}),n))},s.fromEvent=s.fromEventTarget,s.fromPoll=function(t,e){var n=new s.Desc(s,"fromPoll",[t,e]);return A(n,s.fromBinder((function(e){var n=s.scheduler.setInterval(e,t);return function(){return s.scheduler.clearInterval(n)}}),e))},s.fromPromise=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?gt:arguments[2];return A(new s.Desc(s,"fromPromise",[t]),s.fromBinder((function(n){var r=t.then(n,(function(t){return n(new G(t))}));return r&&"function"==typeof r.done&&r.done(),e?function(){if("function"==typeof t.abort)return t.abort()}:function(){}}),n))},s.Observable.prototype.groupBy=function(t){var e=arguments.length<=1||void 0===arguments[1]?s._.id:arguments[1],n={},r=this;return r.filter((function(e){return!n[t(e)]})).map((function(i){var o=t(i),a=r.filter((function(e){return t(e)===o})),c=s.once(i).concat(a),u=e(c,i).withHandler((function(t){if(this.push(t),t.isEnd())return delete n[o]}));return n[o]=u,u}))},s.fromArray=function(t){if(function(t){if(!p(t))throw new a("not an array : "+t)}(t),t.length){var e=0,n=new rt(new s.Desc(s,"fromArray",[t]),(function(r){var i=!1,o=s.more,a=!1,c=!1;return function u(){if(c=!0,!a){for(a=!0;c;)if(c=!1,o!==s.noMore&&!i){var l=t[e++];(o=r(X(l)))!==s.noMore&&(e===t.length?r(Y()):w.afterTransaction(n,u))}return a=!1}}(),function(){return i=!0}}));return n}return A(new s.Desc(s,"fromArray",t),s.never())},s.EventStream.prototype.holdWhen=function(t){var e=!1,n=[],r=this,i=!1;return new rt(new s.Desc(this,"holdWhen",[t]),(function(o){var s=new et,a=!1,c=function(t){if("function"==typeof t&&t(),s.empty()&&a)return o(Y())};return s.add((function(r,s){return t.subscribeInternal((function(t){if(!t.hasValue())return t.isEnd()?c(s):o(t);if(!(e=t.value())){var r=n;return n=[],function(){for(var t,e=[],n=0;n<r.length;n++)t=r[n],e.push(o(J(t)));return i&&(e.push(o(Y())),s()),e}()}}))})),s.add((function(t,s){return r.subscribeInternal((function(t){return e&&t.hasValue()?n.push(t.value()):t.isEnd()&&n.length?(i=!0,c(s)):o(t)}))})),a=!0,c(),s.unsubscribe}))},s.interval=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return A(new s.Desc(s,"interval",[t,e]),s.fromPoll(t,(function(){return J(e)})))},s.$={},s.$.asEventStream=function(t,e,n){var r=this;return g.isFunction(e)&&(n=e,e=void 0),A(new s.Desc(this.selector||this,"asEventStream",[t]),s.fromBinder((function(n){return r.on(t,e,n),function(){return r.off(t,e,n)}}),n))},"undefined"!=typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=s.$.asEventStream),"undefined"!=typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=s.$.asEventStream),s.Observable.prototype.last=function(){var t;return A(new s.Desc(this,"last",[]),this.withHandler((function(e){if(e.isEnd())return t&&this.push(t),this.push(Y()),s.noMore;t=e})))},s.Observable.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.subscribe((function(t){"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,e.concat([t.log()]))})),this},s.EventStream.prototype.merge=function(t){!function(t){if(!(null!=t?t._isEventStream:void 0))throw new a("not an EventStream : "+t)}(t);return A(new s.Desc(this,"merge",[t]),s.mergeAll(this,t))},s.mergeAll=function(){var t=ct(arguments);return t.length?new rt(new s.Desc(s,"mergeAll",t),(function(e){var n=0,r=g.map((function(r){return function(i){return r.dispatcher.subscribe((function(r){if(r.isEnd())return++n===t.length?e(Y()):s.more;var o=e(r);return o===s.noMore&&i(),o}))}}),t);return new s.CompositeUnsubscribe(r).unsubscribe})):s.never()},s.repeatedly=function(t,e){var n=0;return A(new s.Desc(s,"repeatedly",[t,e]),s.fromPoll(t,(function(){return e[n++%e.length]})))},s.repeat=function(t){var e=0;return s.fromBinder((function(n){var r=!1,i=s.more,o=function(){};function a(t){return t.isEnd()?r?c():r=!0:i=n(t)}function c(){var c;for(r=!0;r&&i!==s.noMore;)c=t(e++),r=!1,c?o=c.subscribeInternal(a):n(Y());return r=!0}return c(),function(){return o()}}))},s.retry=function(t){if(!g.isFunction(t.source))throw new a("'source' option has to be a function");var e=t.source,n=t.retries||0,r=0,i=t.delay||function(){return 0},o=t.isRetryable||function(){return!0},c=!1,u=null;return A(new s.Desc(s,"retry",[t]),s.repeat((function(t){function a(){return e(t).endOnError().withHandler((function(t){return t.isError()?o((u=t).error)&&(0===n||r<n)?void 0:(c=!0,this.push(t)):(t.hasValue()&&(u=null,c=!0),this.push(t))}))}if(c)return null;if(u){var l={error:u.error,retriesDone:r},f=s.later(i(l)).filter(!1);return r++,f.concat(s.once().flatMap(a))}return a()})))},s.sequentially=function(t,e){var n=0;return A(new s.Desc(s,"sequentially",[t,e]),s.fromPoll(t,(function(){var t=e[n++];return n<e.length?t:n===e.length?[t,Y()]:Y()})))},s.Observable.prototype.skip=function(t){return A(new s.Desc(this,"skip",[t]),this.withHandler((function(e){return e.hasValue()&&t>0?(t--,s.more):this.push(e)})))},s.EventStream.prototype.skipUntil=function(t){var e=t.take(1).map(!0).toProperty(!1);return A(new s.Desc(this,"skipUntil",[t]),this.filter(e))},s.EventStream.prototype.skipWhile=function(t){f(t);for(var e=!1,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return D(this,t,r,(function(t){return A(new s.Desc(this,"skipWhile",[t]),this.withHandler((function(n){return!e&&n.hasValue()&&t(n.value())?s.more:(n.hasValue()&&(e=!0),this.push(n))})))}))},s.Observable.prototype.slidingWindow=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return A(new s.Desc(this,"slidingWindow",[t,e]),this.scan([],(function(e,n){return e.concat([n]).slice(-t)})).filter((function(t){return t.length>=e})))};var _t=[];Z=function(t){if(_t.length&&!Z.running)try{Z.running=!0,_t.forEach((function(e){e(t)}))}finally{delete Z.running}};function wt(t){this.observable=t}s.spy=function(t){return _t.push(t)},s.Property.prototype.startWith=function(t){return A(new s.Desc(this,"startWith",[t]),this.scan(t,(function(t,e){return e})))},s.EventStream.prototype.startWith=function(t){return A(new s.Desc(this,"startWith",[t]),s.once(t).concat(this))},s.Observable.prototype.takeWhile=function(t){f(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return D(this,t,n,(function(t){return A(new s.Desc(this,"takeWhile",[t]),this.withHandler((function(e){return e.filter(t)?this.push(e):(this.push(Y()),s.noMore)})))}))},s.Observable.prototype.throttle=function(t){return this.delayChanges(new s.Desc(this,"throttle",[t]),(function(e){return e.bufferWithTime(t).map((function(t){return t[t.length-1]}))}))},tt.prototype.firstToPromise=function(t){var e=this;if("function"!=typeof t){if("function"!=typeof Promise)throw new a("There isn't default Promise, use shim or parameter");t=Promise}return new t((function(t,n){return e.subscribe((function(e){return e.hasValue()&&t(e.value()),e.isError()&&n(e.error),s.noMore}))}))},tt.prototype.toPromise=function(t){return this.last().firstToPromise(t)},s.try=function(t){return function(e){try{return s.once(t(e))}catch(t){return new s.Error(t)}}},s.update=function(t){function e(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){return t.apply(void 0,[e].concat(n))}}}for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=r.length-1;o>0;)r[o]instanceof Function||(r[o]=g.always(r[o])),r[o]=e(r[o]),o-=2;return A(new s.Desc(s,"update",[t].concat(r)),s.when.apply(s,r).scan(t,(function(t,e){return e(t)})))},s.zipAsArray=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ct(e);return A(new s.Desc(s,"zipAsArray",r),s.zipWith(r,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e})))},s.zipWith=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ut(e),i=r[0],o=r[1];return i=g.map((function(t){return t.toEventStream()}),i),A(new s.Desc(s,"zipWith",[o].concat(i)),s.when(i,o))},s.Observable.prototype.zip=function(t,e){return A(new s.Desc(this,"zip",[t]),s.zipWith([this,t],e||Array))},wt.prototype.subscribe=function(t,e,n){var r="function"==typeof t?{next:t,error:e,complete:n}:t,i={closed:!1,unsubscribe:function(){i.closed=!0,o()}},o=this.observable.subscribe((function(t){t.isError()?(r.error&&r.error(t.error),i.unsubscribe()):t.isEnd()?(i.closed=!0,r.complete&&r.complete()):r.next&&r.next(t.value())}));return i},wt.prototype[v("observable")]=function(){return this},s.Observable.prototype.toESObservable=function(){return new wt(this)},s.Observable.prototype[v("observable")]=s.Observable.prototype.toESObservable,s.fromESObservable=function(t){var e;e=t[v("observable")]?t[v("observable")]():t;var n=new s.Desc(s,"fromESObservable",[e]);return new s.EventStream(n,(function(t){var n=e.subscribe({error:function(){t(new s.Error),t(new s.End)},next:function(e){t(new s.Next(e,!0))},complete:function(){t(new s.End)}});return n.unsubscribe?function(){n.unsubscribe()}:n}))},null!==n(361)&&null!=n(362)?(void 0===(i=function(){return s}.apply(e,[]))||(r.exports=i),null!=this&&(this.Bacon=s)):null!==r&&null!=r.exports?(r.exports=s,s.Bacon=s):this.Bacon=s}).call(this)}).call(this,n(31),n(63)(t))},function(t,e,n){var r=n(239),i=n(479),o=n(112);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(482),i=n(525),o=n(168),s=n(42),a=n(535);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?i(t[0],t[1]):r(t):a(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=a(n(77)),s=a(n(255));function a(t){return t&&t.__esModule?t:{default:t}}function c(t){return!Object.keys(t).length}function u(t,e){return function(t,e,n){return Object.keys(t).reduce((function(n,r){return e(n,t[r],r)}),n)}(t,(function(t,n,r){var o=n;return Array.isArray(n)||null===n||"object"!==(void 0===n?"undefined":i(n))?"function"==typeof n&&(o=n(e[r])):o=f(n,e[r]),e[r]!==o&&(t[r]=o),t}),{})}function l(t,e){var n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e));return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function f(t,e){if("function"==typeof t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return t.apply(void 0,[e].concat(i))}if(!(0,s.default)(t))return t;var a=null==e?{}:e,f=u(t,a);return c(f)?a:Array.isArray(a)?l(f,a):r({},a,f)}e.default=(0,o.default)(f,2)},function(t,e,n){var r=n(171),i=n(170);t.exports=function(t,e,n,o){var s=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var u=e[a],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),s?i(n,u,l):r(n,u,l)}return n}},function(t,e,n){"use strict";var r=n(27),i=n(175),o=n(177),s=n(178),a=n(57);function c(t){a.call(this,"digest"),this._hash=t}r(c,a),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new c(s(t))}},function(t,e,n){"use strict";var r=n(28).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(40).Buffer.isBuffer},function(t,e,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(this,n(40).Buffer)},function(t,e,n){"use strict";var r=n(49),i=n(45);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(t,e,n){"use strict";const r=n(27),i=n(193).Reporter,o=n(191).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return a.isEncoderBuffer(t)||(t=new a(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}r(s,i),e.DecoderBuffer=s,s.isDecoderBuffer=function(t){if(t instanceof s)return!0;return"object"==typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const n=new s(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.isEncoderBuffer=function(t){if(t instanceof a)return!0;return"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},a.prototype.join=function(t,e){return t||(t=o.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(t,e),e+=n.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},function(t,e,n){"use strict";e.a=function(t){return{as:e=>new Promise((function(n,r){let i=new FileReader;switch(i.onload=function(){n(i.result)},i.onerror=function(){r(new Error("Unable to read from Blob"))},e){case"arraybuffer":i.readAsArrayBuffer(t);break;case"text":i.readAsText(t)}}))}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.assign=e.values=e.map=e.uniq=void 0;var i=r(n(728));e.uniq=i.default;var o=r(n(729));e.map=o.default;var s=r(n(730));e.values=s.default;var a=r(n(731));e.assign=a.default},function(t,e,n){"use strict";e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},,function(t,e,n){var r=n(201),i=n(85),o=n(357),s=n(234),a=n(359),c=function(t,e,n){var u,l,f,h=t&c.F,p=t&c.G,d=t&c.S,b=t&c.P,m=t&c.B,y=t&c.W,v=p?i:i[e]||(i[e]={}),g=v.prototype,_=p?r:d?r[e]:(r[e]||{}).prototype;for(u in p&&(n=e),n)(l=!h&&_&&void 0!==_[u])&&a(v,u)||(f=l?_[u]:n[u],v[u]=p&&"function"!=typeof _[u]?n[u]:m&&l?o(f,r):y&&_[u]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):b&&"function"==typeof f?o(Function.call,f):f,b&&((v.virtual||(v.virtual={}))[u]=f,t&c.R&&g&&!g[u]&&s(g,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return c}));var r=n(83);function i(t,e){if(!e)return()=>{};let n=0;return e.report(0,t),r=>e.report(++n,t,r)}function o(t,e){return t?Promise.resolve(e).tap((e=>{!function(t){return t&&t.byteLength}(e)?t.report(1,1):(t.formatter=r.a,t.report(e.byteLength,e.byteLength))})):e}function s(t,e){let n=0,r=0;return function(...i){return t.report(n,++r),Promise.resolve(e.apply(this,i)).tap((()=>t.report(++n,r)))}}function a(t,e){return t.watch((()=>e.report(t.current,t.total,t.extra)))}function c(t){let e,n=[],r=null;function i(){e&&t.report(e.current,e.total,e.extra),n.length>0&&(!e||e.progress>=1)&&function(t){if(e===t)return;r&&(r(),r=null);e=t,e&&(r=e.watch(i))}(n.shift())}return{add(t){n.push(t),i()}}}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.Compiler=e.Reader=void 0;var a=o(n(310));e.Reader=a;var c=o(n(312));e.Compiler=c,s(n(313),e),s(n(43),e),s(n(134),e),s(n(135),e),s(n(70),e),s(n(136),e),s(n(315),e),s(n(318),e),s(n(319),e),s(n(320),e),s(n(321),e),s(n(322),e)},function(t,e,n){"use strict";n.d(e,"p",(function(){return a})),n.d(e,"o",(function(){return c})),n.d(e,"m",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"B",(function(){return p})),n.d(e,"h",(function(){return d})),n.d(e,"E",(function(){return b})),n.d(e,"k",(function(){return m})),n.d(e,"y",(function(){return y})),n.d(e,"f",(function(){return v})),n.d(e,"C",(function(){return g})),n.d(e,"i",(function(){return _})),n.d(e,"A",(function(){return w})),n.d(e,"g",(function(){return S})),n.d(e,"w",(function(){return x})),n.d(e,"e",(function(){return k})),n.d(e,"r",(function(){return E})),n.d(e,"G",(function(){return O})),n.d(e,"q",(function(){return A})),n.d(e,"F",(function(){return M})),n.d(e,"u",(function(){return C})),n.d(e,"J",(function(){return j})),n.d(e,"t",(function(){return T})),n.d(e,"l",(function(){return I})),n.d(e,"I",(function(){return P})),n.d(e,"v",(function(){return F})),n.d(e,"n",(function(){return R})),n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return B})),n.d(e,"c",(function(){return N})),n.d(e,"s",(function(){return L})),n.d(e,"H",(function(){return q})),n.d(e,"D",(function(){return U})),n.d(e,"j",(function(){return z})),n.d(e,"x",(function(){return V})),n.d(e,"K",(function(){return H})),n.d(e,"z",(function(){return W}));var r=n(30),i=n.n(r),o=n(111),s=n.n(o);const a=n(590).a,c=t=>({...a,...t}),u=t=>"1"===t,l=t=>u(t)?"0":"1",f=(t,e)=>n=>n["input.P1.keyboard."+t+"."+e],h=(t,e,n)=>s()({["input.P1.keyboard."+t+"."+e]:n}),p=t=>t["player.P1.mode"],d=t=>s()({"player.P1.mode":t,"player.P1.panel":e=>"3d"===e&&"KB"!==t?"center":e}),b=t=>t["player.P1.speed"],m=t=>s()({"player.P1.speed":t}),y=t=>{const e=parseInt(t["player.P1.lead-time"],10);return e?e<138?138:e:1685},v=t=>s()({"player.P1.lead-time":t}),g=t=>"KB"===t["player.P1.mode"]?"off":t["player.P1.scratch"],_=t=>"off"===t?d("KB"):i.a.flow(d("BM"),s()({"player.P1.scratch":t})),w=t=>t["player.P1.panel"],S=t=>s()({"player.P1.panel":t,"player.P1.mode":e=>"3d"===t&&"KB"!==e?"KB":e}),x=t=>Math.min(50,Math.max(-50,Math.round(100*t["player.P1.lane-cover"])))/100||0,k=t=>s()({"player.P1.lane-cover":t}),E=t=>u(t["system.bga.enabled"]),O=s()({"system.bga.enabled":l}),A=t=>u(t["player.P1.auto-velocity"]),M=s()({"player.P1.auto-velocity":l}),C=t=>u(t["system.preview.enabled"]),j=s()({"system.preview.enabled":l}),T=t=>"off"!==I(t),I=t=>t["player.P1.gauge"],P=s()({"player.P1.gauge":t=>"off"===t?"hope":"off"}),F=t=>{let e={};for(let n of["1","2","3","4","5","6","7","SC","SC2"]){let r="input.P1.keyboard."+p(t)+"."+n;e[n]=t[r]||""}return e},R=t=>e=>"1"===e[`system.ack.${t}`],D=t=>s()({[`system.ack.${t}`]:"1"}),B=t=>+t["system.offset.audio-input"],N=t=>s()({"system.offset.audio-input":`${t}`}),L=t=>u(t["gamepad.continuous"]),q=s()({"gamepad.continuous":l}),U=t=>t["gamepad.sensitivity"],z=t=>s()({"gamepad.sensitivity":t}),V=t=>t["system.last-seen-version"],H=t=>s()({"system.last-seen-version":t}),W=(t,e)=>{const n="left"===e?["SC","SC2","1","2","3","4","5","6","7"]:"right"===e?["1","2","3","4","5","6","7","SC","SC2"]:["1","2","3","4","5","6","7"],r=n.indexOf(t);return r<0?null:n[r+1]||null}},function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},,,function(t,e,n){"use strict";e.a=document.querySelector("#scene-root")},function(t,e,n){t.exports=!n(215)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";var r=m(n(468)),i=m(n(151)),o=m(n(469)),s=m(n(538)),a=m(n(254)),c=m(n(256)),u=m(n(544)),l=m(n(582)),f=m(n(587)),h=m(n(90)),p=m(n(588)),d=m(n(589)),b=n(76);function m(t){return t&&t.__esModule?t:{default:t}}var y=h.default;y._=b._,y.constant=r.default,y.if=s.default,y.ifElse=a.default,y.is=o.default,y.freeze=i.default,y.map=c.default,y.omit=u.default,y.omitBy=l.default,y.reject=f.default,y.update=h.default,y.updateIn=p.default,y.withDefault=d.default,t.exports=y},function(t,e,n){var r=n(243),i=n(156);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(484),i=n(485),o=n(486),s=n(487),a=n(488);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(161);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(65)(Object,"create");t.exports=r},function(t,e,n){var r=n(506);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(520),i=n(162),o=n(521),s=n(522),a=n(523),c=n(72),u=n(244),l="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",b=u(r),m=u(i),y=u(o),v=u(s),g=u(a),_=c;(r&&_(new r(new ArrayBuffer(1)))!=d||i&&_(new i)!=l||o&&_(o.resolve())!=f||s&&_(new s)!=h||a&&_(new a)!=p)&&(_=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case b:return d;case m:return l;case y:return f;case v:return h;case g:return p}return e}),t.exports=_},function(t,e,n){var r=n(74),i=n(75);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(36))},function(t,e,n){var r=n(28).Buffer;function i(t){r.isBuffer(t)||(t=r.from(t));for(var e=t.length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,n,r,i){for(var o,s,a,c,u=n[0],l=n[1],f=n[2],h=n[3],p=t[0]^e[0],d=t[1]^e[1],b=t[2]^e[2],m=t[3]^e[3],y=4,v=1;v<i;v++)o=u[p>>>24]^l[d>>>16&255]^f[b>>>8&255]^h[255&m]^e[y++],s=u[d>>>24]^l[b>>>16&255]^f[m>>>8&255]^h[255&p]^e[y++],a=u[b>>>24]^l[m>>>16&255]^f[p>>>8&255]^h[255&d]^e[y++],c=u[m>>>24]^l[p>>>16&255]^f[d>>>8&255]^h[255&b]^e[y++],p=o,d=s,b=a,m=c;return o=(r[p>>>24]<<24|r[d>>>16&255]<<16|r[b>>>8&255]<<8|r[255&m])^e[y++],s=(r[d>>>24]<<24|r[b>>>16&255]<<16|r[m>>>8&255]<<8|r[255&p])^e[y++],a=(r[b>>>24]<<24|r[m>>>16&255]<<16|r[p>>>8&255]<<8|r[255&d])^e[y++],c=(r[m>>>24]<<24|r[p>>>16&255]<<16|r[d>>>8&255]<<8|r[255&b])^e[y++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,n[s]=u,r[u]=s;var l=t[s],f=t[l],h=t[f],p=257*t[u]^16843008*u;i[0][s]=p<<24|p>>>8,i[1][s]=p<<16|p>>>16,i[2][s]=p<<8|p>>>24,i[3][s]=p,p=16843009*h^65537*f^257*l^16843008*s,o[0][u]=p<<24|p>>>8,o[1][u]=p<<16|p>>>16,o[2][u]=p<<8|p>>>24,o[3][u]=p,0===s?s=a=1:(s=l^t[t[t[h^l]]],a^=t[t[a]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function u(t){this._key=i(t),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var s=i[o-1];o%e==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),i[o]=i[o-e]^s}for(var u=[],l=0;l<r;l++){var f=r-l,h=i[f-(l%4?0:4)];u[l]=l<4||f<=4?h:c.INV_SUB_MIX[0][c.SBOX[h>>>24]]^c.INV_SUB_MIX[1][c.SBOX[h>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[h>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&h]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(t){return s(t=i(t),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=r.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},u.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var n=s(t,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=u},function(t,e,n){var r=n(28).Buffer,i=n(175);t.exports=function(t,e,n,o){if(r.isBuffer(t)||(t=r.from(t,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=n/8,a=r.alloc(s),c=r.alloc(o||0),u=r.alloc(0);s>0||o>0;){var l=new i;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var f=0;if(s>0){var h=a.length-s;f=Math.min(s,u.length),u.copy(a,h,0,f),s-=f}if(f<u.length&&o>0){var p=c.length-o,d=Math.min(o,u.length-f);u.copy(c,p,f,f+d),o-=d}}return u.fill(0),{key:a,iv:c}}},function(t,e,n){"use strict";var r=n(37),i=n(46),o=i.getNAF,s=i.getJSF,a=i.assert;function c(t,e){this.type=t,this.p=new r(e.p,16),this.red=e.prime?r.red(e.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=e.n&&new r(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(t,e){a(t.precomputed);var n=t._getDoubles(),r=o(e,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var s,c,u=[];for(s=0;s<r.length;s+=n.step){c=0;for(var l=s+n.step-1;l>=s;l--)c=(c<<1)+r[l];u.push(c)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),p=i;p>0;p--){for(s=0;s<u.length;s++)(c=u[s])===p?h=h.mixedAdd(n.points[s]):c===-p&&(h=h.mixedAdd(n.points[s].neg()));f=f.add(h)}return f.toP()},c.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,s=o(e,n,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var l=0;u>=0&&0===s[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var f=s[u];a(0!==f),c="affine"===t.type?f>0?c.mixedAdd(i[f-1>>1]):c.mixedAdd(i[-f-1>>1].neg()):f>0?c.add(i[f-1>>1]):c.add(i[-f-1>>1].neg())}return"affine"===t.type?c.toP():c},c.prototype._wnafMulAdd=function(t,e,n,r,i){var a,c,u,l=this._wnafT1,f=this._wnafT2,h=this._wnafT3,p=0;for(a=0;a<r;a++){var d=(u=e[a])._getNAFPoints(t);l[a]=d.wnd,f[a]=d.points}for(a=r-1;a>=1;a-=2){var b=a-1,m=a;if(1===l[b]&&1===l[m]){var y=[e[b],null,null,e[m]];0===e[b].y.cmp(e[m].y)?(y[1]=e[b].add(e[m]),y[2]=e[b].toJ().mixedAdd(e[m].neg())):0===e[b].y.cmp(e[m].y.redNeg())?(y[1]=e[b].toJ().mixedAdd(e[m]),y[2]=e[b].add(e[m].neg())):(y[1]=e[b].toJ().mixedAdd(e[m]),y[2]=e[b].toJ().mixedAdd(e[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=s(n[b],n[m]);for(p=Math.max(g[0].length,p),h[b]=new Array(p),h[m]=new Array(p),c=0;c<p;c++){var _=0|g[0][c],w=0|g[1][c];h[b][c]=v[3*(_+1)+(w+1)],h[m][c]=0,f[b]=y}}else h[b]=o(n[b],l[b],this._bitLength),h[m]=o(n[m],l[m],this._bitLength),p=Math.max(h[b].length,p),p=Math.max(h[m].length,p)}var S=this.jpoint(null,null,null),x=this._wnafT4;for(a=p;a>=0;a--){for(var k=0;a>=0;){var E=!0;for(c=0;c<r;c++)x[c]=0|h[c][a],0!==x[c]&&(E=!1);if(!E)break;k++,a--}if(a>=0&&k++,S=S.dblp(k),a<0)break;for(c=0;c<r;c++){var O=x[c];0!==O&&(O>0?u=f[c][O-1>>1]:O<0&&(u=f[c][-O-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(a=0;a<r;a++)f[a]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){var r=n(657),i=n(664),o=n(665),s=n(183),a=n(279),c=n(28).Buffer;function u(t){var e;"object"!=typeof t||c.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=c.from(t));var n,u,l=o(t,e),f=l.tag,h=l.data;switch(f){case"CERTIFICATE":u=r.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=r.PublicKey.decode(h,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=r.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":h=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,h=a.pbkdf2Sync(e,n,r,f,"sha1"),p=s.createDecipheriv(o,h,u),d=[];return d.push(p.update(l)),d.push(p.final()),c.concat(d)}(h=r.EncryptedPrivateKey.decode(h,"der"),e);case"PRIVATE KEY":switch(n=(u=r.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:r.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=r.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=r.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+f)}}t.exports=u,u.signature=r.signature},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(126),i=n(50);class o{constructor(t){this.url=t}read(t){return Object(r.a)(this.url).as("arraybuffer",t)}async resolveUrl(){return Promise.resolve(this.url)}get name(){return Object(i.basename)(this.url)}}class s{constructor(t){this.base=t}async file(t){const e=t.split("/").map((t=>encodeURIComponent(t))).join("/");return new o(new URL(e,this.base).href)}}e.b=o},function(t,e,n){"use strict";var r=n(83);e.a=function(t,{getRetryDelay:e=(()=>1e3+4e3*Math.random())}={}){return{async as(n,i){let o=!1;for(let s=1;;s++)try{return await new Promise(((e,s)=>{var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=n,a.onload=()=>{200==+a.status?e(a.response):(403!=+a.status&&404!=+a.status||(o=!0),s(new Error(`Unable to download ${t}: HTTP ${a.status}`)))},a.onerror=()=>s(new Error(`Unable to download ${t}`)),i&&(i.formatter=r.a,a.onprogress=t=>i.report(t.loaded,t.total)),a.send(null)}))}catch(n){if(console.error(`Unable to download ${t} [attempt ${s}]`,n),s>=3||o)throw n;const r=e();await new Promise((t=>setTimeout(t,r)))}}}}},,,,function(t,e,n){"use strict";var r=n(204);e.a=r.a},function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return w})),n.d(e,"e",(function(){return S})),n.d(e,"d",(function(){return x})),n.d(e,"i",(function(){return k})),n.d(e,"h",(function(){return E})),n.d(e,"g",(function(){return O})),n.d(e,"j",(function(){return A})),n.d(e,"f",(function(){return M})),n.d(e,"k",(function(){return C})),n.d(e,"p",(function(){return j})),n.d(e,"n",(function(){return T})),n.d(e,"o",(function(){return I})),n.d(e,"l",(function(){return P})),n.d(e,"m",(function(){return F})),n.d(e,"q",(function(){return R})),n.d(e,"s",(function(){return D})),n.d(e,"v",(function(){return N})),n.d(e,"t",(function(){return L})),n.d(e,"z",(function(){return U})),n.d(e,"A",(function(){return z})),n.d(e,"u",(function(){return V})),n.d(e,"C",(function(){return W})),n.d(e,"r",(function(){return K})),n.d(e,"B",(function(){return G})),n.d(e,"y",(function(){return $})),n.d(e,"w",(function(){return J})),n.d(e,"x",(function(){return Y}));var r=n(30),i=n.n(r);function o(t,e){return String(t.toLowerCase()).indexOf(e.toLowerCase())>=0}var s=function(t,e){return t.filter((t=>function(t,e){return!e||(o(t.title,e)||o(t.artist,e)||o(t.genre,e))}(t,e)))},a=n(384),c=n(710),u=n(672),l=n(673),f=n(380),h=n(353),p=n(717),d=n(354),b=n(718),m=n(674),y=n(105),v=function(t,e){return(n=t,r)=>e[r.type]?e[r.type](r)(n):n};const g="COLLECTION_LOADING_BEGAN",_="COLLECTION_LOADING_ERRORED",w="COLLECTION_LOADED",S="CUSTOM_SONG_LOADED",x="CUSTOM_SONGS_LOADED",k="MUSIC_SEARCH_TEXT_TYPED",E="MUSIC_SEARCH_TEXT_INITIALIZED",O="MUSIC_SEARCH_DEBOUNCED",A="MUSIC_SONG_SELECTED",M="MUSIC_CHART_SELECTED",C="OPTIONS_LOADED_FROM_STORAGE",j="README_LOADING_STARTED",T="README_LOADED",I="README_LOADING_ERRORED",P="RAGEQUITTED",F="RAGEQUIT_DISMISSED",R=Object(f.b)({collections:v(p.e,{[g]:t=>p.a(t.url),[_]:t=>p.b(t.url,t.error),[w]:t=>p.b(t.url,t.data)}),customSongLoadState:v(d.e(null),{CUSTOM_SONG_LOAD_STARTED:t=>d.a,[S]:t=>d.b()}),customSongs:v([],{[S]:t=>e=>[t.song],[x]:t=>e=>t.songs}),currentCollection:v("",{[g]:t=>e=>""===e?t.url:e}),musicSearchText:v(b.c,{[k]:t=>b.b(t.text),[O]:t=>b.a,[E]:t=>b.f(t.text)}),musicSelection:v(m.b,{[S]:t=>m.d(t.song.id),[A]:t=>m.d(t.songId),[M]:t=>m.c(t.songId,t.chartId,t.chartLevel)}),options:v(y.p,{[C]:t=>e=>y.o(t.options)}),currentSongReadme:v("Omachi kudasai",{[j]:t=>t=>"Omachi kudasai",[I]:t=>e=>"Cannot download "+t.url,[T]:t=>e=>t.text}),rageQuit:v(!1,{[P]:t=>t=>!0,[F]:t=>t=>!1})}),D=t=>t.currentCollection,B=Object(h.createSelector)((t=>t.collections),D,((t,e)=>p.d(e)(t))),N=t=>d.i(B(t)),L=t=>d.c(B(t)),q=Object(h.createSelector)((t=>d.j(B(t))),(t=>t&&Object(u.a)(t))),U=t=>b.d(t.musicSearchText),z=t=>b.e(t.musicSearchText),{selectGroups:V,selectSongs:H}=(()=>{const t=Object(h.createSelector)(q,(t=>t&&t.songs||[])),e=Object(h.createSelector)(t,(t=>t.customSongs),((t,e)=>[...e,...t])),n=Object(h.createSelector)(e,(t=>Object(l.a)(t))),r=Object(h.createSelector)(n,z,((t,e)=>s(t,e))),o=Object(h.createSelector)(q,(t=>t&&t.songOfTheDayEnabled)),a=Object(h.createSelector)(r,o,((t,e)=>Object(c.a)(t,{songOfTheDayEnabled:e})));return{selectGroups:a,selectSongs:Object(h.createSelector)(a,(t=>i()(t).map("songs").flatten().value()))}})(),{selectSelectedSong:W,selectChartsForSelectedSong:K,selectSelectedChart:G}=(()=>{const t=t=>t.musicSelection,e=Object(h.createSelector)(t,H,((t,e)=>m.f(e)(t))),n=Object(h.createSelector)(e,(t=>Object(a.a)(t&&t.charts||[])));return{selectSelectedSong:e,selectChartsForSelectedSong:n,selectSelectedChart:Object(h.createSelector)(t,n,((t,e)=>m.e(e)(t)))}})(),$=t=>t.currentSongReadme,J=t=>y.B(t.options),Y=t=>t.rageQuit},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(778);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(55),c=n.n(a);class u extends i.a.Component{render(){return i.a.createElement("div",{className:c()("Panel",this.props.className)},i.a.createElement("div",{className:"Paneltitle"},this.props.title),i.a.createElement("div",{className:"Panelcontent"},this.props.children))}}u.propTypes={className:s.a.string,title:s.a.string,children:s.a.node}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.match=void 0,e.match=function(t){var e=!1;return{when:function(n,r){if(e)return this;var i=t.match(n);return i&&(e=!0,r(i)),this},else:function(t){if(e)return this;t()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BMSHeaders=void 0;var r=function(){function t(){this._data={},this._dataAll={}}return t.prototype.each=function(t){for(var e in this._data)t(e,this._data[e])},t.prototype.get=function(t){return this._data[t.toLowerCase()]},t.prototype.getAll=function(t){return this._dataAll[t.toLowerCase()]},t.prototype.set=function(t,e){var n=t.toLowerCase();this._data[n]=e,(this._dataAll[n]||(this._dataAll[n]=[])).push(e)},t}();e.BMSHeaders=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BMSObjects=void 0;var r=function(){function t(){this._objects=[]}return t.prototype.add=function(t){if("01"!==t.channel)for(var e=0;e<this._objects.length;e++){var n=this._objects[e];if(n.channel===t.channel&&n.measure===t.measure&&n.fraction===t.fraction)return void(this._objects[e]=t)}this._objects.push(t)},t.prototype.all=function(){return this._objects.slice()},t.prototype.allSorted=function(){var t=this.all();return t.sort((function(t,e){return t.measure+t.fraction-(e.measure+e.fraction)})),t},t}();e.BMSObjects=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeSignatures=void 0;var r=function(){function t(){this._values={}}return t.prototype.set=function(t,e){this._values[t]=e},t.prototype.get=function(t){return this._values[t]||1},t.prototype.getBeats=function(t){return 4*this.get(t)},t.prototype.measureToBeat=function(t,e){for(var n=0,r=0;r<t;r++)n+=this.getBeats(r);return n+this.getBeats(t)*e},t}();e.TimeSignatures=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(689),s=n(138),a=n(100),c=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];a.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new s.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.Observable);e.ArrayObservable=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(n(25).Observable);e.EmptyObservable=i},,,,,,,,function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(232),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(31))},,function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";n(1111);var r=n(26),i=n.n(r),o=n(29),s=n.n(o);const a=({children:t,onClick:e})=>i.a.createElement("button",{className:"OptionsButton",onClick:e},t);a.propTypes={children:s.a.node,onClick:s.a.func},e.a=a},function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"a",(function(){return u}));var r=n(2);function i(){return"1"===r.a.BEMUSE_SHOW_OPTIONS}function o(){return"1"===r.a.BEMUSE_BENCHMARK}function s(){return"1"===r.a.BEMUSE_NO_FULLSCREEN}function a(){return"1"===r.a.BEMUSE_SHOW_ABOUT}function c(){return"1"===r.a.BEMUSE_SHOW_MODE_SELECT}function u(){return"1"===r.a.BEMUSE_TITLE_DISPLAY}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});"function"==typeof Symbol&&Symbol.iterator;e.default=function(t){return t}}).call(this,n(36))},function(t,e,n){var r=n(238),i=n(481)(r);t.exports=i},function(t,e,n){var r=n(474),i=n(56),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){(function(t){var r=n(48),i=n(477),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;t.exports=c}).call(this,n(63)(t))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(240),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(63)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(113),i=n(489),o=n(490),s=n(491),a=n(492),c=n(493);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,t.exports=u},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(65)(n(48),"Map");t.exports=r},function(t,e,n){var r=n(498),i=n(505),o=n(507),s=n(508),a=n(509);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(237),i=n(250),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},function(t,e,n){var r=n(42),i=n(167),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(72),i=n(56);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(242)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(258);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(170),i=n(161),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(239),i=n(549),o=n(112);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(249),i=n(259),o=n(172);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(247);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";var r=n(27),i=n(261),o=n(28).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function u(t,e,n,r,i,o,s){return c(t+(e&n|~e&r)+i+o|0,s)+e|0}function l(t,e,n,r,i,o,s){return c(t+(e&r|n&~r)+i+o|0,s)+e|0}function f(t,e,n,r,i,o,s){return c(t+(e^n^r)+i+o|0,s)+e|0}function h(t,e,n,r,i,o,s){return c(t+(n^(e|~r))+i+o|0,s)+e|0}r(a,i),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=u(n,r,i,o,t[0],3614090360,7),o=u(o,n,r,i,t[1],3905402710,12),i=u(i,o,n,r,t[2],606105819,17),r=u(r,i,o,n,t[3],3250441966,22),n=u(n,r,i,o,t[4],4118548399,7),o=u(o,n,r,i,t[5],1200080426,12),i=u(i,o,n,r,t[6],2821735955,17),r=u(r,i,o,n,t[7],4249261313,22),n=u(n,r,i,o,t[8],1770035416,7),o=u(o,n,r,i,t[9],2336552879,12),i=u(i,o,n,r,t[10],4294925233,17),r=u(r,i,o,n,t[11],2304563134,22),n=u(n,r,i,o,t[12],1804603682,7),o=u(o,n,r,i,t[13],4254626195,12),i=u(i,o,n,r,t[14],2792965006,17),n=l(n,r=u(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=l(o,n,r,i,t[6],3225465664,9),i=l(i,o,n,r,t[11],643717713,14),r=l(r,i,o,n,t[0],3921069994,20),n=l(n,r,i,o,t[5],3593408605,5),o=l(o,n,r,i,t[10],38016083,9),i=l(i,o,n,r,t[15],3634488961,14),r=l(r,i,o,n,t[4],3889429448,20),n=l(n,r,i,o,t[9],568446438,5),o=l(o,n,r,i,t[14],3275163606,9),i=l(i,o,n,r,t[3],4107603335,14),r=l(r,i,o,n,t[8],1163531501,20),n=l(n,r,i,o,t[13],2850285829,5),o=l(o,n,r,i,t[2],4243563512,9),i=l(i,o,n,r,t[7],1735328473,14),n=f(n,r=l(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=f(o,n,r,i,t[8],2272392833,11),i=f(i,o,n,r,t[11],1839030562,16),r=f(r,i,o,n,t[14],4259657740,23),n=f(n,r,i,o,t[1],2763975236,4),o=f(o,n,r,i,t[4],1272893353,11),i=f(i,o,n,r,t[7],4139469664,16),r=f(r,i,o,n,t[10],3200236656,23),n=f(n,r,i,o,t[13],681279174,4),o=f(o,n,r,i,t[0],3936430074,11),i=f(i,o,n,r,t[3],3572445317,16),r=f(r,i,o,n,t[6],76029189,23),n=f(n,r,i,o,t[9],3654602809,4),o=f(o,n,r,i,t[12],3873151461,11),i=f(i,o,n,r,t[15],530742520,16),n=h(n,r=f(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=h(o,n,r,i,t[7],1126891415,10),i=h(i,o,n,r,t[14],2878612391,15),r=h(r,i,o,n,t[5],4237533241,21),n=h(n,r,i,o,t[12],1700485571,6),o=h(o,n,r,i,t[3],2399980690,10),i=h(i,o,n,r,t[10],4293915773,15),r=h(r,i,o,n,t[1],2240044497,21),n=h(n,r,i,o,t[8],1873313359,6),o=h(o,n,r,i,t[15],4264355552,10),i=h(i,o,n,r,t[6],2734768916,15),r=h(r,i,o,n,t[13],1309151649,21),n=h(n,r,i,o,t[4],4149444226,6),o=h(o,n,r,i,t[11],3174756917,10),i=h(i,o,n,r,t[2],718787259,15),r=h(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},function(t,e,n){"use strict";var r=n(79).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,s||o.call(e)},f=e._readableState&&e._readableState.endEmitted,h=function(){s=!1,f=!0,a||o.call(e)},p=function(t){o.call(e,t)},d=function(){var t;return s&&!f?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},b=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",c),e.on("close",c)):(e.on("complete",l),e.on("abort",d),e.req?b():e.on("request",b)),e.on("end",h),e.on("finish",l),!1!==n.error&&e.on("error",p),e.on("close",d),function(){e.removeListener("complete",l),e.removeListener("abort",d),e.removeListener("request",b),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",h),e.removeListener("error",p),e.removeListener("close",d)}}},function(t,e,n){"use strict";var r=n(40).Buffer,i=n(27),o=n(261),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(t,e){return t<<e|t>>>32-e}function b(t,e,n,r,i,o,s,a){return d(t+(e^n^r)+o+s|0,a)+i|0}function m(t,e,n,r,i,o,s,a){return d(t+(e&n|~e&r)+o+s|0,a)+i|0}function y(t,e,n,r,i,o,s,a){return d(t+((e|~n)^r)+o+s|0,a)+i|0}function v(t,e,n,r,i,o,s,a){return d(t+(e&r|n&~r)+o+s|0,a)+i|0}function g(t,e,n,r,i,o,s,a){return d(t+(e^(n|~r))+o+s|0,a)+i|0}i(p,o),p.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,p=0|this._e,_=0|this._a,w=0|this._b,S=0|this._c,x=0|this._d,k=0|this._e,E=0;E<80;E+=1){var O,A;E<16?(O=b(n,r,i,o,p,t[a[E]],f[0],u[E]),A=g(_,w,S,x,k,t[c[E]],h[0],l[E])):E<32?(O=m(n,r,i,o,p,t[a[E]],f[1],u[E]),A=v(_,w,S,x,k,t[c[E]],h[1],l[E])):E<48?(O=y(n,r,i,o,p,t[a[E]],f[2],u[E]),A=y(_,w,S,x,k,t[c[E]],h[2],l[E])):E<64?(O=v(n,r,i,o,p,t[a[E]],f[3],u[E]),A=m(_,w,S,x,k,t[c[E]],h[3],l[E])):(O=g(n,r,i,o,p,t[a[E]],f[4],u[E]),A=b(_,w,S,x,k,t[c[E]],h[4],l[E])),n=p,p=o,o=d(i,10),i=r,r=O,_=k,k=x,x=d(S,10),S=w,w=A}var M=this._b+i+x|0;this._b=this._c+o+k|0,this._c=this._d+p+_|0,this._d=this._e+n+w|0,this._e=this._a+r+S|0,this._a=M},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=p},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(600),e.sha1=n(601),e.sha224=n(602),e.sha256=n(270),e.sha384=n(603),e.sha512=n(271)},function(t,e,n){(e=t.exports=n(272)).Stream=e,e.Readable=e,e.Writable=n(181),e.Duplex=n(66),e.Transform=n(275),e.PassThrough=n(608)},function(t,e,n){var r=n(40),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,r,i){var o=n(120);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var a,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;v.WritableState=y;var u=Object.create(n(94));u.inherits=n(27);var l={deprecate:n(268)},f=n(273),h=n(180).Buffer,p=i.Uint8Array||function(){};var d,b=n(274);function m(){}function y(t,e){a=a||n(66),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(k,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),k(t,e))}(t,n,r,e,i);else{var s=S(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?c(_,t,n,s,i):_(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(t){if(a=a||n(66),!(d.call(v,this)||this instanceof a))return new v(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function g(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),k(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,g(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(g(t,e,!1,e.objectMode?1:u.length,u,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),k(t,e)}))}function k(t,e){var n=S(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(v,f),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===v&&(t&&t._writableState instanceof y)}})):d=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=t,h.isBuffer(r)||r instanceof p);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else g(t,e,!1,a,r,i,o);return c}(this,i,a,t,e,n)),s},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,k(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=b.destroy,v.prototype._undestroy=b.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(36),n(146).setImmediate,n(31))},function(t,e,n){"use strict";var r=n(45);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){var r=n(621),i=n(629),o=n(288);e.createCipher=e.Cipher=r.createCipher,e.createCipheriv=e.Cipheriv=r.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var r={ECB:n(622),CBC:n(623),CFB:n(624),CFB8:n(625),CFB1:n(626),OFB:n(627),CTR:n(286),GCM:n(286)},i=n(288);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},function(t,e,n){var r;function i(t){this.rand=t}if(t.exports=function(t){return r||(r=new i(null)),r.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(633);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,n){(function(e){var r=n(187),i=n(78);function o(t){var e,n=t.modulus.byteLength();do{e=new r(i(n))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function s(t,n){var i=function(t){var e=o(t);return{blinder:e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(n),s=n.modulus.byteLength(),a=new r(t).mul(i.blinder).umod(n.modulus),c=a.toRed(r.mont(n.prime1)),u=a.toRed(r.mont(n.prime2)),l=n.coefficient,f=n.prime1,h=n.prime2,p=c.redPow(n.exponent1).fromRed(),d=u.redPow(n.exponent2).fromRed(),b=p.isub(d).imul(l).umod(f).imul(h);return d.iadd(b).imul(i.unblinder).umod(n.modulus).toArrayLike(e,"be",s)}s.getr=o,t.exports=s}).call(this,n(40).Buffer)},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(638).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function c(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),c=e;c<a;c++){var u=t.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,c=0,l=n;l<a;l+=r)c=u(t,l,l+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(t){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?h[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=p[t],l=d[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var b=f.modrn(l).toString(t);n=(f=f.idivn(l)).isZero()?b+n:h[u-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function b(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,e.length-1),p=Math.max(0,u-t.length+1);p<=h;p++){var d=u-p|0;l+=(s=(i=0|t.words[d])*(o=0|e.words[p])+f)/67108864|0,f=67108863&s}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,u=0,l=0|s[0],f=8191&l,h=l>>>13,p=0|s[1],d=8191&p,b=p>>>13,m=0|s[2],y=8191&m,v=m>>>13,g=0|s[3],_=8191&g,w=g>>>13,S=0|s[4],x=8191&S,k=S>>>13,E=0|s[5],O=8191&E,A=E>>>13,M=0|s[6],C=8191&M,j=M>>>13,T=0|s[7],I=8191&T,P=T>>>13,F=0|s[8],R=8191&F,D=F>>>13,B=0|s[9],N=8191&B,L=B>>>13,q=0|a[0],U=8191&q,z=q>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,$=K>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Q=0|a[4],Z=8191&Q,tt=Q>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ht=lt>>>13,pt=0|a[9],dt=8191&pt,bt=pt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(r=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(h,U)|0))<<13)|0;u=((o=Math.imul(h,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(d,U),i=(i=Math.imul(d,z))+Math.imul(b,U)|0,o=Math.imul(b,z);var yt=(u+(r=r+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(h,H)|0))<<13)|0;u=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,U),i=(i=Math.imul(y,z))+Math.imul(v,U)|0,o=Math.imul(v,z),r=r+Math.imul(d,H)|0,i=(i=i+Math.imul(d,W)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,W)|0;var vt=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,$)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(_,U),i=(i=Math.imul(_,z))+Math.imul(w,U)|0,o=Math.imul(w,z),r=r+Math.imul(y,H)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,W)|0,r=r+Math.imul(d,G)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,$)|0;var gt=(u+(r=r+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(x,U),i=(i=Math.imul(x,z))+Math.imul(k,U)|0,o=Math.imul(k,z),r=r+Math.imul(_,H)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,W)|0,r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,$)|0,r=r+Math.imul(d,Y)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _t=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Z)|0))<<13)|0;u=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(O,U),i=(i=Math.imul(O,z))+Math.imul(A,U)|0,o=Math.imul(A,z),r=r+Math.imul(x,H)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,W)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,X)|0,r=r+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,tt)|0;var wt=(u+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;u=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(C,U),i=(i=Math.imul(C,z))+Math.imul(j,U)|0,o=Math.imul(j,z),r=r+Math.imul(O,H)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,W)|0,r=r+Math.imul(x,G)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(d,nt)|0,i=(i=i+Math.imul(d,rt)|0)+Math.imul(b,nt)|0,o=o+Math.imul(b,rt)|0;var St=(u+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(h,ot)|0))<<13)|0;u=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(I,U),i=(i=Math.imul(I,z))+Math.imul(P,U)|0,o=Math.imul(P,z),r=r+Math.imul(C,H)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0;var xt=(u+(r=r+Math.imul(f,ct)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(h,ct)|0))<<13)|0;u=((o=o+Math.imul(h,ut)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,U),i=(i=Math.imul(R,z))+Math.imul(D,U)|0,o=Math.imul(D,z),r=r+Math.imul(I,H)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,W)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,$)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(_,nt)|0,i=(i=i+Math.imul(_,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(d,ct)|0,i=(i=i+Math.imul(d,ut)|0)+Math.imul(b,ct)|0,o=o+Math.imul(b,ut)|0;var kt=(u+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;u=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(N,U),i=(i=Math.imul(N,z))+Math.imul(L,U)|0,o=Math.imul(L,z),r=r+Math.imul(R,H)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,W)|0,r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,$)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,X)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(d,ft)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(b,ft)|0,o=o+Math.imul(b,ht)|0;var Et=(u+(r=r+Math.imul(f,dt)|0)|0)+((8191&(i=(i=i+Math.imul(f,bt)|0)+Math.imul(h,dt)|0))<<13)|0;u=((o=o+Math.imul(h,bt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(N,H),i=(i=Math.imul(N,W))+Math.imul(L,H)|0,o=Math.imul(L,W),r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,$)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,X)|0,r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(A,nt)|0,o=o+Math.imul(A,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ut)|0,r=r+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,ht)|0;var Ot=(u+(r=r+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,bt)|0)+Math.imul(b,dt)|0))<<13)|0;u=((o=o+Math.imul(b,bt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(N,G),i=(i=Math.imul(N,$))+Math.imul(L,G)|0,o=Math.imul(L,$),r=r+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,r=r+Math.imul(x,ct)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,r=r+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,ht)|0)+Math.imul(w,ft)|0,o=o+Math.imul(w,ht)|0;var At=(u+(r=r+Math.imul(y,dt)|0)|0)+((8191&(i=(i=i+Math.imul(y,bt)|0)+Math.imul(v,dt)|0))<<13)|0;u=((o=o+Math.imul(v,bt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(N,Y),i=(i=Math.imul(N,X))+Math.imul(L,Y)|0,o=Math.imul(L,X),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(I,nt)|0,i=(i=i+Math.imul(I,rt)|0)+Math.imul(P,nt)|0,o=o+Math.imul(P,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,st)|0,r=r+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ut)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ht)|0;var Mt=(u+(r=r+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,bt)|0)+Math.imul(w,dt)|0))<<13)|0;u=((o=o+Math.imul(w,bt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(N,Z),i=(i=Math.imul(N,tt))+Math.imul(L,Z)|0,o=Math.imul(L,tt),r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(j,ct)|0,o=o+Math.imul(j,ut)|0,r=r+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,ht)|0)+Math.imul(A,ft)|0,o=o+Math.imul(A,ht)|0;var Ct=(u+(r=r+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,bt)|0)+Math.imul(k,dt)|0))<<13)|0;u=((o=o+Math.imul(k,bt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(N,nt),i=(i=Math.imul(N,rt))+Math.imul(L,nt)|0,o=Math.imul(L,rt),r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,r=r+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ut)|0,r=r+Math.imul(C,ft)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(j,ft)|0,o=o+Math.imul(j,ht)|0;var jt=(u+(r=r+Math.imul(O,dt)|0)|0)+((8191&(i=(i=i+Math.imul(O,bt)|0)+Math.imul(A,dt)|0))<<13)|0;u=((o=o+Math.imul(A,bt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,r=Math.imul(N,ot),i=(i=Math.imul(N,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ut)|0,r=r+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ht)|0;var Tt=(u+(r=r+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,bt)|0)+Math.imul(j,dt)|0))<<13)|0;u=((o=o+Math.imul(j,bt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(N,ct),i=(i=Math.imul(N,ut))+Math.imul(L,ct)|0,o=Math.imul(L,ut),r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(D,ft)|0,o=o+Math.imul(D,ht)|0;var It=(u+(r=r+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,bt)|0)+Math.imul(P,dt)|0))<<13)|0;u=((o=o+Math.imul(P,bt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(N,ft),i=(i=Math.imul(N,ht))+Math.imul(L,ft)|0,o=Math.imul(L,ht);var Pt=(u+(r=r+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,bt)|0)+Math.imul(D,dt)|0))<<13)|0;u=((o=o+Math.imul(D,bt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ft=(u+(r=Math.imul(N,dt))|0)+((8191&(i=(i=Math.imul(N,bt))+Math.imul(L,dt)|0))<<13)|0;return u=((o=Math.imul(L,bt))+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,c[0]=mt,c[1]=yt,c[2]=vt,c[3]=gt,c[4]=_t,c[5]=wt,c[6]=St,c[7]=xt,c[8]=kt,c[9]=Et,c[10]=Ot,c[11]=At,c[12]=Mt,c[13]=Ct,c[14]=jt,c[15]=Tt,c[16]=It,c[17]=Pt,c[18]=Ft,0!==u&&(c[19]=u,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(m=b),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):n<63?b(this,t,e):n<1024?y(this,t,e):v(this,t,e)},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},g.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},g.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=c,h=u,p=0;p<s;p++){var d=n[l+p],b=r[l+p],m=n[l+p+s],y=r[l+p+s],v=f*m-h*y;y=f*y+h*m,m=v,n[l+p]=d+m,r[l+p]=b+y,n[l+p+s]=d-m,r[l+p+s]=b-y,p!==a&&(v=c*f-u*h,h=c*h+u*f,f=v)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},g.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,f,r,i);for(var p=0;p<r;p++){var d=a[p]*l[p]-c[p]*f[p];c[p]=a[p]*f[p]+c[p]*l[p],a[p]=d}return this.conjugate(a,c,r),this.transform(a,c,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);a&&(a.words[f]=h)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var d=0,b=1;0==(n.words[0]&b)&&d<26;++d,b<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(f)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(c)):(n.isub(e),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new O(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){O.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(S,w),S.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(x,w),i(k,w),i(E,w),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new x;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return _[t]=e,e},O.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},O.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},O.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},O.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},O.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},O.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},O.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},O.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},O.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},O.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},O.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},O.prototype.isqr=function(t){return this.imul(t,t.clone())},O.prototype.sqr=function(t){return this.mul(t,t)},O.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var b=p,m=0;0!==b.cmp(a);m++)b=b.redSqr();r(m<d);var y=this.pow(f,new o(1).iushln(d-m-1));h=h.redMul(y),f=y.redSqr(),p=p.redMul(f),d=m}return h},O.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},O.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},O.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},O.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new A(t)},i(A,O),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(63)(t))},function(t,e,n){"use strict";var r=e;r.version=n(639).version,r.utils=n(46),r.rand=n(185),r.curve=n(294),r.curves=n(189),r.ec=n(650),r.eddsa=n(654)},function(t,e,n){"use strict";var r,i=e,o=n(190),s=n(294),a=n(46).assert;function c(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new c(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(649)}catch(t){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(t,e,n){var r=e;r.utils=n(49),r.common=n(96),r.sha=n(643),r.ripemd=n(647),r.hmac=n(648),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e,n){"use strict";(function(e){var r,i=n(40),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var a=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=o[r]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(t,e,n){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,n)}),a.alloc||(a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=o(t);return e&&0!==e.length?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=e.binding("buffer").kStringMaxLength}catch(t){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),t.exports=s}).call(this,n(36))},function(t,e,n){"use strict";const r=n(193).Reporter,i=n(97).EncoderBuffer,o=n(97).DecoderBuffer,s=n(45),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(t,e,n){const r={};this._baseState=r,r.name=n,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=u;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const t=this._baseState,e={};l.forEach((function(n){e[n]=t[n]}));const n=new this.constructor(e.parent);return n._baseState=e,n},u.prototype._wrap=function(){const t=this._baseState;c.forEach((function(e){this[e]=function(){const n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}}),this)},u.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),s.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){const e=this._baseState,n=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==n.length&&(s(null===e.children),e.children=n,n.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(n){n==(0|n)&&(n|=0);const r=t[n];e[r]=n})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){u.prototype[t]=function(){const e=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(n),this}})),u.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){const n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));let r,i=n.default,s=!0,a=null;if(null!==n.key&&(a=t.enterKey(n.key)),n.optional){let r=null;if(null!==n.explicit?r=n.explicit:null!==n.implicit?r=n.implicit:null!==n.tag&&(r=n.tag),null!==r||n.any){if(s=this._peekTag(t,r,n.any),t.isError(s))return s}else{const r=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(r)}}if(n.obj&&s&&(r=t.enterObject()),s){if(null!==n.explicit){const e=this._decodeTag(t,n.explicit);if(t.isError(e))return e;t=e}const r=t.offset;if(null===n.use&&null===n.choice){let e;n.any&&(e=t.save());const r=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(r))return r;n.any?i=t.raw(e):t=r}if(e&&e.track&&null!==n.tag&&e.track(t.path(),r,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(t,e)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const r=new o(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(r,e)}}return n.obj&&s&&(i=t.leaveObject(r)),null===n.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,n.key,i),i},u.prototype._decodeGeneric=function(t,e,n){const r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){const n=this._baseState;return n.useDecoder=this._use(t,e),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(t,e){const n=this._baseState;let r=null,i=!1;return Object.keys(n.choice).some((function(o){const s=t.save(),a=n.choice[o];try{const n=a._decode(t,e);if(t.isError(n))return!1;r={type:o,value:n},i=!0}catch(e){return t.restore(s),!1}return!0}),this),i?r:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},u.prototype._encode=function(t,e,n){const r=this._baseState;if(null!==r.default&&r.default===t)return;const i=this._encodeValue(t,e,n);return void 0===i||this._skipDefault(i,e,n)?void 0:i},u.prototype._encodeValue=function(t,e,n){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new r);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,n)._encode(t,e),a=!0;else if(i.children)s=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");const r=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i}),this).filter((function(t){return t})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null,s=this._createEncoderBuffer(t.map((function(n){const r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)}),n))}else null!==i.use?o=this._getUse(i.use,n)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,n=null===i.implicit?"universal":"context";null===t?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(t,a,n,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(t,e){const n=this._baseState,r=n.choice[t.type];return r||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){const n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,n){"use strict";const r=n(27);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){const r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){let e;const n=this._reporterState,r=t instanceof o;if(e=r?t:new o(n.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,n){"use strict";function r(t){const e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);const r=t[n];e[r]=n})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(29),i=n.n(r),o=n(30),s=n.n(o),a=n(216);const c=t=>Object(a.a)(Object(a.b)({runIO:i.a.func}),Object(a.e)(s.a.mapValues(t,(t=>({runIO:e,...n})=>(...r)=>e(t(n)(...r))))),Object(a.c)((({runIO:t,...e})=>e)));e.b=c},function(t,e,n){"use strict";var r=n(854);e.multicast=function(t,e){return function(n){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new i(o,e));var s=Object.create(n,r.connectableObservableDescriptor);return s.source=n,s.subjectFactory=o,s}};var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=i},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return et}));var r=n(213),i=n(26),o=n.n(i),s=n(29),a=n.n(s),c=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),u=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});o.a.forwardRef;var l=function(t){var e;void 0===t&&(t="store");var n=t+"Subscription",o=function(e){Object(r.a)(s,e);var o=s.prototype;function s(n,r){var i;return(i=e.call(this,n,r)||this)[t]=n.store,i}return o.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.render=function(){return i.Children.only(this.props.children)},s}(i.Component);return o.propTypes={store:u.isRequired,children:a.a.element.isRequired},o.childContextTypes=((e={})[t]=u.isRequired,e[n]=c,e),o}(),f=n(677),h=n(68),p=n(355),d=n(1123),b=n.n(d),m=n(61),y=n.n(m),v=n(781),g=null,_={notify:function(){}};var w=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=_}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){var t,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(t=[],e=[],{clear:function(){e=g,t=g},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==g&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}))},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=_)},t}(),S=void 0!==o.a.forwardRef,x=0,k={};function E(){}function O(t,e){var n,o;void 0===e&&(e={});var s=e,a=s.getDisplayName,l=void 0===a?function(t){return"ConnectAdvanced("+t+")"}:a,d=s.methodName,m=void 0===d?"connectAdvanced":d,g=s.renderCountProp,_=void 0===g?void 0:g,O=s.shouldHandleStateChanges,A=void 0===O||O,M=s.storeKey,C=void 0===M?"store":M,j=s.withRef,T=void 0!==j&&j,I=Object(p.a)(s,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),P=C+"Subscription",F=x++,R=((n={})[C]=u,n[P]=c,n),D=((o={})[P]=c,o);return function(e){y()(Object(v.isValidElementType)(e),"You must pass a component to the function returned by "+m+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",o=l(n),s=Object(h.a)({},I,{getDisplayName:l,methodName:m,renderCountProp:_,shouldHandleStateChanges:A,storeKey:C,withRef:T,displayName:o,wrappedComponentName:n,WrappedComponent:e}),a=function(n){function a(t,e){var r;return(r=n.call(this,t,e)||this).version=F,r.state={},r.renderCount=0,r.store=t[C]||e[C],r.propsMode=Boolean(t[C]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(f.a)(Object(f.a)(r))),y()(r.store,'Could not find "'+C+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}Object(r.a)(a,n);var c=a.prototype;return c.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[P]=e||this.context[P],t},c.componentDidMount=function(){A&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.componentWillReceiveProps=function(t){this.selector.run(t)},c.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=E,this.store=null,this.selector.run=E,this.selector.shouldComponentUpdate=!1},c.getWrappedInstance=function(){return y()(T,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},c.setWrappedInstance=function(t){this.wrappedInstance=t},c.initSelector=function(){var e=t(this.store.dispatch,s);this.selector=function(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},c.initSubscription=function(){if(A){var t=(this.propsMode?this.props:this.context)[P];this.subscription=new w(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(k)):this.notifyNestedSubs()},c.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.addExtraProps=function(t){if(!(T||_||this.propsMode&&this.subscription))return t;var e=Object(h.a)({},t);return T&&(e.ref=this.setWrappedInstance),_&&(e[_]=this.renderCount++),this.propsMode&&this.subscription&&(e[P]=this.subscription),e},c.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(i.createElement)(e,this.addExtraProps(t.props))},a}(i.Component);return S&&(a.prototype.UNSAFE_componentWillReceiveProps=a.prototype.componentWillReceiveProps,delete a.prototype.componentWillReceiveProps),a.WrappedComponent=e,a.displayName=o,a.childContextTypes=D,a.contextTypes=R,a.propTypes=R,b()(a,e)}}var A=Object.prototype.hasOwnProperty;function M(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function C(t,e){if(M(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!A.call(e,n[i])||!M(t[n[i]],e[n[i]]))return!1;return!0}var j=n(380);function T(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function I(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function P(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=I(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=I(i),i=r(e,n)),i},r}}var F=[function(t){return"function"==typeof t?P(t):void 0},function(t){return t?void 0:T((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?T((function(e){return Object(j.a)(t,e)})):void 0}];var R=[function(t){return"function"==typeof t?P(t):void 0},function(t){return t?void 0:T((function(){return{}}))}];function D(t,e,n){return Object(h.a)({},n,t,e)}var B=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(e,n,a){var c=t(e,n,a);return s?i&&o(c,r)||(r=c):(s=!0,r=c),r}}}(t):void 0},function(t){return t?void 0:function(){return D}}];function N(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function L(t,e,n,r,i){var o,s,a,c,u,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function d(i,p){var d,b,m=!f(p,s),y=!l(i,o);return o=i,s=p,m&&y?(a=t(o,s),e.dependsOnOwnProps&&(c=e(r,s)),u=n(a,c,s)):m?(t.dependsOnOwnProps&&(a=t(o,s)),e.dependsOnOwnProps&&(c=e(r,s)),u=n(a,c,s)):y?(d=t(o,s),b=!h(d,a),a=d,b&&(u=n(a,c,s)),u):u}return function(i,l){return p?d(i,l):(a=t(o=i,s=l),c=e(r,s),u=n(a,c,s),p=!0,u)}}function q(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Object(p.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(t,o),a=r(t,o),c=i(t,o);return(o.pure?L:N)(s,a,c,t,o)}function U(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function z(t,e){return t===e}var V,H,W,K,G,$,J,Y,X,Q,Z,tt,et=(W=(H=void 0===V?{}:V).connectHOC,K=void 0===W?O:W,G=H.mapStateToPropsFactories,$=void 0===G?R:G,J=H.mapDispatchToPropsFactories,Y=void 0===J?F:J,X=H.mergePropsFactories,Q=void 0===X?B:X,Z=H.selectorFactory,tt=void 0===Z?q:Z,function(t,e,n,r){void 0===r&&(r={});var i=r,o=i.pure,s=void 0===o||o,a=i.areStatesEqual,c=void 0===a?z:a,u=i.areOwnPropsEqual,l=void 0===u?C:u,f=i.areStatePropsEqual,d=void 0===f?C:f,b=i.areMergedPropsEqual,m=void 0===b?C:b,y=Object(p.a)(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=U(t,$,"mapStateToProps"),g=U(e,Y,"mapDispatchToProps"),_=U(n,Q,"mergeProps");return K(tt,Object(h.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:v,initMapDispatchToProps:g,initMergeProps:_,pure:s,areStatesEqual:c,areOwnPropsEqual:l,areStatePropsEqual:d,areMergedPropsEqual:m},y))})},function(t,e,n){"use strict";(function(t){var r=n(457),i=n.n(r);const o=t.forModule("timesynchro");let s,a=0;s=window.performance&&"function"==typeof window.performance.now?()=>window.performance.now():()=>Date.now(),s.synchronize=function(t){function e(t){a=t+Date.now()-s()}i()(t,(function(t,n){t?o.error("Cannot synchronize time: "+t):(e(n),o.info("Synchronized time with global server! Offset = "+a))}),e)},s.synchronized=function(){let t=a;return()=>s()+t},e.a=s}).call(this,n(382))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(358),i=n(746),o=n(747),s=Object.defineProperty;e.f=n(110)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"f",(function(){return w})),n.d(e,"d",(function(){return S})),n.d(e,"b",(function(){return x})),n.d(e,"e",(function(){return k})),n.d(e,"a",(function(){return O})),n.d(e,"c",(function(){return A}));var r=n(750),i=n.n(r),o=n(463),s=n.n(o),a=n(751),c=n.n(a),u=n(464),l=n.n(u),f=n(82),h=n(1095),p=n(105),d=n(753),b=n(591);let m=window.ga||function(){};const y=Date.now(),v=i.a.generate();function g(t){return`${t.md5}`}function _(t){return t.custom?"(custom song)":t.title}function w(t,e,n,r,i){console.log("[Analytics]",t,e,n,r,i),m("send","event",t,e,n,r);try{if(window.ga){const o=Date.now()-y,s={info:{sid:v,category:t,action:e,label:n,value:r,extra:i,t:o}};window.navigator.sendBeacon("https://analytics.bemuse.ninja/collect.php?"+Object(h.stringify)(s))}}catch(t){console.warn("[Analytics]","Cannot send beacon:",t)}try{window.amplitude&&window.amplitude.getInstance().logEvent(`${t} / ${e}`,{label:n,value:r,...i})}catch(t){console.warn("[Analytics]","Cannot send to Amplitude:",t)}}function S(t,e,n,r){w("song","play",_(t)),w("game","start",g(e),e.info.level,{gameMode:n,bga:p.r(r)?"y":"n",autoVelocity:p.q(r)?"y":"n",latency:+r["system.offset.audio-input"]}),w("game","mode",n)}function x(t,e,n,r){const i=n.game.players[0],o=i.notechart,s=n.player(i),a=s.stats;w("song","finish",_(t)),w("game","finish",g(e),a.score,{gameMode:r,level:e.info.level,bpm:e.bpm.median,speed:s.speed,score:a.score,maxCombo:a.maxCombo,totalCombo:a.totalCombo,totalNotes:a.totalNotes,accuracy:a.accuracy,stats:E(a.deltas),lr2Score:Object(d.a)(a.deltas,o.expertJudgmentWindow),laneCover:i.options.laneCover,placement:i.options.placement,scratch:i.options.scratch,counts:{w1:a.counts[1],w2:a.counts[2],w3:a.counts[3],w4:a.counts[4],w5:a.counts[f.b]}})}function k(t){console.log(`[Analytics] Game load time: ${t} ms`),m("send","timing","Game","load",t)}function E(t){const e=Object(b.a)(t);return{sd:Math.sqrt(l()(e)),mean:s()(e),median:c()(e)}}function O(t,e,n){let r=n.player(n.game.players[0]);w("song","escape",_(t)),w("game","escape",g(e),r.stats.score)}function A(t,e,n){let r=n.player(n.game.players[0]);w("song","quit",_(t)),w("game","quit",g(e),r.stats.score)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(205);class i{constructor(){this.current=void 0,this.total=void 0,this._observable=new r.a}report(t,e,n){this.current=t,this.total=e,this.extra=n,this._observable.notify()}watch(t){return t(this),this._observable.watch((()=>t(this)))}get progress(){return this.total&&void 0!==this.current&&null!==this.current?this.current/this.total:null}toString(){return void 0!==this.formatter?this.formatter(this):null!==this.progress?this.current+" / "+this.total:""}}},function(t,e,n){"use strict";var r=n(206);e.a=class{constructor(t){this._callbacks=new r.a,this._value=t}get value(){return this._value}set value(t){this._value=t,this.notify(t)}notify(t){this._callbacks.call(t)}watch(t){return void 0!==this._value&&t(this._value),this._callbacks.add(t)}}},function(t,e,n){"use strict";e.a=class{constructor(t){if(this._callbacks={},this._nextId=1,"function"==typeof t)this.add(t);else if("object"==typeof t&&t&&t.length)for(var e=0;e<t.length;e++)this.add(t[e])}call(...t){var e=this._callbacks;for(var n in e)e[n](...t)}add(t){var e=this._nextId++;return this._callbacks[e]=t,()=>delete this._callbacks[e]}}},function(t,e,n){"use strict";var r=n(309),i=n.n(r);e.a=i()({latencyHint:"interaction"})},,,,,,function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}n.d(e,"a",(function(){return i}))},,function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return m}));var r=n(26),i=(n(460),n(1092),n(1093)),o=n(461),s=function(t){return function(e){var n=Object(r.createFactory)(e);return function(e){return n(t(e))}}},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r],r));return n},h=function(t){return function(e){var n=Object(r.createFactory)(e),i=function(t){function e(){var n,r;a(this,e);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l(this,t.call.apply(t,[this].concat(s))),o.call(r),l(r,n)}return u(e,t),e.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},e.prototype.render=function(){return n(c({},this.props,this.handlers))},e}(r.Component),o=function(){var e=this;this.cachedHandlers={},this.handlers=f("function"==typeof t?t(this.props):t,(function(t,n){return function(){var r=e.cachedHandlers[n];if(r)return r.apply(void 0,arguments);var i=t(e.props);return e.cachedHandlers[n]=i,i.apply(void 0,arguments)}}))};return i}},p=(Object.keys,function(t,e,n){return function(i){var o=Object(r.createFactory)(i),s=function(r){function i(){var t,e;a(this,i);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return t=e=l(this,r.call.apply(r,[this].concat(s))),e.state={stateValue:"function"==typeof n?n(e.props):n},e.updateStateValue=function(t,n){return e.setState((function(e){var n=e.stateValue;return{stateValue:"function"==typeof t?t(n):t}}),n)},l(e,t)}return u(i,r),i.prototype.render=function(){var n;return o(c({},this.props,((n={})[t]=this.state.stateValue,n[e]=this.updateStateValue,n)))},i}(r.Component);return s}}),d=(function(t){function e(){return a(this,e),l(this,t.apply(this,arguments))}u(e,t),e.prototype.render=function(){return null}}(r.Component),function(t,e){return function(n){var i=Object(r.createFactory)(n),o=function(t){function n(){var r,i;a(this,n);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return r=i=l(this,t.call.apply(t,[this].concat(s))),i.getChildContext=function(){return e(i.props)},l(i,r)}return u(n,t),n.prototype.render=function(){return i(this.props)},n}(r.Component);return o.childContextTypes=t,o}}),b=function(t){return function(e){var n=Object(r.createFactory)(e),i=function(t,e){return n(c({},t,e))};return i.contextTypes=t,i}};function m(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var y,v={fromESObservable:null,toESObservable:null},g={fromESObservable:function(t){return"function"==typeof v.fromESObservable?v.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof v.toESObservable?v.toESObservable(t):t}};y=g},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n(590),i=n(131),o=n(356);function s(){return Object(o.createIO)((({store:t})=>{t.dispatch({type:i.k,options:r.c()}),r.b.on("changed",(()=>{t.dispatch({type:i.k,options:r.c()})}))}))}function a(t){return Object(o.createIO)((({store:e})=>{const n=e.getState().options,i=t(n),o={};for(const t of Object.keys(n))i[t]!==n[t]&&(o[t]=i[t]);return r.d(o)}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(756);var r=n(55),i=n.n(r),o=n(26),s=n.n(o),a=n(29),c=n.n(a);class u extends s.a.Component{render(){return s.a.createElement("div",{className:i()("Scene",this.props.className),onDragEnter:this.props.onDragEnter},this.props.children)}}u.propTypes={className:c.a.string,children:c.a.node,onDragEnter:c.a.func}},function(t,e,n){"use strict";t.exports=function(t,e){if("string"==typeof t)return c(t);if("number"==typeof t)return a(t,e);return null},t.exports.format=a,t.exports.parse=c;var r=/\B(?=(\d{3})+(?!\d))/g,i=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},s=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function a(t,e){if(!Number.isFinite(t))return null;var n=Math.abs(t),s=e&&e.thousandsSeparator||"",a=e&&e.unitSeparator||"",c=e&&void 0!==e.decimalPlaces?e.decimalPlaces:2,u=Boolean(e&&e.fixedDecimals),l=e&&e.unit||"";l&&o[l.toLowerCase()]||(l=n>=o.pb?"PB":n>=o.tb?"TB":n>=o.gb?"GB":n>=o.mb?"MB":n>=o.kb?"KB":"B");var f=(t/o[l.toLowerCase()]).toFixed(c);return u||(f=f.replace(i,"$1")),s&&(f=f.replace(r,s)),f+a+l}function c(t){if("number"==typeof t&&!isNaN(t))return t;if("string"!=typeof t)return null;var e,n=s.exec(t),r="b";return n?(e=parseFloat(n[1]),r=n[4].toLowerCase()):(e=parseInt(t,10),r="b"),Math.floor(o[r]*e)}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return h}));var r=n(207),i=n(98),o=n(226);const s=.001;let a=document.createElement("audio");const c=!a.canPlayType('audio/ogg; codecs="vorbis"');class u{constructor(t,{volume:e}={}){this._master=t,this._gain=this._master.audioContext.createGain(),null!=e&&(this._gain.gain.value=e),this._gain.connect(this._master.destination)}get destination(){return this._gain}destroy(){this._gain.disconnect(),this._gain=null}}class l{constructor(t,e){this._master=t,this._buffer=e}play(t,e){return new f(this._master,this._buffer,t,e)}destroy(){this._master=null,this._buffer=null}get duration(){return this._buffer.duration}}class f{constructor(t,e,n,r={}){n=n||0,this._master=t;let i=t.audioContext,o=i.createBufferSource();o.buffer=e,o.onended=()=>this.stop();let a=i.createGain();o.connect(a);let c=r.node||r.group&&r.group.destination||t.destination;a.connect(c),this._source=o,this._gain=this.TEST_node=a;let u=n?Math.max(0,i.currentTime+n):0,l=r.start||0,f=l>0,h=!1;if(f&&a.gain.setValueAtTime(0,0),void 0!==r.end){let t=Math.max(r.end-l,0);o.start(u,l,t+s),h=i.currentTime+n+t}else o.start(u,l);f&&(a.gain.setValueAtTime(0,i.currentTime+n),a.gain.linearRampToValueAtTime(1,i.currentTime+n+s)),!1!==h&&(a.gain.setValueAtTime(1,h),a.gain.linearRampToValueAtTime(0,h+s)),this._master._startPlaying(this)}stop(){this._source&&(this._source.stop(0),this._source.disconnect(),this._gain.disconnect(),this._source=null,this._gain=null,this._master._stoppedPlaying(this),this.onstop&&this.onstop())}bad(){this._source&&(this._source.playbackRate.value=Math.random()<.5?Math.pow(2,1/24):Math.pow(2,-1/24))}destroy(){this.stop()}}function h(t=r.a){let e=t.createGain(),n=t.createOscillator();n.frequency.value=440,n.start(t.currentTime+.1),n.stop(t.currentTime+.1),e.connect(t.destination),e.disconnect(),async function(t){return t.resume()}(t).catch((t=>{console.error("[sampling-master] Cannot resume AudioContext",t)}))}e.b=class{constructor(t){this._audioContext=t||r.a,this._samples=[],this._groups=[],this._instances=new Set,this._destination=this._audioContext.destination}unmute(){h(this._audioContext)}get audioContext(){return this._audioContext}get destination(){return this._destination}get currentTime(){return this._audioContext.currentTime}destroy(){if(!this._destroyed){this._destroyed=!0;for(let t of this._samples)t.destroy();for(let t of this._instances)t.destroy();this._samples=null,this._instances=null}}decode(t){return this._coerceToArrayBuffer(t).then((t=>this._decodeAudio(t)))}sample(t){return(()=>t.numberOfChannels?Promise.resolve(t):this.decode(t))().then((t=>{if(this._destroyed)throw new Error("SamplingMaster already destroyed!");var e=new l(this,t);return this._samples.push(e),e}))}group(t){const e=new u(this,t);return this._groups.push(e),e}_coerceToArrayBuffer(t){return t instanceof ArrayBuffer?Promise.resolve(t):Object(i.a)(t).as("arraybuffer")}_decodeAudio(t){return new Promise(((e,n)=>{if(c&&t.byteLength>4){const n=new Uint8Array(t,0,4);if(79===n[0]&&103===n[1]&&103===n[2]&&83===n[3])return e(Object(o.a)(this.audioContext,t))}this.audioContext.decodeAudioData(t,(function(t){e(t)}),(function(t){n(new Error("Unable to decode audio: "+t))}))}))}_startPlaying(t){this._instances.add(t)}_stoppedPlaying(t){this._instances.delete(t)}}},function(t,e,n){"use strict";function r(t,e,n){if(e.match(/\.(?:bms|bme|bml|bmson)/i))return void n(e);const r=(t+e).split("/");for(let t=0;t<r.length;t++)n(r.slice(t).join("/"))}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return b}));var r=n(103);class i{constructor(){this.buffer=[],this.loggingFunction=t=>{this.buffer&&this.buffer.push(t)},this.log=t=>{this.loggingFunction(t)},this.setLoggingFunction=t=>{this.loggingFunction=t,this.buffer&&(this.buffer.forEach((e=>t(e))),this.buffer=null)}}}class o{constructor(t,e,n,r){this._name=t,this._size=e,this._path=n,this._archiveRef=r}get name(){return this._name}get size(){return this._size}extract(){return this._archiveRef.extractSingleFile(this._path)}}class s{static init(t={}){return s._options={workerUrl:"../dist/worker-bundle.js",...t},s._options}static open(t,e=null){e=e||s._options||s.init()&&console.warn("Automatically initializing using options: ",s._options);return new s(t,e).open()}constructor(t,e){this._worker=new Worker(e.workerUrl),this._worker.addEventListener("message",this._workerMsg.bind(this)),this._callbacks=[],this._content={},this._processed=0,this._file=t}async open(){return await this._postMessage({type:"HELLO"},((t,e,n)=>{"READY"===n.type&&t()})),await this._postMessage({type:"OPEN",file:this._file},((t,e,n)=>{"OPENED"===n.type&&t(this)}))}hasEncryptedData(){return this._postMessage({type:"CHECK_ENCRYPTION"},((t,e,n)=>{"ENCRYPTION_STATUS"===n.type&&t(n.status)}))}usePassword(t){return this._postMessage({type:"SET_PASSPHRASE",passphrase:t},((t,e,n)=>{"PASSPHRASE_STATUS"===n.type&&t(n.status)}))}getFilesObject(){return this._processed>0?Promise.resolve().then((()=>this._content)):this._postMessage({type:"LIST_FILES"},((t,e,n)=>{if("ENTRY"===n.type){const t=n.entry,[e,r]=this._getProp(this._content,t.path);return"FILE"===t.type&&(e[r]=new o(t.fileName,t.size,t.path,this)),!0}"END"===n.type&&(this._processed=1,t(this._cloneContent(this._content)))}))}getFilesArray(){return this.getFilesObject().then((t=>this._objectToArray(t)))}extractSingleFile(t){return this._postMessage({type:"EXTRACT_SINGLE_FILE",target:t},((t,e,n)=>{if("FILE"===n.type){t(new File([n.entry.fileData],n.entry.fileName,{type:"application/octet-stream"}))}}))}extractFiles(t){return this._processed>1?Promise.resolve().then((()=>this._content)):this._postMessage({type:"EXTRACT_FILES"},((e,n,r)=>{if("ENTRY"===r.type){const[e,n]=this._getProp(this._content,r.entry.path);return"FILE"===r.entry.type&&(e[n]=new File([r.entry.fileData],r.entry.fileName,{type:"application/octet-stream"}),void 0!==t&&setTimeout(t.bind(null,{file:e[n],path:r.entry.path}))),!0}"END"===r.type&&(this._processed=2,this._worker.terminate(),e(this._cloneContent(this._content)))}))}_cloneContent(t){if(t instanceof File||t instanceof o||null===t)return t;const e={};for(const n of Object.keys(t))e[n]=this._cloneContent(t[n]);return e}_objectToArray(t,e=""){const n=[];for(const r of Object.keys(t))t[r]instanceof File||t[r]instanceof o||null===t[r]?n.push({file:t[r]||r,path:e}):n.push(...this._objectToArray(t[r],`${e}${r}/`));return n}_getProp(t,e){const n=e.split("/");""===n[n.length-1]&&n.pop();let r=t,i=null;for(const t of n)r[t]=r[t]||{},i=r,r=r[t];return[i,n[n.length-1]]}_postMessage(t,e){return this._worker.postMessage(t),new Promise(((t,n)=>{this._callbacks.push(this._msgHandler.bind(this,e,t,n))}))}_msgHandler(t,e,n,r){if("BUSY"===r.type)n("worker is busy");else{if("ERROR"!==r.type)return t(e,n,r);n(r.error)}}_workerMsg({data:t}){(0,this._callbacks[this._callbacks.length-1])(t)||this._callbacks.pop()}}var a=n(222);s.init({workerUrl:"/vendor/libarchive.js-1.3.0/dist/worker-bundle.js"});var c=n(98),u=n(130),l=n(126);const f=/\.(?:zip|rar|7z|tar(?:\.(?:gz|bz2))?)/i,h=/https?:\/\/(?:(?:www|dl)\.dropbox\.com|dl\.dropboxusercontent\.com)\/(sh?)\/([^?]*)(.*)?$/;class p{constructor(t){this._logging=new i,this.setLoggingFunction=this._logging.setLoggingFunction,this._files=Promise.resolve(t.getFiles(this._logging.log)).then((t=>async function(t,e){if(1!==t.length)return t;const n=t[0];if(!n.name.match(f))return t;return e("Archive file detected! Now unarchiving"),async function(t){const e=[],n=await s.open(t),r=await n.extractFiles(),i=(t,n="")=>{for(const r of Object.keys(t))t[r]instanceof File?Object(a.a)(n,r,(n=>{e.push({name:n,file:t[r]})})):t[r]&&"object"==typeof t[r]&&i(t[r],n+r+"/")};return i(r),e}(n.file)}(t,this._logging.log)))}file(t){return this._files.then((function(e){for(let n of e)if(n.name.toLowerCase()===t.toLowerCase())return new d(n.file);throw new Error("unable to find "+t)}))}get fileList(){return Promise.resolve(this._files).then((t=>t.map((t=>t.name))))}}class d{constructor(t){this._file=t}read(t){return r.a(t,Object(c.a)(this._file).as("arraybuffer"))}resolveUrl(){return Promise.resolve(URL.createObjectURL(this._file))}get name(){return this._file.name}}async function b(t,e){const n=t.replace(/[?#].*/,"").split("/").pop(),r=t.match(h);r&&(t=`https://dl.dropboxusercontent.com/${r[1]}/${r[2]}`);const i=new u.a;let o=0;i.watch((()=>{Date.now()<o+5e3||(e(`Downloading: ${i}`),o=Date.now())}));return{name:n,file:await Object(l.a)(t).as("blob",i)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"e",(function(){return h}));var r=n(87),i=n.n(r);const o={status:"pending",value:null,error:null};function s(){return{status:"loading",error:null}}function a(t){return{status:"completed",value:t,error:null}}function c(t){return{status:"error",error:t}}function u(t=o,e){return Object.assign({},t,e)}function l(t){return"loading"===t.status||"pending"===t.status}function f(t){return i.a.fromPromise(function(t){return Promise.resolve(t).then(a,c)}(t)).startWith({status:"loading",error:null})}function h(t){return t.scan(o,u)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(220);let i;const o=n.n(r)()(1);async function s(t,e){const r=await(i||(i=n.e(15).then(n.t.bind(null,743,7)).then((t=>t.default)).then((t=>(0,eval)(t+";stbvorbis")))),i);return o((()=>function(t,e,n){return new Promise(((r,i)=>{const o=[];let s,c=0;t.decode(n,(function(t){if(t.data&&(s=t.sampleRate,o.push(t.data),c+=t.data[0].length),t.error){const e=t.error instanceof Error?t.error:`stbvorbis.js Error: ${t.error}`;i(e)}t.eof&&r(async function(t,e,n,r){if(!n)throw new Error("stbvorbis.js Error: No length");if(!r)throw new Error("stbvorbis.js Error: No sample rate");const i=e[0].length,o=t.createBuffer(i,n,r),s=Array(o.numberOfChannels).fill(null).map(((t,e)=>new a(o.getChannelData(e))));for(const t of e)t.forEach(((t,e)=>{s[e].write(t)}));return o}(e,o,c,s))}))}))}(r,t,e)))}class a{constructor(t){this.data=t,this.offset=0}write(t){const{offset:e,data:n}=this;for(var r=0;r<t.length;r++)n[r+e]=t[r];this.offset+=t.length}}},,function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Notechart=void 0;var a=s(n(30)),c=s(n(61));i(n(364),e);var u=function(){function t(t,e){var n=this;void 0===e&&(e={});var r=t.notes,i=t.timing,o=t.keysounds,s=t.songInfo,a=t.positioning,u=t.spacing,l=t.barLines,f=t.images,h=t.expertJudgmentWindow,p=t.landmineNotes,d=void 0===p?[]:p;(0,c.default)(r,'Expected "data.notes"'),(0,c.default)(i,'Expected "data.timing"'),(0,c.default)(o,'Expected "data.keysounds"'),(0,c.default)(s,'Expected "data.songInfo"'),(0,c.default)(a,'Expected "data.positioning"'),(0,c.default)(u,'Expected "data.spacing"'),(0,c.default)(l,'Expected "data.barLines"'),this.expertJudgmentWindow=h,r=this._preTransform(r,e),this._timing=i,this._positioning=a,this._spacing=u,this._keysounds=o,this._duration=0,this._notes=this._generatePlayableNotesFromBMS(r),this._landmines=this._generatePlayableNotesFromBMS(d),this._autos=this._generateAutoKeysoundEventsFromBMS(r),this._barLines=this._generateBarLineEvents(l),this._samples=this._generateKeysoundFiles(o),this._infos=new Map(this._notes.map((function(t){return[t,n._getNoteInfo(t)]}))),this._songInfo=s,this._images=f}return Object.defineProperty(t.prototype,"notes",{get:function(){return this._notes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"landmines",{get:function(){return this._landmines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autos",{get:function(){return this._autos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"samples",{get:function(){return this._samples},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysounds",{get:function(){return this._keysounds.all()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"barLines",{get:function(){return this._barLines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return["SC","1","2","3","4","5","6","7"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"songInfo",{get:function(){return this._songInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eyecatchImage",{get:function(){return this._images&&this._images.eyecatch||"eyecatch_image.png"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this._images&&this._images.background||"back_image.png"},enumerable:!1,configurable:!0}),t.prototype.info=function(t){return this._infos.get(t)},t.prototype.beatToSeconds=function(t){return this._timing.beatToSeconds(t)},t.prototype.beatToPosition=function(t){return this._positioning.position(t)},t.prototype.measureToBeat=function(t){return(this._barLines[t]||this._barLines[this._barLines.length-1]).beat},t.prototype.secondsToBeat=function(t){return this._timing.secondsToBeat(t)},t.prototype.secondsToPosition=function(t){return this.beatToPosition(this.secondsToBeat(t))},t.prototype.bpmAtBeat=function(t){return this._timing.bpmAtBeat(t)},t.prototype.scrollSpeedAtBeat=function(t){return this._positioning.speed(t)},t.prototype.spacingAtBeat=function(t){return this._spacing.factor(t)},t.prototype.getKeyMode=function(t){var e,n,r={};try{for(var i=o(this.notes),s=i.next();!s.done;s=i.next()){r[s.value.column]=!0}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return("off"!==t||r[1]||r[7])&&("left"!==t||r[6]||r[7])&&("right"!==t||r[1]||r[2])?"7K":"5K"},t.prototype._preTransform=function(t,e){var n=a.default.chain(t),r=function(t){var e,n;try{for(var r=o(t),i=r.next();!i.done;i=r.next()){var s=i.value;if("6"===s.column||"7"===s.column)return"7K"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return"5K"}(t);if("off"===e.scratch&&(n=n.map((function(t){return t.column&&"SC"===t.column?Object.assign({},t,{column:null}):t}))),"5K"===r){var i=["1","2","3","4","5","6","7"],s=function(t){return function(e){if(e.column){var n=i.indexOf(e.column);if(n>-1){var r=n+t;(0,c.default)(r<i.length,"Weird. Columns must not shift beyond available column");var o=i[r];return Object.assign({},e,{column:o})}}return e}};"off"===e.scratch?n=n.map(s(1)):"right"===e.scratch&&(n=n.map(s(2)))}return n.value()},t.prototype._generatePlayableNotesFromBMS=function(t){var e=this,n=1;return t.filter((function(t){return t.column})).map((function(t){var r=e._generateEvent(t.beat);return r.id=n++,r.column=t.column,r.keysound=t.keysound,r.keysoundStart=t.keysoundStart,r.keysoundEnd=t.keysoundEnd,e._updateDuration(r),void 0!==t.endBeat?(r.end=e._generateEvent(t.endBeat),e._updateDuration(r.end)):r.end=void 0,r}))},t.prototype._generateLandminesFromBMS=function(t){var e=this,n=1;return t.filter((function(t){return t.column})).map((function(t){var r=e._generateEvent(t.beat);return r.id=n++,r.column=t.column,e._updateDuration(r),r}))},t.prototype._updateDuration=function(t){t.time>this._duration&&(this._duration=t.time)},t.prototype._generateAutoKeysoundEventsFromBMS=function(t){var e=this;return t.filter((function(t){return!t.column})).map((function(t){var n=e._generateEvent(t.beat);return n.keysound=t.keysound,n.keysoundStart=t.keysoundStart,n.keysoundEnd=t.keysoundEnd,n}))},t.prototype._generateKeysoundFiles=function(t){var e,n,r,i,s=new Set;try{for(var a=o([this.notes,this.autos]),c=a.next();!c.done;c=a.next()){var u=c.value;try{for(var l=(r=void 0,o(u)),f=l.next();!f.done;f=l.next()){var h=f.value,p=t.get(h.keysound);p&&s.add(p)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return Array.from(s)},t.prototype._generateBarLineEvents=function(t){var e=this;return t.map((function(t){return e._generateEvent(t)}))},t.prototype._generateEvent=function(t){return{beat:t,time:this.beatToSeconds(t),position:this.beatToPosition(t)}},t.prototype._getNoteInfo=function(t){return{combos:t.end?2:1}},t}();e.Notechart=u,e.default=u},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return h}));const r=1024,i=-975,o=1024,s=3.922,a=4.555,c=960,u=60;function l(t){let e=Math.max(0,t-1);t<0&&(t=0),t>1&&(t=1);let n=s+(a-s)*t,u=r+Math.cos(n)*o,l=i-Math.sin(n)*o,f=c/(c-u);return{y:l*f+360+2048*e,projection:f}}const f=u;function h(t,e){let n,r,i=.75,o=1;for(let t=0;t<8;t++)n=(i+o)/2,r=l(n),r.y>e?o=n:i=n;if(n<.8)return null;let s=640+r.projection*-u,a=640+r.projection*u,c=Math.floor((t-s)/(a-s)*7);return c>=-1&&c<=7?(c<0&&(c=0),c>6&&(c=6),String(c+1)):null}},,function(t,e,n){"use strict";var r=n(200),i=n(150),o=n(26),s=n.n(o),a=n(54),c=n.n(a),u=(n(681),n(29)),l=n.n(u);class f extends s.a.Component{constructor(t){super(t),this.renderTable=()=>{let t=this.props.bench.stats;return s.a.createElement("table",null,s.a.createElement("tbody",null,Object.keys(t).map((e=>{let n=t[e];return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,e)),s.a.createElement("td",{align:"right"},""+n))}))))},this.handleInteraction=t=>{t.preventDefault(),t.stopPropagation(),this.setState({show:!this.state.show})},this.state={show:!1,text:"wow"}}render(){return s.a.createElement("div",{className:"BenchmarkPanel",onClick:this.handleInteraction,onTouchStart:this.handleInteraction},this.state.show?s.a.createElement("article",null,s.a.createElement("b",null,"Benchmark Stats"),s.a.createElement("br",null),this.renderTable()):"Show Benchmark Stats")}componentDidMount(){setInterval((()=>this.forceUpdate()),1e3)}}function h(){let t=0,e=0,n=0,i=[],o=0,s=0;return{push:function(a){let c=Object(r.a)();for(t+=a,e+=1,n=t/e,o+=a,i.push({delta:a,time:c});i[0]&&i[0].time<c-1e3;)o-=i.shift().delta;s=o/i.length},toString:()=>p(n)+" / "+p(s)}}function p(t){return t.toFixed(2)+"ms"}f.propTypes={bench:l.a.object};e.a=window.BEMUSE_BENCHMARK=Object(i.c)()?new function(){var t={};let e={enabled:!0,stats:t,wrap:(e,n)=>function(){try{var i=Object(r.a)();return n.apply(this,arguments)}finally{var o=Object(r.a)(),s=t[e]||(t[e]=new h(e));s.push(o-i)}},benchmark(t,e,n){e[n]=this.wrap(t,e[n])},toString(){var e=[];return Object.keys(t).forEach((function(n){e.push("- "+n+": "+t[n])})),e.join("\n")}},n=document.createElement("div");return n.setAttribute("style","position:fixed;top:10px;right:10px;z-index:99999"),document.body.appendChild(n),c.a.render(s.a.createElement(f,{bench:e}),n),e}:new function(){return{enabled:!1,wrap:(t,e)=>e}}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,c=1,u={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[c]=i,r(c),c++},h.clearImmediate=p}function p(t){delete u[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(31),n(36))},function(t,e,n){"use strict";var r=n(26),i=n.n(r),o=n(54),s=n.n(o),a=n(109);let c=new class{constructor(){this._transitioning=!1,this._stack=[]}display(t){return this._transitionTo((()=>t))}push(t){let e=this.currentScene;return this._transitionTo((()=>(this._stack.push(e),t)))}pop(){return this._transitionTo((()=>this._stack.pop()))}async _transitionTo(t){if(this._transitioning)throw new Error("Scene is transitioning!");try{this._transitioning=!0,this.currentSceneInstance&&(await Promise.resolve(this.currentSceneInstance.teardown()),function(t){t&&t.parentNode===a.a&&a.a.removeChild(t)}(this.currentElement));let n=t();"function"!=typeof n&&(n=new u(n,this.ReactSceneContainer));var e=document.createElement("div");e.className="scene-manager--scene",a.a.appendChild(e),this.currentElement=e,this.currentScene=n,this.currentSceneInstance=n(e)}finally{this._transitioning=!1}}};function u(t,e){return function(n){let r=()=>{};const o=i.a.cloneElement(t,{scene:t,registerTeardownCallback:t=>{r=t}}),a=e?i.a.createElement(e,null,o):o;return s.a.render(a,n),{teardown:()=>Promise.try((()=>r())).finally((()=>{s.a.unmountComponentAtNode(n)}))}}}e.a=c},function(t,e,n){var r=n(202),i=n(716);t.exports=n(110)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Array.isArray(t)?t:(0,o.default)(t.split("."),(function(t){return!t}))};var r,i=n(236),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){var r=n(237),i=n(470),o=n(89),s=n(42),a=n(253);t.exports=function(t,e){return(s(t)?r:i)(t,a(o(e,3)))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}},function(t,e,n){var r=n(471),i=n(88);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(473),i=n(153),o=n(42),s=n(154),a=n(155),c=n(241),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&s(t),h=!n&&!l&&!f&&c(t),p=n||l||f||h,d=p?r(t.length,String):[],b=d.length;for(var m in t)!e&&!u.call(t,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,b))||d.push(m);return d}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(31))},function(t,e,n){var r=n(478),i=n(157),o=n(158),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(72),i=n(64);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(510),i=n(56);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,s,t,a))}},function(t,e,n){var r=n(511),i=n(514),o=n(515);t.exports=function(t,e,n,s,a,c){var u=1&n,l=t.length,f=e.length;if(l!=f&&!(u&&f>l))return!1;var h=c.get(t),p=c.get(e);if(h&&p)return h==e&&p==t;var d=-1,b=!0,m=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++d<l;){var y=t[d],v=e[d];if(s)var g=u?s(v,y,d,e,t,c):s(y,v,d,t,e,c);if(void 0!==g){if(g)continue;b=!1;break}if(m){if(!i(e,(function(t,e){if(!o(m,e)&&(y===t||a(y,t,n,s,c)))return m.push(e)}))){b=!1;break}}else if(y!==v&&!a(y,v,n,s,c)){b=!1;break}}return c.delete(t),c.delete(e),b}},function(t,e,n){var r=n(48).Uint8Array;t.exports=r},function(t,e,n){var r=n(249),i=n(165),o=n(88);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(164),i=n(42);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(64);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(90)),i=o(n(77));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n,i){var o=("function"==typeof t?t(i):t)?e:n;return(0,r.default)(o,i)}))},function(t,e,n){var r=n(72),i=n(169),o=n(56),s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(90)),i=c(n(77)),o=c(n(539)),s=c(n(541)),a=c(n(543));function c(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){var n="function"==typeof t?t:(0,r.default)(t),i=(Array.isArray(e)?s.default:a.default)(e,n),c=function(t,e){var n=!0;return(0,o.default)(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n}(e,i);return c?e:i}))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(65),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(164),i=n(169),o=n(165),s=n(250),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:s;t.exports=a},function(t,e,n){"use strict";e.a=function(t){return"7K"===t.keys||"5K"===t.keys}},function(t,e,n){"use strict";var r=n(28).Buffer,i=n(262).Transform;function o(t){i.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(27)(o,i),o.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,n){(e=t.exports=n(263)).Stream=e,e.Readable=e,e.Writable=n(267),e.Duplex=n(80),e.Transform=n(269),e.PassThrough=n(598),e.finished=n(176),e.pipeline=n(599)},function(t,e,n){"use strict";(function(e,r){var i;t.exports=E,E.ReadableState=k;n(69).EventEmitter;var o=function(t,e){return t.listeners(e).length},s=n(264),a=n(40).Buffer,c=e.Uint8Array||function(){};var u,l=n(593);u=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,p,d=n(594),b=n(265),m=n(266).getHighWaterMark,y=n(79).codes,v=y.ERR_INVALID_ARG_TYPE,g=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(27)(E,s);var S=b.errorOrDestroy,x=["error","close","destroy","pause","resume"];function k(t,e,r){i=i||n(80),t=t||{},"boolean"!=typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(93).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function E(t){if(i=i||n(80),!(this instanceof E))return new E(t);var e=this instanceof i;this._readableState=new k(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function O(t,e,n,r,i){u("readableAddChunk",e);var o,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(u("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?j(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,T(t)))}(t,s);else if(i||(o=function(t,e){var n;r=e,a.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],e));var r;return n}(s,e)),o)S(t,o);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),r)s.endEmitted?S(t,new w):A(t,s,e,!0);else if(s.ended)S(t,new g);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?A(t,s,e,!1):I(t,s)):A(t,s,e,!1)}else r||(s.reading=!1,I(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function A(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&j(t)),I(t,e)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),E.prototype.destroy=b.destroy,E.prototype._undestroy=b.undestroy,E.prototype._destroy=function(t,e){e(t)},E.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=a.from(t,e),e=""),n=!0),O(this,t,e,!1,n)},E.prototype.unshift=function(t){return O(this,t,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){f||(f=n(93).StringDecoder);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var M=1073741824;function C(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=M?t=M:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function j(t){var e=t._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(T,t))}function T(t){var e=t._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,B(t)}function I(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(P,t,e))}function P(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(u("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function F(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function R(t){u("readable nexttick read 0"),t.read(0)}function D(t,e){u("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function L(t){var e=t._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(q,e,t))}function q(t,e){if(u("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function U(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}E.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):j(this),null;if(0===(t=C(t,e))&&e.ended)return 0===e.length&&L(this),null;var r,i=e.needReadable;return u("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",i=!0),e.ended||e.reading?u("reading or ended",i=!1):i&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=C(n,e))),null===(r=t>0?N(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&L(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(t){S(this,new _("_read()"))},E.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:m;function a(e,r){u("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),t.removeListener("close",d),t.removeListener("finish",b),t.removeListener("drain",l),t.removeListener("error",p),t.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",m),n.removeListener("data",h),f=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){u("onend"),t.end()}i.endEmitted?r.nextTick(s):n.once("end",s),t.on("unpipe",a);var l=function(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,B(t))}}(n);t.on("drain",l);var f=!1;function h(e){u("ondata");var r=t.write(e);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==U(i.pipes,t))&&!f&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function p(e){u("onerror",e),m(),t.removeListener("error",p),0===o(t,"error")&&S(t,e)}function d(){t.removeListener("finish",b),m()}function b(){u("onfinish"),t.removeListener("close",d),m()}function m(){u("unpipe"),n.unpipe(t)}return n.on("data",h),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",p),t.once("close",d),t.once("finish",b),t.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),t},E.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},E.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?j(this):i.reading||r.nextTick(R,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(t,e){var n=s.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(F,this),n},E.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||r.nextTick(F,this),e},E.prototype.resume=function(){var t=this._readableState;return t.flowing||(u("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(D,t,e))}(this,t)),t.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<x.length;o++)t.on(x[o],this.emit.bind(this,x[o]));return this._read=function(e){u("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(596)),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),E._fromList=N,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,e){return void 0===p&&(p=n(597)),p(E,t,e)})}).call(this,n(31),n(36))},function(t,e,n){t.exports=n(69).EventEmitter},function(t,e,n){"use strict";(function(e){function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(r,s):(s._writableState.errorEmitted=!0,e.nextTick(n,s,t)):e.nextTick(n,s,t):o?(e.nextTick(r,s),o(t)):e.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this,n(36))},function(t,e,n){"use strict";var r=n(79).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;t.exports=E,E.WritableState=k;var s={deprecate:n(268)},a=n(264),c=n(40).Buffer,u=e.Uint8Array||function(){};var l,f=n(265),h=n(266).getHighWaterMark,p=n(79).codes,d=p.ERR_INVALID_ARG_TYPE,b=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,v=p.ERR_STREAM_DESTROYED,g=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,w=p.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function x(){}function k(t,e,s){o=o||n(80),t=t||{},"boolean"!=typeof s&&(s=e instanceof o),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(T,t,e),t._writableState.errorEmitted=!0,S(t,i)):(o(i),t._writableState.errorEmitted=!0,S(t,i),T(t,e))}(t,n,i,e,o);else{var s=C(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||M(t,n),i?r.nextTick(A,t,n,s,o):A(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(t){var e=this instanceof(o=o||n(80));if(!e&&!l.call(E,this))return new E(t);this._writableState=new k(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function O(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function A(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),T(t,e)}function M(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,O(t,e,!0,e.length,o,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(O(t,e,!1,e.objectMode?1:u.length,u,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function j(t,e){t._final((function(n){e.pendingcb--,n&&S(t,n),e.prefinished=!0,t.emit("prefinish"),T(t,e)}))}function T(t,e){var n=C(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(j,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}n(27)(E,a),k.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===E&&(t&&t._writableState instanceof k)}})):l=function(t){return t instanceof this},E.prototype.pipe=function(){S(this,new y)},E.prototype.write=function(t,e,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=t,c.isBuffer(i)||i instanceof u);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=x),o.ending?function(t,e){var n=new _;S(t,n),r.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var o;return null===n?o=new g:"string"==typeof n||e.objectMode||(o=new d("chunk",["string","Buffer"],n)),!o||(S(t,o),r.nextTick(i,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else O(t,e,!1,a,r,i,o);return u}(this,o,a,t,e,n)),s},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||M(this,t))},E.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(t,e,n){n(new b("_write()"))},E.prototype._writev=null,E.prototype.end=function(t,e,n){var i=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,T(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(t,e){e(t)}}).call(this,n(31),n(36))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(31))},function(t,e,n){"use strict";t.exports=l;var r=n(79).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(80);function u(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(e,n){h(t,e,n)}))}function h(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}n(27)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},function(t,e,n){var r=n(27),i=n(81),o=n(28).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function h(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,d=0|this._f,b=0|this._g,m=0|this._h,y=0;y<16;++y)n[y]=t.readInt32BE(4*y);for(;y<64;++y)n[y]=0|(((e=n[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[y-7]+p(n[y-15])+n[y-16];for(var v=0;v<64;++v){var g=m+h(c)+u(c,d,b)+s[v]+n[v]|0,_=f(r)+l(r,i,o)|0;m=b,b=d,d=c,c=a+g|0,a=o,o=i,i=r,r=g+_|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=b+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,n){var r=n(27),i=n(81),o=n(28).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function h(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function b(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,v=0|this._gh,g=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,x=0|this._dl,k=0|this._el,E=0|this._fl,O=0|this._gl,A=0|this._hl,M=0;M<32;M+=2)e[M]=t.readInt32BE(4*M),e[M+1]=t.readInt32BE(4*M+4);for(;M<160;M+=2){var C=e[M-30],j=e[M-30+1],T=p(C,j),I=d(j,C),P=b(C=e[M-4],j=e[M-4+1]),F=m(j,C),R=e[M-14],D=e[M-14+1],B=e[M-32],N=e[M-32+1],L=I+D|0,q=T+R+y(L,I)|0;q=(q=q+P+y(L=L+F|0,F)|0)+B+y(L=L+N|0,N)|0,e[M]=q,e[M+1]=L}for(var U=0;U<160;U+=2){q=e[U],L=e[U+1];var z=l(n,r,i),V=l(_,w,S),H=f(n,_),W=f(_,n),K=h(a,k),G=h(k,a),$=s[U],J=s[U+1],Y=u(a,c,v),X=u(k,E,O),Q=A+G|0,Z=g+K+y(Q,A)|0;Z=(Z=(Z=Z+Y+y(Q=Q+X|0,X)|0)+$+y(Q=Q+J|0,J)|0)+q+y(Q=Q+L|0,L)|0;var tt=W+V|0,et=H+z+y(tt,W)|0;g=v,A=O,v=c,O=E,c=a,E=k,a=o+Z+y(k=x+Q|0,x)|0,o=i,x=S,i=r,S=w,r=n,w=_,n=Z+et+y(_=Q+tt|0,Q)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+x|0,this._el=this._el+k|0,this._fl=this._fl+E|0,this._gl=this._gl+O|0,this._hl=this._hl+A|0,this._ah=this._ah+n+y(this._al,_)|0,this._bh=this._bh+r+y(this._bl,w)|0,this._ch=this._ch+i+y(this._cl,S)|0,this._dh=this._dh+o+y(this._dl,x)|0,this._eh=this._eh+a+y(this._el,k)|0,this._fh=this._fh+c+y(this._fl,E)|0,this._gh=this._gh+v+y(this._gl,O)|0,this._hh=this._hh+g+y(this._hl,A)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,n){"use strict";(function(e,r){var i=n(120);t.exports=g;var o,s=n(754);g.ReadableState=v;n(69).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n(273),u=n(180).Buffer,l=e.Uint8Array||function(){};var f=Object.create(n(94));f.inherits=n(27);var h=n(605),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,b=n(606),m=n(274);f.inherits(g,c);var y=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var r=e instanceof(o=o||n(66));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(93).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function g(t){if(o=o||n(66),!(this instanceof g))return new g(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function _(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,k(t)}(t,s)):(i||(o=function(t,e){var n;r=e,u.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):O(t,s)):w(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&k(t)),O(t,e)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(t,e){this.push(null),e(t)},g.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},g.prototype.unshift=function(t){return _(this,t,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(t){return d||(d=n(93).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var S=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){p("emit readable"),t.emit("readable"),j(t)}function O(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(A,t,e))}function A(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){p("readable nexttick read 0"),t.read(0)}function C(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),j(t),e.flowing&&!e.reading&&t.read(0)}function j(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function T(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function I(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function F(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}g.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?I(this):k(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&I(this),null;var r,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(r=t>0?T(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&I(this)),null!==r&&this.emit("data",r),r},g.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:g;function u(e,r){p("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),t.removeListener("close",y),t.removeListener("finish",v),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",g),n.removeListener("data",b),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){p("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",u);var f=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,j(t))}}(n);t.on("drain",f);var h=!1;var d=!1;function b(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==F(o.pipes,t))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function m(e){p("onerror",e),g(),t.removeListener("error",m),0===a(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",v),g()}function v(){p("onfinish"),t.removeListener("close",y),g()}function g(){p("unpipe"),n.unpipe(t)}return n.on("data",b),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",y),t.once("finish",v),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},g.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=F(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},g.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):i.nextTick(M,this))}return n},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(C,t,e))}(this,t)),this},g.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){p("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=T}).call(this,n(31),n(36))},function(t,e,n){t.exports=n(69).EventEmitter},function(t,e,n){"use strict";var r=n(120);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=s;var r=n(66),i=Object.create(n(94));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(27),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";var r=n(27),i=n(613),o=n(57),s=n(28).Buffer,a=n(277),c=n(177),u=n(178),l=s.alloc(128);function f(t,e){o.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new c:u(t)).update(e).digest():e.length<n&&(e=s.concat([e,l],n));for(var r=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),a=0;a<n;a++)r[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new c:u(t),this._hash.update(r)}r(f,o),f.prototype._update=function(t){this._hash.update(t)},f.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new f("rmd160",e):"md5"===t?new i(a,e):new f(t,e)}},function(t,e,n){var r=n(175);t.exports=function(t){return(new r).update(t).digest()}},function(t,e){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(t,e,n){e.pbkdf2=n(615),e.pbkdf2Sync=n(282)},function(t,e){var n=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>n||e!=e)throw new TypeError("Bad key length")}},function(t,e,n){(function(e,n){var r;if(e.process&&e.process.browser)r="utf-8";else if(e.process&&e.process.version){r=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";t.exports=r}).call(this,n(31),n(36))},function(t,e,n){var r=n(277),i=n(177),o=n(178),s=n(28).Buffer,a=n(280),c=n(281),u=n(283),l=s.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(t,e,n){var a=function(t){function e(e){return o(t).update(e).digest()}function n(t){return(new i).update(t).digest()}return"rmd160"===t||"ripemd160"===t?n:"md5"===t?r:e}(t),c="sha512"===t||"sha384"===t?128:64;e.length>c?e=a(e):e.length<c&&(e=s.concat([e,l],c));for(var u=s.allocUnsafe(c+f[t]),h=s.allocUnsafe(c+f[t]),p=0;p<c;p++)u[p]=54^e[p],h[p]=92^e[p];var d=s.allocUnsafe(c+n+4);u.copy(d,0,0,c),this.ipad1=d,this.ipad2=u,this.opad=h,this.alg=t,this.blocksize=c,this.hash=a,this.size=f[t]}h.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,r,i){a(n,r);var o=new h(i=i||"sha1",t=u(t,c,"Password"),(e=u(e,c,"Salt")).length),l=s.allocUnsafe(r),p=s.allocUnsafe(e.length+4);e.copy(p,0,0,e.length);for(var d=0,b=f[i],m=Math.ceil(r/b),y=1;y<=m;y++){p.writeUInt32BE(y,e.length);for(var v=o.run(p,o.ipad1),g=v,_=1;_<n;_++){g=o.run(g,o.ipad2);for(var w=0;w<b;w++)v[w]^=g[w]}v.copy(l,d),d+=b}return l}},function(t,e,n){var r=n(28).Buffer;t.exports=function(t,e,n){if(r.isBuffer(t))return t;if("string"==typeof t)return r.from(t,e);if(ArrayBuffer.isView(t))return r.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+s&1,i<<=1,i|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,s=0,a=r.length>>>1,c=0;c<a;c++)o<<=1,o|=t>>>r[c]&1;for(c=a;c<r.length;c++)s<<=1,s|=e>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(t>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(e>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(t,e,n){"use strict";var r=n(45),i=n(27),o=n(284),s=n(182);function a(){this.tmp=new Array(2),this.keys=null}function c(t){s.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(c,s),t.exports=c,c.create=function(t){return new c(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(t,e){t.keys=new Array(32),r.equal(e.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var s=0;s<t.keys.length;s+=2){var a=u[s>>>1];n=o.r28shl(n,a),i=o.r28shl(i,a),o.pc2(n,i,t.keys,s)}},c.prototype._update=function(t,e,n,r){var i=this._desState,s=o.readUInt32BE(t,e),a=o.readUInt32BE(t,e+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(n,s,r),o.writeUInt32BE(n,a,r+4)},c.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},c.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)r.equal(t[n],e);return t.slice(0,t.length-e)},c.prototype._encrypt=function(t,e,n,r,i){for(var s=e,a=n,c=0;c<t.keys.length;c+=2){var u=t.keys[c],l=t.keys[c+1];o.expand(a,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var f=o.substitute(u,l),h=a;a=(s^o.permute(f))>>>0,s=h}o.rip(a,s,r,i)},c.prototype._decrypt=function(t,e,n,r,i){for(var s=n,a=e,c=t.keys.length-2;c>=0;c-=2){var u=t.keys[c],l=t.keys[c+1];o.expand(s,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var f=o.substitute(u,l),h=s;s=(a^o.permute(f))>>>0,a=h}o.rip(s,a,r,i)}},function(t,e,n){var r=n(95),i=n(28).Buffer,o=n(287);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*n)]);for(var a=0;a<n;a++){var c=s(t),u=o+16*a;t._cache.writeUInt32BE(c[0],u+0),t._cache.writeUInt32BE(c[1],u+4),t._cache.writeUInt32BE(c[2],u+8),t._cache.writeUInt32BE(c[3],u+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),r(e,l)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},function(t,e){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(t,e,n){var r=n(121),i=n(28).Buffer,o=n(57),s=n(27),a=n(628),c=n(95),u=n(287);function l(t,e,n,s){o.call(this);var c=i.alloc(4,0);this._cipher=new r.AES(e);var l=this._cipher.encryptBlock(c);this._ghash=new a(l),n=function(t,e,n){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var r=new a(n),o=e.length,s=o%16;r.update(e),s&&(s=16-s,r.update(i.alloc(s,0))),r.update(i.alloc(8,0));var c=8*o,l=i.alloc(8);l.writeUIntBE(c,0,8),r.update(l),t._finID=r.state;var f=i.from(t._finID);return u(f),f}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(l,o),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l},function(t,e,n){var r=n(121),i=n(28).Buffer,o=n(57);function s(t,e,n,s){o.call(this),this._cipher=new r.AES(e),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=t}n(27)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},function(t,e,n){var r=n(78);t.exports=v,v.simpleSieve=m,v.fermatTest=y;var i=n(37),o=new i(24),s=new(n(292)),a=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),h=(new i(7),new i(11)),p=new i(4),d=(new i(12),null);function b(){if(null!==d)return d;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!=0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return d=t,t}function m(t){for(var e=b(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function y(t){var e=i.mont(t);return 0===c.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var n,d;for(e=new i(e);;){for(n=new i(r(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(a),n.testn(1)||n.iadd(c),e.cmp(c)){if(!e.cmp(u))for(;n.mod(l).cmp(f);)n.iadd(p)}else for(;n.mod(o).cmp(h);)n.iadd(p);if(m(d=n.shrn(1))&&m(n)&&y(d)&&y(n)&&s.test(d)&&s.test(n))return n}}},function(t,e,n){var r=n(37),i=n(185);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var i=t.bitLength(),o=r.mont(t),s=new r(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),c=0;!a.testn(c);c++);for(var u=t.shrn(c),l=a.toRed(o);e>0;e--){var f=this._randrange(new r(2),a);n&&n(f);var h=f.toRed(o).redPow(u);if(0!==h.cmp(s)&&0!==h.cmp(l)){for(var p=1;p<c;p++){if(0===(h=h.redSqr()).cmp(s))return!1;if(0===h.cmp(l))break}if(p===c)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),i=r.mont(t),o=new r(1).toRed(i);e||(e=Math.max(1,n/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var c=t.shrn(a),u=s.toRed(i);e>0;e--){var l=this._randrange(new r(2),s),f=t.gcd(l);if(0!==f.cmpn(1))return f;var h=l.toRed(i).redPow(c);if(0!==h.cmp(o)&&0!==h.cmp(u)){for(var p=1;p<a;p++){if(0===(h=h.redSqr()).cmp(o))return h.fromRed().subn(1).gcd(t);if(0===h.cmp(u))break}if(p===a)return(h=h.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){"use strict";var r=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}return n},r.zero2=i,r.toHex=o,r.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,n){"use strict";var r=e;r.base=n(123),r.short=n(640),r.mont=n(641),r.edwards=n(642)},function(t,e,n){"use strict";var r=n(49).rotr32;function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function s(t,e,n){return t^e^n}e.ft_1=function(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?s(e,n,r):2===t?o(e,n,r):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},function(t,e,n){"use strict";var r=n(49),i=n(96),o=n(295),s=n(45),a=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,f=o.maj32,h=o.s0_256,p=o.s1_256,d=o.g0_256,b=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(v,m),t.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=c(b(n[r-2]),n[r-7],d(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],v=this.h[4],g=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var S=u(w,p(v),l(v,g,_),this.k[r],n[r]),x=a(h(i),f(i,o,m));w=_,_=g,g=v,v=a(y,S),y=m,m=o,o=i,i=a(S,x)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],g),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},v.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(49),i=n(96),o=n(45),s=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,h=r.sum64_lo,p=r.sum64_4_hi,d=r.sum64_4_lo,b=r.sum64_5_hi,m=r.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function _(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function w(t,e,n,r,i,o){var s=e&r^~e&o;return s<0&&(s+=4294967296),s}function S(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function x(t,e,n,r,i,o){var s=e&r^e&o^r&o;return s<0&&(s+=4294967296),s}function k(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function E(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function O(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function A(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function M(t,e){var n=s(t,e,1)^s(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}function C(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function j(t,e){var n=s(t,e,19)^s(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}function T(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}r.inherits(g,y),t.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=j(n[r-4],n[r-3]),o=T(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],c=M(n[r-30],n[r-29]),u=C(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=p(i,o,s,a,c,u,l,f),n[r+1]=d(i,o,s,a,c,u,l,f)}},g.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],p=this.h[6],d=this.h[7],y=this.h[8],v=this.h[9],g=this.h[10],M=this.h[11],C=this.h[12],j=this.h[13],T=this.h[14],I=this.h[15];o(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var F=T,R=I,D=O(y,v),B=A(y,v),N=_(y,v,g,M,C),L=w(y,v,g,M,C,j),q=this.k[P],U=this.k[P+1],z=n[P],V=n[P+1],H=b(F,R,D,B,N,L,q,U,z,V),W=m(F,R,D,B,N,L,q,U,z,V);F=k(r,i),R=E(r,i),D=S(r,i,s,a,c),B=x(r,i,s,a,c,u);var K=f(F,R,D,B),G=h(F,R,D,B);T=C,I=j,C=g,j=M,g=y,M=v,y=f(p,d,H,W),v=h(d,d,H,W),p=c,d=u,c=s,u=a,s=r,a=i,r=f(H,W,K,G),i=h(H,W,K,G)}l(this.h,0,r,i),l(this.h,2,s,a),l(this.h,4,c,u),l(this.h,6,p,d),l(this.h,8,y,v),l(this.h,10,g,M),l(this.h,12,C,j),l(this.h,14,T,I)},g.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";const r=e;r.bignum=n(37),r.define=n(658).define,r.base=n(661),r.constants=n(662),r.decoders=n(301),r.encoders=n(299)},function(t,e,n){"use strict";const r=e;r.der=n(300),r.pem=n(659)},function(t,e,n){"use strict";const r=n(27),i=n(191).Buffer,o=n(192),s=n(194);function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.call(this,"der",t)}function u(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},r(c,o),c.prototype._encodeComposite=function(t,e,n,r){const o=function(t,e,n,r){let i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(s.tagByName.hasOwnProperty(t))i=s.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}if(i>=31)return r.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=s.tagClassByName[n||"universal"]<<6,i}(t,e,n,this.reporter);if(r.length<128){const t=i.alloc(2);return t[0]=o,t[1]=r.length,this._createEncoderBuffer([t,r])}let a=1;for(let t=r.length;t>=256;t>>=8)a++;const c=i.alloc(2+a);c[0]=o,c[1]=128|a;for(let t=1+a,e=r.length;e>0;t--,e>>=8)c[t]=255&e;return this._createEncoderBuffer([c,r])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=i.alloc(2*t.length);for(let n=0;n<t.length;n++)e.writeUInt16BE(t.charCodeAt(n),2*n);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let r=0;for(let e=0;e<t.length;e++){let n=t[e];for(r++;n>=128;n>>=7)r++}const o=i.alloc(r);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let n=t[e];for(o[s--]=127&n;(n>>=7)>0;)o[s--]=128|127&n}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let n;const r=new Date(t);return"gentime"===e?n=[u(r.getUTCFullYear()),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[u(r.getUTCFullYear()%100),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const n=i.alloc(e);return t.copy(n),0===t.length&&(n[0]=0),this._createEncoderBuffer(n)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let e=t;e>=256;e>>=8)n++;const r=new Array(n);for(let e=r.length-1;e>=0;e--)r[e]=255&t,t>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(i.from(r))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,n){const r=this._baseState;let i;if(null===r.default)return!1;const o=t.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,e,n).join()),o.length!==r.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==r.defaultBuffer[i])return!1;return!0}},function(t,e,n){"use strict";const r=e;r.der=n(302),r.pem=n(660)},function(t,e,n){"use strict";const r=n(27),i=n(37),o=n(97).DecoderBuffer,s=n(192),a=n(194);function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){s.call(this,"der",t)}function l(t,e){let n=t.readUInt8(e);if(t.isError(n))return n;const r=a.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){let r=n;for(n=0;128==(128&r);){if(r=t.readUInt8(e),t.isError(r))return r;n<<=7,n|=127&r}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:a.tag[n]}}function f(t,e,n){let r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0==(128&r))return r;const i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(let e=0;e<i;e++){r<<=8;const e=t.readUInt8(n);if(t.isError(e))return e;r|=e}return r}t.exports=c,c.prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},r(u,s),u.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;const r=t.save(),i=l(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},u.prototype._decodeTag=function(t,e,n){const r=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;let i=f(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){const n=l(t,e);if(t.isError(n))return n;const r=f(t,n.primitive,e);if(t.isError(r))return r;let i;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},u.prototype._decodeList=function(t,e,n,r){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const o=n.decode(t,"der",r);if(t.isError(o)&&e)break;i.push(o)}return i},u.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let n="";for(let t=0;t<e.length/2;t++)n+=String.fromCharCode(e.readUInt16BE(2*t));return n}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,n){let r;const i=[];let o=0,s=0;for(;!t.isEmpty();)s=t.readUInt8(),o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,c=i[0]%40;if(r=n?i:[a,c].concat(i.slice(1)),e){let t=e[r.join(" ")];void 0===t&&(t=e[r.join(".")]),void 0!==t&&(r=t)}return r},u.prototype._decodeTime=function(t,e){const n=t.raw().toString();let r,i,o,s,a,c;if("gentime"===e)r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),a=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),s=0|n.slice(6,8),a=0|n.slice(8,10),c=0|n.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,s,a,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){const n=t.raw();let r=new i(n);return e&&(r=e[r.toString(10)]||r),r},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(t,e,n){var r=n(92),i=n(28).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var n,s=i.alloc(0),a=0;s.length<e;)n=o(a++),s=i.concat([s,r("sha1").update(t).update(n).digest()]);return s.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},function(t,e,n){var r=n(37),i=n(28).Buffer;t.exports=function(t,e){return i.from(t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}},function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return s(t)?t:G(t)}function r(t){return a(t)?t:$(t)}function i(t){return c(t)?t:J(t)}function o(t){return s(t)&&!u(t)?t:Y(t)}function s(t){return!(!t||!t[f])}function a(t){return!(!t||!t[h])}function c(t){return!(!t||!t[p])}function u(t){return a(t)||c(t)}function l(t){return!(!t||!t[d])}e(r,n),e(i,n),e(o,n),n.isIterable=s,n.isKeyed=a,n.isIndexed=c,n.isAssociative=u,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",b="delete",m=5,y=1<<m,v=y-1,g={},_={value:!1},w={value:!1};function S(t){return t.value=!1,t}function x(t){t&&(t.value=!0)}function k(){}function E(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function O(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function A(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?O(t)+e:e}function M(){return!0}function C(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function j(t,e){return I(t,e,0)}function T(t,e){return I(t,e,e)}function I(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var P=0,F=1,R=2,D="function"==typeof Symbol&&Symbol.iterator,B="@@iterator",N=D||B;function L(t){this.next=t}function q(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function z(t){return!!W(t)}function V(t){return t&&"function"==typeof t.next}function H(t){var e=W(t);return e&&e.call(t)}function W(t){var e=t&&(D&&t[D]||t[B]);if("function"==typeof e)return e}function K(t){return t&&"number"==typeof t.length}function G(t){return null==t?st():s(t)?t.toSeq():ut(t)}function $(t){return null==t?st().toKeyedSeq():s(t)?a(t)?t.toSeq():t.fromEntrySeq():at(t)}function J(t){return null==t?st():s(t)?a(t)?t.entrySeq():t.toIndexedSeq():ct(t)}function Y(t){return(null==t?st():s(t)?a(t)?t.entrySeq():t:ct(t)).toSetSeq()}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=P,L.VALUES=F,L.ENTRIES=R,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[N]=function(){return this},e(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(t,e){return ft(this,t,e,!0)},G.prototype.__iterator=function(t,e){return ht(this,t,e,!0)},e($,G),$.prototype.toKeyedSeq=function(){return this},e(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(t,e){return ft(this,t,e,!1)},J.prototype.__iterator=function(t,e){return ht(this,t,e,!1)},e(Y,G),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},G.isSeq=ot,G.Keyed=$,G.Set=Y,G.Indexed=J;var X,Q,Z,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function nt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function it(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[tt])}function st(){return X||(X=new et([]))}function at(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():V(t)?new it(t).fromEntrySeq():z(t)?new rt(t).fromEntrySeq():"object"==typeof t?new nt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ct(t){var e=lt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ut(t){var e=lt(t)||"object"==typeof t&&new nt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function lt(t){return K(t)?new et(t):V(t)?new it(t):z(t)?new rt(t):void 0}function ft(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var a=i[n?o-s:s];if(!1===e(a[1],r?a[0]:s,t))return s+1}return s}return t.__iterateUncached(e,n)}function ht(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,s=0;return new L((function(){var t=i[n?o-s:s];return s++>o?U():q(e,r?t[0]:s-1,t[1])}))}return t.__iteratorUncached(e,n)}function pt(t,e){return e?dt(e,t,"",{"":t}):bt(t)}function dt(t,e,n,r){return Array.isArray(e)?t.call(r,n,J(e).map((function(n,r){return dt(t,n,r,e)}))):mt(e)?t.call(r,n,$(e).map((function(n,r){return dt(t,n,r,e)}))):e}function bt(t){return Array.isArray(t)?J(t).map(bt).toList():mt(t)?$(t).map(bt).toMap():t}function mt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function yt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function vt(t,e){if(t===e)return!0;if(!s(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||a(t)!==a(e)||c(t)!==c(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!u(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&yt(i[1],t)&&(n||yt(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):i?!yt(e,t.get(r,g)):!yt(t.get(r,g),e))return f=!1,!1}));return f&&t.size===h}function gt(t,e){if(!(this instanceof gt))return new gt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Q)return Q;Q=this}}function _t(t,e){if(!t)throw new Error(e)}function wt(t,e,n){if(!(this instanceof wt))return new wt(t,e,n);if(_t(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function St(){throw TypeError("Abstract")}function xt(){}function kt(){}function Et(){}G.prototype[tt]=!0,e(et,J),et.prototype.get=function(t,e){return this.has(t)?this._array[A(this,t)]:e},et.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},et.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new L((function(){return i>r?U():q(t,i,n[e?r-i++:i++])}))},e(nt,$),nt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},nt.prototype.has=function(t){return this._object.hasOwnProperty(t)},nt.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var s=r[e?i-o:o];if(!1===t(n[s],s,this))return o+1}return o},nt.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new L((function(){var s=r[e?i-o:o];return o++>i?U():q(t,s,n[s])}))},nt.prototype[d]=!0,e(rt,J),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=H(this._iterable),r=0;if(V(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=H(this._iterable);if(!V(n))return new L(U);var r=0;return new L((function(){var e=n.next();return e.done?e:q(t,r++,e.value)}))},e(it,J),it.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var s=n.value;if(i[o]=s,!1===t(s,o++,this))break}return o},it.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new L((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return q(t,i,r[i++])}))},e(gt,J),gt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},gt.prototype.get=function(t,e){return this.has(t)?this._value:e},gt.prototype.includes=function(t){return yt(this._value,t)},gt.prototype.slice=function(t,e){var n=this.size;return C(t,e,n)?this:new gt(this._value,T(e,n)-j(t,n))},gt.prototype.reverse=function(){return this},gt.prototype.indexOf=function(t){return yt(this._value,t)?0:-1},gt.prototype.lastIndexOf=function(t){return yt(this._value,t)?this.size:-1},gt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},gt.prototype.__iterator=function(t,e){var n=this,r=0;return new L((function(){return r<n.size?q(t,r++,n._value):U()}))},gt.prototype.equals=function(t){return t instanceof gt?yt(this._value,t._value):vt(t)},e(wt,J),wt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},wt.prototype.get=function(t,e){return this.has(t)?this._start+A(this,t)*this._step:e},wt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},wt.prototype.slice=function(t,e){return C(t,e,this.size)?this:(t=j(t,this.size),(e=T(e,this.size))<=t?new wt(0,0):new wt(this.get(t,this._end),this.get(e,this._end),this._step))},wt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},wt.prototype.lastIndexOf=function(t){return this.indexOf(t)},wt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},wt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new L((function(){var s=i;return i+=e?-r:r,o>n?U():q(t,o++,s)}))},wt.prototype.equals=function(t){return t instanceof wt?this._start===t._start&&this._end===t._end&&this._step===t._step:vt(this,t)},e(St,n),e(xt,St),e(kt,St),e(Et,St),St.Keyed=xt,St.Indexed=kt,St.Set=Et;var Ot="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function At(t){return t>>>1&1073741824|3221225471&t}function Mt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!=t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return At(n)}if("string"===e)return t.length>Lt?Ct(t):jt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return Tt(t);if("function"==typeof t.toString)return jt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Ct(t){var e=zt[t];return void 0===e&&(e=jt(t),Ut===qt&&(Ut=0,zt={}),Ut++,zt[t]=e),e}function jt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return At(e)}function Tt(t){var e;if(Dt&&void 0!==(e=Rt.get(t)))return e;if(void 0!==(e=t[Nt]))return e;if(!Pt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Nt]))return e;if(void 0!==(e=Ft(t)))return e}if(e=++Bt,1073741824&Bt&&(Bt=0),Dt)Rt.set(t,e);else{if(void 0!==It&&!1===It(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Pt)Object.defineProperty(t,Nt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Nt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Nt]=e}}return e}var It=Object.isExtensible,Pt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Ft(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Rt,Dt="function"==typeof WeakMap;Dt&&(Rt=new WeakMap);var Bt=0,Nt="__immutablehash__";"function"==typeof Symbol&&(Nt=Symbol(Nt));var Lt=16,qt=255,Ut=0,zt={};function Vt(t){_t(t!==1/0,"Cannot perform this action with an infinite size.")}function Ht(t){return null==t?ie():Wt(t)&&!l(t)?t:ie().withMutations((function(e){var n=r(t);Vt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Wt(t){return!(!t||!t[Gt])}e(Ht,xt),Ht.of=function(){var e=t.call(arguments,0);return ie().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},Ht.prototype.toString=function(){return this.__toString("Map {","}")},Ht.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Ht.prototype.set=function(t,e){return oe(this,t,e)},Ht.prototype.setIn=function(t,e){return this.updateIn(t,g,(function(){return e}))},Ht.prototype.remove=function(t){return oe(this,t,g)},Ht.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return g}))},Ht.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Ht.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=me(this,Sn(t),e,n);return r===g?void 0:r},Ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ie()},Ht.prototype.merge=function(){return he(this,void 0,arguments)},Ht.prototype.mergeWith=function(e){return he(this,e,t.call(arguments,1))},Ht.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Ht.prototype.mergeDeep=function(){return he(this,pe,arguments)},Ht.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return he(this,de(e),n)},Ht.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Ht.prototype.sort=function(t){return ze(fn(this,t))},Ht.prototype.sortBy=function(t,e){return ze(fn(this,e,t))},Ht.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Ht.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new k)},Ht.prototype.asImmutable=function(){return this.__ensureOwner()},Ht.prototype.wasAltered=function(){return this.__altered},Ht.prototype.__iterator=function(t,e){return new te(this,t,e)},Ht.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Ht.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?re(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ht.isMap=Wt;var Kt,Gt="@@__IMMUTABLE_MAP__@@",$t=Ht.prototype;function Jt(t,e){this.ownerID=t,this.entries=e}function Yt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Xt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Qt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Zt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function te(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&ne(t._root)}function ee(t,e){return q(t,e[0],e[1])}function ne(t,e){return{node:t,index:0,__prev:e}}function re(t,e,n,r){var i=Object.create($t);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function ie(){return Kt||(Kt=re(0))}function oe(t,e,n){var r,i;if(t._root){var o=S(_),s=S(w);if(r=se(t._root,t.__ownerID,0,void 0,e,n,o,s),!s.value)return t;i=t.size+(o.value?n===g?-1:1:0)}else{if(n===g)return t;i=1,r=new Jt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?re(i,r):ie()}function se(t,e,n,r,i,o,s,a){return t?t.update(e,n,r,i,o,s,a):o===g?t:(x(a),x(s),new Zt(e,r,[i,o]))}function ae(t){return t.constructor===Zt||t.constructor===Qt}function ce(t,e,n,r,i){if(t.keyHash===r)return new Qt(e,r,[t.entry,i]);var o,s=(0===n?t.keyHash:t.keyHash>>>n)&v,a=(0===n?r:r>>>n)&v;return new Yt(e,1<<s|1<<a,s===a?[ce(t,e,n+m,r,i)]:(o=new Zt(e,r,i),s<a?[t,o]:[o,t]))}function ue(t,e,n,r){t||(t=new k);for(var i=new Zt(t,Mt(n),[n,r]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}function le(t,e,n,r){for(var i=0,o=0,s=new Array(n),a=0,c=1,u=e.length;a<u;a++,c<<=1){var l=e[a];void 0!==l&&a!==r&&(i|=c,s[o++]=l)}return new Yt(t,i,s)}function fe(t,e,n,r,i){for(var o=0,s=new Array(y),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[o++]:void 0;return s[r]=i,new Xt(t,o+1,s)}function he(t,e,n){for(var i=[],o=0;o<n.length;o++){var a=n[o],c=r(a);s(a)||(c=c.map((function(t){return pt(t)}))),i.push(c)}return be(t,e,i)}function pe(t,e,n){return t&&t.mergeDeep&&s(e)?t.mergeDeep(e):yt(t,e)?t:e}function de(t){return function(e,n,r){if(e&&e.mergeDeepWith&&s(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return yt(e,i)?e:i}}function be(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,g,(function(t){return t===g?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function me(t,e,n,r){var i=t===g,o=e.next();if(o.done){var s=i?n:t,a=r(s);return a===s?t:a}_t(i||t&&t.set,"invalid keyPath");var c=o.value,u=i?g:t.get(c,g),l=me(u,e,n,r);return l===u?t:l===g?t.remove(c):(i?ie():t).set(c,l)}function ye(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ve(t,e,n,r){var i=r?t:E(t);return i[e]=n,i}function ge(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),s=0,a=0;a<i;a++)a===e?(o[a]=n,s=-1):o[a]=t[a+s];return o}function _e(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,s=0;s<r;s++)s===e&&(o=1),i[s]=t[s+o];return i}$t[Gt]=!0,$t[b]=$t.remove,$t.removeIn=$t.deleteIn,Jt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(yt(n,i[o][0]))return i[o][1];return r},Jt.prototype.update=function(t,e,n,r,i,o,s){for(var a=i===g,c=this.entries,u=0,l=c.length;u<l&&!yt(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:a)return this;if(x(s),(a||!f)&&x(o),!a||1!==c.length){if(!f&&!a&&c.length>=we)return ue(t,c,r,i);var h=t&&t===this.ownerID,p=h?c:E(c);return f?a?u===l-1?p.pop():p[u]=p.pop():p[u]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Jt(t,p)}},Yt.prototype.get=function(t,e,n,r){void 0===e&&(e=Mt(n));var i=1<<((0===t?e:e>>>t)&v),o=this.bitmap;return 0==(o&i)?r:this.nodes[ye(o&i-1)].get(t+m,e,n,r)},Yt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=Mt(r));var a=(0===e?n:n>>>e)&v,c=1<<a,u=this.bitmap,l=0!=(u&c);if(!l&&i===g)return this;var f=ye(u&c-1),h=this.nodes,p=l?h[f]:void 0,d=se(p,t,e+m,n,r,i,o,s);if(d===p)return this;if(!l&&d&&h.length>=Se)return fe(t,h,u,a,d);if(l&&!d&&2===h.length&&ae(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&ae(d))return d;var b=t&&t===this.ownerID,y=l?d?u:u^c:u|c,_=l?d?ve(h,f,d,b):_e(h,f,b):ge(h,f,d,b);return b?(this.bitmap=y,this.nodes=_,this):new Yt(t,y,_)},Xt.prototype.get=function(t,e,n,r){void 0===e&&(e=Mt(n));var i=(0===t?e:e>>>t)&v,o=this.nodes[i];return o?o.get(t+m,e,n,r):r},Xt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=Mt(r));var a=(0===e?n:n>>>e)&v,c=i===g,u=this.nodes,l=u[a];if(c&&!l)return this;var f=se(l,t,e+m,n,r,i,o,s);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<xe)return le(t,u,h,a)}else h++;var p=t&&t===this.ownerID,d=ve(u,a,f,p);return p?(this.count=h,this.nodes=d,this):new Xt(t,h,d)},Qt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(yt(n,i[o][0]))return i[o][1];return r},Qt.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=Mt(r));var a=i===g;if(n!==this.keyHash)return a?this:(x(s),x(o),ce(this,t,e,n,[r,i]));for(var c=this.entries,u=0,l=c.length;u<l&&!yt(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:a)return this;if(x(s),(a||!f)&&x(o),a&&2===l)return new Zt(t,this.keyHash,c[1^u]);var h=t&&t===this.ownerID,p=h?c:E(c);return f?a?u===l-1?p.pop():p[u]=p.pop():p[u]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Qt(t,this.keyHash,p)},Zt.prototype.get=function(t,e,n,r){return yt(n,this.entry[0])?this.entry[1]:r},Zt.prototype.update=function(t,e,n,r,i,o,s){var a=i===g,c=yt(r,this.entry[0]);return(c?i===this.entry[1]:a)?this:(x(s),a?void x(o):c?t&&t===this.ownerID?(this.entry[1]=i,this):new Zt(t,this.keyHash,[r,i]):(x(o),ce(this,t,e,Mt(r),[r,i])))},Jt.prototype.iterate=Qt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Yt.prototype.iterate=Xt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Zt.prototype.iterate=function(t,e){return t(this.entry)},e(te,L),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return ee(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return ee(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return ee(t,o.entry);e=this._stack=ne(o,e)}continue}e=this._stack=this._stack.__prev}return U()};var we=y/4,Se=y/2,xe=y/4;function ke(t){var e=Fe();if(null==t)return e;if(Ee(t))return t;var n=i(t),r=n.size;return 0===r?e:(Vt(r),r>0&&r<y?Pe(0,r,m,null,new Me(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function Ee(t){return!(!t||!t[Oe])}e(ke,kt),ke.of=function(){return this(arguments)},ke.prototype.toString=function(){return this.__toString("List [","]")},ke.prototype.get=function(t,e){if((t=A(this,t))>=0&&t<this.size){var n=Ne(this,t+=this._origin);return n&&n.array[t&v]}return e},ke.prototype.set=function(t,e){return Re(this,t,e)},ke.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ke.prototype.insert=function(t,e){return this.splice(t,0,e)},ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Fe()},ke.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){Le(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},ke.prototype.pop=function(){return Le(this,0,-1)},ke.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Le(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},ke.prototype.shift=function(){return Le(this,1)},ke.prototype.merge=function(){return qe(this,void 0,arguments)},ke.prototype.mergeWith=function(e){return qe(this,e,t.call(arguments,1))},ke.prototype.mergeDeep=function(){return qe(this,pe,arguments)},ke.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return qe(this,de(e),n)},ke.prototype.setSize=function(t){return Le(this,0,t)},ke.prototype.slice=function(t,e){var n=this.size;return C(t,e,n)?this:Le(this,j(t,n),T(e,n))},ke.prototype.__iterator=function(t,e){var n=0,r=Ie(this,e);return new L((function(){var e=r();return e===Te?U():q(t,n++,e)}))},ke.prototype.__iterate=function(t,e){for(var n,r=0,i=Ie(this,e);(n=i())!==Te&&!1!==t(n,r++,this););return r},ke.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Pe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ke.isList=Ee;var Oe="@@__IMMUTABLE_LIST__@@",Ae=ke.prototype;function Me(t,e){this.array=t,this.ownerID=e}Ae[Oe]=!0,Ae[b]=Ae.remove,Ae.setIn=$t.setIn,Ae.deleteIn=Ae.removeIn=$t.removeIn,Ae.update=$t.update,Ae.updateIn=$t.updateIn,Ae.mergeIn=$t.mergeIn,Ae.mergeDeepIn=$t.mergeDeepIn,Ae.withMutations=$t.withMutations,Ae.asMutable=$t.asMutable,Ae.asImmutable=$t.asImmutable,Ae.wasAltered=$t.wasAltered,Me.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&v;if(r>=this.array.length)return new Me([],t);var i,o=0===r;if(e>0){var s=this.array[r];if((i=s&&s.removeBefore(t,e-m,n))===s&&o)return this}if(o&&!i)return this;var a=Be(this,t);if(!o)for(var c=0;c<r;c++)a.array[c]=void 0;return i&&(a.array[r]=i),a},Me.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&v;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-m,n))===o&&i===this.array.length-1)return this}var s=Be(this,t);return s.array.splice(i+1),r&&(s.array[i]=r),s};var Ce,je,Te={};function Ie(t,e){var n=t._origin,r=t._capacity,i=Ue(r),o=t._tail;return s(t._root,t._level,0);function s(t,e,n){return 0===e?a(t,n):c(t,e,n)}function a(t,s){var a=s===i?o&&o.array:t&&t.array,c=s>n?0:n-s,u=r-s;return u>y&&(u=y),function(){if(c===u)return Te;var t=e?--u:c++;return a&&a[t]}}function c(t,i,o){var a,c=t&&t.array,u=o>n?0:n-o>>i,l=1+(r-o>>i);return l>y&&(l=y),function(){for(;;){if(a){var t=a();if(t!==Te)return t;a=null}if(u===l)return Te;var n=e?--l:u++;a=s(c&&c[n],i-m,o+(n<<i))}}}}function Pe(t,e,n,r,i,o,s){var a=Object.create(Ae);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function Fe(){return Ce||(Ce=Pe(0,0,m))}function Re(t,e,n){if((e=A(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Le(t,e).set(0,n):Le(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=S(w);return e>=Ue(t._capacity)?r=De(r,t.__ownerID,0,e,n,o):i=De(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Pe(t._origin,t._capacity,t._level,i,r):t}function De(t,e,n,r,i,o){var s,a=r>>>n&v,c=t&&a<t.array.length;if(!c&&void 0===i)return t;if(n>0){var u=t&&t.array[a],l=De(u,e,n-m,r,i,o);return l===u?t:((s=Be(t,e)).array[a]=l,s)}return c&&t.array[a]===i?t:(x(o),s=Be(t,e),void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function Be(t,e){return e&&t&&e===t.ownerID?t:new Me(t?t.array.slice():[],e)}function Ne(t,e){if(e>=Ue(t._capacity))return t._tail;if(e<1<<t._level+m){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&v],r-=m;return n}}function Le(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new k,i=t._origin,o=t._capacity,s=i+e,a=void 0===n?o:n<0?o+n:i+n;if(s===i&&a===o)return t;if(s>=a)return t.clear();for(var c=t._level,u=t._root,l=0;s+l<0;)u=new Me(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=m);l&&(s+=l,i+=l,a+=l,o+=l);for(var f=Ue(o),h=Ue(a);h>=1<<c+m;)u=new Me(u&&u.array.length?[u]:[],r),c+=m;var p=t._tail,d=h<f?Ne(t,a-1):h>f?new Me([],r):p;if(p&&h>f&&s<o&&p.array.length){for(var b=u=Be(u,r),y=c;y>m;y-=m){var g=f>>>y&v;b=b.array[g]=Be(b.array[g],r)}b.array[f>>>m&v]=p}if(a<o&&(d=d&&d.removeAfter(r,0,a)),s>=h)s-=h,a-=h,c=m,u=null,d=d&&d.removeBefore(r,0,s);else if(s>i||h<f){for(l=0;u;){var _=s>>>c&v;if(_!==h>>>c&v)break;_&&(l+=(1<<c)*_),c-=m,u=u.array[_]}u&&s>i&&(u=u.removeBefore(r,c,s-l)),u&&h<f&&(u=u.removeAfter(r,c,h-l)),l&&(s-=l,a-=l)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=c,t._root=u,t._tail=d,t.__hash=void 0,t.__altered=!0,t):Pe(s,a,c,u,d)}function qe(t,e,n){for(var r=[],o=0,a=0;a<n.length;a++){var c=n[a],u=i(c);u.size>o&&(o=u.size),s(c)||(u=u.map((function(t){return pt(t)}))),r.push(u)}return o>t.size&&(t=t.setSize(o)),be(t,e,r)}function Ue(t){return t<y?0:t-1>>>m<<m}function ze(t){return null==t?We():Ve(t)?t:We().withMutations((function(e){var n=r(t);Vt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Ve(t){return Wt(t)&&l(t)}function He(t,e,n,r){var i=Object.create(ze.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function We(){return je||(je=He(ie(),Fe()))}function Ke(t,e,n){var r,i,o=t._map,s=t._list,a=o.get(e),c=void 0!==a;if(n===g){if(!c)return t;s.size>=y&&s.size>=2*o.size?(r=(i=s.filter((function(t,e){return void 0!==t&&a!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(c){if(n===s.get(a)[1])return t;r=o,i=s.set(a,[e,n])}else r=o.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):He(r,i)}function Ge(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function $e(t){this._iter=t,this.size=t.size}function Je(t){this._iter=t,this.size=t.size}function Ye(t){this._iter=t,this.size=t.size}function Xe(t){var e=gn(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=_n,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(e===R){var r=t.__iterator(e,n);return new L((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===F?P:F,n)},e}function Qe(t,e,n){var r=gn(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,g);return o===g?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,s){return!1!==r(e.call(n,t,i,s),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(R,i);return new L((function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return q(r,a,e.call(n,s[1],a,t),i)}))},r}function Ze(t,e){var n=gn(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Xe(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=_n,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function tn(t,e,n,r){var i=gn(t);return r&&(i.has=function(r){var i=t.get(r,g);return i!==g&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,g);return o!==g&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return t.__iterate((function(t,o,c){if(e.call(n,t,o,c))return a++,i(t,r?o:a-1,s)}),o),a},i.__iteratorUncached=function(i,o){var s=t.__iterator(R,o),a=0;return new L((function(){for(;;){var o=s.next();if(o.done)return o;var c=o.value,u=c[0],l=c[1];if(e.call(n,l,u,t))return q(i,r?u:a++,l,o)}}))},i}function en(t,e,n){var r=Ht().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}function nn(t,e,n){var r=a(t),i=(l(t)?ze():Ht()).asMutable();t.__iterate((function(o,s){i.update(e.call(n,o,s,t),(function(t){return(t=t||[]).push(r?[s,o]:o),t}))}));var o=vn(t);return i.map((function(e){return bn(t,o(e))}))}function rn(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),C(e,n,i))return t;var o=j(e,i),s=T(n,i);if(o!=o||s!=s)return rn(t.toSeq().cacheResult(),e,n,r);var a,c=s-o;c==c&&(a=c<0?0:c);var u=gn(t);return u.size=0===a?a:t.size&&a||void 0,!r&&ot(t)&&a>=0&&(u.get=function(e,n){return(e=A(this,e))>=0&&e<a?t.get(e+o,n):n}),u.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,c=!0,u=0;return t.__iterate((function(t,n){if(!c||!(c=s++<o))return u++,!1!==e(t,r?n:u-1,i)&&u!==a})),u},u.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);var i=0!==a&&t.__iterator(e,n),s=0,c=0;return new L((function(){for(;s++<o;)i.next();if(++c>a)return U();var t=i.next();return r||e===F?t:q(e,c-1,e===P?void 0:t.value[1],t)}))},u}function on(t,e,n){var r=gn(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return t.__iterate((function(t,i,a){return e.call(n,t,i,a)&&++s&&r(t,i,o)})),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=t.__iterator(R,i),a=!0;return new L((function(){if(!a)return U();var t=s.next();if(t.done)return t;var i=t.value,c=i[0],u=i[1];return e.call(n,u,c,o)?r===R?t:q(r,c,u,t):(a=!1,U())}))},r}function sn(t,e,n,r){var i=gn(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,c=0;return t.__iterate((function(t,o,u){if(!a||!(a=e.call(n,t,o,u)))return c++,i(t,r?o:c-1,s)})),c},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(R,o),c=!0,u=0;return new L((function(){var t,o,l;do{if((t=a.next()).done)return r||i===F?t:q(i,u++,i===P?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],c&&(c=e.call(n,l,o,s))}while(c);return i===R?t:q(i,o,l,t)}))},i}function an(t,e){var n=a(t),i=[t].concat(e).map((function(t){return s(t)?n&&(t=r(t)):t=n?at(t):ct(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&a(o)||c(t)&&c(o))return o}var u=new et(i);return n?u=u.toKeyedSeq():c(t)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),u}function cn(t,e,n){var r=gn(t);return r.__iterateUncached=function(r,i){var o=0,a=!1;function c(t,u){var l=this;t.__iterate((function(t,i){return(!e||u<e)&&s(t)?c(t,u+1):!1===r(t,n?i:o++,l)&&(a=!0),!a}),i)}return c(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),a=[],c=0;return new L((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(r===R&&(u=u[1]),e&&!(a.length<e)||!s(u))return n?t:q(r,c++,u,t);a.push(o),o=u.__iterator(r,i)}else o=a.pop()}return U()}))},r}function un(t,e,n){var r=vn(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}function ln(t,e){var n=gn(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(F,r),s=0;return new L((function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?q(n,s++,e):q(n,s++,i.value,i)}))},n}function fn(t,e,n){e||(e=wn);var r=a(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?$(o):c(t)?J(o):Y(o)}function hn(t,e,n){if(e||(e=wn),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return pn(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return pn(e,t,n)?n:t}))}function pn(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function dn(t,e,r){var i=gn(t);return i.size=new et(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(F,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),H(i?t.reverse():t)})),s=0,a=!1;return new L((function(){var n;return a||(n=o.map((function(t){return t.next()})),a=n.some((function(t){return t.done}))),a?U():q(t,s++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function bn(t,e){return ot(t)?e:t.constructor(e)}function mn(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function yn(t){return Vt(t.size),O(t)}function vn(t){return a(t)?r:c(t)?i:o}function gn(t){return Object.create((a(t)?$:c(t)?J:Y).prototype)}function _n(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function wn(t,e){return t>e?1:t<e?-1:0}function Sn(t){var e=H(t);if(!e){if(!K(t))throw new TypeError("Expected iterable or array-like: "+t);e=H(n(t))}return e}function xn(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(t);An(i,s),i.size=s.length,i._name=e,i._keys=s,i._defaultValues=t}this._map=Ht(o)},i=r.prototype=Object.create(kn);return i.constructor=r,r}e(ze,Ht),ze.of=function(){return this(arguments)},ze.prototype.toString=function(){return this.__toString("OrderedMap {","}")},ze.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},ze.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):We()},ze.prototype.set=function(t,e){return Ke(this,t,e)},ze.prototype.remove=function(t){return Ke(this,t,g)},ze.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},ze.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},ze.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},ze.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?He(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},ze.isOrderedMap=Ve,ze.prototype[d]=!0,ze.prototype[b]=ze.prototype.remove,e(Ge,$),Ge.prototype.get=function(t,e){return this._iter.get(t,e)},Ge.prototype.has=function(t){return this._iter.has(t)},Ge.prototype.valueSeq=function(){return this._iter.valueSeq()},Ge.prototype.reverse=function(){var t=this,e=Ze(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ge.prototype.map=function(t,e){var n=this,r=Qe(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Ge.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?yn(this):0,function(i){return t(i,e?--n:n++,r)}),e)},Ge.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(F,e),r=e?yn(this):0;return new L((function(){var i=n.next();return i.done?i:q(t,e?--r:r++,i.value,i)}))},Ge.prototype[d]=!0,e($e,J),$e.prototype.includes=function(t){return this._iter.includes(t)},$e.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},$e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(F,e),r=0;return new L((function(){var e=n.next();return e.done?e:q(t,r++,e.value,e)}))},e(Je,Y),Je.prototype.has=function(t){return this._iter.includes(t)},Je.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Je.prototype.__iterator=function(t,e){var n=this._iter.__iterator(F,e);return new L((function(){var e=n.next();return e.done?e:q(t,e.value,e.value,e)}))},e(Ye,$),Ye.prototype.entrySeq=function(){return this._iter.toSeq()},Ye.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){mn(e);var r=s(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Ye.prototype.__iterator=function(t,e){var n=this._iter.__iterator(F,e);return new L((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){mn(r);var i=s(r);return q(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},$e.prototype.cacheResult=Ge.prototype.cacheResult=Je.prototype.cacheResult=Ye.prototype.cacheResult=_n,e(xn,xt),xn.prototype.toString=function(){return this.__toString(On(this)+" {","}")},xn.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},xn.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},xn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=En(this,ie()))},xn.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+On(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:En(this,n)},xn.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:En(this,e)},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},xn.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},xn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?En(this,e,t):(this.__ownerID=t,this._map=e,this)};var kn=xn.prototype;function En(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function On(t){return t._name||t.constructor.name||"Record"}function An(t,e){try{e.forEach(Mn.bind(void 0,t))}catch(t){}}function Mn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){_t(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Cn(t){return null==t?Dn():jn(t)&&!l(t)?t:Dn().withMutations((function(e){var n=o(t);Vt(n.size),n.forEach((function(t){return e.add(t)}))}))}function jn(t){return!(!t||!t[In])}kn[b]=kn.remove,kn.deleteIn=kn.removeIn=$t.removeIn,kn.merge=$t.merge,kn.mergeWith=$t.mergeWith,kn.mergeIn=$t.mergeIn,kn.mergeDeep=$t.mergeDeep,kn.mergeDeepWith=$t.mergeDeepWith,kn.mergeDeepIn=$t.mergeDeepIn,kn.setIn=$t.setIn,kn.update=$t.update,kn.updateIn=$t.updateIn,kn.withMutations=$t.withMutations,kn.asMutable=$t.asMutable,kn.asImmutable=$t.asImmutable,e(Cn,Et),Cn.of=function(){return this(arguments)},Cn.fromKeys=function(t){return this(r(t).keySeq())},Cn.prototype.toString=function(){return this.__toString("Set {","}")},Cn.prototype.has=function(t){return this._map.has(t)},Cn.prototype.add=function(t){return Fn(this,this._map.set(t,!0))},Cn.prototype.remove=function(t){return Fn(this,this._map.remove(t))},Cn.prototype.clear=function(){return Fn(this,this._map.clear())},Cn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},Cn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},Cn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},Cn.prototype.merge=function(){return this.union.apply(this,arguments)},Cn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},Cn.prototype.sort=function(t){return Bn(fn(this,t))},Cn.prototype.sortBy=function(t,e){return Bn(fn(this,e,t))},Cn.prototype.wasAltered=function(){return this._map.wasAltered()},Cn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},Cn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},Cn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Cn.isSet=jn;var Tn,In="@@__IMMUTABLE_SET__@@",Pn=Cn.prototype;function Fn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Rn(t,e){var n=Object.create(Pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Dn(){return Tn||(Tn=Rn(ie()))}function Bn(t){return null==t?zn():Nn(t)?t:zn().withMutations((function(e){var n=o(t);Vt(n.size),n.forEach((function(t){return e.add(t)}))}))}function Nn(t){return jn(t)&&l(t)}Pn[In]=!0,Pn[b]=Pn.remove,Pn.mergeDeep=Pn.merge,Pn.mergeDeepWith=Pn.mergeWith,Pn.withMutations=$t.withMutations,Pn.asMutable=$t.asMutable,Pn.asImmutable=$t.asImmutable,Pn.__empty=Dn,Pn.__make=Rn,e(Bn,Cn),Bn.of=function(){return this(arguments)},Bn.fromKeys=function(t){return this(r(t).keySeq())},Bn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Bn.isOrderedSet=Nn;var Ln,qn=Bn.prototype;function Un(t,e){var n=Object.create(qn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function zn(){return Ln||(Ln=Un(We()))}function Vn(t){return null==t?Jn():Hn(t)?t:Jn().unshiftAll(t)}function Hn(t){return!(!t||!t[Kn])}qn[d]=!0,qn.__empty=zn,qn.__make=Un,e(Vn,kt),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("Stack [","]")},Vn.prototype.get=function(t,e){var n=this._head;for(t=A(this,t);n&&t--;)n=n.next;return n?n.value:e},Vn.prototype.peek=function(){return this._head&&this._head.value},Vn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):$n(t,e)},Vn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Vt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):$n(e,n)},Vn.prototype.pop=function(){return this.slice(1)},Vn.prototype.unshift=function(){return this.push.apply(this,arguments)},Vn.prototype.unshiftAll=function(t){return this.pushAll(t)},Vn.prototype.shift=function(){return this.pop.apply(this,arguments)},Vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Vn.prototype.slice=function(t,e){if(C(t,e,this.size))return this;var n=j(t,this.size);if(T(e,this.size)!==this.size)return kt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):$n(r,i)},Vn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?$n(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Vn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Vn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new L((function(){if(r){var e=r.value;return r=r.next,q(t,n++,e)}return U()}))},Vn.isStack=Hn;var Wn,Kn="@@__IMMUTABLE_STACK__@@",Gn=Vn.prototype;function $n(t,e,n,r){var i=Object.create(Gn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Wn||(Wn=$n(0))}function Yn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}Gn[Kn]=!0,Gn.withMutations=$t.withMutations,Gn.asMutable=$t.asMutable,Gn.asImmutable=$t.asImmutable,Gn.wasAltered=$t.wasAltered,n.Iterator=L,Yn(n,{toArray:function(){Vt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new $e(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Ge(this,!0)},toMap:function(){return Ht(this.toKeyedSeq())},toObject:function(){Vt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return ze(this.toKeyedSeq())},toOrderedSet:function(){return Bn(a(this)?this.valueSeq():this)},toSet:function(){return Cn(a(this)?this.valueSeq():this)},toSetSeq:function(){return new Je(this)},toSeq:function(){return c(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vn(a(this)?this.valueSeq():this)},toList:function(){return ke(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return bn(this,an(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return yt(e,t)}))},entries:function(){return this.__iterator(R)},every:function(t,e){Vt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return bn(this,tn(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Vt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Vt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(P)},map:function(t,e){return bn(this,Qe(this,t,e))},reduce:function(t,e,n){var r,i;return Vt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,s){i?(i=!1,r=e):r=t.call(n,r,e,o,s)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return bn(this,Ze(this,!0))},slice:function(t,e){return bn(this,rn(this,t,e,!0))},some:function(t,e){return!this.every(er(t),e)},sort:function(t){return bn(this,fn(this,t))},values:function(){return this.__iterator(F)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return O(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return en(this,t,e)},equals:function(t){return vt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(tr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(er(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(M)},flatMap:function(t,e){return bn(this,un(this,t,e))},flatten:function(t){return bn(this,cn(this,t,!0))},fromEntrySeq:function(){return new Ye(this)},get:function(t,e){return this.find((function(e,n){return yt(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=Sn(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,g):g)===g)return e}return r},groupBy:function(t,e){return nn(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return this.getIn(t,g)!==g},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return yt(e,t)}))},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return hn(this,t)},maxBy:function(t,e){return hn(this,e,t)},min:function(t){return hn(this,t?nr(t):or)},minBy:function(t,e){return hn(this,e?nr(e):or,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return bn(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return bn(this,sn(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(er(t),e)},sortBy:function(t,e){return bn(this,fn(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return bn(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return bn(this,on(this,t,e))},takeUntil:function(t,e){return this.takeWhile(er(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=sr(this))}});var Xn=n.prototype;Xn[f]=!0,Xn[N]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,Yn(r,{flip:function(){return bn(this,Xe(this))},mapEntries:function(t,e){var n=this,r=0;return bn(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return bn(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var Qn=r.prototype;function Zn(t,e){return e}function tr(t,e){return[e,t]}function er(t){return function(){return!t.apply(this,arguments)}}function nr(t){return function(){return-t.apply(this,arguments)}}function rr(t){return"string"==typeof t?JSON.stringify(t):String(t)}function ir(){return E(arguments)}function or(t,e){return t<e?1:t>e?-1:0}function sr(t){if(t.size===1/0)return 0;var e=l(t),n=a(t),r=e?1:0;return ar(t.__iterate(n?e?function(t,e){r=31*r+cr(Mt(t),Mt(e))|0}:function(t,e){r=r+cr(Mt(t),Mt(e))|0}:e?function(t){r=31*r+Mt(t)|0}:function(t){r=r+Mt(t)|0}),r)}function ar(t,e){return e=Ot(e,3432918353),e=Ot(e<<15|e>>>-15,461845907),e=Ot(e<<13|e>>>-13,5),e=Ot((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=At((e=Ot(e^e>>>13,3266489909))^e>>>16)}function cr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Qn[h]=!0,Qn[N]=Xn.entries,Qn.__toJS=Xn.toObject,Qn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rr(t)},Yn(i,{toKeyedSeq:function(){return new Ge(this,!1)},filter:function(t,e){return bn(this,tn(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return bn(this,Ze(this,!1))},slice:function(t,e){return bn(this,rn(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=j(t,t<0?this.count():this.size);var r=this.slice(0,t);return bn(this,1===n?r:r.concat(E(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return bn(this,cn(this,t,!1))},get:function(t,e){return(t=A(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=A(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return bn(this,ln(this,t))},interleave:function(){var t=[this].concat(E(arguments)),e=dn(this.toSeq(),J.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),bn(this,n)},keySeq:function(){return wt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return bn(this,sn(this,t,e,!1))},zip:function(){return bn(this,dn(this,ir,[this].concat(E(arguments))))},zipWith:function(t){var e=E(arguments);return e[0]=this,bn(this,dn(this,t,e))}}),i.prototype[p]=!0,i.prototype[d]=!0,Yn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Xn.includes,o.prototype.contains=o.prototype.includes,Yn($,r.prototype),Yn(J,i.prototype),Yn(Y,o.prototype),Yn(xt,r.prototype),Yn(kt,i.prototype),Yn(Et,o.prototype),{Iterable:n,Seq:G,Collection:St,Map:Ht,OrderedMap:ze,List:ke,Stack:Vn,Set:Cn,OrderedSet:Bn,Record:xn,Range:wt,Repeat:gt,is:yt,fromJS:pt}}()},function(t,e,n){"use strict";(function(e){var r=n(51),i=n(763),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e)&&(a=n(386)),a),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(o)})),t.exports=c}).call(this,n(36))},function(t,e,n){"use strict";var r={};t.exports=function(t){if("undefined"==typeof window)return null;var e=window.OfflineAudioContext||window.webkitOfflineAudioContext,n=window.AudioContext||window.webkitAudioContext;if(!n)return null;"number"==typeof t&&(t={sampleRate:t});var i=t&&t.sampleRate;if(t&&t.offline)return e?new e(t.channels||2,t.length,i||44100):null;var o=r[i];if(o)return o;try{o=new n(t)}catch(t){o=new n}return r[o.sampleRate]=r[i]=o,o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReaderOptionsFromFilename=e.readAsync=e.read=void 0;var r=n(727);e.read=function(t){throw new Error("Synchronous read unsupported in browser!")},e.readAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1],o=t[2];o?(i=t[1],o=t[2]):(i=null,o=t[1]);var s=i&&i.forceEncoding||r.detect(n),a=new FileReader;a.onload=function(){o(null,a.result)},a.onerror=function(){o(new Error("cannot read it"))},a.readAsText(new Blob([n]),s)};var i=n(311);Object.defineProperty(e,"getReaderOptionsFromFilename",{enumerable:!0,get:function(){return i.getReaderOptionsFromFilename}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReaderOptionsFromFilename=void 0,e.getReaderOptionsFromFilename=function(t){var e;return t.match(/\.sjis\.\w+$/i)&&(e="Shift-JIS"),t.match(/\.euc_kr\.\w+$/i)&&(e="EUC-KR"),t.match(/\.utf8\.\w+$/i)&&(e="UTF-8"),{forceEncoding:e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;var r=n(133),i=n(43),o={bms:{random:/^#RANDOM\s+(\d+)$/i,if:/^#IF\s+(\d+)$/i,endif:/^#ENDIF$/i,timeSignature:/^#(\d\d\d)02:(\S*)$/,channel:/^#(?:EXT\s+#)?(\d\d\d)(\S\S):(\S*)$/,header:/^#(\w+)(?:\s+(\S.*))?$/},dtx:{random:/^#RANDOM\s+(\d+)$/i,if:/^#IF\s+(\d+)$/i,endif:/^#ENDIF$/i,timeSignature:/^#(\d\d\d)02:\s*(\S*)$/,channel:/^#(?:EXT\s+#)?(\d\d\d)(\S\S):\s*(\S*)$/,header:/^#(\w+):(?:\s+(\S.*))?$/}};e.compile=function(t,e){e=e||{};var n=new i.BMSChart,s=e.rng||function(t){return 1+Math.floor(Math.random()*t)},a=e.format&&o[e.format]||o.bms,c=[],u=[!1],l={headerSentences:0,channelSentences:0,controlSentences:0,skippedSentences:0,malformedSentences:0,chart:n,warnings:[]};return function(t,e){t.split(/\r\n|\r|\n/).map((function(t){return t.trim()})).forEach((function(t,n){e(t,n+1)}))}(t,(function(t,e){var i=!0;if("#"===t.charAt(0)&&((0,r.match)(t).when(a.random,(function(t){l.controlSentences+=1,c.push(s(+t[1]))})).when(a.if,(function(t){l.controlSentences+=1,u.push(c[c.length-1]!==+t[1])})).when(a.endif,(function(t){l.controlSentences+=1,u.pop()})).else((function(){i=!1})),!i)){var o=u[u.length-1];(0,r.match)(t).when(a.timeSignature,(function(t){l.channelSentences+=1,o||n.timeSignatures.set(+t[1],+t[2])})).when(a.channel,(function(t){l.channelSentences+=1,o||function(t,e,r,i){var o=Math.floor(r.length/2);if(0===o)return;for(var s=0;s<o;s++){var a=r.substr(2*s,2),c=s/o;"00"!==a&&n.objects.add({measure:t,fraction:c,value:a,channel:e,lineNumber:i})}}(+t[1],t[2],t[3],e)})).when(a.header,(function(t){l.headerSentences+=1,o||n.headers.set(t[1],t[2])})).else((function(){!function(t,e){l.warnings.push({lineNumber:t,message:e})}(e,"Invalid command")}))}})),l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Segment=void 0;var i=r(n(227));e.Segment=(0,i.default)({t:"number",x:"number",dx:"number"})},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Notes=void 0;var a=n(316),c=s(n(61)),u=o(n(317)),l=n(43),f=function(){function t(t){t.forEach(a.Note),this._notes=t}return t.prototype.count=function(){return this._notes.length},t.prototype.all=function(){return this._notes.slice()},t.fromBMSChart=function(e,n){l.BMSChart;var r=(n=n||{}).mapping||t.CHANNEL_MAPPING.IIDX_P1;return new h(e,{mapping:r}).build()},t.CHANNEL_MAPPING=u,t}();e.Notes=f;var h=function(){function t(t,e){this._chart=t,(0,c.default)(e.mapping,"Expected options.mapping"),(0,c.default)("object"==typeof e.mapping,"options.mapping must be object"),this._mapping=e.mapping,this._notes=[],this._activeLN={},this._lastNote={},this._lnObj=(this._chart.headers.get("lnobj")||"").toLowerCase(),this._channelMapping=this._mapping,this._objects=this._chart.objects.allSorted()}return t.prototype.build=function(){var t=this;return this._objects.forEach((function(e){t._handle(e)})),new f(this._notes)},t.prototype._handle=function(t){if("01"===t.channel)this._handleNormalNote(t);else switch(t.channel.charAt(0).toUpperCase()){case"1":case"2":case"D":case"E":this._handleNormalNote(t);break;case"5":case"6":this._handleLongNote(t)}},t.prototype._handleNormalNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(t.value.toLowerCase()===this._lnObj)this._lastNote[e]&&(this._lastNote[e].endBeat=n);else{var r={beat:n,endBeat:void 0,keysound:t.value,column:this._getColumn(e)};this._lastNote[e]=r,this._notes.push(r)}},t.prototype._handleLongNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(this._activeLN[e]){var r=this._activeLN[e];r.endBeat=n,this._notes.push(r),delete this._activeLN[e]}else this._activeLN[e]={beat:n,keysound:t.value,column:this._getColumn(e)}},t.prototype._getBeat=function(t){return this._chart.measureToBeat(t.measure,t.fraction)},t.prototype._getColumn=function(t){return this._channelMapping[t]},t.prototype._normalizeChannel=function(t){return t.replace(/^5/,"1").replace(/^6/,"2")},t}()},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;var i=r(n(227));e.Note=(0,i.default)({beat:"number",endBeat:i.default.maybe("number"),column:i.default.maybe("string"),keysound:"string"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IIDX_DP_LANDMINE=e.IIDX_P1_LANDMINE=e.IIDX_DP=e.IIDX_P1=void 0,e.IIDX_P1={11:"1",12:"2",13:"3",14:"4",15:"5",18:"6",19:"7",16:"SC"},e.IIDX_DP={11:"1",12:"2",13:"3",14:"4",15:"5",18:"6",19:"7",16:"SC",21:"8",22:"9",23:"10",24:"11",25:"12",28:"13",29:"14",26:"SC2"},e.IIDX_P1_LANDMINE={D1:"1",D2:"2",D3:"3",D4:"4",D5:"5",D8:"6",D9:"7",D6:"SC"},e.IIDX_DP_LANDMINE={D1:"1",D2:"2",D3:"3",D4:"4",D5:"5",D8:"6",D9:"7",D6:"SC",E1:"8",E2:"9",E3:"10",E4:"11",E5:"12",E8:"13",E9:"14",E6:"SC2"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timing=void 0;var r=n(70),i=n(99),o=n(43),s={bpm:1,stop:2},a=function(){function t(t,e){var n={bpm:t,beat:0,seconds:0},o=[];o.push({t:0,x:0,dx:n.bpm/60,bpm:n.bpm,inclusive:!0}),(e=e.slice()).sort((function(t,e){return t.beat-e.beat||s[t.type]-s[e.type]})),e.forEach((function(t){var e=t.beat,r=n.seconds+60*(e-n.beat)/n.bpm;switch(t.type){case"bpm":n.bpm=t.bpm,o.push({t:r,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!0});break;case"stop":o.push({t:r,x:e,dx:0,bpm:n.bpm,inclusive:!0}),r+=60*(t.stopBeats||0)/n.bpm,o.push({t:r,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!1});break;default:throw new Error("Unrecognized segment object!")}n.beat=e,n.seconds=r})),this._speedcore=new r.Speedcore(o),this._eventBeats=(0,i.uniq)((0,i.map)(e,(function(t){return t.beat})))}return t.prototype.beatToSeconds=function(t){return this._speedcore.t(t)},t.prototype.secondsToBeat=function(t){return this._speedcore.x(t)},t.prototype.bpmAtBeat=function(t){return this._speedcore.segmentAtX(t).bpm},t.prototype.getEventBeats=function(){return this._eventBeats},t.fromBMSChart=function(e){o.BMSChart;var n=[];return e.objects.all().forEach((function(t){var r,i=e.measureToBeat(t.measure,t.fraction);if("03"===t.channel)r=parseInt(t.value,16),n.push({type:"bpm",beat:i,bpm:r});else if("08"===t.channel)r=+e.headers.get("bpm"+t.value),isNaN(r)||n.push({type:"bpm",beat:i,bpm:r});else if("09"===t.channel){var o=+e.headers.get("stop"+t.value)/48;n.push({type:"stop",beat:i,stopBeats:o})}})),new t(+e.headers.get("bpm")||60,n)},t}();e.Timing=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SongInfo=void 0;var r=n(133),i=n(99),o=n(43),s=function(){function t(t){this.title="NO TITLE",this.artist="NO ARTIST",this.genre="NO GENRE",this.subtitles=[],this.subartists=[],this.difficulty=0,this.level=0,t&&(0,i.assign)(this,t)}return t.fromBMSChart=function(e){o.BMSChart;var n={},i=e.headers.get("title"),s=e.headers.get("artist"),a=e.headers.get("genre"),c=+e.headers.get("difficulty")||0,u=+e.headers.get("playlevel")||0,l=e.headers.getAll("subtitle"),f=e.headers.getAll("subartist");if("string"==typeof i&&!l){var h=function(t){i=t[1],l=[t[2]]};(0,r.match)(i).when(/^(.*\S)\s*-(.+?)-$/,h).when(/^(.*\S)\s*(.+?)$/,h).when(/^(.*\S)\s*\((.+?)\)$/,h).when(/^(.*\S)\s*\[(.+?)\]$/,h).when(/^(.*\S)\s*<(.+?)>$/,h)}return i&&(n.title=i),s&&(n.artist=s),a&&(n.genre=a),l&&(n.subtitles=l),f&&(n.subartists=f),c&&(n.difficulty=c),u&&(n.level=u),new t(n)},t}();e.SongInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Keysounds=void 0;var r=n(99),i=n(43),o=function(){function t(t){this._map=t}return t.prototype.get=function(t){return this._map[t.toLowerCase()]},t.prototype.files=function(){return(0,r.uniq)((0,r.values)(this._map))},t.prototype.all=function(){return this._map},t.fromBMSChart=function(e){i.BMSChart;var n={};return e.headers.each((function(t,e){var r=t.match(/^wav(\S\S)$/i);r&&(n[r[1].toLowerCase()]=e)})),new t(n)},t}();e.Keysounds=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Positioning=void 0;var r=n(70),i=n(43),o=function(){function t(t){this._speedcore=new r.Speedcore(t)}return t.prototype.speed=function(t){return this._speedcore.dx(t)},t.prototype.position=function(t){return this._speedcore.x(t)},t.fromBMSChart=function(e){i.BMSChart;var n=[],r=0;return n.push({t:0,x:r,dx:1,inclusive:!0}),e.objects.allSorted().forEach((function(t){if("SC"===t.channel){var i=e.measureToBeat(t.measure,t.fraction),o=+e.headers.get("scroll"+t.value);if(isNaN(o))return;var s=n[n.length-1];r+=(i-s.t)*s.dx,0===i&&1===n.length?n[0].dx=o:n.push({t:i,x:r,dx:o,inclusive:!0})}})),new t(n)},t}();e.Positioning=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Spacing=void 0;var r=n(70),i=n(43),o=function(){function t(t){t.length>0&&(this._speedcore=new r.Speedcore(t))}return t.prototype.factor=function(t){return this._speedcore?this._speedcore.x(t):1},t.fromBMSChart=function(e){i.BMSChart;var n=[];return e.objects.allSorted().forEach((function(t){if("SP"===t.channel){var r=e.measureToBeat(t.measure,t.fraction),i=+e.headers.get("speed"+t.value);if(isNaN(i))return;if(n.length>0){var o=n[n.length-1];o.dx=(i-o.x)/(r-o.t)}n.push({t:r,x:i,dx:0,inclusive:!0})}})),n.length>0&&n.unshift({t:0,x:n[0].x,dx:0,inclusive:!0}),new t(n)},t}();e.Spacing=o},function(t,e,n){"use strict";var r=n(67);function i(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}e.symbolIteratorPonyfill=i,e.iterator=i(r.root),e.$$iterator=e.iterator},function(t,e,n){"use strict";var r=n(100),i=n(808),o=n(809),s=n(690);e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length||2===t.length&&r.isScheduler(t[1])?o.from(t[0]):s.concatAll()(i.of.apply(void 0,t))}},function(t,e,n){"use strict";var r=n(25),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(39),o=n(38);e.mergeMap=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new s(t,e,n))}};var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=s;var a=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(i.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapSubscriber=a},function(t,e,n){"use strict";var r=n(106);e.isNumeric=function(t){return!r.isArray(t)&&t-parseFloat(t)+1>=0}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(67),o=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.pending=!1,this.work=n}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;i.root.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(n(1244).Action);e.AsyncAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(n(1245).Scheduler);e.AsyncScheduler=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=o;var s=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=i},function(t,e,n){"use strict";var r=n(699),i=n(700),o=n(694),s=n(687);e.reduce=function(t,e){return arguments.length>=2?function(n){return s.pipe(r.scan(t,e),i.takeLast(1),o.defaultIfEmpty(e))(n)}:function(e){return s.pipe(r.scan((function(e,n,r){return t(e,n,r+1)})),i.takeLast(1))(e)}}},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(777);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(55),c=n.n(a),u=n(54),l=n.n(u),f=n(723);class h extends i.a.Component{constructor(t){super(t),this.el=document.createElement("div")}componentDidMount(){f.a.appendChild(this.el)}componentWillUnmount(){f.a.removeChild(this.el)}render(){return l.a.createPortal(this.props.children,this.el)}}h.propTypes={children:s.a.node};class p extends i.a.Component{render(){return!1===this.props.visible?null:i.a.createElement(h,null,i.a.createElement("div",{className:c()("ModalPopup",{"is-visible":!1!==this.props.visible}),onClick:this.props.onBackdropClick},i.a.createElement("div",{className:"ModalPopupscroller"},i.a.createElement("div",{className:"ModalPopupcontentsContainer"},i.a.createElement("div",{className:"ModalPopupcontents",onClick:t=>t.stopPropagation()},this.props.children)))))}}p.propTypes={visible:s.a.bool,onBackdropClick:s.a.func,children:s.a.node}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){return t===e}function o(t){var e=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,r=null;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return null!==n&&n.length===o.length&&o.every((function(t,r){return e(t,n[r])}))||(r=t.apply(void 0,o)),n=o,r}}function s(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=0,c=i.pop(),u=s(i),l=t.apply(void 0,[function(){return a++,c.apply(void 0,arguments)}].concat(n)),f=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=u.map((function(n){return n.apply(void 0,[t,e].concat(i))}));return l.apply(void 0,r(s))};return f.resultFunc=c,f.recomputations=function(){return a},f.resetRecomputations=function(){return a=0},f}}e.__esModule=!0,e.defaultMemoize=o,e.createSelectorCreator=a,e.createStructuredSelector=function(t){var e=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map((function(e){return t[e]})),(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((function(t,e,r){return t[n[r]]=e,t}),{})}))};var c=e.createSelector=a(o)},function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d}));var r=n(111),i=n.n(r);const o=()=>({status:"loading"}),s=t=>({status:"completed",value:t}),a=t=>"loading"===t.status,c=t=>"completed"===t.status,u=t=>"error"===t.status,l=t=>t.value,f=t=>u(t)&&t.error,h=t=>o(),p=t=>i()({status:"completed",value:()=>t}),d=t=>i()({status:"error",error:()=>t})},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1088);Object.defineProperty(e,"createIO",{enumerable:!0,get:function(){return r.createIO}});var i=n(1091);Object.defineProperty(e,"createRun",{enumerable:!0,get:function(){return i.createRun}})},function(t,e,n){var r=n(459);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(148);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"enableTestMode",(function(){return o})),n.d(e,"setGameLifecycleHandler",(function(){return s})),n.d(e,"isTestModeEnabled",(function(){return a})),n.d(e,"pauseAt",(function(){return c})),n.d(e,"unpause",(function(){return u})),n.d(e,"getScore",(function(){return l}));let r=!1,i={pauseAt(t){throw new Error("Cannot pause: No lifecycle handler registered!")},unpause(){throw new Error("Cannot unpause: No lifecycle handler registered!")},getScore(){throw new Error("Cannot get score: No lifecycle handler registered!")}};function o(){if(!r){r=!0,console.log("[Bemuse test mode enabled]");const t=document.createElement("div");t.setAttribute("style","\n        position: fixed;\n        top: 20px;\n        left: 20px;\n        font: 20px Comic Sans MS, sans-serif;\n        z-index: 99999;\n        background: rgba(0,0,0,0.5);\n        color: #0f0;\n        border: 2px solid #0f0;\n        padding: 4px;\n        pointer-events: none;\n      "),t.innerHTML="\n      <strong>Test mode:</strong>\n      Bemuse is being controlled by automated test software.\n    ",document.body.appendChild(t)}}function s(t){console.log("[Bemuse test mode] A pause handler has been registered."),i=t}function a(){return!!r}function c(t){return i.pauseAt(t)}function u(){return i.unpause()}function l(){return i.getScore()}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fromBMSChart=void 0;var a=o(n(104)),c=s(n(30)),u=s(n(228));function l(t){var e=+t.headers.get("rank")||2;return 0===e?[8,24]:1===e?[15,30]:3===e?[21,60]:[18,40]}function f(t,e){var n=c.default.max(t.map((function(t){return t.endBeat||t.beat})))||0,r=[0],i=0,o=0;do{i+=e.timeSignatures.getBeats(o),o+=1,r.push(i)}while(i<=n);return r}e.fromBMSChart=function(t,e){var n=a.Notes.fromBMSChart(t,{mapping:e.double?a.Notes.CHANNEL_MAPPING.IIDX_DP:a.Notes.CHANNEL_MAPPING.IIDX_P1}).all(),r={notes:n,landmineNotes:a.Notes.fromBMSChart(t,{mapping:e.double?a.Notes.CHANNEL_MAPPING.IIDX_DP_LANDMINE:a.Notes.CHANNEL_MAPPING.IIDX_P1_LANDMINE}).all(),timing:a.Timing.fromBMSChart(t),keysounds:a.Keysounds.fromBMSChart(t),songInfo:a.SongInfo.fromBMSChart(t),positioning:a.Positioning.fromBMSChart(t),spacing:a.Spacing.fromBMSChart(t),barLines:f(n,t),expertJudgmentWindow:l(t)};return new u.default(r,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r=n(67).root.Symbol;e.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,n){"use strict";var r=n(67);function i(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.getSymbolObservable=i,e.observable=i(r.root),e.$$observable=e.observable},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(53),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return r(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(137),o=n(106),s=n(38),a=n(39),c={};e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(new i.ArrayObservable([e].concat(t)),new u(n))}};var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}();e.CombineLatestOperator=u;var l=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return r(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(a.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber);e.CombineLatestSubscriber=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(325);e.observeOn=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var a=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return r(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},e}(i.Subscriber);e.ObserveOnSubscriber=a;var c=function(t,e){this.notification=t,this.destination=e};e.ObserveOnMessage=c},function(t,e,n){"use strict";var r=n(326),i=n(812);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeMap(i.identity,null,t)}},function(t,e,n){"use strict";var r=n(25),i=n(137),o=n(100),s=n(372);e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,c=t[t.length-1];return o.isScheduler(c)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r.Observable?t[0]:s.mergeAll(n)(new i.ArrayObservable(t,a))}},function(t,e,n){"use strict";e.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(137),o=n(106),s=n(32),a=n(38),c=n(39),u=n(323);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),new i.ArrayObservable(t).lift(new f(n))}e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(l.apply(void 0,[e].concat(t)))}},e.zipStatic=l;var f=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}();e.ZipOperator=f;var h=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return r(e,t),e.prototype._next=function(t){var e=this.iterators;o.isArray(t)?e.push(new d(t)):"function"==typeof t[u.iterator]?e.push(new p(t[u.iterator]())):e.push(new b(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,a=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.project?this._tryProject(o):n.next(o),i&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.Subscriber);e.ZipSubscriber=h;var p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),b=function(t){function e(e,n,r){t.call(this,e),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return r(e,t),e.prototype[u.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return c.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(815),s=n(53),a=n(371),c=n(368),u=n(805),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=r,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}return r(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new f(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?e=s.Subscription.EMPTY:(this.observers.push(t),e=new u.SubjectSubscription(this,t)),r&&t.add(t=new a.ObserveOnSubscriber(t,r));for(var i=n.length,o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.Subject);e.ReplaySubject=l;var f=function(t,e){this.time=t,this.value=e}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,n){return void 0===n&&(n=e.defaultThrottleConfig),function(e){return e.lift(new s(t,n.leading,n.trailing))}};var s=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector,this.leading,this.trailing))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e),this.destination=e,this.durationSelector=n,this._leading=r,this._trailing=i,this._hasTrailingValue=!1}return r(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=o.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype._unsubscribe=function(){var t=this,e=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,n=t.throttled,r=t._trailing,i=t._trailingValue,o=t._hasTrailingValue;n&&r&&o&&(e.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,n,r,i){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(i.OuterSubscriber)},,function(t,e,n){"use strict";n.d(e,"c",(function(){return E})),n.d(e,"b",(function(){return A})),n.d(e,"a",(function(){return C}));var r=n(755),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,s=Object.prototype,a=s.hasOwnProperty,c=s.toString,u=o?o.toStringTag:void 0;var l=function(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=c.call(t);return r&&(e?t[u]=n:delete t[u]),i},f=Object.prototype.toString;var h=function(t){return f.call(t)},p=o?o.toStringTag:void 0;var d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":p&&p in Object(t)?l(t):h(t)};var b=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object);var m=function(t){return null!=t&&"object"==typeof t},y=Function.prototype,v=Object.prototype,g=y.toString,_=v.hasOwnProperty,w=g.call(Object);var S=function(t){if(!m(t)||"[object Object]"!=d(t))return!1;var e=b(t);if(null===e)return!0;var n=_.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&g.call(n)==w},x=n(461),k="@@redux/INIT";function E(t,e,n){var r;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(E)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function l(){return o}function f(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return u(),a.push(t),function(){if(e){e=!1,u();var n=a.indexOf(t);a.splice(n,1)}}}function h(t){if(!S(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=i(o,t)}finally{c=!1}for(var e=s=a,n=0;n<e.length;n++){(0,e[n])()}return t}return h({type:k}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,h({type:k})}})[x.a]=function(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[x.a]=function(){return this},t},r}function O(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function A(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"==typeof t[i]&&(n[i]=t[i])}var o=Object.keys(n);var s=void 0;try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:k}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+k+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){s=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<o.length;a++){var c=o[a],u=n[c],l=t[c],f=u(l,e);if(void 0===f){var h=O(c,e);throw new Error(h)}i[c]=f,r=r||f!==l}return r?i:t}}function M(t,e){return function(){return e(t.apply(void 0,arguments))}}function C(t,e){if("function"==typeof t)return M(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],s=t[o];"function"==typeof s&&(r[o]=M(s,e))}return r}Object.assign},,function(t,e,n){"use strict";function r(t){return{info:i(t,"info"),warn:i(t,"warn"),error:i(t,"error")}}function i(t,e){return(...r)=>{console.log(`[${(new Date).toJSON()}] [${t}] [${e}] ${n(147).format(...r)}`)}}n.r(e),n.d(e,"forModule",(function(){return r}))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o}));const r="https://music4.bemuse.ninja/server";async function i(e,{fetch:n=t.fetch}={}){const r=o(e),i=await n(r).then((t=>t.json()));if(Array.isArray(i.songs))return i;if(Array.isArray(i.charts)){const t=r.replace(/[^/]*$/,"");return{songs:[{...i,id:"song",path:t}]}}throw new Error(`Invalid server file at ${r}: Does not contain "songs" array.`)}function o(t){return t.endsWith("/bemuse-song.json")?t:t.replace(/\/(?:index\.json)?$/,"")+"/index.json"}}).call(this,n(31))},function(t,e,n){"use strict";var r=n(30),i=n.n(r),o=n(260);e.a=function(t){return i()(t).filter(o.a).orderBy([t=>t.info.difficulty>=5?1:0,t=>t.keys,t=>t.info.level]).value()}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(51),i=n(764),o=n(766),s=n(767),a=n(768),c=n(387);t.exports=function(t){return new Promise((function(e,u){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",d=t.auth.password||"";f.Authorization="Basic "+btoa(p+":"+d)}if(h.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};i(e,u,r),h=null}},h.onerror=function(){u(c("Network Error",t,null,h)),h=null},h.ontimeout=function(){u(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var b=n(769),m=(t.withCredentials||a(t.url))&&t.xsrfCookieName?b.read(t.xsrfCookieName):void 0;m&&(f[t.xsrfHeaderName]=m)}if("setRequestHeader"in h&&r.forEach(f,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:h.setRequestHeader(e,t)})),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),u(t),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(t,e,n){"use strict";var r=n(765);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return u}));var r=n(2);function i(){return r.a.BEMUSE_MUSIC_SERVER||r.a.server}function o(){return+r.a.volume||1}function s(){return r.a.archive}function a(){return r.a.grep}function c(){return r.a.song}function u(){return r.a.BEMUSE_TIMESYNCHRO_SERVER}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e._slicesForNotesAndTiming=e.beatForLoc=e.timingInfoForBmson=e.barLinesForBmson=void 0;var u=c(n(30)),l=o(n(392));function f(t){return t/240}e.barLinesForBmson=function(t){var e=t.lines;return(0,u.default)(e).map((function(t){return f(t.y)})).sortBy().value()},e.timingInfoForBmson=function(t){return{initialBPM:t.info.initBPM,actions:a(a([],s((t.bpmNotes||[]).map((function(t){var e=t.y,n=t.v;return{type:"bpm",beat:f(e),bpm:n}}))),!1),s((t.stopNotes||[]).map((function(t){var e=t.y,n=t.v;return{type:"stop",beat:f(e),stopBeats:f(Math.floor(n))}}))),!1)}},e.beatForLoc=f,e._slicesForNotesAndTiming=function(t,e){return l.slicesForNotesAndTiming(t,e,{beatForPulse:f})}},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.slicesForNotesAndTiming=void 0;var a=s(n(30));e.slicesForNotesAndTiming=function(t,e,n){var s,c,u,l,f=n.beatForPulse,h=new Set,p=new Set,d=new Set;try{for(var b=r(t),m=b.next();!m.done;m=b.next()){var y=m.value,v=y.x,g=y.y,_=y.c;h.add(g),v&&p.add(g),_||d.add(g)}}catch(t){s={error:t}}finally{try{m&&!m.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}var w,S,x=new Map,k=null,E=!0;try{for(var O=r(a.default.sortBy(o([],i(h),!1))),A=O.next();!A.done;A=O.next()){g=A.value;var M=e.beatToSeconds(f(g));if(null===k||d.has(g)?k=0:k+=M-w,E||p.has(g)||d.has(g)){S&&!d.has(g)&&(S.keysoundEnd=k);var C={keysoundStart:k,keysoundEnd:void 0};x.set(g,C),S=C}E=p.has(g),w=M}}catch(t){u={error:t}}finally{try{A&&!A.done&&(l=O.return)&&l.call(O)}finally{if(u)throw u.error}}return x}},function(t,e,n){"use strict";e.a=class{constructor(t,e,n){this.notechart=t,this.number=e,this.options={autoplayEnabled:!!n.autoplayEnabled,autosound:!!n.autosound,speed:+n.speed,placement:n.placement||"center",scratch:n.scratch||"left",input:n.input,laneCover:+(n.laneCover||0),gauge:n.gauge,tutorial:!!n.tutorial}}get columns(){return this.notechart.columns}}},function(t,e,n){"use strict";var r=n(82),i=n(30),o=n.n(i);const s=t=>Math.floor(5e5*t),a=(t,e)=>Math.floor(55555*t/e);e.a=class{constructor(t){this.totalCombo=o()(t.notes).map((e=>t.info(e).combos)).sum(),this.totalNotes=t.notes.length,this.combo=0,this.maxCombo=0,this.rawSumJudgmentWeight=0,this.rawTotalComboScore=this._calculateRawTotalComboScore(this.totalCombo),this._remainingMaxPossibleRawComboScore=this.rawTotalComboScore,this.rawSumComboScore=0,this.counts={[r.b]:0,1:0,2:0,3:0,4:0},this.numJudgments=0,this.poor=!1,this._log=[],this.deltas=[]}get score(){return this.accuracyScore+this.comboScore}get accuracyScore(){return s(this.accuracy)}get comboScore(){return a(this.rawSumComboScore,this.rawTotalComboScore)}get maxPossibleScore(){return this.maxPossibleAccuracyScore+this.maxPossibleComboScore}get maxPossibleAccuracyScore(){const t=this.totalCombo-this.numJudgments,e=(this.rawSumJudgmentWeight+r.i(1)*t)/(r.i(1)*this.totalCombo);return s(e)}get maxPossibleComboScore(){const t=this.rawSumComboScore+this._remainingMaxPossibleRawComboScore;return a(t,this.rawTotalComboScore)}get accuracy(){return this.rawSumJudgmentWeight/(r.i(1)*this.totalCombo)}get currentAccuracy(){return this.rawSumJudgmentWeight/(r.i(1)*this.numJudgments||1)}get log(){return this._log.map((({character:t,count:e})=>`${e>1?e:""}${t}`)).join("")}handleJudgment(t){if(this.counts[t]+=1,this.numJudgments+=1,r.c(t)){const t=this.totalCombo-this.numJudgments;this.combo=0,this.poor=!0,this._remainingMaxPossibleRawComboScore=this._calculateRawTotalComboScore(t)}else{this.combo+=1;const t=this._calculateRawComboScore(this.combo);this.rawSumComboScore+=t,this._remainingMaxPossibleRawComboScore-=t,this.poor=!1}this.rawSumJudgmentWeight+=r.i(t),this.combo>this.maxCombo&&(this.maxCombo=this.combo),this._recordLog(t)}handleDelta(t){this.deltas.push(t)}_calculateRawTotalComboScore(t){let e=0;for(let n=1;n<=t;n++)e+=this._calculateRawComboScore(n);return e}_calculateRawComboScore(t){return 0===t?0:t<23?1:t<51?2:t<92?3:t<161?4:5}_recordLog(t){let e=this._getLogCharacter(t);e&&(0===this._log.length||this._log[this._log.length-1].character!==e?this._log.push({character:e,count:1}):this._log[this._log.length-1].count+=1)}_getLogCharacter(t){switch(t){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";case r.b:return"M"}}}},function(t,e,n){"use strict";var r=n(30),i=n.n(r);function o(t,e,n){return 1-(n-t)/(e-t)}function s(t){return t.position}e.a=class{constructor(t,e){this._notes=i.a.sortBy(t,s),this._barLines=i()(e).map("position").sortBy().value()}getVisibleNotes(t,e,n){let r=[],i=this._notes;n||(n=0);for(let s=0;s<i.length;s++){let a=i[s];if(a.end?!(a.position>e||a.end.position<t-n):!(a.position>e||a.position<t-n)){let n={note:a};if(a.end){let r=o(t,e,a.position),i=o(t,e,a.end.position);n.y=Math.min(r,i),n.height=Math.abs(r-i)}else n.y=o(t,e,a.position);r.push(n)}}return r}getVisibleBarLines(t,e,n){return n||(n=0),this._barLines.filter((r=>t-n<=r&&r<=e)).map((n=>({id:n,y:o(t,e,n)})))}}},function(t,e,n){"use strict";function r(t){return"hope"===t?function(){let t,e,n;return{update(r){const i=r.stats,o=i.numJudgments/i.totalCombo,s=(t,e,n)=>{const r=e+(n-e)*o,s=i.maxPossibleScore;return Math.max(0,(s-t)/(r-t))},a=.5*s(5e5,555555,51e4);if(t=Math.min(1,a),n=Math.max(0,Math.min(1,a-1)),a>0)e=0;else{const t=s(45e4,5e5,5e5);e=t}},shouldDisplay:()=>t>0||e>0,getPrimary:()=>t,getSecondary:()=>e,getExtra:()=>n}}():{update(){},shouldDisplay:()=>!1,getPrimary:()=>0,getSecondary:()=>0,getExtra:()=>0}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a=function(t){let e=Math.floor(t%60);return Math.floor(t/60)+":"+(e<10?"0":"")+e}},function(t,e,n){(function(t,r){var i;!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,u=36,l=/^xn--/,f=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,b=String.fromCharCode;function m(t){throw new RangeError(p[t])}function y(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function v(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+y((t=t.replace(h,".")).split("."),e).join(".")}function g(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function _(t){return y(t,(function(t){var e="";return t>65535&&(e+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=b(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=u)t=d(t/35);return d(r+36*t/(t+38))}function x(t){var e,n,r,i,o,s,a,l,f,h,p,b=[],y=t.length,v=0,g=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&m("not-basic"),b.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=v,s=1,a=u;i>=y&&m("invalid-input"),((l=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>d((c-v)/s))&&m("overflow"),v+=l*s,!(l<(f=a<=w?1:a>=w+26?26:a-w));a+=u)s>d(c/(h=u-f))&&m("overflow"),s*=h;w=S(v-o,e=b.length+1,0==o),d(v/e)>c-g&&m("overflow"),g+=d(v/e),v%=e,b.splice(v++,0,g)}return _(b)}function k(t){var e,n,r,i,o,s,a,l,f,h,p,y,v,_,x,k=[];for(y=(t=g(t)).length,e=128,n=0,o=72,s=0;s<y;++s)(p=t[s])<128&&k.push(b(p));for(r=i=k.length,i&&k.push("-");r<y;){for(a=c,s=0;s<y;++s)(p=t[s])>=e&&p<a&&(a=p);for(a-e>d((c-n)/(v=r+1))&&m("overflow"),n+=(a-e)*v,e=a,s=0;s<y;++s)if((p=t[s])<e&&++n>c&&m("overflow"),p==e){for(l=n,f=u;!(l<(h=f<=o?1:f>=o+26?26:f-o));f+=u)x=l-h,_=u-h,k.push(b(w(h+x%_,0))),l=d(x/_);k.push(b(w(l,0))),o=S(n,v,r==i),n=0,++r}++n,++e}return k.join("")}a={version:"1.4.1",ucs2:{decode:g,encode:_},decode:x,encode:k,toASCII:function(t){return v(t,(function(t){return f.test(t)?"xn--"+k(t):t}))},toUnicode:function(t){return v(t,(function(t){return l.test(t)?x(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return a}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(63)(t),n(31))},function(t,e,n){"use strict";const r=(t,e,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const o=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!i(o,s)&&r||Object.defineProperty(t,n,s)},i=function(t,e){return void 0===t||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},o=(t,e)=>`/* Wrapped ${t}*/\n${e}`,s=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),a=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");t.exports=(t,e,{ignoreNonConfigurable:n=!1}={})=>{const{name:i}=t;for(const i of Reflect.ownKeys(e))r(t,e,i,n);return((t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)})(t,e),((t,e,n)=>{const r=""===n?"":`with ${n.trim()}() `,i=o.bind(null,r,e.toString());Object.defineProperty(i,"name",a),Object.defineProperty(t,"toString",{...s,value:i})})(t,e,i),t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return b})),n.d(e,"d",(function(){return y}));var r=n(684),i=n.n(r),o=n(30),s=n.n(o),a=n(87),c=n.n(a);function u(t){return c.a.fromBinder((e=>{for(let n of t.inputs.values())e(new c.a.Next(n));for(let n of t.outputs.values())e(new c.a.Next(n));t.onstatechange=t=>{e(new c.a.Next(t.port))}}))}function l(t){return"input"!==t.type?c.a.never():c.a.fromEvent(t,"midimessage")}var f=function(){return c.a.fromPromise(navigator.requestMIDIAccess?navigator.requestMIDIAccess():Promise.reject(new Error("MIDI is not supported"))).flatMap(u).flatMapError((t=>(console.warn("MIDI Error:",t.stack),c.a.never()))).flatMap(l).doLog("messageforport")};class h{constructor(){this.stop=1,this.charge=0,this.previous=!1,this.active=!1,this.positive=!1}update(t,e=3){if(!1===this.previous)return this.previous=t,0;if(this.previous!==t){let n=t-this.previous;n>1?n-=2.005:n<-1&&(n+=2.005);let r=n>0;this.active&&this.positive!==r?(this.positive=r,this.active=!1,this.charge=0):this.active||((0===this.charge||this.stop<=e)&&(this.charge+=Math.ceil(Math.abs(n)/.01)),this.charge>=2&&(this.active=!0,this.positive=r)),this.stop=0,this.previous=t}return this.stop>2*e&&(this.active=!1,this.charge=0,this.stop=0),this.stop+=1,this.active?this.positive?1:-1:0}}class p{constructor(t=window,e={}){const n=(e.getMidi||f)();this._window=t,this._exclusive=!!e.exclusive,this._continuousAxis=!!e.continuous,this.setGamepadSensitivity(e.sensitivity||3),this._disposables=[v(t,"keydown",(t=>this._handleKeyDown(t))),v(t,"keyup",(t=>this._handleKeyUp(t))),n.onValue((t=>this._handleMIDIMessage(t)))],this._status={},this._axis={}}_handleKeyDown(t){this._status[`${t.which}`]=!0,this._exclusive&&t.preventDefault()}_handleKeyUp(t){this._status[`${t.which}`]=!1}_handleMIDIMessage(t){if(!t||!t.data)return;const e=t.data,n=`midi.${t.target.id}.${15&t.data[0]}`,r=t=>{this._status[`${n}.note.${e[1]}`]=t};if(128==(240&e[0]))r(!1);else if(144==(240&e[0]))e[2]>0?r(!0):r(!1);else if(176==(240&e[0]))64===e[1]?this._status[`${n}.sustain`]=e[2]>=64:1===e[1]&&(this._status[`${n}.mod`]=e[2]>=16);else if(224==(240&e[0])){const t=e[1]|e[2]<<7;this._status[`${n}.pitch.up`]=t>=8448,this._status[`${n}.pitch.down`]=t<7936}}_updateGamepads(){const t=this._window.navigator,e=t.getGamepads?t.getGamepads():t.webkitGetGamepads?t.webkitGetGamepads():[];if(e)for(let t=0;t<e.length;t++){const n=e[t];n&&this._updateGamepad(n)}}_updateGamepad(t){const e=`gamepad.${t.index}`;for(let n=0;n<t.buttons.length;n++){const r=t.buttons[n];this._status[`${e}.button.${n}`]=r&&r.value>=.5}for(let n=0;n<t.axes.length;n++){const r=`${e}.axis.${n}`;let i=t.axes[n];this._continuousAxis&&(null==this._axis[r]&&(this._axis[r]=new h),i=this._axis[r].update(i)),this._status[`${r}.positive`]=i>=this._deadzone,this._status[`${r}.negative`]=i<=-this._deadzone}}update(){return this._updateGamepads(),this._status}setGamepadSensitivity(t){this._sensitivity=t,this._deadzone=.05*(9-this._sensitivity),this._deadzone<.01&&(this._deadzone=.01),this._analogThreshold=18-2*this._sensitivity}setGamepadContinuousAxisEnabled(t){this._continuousAxis=t}dispose(){for(let t of this._disposables)t()}}function d(t=new p,e=window){return b(c.a.fromBinder((n=>{const r=e.setInterval((()=>{n(new c.a.Next(t.update()))}),16);return()=>e.clearInterval(r)})))}function b(t){return t.map((t=>Object.keys(t).filter((e=>t[e])))).diff([],((t,e)=>s.a.difference(e,t))).flatMap((t=>c.a.fromArray(t)))}e.c=p;const m={};function y(t){if(+t)return s.a.capitalize(i()(+t));{const e=t.match(/^gamepad\.(\d+)\.axis\.(\d+)\.(\w+)/);if(e)return`Joy${e[1]} Axis${e[2]} (${"positive"===e[3]?"+":"-"})`}{const e=t.match(/^gamepad\.(\d+)\.button\.(\d+)/);if(e)return`Joy${e[1]} Btn${e[2]}`}{const e=t.match(/^midi\.(.+)\.(\d+)\.(.+)$/);if(e){const t=e[3].split("."),n=e[1],r=`MIDI${m[n]||(m[n]=Object.keys(m).length+1)} Ch${+e[2]+1}`;if("note"===t[0]){const e=+t[1];return`${r} ${["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][e%12]}${Math.floor(e/12)-1}`}if("pitch"===t[0])return`${r} Pitch${"up"===t[1]?"+":"-"}`;if("sustain"===t[0])return"Sustain";if("mod"===t[0])return"Mod"}}return`${String(t).replace(/\./g," ")}?`}function v(t,e,n){return t.addEventListener(e,n),function(){t.removeEventListener(e,n)}}},function(t,e,n){"use strict";var r=class{constructor(){this.value=0,this.changed=!1}get justPressed(){return this.changed&&this.value}},i=n(30),o=n.n(i),s=n(231);e.a=class{constructor(){this._controls=new Map,this._plugins=[]}update(){let t=new Map;for(let[t,e]of this._controls)e.changed=!1;for(let e of this._plugins)for(let[n,r]of e.get())t.set(n,r);for(let[e,n]of t){let t=this.get(e);t.value!==n&&(t.changed=!0,t.value=n)}}destroy(){for(let t of this._plugins)t.destroy()}get(t){return this._controls.has(t)||this._controls.set(t,new r),this._controls.get(t)}use(t){let e={},n="input:"+t.name;this._plugins.push({get:s.a.wrap(n,(function(){let n=t.get(),r=[];for(let t of o.a.union(o.a.keys(n),o.a.keys(e))){let i=+e[t]||0,o=+n[t]||0;i!==o&&r.push([t,o]),e[t]=o}return r})),destroy:()=>"function"!=typeof t.destroy||t.destroy()})}}},,,function(t,e,n){var r=n(458);t.exports=function(t,e,n){var i=new WebSocket(t),o=[];function s(){try{i.send(""+(new Date).getTime())}catch(t){}}i.onmessage=function(t){var e,i,a,c,u;"k"==t.data&&s(),t.data.indexOf(",")>=0&&(e=t.data,i=e.split(","),a=+i[0],c=+i[1],u=(new Date).getTime(),a<=u&&o.push(r.convert([a,c,c,u])),o.length>=8&&n&&n(r.offset(o)),s())},i.onclose=function(){return o.length<1?e(new Error("no offset received")):e(null,r.offset(o))}}},function(t,e){e.convert=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return{offset:(n-e+(r-i))/2,delay:i-e-(r-n)}},e.offset=function(t){(t=t.slice()).sort((function(t,e){return t.offset-e.offset})),(t=t.slice(1,t.length-1)).sort((function(t,e){return t.delay-e.delay}));for(var e=0,n=0,r=Math.ceil(t.length/8),i=0;i<t.length&&(t[i].delay>t[0].delay&&r--,0!==r);i++)e+=t[i].offset,n+=1;return e/n}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(i(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(!r.call(e,n[s])||!i(t[n[s]],e[n[s]]))return!1;return!0}},function(t,e,n){"use strict";(function(t,r){var i,o=n(749);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var s=Object(o.a)(i);e.a=s}).call(this,n(31),n(462)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports=function(t){return t.length?t.reduce((function(t,e){return t+e}))/t.length:0}},function(t,e,n){var r=n(1094);t.exports=function(t){"use strict";var e=r(t);return t.reduce((function(t,n){var r=n-e;return t+r*r}),0)/t.length}},function(t,e,n){"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,f=n(1098)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p={},d="undefined"==typeof Uint8Array?r:h(Uint8Array),b={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},m=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=h(i.prototype))}return b[e]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(466),g=n(1101),_=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),x=v.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,O=function(t){var e=x(t,0,1),n=x(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return S(t,k,(function(t,e,n,i){r[r.length]=n?S(i,E,"$1"):e||t})),r},A=function(t,e){var n,r=t;if(g(y,r)&&(r="%"+(n=y[r])[0]+"%"),g(b,r)){var o=b[r];if(o===p&&(o=m(r)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",o=A("%"+r+"%",e),a=o.name,u=o.value,l=!1,f=o.alias;f&&(r=f[0],w(n,_([0,1],f)));for(var h=1,p=!0;h<n.length;h+=1){var d=n[h],m=x(d,0,1),y=x(d,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&p||(l=!0),g(b,a="%"+(r+="."+d)+"%"))u=b[a];else if(null!=u){if(!(d in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&h+1>=n.length){var v=c(u,d);u=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[d]}else p=g(u,d),u=u[d];p&&!l&&(b[a]=u)}}return u}},function(t,e,n){"use strict";var r=n(1100);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o="RFC1738",s="RFC3986";t.exports={default:s,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:o,RFC3986:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(151),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){var e=(0,o.default)(t);return function(){return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(235)),i=o(n(76));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n){for(var i=(0,r.default)(t),o=n,s=0;s<i.length;++s){if(void 0===o)return!1;o=o[i[s]]}return"function"==typeof e?e(o):e===o}))},function(t,e,n){var r=n(152);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},function(t,e,n){var r=n(472)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(72),i=n(56);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(73),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(72),i=n(156),o=n(56),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},function(t,e,n){var r=n(159),i=n(480),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(242)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(112);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},function(t,e,n){var r=n(483),i=n(524),o=n(252);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(160),i=n(245);t.exports=function(t,e,n,o){var s=n.length,a=s,c=!o;if(null==t)return!a;for(t=Object(t);s--;){var u=n[s];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++s<a;){var l=(u=n[s])[0],f=t[l],h=u[1];if(c&&u[2]){if(void 0===f&&!(l in t))return!1}else{var p=new r;if(o)var d=o(f,h,l,t,e,p);if(!(void 0===d?i(h,f,3,o,p):d))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(114),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(114);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(114);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(114);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(113);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(113),i=n(162),o=n(163);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(243),i=n(495),o=n(64),s=n(244),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:a).test(s(t))}},function(t,e,n){var r,i=n(496),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(48)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(499),i=n(113),o=n(162);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(500),i=n(501),o=n(502),s=n(503),a=n(504);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(115);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(115),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(115),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(115);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(116);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(116);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(116);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(116);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(160),i=n(246),o=n(516),s=n(519),a=n(117),c=n(42),u=n(154),l=n(241),f="[object Arguments]",h="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,b,m,y){var v=c(t),g=c(e),_=v?h:a(t),w=g?h:a(e),S=(_=_==f?p:_)==p,x=(w=w==f?p:w)==p,k=_==w;if(k&&u(t)){if(!u(e))return!1;v=!0,S=!1}if(k&&!S)return y||(y=new r),v||l(t)?i(t,e,n,b,m,y):o(t,e,_,n,b,m,y);if(!(1&n)){var E=S&&d.call(t,"__wrapped__"),O=x&&d.call(e,"__wrapped__");if(E||O){var A=E?t.value():t,M=O?e.value():e;return y||(y=new r),m(A,M,n,b,y)}}return!!k&&(y||(y=new r),s(t,e,n,b,m,y))}},function(t,e,n){var r=n(163),i=n(512),o=n(513);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(73),i=n(247),o=n(161),s=n(246),a=n(517),c=n(518),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,f,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":var d=1&r;if(p||(p=c),t.size!=e.size&&!d)return!1;var b=h.get(t);if(b)return b==e;r|=2,h.set(t,e);var m=s(p(t),p(e),r,u,f,h);return h.delete(t),m;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(248),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,s,a){var c=1&n,u=r(t),l=u.length;if(l!=r(e).length&&!c)return!1;for(var f=l;f--;){var h=u[f];if(!(c?h in e:i.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var b=!0;a.set(t,e),a.set(e,t);for(var m=c;++f<l;){var y=t[h=u[f]],v=e[h];if(o)var g=c?o(v,y,h,e,t,a):o(y,v,h,t,e,a);if(!(void 0===g?y===v||s(y,v,n,o,a):g)){b=!1;break}m||(m="constructor"==h)}if(b&&!m){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(b=!1)}return a.delete(t),a.delete(e),b}},function(t,e,n){var r=n(65)(n(48),"DataView");t.exports=r},function(t,e,n){var r=n(65)(n(48),"Promise");t.exports=r},function(t,e,n){var r=n(65)(n(48),"Set");t.exports=r},function(t,e,n){var r=n(65)(n(48),"WeakMap");t.exports=r},function(t,e,n){var r=n(251),i=n(88);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,r(s)]}return e}},function(t,e,n){var r=n(245),i=n(526),o=n(532),s=n(166),a=n(251),c=n(252),u=n(75);t.exports=function(t,e){return s(t)&&a(e)?c(u(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?o(n,t):r(e,s,3)}}},function(t,e,n){var r=n(118);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(528),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=s},function(t,e,n){var r=n(529);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(163);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(531);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(73),i=n(119),o=n(42),s=n(167),a=r?r.prototype:void 0,c=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},function(t,e,n){var r=n(533),i=n(534);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(74),i=n(153),o=n(42),s=n(155),a=n(156),c=n(75);t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,f=!1;++u<l;){var h=c(e[u]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&a(l)&&s(h,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(536),i=n(537),o=n(166),s=n(75);t.exports=function(t){return o(t)?r(s(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(118);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(254)),i=o(n(76));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n){return(0,r.default)(t,e,(function(t){return t}),n)}))},function(t,e,n){var r=n(257),i=n(152),o=n(540),s=n(42);t.exports=function(t,e){return(s(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(168);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(119),i=n(89),o=n(542),s=n(42);t.exports=function(t,e){return(s(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(152),i=n(112);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},function(t,e,n){var r=n(170),i=n(238),o=n(89);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(545)),i=o(n(77));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){return(0,r.default)(e,t)}))},function(t,e,n){var r=n(119),i=n(546),o=n(567),s=n(74),a=n(91),c=n(571),u=n(572),l=n(173),f=u((function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,(function(e){return e=s(e,t),u||(u=e.length>1),e})),a(t,l(t),n),u&&(n=i(n,7,c));for(var f=e.length;f--;)o(n,e[f]);return n}));t.exports=f},function(t,e,n){var r=n(160),i=n(257),o=n(171),s=n(547),a=n(548),c=n(551),u=n(552),l=n(553),f=n(554),h=n(248),p=n(173),d=n(117),b=n(555),m=n(556),y=n(561),v=n(42),g=n(154),_=n(563),w=n(64),S=n(565),x=n(88),k=n(172),E="[object Arguments]",O="[object Function]",A="[object Object]",M={};M[E]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[A]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[O]=M["[object WeakMap]"]=!1,t.exports=function t(e,n,C,j,T,I){var P,F=1&n,R=2&n,D=4&n;if(C&&(P=T?C(e,j,T,I):C(e)),void 0!==P)return P;if(!w(e))return e;var B=v(e);if(B){if(P=b(e),!F)return u(e,P)}else{var N=d(e),L=N==O||"[object GeneratorFunction]"==N;if(g(e))return c(e,F);if(N==A||N==E||L&&!T){if(P=R||L?{}:y(e),!F)return R?f(e,a(P,e)):l(e,s(P,e))}else{if(!M[N])return T?e:{};P=m(e,N,F)}}I||(I=new r);var q=I.get(e);if(q)return q;I.set(e,P),S(e)?e.forEach((function(r){P.add(t(r,n,C,r,e,I))})):_(e)&&e.forEach((function(r,i){P.set(i,t(r,n,C,i,e,I))}));var U=B?void 0:(D?R?p:h:R?k:x)(e);return i(U||e,(function(r,i){U&&(r=e[i=r]),o(P,i,t(r,n,C,i,e,I))})),P}},function(t,e,n){var r=n(91),i=n(88);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(91),i=n(172);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(64),i=n(159),o=n(550),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(48),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(63)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(91),i=n(165);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(91),i=n(259);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(174),i=n(557),o=n(558),s=n(559),a=n(560);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return o(t);case"[object Symbol]":return s(t)}}},function(t,e,n){var r=n(174);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(73),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(174);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(562),i=n(169),o=n(159);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(64),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(564),i=n(157),o=n(158),s=o&&o.isMap,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(117),i=n(56);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(566),i=n(157),o=n(158),s=o&&o.isSet,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(117),i=n(56);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(74),i=n(568),o=n(569),s=n(75);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[s(i(e))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(118),i=n(570);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(255);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(573),i=n(576),o=n(578);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(574);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(164),i=n(575);t.exports=function t(e,n,o,s,a){var c=-1,u=e.length;for(o||(o=i),a||(a=[]);++c<u;){var l=e[c];n>0&&o(l)?n>1?t(l,n-1,o,s,a):r(a,l):s||(a[a.length]=l)}return a}},function(t,e,n){var r=n(73),i=n(153),o=n(42),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},function(t,e,n){var r=n(577),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),c=Array(a);++s<a;)c[s]=o[e+s];s=-1;for(var u=Array(e+1);++s<e;)u[s]=o[s];return u[e]=n(c),r(t,this,u)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(579),i=n(581)(r);t.exports=i},function(t,e,n){var r=n(580),i=n(258),o=n(168),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(583)),i=o(n(77));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){return(0,r.default)(e,t)}))},function(t,e,n){var r=n(89),i=n(253),o=n(584);t.exports=function(t,e){return o(t,i(r(e)))}},function(t,e,n){var r=n(119),i=n(89),o=n(585),s=n(173);t.exports=function(t,e){if(null==t)return{};var n=r(s(t),(function(t){return[t]}));return e=i(e),o(t,n,(function(t,n){return e(t,n[0])}))}},function(t,e,n){var r=n(118),i=n(586),o=n(74);t.exports=function(t,e,n){for(var s=-1,a=e.length,c={};++s<a;){var u=e[s],l=r(t,u);n(l,u)&&i(c,o(u,t),l)}return c}},function(t,e,n){var r=n(171),i=n(74),o=n(155),s=n(64),a=n(75);t.exports=function(t,e,n,c){if(!s(t))return t;for(var u=-1,l=(e=i(e,t)).length,f=l-1,h=t;null!=h&&++u<l;){var p=a(e[u]),d=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(u!=f){var b=h[p];void 0===(d=c?c(b,p,h):void 0)&&(d=s(b)?b:o(e[u+1])?[]:{})}r(h,p,d),h=h[p]}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(236)),i=o(n(77));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e){var n=(0,r.default)(e,t);return e.length===n.length?e:n}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(76)),i=a(n(90)),o=a(n(256)),s=a(n(235));function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){return"*"===e?function(e){return Object.prototype.hasOwnProperty.call(e,"*")?(0,i.default)(c({},"*",t),e):(0,o.default)(t,e)}:c({},e,t)}e.default=(0,r.default)((function(t,e,n){var r=(0,s.default)(t).reduceRight(u,e);return(0,i.default)(r,n)}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(90)),i=o(n(76));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,n){return void 0===n?(0,r.default)(e,t):(0,r.default)(e,n)}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return u}));var r=n(69);let i=localStorage;const o={"player.P1.mode":"KB","input.P1.keyboard.BM.SC":"16","input.P1.keyboard.BM.SC2":"65","input.P1.keyboard.BM.1":"90","input.P1.keyboard.BM.2":"83","input.P1.keyboard.BM.3":"88","input.P1.keyboard.BM.4":"68","input.P1.keyboard.BM.5":"67","input.P1.keyboard.BM.6":"70","input.P1.keyboard.BM.7":"86","input.P1.keyboard.KB.1":"83","input.P1.keyboard.KB.2":"68","input.P1.keyboard.KB.3":"70","input.P1.keyboard.KB.4":"32","input.P1.keyboard.KB.5":"74","input.P1.keyboard.KB.6":"75","input.P1.keyboard.KB.7":"76","player.P1.speed":"1.0","player.P1.lane-cover":"0","player.P1.lead-time":"1685","player.P1.auto-velocity":"0","player.P1.scratch":"left","player.P1.panel":"center","player.P1.gauge":"off","gamepad.continuous":"0","gamepad.sensitivity":"4","system.offset.audio-input":"0","system.offset.audio-visual":"0","system.bga.enabled":"1","system.preview.enabled":"1","system.last-seen-version":"0.0.0","system.ack.twitter":"0","system.ack.deltas":"0","system.ack.finishGame":"0","system.ack.replayGame":"0"},s=new r.EventEmitter;function a(t){return i.getItem(t)||o[t]}function c(t){for(const e of Object.keys(t))i.setItem(e,t[e]);s.emit("changed")}function u(){let t={};for(let e of Object.keys(o))t[e]=a(e);return t}var l,f;"off"===a("player.P1.scratch")&&(l="player.P1.scratch",f="left",i.setItem(l,f),s.emit("changed"))},function(t,e,n){"use strict";var r=n(82);e.a=function(t){return t.filter((t=>Math.abs(t)<Object(r.h)(4)))}},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(78),e.createHash=e.Hash=n(92),e.createHmac=e.Hmac=n(276);var r=n(614),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var s=n(279);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=n(616);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var c=n(631);e.DiffieHellmanGroup=c.DiffieHellmanGroup,e.createDiffieHellmanGroup=c.createDiffieHellmanGroup,e.getDiffieHellman=c.getDiffieHellman,e.createDiffieHellman=c.createDiffieHellman,e.DiffieHellman=c.DiffieHellman;var u=n(636);e.createSign=u.createSign,e.Sign=u.Sign,e.createVerify=u.createVerify,e.Verify=u.Verify,e.createECDH=n(667);var l=n(668);e.publicEncrypt=l.publicEncrypt,e.privateEncrypt=l.privateEncrypt,e.publicDecrypt=l.publicDecrypt,e.privateDecrypt=l.privateDecrypt;var f=n(671);e.randomFill=f.randomFill,e.randomFillSync=f.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e){},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(40).Buffer,a=n(595).inspect,c=a&&a.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,u;return e=t,n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e,n,r,i=s.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=i,r=a,s.prototype.copy.call(e,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:c,value:function(t,e){return a(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}],n&&o(e.prototype,n),u&&o(e,u),t}()},function(t,e){},function(t,e,n){"use strict";(function(e){var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(176),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(t,e){return{value:t,done:e}}function d(t){var e=t[s];if(null!==e){var n=t[h].read();null!==n&&(t[l]=null,t[s]=null,t[a]=null,e(p(n,!1)))}}function b(t){e.nextTick(d,t)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var t=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(n,r){e.nextTick((function(){t[c]?r(t[c]):n(p(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(t,e){return function(n,r){t.then((function(){e[u]?n(p(void 0,!0)):e[f](n,r)}),r)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var t=this;return new Promise((function(e,n){t[h].destroy(null,(function(t){t?n(t):e(p(void 0,!0))}))}))})),r),m);t.exports=function(t){var e,n=Object.create(y,(i(e={},h,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,f,{value:function(t,e){var r=n[h].read();r?(n[l]=null,n[s]=null,n[a]=null,t(p(r,!1))):(n[s]=t,n[a]=e)},writable:!0}),e));return n[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[a];return null!==e&&(n[l]=null,n[s]=null,n[a]=null,e(t)),void(n[c]=t)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(p(void 0,!0))),n[u]=!0})),t.on("readable",b.bind(null,n)),n}}).call(this,n(36))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=i;var r=n(269);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(27)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r;var i=n(79).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=n(176)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(t){t()}function l(t,e){return t.pipe(e)}function f(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=f(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,n){var o=n<e.length-1;return c(t,o,n>0,(function(t){r||(r=t),t&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return e.reduce(l)}},function(t,e,n){var r=n(27),i=n(81),o=n(28).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var h=0;h<80;++h){var p=~~(h/20),d=0|((e=r)<<5|e>>>27)+l(p,i,o,a)+c+n[h]+s[p];c=a,a=o,o=u(i),i=r,r=d}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(27),i=n(81),o=n(28).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function f(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<80;++h)n[h]=(e=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|e>>>31;for(var p=0;p<80;++p){var d=~~(p/20),b=u(r)+f(d,i,o,a)+c+n[p]+s[d]|0;c=a,a=o,o=l(i),i=r,r=b}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(27),i=n(270),o=n(81),s=n(28).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,n){var r=n(27),i=n(271),o=n(81),s=n(28).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,n){t.exports=i;var r=n(69).EventEmitter;function i(){r.call(this)}n(27)(i,r),i.Readable=n(179),i.Writable=n(609),i.Duplex=n(610),i.Transform=n(611),i.PassThrough=n(612),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}function c(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e){},function(t,e,n){"use strict";var r=n(180).Buffer,i=n(607);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,i=a,e.copy(n,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){"use strict";t.exports=o;var r=n(275),i=Object.create(n(94));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(27),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(181)},function(t,e,n){t.exports=n(66)},function(t,e,n){t.exports=n(179).Transform},function(t,e,n){t.exports=n(179).PassThrough},function(t,e,n){"use strict";var r=n(27),i=n(28).Buffer,o=n(57),s=i.alloc(128),a=64;function c(t,e){o.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,s],a));for(var n=this._ipad=i.allocUnsafe(a),r=this._opad=i.allocUnsafe(a),c=0;c<a;c++)n[c]=54^e[c],r[c]=92^e[c];this._hash=[n]}r(c,o),c.prototype._update=function(t){this._hash.push(t)},c.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=c},function(t,e,n){t.exports=n(278)},function(t,e,n){(function(e){var r,i,o=n(28).Buffer,s=n(280),a=n(281),c=n(282),u=n(283),l=e.crypto&&e.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function p(){return i||(i=e.process&&e.process.nextTick?e.process.nextTick:e.queueMicrotask?e.queueMicrotask:e.setImmediate?e.setImmediate:e.setTimeout)}function d(t,e,n,r,i){return l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return l.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,n,i,b,m,y){"function"==typeof m&&(y=m,m=void 0);var v=f[(m=m||"sha1").toLowerCase()];if(v&&"function"==typeof e.Promise){if(s(i,b),t=u(t,a,"Password"),n=u(n,a,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){p()((function(){e(null,t)}))}),(function(t){p()((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==h[t])return h[t];var n=d(r=r||o.alloc(8),r,10,128,t).then((function(){return!0})).catch((function(){return!1}));return h[t]=n,n}(v).then((function(e){return e?d(t,n,i,b,v):c(t,n,i,b,m)})),y)}else p()((function(){var e;try{e=c(t,n,i,b,m)}catch(t){return y(t)}y(null,e)}))}}).call(this,n(31))},function(t,e,n){var r=n(617),i=n(183),o=n(184),s=n(630),a=n(122);function c(t,e,n){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,n);if(s[t])return new r({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function u(t,e,n){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,n);if(s[t])return new r({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,r=s[t].iv}var i=a(e,!1,n,r);return c(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=c,e.createDecipher=e.Decipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");n=8*s[t].key,r=s[t].iv}var i=a(e,!1,n,r);return u(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=u,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},function(t,e,n){var r=n(57),i=n(618),o=n(27),s=n(28).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(t){r.call(this);var e,n=t.mode.toLowerCase(),i=a[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=s.concat([o,o.slice(0,8)]));var c=t.iv;s.isBuffer(c)||(c=s.from(c)),this._des=i.create({key:o,iv:c,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=c,o(c,r),c.prototype._update=function(t){return s.from(this._des.update(t))},c.prototype._final=function(){return s.from(this._des.final())}},function(t,e,n){"use strict";e.utils=n(284),e.Cipher=n(182),e.DES=n(285),e.CBC=n(619),e.EDE=n(620)},function(t,e,n){"use strict";var r=n(45),i=n(27),o={};function s(t){r.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(o),r=0;r<n.length;r++){var s=n[r];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new s(this.options.iv);this._cbcState=t},o._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,n,r);for(a=0;a<this.blockSize;a++)s[a]=n[r+a]}else{o._update.call(this,t,e,n,r);for(a=0;a<this.blockSize;a++)n[r+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},function(t,e,n){"use strict";var r=n(45),i=n(27),o=n(182),s=n(285);function a(t,e){r.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:n})]}function c(t){o.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(c,o),t.exports=c,c.create=function(t){return new c(t)},c.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},function(t,e,n){var r=n(184),i=n(289),o=n(28).Buffer,s=n(290),a=n(57),c=n(121),u=n(122);function l(t,e,n){a.call(this),this._cache=new h,this._cipher=new c.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(27)(l,a),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return o.concat(r)};var f=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function p(t,e,n){var a=r[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===a.type?new s(a.module,e,n):"auth"===a.type?new i(a.module,e,n):new l(a.module,e,n)}l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=o.concat([this.cache,t])},h.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},h.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=p,e.createCipher=function(t,e){var n=r[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(e,!1,n.key,n.iv);return p(t,i.key,i.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var r=n(95);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},function(t,e,n){var r=n(28).Buffer,i=n(95);function o(t,e,n){var o=e.length,s=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=r.concat([t._prev,n?e:s]),s}e.encrypt=function(t,e,n){for(var i,s=r.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=r.allocUnsafe(0)),!(t._cache.length<=e.length)){s=r.concat([s,o(t,e,n)]);break}i=t._cache.length,s=r.concat([s,o(t,e.slice(0,i),n)]),e=e.slice(i)}return s}},function(t,e,n){var r=n(28).Buffer;function i(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=r.concat([t._prev.slice(1),r.from([n?e:i])]),i}e.encrypt=function(t,e,n){for(var o=e.length,s=r.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],n);return s}},function(t,e,n){var r=n(28).Buffer;function i(t,e,n){for(var r,i,s=-1,a=0;++s<8;)r=e&1<<7-s?128:0,a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^r))>>s%8,t._prev=o(t._prev,n?r:i);return a}function o(t,e){var n=t.length,i=-1,o=r.allocUnsafe(t.length);for(t=r.concat([t,r.from([e])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,n){for(var o=e.length,s=r.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],n);return s}},function(t,e,n){(function(t){var r=n(95);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),r(n,o)}}).call(this,n(40).Buffer)},function(t,e,n){var r=n(28).Buffer,i=r.alloc(16,0);function o(t){var e=r.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,n,r=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},s.prototype.update=function(t){var e;for(this.cache=r.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},function(t,e,n){var r=n(289),i=n(28).Buffer,o=n(184),s=n(290),a=n(57),c=n(121),u=n(122);function l(t,e,n){a.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(e),this._prev=i.from(n),this._mode=t,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function h(t,e,n){var a=o[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==a.mode&&n.length!==a.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new s(a.module,e,n,!0):"auth"===a.type?new r(a.module,e,n,!0):new l(a.module,e,n)}n(27)(l,a),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return i.concat(r)},l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=i.concat([this.cache,t])},f.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(e,!1,n.key,n.iv);return h(t,r.key,r.iv)},e.createDecipheriv=h},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){var r=n(291),i=n(634),o=n(635);var s={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var n=new t(i[e].prime,"hex"),r=new t(i[e].gen,"hex");return new o(n,r)},e.createDiffieHellman=e.DiffieHellman=function e(n,i,a,c){return t.isBuffer(i)||void 0===s[i]?e(n,"binary",i,a):(i=i||"binary",c=c||"binary",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,c)),"number"==typeof n?new o(r(n,a),a,!0):(t.isBuffer(n)||(n=new t(n,i)),new o(n,a,!0)))}}).call(this,n(40).Buffer)},function(t,e){},function(t,e){},function(t,e){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(t,e,n){(function(e){var r=n(37),i=new(n(292)),o=new r(24),s=new r(11),a=new r(10),c=new r(3),u=new r(7),l=n(291),f=n(78);function h(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new r(t),this}function p(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new r(t),this}t.exports=b;var d={};function b(t,e,n){this.setGenerator(e),this.__prime=new r(t),this._prime=r.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function m(t,n){var r=new e(t.toArray());return n?r.toString(n):r}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in d)return d[r];var f,h=0;if(t.isEven()||!l.simpleSieve||!l.fermatTest(t)||!i.test(t))return h+=1,h+="02"===n||"05"===n?8:4,d[r]=h,h;switch(i.test(t.shrn(1))||(h+=2),n){case"02":t.mod(o).cmp(s)&&(h+=8);break;case"05":(f=t.mod(a)).cmp(c)&&f.cmp(u)&&(h+=8);break;default:h+=4}return d[r]=h,h}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(t){var n=(t=(t=new r(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(n.toArray()),o=this.getPrime();if(i.length<o.length){var s=new e(o.length-i.length);s.fill(0),i=e.concat([s,i])}return i},b.prototype.getPublicKey=function(t){return m(this._pub,t)},b.prototype.getPrivateKey=function(t){return m(this._priv,t)},b.prototype.getPrime=function(t){return m(this.__prime,t)},b.prototype.getGenerator=function(t){return m(this._gen,t)},b.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new r(t),this}}).call(this,n(40).Buffer)},function(t,e,n){var r=n(28).Buffer,i=n(92),o=n(262),s=n(27),a=n(637),c=n(666),u=n(278);function l(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){return new l(t)}function p(t){return new f(t)}Object.keys(u).forEach((function(t){u[t].id=r.from(u[t].id,"hex"),u[t.toLowerCase()]=u[t]})),s(l,o.Writable),l.prototype._write=function(t,e,n){this._hash.update(t),n()},l.prototype.update=function(t,e){return"string"==typeof t&&(t=r.from(t,e)),this._hash.update(t),this},l.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=a(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},s(f,o.Writable),f.prototype._write=function(t,e,n){this._hash.update(t),n()},f.prototype.update=function(t,e){return"string"==typeof t&&(t=r.from(t,e)),this._hash.update(t),this},f.prototype.verify=function(t,e,n){"string"==typeof e&&(e=r.from(e,n)),this.end();var i=this._hash.digest();return c(e,i,t,this._signType,this._tag)},t.exports={Sign:h,Verify:p,createSign:h,createVerify:p}},function(t,e,n){var r=n(28).Buffer,i=n(276),o=n(186),s=n(188).ec,a=n(187),c=n(124),u=n(303);function l(t,e,n,o){if((t=r.from(t.toArray())).length<e.byteLength()){var s=r.alloc(e.byteLength()-t.length);t=r.concat([s,t])}var a=n.length,c=function(t,e){t=(t=f(t,e)).mod(e);var n=r.from(t.toArray());if(n.length<e.byteLength()){var i=r.alloc(e.byteLength()-n.length);n=r.concat([i,n])}return n}(n,e),u=r.alloc(a);u.fill(1);var l=r.alloc(a);return l=i(o,l).update(u).update(r.from([0])).update(t).update(c).digest(),u=i(o,l).update(u).digest(),{k:l=i(o,l).update(u).update(r.from([1])).update(t).update(c).digest(),v:u=i(o,l).update(u).digest()}}function f(t,e){var n=new a(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function h(t,e,n){var o,s;do{for(o=r.alloc(0);8*o.length<t.bitLength();)e.v=i(n,e.k).update(e.v).digest(),o=r.concat([o,e.v]);s=f(o,t),e.k=i(n,e.k).update(e.v).update(r.from([0])).digest(),e.v=i(n,e.k).update(e.v).digest()}while(-1!==s.cmp(t));return s}function p(t,e,n,r){return t.toRed(a.mont(n)).redPow(e).fromRed().mod(r)}t.exports=function(t,e,n,i,d){var b=c(e);if(b.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var n=u[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var i=new s(n).keyFromPrivate(e.privateKey).sign(t);return r.from(i.toDER())}(t,b)}if("dsa"===b.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,n){var i,o=e.params.priv_key,s=e.params.p,c=e.params.q,u=e.params.g,d=new a(0),b=f(t,c).mod(c),m=!1,y=l(o,c,t,n);for(;!1===m;)d=p(u,i=h(c,y,n),s,c),0===(m=i.invm(c).imul(b.add(o.mul(d))).mod(c)).cmpn(0)&&(m=!1,d=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var n=[48,t.length+e.length+4,2,t.length];return n=n.concat(t,[2,e.length],e),r.from(n)}(d,m)}(t,b,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=r.concat([d,t]);for(var m=b.modulus.byteLength(),y=[0,1];t.length+y.length+1<m;)y.push(255);y.push(0);for(var v=-1;++v<t.length;)y.push(t[v]);return o(y,b)},t.exports.getKey=l,t.exports.makeKey=h},function(t,e){},function(t,e){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},function(t,e,n){"use strict";var r=n(46),i=n(37),o=n(27),s=n(123),a=r.assert;function c(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,n,r){s.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,n,r){s.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],a(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,n,r,o,s,a,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,p=this.n.clone(),d=new i(1),b=new i(0),m=new i(0),y=new i(1),v=0;0!==h.cmpn(0);){var g=p.div(h);u=p.sub(g.mul(h)),l=m.sub(g.mul(d));var _=y.sub(g.mul(b));if(!r&&u.cmp(f)<0)e=c.neg(),n=d,r=u.neg(),o=l;else if(r&&2==++v)break;c=u,p=h,h=u,m=d,d=l,y=b,b=_}s=u.neg(),a=l;var w=r.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=e,a=n),r.negative&&(r=r.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:r,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),s=i.mul(n.a),a=o.mul(r.a),c=i.mul(n.b),u=o.mul(r.b);return{k1:t.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),r[2*o]=a,r[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},o(u,s.BasePoint),c.prototype.point=function(t,e,n){return new u(this,t,e,n)},c.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function i(e){return t.point(e[0],e[1],n)}var o=e[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},u.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,s.BasePoint),c.prototype.jpoint=function(t,e,n){return new l(this,t,e,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),a=r.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=r.redMul(u),h=c.redSqr().redIAdd(l).redISub(f).redISub(f),p=c.redMul(f.redISub(h)).redISub(o.redMul(l)),d=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(h,p,d)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=n.redSub(r),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=n.redMul(c),f=a.redSqr().redIAdd(u).redISub(l).redISub(l),h=a.redMul(l.redISub(f)).redISub(i.redMul(u)),p=this.z.redMul(s);return this.curve.jpoint(f,h,p)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),f=u.redSqr(),h=f.redSqr(),p=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),d=o.redMul(f),b=p.redSqr().redISub(d.redAdd(d)),m=d.redISub(b),y=p.redMul(m);y=y.redIAdd(y).redISub(h);var v=u.redMul(a);e+1<t&&(c=c.redMul(h)),o=b,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=c,e=a.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),p=this.x.redAdd(f).redSqr().redISub(l).redISub(h);p=p.redIAdd(p);var d=l.redAdd(l).redIAdd(l),b=d.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),t=b.redISub(p).redISub(p),e=d.redMul(p.redISub(t)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},l.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);t=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var d=h.redIAdd(h),b=(d=d.redIAdd(d)).redAdd(d);t=p.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=p.redMul(d.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,n)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),c=e.redAdd(e),u=(c=c.redIAdd(c)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=a.redMul(f).redISub(h),d=n.redAdd(n).redMul(r);return this.curve.jpoint(l,p,d)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(a).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(f,h,p)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";var r=n(37),i=n(27),o=n(123),s=n(46);function a(t){o.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},i(c,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new c(this,t,e)},a.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),r=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),s=i.redMul(r),a=e.z.redMul(o.redAdd(s).redSqr()),c=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";var r=n(46),i=n(37),o=n(27),s=n(123),a=r.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,n,r,o){s.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=r.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(e&&!c||!e&&c)&&(a=a.redNeg()),this.point(t,a)},c.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=r.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},c.prototype.point=function(t,e,n,r){return new u(this,t,e,n,r)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),s=o.redSub(n),a=r.redSub(e),c=i.redMul(s),u=o.redMul(a),l=i.redMul(a),f=s.redMul(o);return this.curve.point(c,u,f,l)},u.prototype._projDbl=function(){var t,e,n,r,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(r=this.curve._mulA(a)).redAdd(c);this.zOne?(t=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),e=u.redMul(r.redSub(c)),n=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),t=s.redSub(a).redISub(c).redMul(o),e=u.redMul(r.redSub(c)),n=u.redMul(o))}else r=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(r)).redMul(o),e=this.curve._mulC(r).redMul(a.redISub(c)),n=r.redMul(o);return this.curve.point(t,e,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),s=i.redSub(r),a=i.redAdd(r),c=n.redAdd(e),u=o.redMul(s),l=a.redMul(c),f=o.redMul(c),h=s.redMul(a);return this.curve.point(u,l,h,f)},u.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),f=r.redMul(c).redMul(l);return this.curve.twisted?(e=r.redMul(u).redMul(s.redSub(this.curve._mulA(o))),n=c.redMul(u)):(e=r.redMul(u).redMul(s.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,e,n)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},u.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(t,e,n){"use strict";e.sha1=n(644),e.sha224=n(645),e.sha256=n(296),e.sha384=n(646),e.sha512=n(297)},function(t,e,n){"use strict";var r=n(49),i=n(96),o=n(295),s=r.rotl32,a=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,l),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],h=this.h[3],p=this.h[4];for(r=0;r<n.length;r++){var d=~~(r/20),b=c(s(i,5),u(d,o,l,h),p,n[r],f[d]);p=h,h=l,l=s(o,30),o=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],p)},h.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(49),i=n(296);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var r=n(49),i=n(297);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var r=n(49),i=n(96),o=r.rotl32,s=r.sum32,a=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function h(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}r.inherits(l,u),e.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=n,g=r,_=i,w=u,S=l,x=0;x<80;x++){var k=s(o(c(n,f(x,r,i,u),t[d[x]+e],h(x)),m[x]),l);n=l,l=u,u=o(i,10),i=r,r=k,k=s(o(c(v,f(79-x,g,_,w),t[b[x]+e],p(x)),y[x]),S),v=S,S=w,w=o(_,10),_=g,g=k}k=a(this.h[1],i,w),this.h[1]=a(this.h[2],u,S),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],n,g),this.h[4]=a(this.h[0],r,_),this.h[0]=k},l.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var r=n(49),i=n(45);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";var r=n(37),i=n(651),o=n(46),s=n(189),a=n(185),c=o.assert,u=n(652),l=n(653);function f(t){if(!(this instanceof f))return new f(t);"string"==typeof t&&(c(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new u(this,t)},f.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var s=new r(e.generate(n));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},f.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},f.prototype.sign=function(t,e,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new r(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),c=t.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new r(1)),h=0;;h++){var p=o.k?o.k(h):new r(u.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(f)>=0)){var d=this.g.mul(p);if(!d.isInfinity()){var b=d.getX(),m=b.umod(this.n);if(0!==m.cmpn(0)){var y=p.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var v=(d.getY().isOdd()?1:0)|(0!==b.cmp(m)?2:0);return o.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),v^=1),new l({r:m,s:y,recoveryParam:v})}}}}}},f.prototype.verify=function(t,e,n,i){t=this._truncateToN(new r(t,16)),n=this.keyFromPublic(n,i);var o=(e=new l(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(t).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,n.getPublic(),f)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,n.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(t,e,n,i){c((3&n)===n,"The recovery param is more than two bits"),e=new l(e,i);var o=this.n,s=new r(t),a=e.r,u=e.s,f=1&n,h=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var p=e.r.invm(o),d=o.sub(s).mul(p).umod(o),b=u.mul(p).umod(o);return this.g.mulAdd(d,a,b)},f.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new l(e,r)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";var r=n(190),i=n(293),o=n(45);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}t.exports=s,s.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},s.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(n),this._reseed++,i.encode(s,e)}},function(t,e,n){"use strict";var r=n(37),i=n(46).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new r(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";var r=n(37),i=n(46),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function c(t,e){var n=t[e.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,s=e.place;o<r;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function u(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var n=new a;if(48!==t[n.place++])return!1;var o=c(t,n);if(!1===o)return!1;if(o+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var s=c(t,n);if(!1===s)return!1;var u=t.slice(n.place,s+n.place);if(n.place+=s,2!==t[n.place++])return!1;var l=c(t,n);if(!1===l)return!1;if(t.length!==l+n.place)return!1;var f=t.slice(n.place,l+n.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new r(u),this.s=new r(f),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=u(e),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,e.length),(r=r.concat(e)).push(2),l(r,n.length);var o=r.concat(n),s=[48];return l(s,o.length),s=s.concat(o),i.encode(s,t)}},function(t,e,n){"use strict";var r=n(190),i=n(189),o=n(46),s=o.assert,a=o.parseBytes,c=n(655),u=n(656);function l(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=r.sha512}t.exports=l,l.prototype.sign=function(t,e){t=a(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),s=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),c=r.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(t,e,n){t=a(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!=(128&t[e]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return o.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";var r=n(46),i=r.assert,o=r.parseBytes,s=r.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),t)},a.prototype.getPublic=function(t){return r.encode(this.pubBytes(),t)},t.exports=a},function(t,e,n){"use strict";var r=n(37),i=n(46),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof r&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},function(t,e,n){"use strict";var r=n(298);e.certificate=n(663);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=o;var s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));e.PublicKey=s;var a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=l,e.DSAparam=r.define("DSAparam",(function(){this.int()}));var f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=f;var h=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(t,e,n){"use strict";const r=n(299),i=n(301),o=n(27);function s(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new s(t,e)},s.prototype._createNamed=function(t){const e=this.name;function n(t){this._initNamed(t,e)}return o(n,t),n.prototype._initNamed=function(e,n){t.call(this,e,n)},new n(this)},s.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},s.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},s.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(r[t])),this.encoders[t]},s.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(t,e,n){"use strict";const r=n(27),i=n(300);function o(t){i.call(this,t),this.enc="pem"}r(o,i),t.exports=o,o.prototype.encode=function(t,e){const n=i.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"];for(let t=0;t<n.length;t+=64)r.push(n.slice(t,t+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}},function(t,e,n){"use strict";const r=n(27),i=n(191).Buffer,o=n(302);function s(t){o.call(this,t),this.enc="pem"}r(s,o),t.exports=s,s.prototype.decode=function(t,e){const n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,c=-1;for(let t=0;t<n.length;t++){const e=n[t].match(s);if(null!==e&&e[2]===r){if(-1!==a){if("END"!==e[1])break;c=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+r);const u=n.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const l=i.from(u,"base64");return o.prototype.decode.call(this,l,e)}},function(t,e,n){"use strict";const r=e;r.Reporter=n(193).Reporter,r.DecoderBuffer=n(97).DecoderBuffer,r.EncoderBuffer=n(97).EncoderBuffer,r.Node=n(192)},function(t,e,n){"use strict";const r=e;r._reverse=function(t){const e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);const r=t[n];e[r]=n})),e},r.der=n(194)},function(t,e,n){"use strict";var r=n(298),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),c=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=r.define("RDNSequence",(function(){this.seqof(c)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),h=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),p=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())})),d=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));t.exports=d},function(t,e){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(t,e,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=n(122),a=n(183),c=n(28).Buffer;t.exports=function(t,e){var n,u=t.toString(),l=u.match(r);if(l){var f="aes"+l[1],h=c.from(l[2],"hex"),p=c.from(l[3].replace(/[\r\n]/g,""),"base64"),d=s(e,h.slice(0,8),parseInt(l[1],10)).key,b=[],m=a.createDecipheriv(f,d,h);b.push(m.update(p)),b.push(m.final()),n=c.concat(b)}else{var y=u.match(o);n=c.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:n}}},function(t,e,n){var r=n(28).Buffer,i=n(187),o=n(188).ec,s=n(124),a=n(303);function c(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,n,u,l){var f=s(n);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=a[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),s=n.data.subjectPrivateKey.data;return i.verify(e,t,s)}(t,e,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=n.data.p,o=n.data.q,a=n.data.g,u=n.data.pub_key,l=s.signature.decode(t,"der"),f=l.s,h=l.r;c(f,o),c(h,o);var p=i.mont(r),d=f.invm(o);return 0===a.toRed(p).redPow(new i(e).mul(d).mod(o)).fromRed().mul(u.toRed(p).redPow(h.mul(d).mod(o)).fromRed()).mod(r).mod(o).cmp(h)}(t,e,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");e=r.concat([l,e]);for(var h=f.modulus.byteLength(),p=[1],d=0;e.length+p.length+2<h;)p.push(255),d++;p.push(0);for(var b=-1;++b<e.length;)p.push(e[b]);p=r.from(p);var m=i.mont(f.modulus);t=(t=new i(t).toRed(m)).redPow(new i(f.publicExponent)),t=r.from(t.fromRed().toArray());var y=d<8?1:0;for(h=Math.min(t.length,p.length),t.length!==p.length&&(y=1),b=-1;++b<h;)y|=t[b]^p[b];return 0===y}},function(t,e,n){(function(e){var r=n(188),i=n(37);t.exports=function(t){return new s(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function a(t,n,r){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(r&&i.length<r){var o=new e(r-i.length);o.fill(0),i=e.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},s.prototype.computeSecret=function(t,n,r){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},s.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),a(n,t)},s.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},s.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},s.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var r=new i(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(40).Buffer)},function(t,e,n){e.publicEncrypt=n(669),e.privateDecrypt=n(670),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){var r=n(124),i=n(78),o=n(92),s=n(304),a=n(305),c=n(37),u=n(306),l=n(186),f=n(28).Buffer;t.exports=function(t,e,n){var h;h=t.padding?t.padding:n?1:4;var p,d=r(t);if(4===h)p=function(t,e){var n=t.modulus.byteLength(),r=e.length,u=o("sha1").update(f.alloc(0)).digest(),l=u.length,h=2*l;if(r>n-h-2)throw new Error("message too long");var p=f.alloc(n-r-h-2),d=n-l-1,b=i(l),m=a(f.concat([u,p,f.alloc(1,1),e],d),s(b,d)),y=a(b,s(m,l));return new c(f.concat([f.alloc(1),y,m],n))}(d,e);else if(1===h)p=function(t,e,n){var r,o=e.length,s=t.modulus.byteLength();if(o>s-11)throw new Error("message too long");r=n?f.alloc(s-o-3,255):function(t){var e,n=f.allocUnsafe(t),r=0,o=i(2*t),s=0;for(;r<t;)s===o.length&&(o=i(2*t),s=0),(e=o[s++])&&(n[r++]=e);return n}(s-o-3);return new c(f.concat([f.from([0,n?1:2]),r,f.alloc(1),e],s))}(d,e,n);else{if(3!==h)throw new Error("unknown padding");if((p=new c(e)).cmp(d.modulus)>=0)throw new Error("data too long for modulus")}return n?l(p,d):u(p,d)}},function(t,e,n){var r=n(124),i=n(304),o=n(305),s=n(37),a=n(186),c=n(92),u=n(306),l=n(28).Buffer;t.exports=function(t,e,n){var f;f=t.padding?t.padding:n?1:4;var h,p=r(t),d=p.modulus.byteLength();if(e.length>d||new s(e).cmp(p.modulus)>=0)throw new Error("decryption error");h=n?u(new s(e),p):a(e,p);var b=l.alloc(d-h.length);if(h=l.concat([b,h],d),4===f)return function(t,e){var n=t.modulus.byteLength(),r=c("sha1").update(l.alloc(0)).digest(),s=r.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,s+1),u=e.slice(s+1),f=o(a,i(u,s)),h=o(u,i(f,n-s-1));if(function(t,e){t=l.from(t),e=l.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));var i=-1;for(;++i<r;)n+=t[i]^e[i];return n}(r,h.slice(0,s)))throw new Error("decryption error");var p=s;for(;0===h[p];)p++;if(1!==h[p++])throw new Error("decryption error");return h.slice(p)}(p,h);if(1===f)return function(t,e,n){var r=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var s=e.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,h,n);if(3===f)return h;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(28),s=n(78),a=o.Buffer,c=o.kMaxLength,u=t.crypto||t.msCrypto,l=Math.pow(2,32)-1;function f(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function h(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>c)throw new RangeError("buffer too small")}function p(t,e,n,i){if(r.browser){var o=t.buffer,a=new Uint8Array(o,e,n);return u.getRandomValues(a),i?void r.nextTick((function(){i(null,t)})):t}if(!i)return s(n).copy(t,e),t;s(n,(function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)}))}u&&u.getRandomValues||!r.browser?(e.randomFill=function(e,n,r,i){if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(n,e.length),h(r,n,e.length),p(e,n,r,i)},e.randomFillSync=function(e,n,r){void 0===n&&(n=0);if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,e.length),void 0===r&&(r=e.length-n);return h(r,n,e.length),p(e,n,r)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,n(31),n(36))},function(t,e,n){"use strict";var r=n(111),i=n.n(r);const o=i()({songs:i.a.map((function(t){t.chart_names&&(t=i()({charts:i.a.map((e=>{const n=t.chart_names[e.file];return n?i()({info:{subtitles:t=>[...t,n]}},e):e}))},t));return t}))});e.a=o},function(t,e,n){"use strict";var r=n(30),i=n.n(r),o=n(260);e.a=function(t){return i.a.orderBy(t,[t=>i()(t.charts).filter(o.a).filter((t=>t.info.difficulty<5)).filter((t=>t.info.level>0)).map((t=>t.info.level)).min(),t=>t.bpm,t=>t.title.toLowerCase()])}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h}));var r=n(111),i=n.n(r),o=n(30),s=n.n(o);const a={selectedSongId:null,selectedChartId:null,selectedChartLevel:1},c=t=>e=>{const n=s.a.find(t,{id:e.selectedSongId});return n||t[0]},u=t=>e=>{t=t||[];const n=s.a.find(t,{file:e.selectedChartId});return n||s.a.minBy(t,(t=>Math.abs(h(t)-e.selectedChartLevel)))},l=t=>i()({selectedSongId:t}),f=(t,e,n)=>i()({selectedSongId:t,selectedChartId:e,selectedChartLevel:n});function h(t){return t.info.level+(5===t.info.difficulty?1e3:0)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"b",(function(){return p}));var r=n(307),i=n(225);const o="CLEAR",s=new r.Map;function a(t){return t.scan(s,c)}function c(t=s,e){switch(e.type){case"PUT":{let n=new r.Map(e.data).map(function(t){return(e,n)=>Object(i.f)(u(t,n),e)}(t));return t.merge(n)}case o:return s;default:return t}}function u(t,e){return t.get(e,i.a)}function l(t,e){return t.has(e)}function f(t,e){return h(new r.Map([[t,e]]))}function h(t){return{type:"PUT",data:t}}function p(){return{type:o}}},function(t,e,n){t.exports=n(760)},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];return e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}},function(t,e,n){"use strict";var r=n(130),i=n(103),o=n(98),s=n(30),a=n.n(s),c=n(220),u=n.n(c),l=n(125);class f{constructor(t,e,n){this.resources=t,this.ref=e,this.name=n}read(t){return i.a(t,this.resources.getBlob(this.ref).then((t=>Object(o.a)(t).as("arraybuffer"))))}async resolveUrl(){const t=await this.resources.getBlob(this.ref);return URL.createObjectURL(t)}}class h{constructor(t,e){this.resources=t,this._basePromise=t.base.file(e.path)}load(){return this._promise||(this._promise=this.resources.loadPayload(this._basePromise))}}async function p(t){if("BEMUSEPACK"!==await Object(o.a)(t.slice(0,10)).as("text"))throw new Error("Invalid magic number");const e=await Object(o.a)(t.slice(10,14)).as("arraybuffer");let n=new Uint8Array(e);const r=n[0]+(n[1]<<8)+(n[2]<<16)+(n[3]<<24);return t.slice(14+r)}e.a=class{constructor(t,e={}){this.progress={all:new r.a,current:new r.a},this._getMetadata=a.a.once((async()=>{const t=await this._base.file(this._metadataFilename),e=await t.read(),n=await new Blob([e]).text();return JSON.parse(n)})),this._getRefs=a.a.once((async()=>(await this._getMetadata()).refs.map((t=>new h(this,t))))),this._getFileMap=a.a.once((async()=>{const t=await this._getMetadata();let e=new Map;for(let n of t.files)e.set(n.name.toLowerCase(),n);return e})),"string"==typeof t&&(t=new l.a(new URL(t,location.href)));const n="string"==typeof e.fallback?new l.a(new URL(e.fallback,location.href)):e.fallback;this._base=t,this._fallback=n,this._fallbackPattern=e.fallbackPattern,this._metadataFilename=e.metadataFilename||"metadata.json";let o=i.d(this.progress.current);this.loadPayload=i.e(this.progress.all,u()(2,(t=>t.then((t=>t.read((()=>{let t=new r.a;return o.add(t),t})()))).then((t=>new Blob([t]))).then(p))))}get base(){return this._base}async file(t){let e=(await this._getFileMap()).get(t.toLowerCase());if(e)return new f(this,e.ref,e.name);if(this._fallback&&this._fallbackPattern&&this._fallbackPattern.test(t))return this._fallback.file(t);throw new Error("Unable to find: "+t)}async getBlob([t,e,n]){const r=(await this._getRefs())[t];return(await r.load()).slice(e,n)}}},function(t,e,n){"use strict";var r=n(732);e.a=Object(r.a)()},function(t,e,n){var r=n(682);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".BenchmarkPanel {\n  background: #449;\n  border: 2px solid #66e;\n  padding: 4px;\n}\n.BenchmarkPanel table {\n  font-size: 10px;\n}",""])},function(t,e,n){"use strict";var r,i=n(30),o=n.n(i),s=n(394),a=n(82),c=n(61),u=n.n(c);!function(t){t.Active="active",t.Unjudged="unjudged",t.Judged="judged"}(r||(r={}));e.a=class{constructor(t){var e;this.player=t,this.notifications={sounds:[],judgments:[]},this.finished=!1,this.tainted=!1,this.input=new Map,this._gameTime=0,this._pinching=null,this._columns=t.columns,this._noteBufferByColumn=o()(t.notechart.notes).sortBy((t=>t.time)).groupBy((t=>t.column)).mapValues((e=this,function(t){let n=0;return{notes:t,get startIndex(){return n},update(){for(;n<t.length&&"judged"===e.getNoteStatus(t[n]);)n+=1}}})).value(),this._noteResult=new Map,this._duration=t.notechart.duration,this._judge=Object(a.d)(t.notechart,{tutorial:t.options.tutorial}),this.stats=new s.a(t.notechart),this.speed=t.options.speed}update(t,e){this._gameTime=t,this._rawInput=e,this.notifications={sounds:[],judgments:[]},this._updateInputColumnMap(),this._judgeNotes(),this._updateSpeed(),t>this._duration+3&&(this.finished=!0)}getNoteStatus(t){let e=this._noteResult.get(t);return e?e.status:r.Unjudged}getNoteJudgment(t){let e=this._noteResult.get(t);return e?e.judgment:a.a.Unjudged}getPlayerInput(t){return this._rawInput.get(`p${this.player.number}_${t}`)}_updateInputColumnMap(){this.input=new Map(this._columns.map((t=>[t,this.getPlayerInput(t)])))}_judgeNotes(){for(let t of this._columns){let e=this._noteBufferByColumn[t];if(e){let n=this.input.get(t);this._judgeColumn(e,n,t),e.update()}}}_updateSpeed(){this.getPlayerInput("speedup").justPressed&&this._modifySpeed(1),this.getPlayerInput("speeddown").justPressed&&this._modifySpeed(-1);let t=this.getPlayerInput("pinch").value;if(t&&!this._pinching?this._pinching={start:t,speed:this.speed}:t||(this._pinching=null),t&&this._pinching){let e=this._pinching,n=e.speed*t/e.start;this.speed=Math.max(.2,Math.round(10*n)/10)}}_modifySpeed(t){let e=this._rawInput.get("select").value?.1:this.speed<.5?.3:.5;this.speed+=t*e,this.speed<.2&&(this.speed=.2)}_shouldAutoplay(){return this.player.options.autoplayEnabled||!!window.BEMUSE_AUTOPLAY}_judgeColumn(t,e,n){let r,i,o=t.notes,s=!1;for(let n=t.startIndex;n<o.length;n++){let a=o[n];if(this._shouldJudge(a,e,t)){let t="active"!==this.getNoteStatus(a);if(r=a,i=this._judgeNote(a),this._shouldAutoplay()&&(s=!0),t)break}}if(e.justPressed||s)if(r&&null!=i)this.notifications.sounds.push({note:r,type:"hit",judgment:i});else{let t=this._getFreestyleNote(o);if(t){("3d"!==this.player.options.placement||!this._isSandwiched(n))&&this.notifications.sounds.push({note:t,type:"free"})}}}_getClosestNote(t){return o.a.minBy(t,(t=>Math.abs(this._gameTime-t.time)))}_getFreestyleNote(t){return o.a.minBy(t,(t=>Math.abs(this._gameTime-t.time)+(this._gameTime<t.time-1?1e6:0)))}_isSandwiched(t){const e={2:["1","3"],3:["2","4"],4:["3","5"],5:["4","6"],6:["5","7"]};return!!e[t]&&e[t].every((t=>{const e=this._noteBufferByColumn[t];return!!e&&e.notes.some((t=>Math.abs(this._gameTime-t.time)<.1))}))}_shouldJudge(t,e,n){let r=this.getNoteStatus(t);if("unjudged"===r){if(this._shouldAutoplay()&&this._gameTime>=t.time)return this.tainted=!0,!0;let r=Object(a.g)(this._gameTime,t.time,this._judge),i=r===a.b,o=r>0&&e.changed&&e.value;return Object(a.e)(r)&&this._getClosestNote(n.notes)!==t&&(o=!1),i||o}if("active"===r){const n=t.end||u()(!1,"note.end must exist");if(this._shouldAutoplay()&&this._gameTime>=n.time)return this.tainted=!0,!0;let r=Object(a.f)(this._gameTime,n.time,this._judge)===a.b,i=e.changed,o="SC"===t.column,s=this._gameTime>=n.time;return r||i||o&&s}return!1}_judgeNote(t){let e=this._gameTime-t.time,n=Object(a.g)(this._gameTime,t.time,this._judge),i=this._noteResult.get(t),o=!i||"unjudged"===i.status,s=i&&"active"===i.status;if(this._shouldAutoplay()&&n>=1&&(n=1),t.end){if(o){let o=n===a.b?r.Judged:r.Active;n===a.b&&this._setJudgment(n,e,t.column),i={status:o,judgment:n,delta:e}}else if(s){let o="SC"===t.column;e=this._gameTime-t.end.time,n=Object(a.f)(this._gameTime,t.end.time,this._judge)||a.b,o&&e>0&&(n=1),i={status:r.Judged,judgment:n,delta:e}}}else i={status:r.Judged,judgment:n,delta:e};if(n===a.b&&this.notifications.sounds.push({note:t,type:"break"}),o&&n!==a.b&&this.stats.handleDelta(e),!i)throw new Error("Invariant violation: result must not be undefined");if(!n)throw new Error("Invariant violation: note should be judged by this point");return this._noteResult.set(t,i),this._setJudgment(n,e,t.column),n}_setJudgment(t,e,n){this.stats.handleJudgment(t);let r={judgment:t,combo:this.stats.combo,delta:e,column:n};this.notifications.judgments.push(r)}}},function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return s[t];var n,o=String(t);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=r[e.toLowerCase()])return o===n;if(o=i[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var r=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var s=e.names=e.title={};for(o in r)s[r[o]]=o;for(var a in i)r[a]=i[a]},function(t,e,n){"use strict";var r=n(229),i=n(395),o=n(82),s=n(396);e.a=class{constructor(t,e){this._currentSpeed=1,this._player=t,this._noteArea=new i.a(t.notechart.notes,t.notechart.barLines),this._stateful={},this._defaultData={placement:t.options.placement,scratch:t.options.scratch,key_mode:t.notechart.getKeyMode(t.options.scratch),lane_lift:Math.max(0,-t.options.laneCover),lane_press:Math.max(0,t.options.laneCover)},this._gauge=Object(s.a)(t.options.gauge),this._touch3dMode="touch3d"===e.displayMode}update(t,e,n){const i=this._touch3dMode;let s=this._player,a=this._noteArea,c=this._stateful,u=s.notechart.secondsToBeat(e),l=s.notechart.beatToPosition(u),f=s.notechart.spacingAtBeat(u),h=Object.assign({},this._defaultData),p=(t,e)=>(h[t]||(h[t]=[])).push(e),d=this._gauge;this._currentSpeed+=(n.speed-this._currentSpeed)/3;let b=this._currentSpeed*f;h.beat=u,function(){let t=a.getVisibleNotes(l,v(),1);if(i){const e=(t,e,n,i=1)=>{const o=r.b(e-.01),s=+n||-1,a=r.a,c=o.projection*a*(2*(s-.5)/7-1),u=o.projection*i*a*2/7;p(`note3d_${n}`,{key:t,y:o.y,x:c+640,width:u})};let i=3/128;for(let r of t){let t=r.note,o=t.column;if(r.height){let n=0,s=r.y+r.height;for(let a=s-Math.max(0,Math.floor((s-1)/i)*i);a>=0&&a>=r.y;a-=i)e(t.id+"x"+n++,a,o,.8);e(t.id,r.y+r.height,o)}else"judged"!==n.getNoteStatus(t)&&e(t.id,r.y,o)}}else for(let e of t){let t=e.note,r=t.column;if(e.height){let i=n.getNoteJudgment(t),s=n.getNoteStatus(t);p(`longnote_${r}`,{key:t.id,y:e.y,height:e.height,active:0!==i&&i!==o.b,missed:"judged"===s&&i===o.b})}else"judged"!==n.getNoteStatus(t)&&p(`note_${r}`,{key:t.id,y:e.y})}}(),function(){let t=a.getVisibleBarLines(l,v(),1);for(let e of t)if(i){const t=r.b(e.y-.01);p("barlines3d",{key:e.id,y:t.y,x:t.projection*-r.a+640,width:t.projection*r.a*2})}else p("barlines",{key:e.id,y:e.y})}(),function(){let e=n.input;for(let n of s.columns){let r=e.get(n);h[`${n}_active`]=0!==r.value?1:0,r.changed&&(0!==r.value?c[`${n}_down`]=t:c[`${n}_up`]=t)}}(),function(){let e=n.notifications.judgments,r=e[e.length-1];if(r){let e=-1===r.judgment?"missed":`${r.judgment}`;c[`judge_${e}`]=t;let n=-1===r.judgment||1===r.judgment?"none":r.delta>0?"late":r.delta<0?"early":"none";c[`judge_deviation_${n}`]=t,c.combo=r.combo}h.score=n.stats.score}(),function(){d.update(n),d.shouldDisplay()?c.gauge_enter||(c.gauge_enter=t):c.gauge_enter&&(c.gauge_exit||(c.gauge_exit=t));h.gauge_primary=d.getPrimary(),h.gauge_secondary=d.getSecondary(),h.gauge_extra=d.getExtra()}(),function(){let e=n.notifications.judgments;for(let n=0;n<e.length;n++){let r=e[n];Object(o.c)(r.judgment)||(c[`${r.column}_explode`]=t)}}(),h.speed=n.speed.toFixed(1)+"x",h.stat_1=y(1),h.stat_2=y(2),h.stat_3=y(3),h.stat_4=y(4),h.stat_missed=y(o.b),h.stat_acc=(100*(n.stats.currentAccuracy||0)).toFixed(2)+"%";const m=s.notechart.bpmAtBeat(u);return h.bpm=m<1?"":Math.round(m)%1e4||"",Object.assign(h,c),h;function y(t){return n.stats.counts&&n.stats.counts[t]}function v(){return l+5/b}}}},function(t,e,n){"use strict";var r=n(224),i=n(222);class o extends r.b{constructor(t){super({getFiles:e=>async function(t,e){let n=[];const o=t.dataTransfer;if(!o)throw new Error("Expect event.dataTransfer to be present");if(o.types.indexOf("text/uri-list")>-1){let t=o.getData("text/uri-list").split(/\r\n|\r|\n/).filter((t=>t&&!t.startsWith("#")))[0];if(r.a.test(t&&t.replace(/[?#].*/,"")))return e("Link to archive file detected. Trying to download"),[await Object(r.d)(t,e)]}else if(o.items)for(let t of Array.from(o.items))await s(t);else if(o.files)for(let t of Array.from(o.files))l(t);return n;async function s(t){let e=t.webkitGetAsEntry&&t.webkitGetAsEntry();if(e)await a(e);else{let e=t.getAsFile&&t.getAsFile();e&&l(e)}}function a(t,e=""){return t.isFile?c(t,e):t.isDirectory?u(t,e):void 0}function c(t,e=""){return new Promise(((e,n)=>{t.file(e,n)})).tap((t=>{l(t,e)}))}async function u(t,e=""){let n=[],r=t.createReader(),i=()=>new Promise(((t,e)=>{r.readEntries(t,e)}));for(;;){let t=await i();if(!t||0===t.length)break;n.push(...Array.from(t))}for(let r of n)await a(r,e+t.name+"/")}function l(t,e=""){t&&Object(i.a)(e,t.name,(e=>{n.push({name:e,file:t})}))}}(t,e)})}}e.a=o},function(t,e,n){"use strict";var r=n(688);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i(t)},e.pipeFromArray=i},function(t,e,n){"use strict";e.noop=function(){}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;e?r.complete():(r.next(n),r.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(n(25).Observable);e.ScalarObservable=i},function(t,e,n){"use strict";var r=n(372);e.concatAll=function(){return r.mergeAll(1)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(106),o=n(137),s=n(38),a=n(39);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!i.isArray(t[0]))return t[0];t=t[0]}return new o.ArrayObservable(t).lift(new c)};var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}();e.RaceOperator=c;var u=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return r(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=a.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(s.OuterSubscriber);e.RaceSubscriber=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(810),o=n(106),s=n(38),a=n(39);e.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&o.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new c(t))}},e.onErrorResumeNextStatic=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return 1===t.length&&o.isArray(t[0])&&(t=t[0]),n=t.shift(),new i.FromObservable(n,null).lift(new c(t))};var c=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextSources))},t}(),u=function(t){function e(e,n){t.call(this,e),this.destination=e,this.nextSources=n}return r(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(a.subscribeToResult(this,t)):this.destination.complete()},e}(s.OuterSubscriber)},function(t,e,n){"use strict";var r=n(326);e.concatMap=function(t,e){return r.mergeMap(t,e,1)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return r(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(62),s=n(59);e.distinctUntilChanged=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return r(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=o.tryCatch(this.keySelector)(t))===s.errorObject)return this.destination.error(s.errorObject.e);var n=!1;if(this.hasKey){if((n=o.tryCatch(this.compare)(this.key,e))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.filter=function(t,e){return function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return r(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.find=function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new o(t,n,!1,e))}};var o=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=o;var s=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.source=r,this.yieldIndex=i,this.thisArg=o,this.index=0}return r(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.Subscriber);e.FindValueSubscriber=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(62),o=n(59),s=n(38),a=n(39);e.audit=function(t){return function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1}return r(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=i.tryCatch(this.durationSelector)(t);if(e===o.errorObject)this.destination.error(o.errorObject.e);else{var n=a.subscribeToResult(this,e);n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(s.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.scan=function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}};var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return r(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(331),s=n(138);e.takeLast=function(t){return function(e){return 0===t?new s.EmptyObservable:e.lift(new a(t))}};var a=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return r(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.refCount=function(){return function(t){return t.lift(new o(t))}};var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),s=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.switchMap=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return r(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=n(47),i=n(330);e.timestamp=function(t){return void 0===t&&(t=r.async),i.map((function(e){return new o(e,t.now())}))};var o=function(t,e){this.value=t,this.timestamp=e};e.Timestamp=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(903),i=n.n(r);function o(t,e={}){var n=e.onMessage||(()=>{});return t.setLoggingFunction&&t.setLoggingFunction(n),t.fileList.then((e=>function(e){if(e.includes("bemuse-song.json"))return async function(){n('"bemuse-song.json" found...');const e=await t.file("bemuse-song.json"),r=await e.read(),i=await new Blob([r]).text();return JSON.parse(i)}();return async function(e){n(e.length+" file(s) found. Reading them...");const r=await Promise.map(e,(async e=>{const r=Date.now(),i=await t.file(e),o=await i.read();return Date.now()-r>1e3&&n("Read: "+e),{name:e,data:o}})),o=await new Promise(((t,e)=>{let o=new i.a;o.onmessage=function({data:e}){"result"===e.type?(t(e.song),o.terminate()):"started"===e.type?n("Analyzing BMS files..."):"progress"===e.type&&n("Loaded "+e.file+" ("+e.current+"/"+e.total+").")},o.onerror=function(t){n("Worker error: "+t),console.error("Worker error: "+t),e(t.error)},o.postMessage({files:r})}));return o.bemusepack_url=null,o}(e.filter((t=>/\.(bms|bme|bml|bmson)$/i.test(t))))}(e))).then((e=>(e.resources=t,e)))}},,,,,,function(t,e,n){"use strict";var r=n(30),i=n.n(r),o=n(592);const s=i.a.once((()=>{const t=new Date(Date.now()+324e5).toISOString().split("T")[0];return i.a.memoize((e=>{const n=Object(o.createHash)("md5");return n.update(e),n.update(t),n.digest("hex")}))}));class a{constructor(t,{enabled:e=!0}={}){if(!e)return void(this.ids=new Set);const n=i.a.sortBy(t.filter((t=>!t.custom&&!t.tutorial)),(t=>s()(t.id)));this.ids=new Set(n.slice(0,3).map((t=>t.id)))}isSongOfTheDay(t){return this.ids.has(t)}}const c=[{title:"Custom Song",criteria:t=>t.custom},{title:"Tutorial",criteria:t=>t.tutorial},{title:"Unreleased",criteria:t=>t.unreleased},{title:"Recently Added Songs",criteria:t=>t.added&&Date.now()-Date.parse(t.added)<5184e6,sort:t=>t.added,reverse:!0},{title:"Random Songs of the Day",criteria:(t,e)=>e.songOfTheDay.isSongOfTheDay(t.id)},{title:"",criteria:()=>!0}];e.a=function(t,{songOfTheDayEnabled:e=!1}={}){const n={songOfTheDay:new a(t,{enabled:e})};let r=c.map((t=>({input:t,output:{title:t.title,songs:[]}})));for(let e of t)for(let{input:t,output:i}of r)if(t.criteria(e,n)){i.songs.push(e);break}for(let{input:t,output:e}of r)t.sort?e.songs=i.a.orderBy(e.songs,[t.sort],[t.reverse?"desc":"asc"]):t.reverse&&e.songs.reverse();return i()(r).map("output").filter((t=>t.songs.length>0)).value()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r,i=function(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()};function o(t){return new Promise((function(e,n){t.oncomplete=t.onsuccess=function(){return e(t.result)},t.onabort=t.onerror=function(){return n(t.error)}}))}function s(){var t,e,n;return r||(t="keyval-store",e="keyval",n=i().then((function(){var n=indexedDB.open(t);return n.onupgradeneeded=function(){return n.result.createObjectStore(e)},o(n)})),r=function(t,r){return n.then((function(n){return r(n.transaction(e,t).objectStore(e))}))}),r}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return e("readonly",(function(e){return o(e.get(t))}))}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return n("readwrite",(function(n){return n.put(e,t),o(n.transaction)}))}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return e("readwrite",(function(e){return e.delete(t),o(e.transaction)}))}},function(t,e,n){"use strict";var r=n(1115),i=n.n(r);const o=()=>Promise.reject(new Error("Online services not enabled."));var s=class{getCurrentUser(){return null}isLoggedIn(){return!1}signUp({username:t,password:e,email:n}){return o()}logIn({username:t,password:e}){return o()}logOut(){return o()}changePassword({email:t}){return o()}submitScore(t){return Promise.reject(new Error("Online services not enabled."))}retrieveRecord(t,e){return Promise.reject(new Error("Online services not enabled."))}retrieveScoreboard({md5:t,playMode:e}){return Promise.reject(new Error("Online services not enabled."))}retrieveMultipleRecords(t,e){return Promise.reject(new Error("Online services not enabled."))}},a=n(1055),c=n(1054);let u=null;i.a.AUTH0_CLIENT_ID&&i.a.AUTH0_DOMAIN&&i.a.SCOREBOARD_SERVER?u=new a.a(new c.a({server:i.a.SCOREBOARD_SERVER,authOptions:{domain:i.a.AUTH0_DOMAIN,clientID:i.a.AUTH0_CLIENT_ID}})):(console.warn("Warning: No Auth0 API keys specified. Online functionalities wilt not work."),u=new a.a(new s));e.a=u},function(t,e,n){(function(e,n,r){var i;i=function(){var t,i,o;return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){var n=e[s][1][t];return i(n||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,n,r){"use strict";var i;try{throw new Error}catch(t){i=t}var o=t("./schedule"),s=t("./queue");function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function c(t){for(;t.length()>0;)u(t)}function u(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}a.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},a.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.prototype.invokeLater=function(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()},a.prototype.invoke=function(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()},a.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},a.prototype._drainQueues=function(){c(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,c(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},n.exports=a,n.exports.firstLineError=i},{"./queue":26,"./schedule":29}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(e,s,void 0,l,h),u._then(a,c,void 0,l,h),l._setOnCancel(u)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var n=t("./util"),r=n.canEvaluate;function i(t){var r=function(t,r){var i;if(null!=t&&(i=t[r]),"function"!=typeof i){var o="Object "+n.classString(t)+" has no method '"+n.toString(r)+"'";throw new e.TypeError(o)}return i}(t,this.pop());return r.apply(t,this)}function o(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}n.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=s;else if(r){var n=(void 0)(t);e=null!==n?n:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,c=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(t,s,a){return function(c){var u=a._boundValue();t:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return i(s).call(u,c)}else if("function"==typeof f){var h=i(f).call(u,c);if(h===o)return h;if(h)return i(s).call(u,c)}else if(n.isObject(c)){for(var p=r(f),d=0;d<p.length;++d){var b=p[d];if(f[b]!=c[b])continue t}return i(s).call(u,c)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=function(){if(e)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,c=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=c,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r,i,o){var s,a,c,u,l=n._async,f=t("./errors").Warning,h=t("./util"),p=t("./es5"),d=h.canAttachTrace,b=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,y=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,g=null,_=!1,w=!(0==h.env("BLUEBIRD_DEBUG")),S=!(0==h.env("BLUEBIRD_WARNINGS")||!w&&!h.env("BLUEBIRD_WARNINGS")),x=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!w&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),k=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){var t=[];function e(){for(var e=0;e<t.length;++e)t[e]._notifyUnhandledRejection();r()}function r(){t.length=0}u=function(n){t.push(n),setTimeout(e,1)},p.defineProperty(n,"_unhandledRejectionCheck",{value:e}),p.defineProperty(n,"_unhandledRejectionClear",{value:r})}(),n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),u(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){$("rejectionHandled",s,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),$("unhandledRejection",a,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return H(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=n._getContext();a=h.contextBind(e,t)},n.onUnhandledRejectionHandled=function(t){var e=n._getContext();s=h.contextBind(e,t)};var E=function(){};n.longStackTraces=function(){if(l.haveItemsQueued()&&!nt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!nt.longStackTraces&&Y()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace,i=n.prototype._dereferenceTrace;nt.longStackTraces=!0,E=function(){if(l.haveItemsQueued()&&!nt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,n.prototype._dereferenceTrace=i,r.deactivateLongStackTraces(),nt.longStackTraces=!1},n.prototype._captureStackTrace=U,n.prototype._attachExtraTrace=z,n.prototype._dereferenceTrace=V,r.activateLongStackTraces()}},n.hasLongStackTraces=function(){return nt.longStackTraces&&Y()};var O={unhandledrejection:{before:function(){var t=h.global.onunhandledrejection;return h.global.onunhandledrejection=null,t},after:function(t){h.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=h.global.onrejectionhandled;return h.global.onrejectionhandled=null,t},after:function(t){h.global.onrejectionhandled=t}}},A=function(){var t=function(t,e){if(!t)return!h.global.dispatchEvent(e);var n;try{return n=t.before(),!h.global.dispatchEvent(e)}finally{t.after(n)}};try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return h.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new CustomEvent(e,{detail:n,cancelable:!0});return p.defineProperty(r,"promise",{value:n.promise}),p.defineProperty(r,"reason",{value:n.reason}),t(O[e],r)}}return"function"==typeof Event?(e=new Event("CustomEvent"),h.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new Event(e,{cancelable:!0});return r.detail=n,p.defineProperty(r,"promise",{value:n.promise}),p.defineProperty(r,"reason",{value:n.reason}),t(O[e],r)}):((e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!0,n),t(O[e],r)})}catch(t){}return function(){return!1}}(),M=h.isNode?function(){return e.emit.apply(e,arguments)}:h.global?function(t){var e="on"+t.toLowerCase(),n=h.global[e];return!!n&&(n.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,e){return{promise:e}}var j={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:C},T=function(t){var e=!1;try{e=M.apply(null,arguments)}catch(t){l.throwLater(t),e=!0}var n=!1;try{n=A(t,j[t].apply(null,arguments))}catch(t){l.throwLater(t),n=!0}return n||e};function I(){return!1}function P(t,e,n){var r=this;try{t(e,n,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+h.toString(t));r._attachCancellationCallback(t)}))}catch(t){return t}}function F(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?h.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function R(){return this._onCancelField}function D(t){this._onCancelField=t}function B(){this._cancellationParent=void 0,this._onCancelField=void 0}function N(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}n.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&E()),"warnings"in t){var e=t.warnings;nt.warnings=!!e,k=nt.warnings,h.isObject(e)&&"wForgottenReturn"in e&&(k=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!nt.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=B,n.prototype._propagateFrom=N,n.prototype._onCancel=R,n.prototype._setOnCancel=D,n.prototype._attachCancellationCallback=F,n.prototype._execute=P,L=N,nt.cancellation=!0}if("monitoring"in t&&(t.monitoring&&!nt.monitoring?(nt.monitoring=!0,n.prototype._fireEvent=T):!t.monitoring&&nt.monitoring&&(nt.monitoring=!1,n.prototype._fireEvent=I)),"asyncHooks"in t&&h.nodeSupportsAsyncResource){var r=nt.asyncHooks,s=!!t.asyncHooks;r!==s&&(nt.asyncHooks=s,s?i():o())}return n},n.prototype._fireEvent=I,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var L=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function q(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function U(){this._trace=new tt(this._peekContext())}function z(t,e){if(d(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=K(t);h.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),h.notEnumerableProp(t,"__stackCleaned__",!0)}}}function V(){this._trace=void 0}function H(t,e,r){if(nt.warnings){var i,o=new f(t);if(e)r._attachExtraTrace(o);else if(nt.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=K(o);o.stack=s.message+"\n"+s.stack.join("\n")}T("warning",o)||G(o,"",!0)}}function W(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||v.test(r),o=i&&X(r);i&&!o&&(_&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function K(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||v.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:W(e)}}function G(t,e,n){if("undefined"!=typeof console){var r;if(h.isObject(t)){var i=t.stack;r=e+g(i,t)}else r=e+String(t);"function"==typeof c?c(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function $(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){l.throwLater(t)}"unhandledRejection"===t?T(t,n,r)||i||G(n,"Unhandled rejection "):T(t,r)}function J(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():h.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}(e)+">, no stack trace)"}function Y(){return"function"==typeof et}var X=function(){return!1},Q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Z(t){var e=t.match(Q);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function tt(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);et(this,tt),e>32&&this.uncycle()}h.inherits(tt,Error),r.CapturedTrace=tt,tt.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;for(r=(t=this._length=r)-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var s=n[e[r].stack];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var a=r>0?e[r-1]:this;s<t-1?(a._parent=e[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var c=a._length+1,u=r-2;u>=0;--u)e[u]._length=c,c++;return}}}},tt.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=K(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(W(i.stack.split("\n"))),i=i._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(a=s;a>=0;--a){var c=r[a];if(e[i]!==c)break;e.pop(),i--}e=r}}(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),h.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),h.notEnumerableProp(t,"__stackCleaned__",!0)}};var et=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():J(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,v=t,g=e;var n=Error.captureStackTrace;return X=function(t){return b.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return v=/@/,g=e,_=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){r="stack"in t}return!("stack"in i)&&r&&"number"==typeof Error.stackTraceLimit?(v=t,g=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}):(g=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?J(e):e.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(c=function(t){console.warn(t)},h.isNode&&e.stderr.isTTY?c=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:h.isNode||"string"!=typeof(new Error).stack||(c=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var nt={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return x&&n.longStackTraces(),{asyncHooks:function(){return nt.asyncHooks},longStackTraces:function(){return nt.longStackTraces},warnings:function(){return nt.warnings},cancellation:function(){return nt.cancellation},monitoring:function(){return nt.monitoring},propagateFromFunction:function(){return L},boundValueFunction:function(){return q},checkForgottenReturns:function(t,e,n,r,i){if(void 0===t&&null!==e&&k){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),c=W(a),u=c.length-1;u>=0;--u){var l=c[u];if(!m.test(l)){var f=l.match(y);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0){var h=c[0];for(u=0;u<a.length;++u)if(a[u]===h){u>0&&(s="\n"+a[u-1]);break}}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(p,!0,e)}},setBounds:function(t,e){if(Y()){for(var n,r,i=(t.stack||"").split("\n"),o=(e.stack||"").split("\n"),s=-1,a=-1,c=0;c<i.length;++c)if(u=Z(i[c])){n=u.fileName,s=u.line;break}for(c=0;c<o.length;++c){var u;if(u=Z(o[c])){r=u.fileName,a=u.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(X=function(t){if(b.test(t))return!0;var e=Z(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}},warn:H,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),H(n)},CapturedTrace:tt,fireDomEvent:A,fireGlobalEvent:M}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},{}],12:[function(t,e,n){"use strict";var r,i,o=t("./es5"),s=o.freeze,a=t("./util"),c=a.inherits,u=a.notEnumerableProp;function l(t,e){function n(r){if(!(this instanceof n))return new n(r);u(this,"message","string"==typeof r?r:e),u(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return c(n,Error),n}var f=l("Warning","warning"),h=l("CancellationError","cancellation error"),p=l("TimeoutError","timeout error"),d=l("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(t){r=l("TypeError","type error"),i=l("RangeError","range error")}for(var b="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<b.length;++m)"function"==typeof Array.prototype[b[m]]&&(d.prototype[b[m]]=Array.prototype[b[m]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var y=0;function v(t){if(!(this instanceof v))return new v(t);u(this,"name","OperationalError"),u(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(u(this,"message",t.message),u(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return y--,e},c(v,Error);var g=Error.__BluebirdErrorTypes__;g||(g=s({CancellationError:h,TimeoutError:p,OperationalError:v,RejectionError:v,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:a,names:a,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.CancellationError,s=i.errorObj,a=t("./catch_filter")(r);function c(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function u(t){this.finallyHandler=t}function l(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function f(){return p.call(this,this.promise._target()._settledValue())}function h(t){if(!l(this,t))return s.e=t,s}function p(t){var i=this.promise,a=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?a.call(i._boundValue()):a.call(i._boundValue(),t);if(c===r)return c;if(void 0!==c){i._setReturnedNonUndefined();var p=n(c,i);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),s.e=d,s}p.isPending()&&p._attachCancellationCallback(new u(this))}return p._then(f,h,void 0,this,void 0)}}}return i.isRejected()?(l(this),s.e=t,s):(l(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){l(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new c(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,p,p)},e.prototype.tap=function(t){return this._passThrough(t,1,p)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,p);var r,o=new Array(n-1),s=0;for(r=0;r<n-1;++r){var c=arguments[r];if(!i.isObject(c))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(c)));o[s++]=c}o.length=s;var u=arguments[r];return this._passThrough(a(o,u,this),1,void 0,p)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./errors").TypeError,c=t("./util"),u=c.errorObj,l=c.tryCatch,f=[];function h(t,n,i,o){if(s.cancellation()){var a=new e(r),c=this._finallyPromise=new e(r);this._promise=a.lastly((function(){return c})),a._captureStackTrace(),a._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(h,o),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=l(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=l(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var n=this._promise;if(t===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||(o=function(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=l(n[o])(t);if(r._popContext(),s===u){r._pushContext();var a=e.reject(u.e);return r._popContext(),a}var c=i(s,r);if(c instanceof e)return c}return null}(o,this._yieldHandlers,this._promise),null!==o)){var s=(o=o._target())._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=h,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));f.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new h(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),c=a.tryCatch,u=a.errorObj,l=e._async;function f(t,n,r,i){this.constructor$(t),this._promise._captureStackTrace();var s=e._getContext();if(this._callback=a.contextBind(s,n),this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0),a.isArray(t))for(var c=0;c<t.length;++c){var u=t[c];u instanceof e&&u.suppressUnhandledRejections()}}function h(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+a.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(i.concurrency)));s=i.concurrency}return new f(t,n,s="number"==typeof s&&isFinite(s)&&s>=1?s:0,o).promise()}a.inherits(f,n),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,l=this._limit;if(n<0){if(r[n=-1*n-1]=t,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var f=this._promise,h=this._callback,p=f._boundValue();f._pushContext();var d=c(h).call(p,t,n,o),b=f._popContext();if(s.checkForgottenReturns(d,b,null!==a?"Promise.filter":"Promise.map",f),d===u)return this._reject(d.e),!0;var m=i(d,this._promise);if(m instanceof e){var y=(m=m._target())._bitField;if(0==(50397184&y))return l>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}r[n]=d}return++this._totalResolved>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},f.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},f.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},f.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return h(this,t,e,null)},e.map=function(t,e,n,r){return h(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r,c=new e(n);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];r=s.isArray(u)?a(t).apply(l,u):a(t).call(l,u)}else r=a(t)();var f=c._popContext();return o.checkForgottenReturns(r,f,"Promise.try",c),c._resolveFromSyncValue(r),c},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),i=r.maybeWrapAsError,o=t("./errors").OperationalError,s=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var e;if(function(t){return t instanceof Error&&s.getPrototypeOf(t)===Error.prototype}(t)){(e=new o(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=s.keys(t),i=0;i<n.length;++i){var c=n[i];a.test(c)||(e[c]=t[c])}return e}return r.markAsOriginatingFromRejection(t),t}e.exports=function(t,e){return function(n,r){if(null!==t){if(n){var o=c(i(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,i=n.tryCatch,o=n.errorObj;function s(t,e){if(!n.isArray(t))return a.call(this,t,e);var s=i(e).apply(this._boundValue(),[null].concat(t));s===o&&r.throwLater(s.e)}function a(t,e){var n=this._boundValue(),s=void 0===t?i(e).call(n,null):i(e).call(n,null,t);s===o&&r.throwLater(s.e)}function c(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var s=i(e).call(this._boundValue(),t);s===o&&r.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=a;void 0!==e&&Object(e).spread&&(n=s),this._then(n,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){var r=function(){return new v("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new P.PromiseInspection(this._target())},o=function(t){return P.reject(new v(t))};function s(){}var a={},c=t("./util");c.setReflectHandler(i);var u=function(){var t=e.domain;return void 0===t?null:t},l=function(){return{domain:u(),async:null}},f=c.isNode&&c.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,h=function(){return{domain:u(),async:new f("Bluebird::Promise")}},p=c.isNode?l:function(){return null};c.notEnumerableProp(P,"_getContext",p);var d=t("./es5"),b=t("./async"),m=new b;d.defineProperty(P,"_async",{value:m});var y=t("./errors"),v=P.TypeError=y.TypeError;P.RangeError=y.RangeError;var g=P.CancellationError=y.CancellationError;P.TimeoutError=y.TimeoutError,P.OperationalError=y.OperationalError,P.RejectionError=y.OperationalError,P.AggregateError=y.AggregateError;var _=function(){},w={},S={},x=t("./thenables")(P,_),k=t("./promise_array")(P,_,x,o,s),E=t("./context")(P),O=E.create,A=t("./debuggability")(P,E,(function(){p=h,c.notEnumerableProp(P,"_getContext",h)}),(function(){p=l,c.notEnumerableProp(P,"_getContext",l)})),M=(A.CapturedTrace,t("./finally")(P,x,S)),C=t("./catch_filter")(S),j=t("./nodeback"),T=c.errorObj,I=c.tryCatch;function P(t){t!==_&&function(t,e){if(null==t||t.constructor!==P)throw new v("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new v("expecting a function but got "+c.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function F(t){this.promise._resolveCallback(t)}function R(t){this.promise._rejectCallback(t,!1)}function D(t){var e=new P(_);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return P.prototype.toString=function(){return"[object Promise]"},P.prototype.caught=P.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var s=arguments[n];if(!c.isObject(s))return o("Catch statement predicate: expecting an object but got "+c.classString(s));r[i++]=s}if(r.length=i,"function"!=typeof(t=arguments[n]))throw new v("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,C(r,t,this))}return this.then(void 0,t)},P.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},P.prototype.then=function(t,e){if(A.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(n+=", "+c.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},P.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},P.prototype.spread=function(t){return"function"!=typeof t?o("expecting a function but got "+c.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},P.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},P.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},P.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},P.getNewLibraryCopy=n.exports,P.is=function(t){return t instanceof P},P.fromNode=P.fromCallback=function(t){var e=new P(_);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=I(t)(j(e,n));return r===T&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},P.all=function(t){return new k(t).promise()},P.cast=function(t){var e=x(t);return e instanceof P||((e=new P(_))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},P.resolve=P.fulfilled=P.cast,P.reject=P.rejected=function(t){var e=new P(_);return e._captureStackTrace(),e._rejectCallback(t,!0),e},P.setScheduler=function(t){if("function"!=typeof t)throw new v("expecting a function but got "+c.classString(t));return m.setScheduler(t)},P.prototype._then=function(t,e,n,r,i){var o=void 0!==i,s=o?i:new P(_),a=this._target(),u=a._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&u)?this._boundValue():a===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var l=p();if(0!=(50397184&u)){var f,h,d=a._settlePromiseCtx;0!=(33554432&u)?(h=a._rejectionHandler0,f=t):0!=(16777216&u)?(h=a._fulfillmentHandler0,f=e,a._unsetRejectionIsUnhandled()):(d=a._settlePromiseLateCancellationObserver,h=new g("late cancellation observer"),a._attachExtraTrace(h),f=e),m.invoke(d,a,{handler:c.contextBind(l,f),promise:s,receiver:r,value:h})}else a._addCallbacks(t,e,s,r,l);return s},P.prototype._length=function(){return 65535&this._bitField},P.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},P.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},P.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},P.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},P.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},P.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},P.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},P.prototype._isFinal=function(){return(4194304&this._bitField)>0},P.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},P.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},P.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},P.prototype._setAsyncGuaranteed=function(){if(!m.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},P.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},P.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==a)return void 0===e&&this._isBound()?this._boundValue():e},P.prototype._promiseAt=function(t){return this[4*t-4+2]},P.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},P.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},P.prototype._boundValue=function(){},P.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=a),this._addCallbacks(e,n,r,i,null)},P.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=a),this._addCallbacks(n,r,i,o,null)},P.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=c.contextBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=c.contextBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=c.contextBind(i,t)),"function"==typeof e&&(this[s+1]=c.contextBind(i,e))}return this._setLength(o+1),o},P.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},P.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(r(),!1);var n=x(t,this);if(!(n instanceof P))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var s=this._length();s>0&&i._migrateCallback0(this);for(var a=1;a<s;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var c=new g("late cancellation observer");i._attachExtraTrace(c),this._reject(c)}}else this._reject(r())}},P.prototype._rejectCallback=function(t,e,n){var r=c.ensureErrorObject(t),i=r===t;if(!i&&!n&&A.warnings()){var o="a promise was rejected with a non-error: "+c.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},P.prototype._resolveFromExecutor=function(t){if(t!==_){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,n)}));n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},P.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),e===w?n&&"number"==typeof n.length?o=I(t).apply(this._boundValue(),n):(o=T).e=new v("cannot .spread() a non-array: "+c.classString(n)):o=I(t).call(e,n);var s=r._popContext();0==(65536&(i=r._bitField))&&(o===S?r._reject(n):o===T?r._rejectCallback(o.e,!1):(A.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},P.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},P.prototype._followee=function(){return this._rejectionHandler0},P.prototype._setFollowee=function(t){this._rejectionHandler0=t},P.prototype._settlePromise=function(t,e,n,r){var o=t instanceof P,a=this._bitField,c=0!=(134217728&a);0!=(65536&a)?(o&&t._invokeInternalOnCancel(),n instanceof M&&n.isFinallyHandler()?(n.cancelPromise=t,I(e).call(n,r)===T&&t._reject(T.e)):e===i?t._fulfill(i.call(n)):n instanceof s?n._promiseCancelled(t):o||t instanceof k?t._cancel():n.cancel()):"function"==typeof e?o?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,r,t)):e.call(n,r,t):n instanceof s?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(r,t):n._promiseRejected(r,t)):o&&(c&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(r):t._reject(r))},P.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof P?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof P&&n._reject(i)},P.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},P.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},P.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},P.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():m.settlePromises(this),this._dereferenceTrace())}},P.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return m.fatalError(t,c.isNode);(65535&e)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled()}},P.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},P.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},P.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},P.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&d.defineProperty(P.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),P.defer=P.pending=function(){return A.deprecated("Promise.defer","new Promise"),{promise:new P(_),resolve:F,reject:R}},c.notEnumerableProp(P,"_makeSelfResolutionError",r),t("./method")(P,_,x,o,A),t("./bind")(P,_,x,A),t("./cancel")(P,k,o,A),t("./direct_resolve")(P),t("./synchronous_inspection")(P),t("./join")(P,k,x,_,m),P.Promise=P,P.version="3.7.2",t("./call_get.js")(P),t("./generators.js")(P,o,_,x,s,A),t("./map.js")(P,k,o,x,_,A),t("./nodeify.js")(P),t("./promisify.js")(P,_),t("./props.js")(P,k,x,o),t("./race.js")(P,_,x,o),t("./reduce.js")(P,k,o,x,_,A),t("./settle.js")(P,k,A),t("./some.js")(P,k,o),t("./timers.js")(P,_,A),t("./using.js")(P,o,x,O,_,A),t("./any.js")(P),t("./each.js")(P,_),t("./filter.js")(P,_),c.toFastProperties(P),c.toFastProperties(P.prototype),D({a:1}),D({b:2}),D({c:3}),D(1),D((function(){})),D(void 0),D(!1),D(new P(_)),A.setBounds(b.firstLineError,c.lastLineError),P}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util");function a(t){var r=this._promise=new e(n);t instanceof e&&(r._propagateFrom(t,3),t.suppressUnhandledRejections()),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.isArray,s.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(n,o){var a=r(this._values,this._promise);if(a instanceof e){var c=(a=a._target())._bitField;if(this._values=a,0==(50397184&c))return this._promise._setAsyncGuaranteed(),a._then(t,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))0!==a.length?this._iterate(a):-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var u=i("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(u,!1)}},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var c=r(t[a],i);s=c instanceof e?(c=c._target())._bitField:null,o?null!==s&&c.suppressUnhandledRejections():null!==s?0==(50397184&s)?(c._proxy(this,a),this._values[a]=c):o=0!=(33554432&s)?this._promiseFulfilled(c._value(),a):0!=(16777216&s)?this._promiseRejected(c._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(c,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var r={},i=t("./util"),o=t("./nodeback"),s=i.withAppended,a=i.maybeWrapAsError,c=i.canEvaluate,u=t("./errors").TypeError,l={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function p(t){return!f.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function b(t,e,n){var r=i.getDataPropertyOrDefault(t,e+n,l);return!!r&&d(r)}function m(t,e,n,r){for(var o=i.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var c=o[a],l=t[c],f=r===h||h(c);"function"!=typeof l||d(l)||b(t,c,e)||!r(c,l,t,f)||s.push(c,l)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,n),s}var y=c?void 0:function(t,c,u,l,f,h){var p=function(){return this}(),d=t;function b(){var i=c;c===r&&(i=this);var u=new e(n);u._captureStackTrace();var l="string"==typeof d&&this!==p?this[d]:t,f=o(u,h);try{l.apply(i,s(arguments,f))}catch(t){u._rejectCallback(a(t),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}return"string"==typeof d&&(t=l),i.notEnumerableProp(b,"__isPromisified__",!0),b};function v(t,e,n,o,s){for(var a=new RegExp(e.replace(/([$])/,"\\$")+"$"),c=m(t,e,a,n),u=0,l=c.length;u<l;u+=2){var f=c[u],h=c[u+1],p=f+e;if(o===y)t[p]=y(f,r,f,h,e,s);else{var d=o(h,(function(){return y(f,r,f,h,e,s)}));i.notEnumerableProp(d,"__isPromisified__",!0),t[p]=d}}return i.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new u("expecting a function but got "+i.classString(t));if(d(t))return t;var n=function(t,e,n){return y(t,e,void 0,t,null,n)}(t,void 0===(e=Object(e)).context?r:e.context,!!e.multiArgs);return i.copyDescriptors(t,n,p),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var o=e.filter;"function"!=typeof o&&(o=h);var s=e.promisifier;if("function"!=typeof s&&(s=y),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=i.inheritedDataKeys(t),c=0;c<a.length;++c){var l=t[a[c]];"constructor"!==a[c]&&i.isClass(l)&&(v(l.prototype,r,o,s,n),v(l,r,o,s,n))}return v(t,r,o,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,s=t("./util"),a=s.isObject,c=t("./es5");"function"==typeof Map&&(o=Map);var u=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function l(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=u(t),n=!0;else{var r=c.keys(t),i=r.length;e=new Array(2*i);for(var s=0;s<i;++s){var a=r[s];e[s]=t[a],e[s+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function f(t){var n,o=r(t);return a(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new l(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(l,n),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],s=t[r];e.set(i,s)}return e}(this._values);else{n={};for(var r=this.length(),i=0,s=this.length();i<s;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return f(this)},e.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util");function s(t,a){var c,u=r(t);if(u instanceof e)return(c=u).then((function(t){return s(t,c)}));if(null===(t=o.asArray(t)))return i("expecting an array or an iterable object but got "+o.classString(t));var l=new e(n);void 0!==a&&l._propagateFrom(a,3);for(var f=l._fulfill,h=l._reject,p=0,d=t.length;p<d;++p){var b=t[p];(void 0!==b||p in t)&&e.cast(b)._then(f,h,void 0,l,null)}return l}e.race=function(t){return s(t,void 0)},e.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),c=a.tryCatch;function u(t,n,r,i){this.constructor$(t);var s=e._getContext();this._fn=a.contextBind(s,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function f(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+a.classString(e)):new u(t,e,n,i).promise()}function h(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n,r=this.array,i=r._promise,o=c(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var a=i._popContext();return s.checkForgottenReturns(n,a,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}a.inherits(u,n),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},u.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n;for(var o=r;o<i;++o){var s=t[o];s instanceof e&&s.suppressUnhandledRejections()}if(!n.isRejected())for(;r<i;++r){var a={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(h,void 0,void 0,a,void 0),0==(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},e.prototype.reduce=function(t,e){return f(this,t,e,null)},e.reduce=function(t,e,n,r){return f(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a,c,u,l,f=t("./util"),h=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var p=n.setImmediate,d=e.nextTick;s=f.isRecentNode?function(t){p.call(n,t)}:function(t){d.call(e,t)}}else if("function"==typeof h&&"function"==typeof h.resolve){var b=h.resolve();s=function(t){b.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?void 0!==r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(a=document.createElement("div"),c={attributes:!0},u=!1,l=document.createElement("div"),new MutationObserver((function(){a.classList.toggle("foo"),u=!1})).observe(l,c),function(t){var e=new MutationObserver((function(){e.disconnect(),t()}));e.observe(a,c),u||(u=!0,l.classList.toggle("foo"))});i.exports=s},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=e.PromiseInspection;function o(t){this.constructor$(t)}t("./util").inherits(o,n),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},e.allSettled=function(t){return new o(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=t("./errors").RangeError,s=t("./errors").AggregateError,a=i.isArray,c={};function u(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new u(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(u,n),u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=a(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(t){this._howMany=t},u.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},u.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==c&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(t){this._values.push(t)},u.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return l(t,e)},e.prototype.some=function(t){return l(this,t)},e._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util"),i=r.errorObj,o=r.isObject,s={}.hasOwnProperty;return function(t,a){if(o(t)){if(t instanceof e)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(t);if(c===i){a&&a._pushContext();var u=e.reject(c.e);return a&&a._popContext(),u}if("function"==typeof c)return function(t){try{return s.call(t,"_promise0")}catch(t){return!1}}(t)?(u=new e(n),t._then(u._fulfill,u._reject,void 0,u,null),u):function(t,o,s){var a=new e(n),c=a;s&&s._pushContext(),a._captureStackTrace(),s&&s._popContext();var u=!0,l=r.tryCatch(o).call(t,f,h);function f(t){a&&(a._resolveCallback(t),a=null)}function h(t){a&&(a._rejectCallback(t,u,!0),a=null)}return u=!1,a&&l===i&&(a._rejectCallback(l.e,!0,!0),a=null),c}(t,c,a)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,i){var o,c;return void 0!==i?(o=e.resolve(i)._then(a,null,null,t,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(n),c=setTimeout((function(){o._fulfill()}),+t),r.cancellation()&&o._setOnCancel(new s(c)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function u(t){return clearTimeout(this.handle),t}function l(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return c(t,this)},e.prototype.timeout=function(t,e){var n,a;t=+t;var c=new s(setTimeout((function(){n.isPending()&&function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()}(n,e,a)}),t));return r.cancellation()?(a=this.then(),(n=a._then(u,l,void 0,c,void 0))._setOnCancel(c)):n=this._then(u,l,void 0,c,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){var a=t("./util"),c=t("./errors").TypeError,u=t("./util").inherits,l=a.errorObj,f=a.tryCatch,h={};function p(t){setTimeout((function(){throw t}),0)}function d(t,n){var i=0,s=t.length,a=new e(o);return function o(){if(i>=s)return a._fulfill();var c=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(c instanceof e&&c._isDisposable()){try{c=r(c._getDisposer().tryDispose(n),t.promise)}catch(t){return p(t)}if(c instanceof e)return c._then(o,p,null,null,null)}o()}(),a}function b(t,e,n){this._data=t,this._promise=e,this._context=n}function m(t,e,n){this.constructor$(t,e,n)}function y(t){return b.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function v(t){this.length=t,this.promise=null,this[t-1]=null}b.prototype.data=function(){return this._data},b.prototype.promise=function(){return this._promise},b.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},b.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==h?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},b.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},u(m,b),m.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},v.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[t-1];if("function"!=typeof o)return n("expecting a function but got "+a.classString(o));var c=!0;2===t&&Array.isArray(arguments[0])?(t=(i=arguments[0]).length,c=!1):(i=arguments,t--);for(var u=new v(t),h=0;h<t;++h){var p=i[h];if(b.isDisposer(p)){var m=p;(p=p.promise())._setDisposable(m)}else{var g=r(p);g instanceof e&&(p=g._then(y,null,null,{resources:u,index:h},void 0))}u[h]=p}var _=new Array(u.length);for(h=0;h<_.length;++h)_[h]=e.resolve(u[h]).reflect();var w=e.all(_).then((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}S._pushContext(),o=f(o);var r=c?o.apply(void 0,t):o(t),i=S._popContext();return s.checkForgottenReturns(r,i,"Promise.using",S),r})),S=w.lastly((function(){var t=new e.PromiseInspection(w);return d(u,t)}));return u.promise=S,S._setOnCancel(u),S},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new m(t,this,i());throw new c}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";var o=t("./es5"),s="undefined"==typeof navigator,a={e:{}},c,u="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null;function l(){try{var t=c;return c=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function f(t){return c=t,l}var h=function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype};function p(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function d(t){return"function"==typeof t||"object"==typeof t&&null!==t}function b(t){return p(t)?new Error(A(t)):t}function m(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function y(t,e,n){if(!o.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function v(t,e,n){if(p(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,e,r),t}function g(t){throw t}var _=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var s;try{s=n(t)}catch(t){return r}for(var a=0;a<s.length;++a){var c=s[a];if(!i[c]){i[c]=!0;var u=Object.getOwnPropertyDescriptor(t,c);null!=u&&null==u.get&&null==u.set&&r.push(c)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),w=/this\s*\.\s*\S+\s*=/;function S(t){try{if("function"==typeof t){var e=o.names(t.prototype),n=o.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=w.test(t+"")&&o.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function x(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.foo}return r(),r(),t}var k=/^[a-z$_][a-z$_0-9]*$/i;function E(t){return k.test(t)}function O(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function A(t){try{return t+""}catch(t){return"[no string representation]"}}function M(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function C(t){try{v(t,"isOperational",!0)}catch(t){}}function j(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function T(t){return M(t)&&o.propertyIsWritable(t,"stack")}var I="stack"in new Error?function(t){return T(t)?t:new Error(A(t))}:function(t){if(T(t))return t;try{throw new Error(A(t))}catch(t){return t}};function P(t){return{}.toString.call(t)}function F(t,e,n){for(var r=o.names(t),i=0;i<r.length;++i){var s=r[i];if(n(s))try{o.defineProperty(e,s,o.getDescriptor(t,s))}catch(t){}}}var R=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var D="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};R=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?D(t):null}}var B=void 0!==e&&"[object process]"===P(e).toLowerCase(),N=void 0!==e&&void 0!==e.env,L;function q(t){return N?e.env[t]:void 0}function U(){if("function"==typeof Promise)try{if("[object Promise]"===P(new Promise((function(){}))))return Promise}catch(t){}}function z(t,e){if(null===t||"function"!=typeof e||e===L)return e;null!==t.domain&&(e=t.domain.bind(e));var n=t.async;if(null!==n){var r=e;e=function(){var t=new Array(2).concat([].slice.call(arguments));return t[0]=r,t[1]=this,n.runInAsyncScope.apply(n,t)}}return e}var V={setReflectHandler:function(t){L=t},isClass:S,isIdentifier:E,inheritedDataKeys:_,getDataPropertyOrDefault:y,thrower:g,isArray:o.isArray,asArray:R,notEnumerableProp:v,isPrimitive:p,isObject:d,isError:M,canEvaluate:s,errorObj:a,tryCatch:f,inherits:h,withAppended:m,maybeWrapAsError:b,toFastProperties:x,filledRange:O,toString:A,canAttachTrace:T,ensureErrorObject:I,originatesFromRejection:j,markAsOriginatingFromRejection:C,classString:P,copyDescriptors:F,isNode:B,hasEnvVariables:N,env:q,global:u,getNativePromise:U,contextBind:z},H;V.isRecentNode=V.isNode&&(e.versions&&e.versions.node?H=e.versions.node.split(".").map(Number):e.version&&(H=e.version.split(".").map(Number)),0===H[0]&&H[1]>10||H[0]>0),V.nodeSupportsAsyncResource=V.isNode&&function(){var e=!1;try{e="function"==typeof t("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(t){e=!1}return e}(),V.isNode&&V.toFastProperties(e);try{throw new Error}catch(t){V.lastLineError=t}r.exports=V},{"./es5":13,async_hooks:void 0}]},{},[4])(4)},t.exports=i(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(36),n(31),n(146).setImmediate)},function(t,e,n){n(745);var r=n(85).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(148),i=n(201).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l}));var r=n(307),i=n.n(r),o=n(354);const s=i.a.Map(),a=t=>e=>e.set(t,o.f()),c=(t,e)=>n=>n.update(t,o.b(e)),u=(t,e)=>n=>n.update(t,o.d(e)),l=t=>e=>e.get(t)},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return f}));var r=n(111),i=n.n(r);const o=t=>({staged:t,committed:t}),s=o(""),a=t=>t.committed,c=t=>t.staged,u=t=>i()({staged:t}),l=t=>({...t,committed:t.staged}),f=t=>()=>o(t)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(1107);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(55),c=n.n(a);class u extends i.a.Component{render(){return i.a.createElement("div",{className:c()("SceneHeading",this.props.className)},this.props.children)}}u.propTypes={className:s.a.string,children:s.a.node}},function(t,e,n){"use strict";n(1109);var r=n(26),i=n.n(r),o=n(29),s=n.n(o);class a extends i.a.Component{render(){return i.a.createElement("div",{className:"SceneToolbar"},this.props.children)}}a.propTypes={children:s.a.node},a.Spacer=class extends i.a.Component{render(){return i.a.createElement("div",{className:"SceneToolbarspacer"})}},e.a=a},function(t,e,n){"use strict";e.a=function({md5:t,playMode:e}){return`${t}-${e}`}},function(t,e){var n=Array.prototype.slice;function r(t){var e=this,r=n.call(arguments,1);return new Promise((function(n,o){if("function"==typeof t&&(t=t.apply(e,r)),!t||"function"!=typeof t.next)return n(t);function s(e){var n;try{n=t.next(e)}catch(t){return o(t)}u(n)}function a(e){var n;try{n=t.throw(e)}catch(t){return o(t)}u(n)}function u(t){if(t.done)return n(t.value);var r=i.call(e,t.value);return r&&c(r)?r.then(s,a):a(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}s()}))}function i(t){return t?c(t)?t:function(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||u(e.prototype))}(t)||u(t)?r.call(this,t):"function"==typeof t?o.call(this,t):Array.isArray(t)?s.call(this,t):Object==t.constructor?a.call(this,t):t:t}function o(t){var e=this;return new Promise((function(r,i){t.call(e,(function(t,e){if(t)return i(t);arguments.length>2&&(e=n.call(arguments,1)),r(e)}))}))}function s(t){return Promise.all(t.map(i,this))}function a(t){for(var e=new t.constructor,n=Object.keys(t),r=[],o=0;o<n.length;o++){var s=n[o],a=i.call(this,t[s]);a&&c(a)?u(a,s):e[s]=t[s]}return Promise.all(r).then((function(){return e}));function u(t,n){e[n]=void 0,r.push(t.then((function(t){e[n]=t})))}}function c(t){return"function"==typeof t.then}function u(t){return"function"==typeof t.next&&"function"==typeof t.throw}t.exports=r.default=r.co=r,r.wrap=function(t){return e.__generatorFunction__=t,e;function e(){return r.call(this,t.apply(this,arguments))}}},function(t,e,n){"use strict";e.a=document.querySelector("#warp-root")},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(125);function i(t,e){if(e.includes("://"))return[new r.a(new URL(e)),e.split("/").slice(-1)[0]];const n=e.split("/");let i=t;for(;n.length>1;){const t=n.shift();i=new o(i,t)}return[i,n[0]]}class o{constructor(t,e){this.base=t,this.dirName=e}async file(t){return this.base.file(`${this.dirName}/${t}`)}}},function(t,e,n){"use strict";var r=n(105),i=n(217),o=n(26),s=n.n(o),a=n(1060),c=n(199),u=n(216),l=n(195);const f=Object(u.a)(Object(l.b)({onClick:({featureKey:t})=>()=>i.b(r.a(t))}),Object(c.b)(((t,{featureKey:e})=>({tipVisible:!r.n(e)(t.options)}))))((({onClick:t,...e})=>s.a.createElement("span",{onClick:t},s.a.createElement(a.a,{...e}))));e.a=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconStack=e.Icon=e.default=void 0,n(1147);var r=o(n(1155)),i=o(n(1156));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default,e.Icon=r.default,e.IconStack=i.default},,,,,,function(t,e,n){"use strict";var r=n(61),i=n.n(r);e.a=function(){const t=new Map;let e;return{receiveSongId(n){e!==n&&(e=n,t.clear())},isEmpty:()=>0===t.size,isCached:e=>t.has(e),cache(n,r){i()(e,"Expected current song to be set."),t.set(n,r)},get:e=>t.get(e)}}},function(t,e,n){"use strict";e.a=class{constructor(t,e,n,{volume:r}={}){this._master=t,this._samples=e,this._map=n,this._exclusiveInstances=new Map,this._group=this._master.group({volume:r})}playAuto(t,e,n){return this._play({note:t,delay:e,exclusive:!0,slice:n})}playNote(t,e,n){return this._play({note:t,delay:e,exclusive:!0,slice:n})}playFree(t,e,n){return this._play({note:t,delay:0,exclusive:!1,slice:n})}_play({note:t,delay:e,exclusive:n}){let r=t.keysound;n&&this._stopOldExclusiveSound(r,e);let i=this._map[r.toLowerCase()];if(!i)return null;let o=this._samples[i];if(!o)return null;let s=o.play(e,{start:t.keysoundStart,end:t.keysoundEnd,group:this._group});return n&&this._exclusiveInstances.set(r,s),s}_stopOldExclusiveSound(t,e){let n=this._exclusiveInstances.get(t);n&&(setTimeout((()=>n.stop()),1e3*e),this._exclusiveInstances.delete(t))}}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(1175),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return(0,o.default)("displayName",t)}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(1176),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){return e+"("+(0,o.default)(t)+")"}},,,,,,,,,,function(t,e,n){var r=n(102);r(r.S+r.F*!n(110),"Object",{defineProperty:n(202).f})},function(t,e,n){t.exports=!n(110)&&!n(215)((function(){return 7!=Object.defineProperty(n(715)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(148);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="() "},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){(function(e){var n=Math.floor(16777215*Math.random()),r=o.index=parseInt(16777215*Math.random(),10),i=(void 0===e||"number"!=typeof e.pid?Math.floor(1e5*Math.random()):e.pid)%65535;function o(t){if(!(this instanceof o))return new o(t);if(t&&(t instanceof o||"ObjectID"===t._bsontype))return t;var e,n;if(null!=(n=t)&&n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)||Array.isArray(t)&&12===t.length)e=Array.prototype.slice.call(t);else if("string"==typeof t){if(12!==t.length&&!o.isValid(t))throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");e=c(t)}else/number|undefined/.test(typeof t)&&(e=c(s(t)));Object.defineProperty(this,"id",{enumerable:!0,get:function(){return String.fromCharCode.apply(this,e)}}),Object.defineProperty(this,"str",{get:function(){return e.map(a.bind(this,2)).join("")}})}function s(t){return"number"!=typeof t&&(t=Date.now()/1e3),a(8,t=parseInt(t,10)%4294967295)+a(6,n)+a(4,i)+a(6,r=(r+1)%16777215)}function a(t,e){return(e=e.toString(16)).length===t?e:"00000000".substring(e.length,t)+e}function c(t){var e=0,n=[];if(24===t.length)for(;e<24;n.push(parseInt(t[e]+t[e+1],16)),e+=2);else if(12===t.length)for(;e<12;n.push(t.charCodeAt(e)),e++);return n}t.exports=o,o.generate=s,o.default=o,o.createFromTime=function(t){return new o(a(8,t=parseInt(t,10)%4294967295)+"0000000000000000")},o.createFromHexString=function(t){if(!o.isValid(t))throw new Error("Invalid ObjectID hex string");return new o(t)},o.isValid=function(t){return!(!t||"string"!=typeof t&&("object"!=typeof t||Array.isArray(t)||"function"!=typeof t.toString))&&/^[0-9A-F]{24}$/i.test(t.toString())},o.setMachineID=function(t){var e;if("string"==typeof t){if(e=parseInt(t,16),isNaN(e)){t=("000000"+t).substr(-7,6),e="";for(var r=0;r<6;r++)e+=t.charCodeAt(r)}}else/number|undefined/.test(typeof t)&&(e=0|t);n=16777215&e},o.getMachineID=function(){return n},o.prototype={_bsontype:"ObjectID",constructor:o,toHexString:function(){return this.str},equals:function(t){return!!t&&this.str===t.toString()},getTimestamp:function(){return new Date(1e3*parseInt(this.str.substr(0,8),16))}};var u=Symbol&&Symbol.for("nodejs.util.inspect.custom")||"inspect";o.prototype[u]=function(){return"ObjectID("+this+")"},o.prototype.toJSON=o.prototype.toHexString,o.prototype.toString=o.prototype.toHexString}).call(this,n(36))},function(t,e,n){!function(){function e(t){if(!Array.isArray(t))throw new TypeError("You need to pass an Array not "+typeof t);if(1==t.length)return t[0];t.sort((function(t,e){return t-e}));var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}t.exports?t.exports=e:window.median=e}()},function(t,e,n){"use strict";var r=n(467),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],s=i.obj[i.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:s,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,i,o){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var c="",u=0;u<a.length;++u){var l=a.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?c+=a.charAt(u):l<128?c+=s[l]:l<2048?c+=s[192|l>>6]+s[128|63&l]:l<55296||l>=57344?c+=s[224|l>>12]+s[128|l>>6&63]+s[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&a.charCodeAt(u)),c+=s[240|l>>18]+s[128|l>>12&63]+s[128|l>>6&63]+s[128|63&l])}return c},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(o(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return o(e)&&!o(n)&&(s=a(e,r)),o(e)&&o(n)?(n.forEach((function(n,o){if(i.call(e,o)){var s=e[o];s&&"object"==typeof s&&n&&"object"==typeof n?e[o]=t(s,n,r):e.push(n)}else e[o]=n})),e):Object.keys(n).reduce((function(e,o){var s=n[o];return i.call(e,o)?e[o]=t(e[o],s,r):e[o]=s,e}),s)}}},function(t,e,n){"use strict";e.a=function(t,[e,n]){let r=0;for(const i of t){const t=1e3*Math.abs(i);t<e&&(r+=1),t<n&&(r+=1)}return r}},,function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(31))},function(t,e,n){var r=n(757);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.Scene {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  font-family: "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n}\n.Scene > .SceneHeading {\n  position: absolute;\n  top: 20px;\n  right: 0;\n  left: 0;\n}\n@media (min-width: 720px) {\n  .Scene > .SceneHeading {\n    top: 2rem;\n  }\n}\n.Scene > .SceneToolbar {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}',""])},function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return u}));let r=null;function i(){return r||(r=function(){let t=!1,e=null,r=!1,i=!1;const o={},s=new Audio(n(1113));s.preload="auto",s.loop=!0,s.oncanplaythrough=()=>{r=!0,u()},s.load();const a=document.createElement("audio");a.src=n(1114),a.volume=.5,a.load();const c=f(s,.5,(t=>{0===t&&i&&(i=!1,s.pause())}));function u(){if(!t){i&&(c.fadeTo(0,100),i=!1,s.pause());for(const t of Object.keys(o)){o[t].destroy()}return}let n=null;for(const t of Object.keys(o)){const r=o[t];t===e?r.loaded&&(r.play(),n=r):r.stop()}n?c.fadeTo(0,1):(c.fadeTo(.4,.5),r&&!i&&(i=!0,l(s).catch((()=>console.warn("Cannot play background music")))))}function h(t){const e=document.createElement("audio");e.src=t;let n=!1;const r=f(e,1,(n=>{0===n&&(e.pause(),delete o[t],u())})),i={loaded:!1,play(){n||l(e).then((()=>{n=!0})).catch((()=>console.warn("Cannot play",e.src))),r.fadeTo(1,2)},stop(){r.fadeTo(0,4)},destroy(){e.pause(),delete o[t],u()}};return e.oncanplaythrough=()=>{i.loaded=!0,u()},e.onended=()=>{delete o[t],u()},e.load(),i}return{enable(){t||(t=!0,u())},disable(){t&&(t=!1,u())},go(){t&&(a.currentTime=0,l(a).catch((()=>console.warn("Cannot play go sound."))))},preview(t){e!==t&&(e=t,t&&!o[t]&&(o[t]=h(t)),u())}}}())}function o(){i()}function s(){return i().enable()}function a(){return i().disable()}function c(){return i().go()}function u(t){return i().preview(t)}function l(t){return new Promise((e=>{e(t.play())}))}function f(t,e,n){let r,i=0,o=0,s=!1;function a(){return(Date.now()-r)/1e3}function c(){return i>e?Math.min(i,e+a()*o):i<e?Math.max(i,e-a()*o):i}function u(){s=!1;const e=c();t.volume=e,e===i?n&&n(i):s||(s=!0,requestAnimationFrame(u))}return t.volume=e,{fadeTo(t,n){i===t&&n===o||(e=c(),i=t,o=n,r=Date.now(),u())}}}},function(t,e,n){"use strict";(function(t,n){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var o=i((function(t){var e,n;e=r,n=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=r<t.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),e.push(i))}var o=e.join("/"),s=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}return function(){return t("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=n():e.urljoin=n()})),s=r.Symbol,a="Function.prototype.bind called on incompatible ",c=Array.prototype.slice,u=Object.prototype.toString,l=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==u.call(e))throw new TypeError(a+e);for(var n,r=c.call(arguments,1),i=function(){if(this instanceof n){var i=e.apply(this,r.concat(c.call(arguments)));return Object(i)===i?i:this}return e.apply(t,r.concat(c.call(arguments)))},o=Math.max(0,e.length-r.length),s=[],l=0;l<o;l++)s.push("$"+l);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n},f=l.call(Function.call,Object.prototype.hasOwnProperty),h=SyntaxError,p=Function,d=TypeError,b=function(t){try{return p('"use strict"; return ('+t+").constructor;")()}catch(t){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(bn){m=null}var y=function(){throw new d},v=m?function(){try{return y}catch(t){try{return m(arguments,"callee").get}catch(t){return y}}}():y,g="function"==typeof s&&"function"==typeof Symbol&&"symbol"==typeof s("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}(),_=Object.getPrototypeOf||function(t){return t.__proto__},w={},S="undefined"==typeof Uint8Array?void 0:_(Uint8Array),x={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":g?_([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":w,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g?_(_([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g?_((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g?_((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g?_(""[Symbol.iterator]()):void 0,"%Symbol%":g?Symbol:void 0,"%SyntaxError%":h,"%ThrowTypeError%":v,"%TypedArray%":S,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=l.call(Function.call,Array.prototype.concat),O=l.call(Function.apply,Array.prototype.splice),A=l.call(Function.call,String.prototype.replace),M=l.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,T=function(t){var e=M(t,0,1),n=M(t,-1);if("%"===e&&"%"!==n)throw new h("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new h("invalid intrinsic syntax, expected opening `%`");var r=[];return A(t,C,(function(t,e,n,i){r[r.length]=n?A(i,j,"$1"):e||t})),r},I=function(t,e){var n,r=t;if(f(k,r)&&(r="%"+(n=k[r])[0]+"%"),f(x,r)){var i=x[r];if(i===w&&(i=function t(e){var n;if("%AsyncFunction%"===e)n=b("async function () {}");else if("%GeneratorFunction%"===e)n=b("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=b("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=_(i.prototype))}return x[e]=n,n}(r)),void 0===i&&!e)throw new d("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new h("intrinsic "+t+" does not exist!")},P=function(t,e){if("string"!=typeof t||0===t.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new d('"allowMissing" argument must be a boolean');var n=T(t),r=n.length>0?n[0]:"",i=I("%"+r+"%",e),o=i.name,s=i.value,a=!1,c=i.alias;c&&(r=c[0],O(n,E([0,1],c)));for(var u=1,l=!0;u<n.length;u+=1){var p=n[u],b=M(p,0,1),y=M(p,-1);if(('"'===b||"'"===b||"`"===b||'"'===y||"'"===y||"`"===y)&&b!==y)throw new h("property names with quotes must have matching quotes");if("constructor"!==p&&l||(a=!0),f(x,o="%"+(r+="."+p)+"%"))s=x[o];else if(null!=s){if(!(p in s)){if(!e)throw new d("base intrinsic for "+t+" exists, but the property is not available.");return}if(m&&u+1>=n.length){var v=m(s,p);s=(l=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:s[p]}else l=f(s,p),s=s[p];l&&!a&&(x[o]=s)}}return s},F=i((function(t){var e=P("%Function.prototype.apply%"),n=P("%Function.prototype.call%"),r=P("%Reflect.apply%",!0)||l.call(n,e),i=P("%Object.getOwnPropertyDescriptor%",!0),o=P("%Object.defineProperty%",!0),s=P("%Math.max%");if(o)try{o({},"a",{value:1})}catch(t){o=null}t.exports=function(t){var e=r(l,n,arguments);if(i&&o){var a=i(e,"length");a.configurable&&o(e,"length",{value:1+s(0,t.length-(arguments.length-1))})}return e};var a=function(){return r(l,e,arguments)};o?o(t.exports,"apply",{value:a}):t.exports.apply=a})),R=(F.apply,F(P("String.prototype.indexOf"))),D=function(t,e){var n=P(t,!!e);return"function"==typeof n&&R(t,".prototype.")>-1?F(n):n},B=function(t){return t&&t.default||t}(Object.freeze({__proto__:null,default:{}})),N="function"==typeof Map&&Map.prototype,L=Object.getOwnPropertyDescriptor&&N?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,q=N&&L&&"function"==typeof L.get?L.get:null,U=N&&Map.prototype.forEach,z="function"==typeof Set&&Set.prototype,V=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,H=z&&V&&"function"==typeof V.get?V.get:null,W=z&&Set.prototype.forEach,K="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,G="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,$="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,J=Boolean.prototype.valueOf,Y=Object.prototype.toString,X=Function.prototype.toString,Q=String.prototype.match,Z="function"==typeof BigInt?BigInt.prototype.valueOf:null,tt=Object.getOwnPropertySymbols,et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,nt="function"==typeof Symbol&&"object"==typeof Symbol.iterator,rt=Object.prototype.propertyIsEnumerable,it=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),ot=B.custom,st=ot&&ht(ot)?ot:null,at="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null,ct=function t(e,n,r,i){var o=n||{};if(dt(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(dt(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!dt(o,"customInspect")||o.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(dt(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return function t(e,n){if(e.length>n.maxStringLength){var r=e.length-n.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return t(e.slice(0,n.maxStringLength),n)+i}return ut(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,yt),"single",n)}(e,o);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var a=void 0===o.depth?5:o.depth;if(void 0===r&&(r=0),r>=a&&a>0&&"object"==typeof e)return ft(e)?"[Array]":"[Object]";var c=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(o,r);if(void 0===i)i=[];else if(mt(i,e)>=0)return"[Circular]";function u(e,n,s){if(n&&(i=i.slice()).push(n),s){var a={depth:o.depth};return dt(o,"quoteStyle")&&(a.quoteStyle=o.quoteStyle),t(e,a,r+1,i)}return t(e,o,r+1,i)}if("function"==typeof e){var l=function(t){if(t.name)return t.name;var e=Q.call(X.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),f=St(e,u);return"[Function"+(l?": "+l:" (anonymous)")+"]"+(f.length>0?" { "+f.join(", ")+" }":"")}if(ht(e)){var h=nt?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):et.call(e);return"object"!=typeof e||nt?h:vt(h)}if(function(t){return!(!t||"object"!=typeof t)&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)}(e)){for(var p="<"+String(e.nodeName).toLowerCase(),d=e.attributes||[],b=0;b<d.length;b++)p+=" "+d[b].name+"="+ut(lt(d[b].value),"double",o);return p+=">",e.childNodes&&e.childNodes.length&&(p+="..."),p+"</"+String(e.nodeName).toLowerCase()+">"}if(ft(e)){if(0===e.length)return"[]";var m=St(e,u);return c&&!function(t){for(var e=0;e<t.length;e++)if(mt(t[e],"\n")>=0)return!1;return!0}(m)?"["+wt(m,c)+"]":"[ "+m.join(", ")+" ]"}if(function(t){return!("[object Error]"!==bt(t)||at&&"object"==typeof t&&at in t)}(e)){var y=St(e,u);return 0===y.length?"["+String(e)+"]":"{ ["+String(e)+"] "+y.join(", ")+" }"}if("object"==typeof e&&s){if(st&&"function"==typeof e[st])return e[st]();if("symbol"!==s&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!q||!t||"object"!=typeof t)return!1;try{q.call(t);try{H.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var v=[];return U.call(e,(function(t,n){v.push(u(n,e,!0)+" => "+u(t,e))})),_t("Map",q.call(e),v,c)}if(function(t){if(!H||!t||"object"!=typeof t)return!1;try{H.call(t);try{q.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var g=[];return W.call(e,(function(t){g.push(u(t,e))})),_t("Set",H.call(e),g,c)}if(function(t){if(!K||!t||"object"!=typeof t)return!1;try{K.call(t,K);try{G.call(t,G)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return gt("WeakMap");if(function(t){if(!G||!t||"object"!=typeof t)return!1;try{G.call(t,G);try{K.call(t,K)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return gt("WeakSet");if(function(t){if(!$||!t||"object"!=typeof t)return!1;try{return $.call(t),!0}catch(t){}return!1}(e))return gt("WeakRef");if(function(t){return!("[object Number]"!==bt(t)||at&&"object"==typeof t&&at in t)}(e))return vt(u(Number(e)));if(function(t){if(!t||"object"!=typeof t||!Z)return!1;try{return Z.call(t),!0}catch(t){}return!1}(e))return vt(u(Z.call(e)));if(function(t){return!("[object Boolean]"!==bt(t)||at&&"object"==typeof t&&at in t)}(e))return vt(J.call(e));if(function(t){return!("[object String]"!==bt(t)||at&&"object"==typeof t&&at in t)}(e))return vt(u(String(e)));if(!function(t){return!("[object Date]"!==bt(t)||at&&"object"==typeof t&&at in t)}(e)&&!function(t){return!("[object RegExp]"!==bt(t)||at&&"object"==typeof t&&at in t)}(e)){var _=St(e,u),w=it?it(e)===Object.prototype:e instanceof Object||e.constructor===Object,S=e instanceof Object?"":"null prototype",x=!w&&at&&Object(e)===e&&at in e?bt(e).slice(8,-1):S?"Object":"",k=(w||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(x||S?"["+[].concat(x||[],S||[]).join(": ")+"] ":"");return 0===_.length?k+"{}":c?k+"{"+wt(_,c)+"}":k+"{ "+_.join(", ")+" }"}return String(e)};function ut(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function lt(t){return String(t).replace(/"/g,"&quot;")}function ft(t){return!("[object Array]"!==bt(t)||at&&"object"==typeof t&&at in t)}function ht(t){if(nt)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!et)return!1;try{return et.call(t),!0}catch(t){}return!1}var pt=Object.prototype.hasOwnProperty||function(t){return t in this};function dt(t,e){return pt.call(t,e)}function bt(t){return Y.call(t)}function mt(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function yt(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function vt(t){return"Object("+t+")"}function gt(t){return t+" { ? }"}function _t(t,e,n,r){return t+" ("+e+") {"+(r?wt(n,r):n.join(", "))+"}"}function wt(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function St(t,e){var n=ft(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=dt(t,i)?e(t[i],t):""}var o,s="function"==typeof tt?tt(t):[];if(nt){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)dt(t,c)&&(n&&String(Number(c))===c&&c<t.length||nt&&o["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if("function"==typeof tt)for(var u=0;u<s.length;u++)rt.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}var xt=P("%TypeError%"),kt=P("%WeakMap%",!0),Et=P("%Map%",!0),Ot=D("WeakMap.prototype.get",!0),At=D("WeakMap.prototype.set",!0),Mt=D("WeakMap.prototype.has",!0),Ct=D("Map.prototype.get",!0),jt=D("Map.prototype.set",!0),Tt=D("Map.prototype.has",!0),It=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Pt=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new xt("Side channel does not contain "+ct(t))},get:function(r){if(kt&&r&&("object"==typeof r||"function"==typeof r)){if(t)return Ot(t,r)}else if(Et){if(e)return Ct(e,r)}else if(n)return function(t,e){var n=It(t,e);return n&&n.value}(n,r)},has:function(r){if(kt&&r&&("object"==typeof r||"function"==typeof r)){if(t)return Mt(t,r)}else if(Et){if(e)return Tt(e,r)}else if(n)return function(t,e){return!!It(t,e)}(n,r);return!1},set:function(r,i){kt&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new kt),At(t,r,i)):Et?(e||(e=new Et),jt(e,r,i)):(n||(n={key:{},next:null}),function(t,e,n){var r=It(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,i))}};return r},Ft=String.prototype.replace,Rt=/%20/g,Dt="RFC3986",Bt={default:Dt,formatters:{RFC1738:function(t){return Ft.call(t,Rt,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:Dt},Nt=Object.prototype.hasOwnProperty,Lt=Array.isArray,qt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ut=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},zt={arrayToObject:Ut,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var c=s[a],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:o,prop:c}),n.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(Lt(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,r,i){if(0===t.length)return t;var o=t;if("symbol"==typeof t?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var s="",a=0;a<o.length;++a){var c=o.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===Bt.RFC1738&&(40===c||41===c)?s+=o.charAt(a):c<128?s+=qt[c]:c<2048?s+=qt[192|c>>6]+qt[128|63&c]:c<55296||c>=57344?s+=qt[224|c>>12]+qt[128|c>>6&63]+qt[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(a)),s+=qt[240|c>>18]+qt[128|c>>12&63]+qt[128|c>>6&63]+qt[128|63&c])}return s},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(Lt(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n){if(Lt(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!Nt.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var i=e;return Lt(e)&&!Lt(n)&&(i=Ut(e,r)),Lt(e)&&Lt(n)?(n.forEach((function(n,i){if(Nt.call(e,i)){var o=e[i];o&&"object"==typeof o&&n&&"object"==typeof n?e[i]=t(o,n,r):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var o=n[i];return Nt.call(e,i)?e[i]=t(e[i],o,r):e[i]=o,e}),i)}},Vt=Object.prototype.hasOwnProperty,Ht={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},Wt=Array.isArray,Kt=Array.prototype.push,Gt=function(t,e){Kt.apply(t,Wt(e)?e:[e])},$t=Date.prototype.toISOString,Jt=Bt.default,Yt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:zt.encode,encodeValuesOnly:!1,format:Jt,formatter:Bt.formatters[Jt],indices:!1,serializeDate:function(t){return $t.call(t)},skipNulls:!1,strictNullHandling:!1},Xt=function t(e,n,r,i,o,s,a,c,u,l,f,h,p,d,b){var m=e;if(b.has(e))throw new RangeError("Cyclic object value");if("function"==typeof a?m=a(n,m):m instanceof Date?m=l(m):"comma"===r&&Wt(m)&&(m=zt.maybeMap(m,(function(t){return t instanceof Date?l(t):t}))),null===m){if(i)return s&&!p?s(n,Yt.encoder,d,"key",f):n;m=""}if(function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t}(m)||zt.isBuffer(m))return s?[h(p?n:s(n,Yt.encoder,d,"key",f))+"="+h(s(m,Yt.encoder,d,"value",f))]:[h(n)+"="+h(String(m))];var y,v=[];if(void 0===m)return v;if("comma"===r&&Wt(m))y=[{value:m.length>0?m.join(",")||null:void 0}];else if(Wt(a))y=a;else{var g=Object.keys(m);y=c?g.sort(c):g}for(var _=0;_<y.length;++_){var w=y[_],S="object"==typeof w&&void 0!==w.value?w.value:m[w];if(!o||null!==S){var x=Wt(m)?"function"==typeof r?r(n,w):n:n+(u?"."+w:"["+w+"]");b.set(e,!0);var k=Pt();Gt(v,t(S,x,r,i,o,s,a,c,u,l,f,h,p,d,k))}}return v},Qt=Object.prototype.hasOwnProperty,Zt=Array.isArray,te={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:zt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ee=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},ne=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},re=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,c=[];if(a){if(!n.plainObjects&&Qt.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var u=0;n.depth>0&&null!==(s=o.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&Qt.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),function(t,e,n,r){for(var i=r?e:ne(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=i:s[c]=i:s={0:i}}i=s}return i}(c,e,n,r)}},ie=function(t,e){var n,r=t,i=function(t){if(!t)return Yt;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||Yt.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Bt.default;if(void 0!==t.format){if(!Vt.call(Bt.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=Bt.formatters[n],i=Yt.filter;return("function"==typeof t.filter||Wt(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:Yt.addQueryPrefix,allowDots:void 0===t.allowDots?Yt.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Yt.charsetSentinel,delimiter:void 0===t.delimiter?Yt.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:Yt.encode,encoder:"function"==typeof t.encoder?t.encoder:Yt.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:Yt.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:Yt.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:Yt.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Yt.strictNullHandling}}(e);"function"==typeof i.filter?r=(0,i.filter)("",r):Wt(i.filter)&&(n=i.filter);var o,s=[];if("object"!=typeof r||null===r)return"";o=e&&e.arrayFormat in Ht?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var a=Ht[o];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=Pt(),u=0;u<n.length;++u){var l=n[u];i.skipNulls&&null===r[l]||Gt(s,Xt(r[l],l,a,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var f=s.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},oe=i((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}})),se=ue;ue.default=ue,ue.stable=fe,ue.stableStringify=fe;var ae=[],ce=[];function ue(t,e,n){var r;for(function t(e,n,r,i){var o;if("object"==typeof e&&null!==e){for(o=0;o<r.length;o++)if(r[o]===e){var s=Object.getOwnPropertyDescriptor(i,n);return void(void 0!==s.get?s.configurable?(Object.defineProperty(i,n,{value:"[Circular]"}),ae.push([i,n,e,s])):ce.push([e,n]):(i[n]="[Circular]",ae.push([i,n,e])))}if(r.push(e),Array.isArray(e))for(o=0;o<e.length;o++)t(e[o],o,r,e);else{var a=Object.keys(e);for(o=0;o<a.length;o++){var c=a[o];t(e[c],c,r,e)}}r.pop()}}(t,"",[],void 0),r=0===ce.length?JSON.stringify(t,e,n):JSON.stringify(t,he(e),n);0!==ae.length;){var i=ae.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return r}function le(t,e){return t<e?-1:t>e?1:0}function fe(t,e,n){var r,i=function t(e,n,r,i){var o;if("object"==typeof e&&null!==e){for(o=0;o<r.length;o++)if(r[o]===e){var s=Object.getOwnPropertyDescriptor(i,n);return void(void 0!==s.get?s.configurable?(Object.defineProperty(i,n,{value:"[Circular]"}),ae.push([i,n,e,s])):ce.push([e,n]):(i[n]="[Circular]",ae.push([i,n,e])))}if("function"==typeof e.toJSON)return;if(r.push(e),Array.isArray(e))for(o=0;o<e.length;o++)t(e[o],o,r,e);else{var a={},c=Object.keys(e).sort(le);for(o=0;o<c.length;o++){var u=c[o];t(e[u],u,r,e),a[u]=e[u]}if(void 0===i)return a;ae.push([i,n,e]),i[n]=a}r.pop()}}(t,"",[],void 0)||t;for(r=0===ce.length?JSON.stringify(i,e,n):JSON.stringify(i,he(e),n);0!==ae.length;){var o=ae.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return r}function he(t){return t=void 0!==t?t:function(t,e){return e},function(e,n){if(ce.length>0)for(var r=0;r<ce.length;r++){var i=ce[r];if(i[1]===e&&i[0]===n){n="[Circular]",ce.splice(r,1);break}}return t.call(this,e,n)}}function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var de=function(t){return null!==t&&"object"===pe(t)};function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var me=ye;function ye(t){if(t)return function(t){for(var e in ye.prototype)Object.prototype.hasOwnProperty.call(ye.prototype,e)&&(t[e]=ye.prototype[e]);return t}(t)}ye.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},ye.prototype.parse=function(t){return this._parser=t,this},ye.prototype.responseType=function(t){return this._responseType=t,this},ye.prototype.serialize=function(t){return this._serializer=t,this},ye.prototype.timeout=function(t){if(!t||"object"!==be(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},ye.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var ve=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];ye.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!==e.status)return!0;if(t){if(t.code&&ve.includes(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},ye.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},ye.prototype.then=function(t,e){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){r.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)e(n.timedoutError);else{var t=new Error("Aborted");t.code="ABORTED",t.status=n.status,t.method=n.method,t.url=n.url,e(t)}})),r.end((function(n,r){n?e(n):t(r)}))}))}return this._fullfilledPromise.then(t,e)},ye.prototype.catch=function(t){return this.then(void 0,t)},ye.prototype.use=function(t){return t(this),this},ye.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},ye.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},ye.prototype.get=function(t){return this._header[t.toLowerCase()]},ye.prototype.getHeader=ye.prototype.get,ye.prototype.set=function(t,e){if(de(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},ye.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},ye.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(de(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(t,e[r]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},ye.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},ye.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},ye.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},ye.prototype.redirects=function(t){return this._maxRedirects=t,this},ye.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},ye.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},ye.prototype.send=function(t){var e=de(t),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&de(this._data))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this._data[r]=t[r]);else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||n||this.type("json"),this},ye.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},ye.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.slice(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,e)+"?"+n.join("&")}}},ye.prototype._appendQueryString=function(){console.warn("Unsupported")},ye.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error("".concat(t+e,"ms exceeded"));r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},ye.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};var ge=_e;function _e(t){if(t)return function(t){for(var e in _e.prototype)Object.prototype.hasOwnProperty.call(_e.prototype,e)&&(t[e]=_e.prototype[e]);return t}(t)}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Se(){this._defaults=[]}_e.prototype.get=function(t){return this.header[t.toLowerCase()]},_e.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=e.split(/ *; */).shift();var n=function(t){return t.split(/ *; */).reduce((function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t}),{})}(e);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(this[r]=n[r]);this.links={};try{t.link&&(this.links=function(t){return t.split(/ *, */).reduce((function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t}),{})}(t.link))}catch(t){}},_e.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(t){Se.prototype[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._defaults.push({fn:t,args:n}),this}})),Se.prototype._setDefaults=function(t){this._defaults.forEach((function(e){t[e.fn].apply(t,function(t){return function(t){if(Array.isArray(t))return we(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return we(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.args))}))};for(var xe=Se,ke=i((function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;function i(){}"undefined"!=typeof window?r=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),r=void 0):r=self,t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1===arguments.length?new e.Request("GET",t):new e.Request(t,n)};var o=e=t.exports;e.Request=h,o.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!==r.location.protocol||!r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var s="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function a(t){if(!de(t))return t;var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&c(e,n,t[n]);return e.join("&")}function c(t,e,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){c(t,e,n)}));else if(de(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&c(t,"".concat(e,"[").concat(r,"]"),n[r]);else t.push(encodeURI(e)+"="+encodeURIComponent(n));else t.push(encodeURI(e))}function u(t){for(var e,n,r={},i=t.split("&"),o=0,s=i.length;o<s;++o)-1===(n=(e=i[o]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function l(t){return/[/+]json($|[^-\w])/.test(t)}function f(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,n,r,i,o=t.split(/\r?\n/),a={},c=0,u=o.length;c<u;++c)-1!==(e=(n=o[c]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),i=s(n.slice(e+1)),a[r]=i);return a}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,r=null;try{r=new f(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)}))}function p(t,e,n){var r=o("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}o.serializeObject=a,o.parseString=u,o.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},o.serialize={"application/x-www-form-urlencoded":a,"application/json":se},o.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},ge(f.prototype),f.prototype._parseBody=function(t){var e=o.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&l(this.type)&&(e=o.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},f.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot ".concat(e," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},o.Response=f,oe(h.prototype),me(h.prototype),h.prototype.type=function(t){return this.set("Content-Type",o.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",o.types[t]||t),this},h.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"===n(e)&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var i=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,i)},h.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,n){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},h.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},h.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},h.prototype.ca=h.prototype.agent,h.prototype.buffer=h.prototype.ca,h.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},h.prototype.pipe=h.prototype.write,h.prototype._isHost=function(t){return t&&"object"===n(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},h.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||i,this._finalizeQueryString(),this._end()},h.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},h.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=o.getXHR();var e=this.xhr,n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(t._uploadTimeoutTimer)),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.addEventListener("progress",r.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",r.bind(null,"upload"))}catch(t){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],s=this._serializer||o.serialize[i?i.split(";")[0]:""];!s&&l(i)&&(s=o.serialize["application/json"]),s&&(n=s(n))}for(var a in this.header)null!==this.header[a]&&Object.prototype.hasOwnProperty.call(this.header,a)&&e.setRequestHeader(a,this.header[a]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===n?null:n)},o.agent=function(){return new xe},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){xe.prototype[t.toLowerCase()]=function(e,n){var r=new o.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}})),xe.prototype.del=xe.prototype.delete,o.get=function(t,e,n){var r=o("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},o.head=function(t,e,n){var r=o("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},o.options=function(t,e,n){var r=o("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.del=p,o.delete=p,o.patch=function(t,e,n){var r=o("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.post=function(t,e,n){var r=o("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},o.put=function(t,e,n){var r=o("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}})),Ee=(ke.Request,[]),Oe=[],Ae=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Me=0,Ce=Ae.length;Me<Ce;++Me)Ee[Me]=Ae[Me],Oe[Ae.charCodeAt(Me)]=Me;function je(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&e,[n,n===e?0:4-n%4]}function Te(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(Ee[(i=r)>>18&63]+Ee[i>>12&63]+Ee[i>>6&63]+Ee[63&i]);return o.join("")}Oe["-".charCodeAt(0)]=62,Oe["_".charCodeAt(0)]=63;var Ie=function(t){for(var e,n=t.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(Te(t,o,o+16383>s?s:o+16383));return 1===r?(e=t[n-1],i.push(Ee[e>>2]+Ee[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(Ee[e>>10]+Ee[e>>4&63]+Ee[e<<2&63]+"=")),i.join("")},Pe=function(t){return Ie(function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)).replace(/\+/g,"-").replace(/\//g,"_")},Fe={raw:"9.17.0"},Re=Object.prototype.toString;function De(t,e,n,r){if(n="array"===n?"object":n,t&&typeof t[e]!==n)throw new Error(r)}function Be(t,e,n){if(typeof t!==e)throw new Error(n)}function Ne(t,e,n){if(-1===e.indexOf(t))throw new Error(n)}var Le={check:function(t,e,n){if(e.optional&&!t||Be(t,e.type,e.message),"object"===e.type&&n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i];n[o].optional&&!t[o]||n[o].condition&&!n[o].condition(t)||(De(t,o,n[o].type,n[o].message),n[o].values&&Ne(t[o],n[o].values,n[o].value_message))}},attribute:De,variable:Be,value:Ne,isArray:function(t){return this.supportsIsArray()?Array.isArray(t):"[object Array]"===Re.call(t)},supportsIsArray:function(){return null!=Array.isArray}};function qe(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i=Object.keys(Object(r)),o=0,s=i.length;o<s;o++){var a=i[o],c=Object.getOwnPropertyDescriptor(r,a);void 0!==c&&c.enumerable&&(e[a]=r[a])}}return e}var Ue=function(){return Object.assign?Object.assign:qe};function ze(t,e){return e.reduce((function(e,n){return t[n]&&(e[n]=t[n]),e}),{})}function Ve(t){var e=[];for(var n in t)e.push(t[n]);return e}function He(){var t=Ve(arguments);return t.unshift({}),Ue().apply(void 0,t)}function We(t){var e=t.match(/^(https?:|file:|chrome-extension:)\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return e&&{href:t,protocol:e[1],host:e[2],hostname:e[3],port:e[4],pathname:e[5],search:e[6],hash:e[7]}}function Ke(t,e){var n=He(t);return t[e]&&(n[e]=t[e].trim()),n}var Ge={toSnakeCase:function t(e,n){return"object"!=typeof e||Le.isArray(e)||null===e?e:(n=n||[],Object.keys(e).reduce((function(r,i){return r[-1===n.indexOf(i)?function(t){for(var e,n="",r=0,i=!0,o=!0;r<t.length;)e=t.charCodeAt(r),!o&&e>=65&&e<=90||!i&&e>=48&&e<=57?(n+="_",n+=t[r].toLowerCase()):n+=t[r].toLowerCase(),i=e>=48&&e<=57,o=e>=65&&e<=90,r++;return n}(i):i]=t(e[i]),r}),{}))},toCamelCase:function t(e,n,r){return"object"!=typeof e||Le.isArray(e)||null===e?e:(n=n||[],r=r||{},Object.keys(e).reduce((function(i,o){var s,a=-1===n.indexOf(o)?(s=o.split("_")).reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}),s.shift()):o;return i[a]=t(e[a]||e[o],[],r),r.keepOriginal&&(i[o]=t(e[o],[],r)),i}),{}))},blacklist:function(t,e){return Object.keys(t).reduce((function(n,r){return-1===e.indexOf(r)&&(n[r]=t[r]),n}),{})},merge:function(t,e){return{base:e?ze(t,e):t,with:function(t,e){return t=e?ze(t,e):t,He(this.base,t)}}},pick:ze,getKeysNotIn:function(t,e){var n=[];for(var r in t)-1===e.indexOf(r)&&n.push(r);return n},extend:He,getOriginFromUrl:function(t){if(t){var e=We(t);if(!e)return null;var n=e.protocol+"//"+e.hostname;return e.port&&(n+=":"+e.port),n}},getLocationFromUrl:We,trimUserDetails:function(t){return function(t,e){return["username","email","phoneNumber"].reduce(Ke,t)}(t)},updatePropertyOn:function t(e,n,r){"string"==typeof n&&(n=n.split("."));var i=n[0];e.hasOwnProperty(i)&&(1===n.length?e[i]=r:t(e[i],n.slice(1),r))}};function $e(t){this.request=t,this.method=t.method,this.url=t.url,this.body=t._data,this.headers=t._header}function Je(t){this.request=t}function Ye(t){this._sendTelemetry=!1!==t._sendTelemetry||t._sendTelemetry,this._telemetryInfo=t._telemetryInfo||null,this._timesToRetryFailedRequests=t._timesToRetryFailedRequests,this.headers=t.headers||{},this._universalLoginPage=t.universalLoginPage}function Xe(){return window}$e.prototype.abort=function(){this.request.abort()},$e.prototype.getMethod=function(){return this.method},$e.prototype.getBody=function(){return this.body},$e.prototype.getUrl=function(){return this.url},$e.prototype.getHeaders=function(){return this.headers},Je.prototype.set=function(t,e){return this.request=this.request.set(t,e),this},Je.prototype.send=function(t){return this.request=this.request.send(Ge.trimUserDetails(t)),this},Je.prototype.withCredentials=function(){return this.request=this.request.withCredentials(),this},Je.prototype.end=function(t){return this.request.end(t),new $e(this.request)},Ye.prototype.setCommonConfiguration=function(t,e){if(e=e||{},this._timesToRetryFailedRequests>0&&(t=t.retry(this._timesToRetryFailedRequests)),e.noHeaders)return t;var n=this.headers;t=t.set("Content-Type","application/json"),e.xRequestLanguage&&(t=t.set("X-Request-Language",e.xRequestLanguage));for(var r=Object.keys(this.headers),i=0;i<r.length;i++)t=t.set(r[i],n[r[i]]);return this._sendTelemetry&&(t=t.set("Auth0-Client",this.getTelemetryData())),t},Ye.prototype.getTelemetryData=function(){var t=this._universalLoginPage?"auth0.js-ulp":"auth0.js",e={name:t,version:Fe.raw};this._telemetryInfo&&((e=Ge.extend({},this._telemetryInfo)).env=Ge.extend({},this._telemetryInfo.env),e.env[t]=Fe.raw);var n=JSON.stringify(e);return Pe(n)},Ye.prototype.get=function(t,e){return new Je(this.setCommonConfiguration(ke.get(t),e))},Ye.prototype.post=function(t,e){return new Je(this.setCommonConfiguration(ke.post(t),e))},Ye.prototype.patch=function(t,e){return new Je(this.setCommonConfiguration(ke.patch(t),e))};var Qe={redirect:function(t){Xe().location=t},getDocument:function(){return Xe().document},getWindow:Xe,getOrigin:function(){var t=Xe().location,e=t.origin;return e||(e=Ge.getOriginFromUrl(t.href)),e}};function Ze(){}Ze.prototype.getItem=function(){return null},Ze.prototype.removeItem=function(){},Ze.prototype.setItem=function(){};var tn=i((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=e+"="+n+a}}function s(t,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(a[0]);if(c=(r.read||r)(c,u)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(i[u]=c,t===u)break}catch(t){}}return t?i[t]:i}}return i.set=o,i.get=function(t){return s(t,!1)},i.getJSON=function(t){return s(t,!0)},i.remove=function(e,n){o(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},t.exports=n()}));function en(){}function nn(t){this.disableWarnings=t.disableWarnings}function rn(t){if(this.warn=new nn({}),this.storage=new en,!0===t.__tryLocalStorageFirst)try{var e=Qe.getWindow().localStorage;e&&(this.storage=e)}catch(t){this.warn.warning(t),this.warn.warning("Can't use localStorage. Using CookieStorage instead.")}}function on(t){this.handler=new rn(t)}function sn(t){this.storage=new on(t)}function an(t,e){return{error:t,errorDescription:e}}en.prototype.getItem=function(t){return tn.get(t)},en.prototype.removeItem=function(t){tn.remove(t)},en.prototype.setItem=function(t,e,n){var r=Ge.extend({expires:1},n);"https:"===Qe.getWindow().location.protocol&&(r.secure=!0),tn.set(t,e,r)},nn.prototype.warning=function(t){this.disableWarnings||console.warn(t)},rn.prototype.failover=function(){this.storage instanceof Ze?this.warn.warning("DummyStorage: ignore failover"):this.storage instanceof en?(this.warn.warning("CookieStorage: failing over DummyStorage"),this.storage=new Ze):(this.warn.warning("LocalStorage: failing over CookieStorage"),this.storage=new en)},rn.prototype.getItem=function(t){try{return this.storage.getItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.getItem(t)}},rn.prototype.removeItem=function(t){try{return this.storage.removeItem(t)}catch(e){return this.warn.warning(e),this.failover(),this.removeItem(t)}},rn.prototype.setItem=function(t,e,n){try{return this.storage.setItem(t,e,n)}catch(r){return this.warn.warning(r),this.failover(),this.setItem(t,e,n)}},on.prototype.getItem=function(t){var e=this.handler.getItem(t);try{return JSON.parse(e)}catch(t){return e}},on.prototype.removeItem=function(t){return this.handler.removeItem(t)},on.prototype.setItem=function(t,e,n){var r=JSON.stringify(e);return this.handler.setItem(t,r,n)},sn.prototype.set=function(t,e){var n={lastUsedConnection:t,lastUsedSub:e};this.storage.setItem("auth0.ssodata",JSON.stringify(n))},sn.prototype.get=function(){var t=this.storage.getItem("auth0.ssodata");if(t)return JSON.parse(t)};var cn={buildResponse:an,invalidToken:function(t){return an("invalid_token",t)}};function un(t,e){return(e=e||{}).ignoreCasing=!!e.ignoreCasing&&e.ignoreCasing,function(n,r){var i;return n||r?(!n&&r.err&&(n=r.err,r=null),!n&&r.error&&(n=r,r=null),n?(i={original:n},Ge.updatePropertyOn(i,"original.response.req._data.password","*****"),n.response&&n.response.statusCode&&(i.statusCode=n.response.statusCode),n.response&&n.response.statusText&&(i.statusText=n.response.statusText),n.response&&n.response.body&&(n=n.response.body),n.err&&(n=n.err),i.code=n.code||n.error||n.error_code||n.status||null,i.description=n.errorDescription||n.error_description||n.description||n.error||n.details||n.err||null,e.forceLegacyError&&(i.error=i.code,i.error_description=i.description),n.error_codes&&n.error_details&&(i.errorDetails={codes:n.error_codes,details:n.error_details}),n.name&&(i.name=n.name),n.policy&&(i.policy=n.policy),t(i)):!r.type||"text/html"!==r.type&&"text/plain"!==r.type?e.ignoreCasing?t(null,r.body||r):t(null,Ge.toCamelCase(r.body||r,[],{keepOriginal:e.keepOriginalCasing})):t(null,r.text)):t(cn.buildResponse("generic_error","Something went wrong"))}}var ln=["realm","audience","otp","client_id","client_secret","redirect_uri","scope","code","grant_type","username","password","refresh_token","assertion","client_assertion","client_assertion_type","code_verifier"],fn=["connection","connection_scope","auth0Client","owp","device","realm","organization","invitation","protocol","_csrf","_intstate","login_ticket","client_id","response_type","response_mode","redirect_uri","audience","scope","state","nonce","display","prompt","screen_hint","max_age","ui_locales","claims_locales","id_token_hint","login_hint","acr_values","claims","registration","request","request_uri","code_challenge","code_challenge_method","access_type","display"],hn=function(t,e){return Ge.pick(e,ln)},pn=function(t,e){var n=Ge.getKeysNotIn(e,fn);return n.length>0&&t.warning("Following parameters are not allowed on the `/authorize` endpoint: ["+n.join(",")+"]"),e},dn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function bn(t){var e={exports:{}};return t(e,e.exports),e.exports}var mn=bn((function(t,e){t.exports=function(){function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,i=void 0,o=void 0,s=function(t,e){p[r]=t,p[r+1]=e,2===(r+=2)&&(o?o(d):g())},a="undefined"!=typeof window?window:void 0,c=a||{},u=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(d,1)}}var p=new Array(1e3);function d(){for(var t=0;t<r;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;r=0}var b,m,y,v,g=void 0;function _(t,e){var n=this,r=new this.constructor(x);void 0===r[S]&&F(r);var i=n._state;if(i){var o=arguments[i-1];s((function(){return I(i,r,o,n._result)}))}else j(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(x);return O(e,t),e}g=l?function(){return n.nextTick(d)}:u?(m=0,y=new u(d),v=document.createTextNode(""),y.observe(v,{characterData:!0}),function(){v.data=m=++m%2}):f?((b=new MessageChannel).port1.onmessage=d,function(){return b.port2.postMessage(0)}):void 0===a?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(d)}:h()}catch(t){return h()}}():h();var S=Math.random().toString(36).substring(2);function x(){}var k=void 0;function E(e,n,r){n.constructor===e.constructor&&r===_&&n.constructor.resolve===w?function(t,e){1===e._state?M(t,e._result):2===e._state?C(t,e._result):j(e,void 0,(function(e){return O(t,e)}),(function(e){return C(t,e)}))}(e,n):void 0===r?M(e,n):t(r)?function(t,e,n){s((function(t){var r=!1,i=function(n,i,o,s){try{n.call(i,(function(n){r||(r=!0,e!==n?O(t,n):M(t,n))}),(function(e){r||(r=!0,C(t,e))}))}catch(t){return t}}(n,e);!r&&i&&(r=!0,C(t,i))}),t)}(e,n,r):M(e,n)}function O(t,e){if(t===e)C(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=e),null===r||"object"!==i&&"function"!==i)M(t,e);else{var n=void 0;try{n=e.then}catch(e){return void C(t,e)}E(t,e,n)}var r,i}function A(t){t._onerror&&t._onerror(t._result),T(t)}function M(t,e){t._state===k&&(t._result=e,t._state=1,0!==t._subscribers.length&&s(T,t))}function C(t,e){t._state===k&&(t._state=2,t._result=e,s(A,t))}function j(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+1]=n,i[o+2]=r,0===o&&t._state&&s(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s+n],(r=e[s])?I(n,r,i,o):i(o);t._subscribers.length=0}}function I(e,n,r,i){var o=t(r),s=void 0,a=void 0,c=!0;if(o){try{s=r(i)}catch(e){c=!1,a=e}if(n===s)return void C(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;n._state!==k||(o&&c?O(n,s):!1===c?C(n,a):1===e?M(n,s):2===e&&C(n,s))}var P=0;function F(t){t[S]=P++,t._state=void 0,t._result=void 0,t._subscribers=[]}var R=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(x),this.promise[S]||F(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&M(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===k&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(t){s=!0,o=t}if(i===_&&t._state!==k)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===D){var a=new n(x);s?C(a,o):E(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===k&&(this._remaining--,2===t?C(r,n):this._result[e]=n),0===this._remaining&&M(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),D=function(){function e(t){this[S]=P++,this._result=this._state=void 0,this._subscribers=[],x!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){O(t,e)}),(function(e){C(t,e)}))}catch(e){C(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return D.prototype.then=_,D.all=function(t){return new R(this,t).promise},D.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var i=t.length,o=0;o<i;o++)n.resolve(t[o]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},D.resolve=w,D.reject=function(t){var e=new this(x);return C(e,t),e},D._setScheduler=function(t){o=t},D._setAsap=function(t){s=t},D._asap=s,D.polyfill=function(){var t=void 0;if(void 0!==dn)t=dn;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D},D.Promise=D,D}()})),yn={__proto__:null,default:{}},vn=bn((function(t,e){var n;t.exports=n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==dn&&dn.crypto&&(n=dn.crypto),!n)try{n=yn}catch(t){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),o={},s=o.lib={},a=s.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)e[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(var s=0;s<i;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(r());return new c.init(e,t)}}),u=o.enc={},l=u.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new c.init(n,e/2)}},f=u.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new c.init(n,e)}},h=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,l=t.min(4*u,o);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=l}return new c.init(n,l)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});s.Hasher=p.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}});var d=o.algo={};return o}(Math)})),gn=bn((function(t,e){var n;t.exports=(n=vn,function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],f=n[6],h=n[7],p=0;p<64;p++){if(p<16)u[p]=0|t[e+p];else{var d=u[p-15],b=u[p-2];u[p]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+u[p-7]+((b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10)+u[p-16]}var m=r&i^r&o^i&o,y=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+c[p]+u[p];h=f,f=l,l=a,a=s+y|0,s=o,o=i,i=r,r=y+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)})),_n=bn((function(t,e){var n,r;t.exports=(r=(n=vn).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,n){for(var i=[],o=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2,c=n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return r.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)})),wn=bn((function(t,e){t.exports=vn.enc.Hex})),Sn=bn((function(t,e){(function(){var e;function n(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function r(){return new n(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],u=this[t++]>>15,l=a*c+u*s;i=((c=s*c+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*u+(i>>>30),n[r++]=1073741823&c}return i},e=30):i&&"Netscape"!=navigator.appName?(n.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},e=26):(n.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],u=this[t++]>>14,l=a*c+u*s;i=((c=s*c+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*u,n[r++]=268435455&c}return i},e=28),n.prototype.DB=e,n.prototype.DM=(1<<e)-1,n.prototype.DV=1<<e,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-e,n.prototype.F2=2*e-52;var o,s,a=new Array;for(o="0".charCodeAt(0),s=0;s<=9;++s)a[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)a[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)a[o++]=s;function c(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function u(t,e){var n=a[t.charCodeAt(e)];return null==n?-1:n}function l(t){var e=r();return e.fromInt(t),e}function f(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function h(t){this.m=t}function p(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function d(t,e){return t&e}function b(t,e){return t|e}function m(t,e){return t^e}function y(t,e){return t&~e}function v(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function g(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function _(){}function w(t){return t}function S(t){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}h.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},h.prototype.revert=function(t){return t},h.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},h.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},h.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},p.prototype.convert=function(t){var e=r();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e},p.prototype.revert=function(t){var e=r();return t.copyTo(e),this.reduce(e),e},p.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},p.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},p.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},n.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},n.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},n.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==r?255&t[i]:u(t,i);a<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},n.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},n.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},n.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},n.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},n.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},n.prototype.multiplyTo=function(t,e){var r=this.abs(),i=t.abs(),o=r.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+r.t]=r.am(0,i[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)},n.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},n.prototype.divRemTo=function(t,e,i){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var a=r(),c=this.s,u=t.s,l=this.DB-f(o[o.t-1]);l>0?(o.lShiftTo(l,a),s.lShiftTo(l,i)):(o.copyTo(a),s.copyTo(i));var h=a.t,p=a[h-1];if(0!=p){var d=p*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),b=this.FV/d,m=(1<<this.F1)/d,y=1<<this.F2,v=i.t,g=v-h,_=null==e?r():e;for(a.dlShiftTo(g,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),n.ONE.dlShiftTo(h,_),_.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--g>=0;){var w=i[--v]==p?this.DM:Math.floor(i[v]*b+(i[v-1]+y)*m);if((i[v]+=a.am(0,w,i,g,0,h))<w)for(a.dlShiftTo(g,_),i.subTo(_,i);i[v]<--w;)i.subTo(_,i)}null!=e&&(i.drShiftTo(h,e),c!=u&&n.ZERO.subTo(e,e)),i.t=h,i.clamp(),l>0&&i.rShiftTo(l,i),c<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(t,e){if(t>4294967295||t<1)return n.ONE;var i=r(),o=r(),s=e.convert(this),a=f(t)-1;for(s.copyTo(i);--a>=0;)if(e.sqrTo(i,o),(t&1<<a)>0)e.mulTo(o,s,i);else{var c=i;i=o,o=c}return e.revert(i)},n.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=c(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=c(n));return i?o:"0"},n.prototype.negate=function(){var t=r();return n.ZERO.subTo(this,t),t},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(t){var e=r();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e},n.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new h(e):new p(e),this.exp(t,n)},n.ZERO=l(0),n.ONE=l(1),_.prototype.convert=w,_.prototype.revert=w,_.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},_.prototype.sqrTo=function(t,e){t.squareTo(e)},S.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=r();return t.copyTo(e),this.reduce(e),e},S.prototype.revert=function(t){return t},S.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},S.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},S.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var x,k,E,O=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],A=(1<<26)/O[O.length-1];function M(){var t;t=(new Date).getTime(),k[E++]^=255&t,k[E++]^=t>>8&255,k[E++]^=t>>16&255,k[E++]^=t>>24&255,E>=R&&(E-=R)}if(n.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},n.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=l(n),o=r(),s=r(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(t)+a},n.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),o=!1,s=0,a=0,c=0;c<t.length;++c){var l=u(t,c);l<0?"-"==t.charAt(c)&&0==this.signum()&&(o=!0):(a=e*a+l,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),b,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},n.prototype.changeBit=function(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},n.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},n.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},n.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},n.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},n.prototype.millerRabin=function(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var o=e.shiftRight(i);(t=t+1>>1)>O.length&&(t=O.length);for(var s=r(),a=0;a<t;++a){s.fromInt(O[Math.floor(Math.random()*O.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(n.ONE)&&0!=c.compareTo(e)){for(var u=1;u++<i&&0!=c.compareTo(e);)if(0==(c=c.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=c.compareTo(e))return!1}}return!0},n.prototype.clone=function(){var t=r();return this.copyTo(t),t},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},n.prototype.equals=function(t){return 0==this.compareTo(t)},n.prototype.min=function(t){return this.compareTo(t)<0?this:t},n.prototype.max=function(t){return this.compareTo(t)>0?this:t},n.prototype.and=function(t){var e=r();return this.bitwiseTo(t,d,e),e},n.prototype.or=function(t){var e=r();return this.bitwiseTo(t,b,e),e},n.prototype.xor=function(t){var e=r();return this.bitwiseTo(t,m,e),e},n.prototype.andNot=function(t){var e=r();return this.bitwiseTo(t,y,e),e},n.prototype.not=function(){for(var t=r(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},n.prototype.shiftLeft=function(t){var e=r();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},n.prototype.shiftRight=function(t){var e=r();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},n.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+v(this[t]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=g(this[n]^e);return t},n.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},n.prototype.setBit=function(t){return this.changeBit(t,b)},n.prototype.clearBit=function(t){return this.changeBit(t,y)},n.prototype.flipBit=function(t){return this.changeBit(t,m)},n.prototype.add=function(t){var e=r();return this.addTo(t,e),e},n.prototype.subtract=function(t){var e=r();return this.subTo(t,e),e},n.prototype.multiply=function(t){var e=r();return this.multiplyTo(t,e),e},n.prototype.divide=function(t){var e=r();return this.divRemTo(t,e,null),e},n.prototype.remainder=function(t){var e=r();return this.divRemTo(t,null,e),e},n.prototype.divideAndRemainder=function(t){var e=r(),n=r();return this.divRemTo(t,e,n),new Array(e,n)},n.prototype.modPow=function(t,e){var n,i,o=t.bitLength(),s=l(1);if(o<=0)return s;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new h(e):e.isEven()?new S(e):new p(e);var a=new Array,c=3,u=n-1,d=(1<<n)-1;if(a[1]=i.convert(this),n>1){var b=r();for(i.sqrTo(a[1],b);c<=d;)a[c]=r(),i.mulTo(b,a[c-2],a[c]),c+=2}var m,y,v=t.t-1,g=!0,_=r();for(o=f(t[v])-1;v>=0;){for(o>=u?m=t[v]>>o-u&d:(m=(t[v]&(1<<o+1)-1)<<u-o,v>0&&(m|=t[v-1]>>this.DB+o-u)),c=n;0==(1&m);)m>>=1,--c;if((o-=c)<0&&(o+=this.DB,--v),g)a[m].copyTo(s),g=!1;else{for(;c>1;)i.sqrTo(s,_),i.sqrTo(_,s),c-=2;c>0?i.sqrTo(s,_):(y=s,s=_,_=y),i.mulTo(_,a[m],s)}for(;v>=0&&0==(t[v]&1<<o);)i.sqrTo(s,_),y=s,s=_,_=y,--o<0&&(o=this.DB-1,--v)}return i.revert(s)},n.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),o=l(1),s=l(0),a=l(0),c=l(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),e&&o.subTo(a,o),s.subTo(c,s)):(i.subTo(r,i),e&&a.subTo(o,a),c.subTo(s,c))}return 0!=i.compareTo(n.ONE)?n.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},n.prototype.pow=function(t){return this.exp(t,new _)},n.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=O[O.length-1]){for(e=0;e<O.length;++e)if(n[0]==O[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<O.length;){for(var r=O[e],i=e+1;i<O.length&&r<A;)r*=O[i++];for(r=n.modInt(r);e<i;)if(r%O[e++]==0)return!1}return n.millerRabin(t)},n.prototype.square=function(){var t=r();return this.squareTo(t),t},n.prototype.Barrett=S,null==k){var C;if(k=new Array,E=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var j=new Uint8Array(32);for(window.crypto.getRandomValues(j),C=0;C<32;++C)k[E++]=j[C]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var T=window.crypto.random(32);for(C=0;C<T.length;++C)k[E++]=255&T.charCodeAt(C)}for(;E<R;)C=Math.floor(65536*Math.random()),k[E++]=C>>>8,k[E++]=255&C;E=0,M()}function I(){if(null==x){for(M(),(x=new F).init(k),E=0;E<k.length;++E)k[E]=0;E=0}return x.next()}function P(){}function F(){this.i=0,this.j=0,this.S=new Array}P.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=I()},F.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)r=this.S[e],this.S[e]=this.S[n=n+this.S[e]+t[e%t.length]&255],this.S[n]=r;this.i=0,this.j=0},F.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var R=256;t.exports={default:n,BigInteger:n,SecureRandom:P}}).call(dn)})),xn={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},kn={sha256:gn};function En(t,e){if(this.n=null,this.e=0,!(null!=t&&null!=e&&t.length>0&&e.length>0))throw new Error("Invalid key data");this.n=new Sn.BigInteger(t,16),this.e=parseInt(e,16)}En.prototype.verify=function(t,e){e=e.replace(/[^0-9a-f]|[\s\n]]/gi,"");var n=new Sn.BigInteger(e,16);if(n.bitLength()>this.n.bitLength())throw new Error("Signature does not match with the key modulus.");var r=function(t){for(var e in xn){var n=xn[e],r=n.length;if(t.substring(0,r)===n)return{alg:e,hash:t.substring(r)}}return[]}(n.modPowInt(this.e,this.n).toString(16).replace(/^1f+00/,""));if(0===r.length)return!1;if(!kn.hasOwnProperty(r.alg))throw new Error("Hashing algorithm is not supported.");var i=kn[r.alg](t).toString();return r.hash===i};for(var On=[],An=[],Mn="undefined"!=typeof Uint8Array?Uint8Array:Array,Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jn=0,Tn=Cn.length;jn<Tn;++jn)On[jn]=Cn[jn],An[Cn.charCodeAt(jn)]=jn;An["-".charCodeAt(0)]=62,An["_".charCodeAt(0)]=63;var In=function(t){var e,n,r=function(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}(t),i=r[0],o=r[1],s=new Mn(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)e=An[t.charCodeAt(n)]<<18|An[t.charCodeAt(n+1)]<<12|An[t.charCodeAt(n+2)]<<6|An[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===o&&(e=An[t.charCodeAt(n)]<<2|An[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===o&&(e=An[t.charCodeAt(n)]<<10|An[t.charCodeAt(n+1)]<<4|An[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s};function Pn(t){var e=t.length%4;return 0===e?t:t+new Array(4-e+1).join("=")}function Fn(t){return t=Pn(t).replace(/\-/g,"+").replace(/_/g,"/"),decodeURIComponent(function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}(In(t)).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function Rn(t){return function(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);e+=2===r.length?r:"0"+r}return e}(In(Pn(t)))}var Dn=bn((function(t){var e,n;e=dn,n=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0]=t[0].match(/^file:\/\/\//)?t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=i.replace(/[\/]+$/,r<t.length-1?"":"/"),e.push(i))}var o=e.join("/"),s=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}return function(){return t("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=n():e.urljoin=n()}));function Bn(t,e){return e=e||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var u in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),s.push([e,n]),a[e]=a[e]?a[e]+","+n:n})),n(c())},i.onerror=r,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(u,e.headers[u]);i.send(e.body||null)}))}function Nn(t){if(t.ok)return t.json();var e=new Error(t.statusText);return e.response=t,Promise.reject(e)}function Ln(t){this.name="ConfigurationError",this.message=t||""}function qn(t){this.name="TokenValidationError",this.message=t||""}Ln.prototype=Error.prototype,qn.prototype=Error.prototype;var Un=function(){function t(){}var e=t.prototype;return e.get=function(){return null},e.has=function(){return null},e.set=function(){return null},t}();mn.polyfill();var zn=function(t){return"number"==typeof t},Vn=function(){return new Date};function Hn(t){var e=t||{};if(this.jwksCache=e.jwksCache||new Un,this.expectedAlg=e.expectedAlg||"RS256",this.issuer=e.issuer,this.audience=e.audience,this.leeway=0===e.leeway?0:e.leeway||60,this.jwksURI=e.jwksURI,this.maxAge=e.maxAge,this.__clock="function"==typeof e.__clock?e.__clock:Vn,this.leeway<0||this.leeway>300)throw new Ln("The leeway should be positive and lower than five minutes.");if("RS256"!==this.expectedAlg)throw new Ln('Signature algorithm of "'+this.expectedAlg+'" is not supported. Expected the ID token to be signed with "RS256".')}function Wn(t,e){this.plugins=e;for(var n=0;n<this.plugins.length;n++){if(this.plugins[n].version!==Fe.raw){var r="";throw this.plugins[n].constructor&&this.plugins[n].constructor.name&&(r=this.plugins[n].constructor.name),new Error("Plugin "+r+" version ("+this.plugins[n].version+") is not compatible with the SDK version ("+Fe.raw+")")}this.plugins[n].setWebAuth(t)}}Hn.prototype.verify=function(t,e,n){if(!n&&e&&"function"==typeof e&&(n=e,e=void 0),!t)return n(new qn("ID token is required but missing"),null);var r=this.decode(t);if(r instanceof Error)return n(new qn("ID token could not be decoded"),null);var i=r.encoded.header+"."+r.encoded.payload,o=Rn(r.encoded.signature),s=r.header.alg,a=r.header.kid,c=r.payload.aud,u=r.payload.sub,l=r.payload.iss,f=r.payload.exp,h=r.payload.nbf,p=r.payload.iat,d=r.payload.azp,b=r.payload.auth_time,m=r.payload.nonce,y=this.__clock(),v=this;if(v.expectedAlg!==s)return n(new qn('Signature algorithm of "'+s+'" is not supported. Expected the ID token to be signed with "RS256".'),null);this.getRsaVerifier(l,a,(function(t,s){if(t)return n(t,null);if(!s.verify(i,o))return n(new qn("Invalid ID token signature."),null);if(!l||"string"!=typeof l)return n(new qn("Issuer (iss) claim must be a string present in the ID token"),null);if(v.issuer!==l)return n(new qn('Issuer (iss) claim mismatch in the ID token, expected "'+v.issuer+'", found "'+l+'"'),null);if(!u||"string"!=typeof u)return n(new qn("Subject (sub) claim must be a string present in the ID token"),null);if(!c||"string"!=typeof c&&!Array.isArray(c))return n(new qn("Audience (aud) claim must be a string or array of strings present in the ID token"),null);if(Array.isArray(c)&&!c.includes(v.audience))return n(new qn('Audience (aud) claim mismatch in the ID token; expected "'+v.audience+'" but was not one of "'+c.join(", ")+'"'),null);if("string"==typeof c&&v.audience!==c)return n(new qn('Audience (aud) claim mismatch in the ID token; expected "'+v.audience+'" but found "'+c+'"'),null);if(e){if(!m||"string"!=typeof m)return n(new qn("Nonce (nonce) claim must be a string present in the ID token"),null);if(m!==e)return n(new qn('Nonce (nonce) claim value mismatch in the ID token; expected "'+e+'", found "'+m+'"'),null)}if(Array.isArray(c)&&c.length>1){if(!d||"string"!=typeof d)return n(new qn("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values"),null);if(d!==v.audience)return n(new qn('Authorized Party (azp) claim mismatch in the ID token; expected "'+v.audience+'", found "'+d+'"'),null)}if(!f||!zn(f))return n(new qn("Expiration Time (exp) claim must be a number present in the ID token"),null);if(!p||!zn(p))return n(new qn("Issued At (iat) claim must be a number present in the ID token"),null);var a=f+v.leeway,g=new Date(0);if(g.setUTCSeconds(a),y>g)return n(new qn('Expiration Time (exp) claim error in the ID token; current time "'+y+'" is after expiration time "'+g+'"'),null);if(h&&zn(h)){var _=h-v.leeway,w=new Date(0);if(w.setUTCSeconds(_),y<w)return n(new qn('Not Before Time (nbf) claim error in the ID token; current time "'+y+'" is before the not before time "'+w+'"'),null)}if(v.maxAge){if(!b||!zn(b))return n(new qn("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified"),null);var S=b+v.maxAge+v.leeway,x=new Date(0);if(x.setUTCSeconds(S),y>x)return n(new qn('Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time "'+y+'" is after last auth time at "'+x+'"'),null)}return n(null,r.payload)}))},Hn.prototype.getRsaVerifier=function(t,e,n){var r=this,i=t+e;Promise.resolve(this.jwksCache.has(i)).then((function(n){return n?r.jwksCache.get(i):(o={jwksURI:r.jwksURI,iss:t,kid:e},("undefined"==typeof fetch?Bn:fetch)(o.jwksURI||Dn(o.iss,".well-known","jwks.json")).then(Nn).then((function(t){var e,n,r,i=null;for(e=0;e<t.keys.length&&null===i;e++)(n=t.keys[e]).kid===o.kid&&(i=n);if(!i)throw new Error('Could not find a public key for Key ID (kid) "'+o.kid+'"');return{modulus:Rn((r=i).n),exp:Rn(r.e)}})).catch((function(t){throw t})));var o})).then((function(t){if(!t||!t.modulus||!t.exp)throw new Error("Empty keyInfo in response");return Promise.resolve(r.jwksCache.set(i,t)).then((function(){n&&n(null,new En(t.modulus,t.exp))}))})).catch((function(t){n&&n(t)}))},Hn.prototype.decode=function(t){var e,n,r=t.split(".");if(3!==r.length)return new qn("Cannot decode a malformed JWT");try{e=JSON.parse(Fn(r[0])),n=JSON.parse(Fn(r[1]))}catch(t){return new qn("Token header or payload is not valid JSON")}return{header:e,payload:n,encoded:{header:r[0],payload:r[1],signature:r[2]}}},Hn.prototype.validateAccessToken=function(t,e,n,r){if(this.expectedAlg!==e)return r(new qn('Signature algorithm of "'+e+'" is not supported. Expected "'+this.expectedAlg+'"'));var i,o=gn(t),s=wn.stringify(o),a=s.substring(0,s.length/2),c=wn.parse(a),u=_n.stringify(c);return r((i={"+":"-","/":"_","=":""},u.replace(/[+/=]/g,(function(t){return i[t]}))!==n?new qn("Invalid access_token"):null))},Wn.prototype.get=function(t){for(var e=0;e<this.plugins.length;e++)if(this.plugins[e].supports(t))return this.plugins[e].init();return null};var Kn=function(t){var e=new Uint8Array(t),n=[],r="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvwxyz-._~",i=Qe.getWindow().crypto||Qe.getWindow().msCrypto;if(!i)return null;for(var o=i.getRandomValues(e),s=0;s<o.length;s++)n.push(r[o[s]%r.length]);return n.join("")};function Gn(t){var e=t.transaction||{};this.namespace=e.namespace||"com.auth0.auth.",this.keyLength=e.keyLength||32,this.storage=new on(t),this.options=t}function $n(t){if(this.url=t.url,this.callback=t.callback,this.timeout=t.timeout||6e4,this.timeoutCallback=t.timeoutCallback||null,this.eventListenerType=t.eventListenerType||"message",this.iframe=null,this.timeoutHandle=null,this._destroyTimeout=null,this.transientMessageEventListener=null,this.proxyEventListener=null,this.eventValidator=t.eventValidator||{isValid:function(){return!0}},"function"!=typeof this.callback)throw new Error("options.callback must be a function")}function Jn(t){this.webAuth=t,this.warn=new nn(t.baseOptions)}function Yn(t,e){this.webAuth=t,this.baseOptions=e,this.request=new Ye(e),this.webMessageHandler=new Jn(t),this.storage=new on(e)}function Xn(t,e){return["co/verifier",encodeURIComponent(t),encodeURIComponent(e)].join("/")}function Qn(t,e){this.webAuth=t,this.baseOptions=e,this.crossOriginAuthentication=new Yn(t,this.baseOptions),this.warn=new nn({disableWarnings:!!e._disableDeprecationWarnings})}Gn.prototype.process=function(t){if(!t.responseType)throw new Error("responseType is required");var e=t.realm||t.connection,n=-1!==t.responseType.indexOf("id_token"),r=this.generateTransaction(t.appState,t.state,t.nonce,e,n,t.organization);return t.state||(t.state=r.state),n&&!t.nonce&&(t.nonce=r.nonce),t},Gn.prototype.generateTransaction=function(t,e,n,r,i,o){if(e=e||Kn(this.keyLength),n=n||(i?Kn(this.keyLength):null),Qe.getWindow().location.host!==this.options.domain){var s={nonce:n,appState:t,state:e,lastUsedConnection:r};o&&(s.organization=o),this.storage.setItem(this.namespace+e,s,{expires:1/48})}return{state:e,nonce:n}},Gn.prototype.getStoredTransaction=function(t){var e;return e=this.storage.getItem(this.namespace+t),this.clearTransaction(t),e},Gn.prototype.clearTransaction=function(t){this.storage.removeItem(this.namespace+t)},$n.prototype.init=function(){var t=this,e=Qe.getWindow();switch(this.iframe=e.document.createElement("iframe"),this.iframe.style.display="none",this.proxyEventListener=function(e){t.eventListener(e)},this.eventListenerType){case"message":this.eventSourceObject=e;break;case"load":this.eventSourceObject=this.iframe;break;default:throw new Error("Unsupported event listener type: "+this.eventListenerType)}this.eventSourceObject.addEventListener(this.eventListenerType,this.proxyEventListener,!1),e.document.body.appendChild(this.iframe),this.iframe.src=this.url,this.timeoutHandle=setTimeout((function(){t.timeoutHandler()}),this.timeout)},$n.prototype.eventListener=function(t){var e={event:t,sourceObject:this.eventSourceObject};this.eventValidator.isValid(e)&&(this.destroy(),this.callback(e))},$n.prototype.timeoutHandler=function(){this.destroy(),this.timeoutCallback&&this.timeoutCallback()},$n.prototype.destroy=function(){var t=this;clearTimeout(this.timeoutHandle),this._destroyTimeout=setTimeout((function(){t.eventSourceObject.removeEventListener(t.eventListenerType,t.proxyEventListener,!1),t.iframe.parentNode&&t.iframe.parentNode.removeChild(t.iframe)}),0)},Jn.prototype.run=function(t,e){var n=this;t.responseMode="web_message",t.prompt="none";var r=Qe.getOrigin(),i=Ge.getOriginFromUrl(t.redirectUri);if(i&&r!==i)return e({error:"origin_mismatch",error_description:"The redirectUri's origin ("+i+") should match the window's origin ("+r+")."});!function(t,e,n){new $n({url:t,eventListenerType:"message",callback:function(t){n(null,t)},timeout:e.timeout,eventValidator:{isValid:function(t){return!(!t.event.data||"authorization_response"!==t.event.data.type||e.state!==t.event.data.response.state)}},timeoutCallback:function(){n({error:"timeout",error_description:"Timeout during executing web_message communication",state:e.state})}}).init()}(this.webAuth.client.buildAuthorizeUrl(t),t,(function(r,i){var o=r;if(!r&&i.event.data.response.error&&(o=i.event.data.response),!o){var s=i.event.data.response;return n.webAuth.validateAuthenticationResponse(t,s,e)}return"consent_required"===o.error&&"localhost"===Qe.getWindow().location.hostname&&n.warn.warning("Consent Required. Consent can't be skipped on localhost. Read more here: https://auth0.com/docs/api-auth/user-consent#skipping-consent-for-first-party-clients"),n.webAuth.transactionManager.clearTransaction(o.state),e(Ge.pick(o,["error","error_description"]))}))},Yn.prototype.login=function(t,e){var n=this,r=o(this.baseOptions.rootUrl,"/co/authenticate");t.username=t.username||t.email,delete t.email;var i={client_id:t.clientID||this.baseOptions.clientID,username:t.username};t.password&&(i.password=t.password),t.otp&&(i.otp=t.otp);var s=t.realm||this.baseOptions.realm;if(s){var a=t.credentialType||this.baseOptions.credentialType||"http://auth0.com/oauth/grant-type/password-realm";i.realm=s,i.credential_type=a}else i.credential_type="password";this.request.post(r).withCredentials().send(i).end((function(r,i){if(r){var o=r.response&&r.response.body||{error:"request_error",error_description:JSON.stringify(r)};return un(e,{forceLegacyError:!0})(o)}function s(){var r=!0===t.popup;t=Ge.blacklist(t,["password","credentialType","otp","popup","onRedirecting"]);var o=Ge.merge(t).with({loginTicket:i.body.login_ticket}),s=Xn(n.baseOptions.rootUrl,i.body.co_id);n.storage.setItem(s,i.body.co_verifier,{expires:1/96}),r?n.webMessageHandler.run(o,un(e,{forceLegacyError:!0})):n.webAuth.authorize(o)}"function"==typeof t.onRedirecting?t.onRedirecting(s):s()}))},Yn.prototype.callback=function(){var t=decodeURIComponent(function(t){var e=("&"+Qe.getWindow().location.hash.substring(1)).split("&origin=");if(2===e.length)return e.pop().split("&").shift()}()),e=Qe.getWindow(),n=this;e.addEventListener("message",(function(t){if("co_verifier_request"===t.data.type){var e=Xn(t.origin,t.data.request.id),r=function(t,e){try{var n=t.getItem(e);return t.removeItem(e),n||""}catch(t){return""}}(n.storage,e);t.source.postMessage({type:"co_verifier_response",response:{verifier:r}},t.origin)}})),e.parent.postMessage({type:"ready"},t)},Qn.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,delete t.connection,this.crossOriginAuthentication.login(t,e)},Qn.prototype.signupAndLogin=function(t,e){var n=this;return this.webAuth.client.dbConnection.signup(t,(function(r){return r?e(r):(t.realm=t.realm||t.connection,delete t.connection,n.webAuth.login(t,e))}))};var Zn=i((function(t){var e=function(){function t(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function e(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function n(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}var r=function(){if("undefined"==typeof navigator)return!1;var t=-1,e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)):e.indexOf("Trident")>-1&&null!==new RegExp("rv:([0-9]{2,2}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1)),t>=8}();return"undefined"!=typeof window&&window.JSON&&window.JSON.stringify&&window.JSON.parse&&window.postMessage?{open:function(i,o){if(!o)throw"missing required callback argument";var s,a;i.url||(s="missing required 'url' parameter"),i.relay_url||(s="missing required 'relay_url' parameter"),s&&setTimeout((function(){o(s)}),0),i.window_name||(i.window_name=null),i.window_features&&!function(){try{var t=navigator.userAgent;return-1!=t.indexOf("Fennec/")||-1!=t.indexOf("Firefox/")&&-1!=t.indexOf("Android")}catch(t){}return!1}()||(i.window_features=void 0);var c,u=i.origin||n(i.url);if(u!==n(i.relay_url))return setTimeout((function(){o("invalid arguments: origin of url and relay_url must match")}),0);r&&((a=document.createElement("iframe")).setAttribute("src",i.relay_url),a.style.display="none",a.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(a),c=a.contentWindow);var l=i.popup||window.open(i.url,i.window_name,i.window_features);i.popup&&(l.location.href=i.url),c||(c=l);var f=setInterval((function(){l&&l.closed&&(p(),o&&(o("User closed the popup window"),o=null))}),500),h=JSON.stringify({a:"request",d:i.params});function p(){if(a&&document.body.removeChild(a),a=void 0,f&&(f=clearInterval(f)),e(window,"message",d),e(window,"unload",p),l)try{l.close()}catch(t){c.postMessage("die",u)}l=c=void 0}function d(t){if(t.origin===u){try{var e=JSON.parse(t.data)}catch(t){if(o)return o(t);throw t}"ready"===e.a?c.postMessage(h,u):"error"===e.a?(p(),o&&(o(e.d),o=null)):"response"===e.a&&(p(),o&&(o(null,e.d),o=null))}}return t(window,"unload",p),t(window,"message",d),{originalPopup:l,close:p,focus:function(){if(l)try{l.focus()}catch(t){}}}},onOpen:function(n){var i="*",o=r?function(){for(var t=window.opener.frames,e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(t){}}():window.opener;if(!o)throw"can't find relay frame";function s(t){t=JSON.stringify(t),r?o.doPost(t,i):o.postMessage(t,i)}function a(t){if("die"===t.data)try{window.close()}catch(t){}}t(r?o:window,"message",(function t(r){var o;try{o=JSON.parse(r.data)}catch(t){}o&&"request"===o.a&&(e(window,"message",t),i=r.origin,n&&setTimeout((function(){n(i,o.d,(function(t){n=void 0,s({a:"response",d:t})}))}),0))})),t(r?o:window,"message",a);try{s({a:"ready"})}catch(e){t(o,"load",(function(t){s({a:"ready"})}))}var c=function(){try{e(r?o:window,"message",a)}catch(t){}n&&s({a:"error",d:"client closed window"}),n=void 0;try{window.close()}catch(t){}};return t(window,"unload",c),{detach:function(){e(window,"unload",c)}}}}:{open:function(t,e,n,r){setTimeout((function(){r("unsupported browser")}),0)},onOpen:function(t){setTimeout((function(){t("unsupported browser")}),0)}}}();t.exports&&(t.exports=e)})),tr=function(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[-_a-zA-Z.0-9:]+)/.exec(t);return e?e[1]:t};function er(){this._current_popup=null}function nr(t,e){this.baseOptions=e,this.baseOptions.popupOrigin=e.popupOrigin,this.client=t.client,this.webAuth=t,this.transactionManager=new Gn(this.baseOptions),this.crossOriginAuthentication=new Yn(t,this.baseOptions),this.warn=new nn({disableWarnings:!!e._disableDeprecationWarnings})}function rr(t){this.authenticationUrl=t.authenticationUrl,this.timeout=t.timeout||6e4,this.handler=null,this.postMessageDataType=t.postMessageDataType||!1,this.postMessageOrigin=t.postMessageOrigin||Qe.getWindow().location.origin||Qe.getWindow().location.protocol+"//"+Qe.getWindow().location.hostname+(Qe.getWindow().location.port?":"+Qe.getWindow().location.port:"")}function ir(t){this.baseOptions=t,this.request=new Ye(t),this.transactionManager=new Gn(this.baseOptions)}function or(t,e){this.baseOptions=e,this.client=t,this.baseOptions.universalLoginPage=!0,this.request=new Ye(this.baseOptions),this.warn=new nn({disableWarnings:!!e._disableDeprecationWarnings})}er.prototype.calculatePosition=function(t){var e=t.width||500,n=t.height||600,r=Qe.getWindow(),i=void 0!==r.screenX?r.screenX:r.screenLeft,o=void 0!==r.screenY?r.screenY:r.screenTop,s=void 0!==r.outerWidth?r.outerWidth:r.document.body.clientWidth,a=void 0!==r.outerHeight?r.outerHeight:r.document.body.clientHeight;return{width:e,height:n,left:t.left||i+(s-e)/2,top:t.top||o+(a-n)/2}},er.prototype.preload=function(t){var e=this,n=Qe.getWindow(),r=this.calculatePosition(t.popupOptions||{}),i=Ge.merge(r).with(t.popupOptions),o=t.url||"about:blank",s=ie(i,{encode:!1,delimiter:","});return this._current_popup&&!this._current_popup.closed||(this._current_popup=n.open(o,"auth0_signup_popup",s),this._current_popup.kill=function(){this.close(),e._current_popup=null}),this._current_popup},er.prototype.load=function(t,e,n,r){var i=this,o=this.calculatePosition(n.popupOptions||{}),s=Ge.merge(o).with(n.popupOptions),a=Ge.merge({url:t,relay_url:e,window_features:ie(s,{delimiter:",",encode:!1}),popup:this._current_popup}).with(n),c=Zn.open(a,(function(t,e){if(!t||"SyntaxError"!==t.name)return i._current_popup=null,r(t,e)}));return c.focus(),c},nr.prototype.buildPopupHandler=function(){var t=this.baseOptions.plugins.get("popup.getPopupHandler");return t?t.getPopupHandler():new er},nr.prototype.preload=function(t){t=t||{};var e=this.buildPopupHandler();return e.preload(t),e},nr.prototype.getPopupHandler=function(t,e){return t.popupHandler?t.popupHandler:e?this.preload(t):this.buildPopupHandler()},nr.prototype.callback=function(t){var e=this,n=Qe.getWindow(),r=(t=t||{}).popupOrigin||this.baseOptions.popupOrigin||Qe.getOrigin();n.opener?Zn.onOpen((function(n,i,o){if(n!==r)return o({error:"origin_mismatch",error_description:"The popup's origin ("+n+") should match the `popupOrigin` parameter ("+r+")."});e.webAuth.parseHash(t||{},(function(t,e){return o(t||e)}))})):n.doPost=function(t){n.parent&&n.parent.postMessage(t,r)}},nr.prototype.authorize=function(t,e){var n,r,i={},s=this.baseOptions.plugins.get("popup.authorize"),a=Ge.merge(this.baseOptions,["clientID","scope","domain","audience","tenant","responseType","redirectUri","_csrf","state","_intstate","nonce","organization","invitation"]).with(Ge.blacklist(t,["popupHandler"]));return Le.check(a,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=o(this.baseOptions.rootUrl,"relay.html"),t.owp?a.owp=!0:(i.origin=tr(a.redirectUri),r=a.redirectUri),t.popupOptions&&(i.popupOptions=Ge.pick(t.popupOptions,["width","height","top","left"])),s&&(a=s.processParams(a)),(a=this.transactionManager.process(a)).scope=a.scope||"openid profile email",delete a.domain,n=this.client.buildAuthorizeUrl(a),this.getPopupHandler(t).load(n,r,i,un(e,{keepOriginalCasing:!0}))},nr.prototype.loginWithCredentials=function(t,e){t.realm=t.realm||t.connection,t.popup=!0,t=Ge.merge(this.baseOptions,["redirectUri","responseType","state","nonce"]).with(Ge.blacklist(t,["popupHandler","connection"])),t=this.transactionManager.process(t),this.crossOriginAuthentication.login(t,e)},nr.prototype.passwordlessVerify=function(t,e){var n=this;return this.client.passwordless.verify(Ge.blacklist(t,["popupHandler"]),(function(r){if(r)return e(r);t.username=t.phoneNumber||t.email,t.password=t.verificationCode,delete t.email,delete t.phoneNumber,delete t.verificationCode,delete t.type,n.client.loginWithResourceOwner(t,e)}))},nr.prototype.signupAndLogin=function(t,e){var n=this;return this.client.dbConnection.signup(t,(function(r){if(r)return e(r);n.loginWithCredentials(t,e)}))},rr.create=function(t){return new rr(t)},rr.prototype.login=function(t,e){this.handler=new $n({auth0:this.auth0,url:this.authenticationUrl,eventListenerType:t?"message":"load",callback:this.getCallbackHandler(e,t),timeout:this.timeout,eventValidator:this.getEventValidator(),timeoutCallback:function(){e(null,"#error=timeout&error_description=Timeout+during+authentication+renew.")},usePostMessage:t||!1}),this.handler.init()},rr.prototype.getEventValidator=function(){var t=this;return{isValid:function(e){switch(e.event.type){case"message":return e.event.origin===t.postMessageOrigin&&e.event.source===t.handler.iframe.contentWindow&&(!1===t.postMessageDataType||e.event.data.type&&e.event.data.type===t.postMessageDataType);case"load":if("about:"===e.sourceObject.contentWindow.location.protocol)return!1;default:return!0}}}},rr.prototype.getCallbackHandler=function(t,e){return function(n){var r;r=e?"object"==typeof n.event.data&&n.event.data.hash?n.event.data.hash:n.event.data:n.sourceObject.contentWindow.location.hash,t(null,r)}},ir.prototype.login=function(t,e){var n,r;return n=o(this.baseOptions.rootUrl,"usernamepassword","login"),t.username=t.username||t.email,t=Ge.blacklist(t,["email","onRedirecting"]),r=Ge.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience"]).with(t),r=this.transactionManager.process(r),r=Ge.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(un(e))},ir.prototype.callback=function(t){var e,n=Qe.getDocument();(e=n.createElement("div")).innerHTML=t,n.body.appendChild(e).children[0].submit()},or.prototype.login=function(t,e){if(Qe.getWindow().location.host!==this.baseOptions.domain)throw new Error("This method is meant to be used only inside the Universal Login Page.");var n,r=Ge.merge(this.baseOptions,["clientID","redirectUri","tenant","responseType","responseMode","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return Le.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(n=new ir(this.baseOptions)).login(r,(function(r,i){if(r)return e(r);function o(){n.callback(i)}if("function"==typeof t.onRedirecting)return t.onRedirecting((function(){o()}));o()}))},or.prototype.signupAndLogin=function(t,e){var n=this;return n.client.client.dbConnection.signup(t,(function(r){return r?e(r):n.login(t,e)}))},or.prototype.getSSOData=function(t,e){var n,r="";return"function"==typeof t&&(e=t,t=!1),Le.check(t,{type:"boolean",message:"withActiveDirectories parameter is not valid"}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),t&&(r="?"+ie({ldaps:1,client_id:this.baseOptions.clientID})),n=o(this.baseOptions.rootUrl,"user","ssodata",r),this.request.get(n,{noHeaders:!0}).withCredentials().end(un(e))};var sr=function(){},ar={lang:"en",templates:{auth0:function(t){var e="code"===t.type?"Enter the code shown above":"Solve the formula shown above";return'<div class="captcha-challenge">\n  <img src="'+t.image+'" />\n  <button type="button" class="captcha-reload"></button>\n</div>\n<input type="text" name="captcha"\n  class="form-control captcha-control"\n  placeholder="'+e+'" />'},recaptcha_v2:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},recaptcha_enterprise:function(){return'<div class="recaptcha" ></div><input type="hidden" name="captcha" />'},error:function(){return'<div class="error" style="color: red;">Error getting the bot detection challenge. Please contact the system administrator.</div>'}}};function cr(t){switch(t){case"recaptcha_v2":return window.grecaptcha;case"recaptcha_enterprise":return window.grecaptcha.enterprise;default:throw new Error("Unknown captcha provider")}}var ur=function(t,e,n,r){function i(r){r=r||sr,t.getChallenge((function(t,o){return t?(e.innerHTML=n.templates.error(t),r(t)):o.required?(e.style.display="","auth0"===o.provider?function(t,e,n,r){t.innerHTML=e.templates[n.provider](n),t.querySelector(".captcha-reload").addEventListener("click",(function(t){t.preventDefault(),r()}))}(e,n,o,i):"recaptcha_v2"!==o.provider&&"recaptcha_enterprise"!==o.provider||function(t,e,n){var r=t.hasAttribute("data-wid")&&t.getAttribute("data-wid");function i(e){t.querySelector('input[name="captcha"]').value=e||""}if(r)return i(),void cr(n.provider).reset(r);t.innerHTML=e.templates[n.provider](n);var o=t.querySelector(".recaptcha");!function(t,e,n){var r="recaptchaCallback_"+Math.floor(1000001*Math.random());window[r]=function(){delete window[r],n()};var i=window.document.createElement("script");i.src=function(t,e,n){switch(t){case"recaptcha_v2":return"https://www.recaptcha.net/recaptcha/api.js?hl="+e+"&onload="+n;case"recaptcha_enterprise":return"https://www.recaptcha.net/recaptcha/enterprise.js?render=explicit&hl="+e+"&onload="+n;default:throw new Error("Unknown captcha provider")}}(e.provider,e.lang,r),i.async=!0,window.document.body.appendChild(i)}(0,{lang:e.lang,provider:n.provider},(function(){var e=cr(n.provider);r=e.render(o,{callback:i,"expired-callback":function(){i()},"error-callback":function(){i()},sitekey:n.siteKey}),t.setAttribute("data-wid",r)}))}(e,n,o),void r()):(e.style.display="none",void(e.innerHTML=""))}))}return n=Ge.merge(ar).with(n||{}),i(r),{reload:i,getValue:function(){var t=e.querySelector('input[name="captcha"]');if(t)return t.value}}};function lr(){return new Date}function fr(t){Le.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},popupOrigin:{optional:!0,type:"string",message:"popupOrigin is not valid"},leeway:{optional:!0,type:"number",message:"leeway is not valid"},plugins:{optional:!0,type:"array",message:"plugins is not valid"},maxAge:{optional:!0,type:"number",message:"maxAge is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"},_timesToRetryFailedRequests:{optional:!0,type:"number",message:"_timesToRetryFailedRequests option is not valid"}}),t.overrides&&Le.check(t.overrides,{type:"object",message:"overrides option is not valid"},{__tenant:{optional:!0,type:"string",message:"__tenant option is required"},__token_issuer:{optional:!0,type:"string",message:"__token_issuer option is required"},__jwks_uri:{optional:!0,type:"string",message:"__jwks_uri is required"}}),this.baseOptions=t,this.baseOptions.plugins=new Wn(this,this.baseOptions.plugins||[]),this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions._timesToRetryFailedRequests=t._timesToRetryFailedRequests?parseInt(t._timesToRetryFailedRequests):0,this.baseOptions.tenant=this.baseOptions.overrides&&this.baseOptions.overrides.__tenant||this.baseOptions.domain.split(".")[0],this.baseOptions.token_issuer=this.baseOptions.overrides&&this.baseOptions.overrides.__token_issuer||"https://"+this.baseOptions.domain+"/",this.baseOptions.jwksURI=this.baseOptions.overrides&&this.baseOptions.overrides.__jwks_uri,this.transactionManager=new Gn(this.baseOptions),this.client=new dr(this.baseOptions),this.redirect=new Qn(this,this.baseOptions),this.popup=new nr(this,this.baseOptions),this.crossOriginAuthentication=new Yn(this,this.baseOptions),this.webMessageHandler=new Jn(this),this._universalLogin=new or(this,this.baseOptions),this.ssodataStorage=new sn(this.baseOptions)}function hr(t,e){this.baseOptions=e,this.request=t}function pr(t,e){this.baseOptions=e,this.request=t}function dr(t,e){2===arguments.length?this.auth0=t:e=t,Le.check(e,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},clientID:{type:"string",message:"clientID option is required"},responseType:{optional:!0,type:"string",message:"responseType is not valid"},responseMode:{optional:!0,type:"string",message:"responseMode is not valid"},redirectUri:{optional:!0,type:"string",message:"redirectUri is not valid"},scope:{optional:!0,type:"string",message:"scope is not valid"},audience:{optional:!0,type:"string",message:"audience is not valid"},_disableDeprecationWarnings:{optional:!0,type:"boolean",message:"_disableDeprecationWarnings option is not valid"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=e,this.baseOptions._sendTelemetry=!1!==this.baseOptions._sendTelemetry||this.baseOptions._sendTelemetry,this.baseOptions.rootUrl=this.baseOptions.domain&&0===this.baseOptions.domain.toLowerCase().indexOf("http")?this.baseOptions.domain:"https://"+this.baseOptions.domain,this.request=new Ye(this.baseOptions),this.passwordless=new hr(this.request,this.baseOptions),this.dbConnection=new pr(this.request,this.baseOptions),this.warn=new nn({disableWarnings:!!e._disableDeprecationWarnings}),this.ssodataStorage=new sn(this.baseOptions)}function br(t){Le.check(t,{type:"object",message:"options parameter is not valid"},{domain:{type:"string",message:"domain option is required"},token:{type:"string",message:"token option is required"},_sendTelemetry:{optional:!0,type:"boolean",message:"_sendTelemetry option is not valid"},_telemetryInfo:{optional:!0,type:"object",message:"_telemetryInfo option is not valid"}}),this.baseOptions=t,this.baseOptions.headers={Authorization:"Bearer "+this.baseOptions.token},this.request=new Ye(this.baseOptions),this.baseOptions.rootUrl=o("https://"+this.baseOptions.domain,"api","v2")}fr.prototype.parseHash=function(t,e){var n,r;e||"function"!=typeof t?t=t||{}:(e=t,t={});var i=void 0===t.hash?Qe.getWindow().location.hash:t.hash;if((n=function(t,e){var n=function(t){if(!t)return te;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?te.charset:t.charset;return{allowDots:void 0===t.allowDots?te.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:te.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:te.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:te.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:te.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:te.comma,decoder:"function"==typeof t.decoder?t.decoder:te.decoder,delimiter:"string"==typeof t.delimiter||zt.isRegExp(t.delimiter)?t.delimiter:te.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:te.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:te.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:te.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:te.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:te.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof t?function(t,e){var n,r={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,s=i.split(e.delimiter,o),a=-1,c=e.charset;if(e.charsetSentinel)for(n=0;n<s.length;++n)0===s[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[n]?c="utf-8":"utf8=%26%2310003%3B"===s[n]&&(c="iso-8859-1"),a=n,n=s.length);for(n=0;n<s.length;++n)if(n!==a){var u,l,f=s[n],h=f.indexOf("]="),p=-1===h?f.indexOf("="):h+1;-1===p?(u=e.decoder(f,te.decoder,c,"key"),l=e.strictNullHandling?null:""):(u=e.decoder(f.slice(0,p),te.decoder,c,"key"),l=zt.maybeMap(ne(f.slice(p+1),e),(function(t){return e.decoder(t,te.decoder,c,"value")}))),l&&e.interpretNumericEntities&&"iso-8859-1"===c&&(l=ee(l)),f.indexOf("[]=")>-1&&(l=Zt(l)?[l]:l),Qt.call(r,u)?r[u]=zt.combine(r[u],l):r[u]=l}return r}(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],c=re(a,r[a],n,"string"==typeof t);i=zt.merge(i,c,n)}return!0===n.allowSparse?i:zt.compact(i)}(i=i.replace(/^#?\/?/,""))).hasOwnProperty("error"))return r=cn.buildResponse(n.error,n.error_description),n.state&&(r.state=n.state),e(r);if(!n.hasOwnProperty("access_token")&&!n.hasOwnProperty("id_token")&&!n.hasOwnProperty("refresh_token"))return e(null,null);var o=(this.baseOptions.responseType||t.responseType||"").split(" ");return o.length>0&&-1!==o.indexOf("token")&&!n.hasOwnProperty("access_token")?e(cn.buildResponse("invalid_hash","response_type contains `token`, but the parsed hash does not contain an `access_token` property")):o.length>0&&-1!==o.indexOf("id_token")&&!n.hasOwnProperty("id_token")?e(cn.buildResponse("invalid_hash","response_type contains `id_token`, but the parsed hash does not contain an `id_token` property")):this.validateAuthenticationResponse(t,n,e)},fr.prototype.validateAuthenticationResponse=function(t,e,n){var r=this;t.__enableIdPInitiatedLogin=t.__enableIdPInitiatedLogin||t.__enableImpersonation;var i=e.state,o=this.transactionManager.getStoredTransaction(i),s=t.state||o&&o.state||null,a=s===i;if((i||s||!t.__enableIdPInitiatedLogin)&&!a)return n({error:"invalid_token",errorDescription:"`state` does not match."});var c=t.nonce||o&&o.nonce||null,u=o&&o.organization,l=t.state||o&&o.appState||null,f=function(t,i){return t?n(t):(o&&o.lastUsedConnection&&(i&&(s=i.sub),r.ssodataStorage.set(o.lastUsedConnection,s)),n(null,function(t,e,n){return{accessToken:t.access_token||null,idToken:t.id_token||null,idTokenPayload:n||null,appState:e||null,refreshToken:t.refresh_token||null,state:t.state||null,expiresIn:t.expires_in?parseInt(t.expires_in,10):null,tokenType:t.token_type||null,scope:t.scope||null}}(e,l,i)));var s};return e.id_token?this.validateToken(e.id_token,c,(function(t,n){if(!t){if(u){if(!n.org_id)return f(cn.invalidToken("Organization Id (org_id) claim must be a string present in the ID token"));if(n.org_id!==u)return f(cn.invalidToken('Organization Id (org_id) claim value mismatch in the ID token; expected "'+u+'", found "'+n.org_id+'"'))}return e.access_token&&n.at_hash?(new Hn).validateAccessToken(e.access_token,"RS256",n.at_hash,(function(t){return t?f(cn.invalidToken(t.message)):f(null,n)})):f(null,n)}if("invalid_token"!==t.error||t.errorDescription&&t.errorDescription.indexOf("Nonce (nonce) claim value mismatch in the ID token")>-1)return f(t);var i=(new Hn).decode(e.id_token);return"HS256"!==i.header.alg?f(t):(i.payload.nonce||null)!==c?f({error:"invalid_token",errorDescription:'Nonce (nonce) claim value mismatch in the ID token; expected "'+c+'", found "'+i.payload.nonce+'"'}):e.access_token?r.client.userInfo(e.access_token,(function(t,e){return t?f(t):f(null,e)})):f({error:"invalid_token",description:"The id_token cannot be validated because it was signed with the HS256 algorithm and public clients (like a browser) cant store secrets. Please read the associated doc for possible ways to fix this. Read more: https://auth0.com/docs/errors/libraries/auth0-js/invalid-token#parsing-an-hs256-signed-id-token-without-an-access-token"})})):f(null,null)},fr.prototype.validateToken=function(t,e,n){new Hn({issuer:this.baseOptions.token_issuer,jwksURI:this.baseOptions.jwksURI,audience:this.baseOptions.clientID,leeway:this.baseOptions.leeway||60,maxAge:this.baseOptions.maxAge,__clock:this.baseOptions.__clock||lr}).verify(t,e,(function(t,e){if(t)return n(cn.invalidToken(t.message));n(null,e)}))},fr.prototype.renewAuth=function(t,e){var n=!!t.usePostMessage,r=t.postMessageDataType||!1,i=t.postMessageOrigin||Qe.getWindow().origin,o=t.timeout,s=this,a=Ge.merge(this.baseOptions,["clientID","redirectUri","responseType","scope","audience","_csrf","state","_intstate","nonce"]).with(t);a.responseType=a.responseType||"token",a.responseMode=a.responseMode||"fragment",a=this.transactionManager.process(a),Le.check(a,{type:"object",message:"options parameter is not valid"}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),a.prompt="none",a=Ge.blacklist(a,["usePostMessage","tenant","postMessageDataType","postMessageOrigin"]),rr.create({authenticationUrl:this.client.buildAuthorizeUrl(a),postMessageDataType:r,postMessageOrigin:i,timeout:o}).login(n,(function(t,n){if("object"==typeof n)return e(t,n);s.parseHash({hash:n},e)}))},fr.prototype.checkSession=function(t,e){var n=Ge.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t);return"code"===n.responseType?e({error:"error",error_description:"responseType can't be `code`"}):(t.nonce||(n=this.transactionManager.process(n)),n.redirectUri?(Le.check(n,{type:"object",message:"options parameter is not valid"}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=Ge.blacklist(n,["usePostMessage","tenant","postMessageDataType"]),void this.webMessageHandler.run(n,un(e,{forceLegacyError:!0,ignoreCasing:!0}))):e({error:"error",error_description:"redirectUri can't be empty"}))},fr.prototype.changePassword=function(t,e){return this.client.dbConnection.changePassword(t,e)},fr.prototype.passwordlessStart=function(t,e){var n=Ge.merge(this.baseOptions,["responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce"]).with(t.authParams);return t.authParams=this.transactionManager.process(n),this.client.passwordless.start(t,e)},fr.prototype.signup=function(t,e){return this.client.dbConnection.signup(t,e)},fr.prototype.authorize=function(t){var e=Ge.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","organization","invitation"]).with(t);Le.check(e,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),(e=this.transactionManager.process(e)).scope=e.scope||"openid profile email",Qe.redirect(this.client.buildAuthorizeUrl(e))},fr.prototype.signupAndAuthorize=function(t,e){var n=this;return this.client.dbConnection.signup(Ge.blacklist(t,["popupHandler"]),(function(r){if(r)return e(r);t.realm=t.connection,t.username||(t.username=t.email),n.client.login(t,e)}))},fr.prototype.login=function(t,e){var n=Ge.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting","organization","invitation"]).with(t);n=this.transactionManager.process(n),Qe.getWindow().location.host===this.baseOptions.domain?(n.connection=n.realm,delete n.realm,this._universalLogin.login(n,e)):this.crossOriginAuthentication.login(n,e)},fr.prototype.passwordlessLogin=function(t,e){var n=Ge.merge(this.baseOptions,["clientID","responseType","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(t);if(n=this.transactionManager.process(n),Qe.getWindow().location.host===this.baseOptions.domain)this.passwordlessVerify(n,e);else{var r=Ge.extend({credentialType:"http://auth0.com/oauth/grant-type/passwordless/otp",realm:n.connection,username:n.email||n.phoneNumber,otp:n.verificationCode},Ge.blacklist(n,["connection","email","phoneNumber","verificationCode"]));this.crossOriginAuthentication.login(r,e)}},fr.prototype.crossOriginAuthenticationCallback=function(){this.crossOriginVerification()},fr.prototype.crossOriginVerification=function(){this.crossOriginAuthentication.callback()},fr.prototype.logout=function(t){Qe.redirect(this.client.buildLogoutUrl(t))},fr.prototype.passwordlessVerify=function(t,e){var n=this,r=Ge.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","nonce","onRedirecting"]).with(t);return Le.check(r,{type:"object",message:"options parameter is not valid"},{responseType:{type:"string",message:"responseType option is required"}}),r=this.transactionManager.process(r),this.client.passwordless.verify(r,(function(i){if(i)return e(i);function o(){Qe.redirect(n.client.passwordless.buildVerifyUrl(r))}if("function"==typeof t.onRedirecting)return t.onRedirecting((function(){o()}));o()}))},fr.prototype.renderCaptcha=function(t,e,n){return ur(this.client,t,e,n)},hr.prototype.buildVerifyUrl=function(t){var e,n;return Le.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),e=Ge.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience","_csrf","state","_intstate","protocol","nonce"]).with(t),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=Ge.toSnakeCase(e,["auth0Client"]),n=ie(e),o(this.baseOptions.rootUrl,"passwordless","verify_redirect","?"+n)},hr.prototype.start=function(t,e){var n,r;Le.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},send:{type:"string",message:"send option is required",values:["link","code"],value_message:"send is not valid ([link, code])"},phoneNumber:{optional:!0,type:"string",message:"phoneNumber option is required",condition:function(t){return"code"===t.send||!t.email}},email:{optional:!0,type:"string",message:"email option is required",condition:function(t){return"link"===t.send||!t.phoneNumber}},authParams:{optional:!0,type:"object",message:"authParams option is required"}}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"passwordless","start");var i=t.xRequestLanguage;delete t.xRequestLanguage,(r=Ge.merge(this.baseOptions,["clientID","responseType","redirectUri","scope"]).with(t)).scope&&(r.authParams=r.authParams||{},r.authParams.scope=r.authParams.scope||r.scope),r.redirectUri&&(r.authParams=r.authParams||{},r.authParams.redirect_uri=r.authParams.redirectUri||r.redirectUri),r.responseType&&(r.authParams=r.authParams||{},r.authParams.response_type=r.authParams.responseType||r.responseType),delete r.redirectUri,delete r.responseType,delete r.scope,r=Ge.toSnakeCase(r,["auth0Client","authParams"]);var s=i?{xRequestLanguage:i}:void 0;return this.request.post(n,s).send(r).end(un(e))},hr.prototype.verify=function(t,e){var n,r;return Le.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},verificationCode:{type:"string",message:"verificationCode option is required"},phoneNumber:{optional:!1,type:"string",message:"phoneNumber option is required",condition:function(t){return!t.email}},email:{optional:!1,type:"string",message:"email option is required",condition:function(t){return!t.phoneNumber}}}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),r=Ge.pick(t,["connection","verificationCode","phoneNumber","email","auth0Client","clientID"]),r=Ge.toSnakeCase(r,["auth0Client"]),n=o(this.baseOptions.rootUrl,"passwordless","verify"),this.request.post(n).send(r).end(un(e))},pr.prototype.signup=function(t,e){var n,r,i;return Le.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"},password:{type:"string",message:"password option is required"}}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"dbconnections","signup"),i=(r=Ge.merge(this.baseOptions,["clientID","state"]).with(t)).user_metadata||r.userMetadata,r=Ge.blacklist(r,["scope","userMetadata","user_metadata"]),r=Ge.toSnakeCase(r,["auth0Client"]),i&&(r.user_metadata=i),this.request.post(n).send(r).end(un(e))},pr.prototype.changePassword=function(t,e){var n,r;return Le.check(t,{type:"object",message:"options parameter is not valid"},{connection:{type:"string",message:"connection option is required"},email:{type:"string",message:"email option is required"}}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"dbconnections","change_password"),r=Ge.merge(this.baseOptions,["clientID"]).with(t,["email","connection"]),r=Ge.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(un(e))},dr.prototype.buildAuthorizeUrl=function(t){var e,n;return Le.check(t,{type:"object",message:"options parameter is not valid"}),e=Ge.merge(this.baseOptions,["clientID","responseType","responseMode","redirectUri","scope","audience"]).with(t),Le.check(e,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},redirectUri:{optional:!0,type:"string",message:"redirectUri option is required"},responseType:{type:"string",message:"responseType option is required"},nonce:{type:"string",message:"nonce option is required",condition:function(t){return-1===t.responseType.indexOf("code")&&-1!==t.responseType.indexOf("id_token")}},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e.connection_scope&&Le.isArray(e.connection_scope)&&(e.connection_scope=e.connection_scope.join(",")),e=Ge.blacklist(e,["username","popupOptions","domain","tenant","timeout","appState"]),e=Ge.toSnakeCase(e,["auth0Client"]),e=pn(this.warn,e),n=ie(e),o(this.baseOptions.rootUrl,"authorize","?"+n)},dr.prototype.buildLogoutUrl=function(t){var e,n;return Le.check(t,{optional:!0,type:"object",message:"options parameter is not valid"}),e=Ge.merge(this.baseOptions,["clientID"]).with(t||{}),this.baseOptions._sendTelemetry&&(e.auth0Client=this.request.getTelemetryData()),e=Ge.toSnakeCase(e,["auth0Client","returnTo"]),n=ie(Ge.blacklist(e,["federated"])),t&&void 0!==t.federated&&!1!==t.federated&&"false"!==t.federated&&(n+="&federated"),o(this.baseOptions.rootUrl,"v2","logout","?"+n)},dr.prototype.loginWithDefaultDirectory=function(t,e){return Le.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="password",this.oauthToken(t,e)},dr.prototype.login=function(t,e){return Le.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},realm:{type:"string",message:"realm option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),t.grantType="http://auth0.com/oauth/grant-type/password-realm",this.oauthToken(t,e)},dr.prototype.oauthToken=function(t,e){var n,r;return Le.check(t,{type:"object",message:"options parameter is not valid"}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"oauth","token"),r=Ge.merge(this.baseOptions,["clientID","scope","audience"]).with(t),Le.check(r,{type:"object",message:"options parameter is not valid"},{clientID:{type:"string",message:"clientID option is required"},grantType:{type:"string",message:"grantType option is required"},scope:{optional:!0,type:"string",message:"scope option is required"},audience:{optional:!0,type:"string",message:"audience option is required"}}),r=Ge.toSnakeCase(r,["auth0Client"]),r=hn(this.warn,r),this.request.post(n).send(r).end(un(e))},dr.prototype.loginWithResourceOwner=function(t,e){var n,r;return Le.check(t,{type:"object",message:"options parameter is not valid"},{username:{type:"string",message:"username option is required"},password:{type:"string",message:"password option is required"},connection:{type:"string",message:"connection option is required"},scope:{optional:!0,type:"string",message:"scope option is required"}}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"oauth","ro"),r=Ge.merge(this.baseOptions,["clientID","scope"]).with(t,["username","password","scope","connection","device"]),(r=Ge.toSnakeCase(r,["auth0Client"])).grant_type=r.grant_type||"password",this.request.post(n).send(r).end(un(e))},dr.prototype.getSSOData=function(t,e){if(this.auth0||(this.auth0=new fr(this.baseOptions)),Qe.getWindow().location.host===this.baseOptions.domain)return this.auth0._universalLogin.getSSOData(t,e);"function"==typeof t&&(e=t),Le.check(e,{type:"function",message:"cb parameter is not valid"});var n=this.baseOptions.clientID,r=this.ssodataStorage.get()||{};this.auth0.checkSession({responseType:"token id_token",scope:"openid profile email",connection:r.lastUsedConnection,timeout:5e3},(function(t,i){return t?"login_required"===t.error?e(null,{sso:!1}):("consent_required"===t.error&&(t.error_description="Consent required. When using `getSSOData`, the user has to be authenticated with the following scope: `openid profile email`."),e(t,{sso:!1})):r.lastUsedSub&&r.lastUsedSub!==i.idTokenPayload.sub?e(t,{sso:!1}):e(null,{lastUsedConnection:{name:r.lastUsedConnection},lastUsedUserID:i.idTokenPayload.sub,lastUsedUsername:i.idTokenPayload.email||i.idTokenPayload.name,lastUsedClientID:n,sessionClients:[n],sso:!0})}))},dr.prototype.userInfo=function(t,e){var n;return Le.check(t,{type:"string",message:"accessToken parameter is not valid"}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"userinfo"),this.request.get(n).set("Authorization","Bearer "+t).end(un(e,{ignoreCasing:!0}))},dr.prototype.getChallenge=function(t){if(Le.check(t,{type:"function",message:"cb parameter is not valid"}),!this.baseOptions.state)return t();var e=o(this.baseOptions.rootUrl,"usernamepassword","challenge");return this.request.post(e).send({state:this.baseOptions.state}).end(un(t,{ignoreCasing:!0}))},dr.prototype.delegation=function(t,e){var n,r;return Le.check(t,{type:"object",message:"options parameter is not valid"},{grant_type:{type:"string",message:"grant_type option is required"}}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"delegation"),r=Ge.merge(this.baseOptions,["clientID"]).with(t),r=Ge.toSnakeCase(r,["auth0Client"]),this.request.post(n).send(r).end(un(e))},dr.prototype.getUserCountry=function(t){var e;return Le.check(t,{type:"function",message:"cb parameter is not valid"}),e=o(this.baseOptions.rootUrl,"user","geoloc","country"),this.request.get(e).end(un(t))},br.prototype.getUser=function(t,e){var n;return Le.check(t,{type:"string",message:"userId parameter is not valid"}),Le.check(e,{type:"function",message:"cb parameter is not valid"}),n=o(this.baseOptions.rootUrl,"users",t),this.request.get(n).end(un(e,{ignoreCasing:!0}))},br.prototype.patchUserMetadata=function(t,e,n){var r;return Le.check(t,{type:"string",message:"userId parameter is not valid"}),Le.check(e,{type:"object",message:"userMetadata parameter is not valid"}),Le.check(n,{type:"function",message:"cb parameter is not valid"}),r=o(this.baseOptions.rootUrl,"users",t),this.request.patch(r).send({user_metadata:e}).end(un(n,{ignoreCasing:!0}))},br.prototype.patchUserAttributes=function(t,e,n){var r;return Le.check(t,{type:"string",message:"userId parameter is not valid"}),Le.check(e,{type:"object",message:"user parameter is not valid"}),Le.check(n,{type:"function",message:"cb parameter is not valid"}),r=o(this.baseOptions.rootUrl,"users",t),this.request.patch(r).send(e).end(un(n,{ignoreCasing:!0}))},br.prototype.linkUser=function(t,e,n){var r;return Le.check(t,{type:"string",message:"userId parameter is not valid"}),Le.check(e,{type:"string",message:"secondaryUserToken parameter is not valid"}),Le.check(n,{type:"function",message:"cb parameter is not valid"}),r=o(this.baseOptions.rootUrl,"users",t,"identities"),this.request.post(r).send({link_with:e}).end(un(n,{ignoreCasing:!0}))};var mr={Authentication:dr,Management:br,WebAuth:fr,version:Fe};e.a=mr}).call(this,n(31),n(36))},function(t,e,n){"use strict";var r=n(51),i=n(385),o=n(762),s=n(308);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var c=a(s);c.Axios=o,c.create=function(t){return a(r.merge(s,t))},c.Cancel=n(389),c.CancelToken=n(775),c.isCancel=n(388),c.all=function(t){return Promise.all(t)},c.spread=n(776),t.exports=c,t.exports.default=c},function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(308),i=n(51),o=n(770),s=n(771);function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],(function(t){a.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){a.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=a},function(t,e,n){"use strict";var r=n(51);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(387);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(51);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var r=n(51),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(51);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(51);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(51);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(51),i=n(772),o=n(388),s=n(308),a=n(773),c=n(774);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!a(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return u(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(51);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(389);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){var r=n(1118);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(779);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.Panel {\n  border: 1px solid #151413;\n  border-radius: 4px 4px 0 0;\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);\n  background: #353433;\n}\n.Paneltitle {\n  background: #252423 linear-gradient(to bottom, #353433 0%, #252423 50%, #151413 50%, #252423 100%);\n  border-bottom: 0;\n  text-align: center;\n  color: #8b8685;\n  padding: 0.5ex 1em;\n}\n.Paneltitle > h2 {\n  margin: 0;\n  font: inherit;\n}',""])},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(26),i=n.n(r),o=n(29),s=n.n(o);class a extends i.a.Component{render(){let t={};return void 0!==this.props.grow&&(t.flex=this.props.grow),i.a.createElement("div",{style:t})}}a.propTypes={grow:s.a.oneOf([s.a.number,s.a.string])}},function(t,e,n){"use strict";t.exports=n(1124)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(679),i=n(724),o=n(125);function s(t,e){const n=t.resources||new o.a(new URL(t.path.replace(/\/?$/,"/"),e.replace(/\/?$/,"/")));return{baseResources:n,assetResources:function(t,e){if(null===e)return t;void 0===e&&(e="assets/metadata.json");const[n,o]=Object(i.a)(t,e);return new r.a(n,{metadataFilename:o,fallback:t,fallbackPattern:/\.(?:png|jpg|webm|mp4|m4v)/})}(n,t.bemusepack_url)}}},function(t,e,n){"use strict";(function(t){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NotechartLoader=void 0;var u=o(n(104)),l=o(n(363)),f=o(n(785)),h=c(n(713)),p=function(e){return t.isBuffer(e)?e:t.from(new Uint8Array(e))},d=function(){function t(){}return t.prototype.load=function(t,e,n){return e.name.match(/\.bmson$/i)?this.loadBmson(t,e,n):this.loadBMS(t,e,n)},t.prototype.loadBMS=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i,o,s,c;return a(this,(function(a){switch(a.label){case 0:return r=p(t),i=u.Reader.getReaderOptionsFromFilename(e.name),[4,h.default.promisify(u.Reader.readAsync)(r,i)];case 1:return o=a.sent(),s=u.Compiler.compile(o),c=s.chart,[2,l.fromBMSChart(c,n)]}}))}))},t.prototype.loadBmson=function(t,e,n){return s(this,void 0,void 0,(function(){var e,r;return a(this,(function(i){return e=p(t),r=e.toString("utf-8"),[2,f.load(r,n)]}))}))},t}();e.NotechartLoader=d,e.default=d}).call(this,n(40).Buffer)},,function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;var a=o(n(786)),c=o(n(104)),u=s(n(228));function l(t){var e=(t.info&&t.info.judge_rank&&+t.info.judge_rank||100)/100;return[18*e,40*e]}e.load=function(t,e){var n=JSON.parse(t),r=a.songInfoForBmson(n),i=a.musicalScoreForBmson(n,{double:e.double}),o=a.barLinesForBmson(n),s={notes:i.notes.all(),timing:i.timing,keysounds:i.keysounds,songInfo:r,positioning:new c.Positioning([{t:0,x:0,dx:1,inclusive:!0}]),spacing:new c.Spacing([]),barLines:o,images:{eyecatch:n.info.eyecatch_image,background:n.info.back_image},expertJudgmentWindow:l(n)};return new u.default(s,e)}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.keysForBmson=e.hasScratch=e.beatForPulseForBmson=e._slicesForNotesAndTiming=e.musicalScoreForBmson=e.timingInfoForBmson=e.barLinesForBmson=e.songInfoForBmson=void 0;var f=l(n(30)),h=o(n(104)),p=o(n(391)),d=o(n(392));function b(t){if(!t.version)return p.timingInfoForBmson(t);var e=v(t);return{initialBPM:t.info.init_bpm,actions:c(c([],a((t.bpm_events||[]).map((function(t){var n=t.y,r=t.bpm;return{type:"bpm",beat:e(n),bpm:r}}))),!1),a((t.stop_events||[]).map((function(t){var n=t.y,r=t.duration;return{type:"stop",beat:e(n),stopBeats:e(Math.floor(r))}}))),!1)}}function m(t){return t.version?t.sound_channels:t.soundChannel}s(n(787),e),e.songInfoForBmson=function(t){var e=t.info,n={};return e.title&&(n.title=e.title),e.artist&&(n.artist=e.artist),e.genre&&(n.genre=e.genre),e.level&&(n.level=e.level),n.subtitles=function(){if(!t.version)return["Warning: legacy bmson"];var n=[];e.chart_name&&"string"==typeof e.chart_name&&n.push(e.chart_name);e.subtitle&&"string"==typeof e.subtitle&&n.push.apply(n,c([],a(e.subtitle.split("\n")),!1));return n}(),e.subartists&&(n.subartists=e.subartists),new h.SongInfo(n)},e.barLinesForBmson=function(t){if(!t.version)return p.barLinesForBmson(t);var e=v(t),n=t.lines;return(0,f.default)(n).map((function(t){var n=t.y;return e(n)})).sortBy().value()},e.timingInfoForBmson=b,e.musicalScoreForBmson=function(t,e){void 0===e&&(e={});var n=function(t){var e=b(t),n=e.initialBPM,r=e.actions;return new h.Timing(n,r)}(t),r=function(t,e,n){var r,i,o,s,a=1,c=v(t),l=[],h={},p=m(t);if(p)try{for(var b=u(p),y=b.next();!y.done;y=b.next()){var _=y.value,w=_.name,S=_.notes,x=f.default.sortBy(S,"y"),k=a++,E=f.default.padStart(""+k,4,"0"),O=d.slicesForNotesAndTiming(S,e,{beatForPulse:c});h[E]=w;try{for(var A=(o=void 0,u(x)),M=A.next();!M.done;M=A.next()){var C=M.value,j=C.x,T=C.y,I=C.l,P={column:g(j,n),beat:c(T),keysound:E,endBeat:void 0};I>0&&(P.endBeat=c(T+I));var F=O.get(T);F&&(Object.assign(P,F),l.push(P))}}catch(t){o={error:t}}finally{try{M&&!M.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}}}catch(t){r={error:t}}finally{try{y&&!y.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}return{notes:l,keysounds:h}}(t,n,e),i=r.notes,o=r.keysounds;return{timing:n,notes:new h.Notes(i),keysounds:new h.Keysounds(o)}};var y=n(391);function v(t){if(!t.version)return p.beatForLoc;var e=t.info&&t.info.resolution||240;return function(t){return t/e}}function g(t,e){switch(t){case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"SC"}if(e.double)switch(t){case 9:return"8";case 10:return"9";case 11:return"10";case 12:return"11";case 13:return"12";case 14:return"13";case 15:return"14";case 16:return"SC2"}}Object.defineProperty(e,"_slicesForNotesAndTiming",{enumerable:!0,get:function(){return y._slicesForNotesAndTiming}}),e.beatForPulseForBmson=v,e.hasScratch=function(t){var e,n,r,i,o=m(t);if(o)try{for(var s=u(o),a=s.next();!a.done;a=s.next()){var c=a.value.notes;try{for(var l=(r=void 0,u(c)),f=l.next();!f.done;f=l.next()){var h=f.value.x;if(8===h||18===h)return!0}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return!1},e.keysForBmson=function(t){var e,n,r,i,o=m(t),s=!1,a=!1,c=!1;if(o)try{for(var l=u(o),f=l.next();!f.done;f=l.next()){var h=f.value.notes;try{for(var p=(r=void 0,u(h)),d=p.next();!d.done;d=p.next()){var b=d.value.x;s=!0,b>=11&&b<=20&&(a=!0),6!==b&&7!==b&&16!==b&&17!==b||(c=!0)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return s?a?c?"14K":"10K":c?"7K":"5K":"empty"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=n(393);e.a=class{constructor(t,e){this.options=e,this.players=e.players.map((function(n,i){return n=Object.assign({},n,{autosound:e.audioInputLatency>=.01,tutorial:e.tutorial}),new r.a(t[i],i+1,n)}))}get samples(){let t=new Set;for(let e of this.players)for(let n of e.notechart.samples)t.add(n);return Array.from(t)}}},function(t,e,n){"use strict";var r=n(30),i=n.n(r),o=n(733),s=n(82);function a(t){t=i.a.sortBy(t,"time");let e=0;return{next(n){let r=[];for(;e<t.length&&n>=t[e].time;e++)r.push(t[e]);return r}}}e.a=class{constructor({player:t,samples:e,master:n,waveFactory:r,volume:i}){let s=t.notechart;this._waveFactory=r||new o.a(n,e,s.keysounds,{volume:i}),this._autos=a(s.autos),this._notes=a(s.notes),this._played=new Map,this._autosound=!!t.options.autosound}update(t,e){this._playAutokeysounds(t),this._playAutosounds(t,e),this._handleSoundNotifications(e&&e.notifications.sounds||[])}_playAutokeysounds(t){for(let e of this._autos.next(t+1/30))this._waveFactory.playAuto(e,e.time-t)}_playAutosounds(t,e){let n=this._notes.next(t+1/30),r=e&&e.stats.poor;if(this._autosound&&!r)for(let e of n)this._hitNote(e,e.time-t)}_handleSoundNotifications(t){for(let e of t){let{type:t,note:n}=e;"hit"===t?this._hitNote(n,0,e.judgment):"break"===t?this._breakNote(n):"free"===t&&this._waveFactory.playFree(n,0)}}_hitNote(t,e,n){let r=this._played.get(t);r||(r=this._waveFactory.playNote(t,e),this._played.set(t,r)),r&&Object(s.e)(n)&&r.bad()}_breakNote(t){let e=this._played.get(t);e&&e.stop()}}},function(t,e,n){"use strict";var r=n(683),i=n(61),o=n.n(i);e.a=class{constructor(t){this.game=t,this.readyFraction=0,this.gettingStarted=!1,this.started=!1,this.finished=!1,this._players=new Map(t.players.map((t=>[t,new r.a(t)])))}update(t,e,n){let r=!0;for(let[n,i]of this._players)i.update(t,e),i.finished||(r=!1);this.readyFraction=n.readyFraction,this.gettingStarted=n.gettingStarted,this.started=n.started,this.finished=r}player(t){return this._players.get(t)||o()(!1,"Invariant violation: No player state found for player %s",t.number)}}},function(t,e,n){"use strict";var r=n(231),i=n(229);let o=["p1_1","p1_2","p1_3","p1_4","p1_5","p1_6","p1_7","start"];function s(){const t=[];return window.BEMUSE_TOUCH_STATS.push(t),{record(e){for(let{x:n,y:r}of e)t.push({x:Math.round(n),y:Math.round(r)})},done(){t.length&&(localStorage._stats_touch=JSON.stringify(window.BEMUSE_TOUCH_STATS))}}}window.BEMUSE_TOUCH_STATS=[],e.a=function(t){let e=null,n=null,a=r.a.wrap("input:touch:I",(function(){return t.input})),c=r.a.wrap("input:touch:SC",(function(r){let i=t.refs.p1_SC;if(!i)return 0;n=null;for(let t of r){for(let e of i)if(d(e.getBounds(),32).contains(t.x,t.y)){n=t.y;break}if(null!==n)break}if(null===n)return e=null,0;null===e&&(e=n);n>e+24?e=n-24:n<e-24&&(e=n+24);return n>e+4?-1:n<e-4?1:0})),u=r.a.wrap("input:touch:B",(function(e,n){let r=t.refs[n];if(r)for(let t of r){let n=d(t.getBounds());for(let t of e)if(n.contains(t.x,t.y))return 1}return 0})),l=r.a.wrap("input:touch:P",(function(t){let e=null,n=null;for(let r of t)if(r.y<p)if(null===e)e=r.y;else{if(null!==n)return 0;n=r.y}return null!==e&&null!==n?Math.abs(e-n):0})),f=new s;const h="touch3d"===t.skinData.displayMode,p=h?i.b(.8).y:550;return{name:"TouchPlugin",get(){let t=a(),e={};r.a.enabled&&(r.a.stats["input:touch:n"]=""+t.length),f.record(t),e.p1_SC=c(t);for(let n of o)e[n]=u(t,n);if(h)for(let n of t){const t=i.c(n.x,n.y);t&&(e["p1_"+t]=1)}return e.p1_pinch=l(t),e},destroy(){f.done()}};function d(t,e=4){const n=t.clone();return n.x-=e,n.y-=e,n.width+=2*e,n.height+=2*e,n}}},function(t,e,n){"use strict";n(793);var r=n(86),i=n.n(r),o=n(685),s=n(397),a=n(150),c=n(799),u=n.n(c);function l(t,e){let n=document.createElement("button");return n.addEventListener("touchstart",(t=>{t.stopPropagation()}),!0),n.onclick=e=>{e.preventDefault(),t()},n.className=e,n}e.a=class{constructor({game:t,context:e,backgroundImagePromise:n,video:r}){this._game=t,this._context=e;const i=e.skinData;this._players=new Map(t.players.map((t=>[t,new o.a(t,i)]))),this._stateful={},this._wrapper=this._createWrapper({backgroundImagePromise:n,video:r,panelPlacement:t.players[0].options.placement,infoPanelPosition:i.infoPanelPosition}),this._createTouchEscapeButton(),this._createFullScreenButton(),this._escapeHintShown=!1}setEscapeHandler(t){this._onEscape=t}setReplayHandler(t){this._onReplay=t}start(){this._started=(new Date).getTime();const t=this._game.players[0],e=t.notechart.songInfo,n=t.options.autoplayEnabled?"[AUTOPLAY] ":"";this._stateful.song_title=n+e.title,this._stateful.song_artist=e.artist,this._duration=t.notechart.duration}destroy(){this._context.destroy()}update(t,e){let n=((new Date).getTime()-this._started)/1e3,r=this._getData(n,t,e);this._updateStatefulData(n,t,e),this._context.render(Object.assign({},this._stateful,r)),this._synchronizeVideo(t),this._synchronizeTutorialEscapeHint(t)}_synchronizeVideo(t){this._video&&!this._videoStarted&&t>=this._videoOffset&&(this._video.volume=0,this._video.play(),this._video.classList.add("is-playing"),this._videoStarted=!0)}_synchronizeTutorialEscapeHint(t){if(this._game.options.tutorial){t>=101.123595506&&!this._escapeHintShown&&(this._escapeHintShown=!0,this._escapeHint.classList.add("is-shown"))}}_getData(t,e,n){let r={};r.tutorial=this._game.options.tutorial?"yes":"no",r.t=t,r.gameTime=e,r.ready=this._getReady(n),r.song_time=this._getSongTime(e);for(let[i,o]of this._players){let s=n.player(i),a=o.update(t,e,s);for(let t in a)r[`p${i.number}_${t}`]=a[t]}return r}_updateStatefulData(t,e,n){let r=this._stateful;void 0===r.started&&n.started&&(r.started=t),void 0===r.gettingStarted&&n.gettingStarted&&(r.gettingStarted=t)}_getSongTime(t){return Object(s.a)(Math.min(this._duration,Math.max(0,t)))+" / "+Object(s.a)(this._duration)}_getReady(t){let e=t.readyFraction;return e>.5?Math.pow(1-(e-.5)/.5,2):0}_createWrapper({backgroundImagePromise:t,video:e,panelPlacement:n,infoPanelPosition:r}){var o=i()('<div class="game-display"></div>').attr("data-panel-placement",n).attr("data-info-panel-position",r).append('<div class="game-display--bg js-back-image"></div>').append(this.view);return t&&Promise.resolve(t).then((t=>o.find(".js-back-image").append(t))),e&&(this._video=e.element,this._videoOffset=e.offset,i()(e.element).addClass("game-display--video-bg").appendTo(o)),o[0]}_createTouchEscapeButton(){const t=document.createElement("div");t.className="game-display--touch-buttons is-left",this.wrapper.appendChild(t),t.classList.add("is-visible");const e=(e,n)=>{let r=l(n,e);t.appendChild(r)};e("game-display--touch-escape-button",(()=>this._onEscape())),e("game-display--touch-replay-button",(()=>this._onReplay()));const n=document.createElement("div");n.textContent="Click or press Esc to exit the tutorial",n.className="game-display--escape-hint",this._escapeHint=n,t.appendChild(n)}_createFullScreenButton(){if(Object(a.b)()||!u.a.enabled)return;const t=document.createElement("div");t.className="game-display--touch-buttons is-visible is-right",this.wrapper.appendChild(t);const e=l((()=>{u.a.request()}),"game-display--touch-fullscreen-button");t.appendChild(e)}get context(){return this._context}get view(){return this._context.view}get wrapper(){return this._wrapper}}},function(t,e,n){var r=n(794);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,".game-display {\n  display: block;\n  margin: 0 auto;\n  overflow: hidden;\n  position: relative;\n}\n.game-display--bg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  background: url("+r(n(795))+") center no-repeat;\n  background-size: cover;\n  -webkit-animation: 1.5s game-display--bg-default;\n          animation: 1.5s game-display--bg-default;\n  -webkit-animation-fill-mode: both;\n          animation-fill-mode: both;\n}\n.game-display[data-info-panel-position=top] .game-display--bg {\n  -webkit-animation-name: game-display--bg-down;\n          animation-name: game-display--bg-down;\n}\n.game-display--video-bg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: -48px;\n  left: 0px;\n  z-index: 11;\n  opacity: 0;\n  transition: 0.5s opacity;\n  will-change: opacity;\n}\n.game-display--video-bg.is-playing {\n  opacity: 1;\n}\n.game-display[data-panel-placement=left] .game-display--video-bg {\n  -webkit-transform: translateX(13.671875%) scale(0.87);\n          transform: translateX(13.671875%) scale(0.87);\n}\n.game-display[data-panel-placement=right] .game-display--video-bg {\n  -webkit-transform: translateX(13.671875%) scale(0.87);\n          transform: translateX(13.671875%) scale(0.87);\n}\n.game-display--bg img {\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: cover;\n  -webkit-animation: 1.2s game-display--bg-default;\n          animation: 1.2s game-display--bg-default;\n  -webkit-animation-fill-mode: both;\n          animation-fill-mode: both;\n}\n.game-display[data-info-panel-position=top] .game-display--bg img {\n  -webkit-animation-name: game-display--bg-down;\n          animation-name: game-display--bg-down;\n}\n.game-display > canvas {\n  position: relative;\n  z-index: 100;\n}\n.game-display--touch-buttons {\n  position: fixed;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  top: 0;\n  opacity: 0;\n  z-index: 110;\n}\n.game-display--touch-buttons.is-visible {\n  opacity: 1;\n}\n.game-display--touch-buttons.is-left {\n  left: 0;\n}\n.game-display--touch-buttons.is-right {\n  right: 0;\n}\n.game-display--touch-escape-button, .game-display--touch-replay-button, .game-display--touch-fullscreen-button {\n  position: absolute;\n  top: 12px;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  width: 32px;\n  height: 32px;\n  background: transparent center center no-repeat;\n  background-size: 32px 32px;\n  cursor: pointer;\n}\n.game-display--touch-escape-button {\n  background-image: url("+r(n(796))+");\n  left: 12px;\n}\n.game-display--touch-replay-button {\n  background-image: url("+r(n(797))+");\n  left: 56px;\n}\n.game-display--touch-fullscreen-button {\n  background-image: url("+r(n(798))+');\n  right: 12px;\n}\n:root:-webkit-full-screen .game-display--touch-fullscreen-button {\n  display: none;\n}\n:root:fullscreen .game-display--touch-fullscreen-button {\n  display: none;\n}\n.game-display--escape-hint {\n  position: absolute;\n  left: 12px;\n  top: 56px;\n  display: none;\n  background: #b61a44;\n  padding: 8px 12px;\n  color: white;\n  white-space: nowrap;\n  border-radius: 8px;\n  font-weight: bold;\n  font-size: 1rem;\n  pointer-events: none;\n}\n.game-display--escape-hint.is-shown {\n  display: block;\n}\n.game-display--escape-hint::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  top: -8px;\n  left: 16px;\n  margin-left: -8px;\n  border-width: 0 8px 8px 8px;\n  border-style: solid;\n  border-color: transparent;\n  border-bottom-color: #b61a44;\n}\n\n@-webkit-keyframes game-display--bg-default {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, -35px);\n            transform: translate(0, -35px);\n    opacity: 1;\n  }\n}\n\n@keyframes game-display--bg-default {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, -35px);\n            transform: translate(0, -35px);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes game-display--bg-down {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, 35px);\n            transform: translate(0, 35px);\n    opacity: 1;\n  }\n}\n@keyframes game-display--bg-down {\n  from {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0);\n    opacity: 0;\n  }\n  to {\n    -webkit-transform: translate(0, 35px);\n            transform: translate(0, 35px);\n    opacity: 1;\n  }\n}',""])},function(t,e,n){t.exports=n.p+"build/ea410328703171d8f693d3a404a11a8f.jpg"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACxUlEQVR4AdSYgWfrUBTG2xWNhLbQUbQAlUA7oEzKUNSGwqbA84INBs3oJPvj+75wUMe5Sd+yfM3KD+L2nvPdnNz7ndtp+nc6nQIQghjsQALeQQoyIZVniYyJ5T9BI0kRRE/ABryCr5q8ylyTtovugxV4k8Sb4E1i9Nsk3ANr8CFJMviQmN41hXfBAqQVyeYgkTK+AzMwAj7oCb48m8mYjfwnr5j7IDl02eKH4E9JYhl4lo3Mq1ldocyVueJJLkOW+Ck4OBL5BA/AbyCuL3N/llTDtGnxS5A5yvwJDAgvYCCxckflLZsIegM2jpXfg/EV9qCxxP7SSK43Pyn+xRHovgWn0L0jt5cfWQTHmz+CeYuO4jk4WpVQ+5s3Jn0Hty00YreSm853WWe3zwzxQYvdaKAXQTRMv3POH3TZ22++lZVwNI7I4eUOzzY581/UjM0dZql7yZ8X5m5fvmBbEBEFRhKz+5+nw6LSehrefl8h/vHMDEUk8bnEfKxYhL3xKXhlk68NhzcuGb81xkcM8WdsK8ySHr8u6+d1S/t0SUKERfh2rEKD0Ur3rYEro7EZNJIYQbzqHXQDtbIG6pucB0KClLkLLfpmSQ+YGObBJyRKmbPQYpi6SZnffyYkTF3QQpOzTzBub0PCW2NXU6hvm8/9sw7kUb5bgnjlcfS8gbUyf2k7N0G8mj/RlV48jK1vg7cIBPHuvS4uHu7UwzuWgWEbqkKbirGzymLGdHFkNzlTcZKOcYEwIvr4nCVechjpC56O0f35zGaG3Ez5Kl7aMRxSj9HOssVL7J52vP/at28CgIEYiqF4AssQzH/Jmt4z/QfhqptkAzwBn6AwmJ4ISYWH1bUIKobiy2ENES0xTVFtcYMRozHD0Vms7IDxOEACIgOSgskBJaGyYGm4PGGCMkOaeq/N9QVtrh5oc/W7NkecpM6Sp+P1+REepk4aEr9vwAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEEklEQVR4AdSaBY/zPAzHBw8cMzMzCo+ZmZmZmfvh7/1P8kt+kq65dLt00k9QZYbUSWynvkj/Pj8/40Et6AZz4ABcgQfwTjzQswMa003/ifd58QfDc8EwOAGWJickK9d0p3+DNnAKrAhxSjp+m+R4DOgBj8CKEo+kM+Y7HfeDZvAQxtgPcEBh3AqKQAqIA0Eijp4V0Zhh+s9HGNn3ZIM/2s4ng10bw97BMqgFMZrRVUuy3mX6yJbkaDlfCO4lhryCfhAXAb1xJPvVJhoKI+18C3iXhPkUSIrCC0giXR+SyGuJhNIArUtLwBrI/IY9KJN0WxyyNeCm8ysSRZ0GnEKdEttWXJkEyZt/AdUGHcXV4EUUCW6seYtxBbIMTMSyyDaL0aKz279z503Oz6nuuBJsjIVfOefvediL37yRkfAiOCKTFTI8YZJTrWlYLGgEM2AbnIMX4hLsgRkak+BQ5oB0TxAnS34nQps1d3surwZsOUhrRQZX2sgdonG/FE6HZiep5wM/5zX2kD1gaXIMSkTOE9LkS5An3Num5lRh8Qwv8wt5wwiwXGYQBJnzIbLDJEs88nrs6nle0k59oXjZsHHiCHSDEpAOfhF/V4LdYYqsW8Gz4jA2TQlK6d+igW2CwiZJ0fkzieGLIF1xJ59xGBnVDmoHXkC1iQbyTk6/YthvSJKmAs3K85LJVE50Qr7wzpKgh8eSB4WSVrLmtxVkKMlmtDkspXlSl2uX7y8rvSWx80F95/mGJ6TPoaxlaZ0g6N7WKhi5Jwj7uGg4T4w5lFfLu83/zZ/50RejkORYjIJoOU/MK2zS/EiMF83MvoKhW3y3d8H5AWApsK4g++CPSKezV7mGptyez2i6SwXNLzq+skExRVoLaAN9YAzMg3UwqdHb6A49nGMPWx0Ka+RJjgcqxVZm85woLIocCpvls+mBCShiNh/4BA2EFIfCttn/SjwwASn8xPIJqr84h8LO+fr3wATEMZsffDxDcprACLouvzwwAUGe8XpyAsiRjv/QpjMBnlsC0JXG17LGEvDeJghd5Uz3lsYm6L1jkMJe0LhRPwY9mQiFdHGbdRIhY1Jhh3ozBMVbnE4qXMvD4juKIQWdC+4WQwaUw5rNlzqdctjMhoh8yV0wXXvAr9EQMbolxhOYHZ1oE7fEvNEUjQObCq0whaao+W3xfMmd/wb7+kOvLW7gxUgG/ccScMo3ae2LEQOuxtJAMegBhzb/3xQtK42rMU9djsq//NK8HOVv8N6w6/G9cBegGtfjxn4g8UGnSLXLn881m/CJzKzgE5kLejZLY2L/at8OLACAgSAI1nolpH9IC8kJ4U0Xi50H21y1yJikbHJGSausWdouD0wgM9DUBZtbB1mbgs3lP5sDJ9FZeHo6n99ybdMJ2yzi/QAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC30lEQVR4AdyYgacqQRTGt1u0NmqhSyiAFFRAXEUICEHXA563KNiH9tK19cf3vjgexje7e+9p9m4NPxhzzpzzdXbmTJ7rcb1eW2AEFmALIhCDBKRCInORrFmITct7xIHAe2AN9uCiZC++elVPugnm4AAujjjIHs0qJe6DJfgAl5L4kD39n0y8BiYgyQn2DCIp4xkYgBAEoC4EMjeQNWuxOef4PkoMtbKT74DfGYGlYCcHma+srpH4Sm37SSydspLvi/IskE+wAoGDfQPx/ZlRDX3XyU9BainzDWiX8AO0Za+zpfKmLjZ9AWuL8r9A9wfOoK7szWJag5d7Jv9u2eitArfQmyW297uIYPnlT2BYoat4CE6sEtTfPHEag9cKNmKvICbxTjWnfUqSb1W4G20REVLQ/849fyRlz3/56lXCiVyRneIdHm9yhg/0GBtamqVaEeNJVU57B7fDpEjrmZj3fI7N5SuIWSn+SJ9wBH6WwZJ0eN0HFqBLOsal9T1PnrQb9wE797chT+kmWzgnD5v2EwjQJg+oOVt4MBatPAxFwGcwvsNhNs76X6Cgj5VhdzAX9EjzECgF0IlAklcIEJCmrpfV7++KB0mTVovAkmdifMHfzvpOIP/ejhQCjLUiZPlQCDAybPf/+2eykV/YMQlIIUKurUIAn/htMWX+eBgaAb4pQr6NQgCxjcxKv00u+LehECA7oRg0iJ8GiO3J6wUgZ93iNrk1Jmd6Aawi/AVhhq9Q1vBq0QswM+y3rCwGnnZwEWKaPBchBmMHcQyMXCOPlF3o6HXW0K9VxxCan6NHXn+B96TjlpuRa+KRDqn+xALUzY73X/v2UQAgDMBQVA+yKqH+L9zZezRPAnQn//sBlkD6JugYdBFyFe5G0yLoMeQ5nByIiMSEomJxxYhqTDk6PitrQD0OkIDIgKRgckBJqCxYGi5PmKDMkKbOa3N1QyhSDmhz5WVtjjhJnSVPB+jzPZGAyclJbc34AAAAAElFTkSuQmCC"},function(t,e,n){!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=t.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(t){var n=i.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[n]():t[n](r?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){e[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var r=o[t];r&&e.addEventListener(r,n,!1)},off:function(t,n){var r=o[t];r&&e.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?t.exports=s:window.screenfull=s):n?t.exports=!1:window.screenfull=!1}()},function(t,e,n){"use strict";var r=n(103),i=n(30),o=n.n(i),s=n(680),a=n(83);e.a=class{constructor(t,e,{keysoundCache:n=s.a}={}){this._assets=t,this._master=e,this._keysoundCache=n}loadFiles(t,e,n){let i=r.c(t.length,e),s=r.c(t.length,n);return n&&(n.formatter=a.b),Promise.map(t,(t=>new Promise((e=>{requestAnimationFrame((()=>{e(this._loadSample(t,i,s))}))}))),{concurrency:64}).then((t=>o()(t).filter().fromPairs().value()))}_loadSample(t,e,n){return(()=>this._keysoundCache.isCached(t)?Promise.resolve(this._keysoundCache.get(t)).tap((()=>{e(t),n(t)})):this._getFile(t).then((r=>r.read().tap((()=>{e(t)})).then((t=>this._decode(t))).tap((e=>{this._keysoundCache.cache(t,e),n(t)})))))().then((t=>this._master.sample(t))).then((e=>[t,e])).catch((e=>(console.error("Unable to load keysound: "+t,e),null)))}_decode(t){return this._master.decode(t)}_getFile(t){return t=t.replace(/\\/g,"/"),Promise.try((()=>this._assets.file(t.replace(/\.\w+$/,".ogg")))).catch((()=>this._assets.file(t.replace(/\.\w+$/,".m4a")))).catch((()=>this._assets.file(t.replace(/\.\w+$/,".mp3")))).catch((()=>this._assets.file(t)))}}},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return Lt})),n.d(e,"b",(function(){return nt})),n.d(e,"c",(function(){return re})),n.d(e,"d",(function(){return ae})),n.d(e,"e",(function(){return Y})),n.d(e,"f",(function(){return Yt})),n.d(e,"g",(function(){return Wt})),n.d(e,"h",(function(){return de}));var i=[];Object.freeze(i);var o={};function s(){return++jt.mobxGuid}function a(t){throw c(!1,t),"X"}function c(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(o);function u(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var l=function(){};function f(t){return null!==t&&"object"==typeof t}function h(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function p(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function d(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return f(t)&&!0===t[n]}}function b(t){return t instanceof Map}function m(t){return t instanceof Set}function y(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function v(t){return t&&t.toString?t.toString():new String(t).toString()}function g(t){return null===t?null:"object"==typeof t?""+t:t}var _="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,w=Symbol("mobx administration"),S=function(){function t(t){void 0===t&&(t="Atom@"+s()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Q.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Dt(this)},t.prototype.reportChanged=function(){Ft(),function(t){if(t.lowestObserverState===Q.STALE)return;t.lowestObserverState=Q.STALE,t.observers.forEach((function(e){e.dependenciesState===Q.UP_TO_DATE&&(e.isTracing!==Z.NONE&&Bt(e,t),e.onBecomeStale()),e.dependenciesState=Q.STALE}))}(this),Rt()},t.prototype.toString=function(){return this.name},t}(),x=d("Atom",S);function k(t,e,n){void 0===e&&(e=l),void 0===n&&(n=l);var r,i=new S(t);return e!==l&&ne("onBecomeObserved",i,e,r),n!==l&&ee(i,n),i}var E={identity:function(t,e){return t===e},structural:function(t,e){return Je(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return Je(t,e,1)}},O=function(t,e){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},O(t,e)};var A=function(){return A=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},A.apply(this,arguments)};function M(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function C(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function j(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(C(arguments[e]));return t}var T=Symbol("mobx did run lazy initializers"),I=Symbol("mobx pending decorators"),P={},F={};function R(t,e){var n=e?P:F;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return D(this),this[t]},set:function(e){D(this),this[t]=e}})}function D(t){var e,n;if(!0!==t[T]){var r=t[I];if(r){p(t,T,!0);var i=j(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=M(i),s=o.next();!s.done;s=o.next()){var a=r[s.value];a.propertyCreator(t,a.prop,a.descriptor,a.decoratorTarget,a.decoratorArguments)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}}function B(t,e){return function(){var n,r=function(r,i,o,s){if(!0===s)return e(r,i,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,I)){var a=r[I];p(r,I,A({},a))}return r[I][i]={prop:i,propertyCreator:e,descriptor:o,decoratorTarget:r,decoratorArguments:n},R(i,t)};return N(arguments)?(n=i,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function N(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function L(t,e,n){return fe(t)?t:Array.isArray(t)?Y.array(t,{name:n}):h(t)?Y.object(t,void 0,{name:n}):b(t)?Y.map(t,{name:n}):m(t)?Y.set(t,{name:n}):t}function q(t){return t}function U(e){c(e);var n=B(!0,(function(t,n,r,i,o){var s=r?r.initializer?r.initializer.call(t):r.value:void 0;qe(t).addObservableProp(n,s,e)})),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function V(t){return null==t?z:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(z);var H=U(L),W=U((function(t,e,n){return null==t||We(t)||Te(t)||Re(t)||Ne(t)?t:Array.isArray(t)?Y.array(t,{name:n,deep:!1}):h(t)?Y.object(t,void 0,{name:n,deep:!1}):b(t)?Y.map(t,{name:n,deep:!1}):m(t)?Y.set(t,{name:n,deep:!1}):a(!1)})),K=U(q),G=U((function(t,e,n){return Je(t,e)?e:t}));function $(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?q:L}var J={box:function(t,e){arguments.length>2&&X("box");var n=V(e);return new St(t,$(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&X("array");var n=V(e);return Oe(t,$(n),n.name)},map:function(t,e){arguments.length>2&&X("map");var n=V(e);return new Fe(t,$(n),n.name)},set:function(t,e){arguments.length>2&&X("set");var n=V(e);return new Be(t,$(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&X("object");var r=V(n);if(!1===r.proxy)return ie({},t,e,r);var i=oe(r),o=ie({},void 0,void 0,r),s=ve(o);return se(s,t,e,i),s},ref:K,shallow:W,deep:H,struct:G},Y=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return H.apply(null,arguments);if(fe(t))return t;var r=h(t)?Y.object(t,e,n):Array.isArray(t)?Y.array(t,e):b(t)?Y.map(t,e):m(t)?Y.set(t,e):t;if(r!==t)return r;a(!1)};function X(t){a("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(J).forEach((function(t){return Y[t]=J[t]}));var Q,Z,tt=B(!1,(function(t,e,n,r,i){var o=n.get,s=n.set,a=i[0]||{};qe(t).addComputedProp(t,e,A({get:o,set:s,context:t},a))})),et=tt({equals:E.structural}),nt=function(t,e,n){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new xt(r)};nt.struct=et,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Q||(Q={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Z||(Z={}));var rt=function(t){this.cause=t};function it(t){return t instanceof rt}function ot(t){switch(t.dependenciesState){case Q.UP_TO_DATE:return!1;case Q.NOT_TRACKING:case Q.STALE:return!0;case Q.POSSIBLY_STALE:for(var e=ht(!0),n=lt(),r=t.observing,i=r.length,o=0;o<i;o++){var s=r[o];if(kt(s)){if(jt.disableErrorBoundaries)s.get();else try{s.get()}catch(t){return ft(n),pt(e),!0}if(t.dependenciesState===Q.STALE)return ft(n),pt(e),!0}}return dt(t),ft(n),pt(e),!1}}function st(t){var e=t.observers.size>0;jt.computationDepth>0&&e&&a(!1),jt.allowStateChanges||!e&&"strict"!==jt.enforceActions||a(!1)}function at(t,e,n){var r=ht(!0);dt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++jt.runId;var i,o=jt.trackingDerivation;if(jt.trackingDerivation=t,!0===jt.disableErrorBoundaries)i=e.call(n);else try{i=e.call(n)}catch(t){i=new rt(t)}return jt.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=Q.UP_TO_DATE,i=0,o=t.unboundDepsCount,s=0;s<o;s++){0===(a=n[s]).diffValue&&(a.diffValue=1,i!==s&&(n[i]=a),i++),a.dependenciesState>r&&(r=a.dependenciesState)}n.length=i,t.newObserving=null,o=e.length;for(;o--;){0===(a=e[o]).diffValue&&It(a,t),a.diffValue=0}for(;i--;){var a;1===(a=n[i]).diffValue&&(a.diffValue=0,Tt(a,t))}r!==Q.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),pt(r),i}function ct(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)It(e[n],t);t.dependenciesState=Q.NOT_TRACKING}function ut(t){var e=lt();try{return t()}finally{ft(e)}}function lt(){var t=jt.trackingDerivation;return jt.trackingDerivation=null,t}function ft(t){jt.trackingDerivation=t}function ht(t){var e=jt.allowStateReads;return jt.allowStateReads=t,e}function pt(t){jt.allowStateReads=t}function dt(t){if(t.dependenciesState!==Q.UP_TO_DATE){t.dependenciesState=Q.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Q.UP_TO_DATE}}var bt=0,mt=1,yt=Object.getOwnPropertyDescriptor((function(){}),"name");yt&&yt.configurable;function vt(t,e,n){var r=function(){return gt(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function gt(t,e,n,r){var i=function(t,e,n){var r=!1,i=0;var o=lt();Ft();var s=_t(!0),a=ht(!0),c={prevDerivation:o,prevAllowStateChanges:s,prevAllowStateReads:a,notifySpy:r,startTime:i,actionId:mt++,parentActionId:bt};return bt=c.actionId,c}();try{return e.apply(n,r)}catch(t){throw i.error=t,t}finally{!function(t){bt!==t.actionId&&a("invalid action stack. did you forget to finish an action?");bt=t.parentActionId,void 0!==t.error&&(jt.suppressReactionErrors=!0);wt(t.prevAllowStateChanges),pt(t.prevAllowStateReads),Rt(),ft(t.prevDerivation),t.notifySpy&&!1;jt.suppressReactionErrors=!1}(i)}}function _t(t){var e=jt.allowStateChanges;return jt.allowStateChanges=t,e}function wt(t){jt.allowStateChanges=t}var St=function(t){function e(e,n,r,i,o){void 0===r&&(r="ObservableValue@"+s()),void 0===i&&(i=!0),void 0===o&&(o=E.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),a}return function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==jt.UNCHANGED){false,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(st(this),ge(this)){var e=we(this,{object:this,type:"update",newValue:t});if(!e)return jt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?jt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Se(this)&&ke(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return _e(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),xe(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return g(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(S),xt=(d("ObservableValue",St),function(){function t(t){this.dependenciesState=Q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+s(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Z.NONE,c(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+s(),t.set&&(this.setter=vt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?E.structural:E.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==Q.UP_TO_DATE)return;t.lowestObserverState=Q.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===Q.UP_TO_DATE&&(e.dependenciesState=Q.POSSIBLY_STALE,e.isTracing!==Z.NONE&&Bt(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&a("Cycle detected in computation "+this.name+": "+this.derivation),0!==jt.inBatch||0!==this.observers.size||this.keepAlive?(Dt(this),ot(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===Q.STALE)return;t.lowestObserverState=Q.STALE,t.observers.forEach((function(e){e.dependenciesState===Q.POSSIBLY_STALE?e.dependenciesState=Q.STALE:e.dependenciesState===Q.UP_TO_DATE&&(t.lowestObserverState=Q.UP_TO_DATE)}))}(this)):ot(this)&&(this.warnAboutUntrackedRead(),Ft(),this.value=this.computeValue(!1),Rt());var t=this.value;if(it(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(it(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else c(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===Q.NOT_TRACKING,n=this.computeValue(!0),r=e||it(t)||it(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,jt.computationDepth++,t)e=at(this,this.derivation,this.scope);else if(!0===jt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new rt(t)}return jt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ct(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return Qt((function(){var o=n.get();if(!r||e){var s=lt();t({type:"update",object:n,newValue:o,oldValue:i}),ft(s)}r=!1,i=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return g(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}()),kt=d("ComputedValue",xt),Et=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ot={};function At(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:Ot}var Mt=!0,Ct=!1,jt=function(){var t=At();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Mt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Et).version&&(Mt=!1),Mt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Et):(setTimeout((function(){Ct||a("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Et)}();function Tt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function It(t,e){t.observers.delete(e),0===t.observers.size&&Pt(t)}function Pt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,jt.pendingUnobservations.push(t))}function Ft(){jt.inBatch++}function Rt(){if(0==--jt.inBatch){Ut();for(var t=jt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof xt&&n.suspend())}jt.pendingUnobservations=[]}}function Dt(t){var e=jt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&jt.inBatch>0&&Pt(t),!1)}function Bt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===Z.BREAK){var n=[];Nt(ae(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof xt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Nt(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return Nt(t,e,n+1)})))}var Lt=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+s()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+s(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Z.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,jt.pendingReactions.push(this),Ut())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Ft(),this._isScheduled=!1,ot(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Rt()}},t.prototype.track=function(t){if(!this.isDisposed){Ft();false,this._isRunning=!0;var e=at(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ct(this),it(e)&&this.reportExceptionInDerivation(e.cause),Rt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(jt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";jt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),jt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ft(),ct(this),Rt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[w]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=pe(t);if(!r)return a(!1);r.isTracing===Z.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Z.BREAK:Z.LOG}(this,t)},t}();var qt=function(t){return t()};function Ut(){jt.inBatch>0||jt.isRunningReactions||qt(zt)}function zt(){jt.isRunningReactions=!0;for(var t=jt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}jt.isRunningReactions=!1}var Vt=d("Reaction",Lt);function Ht(t){var e=qt;qt=function(n){return t((function(){return e(n)}))}}function Wt(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Kt(){a(!1)}function Gt(t){return function(e,n,r){if(r){if(r.value)return{value:vt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return vt(t,i.call(this))}}}return $t(t).apply(this,arguments)}}function $t(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){p(this,n,Jt(t,e))}})}}var Jt=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?vt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?vt(t,e):1===arguments.length&&"string"==typeof t?Gt(t):!0!==r?Gt(e).apply(null,arguments):void p(t,e,vt(t.name||e,n.value,this))};function Yt(t,e){"string"==typeof t||t.name;return gt(0,"function"==typeof t?t:e,this,void 0)}function Xt(t,e,n){p(t,e,vt(e,n.bind(t)))}function Qt(t,e){void 0===e&&(e=o);var n,r=e&&e.name||t.name||"Autorun@"+s();if(!e.scheduler&&!e.delay)n=new Lt(r,(function(){this.track(c)}),e.onError,e.requiresObservable);else{var i=te(e),a=!1;n=new Lt(r,(function(){a||(a=!0,i((function(){a=!1,n.isDisposed||n.track(c)})))}),e.onError,e.requiresObservable)}function c(){t(n)}return n.schedule(),n.getDisposer()}Jt.bound=function(t,e,n,r){return!0===r?(Xt(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Xt(this,e,n.value||n.initializer.call(this)),this[e]},set:Kt}:{enumerable:!1,configurable:!0,set:function(t){Xt(this,e,t)},get:function(){}}};var Zt=function(t){return t()};function te(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Zt}function ee(t,e,n){return ne("onBecomeUnobserved",t,e,n)}function ne(t,e,n,r){var i="function"==typeof r?Ke(e,n):Ke(e),o="function"==typeof r?r:n,s=t+"Listeners";return i[s]?i[s].add(o):i[s]=new Set([o]),"function"!=typeof i[t]?a(!1):function(){var t=i[s];t&&(t.delete(o),0===t.size&&delete i[s])}}function re(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,i=t.disableErrorBoundaries,o=t.reactionScheduler,s=t.reactionRequiresObservable,c=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((jt.pendingReactions.length||jt.inBatch||jt.isRunningReactions)&&a("isolateGlobalState should be called before MobX is running any reactions"),Ct=!0,Mt&&(0==--At().__mobxInstanceCount&&(At().__mobxGlobals=void 0),jt=new Et)),void 0!==e){var u=void 0;switch(e){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:a("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}jt.enforceActions=u,jt.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(jt.computedRequiresReaction=!!n),void 0!==s&&(jt.reactionRequiresObservable=!!s),void 0!==c&&(jt.observableRequiresReaction=!!c,jt.allowStateReads=!jt.observableRequiresReaction),void 0!==r&&(jt.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),jt.disableErrorBoundaries=!!i),o&&Ht(o)}function ie(t,e,n,r){var i=oe(r=V(r));return D(t),qe(t,r.name,i.enhancer),e&&se(t,e,n,i),t}function oe(t){return t.defaultDecorator||(!1===t.deep?K:H)}function se(t,e,n,r){var i,o;Ft();try{var s=_(e);try{for(var a=M(s),c=a.next();!c.done;c=a.next()){var u=c.value,l=Object.getOwnPropertyDescriptor(e,u);0;var f=(n&&u in n?n[u]:l.get?tt:r)(t,u,l,!0);f&&Object.defineProperty(t,u,f)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}finally{Rt()}}function ae(t,e){return ce(Ke(t,e))}function ce(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(ce)),r}function ue(){this.message="FLOW_CANCELLED"}function le(t,e){return null!=t&&(void 0!==e?!!We(t)&&t[w].values.has(e):We(t)||!!t[w]||x(t)||Vt(t)||kt(t))}function fe(t){return 1!==arguments.length&&a(!1),le(t)}function he(t,e,n){if(2!==arguments.length||Ne(t))if(We(t)){var r=t[w],i=r.values.get(e);i?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(Re(t))t.set(e,n);else if(Ne(t))t.add(e);else{if(!Te(t))return a(!1);"number"!=typeof e&&(e=parseInt(e,10)),c(e>=0,"Not a valid index: '"+e+"'"),Ft(),e>=t.length&&(t.length=e+1),t[e]=n,Rt()}else{Ft();var o=e;try{for(var s in o)he(t,s,o[s])}finally{Rt()}}}ue.prototype=Object.create(Error.prototype);function pe(t){switch(t.length){case 0:return jt.trackingDerivation;case 1:return Ke(t[0]);case 2:return Ke(t[0],t[1])}}function de(t,e){void 0===e&&(e=void 0),Ft();try{return t.apply(e)}finally{Rt()}}function be(t){return t[w]}function me(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var ye={has:function(t,e){if(e===w||"constructor"===e||e===T)return!0;var n=be(t);return me(e)?n.has(e):e in t},get:function(t,e){if(e===w||"constructor"===e||e===T)return t[e];var n=be(t),r=n.values.get(e);if(r instanceof S){var i=r.get();return void 0===i&&n.has(e),i}return me(e)&&n.has(e),t[e]},set:function(t,e,n){return!!me(e)&&(he(t,e,n),!0)},deleteProperty:function(t,e){return!!me(e)&&(be(t).remove(e),!0)},ownKeys:function(t){return be(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return a("Dynamic observable objects cannot be frozen"),!1}};function ve(t){var e=new Proxy(t,ye);return t[w].proxy=e,e}function ge(t){return void 0!==t.interceptors&&t.interceptors.length>0}function _e(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),u((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function we(t,e){var n=lt();try{for(var r=j(t.interceptors||[]),i=0,o=r.length;i<o&&(c(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{ft(n)}}function Se(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function xe(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),u((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function ke(t,e){var n=lt(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);ft(n)}}var Ee={get:function(t,e){return e===w?t[w]:"length"===e?t[w].getArrayLength():"number"==typeof e?Me.get.call(t,e):"string"!=typeof e||isNaN(e)?Me.hasOwnProperty(e)?Me[e]:t[e]:Me.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[w].setArrayLength(n),"number"==typeof e&&Me.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:Me.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return a("Observable arrays cannot be frozen"),!1}};function Oe(t,e,n,r){void 0===n&&(n="ObservableArray@"+s()),void 0===r&&(r=!1);var i,o,a,c=new Ae(n,e,r);i=c.values,o=w,a=c,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(c.values,Ee);if(c.proxy=u,t&&t.length){var l=_t(!0);c.spliceWithArray(0,0,t),wt(l)}return u}var Ae=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new S(t||"ObservableArray@"+s()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return _e(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),xe(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;st(this.atom);var o=this.values.length;if(void 0===t?t=0:t>o?t=o:t<0&&(t=Math.max(0,o+t)),e=1===arguments.length?o-t:null==e?0:Math.max(0,Math.min(e,o-t)),void 0===n&&(n=i),ge(this)){var s=we(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!s)return i;e=s.removedCount,n=s.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,j([t,e],n));var i=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,i=Se(this),o=i||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),i&&ke(this,o)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,i=Se(this),o=i||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),i&&ke(this,o)},t}(),Me={intercept:function(t){return this[w].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[w].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[w];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[w];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[w].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[w];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[w].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[w];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[w],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[w];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[w],r=n.values;if(t<r.length){st(n.atom);var i=r[t];if(ge(n)){var o=we(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Me[t]=function(){var e=this[w];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Me[t]=function(e,n){var r=this,i=this[w];return i.atom.reportObserved(),i.dehanceValues(i.values)[t]((function(t,i){return e.call(n,t,i,r)}),n)})})),["reduce","reduceRight"].forEach((function(t){Me[t]=function(){var e=this,n=this[w];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(t,i,o){return i=n.dehanceValue(i),r(t,i,o,e)},n.values[t].apply(n.values,arguments)}}));var Ce,je=d("ObservableArrayAdministration",Ae);function Te(t){return f(t)&&je(t[w])}var Ie,Pe={},Fe=function(){function t(t,e,n){if(void 0===e&&(e=L),void 0===n&&(n="ObservableMap@"+s()),this.enhancer=e,this.name=n,this[Ce]=Pe,this._keysAtom=k(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!jt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new St(this._has(t),q,this.name+"."+v(t)+"?",!1);this._hasMap.set(t,r),ee(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(ge(this)){var r=we(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if((st(this._keysAtom),ge(this))&&!(r=we(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=Se(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return de((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&ke(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==jt.UNCHANGED){var r=!1,i=Se(this),o=i?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;r,n.setNewValue(e),i&&ke(this,o)}},t.prototype._addValue=function(t,e){var n=this;st(this._keysAtom),de((function(){var r=new St(e,n.enhancer,n.name+"."+v(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=!1,i=Se(this),o=i?{type:"add",object:this,name:t,newValue:e}:null;i&&ke(this,o)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return Ze({next:function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:t.get(i)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return Ze({next:function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,t.get(i)]}}})},t.prototype[(Ce=w,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var i=M(this),o=i.next();!o.done;o=i.next()){var s=C(o.value,2),a=s[0],c=s[1];t.call(e,c,a,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return Re(t)&&(t=t.toJS()),de((function(){var n=_t(!0);try{h(t)?y(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=C(t,2),r=n[0],i=n[1];return e.set(r,i)})):b(t)?(t.constructor!==Map&&a("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&a("Cannot initialize map from "+t)}finally{wt(n)}})),this},t.prototype.clear=function(){var t=this;de((function(){ut((function(){var e,n;try{for(var r=M(t.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return de((function(){var n,r,i,o,s=function(t){if(b(t)||Re(t))return t;if(Array.isArray(t))return new Map(t);if(h(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return a("Cannot convert to map from '"+t+"'")}(t),c=new Map,u=!1;try{for(var l=M(e._data.keys()),f=l.next();!f.done;f=l.next()){var p=f.value;if(!s.has(p))if(e.delete(p))u=!0;else{var d=e._data.get(p);c.set(p,d)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var m=M(s.entries()),y=m.next();!y.done;y=m.next()){var v=C(y.value,2),g=(p=v[0],d=v[1],e._data.has(p));if(e.set(p,d),e._data.has(p)){var _=e._data.get(p);c.set(p,_),g||(u=!0)}}}catch(t){i={error:t}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}if(!u)if(e._data.size!==c.size)e._keysAtom.reportChanged();else for(var w=e._data.keys(),S=c.keys(),x=w.next(),k=S.next();!x.done;){if(x.value!==k.value){e._keysAtom.reportChanged();break}x=w.next(),k=S.next()}e._data=c})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=M(this),i=r.next();!i.done;i=r.next()){var o=C(i.value,2),s=o[0],a=o[1];n["symbol"==typeof s?s:v(s)]=a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return v(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return xe(this,t)},t.prototype.intercept=function(t){return _e(this,t)},t}(),Re=d("ObservableMap",Fe),De={},Be=function(){function t(t,e,n){if(void 0===e&&(e=L),void 0===n&&(n="ObservableSet@"+s()),this.name=n,this[Ie]=De,this._data=new Set,this._atom=k(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;de((function(){ut((function(){var e,n;try{for(var r=M(t._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var i=M(this),o=i.next();!o.done;o=i.next()){var s=o.value;t.call(e,s,s,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((st(this._atom),ge(this))&&!(i=we(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){de((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=!1,r=Se(this),i=r?{type:"add",object:this,newValue:t}:null;n,r&&ke(this,i)}return this},t.prototype.delete=function(t){var e=this;if(ge(this)&&!(r=we(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=Se(this),r=n?{type:"delete",object:this,oldValue:t}:null;return de((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&ke(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Ze({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Ze({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return Ne(t)&&(t=t.toJS()),de((function(){var n=_t(!0);try{Array.isArray(t)||m(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&a("Cannot initialize set from "+t)}finally{wt(n)}})),this},t.prototype.observe=function(t,e){return xe(this,t)},t.prototype.intercept=function(t){return _e(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(Ie=w,Symbol.iterator)]=function(){return this.values()},t}(),Ne=d("ObservableSet",Be),Le=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new S(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof xt)r.set(e);else{if(ge(this)){if(!(s=we(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=s.newValue}if((e=r.prepareNewValue(e))!==jt.UNCHANGED){var i=Se(this),o=!1,s=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;o,r.setNewValue(e),i&&ke(this,s)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new St(r,q,this.name+"."+v(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(ge(this)){var i=we(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!i)return;e=i.newValue}var o=new St(e,n,this.name+"."+v(t),!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,function(t){return Ue[t]||(Ue[t]={configurable:!0,enumerable:!0,get:function(){return this[w].read(t)},set:function(e){this[w].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,i,o,s=this.target;n.name=n.name||this.name+"."+v(e),this.values.set(e,new xt(n)),(t===s||(r=t,i=e,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return ze[t]||(ze[t]={configurable:jt.computedConfigurable,enumerable:!1,get:function(){return Ve(this).read(t)},set:function(e){Ve(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(ge(this))if(!(a=we(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Ft();var n=Se(this),r=!1,i=this.values.get(t),o=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var s=this.pendingKeys.get(t);s&&s.set(!1)}delete this.target[t];var a=n?{type:"remove",object:this.proxy||e,oldValue:o,name:t}:null;r,n&&ke(this,a)}finally{Rt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return xe(this,t)},t.prototype.intercept=function(t){return _e(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=Se(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&ke(this,r),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=M(this.values),i=r.next();!i.done;i=r.next()){var o=C(i.value,2),s=o[0];o[1]instanceof St&&n.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function qe(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=L),Object.prototype.hasOwnProperty.call(t,w))return t[w];h(t)||(e=(t.constructor.name||"ObservableObject")+"@"+s()),e||(e="ObservableObject@"+s());var r=new Le(t,new Map,v(e),n);return p(t,w,r),r}var Ue=Object.create(null),ze=Object.create(null);function Ve(t){var e=t[w];return e||(D(t),t[w])}var He=d("ObservableObjectAdministration",Le);function We(t){return!!f(t)&&(D(t),He(t[w]))}function Ke(t,e){if("object"==typeof t&&null!==t){if(Te(t))return void 0!==e&&a(!1),t[w].atom;if(Ne(t))return t[w];if(Re(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||a(!1),r)}var r;if(D(t),e&&!t[w]&&t[e],We(t))return e?((r=t[w].values.get(e))||a(!1),r):a(!1);if(x(t)||kt(t)||Vt(t))return t}else if("function"==typeof t&&Vt(t[w]))return t[w];return a(!1)}function Ge(t,e){return t||a("Expecting some object"),void 0!==e?Ge(Ke(t,e)):x(t)||kt(t)||Vt(t)||Re(t)||Ne(t)?t:(D(t),t[w]?t[w]:void a(!1))}var $e=Object.prototype.toString;function Je(t,e,n){return void 0===n&&(n=-1),Ye(t,e,n)}function Ye(t,e,n,r,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;if("function"!==o&&"object"!==o&&"object"!=typeof e)return!1;var s=$e.call(t);if(s!==$e.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=Xe(t),e=Xe(e);var a="[object Array]"===s;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,u=e.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var l=(r=r||[]).length;l--;)if(r[l]===t)return i[l]===e;if(r.push(t),i.push(e),a){if((l=t.length)!==e.length)return!1;for(;l--;)if(!Ye(t[l],e[l],n-1,r,i))return!1}else{var f=Object.keys(t),h=void 0;if(l=f.length,Object.keys(e).length!==l)return!1;for(;l--;)if(!Qe(e,h=f[l])||!Ye(t[h],e[h],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Xe(t){return Te(t)?t.slice():b(t)||Re(t)||m(t)||Ne(t)?Array.from(t.entries()):t}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ze(t){return t[Symbol.iterator]=tn,t}function tn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Wt,extras:{getDebugName:function(t,e){return(void 0!==e?Ke(t,e):We(t)||Re(t)||Ne(t)?Ge(t):Ke(t)).name}},$mobx:w})}).call(this,n(36),n(31))},function(t,e,n){"use strict";e.isObject=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i},function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(53).Subscription);e.SubjectSubscription=i},function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";e.isPromise=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},function(t,e,n){"use strict";var r=n(137);e.of=r.ArrayObservable.of},function(t,e,n){"use strict";var r=n(810);e.from=r.FromObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(106),o=n(806),s=n(807),a=n(811),c=n(1216),u=n(137),l=n(1217),f=n(323),h=n(25),p=n(371),d=n(367),b=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[d.observable])return t instanceof h.Observable&&!n?t:new e(t,n);if(i.isArray(t))return new u.ArrayObservable(t,n);if(s.isPromise(t))return new a.PromiseObservable(t,n);if("function"==typeof t[f.iterator]||"string"==typeof t)return new c.IteratorObservable(t,n);if(o.isArrayLike(t))return new l.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new p.ObserveOnSubscriber(t,n,0))},e}(h.Observable);e.FromObservable=b},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(67),o=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then((function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())}),(function(e){t.closed||t.error(e)})).then(null,(function(t){i.root.setTimeout((function(){throw t}))}));else if(this._isScalar){if(!t.closed)return r.schedule(s,0,{value:this.value,subscriber:t})}else n.then((function(n){e.value=n,e._isScalar=!0,t.closed||t.add(r.schedule(s,0,{value:n,subscriber:t}))}),(function(e){t.closed||t.add(r.schedule(a,0,{err:e,subscriber:t}))})).then(null,(function(t){i.root.setTimeout((function(){throw t}))}))},e}(n(25).Observable);function s(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function a(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}e.PromiseObservable=o},function(t,e,n){"use strict";e.identity=function(t){return t}},function(t,e,n){"use strict";var r=n(1267);e.timer=r.TimerObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(67),o=n(62),s=n(59),a=n(25),c=n(32),u=n(330);function l(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;if(i.root.XDomainRequest)return new i.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function f(t,e){return void 0===e&&(e=null),new v({method:"GET",url:t,headers:e})}function h(t,e,n){return new v({method:"POST",url:t,body:e,headers:n})}function p(t,e){return new v({method:"DELETE",url:t,headers:e})}function d(t,e,n){return new v({method:"PUT",url:t,body:e,headers:n})}function b(t,e,n){return new v({method:"PATCH",url:t,body:e,headers:n})}e.ajaxGet=f,e.ajaxPost=h,e.ajaxDelete=p,e.ajaxPut=d,e.ajaxPatch=b;var m=u.map((function(t,e){return t.response}));function y(t,e){return m(new v({method:"GET",url:t,responseType:"json",headers:e}))}e.ajaxGetJSON=y;var v=function(t){function e(e){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?l.call(this):function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(t=e[n],new i.root.ActiveXObject(t))break}catch(t){}return new i.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)n.url=e;else for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);this.request=n}var n;return r(e,t),e.prototype._subscribe=function(t){return new g(t,this.request)},e.create=((n=function(t){return new e(t)}).get=f,n.post=h,n.delete=p,n.put=d,n.patch=b,n.getJSON=y,n),e}(a.Observable);e.AjaxObservable=v;var g=function(t){function e(e,n){t.call(this,e),this.request=n,this.done=!1;var r=n.headers=n.headers||{};n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in r||i.root.FormData&&n.body instanceof i.root.FormData||void 0===n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return r(e,t),e.prototype.next=function(t){this.done=!0;var e=this,n=e.xhr,r=e.request,i=e.destination,o=new _(t,n,r);i.next(o)},e.prototype.send=function(){var t=this.request,e=this.request,n=e.user,r=e.method,i=e.url,a=e.async,c=e.password,u=e.headers,l=e.body,f=t.createXHR,h=o.tryCatch(f).call(t);if(h===s.errorObject)this.error(s.errorObject.e);else{this.xhr=h,this.setupEvents(h,t);if((n?o.tryCatch(h.open).call(h,r,i,a,n,c):o.tryCatch(h.open).call(h,r,i,a))===s.errorObject)return this.error(s.errorObject.e),null;if(a&&(h.timeout=t.timeout,h.responseType=t.responseType),"withCredentials"in h&&(h.withCredentials=!!t.withCredentials),this.setHeaders(h,u),(l?o.tryCatch(h.send).call(h,l):o.tryCatch(h.send).call(h))===s.errorObject)return this.error(s.errorObject.e),null}return h},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(i.root.FormData&&t instanceof i.root.FormData)return t;if(e){var n=e.indexOf(";");-1!==n&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.setupEvents=function(t,e){var n=e.progressSubscriber;function r(t){var e=r,n=e.subscriber,i=e.progressSubscriber,o=e.request;i&&i.error(t),n.error(new x(this,o))}if(t.ontimeout=r,r.request=e,r.subscriber=this,r.progressSubscriber=n,t.upload&&"withCredentials"in t){var o,s;if(n)o=function(t){o.progressSubscriber.next(t)},i.root.XDomainRequest?t.onprogress=o:t.upload.onprogress=o,o.progressSubscriber=n;s=function(t){var e=s,n=e.progressSubscriber,r=e.subscriber,i=e.request;n&&n.error(t),r.error(new w("ajax error",this,i))},t.onerror=s,s.request=e,s.subscriber=this,s.progressSubscriber=n}function a(t){var e=a,n=e.subscriber,r=e.progressSubscriber,i=e.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=s?200:0),200<=o&&o<300?(r&&r.complete(),n.next(t),n.complete()):(r&&r.error(t),n.error(new w("ajax error "+o,this,i)))}}t.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=n,a.request=e},e.prototype.unsubscribe=function(){var e=this.done,n=this.xhr;!e&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),t.prototype.unsubscribe.call(this)},e}(c.Subscriber);e.AjaxSubscriber=g;var _=function(t,e,n){this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.response=S(this.responseType,e)};e.AjaxResponse=_;var w=function(t){function e(e,n,r){t.call(this,e),this.message=e,this.xhr=n,this.request=r,this.status=n.status,this.responseType=n.responseType||r.responseType,this.response=S(this.responseType,n)}return r(e,t),e}(Error);function S(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;default:return"response"in e?e.response:e.responseText}}e.AjaxError=w;var x=function(t){function e(e,n){t.call(this,"ajax timeout",e,n)}return r(e,t),e}(w);e.AjaxTimeoutError=x},function(t,e,n){"use strict";var r=n(1275),i=n(1276);e.queue=new i.QueueScheduler(r.QueueAction)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.buffer=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.closingNotifier))},t}(),a=function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.bufferCount=function(t,e){return void 0===e&&(e=null),function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?a:s}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),s=function(t){function e(e,n){t.call(this,e),this.bufferSize=n,this.buffer=[]}return r(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(i.Subscriber),a=function(t){function e(e,n,r){t.call(this,e),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return r(e,t),e.prototype._next=function(t){var e=this,n=e.bufferSize,r=e.startBufferEvery,i=e.buffers,o=e.count;this.count++,o%r==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(t),a.length===n&&(i.splice(s,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(47),o=n(32),s=n(100);e.bufferTime=function(t){var e=arguments.length,n=i.async;s.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),function(e){return e.lift(new a(t,r,o,n))}};var a=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),c=function(){this.buffer=[]},u=function(t){function e(e,n,r,i,o){t.call(this,e),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var a={subscriber:this,context:s,bufferTimeSpan:n};this.add(s.closeAction=o.schedule(l,n,a))}else{var c={subscriber:this,context:s},u={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(h,n,c)),this.add(o.schedule(f,r,u))}}return r(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(l,n,r))}},e.prototype.openContext=function(){var t=new c;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(o.Subscriber);function l(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function f(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(h,n,{subscriber:r,context:o})),this.schedule(t,e))}function h(t){var e=t.subscriber,n=t.context;e.closeContext(n)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(53),o=n(39),s=n(38);e.bufferToggle=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new i.Subscription,r={buffer:[],subscription:n};e.push(r);var s=o.subscribeToResult(this,t,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))},e}(s.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(53),o=n(62),s=n(59),a=n(38),c=n(39);e.bufferWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return r(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var n=o.tryCatch(this.closingSelector)();n===s.errorObject?this.error(s.errorObject.e):(t=new i.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(c.subscribeToResult(this,n)),this.subscribing=!1)},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.catchError=function(t){return function(e){var n=new s(t),r=e.lift(n);return n.caught=r}};var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.selector,this.caught))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,n))}},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=n(370);e.combineAll=function(t){return function(e){return e.lift(new r.CombineLatestOperator(t))}}},function(t,e,n){"use strict";var r=n(324),i=n(324);e.concatStatic=i.concat,e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(r.concat.apply(void 0,[e].concat(t)))}}},function(t,e,n){"use strict";var r=n(693);e.concatMapTo=function(t,e){return r.concatMap((function(){return t}),e)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.count=function(t){return function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.count=0,this.index=0}return r(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.dematerialize=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.debounce=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}return r(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=o.subscribeToResult(this,e)).closed||this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(47);e.debounceTime=function(t,e){return void 0===e&&(e=o.async),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return r(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.Subscriber);function c(t){t.debouncedNext()}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(47),o=n(374),s=n(32),a=n(325);e.delay=function(t,e){void 0===e&&(e=i.async);var n=o.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(n,e))}};var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.delay,this.scheduler))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return r(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(a.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete())},e}(s.Subscriber),l=function(t,e){this.time=t,this.notification=e}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(25),s=n(38),a=n(39);e.delayWhen=function(t,e){return e?function(n){return new l(n,e).lift(new c(t))}:function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.delayDurationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),n=null;return-1!==e&&(n=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),n},e.prototype.tryDelay=function(t,e){var n=a.subscribeToResult(this,t,e);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(s.OuterSubscriber),l=function(t){function e(e,n){t.call(this),this.source=e,this.subscriptionDelay=n}return r(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new f(t,this.source))},e}(o.Observable),f=function(t){function e(e,n){t.call(this),this.parent=e,this.source=n,this.sourceSubscribed=!1}return r(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39),s=n(1318);e.distinct=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=n,this.values=new s.Set,r&&this.add(o.subscribeToResult(this,r))}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.OuterSubscriber);e.DistinctSubscriber=c},function(t,e,n){"use strict";var r=n(695);e.distinctUntilKeyChanged=function(t,e){return r.distinctUntilChanged((function(n,r){return e?e(n[t],r[t]):n[t]===r[t]}))}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.tap=function(t,e,n){return function(r){return r.lift(new o(t,e,n))}};var o=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,n,r,o){t.call(this,e);var s=new i.Subscriber(n,r,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return r(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.exhaust=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return r(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.exhaustMap=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return r(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var r=this.project(t,e);this.hasSubscription=!0,this.add(o.subscribeToResult(this,r,t,e))}catch(t){n.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(t,e,n,r):s.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i=this.resultSelector,o=this.destination;try{var s=i(t,e,n,r);o.next(s)}catch(t){o.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(62),o=n(59),s=n(38),a=n(39);e.expand=function(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new c(t,e,n))}};var c=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=c;var u=function(t){function e(e,n,r,i){t.call(this,e),this.project=n,this.concurrent=r,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}return r(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);var s=i.tryCatch(this.project)(t,r);if(s===o.errorObject)n.error(o.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:s,value:t,index:r};this.add(this.scheduler.schedule(e.dispatch,0,a))}else this.subscribeToProjection(s,t,r)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.add(a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(s.OuterSubscriber);e.ExpandSubscriber=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(331);e.elementAt=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.index,this.defaultValue))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.index=n,this.defaultValue=r}return r(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&(void 0!==this.defaultValue?t.next(this.defaultValue):t.error(new o.ArgumentOutOfRangeError)),t.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(53);e.finalize=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.callback))},t}(),a=function(t){function e(e,n){t.call(this,e),this.add(new o.Subscription(n))}return r(e,t),e}(i.Subscriber)},function(t,e,n){"use strict";var r=n(697);e.findIndex=function(t,e){return function(n){return n.lift(new r.FindValueOperator(t,n,!0,e))}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(377);e.first=function(t,e,n){return function(r){return r.lift(new s(t,e,n,r))}};var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),a=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return r(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new o.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(53),s=n(25),a=n(58),c=n(1345),u=n(1347);e.groupBy=function(t,e,n,r){return function(i){return i.lift(new l(t,e,n,r))}};var l=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),f=function(t){function e(e,n,r,i,o){t.call(this,e),this.keySelector=n,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return r(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups="string"==typeof e?new u.FastMap:new c.Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.Subject,n.set(e,i);var o=new p(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new p(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new h(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),h=function(t){function e(e,n,r){t.call(this,n),this.key=e,this.group=n,this.parent=r}return r(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.Subscriber),p=function(t){function e(e,n,r){t.call(this),this.key=e,this.groupSubject=n,this.refCountSubscription=r}return r(e,t),e.prototype._subscribe=function(t){var e=new o.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new d(n)),e.add(r.subscribe(t)),e},e}(s.Observable);e.GroupedObservable=p;var d=function(t){function e(e){t.call(this),this.parent=e,e.count++}return r(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.Subscription)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(688);e.ignoreElements=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._next=function(t){o.noop()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.isEmpty=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=n(47),i=n(698),o=n(813);e.auditTime=function(t,e){return void 0===e&&(e=r.async),i.audit((function(){return o.timer(t,e)}))}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(377);e.last=function(t,e,n){return function(r){return r.lift(new s(t,e,n,r))}};var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),a=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return r(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.every=function(t,e){return function(n){return n.lift(new o(t,e,n))}};var o=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg,this.source))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return r(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.mapTo=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.value))},t}(),s=function(t){function e(e,n){t.call(this,e),this.value=n}return r(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(325);e.materialize=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype._next=function(t){this.destination.next(o.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(o.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(o.Notification.createComplete()),t.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=n(332);e.max=function(t){var e="function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e};return r.reduce(e)}},function(t,e,n){"use strict";var r=n(373),i=n(373);e.mergeStatic=i.merge,e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(r.merge.apply(void 0,[e].concat(t)))}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.mergeMapTo=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),function(r){return r.lift(new s(t,e,n))}};var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=s;var a=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,r=this.ish,i=this.destination;this.active++,this._innerSub(r,i,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,r,i){this.add(o.subscribeToResult(this,t,r,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(t,e,n,r):s.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i,o=this.resultSelector,s=this.destination;try{i=o(t,e,n,r)}catch(t){return void s.error(t)}s.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);e.MergeMapToSubscriber=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(62),o=n(59),s=n(39),a=n(38);e.mergeScan=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new c(t,e,n))}};var c=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=c;var u=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.acc=r,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=i.tryCatch(this.accumulator)(this.acc,t),r=this.destination;n===o.errorObject?r.error(o.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(s.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(a.OuterSubscriber);e.MergeScanSubscriber=u},function(t,e,n){"use strict";var r=n(332);e.min=function(t){var e="function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e};return r.reduce(e)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(25),s=n(32),a=n(53),c=n(701),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return c.refCount()(this)},e}(o.Observable);e.ConnectableObservable=u;var l=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var f=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),h=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}(),function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(s.Subscriber))},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.pairwise=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return r(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(i.Subscriber)},function(t,e,n){"use strict";var r=n(1392),i=n(696);e.partition=function(t,e){return function(n){return[i.filter(t,e)(n),i.filter(r.not(t,e))(n)]}}},function(t,e,n){"use strict";var r=n(330);function i(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}e.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return r.map(i(t,n))(e)}}},function(t,e,n){"use strict";var r=n(58),i=n(196);e.publish=function(t){return t?i.multicast((function(){return new r.Subject}),t):i.multicast(new r.Subject)}},function(t,e,n){"use strict";var r=n(860),i=n(196);e.publishBehavior=function(t){return function(e){return i.multicast(new r.BehaviorSubject(t))(e)}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(368),s=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=s},function(t,e,n){"use strict";var r=n(376),i=n(196);e.publishReplay=function(t,e,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,a=new r.ReplaySubject(t,e,o);return function(t){return i.multicast((function(){return a}),s)(t)}}},function(t,e,n){"use strict";var r=n(369),i=n(196);e.publishLast=function(){return function(t){return i.multicast(new r.AsyncSubject)(t)}}},function(t,e,n){"use strict";var r=n(106),i=n(691);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return 1===t.length&&r.isArray(t[0])&&(t=t[0]),e.lift.call(i.race.apply(void 0,[e].concat(t)))}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(138);e.repeat=function(t){return void 0===t&&(t=-1),function(e){return 0===t?new o.EmptyObservable:t<0?e.lift(new s(-1,e)):e.lift(new s(t-1,e))}};var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return r(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(62),s=n(59),a=n(38),c=n(39);e.repeatWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,e))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r,this.sourceIsBeingSubscribedTo=!0}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this,n=e.notifications,r=e.retries,i=e.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=n,this.retries=r,this.retriesSubscription=i,this},e.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var e=o.tryCatch(this.notifier)(this.notifications);if(e===s.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=c.subscribeToResult(this,e)},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.retry=function(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(62),s=n(59),a=n(38),c=n(39);e.retryWhen=function(t){return function(e){return e.lift(new u(t,e))}};var u=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,this.source))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,a=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{if(n=new i.Subject,(r=o.tryCatch(this.notifier)(n))===s.errorObject)return t.prototype.error.call(this,s.errorObject.e);a=c.subscribeToResult(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=a,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,s=o.errors,a=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=a,this.retriesSubscription=c,this.source.subscribe(this)},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.sample=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new a(t),r=e.subscribe(n);return r.add(o.subscribeToResult(n,this.notifier)),r},t}(),a=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return r(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(47);e.sampleTime=function(t,e){return void 0===e&&(e=o.async),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.period,this.scheduler))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(c,n,{subscriber:this,period:n}))}return r(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(i.Subscriber);function c(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(62),s=n(59);e.sequenceEqual=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compareTo,this.comparor))},t}();e.SequenceEqualOperator=a;var c=function(t){function e(e,n,r){t.call(this,e),this.compareTo=n,this.comparor=r,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new u(e,this)))}return r(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,n=t._b,r=t.comparor;e.length>0&&n.length>0;){var i=e.shift(),a=n.shift(),c=!1;r?(c=o.tryCatch(r)(i,a))===s.errorObject&&this.destination.error(s.errorObject.e):c=i===a,c||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(i.Subscriber);e.SequenceEqualSubscriber=c;var u=function(t){function e(e,n){t.call(this,e),this.parent=n}return r(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=n(196),i=n(701),o=n(58);function s(){return new o.Subject}e.share=function(){return function(t){return i.refCount()(r.multicast(s)(t))}}},function(t,e,n){"use strict";var r=n(376);e.shareReplay=function(t,e,n){return function(i){return i.lift(function(t,e,n){var i,o,s=0,a=!1,c=!1;return function(u){s++,i&&!a||(a=!1,i=new r.ReplaySubject(t,e,n),o=u.subscribe({next:function(t){i.next(t)},error:function(t){a=!0,i.error(t)},complete:function(){c=!0,i.complete()}}));var l=i.subscribe(this);return function(){s--,l.unsubscribe(),o&&0===s&&c&&o.unsubscribe()}}}(t,e,n))}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(377);e.single=function(t){return function(e){return e.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.seenValue=!1,this.index=0}return r(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.skip=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.total))},t}(),s=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return r(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(331);e.skipLast=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new i.Subscriber(t)):e.subscribe(new a(t,this._skipCount))},t}(),a=function(t){function e(e,n){t.call(this,e),this._skipCount=n,this._count=0,this._ring=new Array(n)}return r(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.skipUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier))},t}(),a=function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.skipWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return r(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(i.Subscriber)},function(t,e,n){"use strict";var r=n(137),i=n(689),o=n(138),s=n(324),a=n(100);e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var n=t[t.length-1];a.isScheduler(n)?t.pop():n=null;var c=t.length;return 1===c?s.concat(new i.ScalarObservable(t[0],n),e):c>1?s.concat(new r.ArrayObservable(t,n),e):s.concat(new o.EmptyObservable(n),e)}}},function(t,e,n){"use strict";var r=n(1443),i=n(1445);e.asap=new i.AsapScheduler(r.AsapAction)},function(t,e,n){"use strict";var r=n(702),i=n(812);e.switchAll=function(){return r.switchMap(i.identity)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.switchMapTo=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.observable,this.resultSelector))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.inner=n,this.resultSelector=r,this.index=0}return r(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.resultSelector,s=this.destination;o?this.tryResultSelector(t,e,n,r):s.next(e)},e.prototype.tryResultSelector=function(t,e,n,r){var i,o=this.resultSelector,s=this.destination;try{i=o(t,e,n,r)}catch(t){return void s.error(t)}s.next(i)},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(331),s=n(138);e.take=function(t){return function(e){return 0===t?new s.EmptyObservable:e.lift(new a(t))}};var a=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return r(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.takeUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier))},t}(),a=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32);e.takeWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}return r(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(47),s=n(378);e.throttleTime=function(t,e,n){return void 0===e&&(e=o.async),void 0===n&&(n=s.defaultThrottleConfig),function(r){return r.lift(new a(t,e,n.leading,n.trailing))}};var a=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),c=function(t){function e(e,n,r,i,o){t.call(this,e),this.duration=n,this.scheduler=r,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return r(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(i.Subscriber);function u(t){t.subscriber.clearThrottle()}},function(t,e,n){"use strict";var r=n(47),i=n(887);e.TimeInterval=i.TimeInterval,e.timeInterval=function(t){return void 0===t&&(t=r.async),i.timeInterval(t)(this)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(47);e.timeInterval=function(t){return void 0===t&&(t=o.async),function(e){return e.lift(new a(t))}};var s=function(t,e){this.value=t,this.interval=e};e.TimeInterval=s;var a=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return r(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new s(t,n))},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(47),o=n(374),s=n(32),a=n(889);e.timeout=function(t,e){void 0===e&&(e=i.async);var n=o.isDate(t),r=n?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(r,n,e,new a.TimeoutError))}};var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=n,this.errorInstance=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return r(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(s.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.TimeoutError=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(47),o=n(374),s=n(38),a=n(39);e.timeoutWith=function(t,e,n){return void 0===n&&(n=i.async),function(r){var i=o.isDate(t),s=i?+t-n.now():Math.abs(t);return r.lift(new c(s,i,e,n))}};var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return r(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(a.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(s.OuterSubscriber)},function(t,e,n){"use strict";var r=n(332);function i(t,e,n){return 0===n?[e]:(t.push(e),t)}e.toArray=function(){return r.reduce(i,[])}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(38),s=n(39);e.window=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new c(t),r=e.subscribe(n);return r.closed||n.add(s.subscribeToResult(n,this.windowBoundaries)),r},t}(),c=function(t){function e(e){t.call(this,e),this.window=new i.Subject,e.next(this.window)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new i.Subject;e.next(n)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(32),o=n(58);e.windowCount=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.windowSize,this.startWindowEvery))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.destination=e,this.windowSize=n,this.startWindowEvery=r,this.windows=[new o.Subject],this.count=0,e.next(this.windows[0])}return r(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(t);var c=this.count-r+1;if(c>=0&&c%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var u=new o.Subject;i.push(u),n.next(u)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(47),s=n(32),a=n(327),c=n(100);e.windowTime=function(t){var e=o.async,n=null,r=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(e=arguments[3]),c.isScheduler(arguments[2])?e=arguments[2]:a.isNumeric(arguments[2])&&(r=arguments[2]),c.isScheduler(arguments[1])?e=arguments[1]:a.isNumeric(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new u(t,n,r,e))}};var u=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),l=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return r(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(i.Subject),f=function(t){function e(e,n,r,i,o){t.call(this,e),this.destination=e,this.windowTimeSpan=n,this.windowCreationInterval=r,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var s=this.openWindow();if(null!==r&&r>=0){var a={subscriber:this,window:s,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:this,scheduler:o};this.add(o.schedule(d,n,a)),this.add(o.schedule(p,r,c))}else{var u={subscriber:this,window:s,windowTimeSpan:n};this.add(o.schedule(h,n,u))}}return r(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new l;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(s.Subscriber);function h(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function p(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:n,window:o,context:a};a.subscription=r.schedule(d,e,c),s.add(a.subscription),s.schedule(t,i)}function d(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(53),s=n(62),a=n(59),c=n(38),u=n(39);e.windowToggle=function(t,e){return function(n){return n.lift(new l(t,e))}};var l=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.openings,this.closingSelector))},t}(),f=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(this.openSubscription=u.subscribeToResult(this,n,n))}return r(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,c){if(t===this.openings){var l=this.closingSelector,f=s.tryCatch(l)(e);if(f===a.errorObject)return this.error(a.errorObject.e);var h=new i.Subject,p=new o.Subscription,d={window:h,subscription:p};this.contexts.push(d);var b=u.subscribeToResult(this,f,d);b.closed?this.closeWindow(this.contexts.length-1):(b.context=d,p.add(b)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(c.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(62),s=n(59),a=n(38),c=n(39);e.windowWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.destination=e,this.closingSelector=n,this.openWindow()}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n=this.window=new i.Subject;this.destination.next(n);var r=o.tryCatch(this.closingSelector)();if(r===s.errorObject){var a=s.errorObject.e;this.destination.error(a),this.window.error(a)}else this.add(this.closingNotification=c.subscribeToResult(this,r))},e}(a.OuterSubscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(38),o=n(39);e.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new s(r,n))}};var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.observables,this.project))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;this.values=new Array(i);for(var s=0;s<i;s++)this.toRespond.push(s);for(s=0;s<i;s++){var a=n[s];this.add(o.subscribeToResult(this,a,a,s))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=n(375);e.zipAll=function(t){return function(e){return e.lift(new r.ZipOperator(t))}}},function(t,e,n){"use strict";var r=n(900),i=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new r.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,n=e[t];e[t]=new r.SubscriptionLog(n.subscribedFrame,this.scheduler.now())},t}();e.SubscriptionLoggable=i},function(t,e,n){"use strict";var r=function(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e};e.SubscriptionLog=r},function(t,e,n){"use strict";e.applyMixins=function(t,e){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var c=o[s];t.prototype[c]=i.prototype[c]}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(328),o=function(t){function e(e,n){var r=this;void 0===e&&(e=s),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e,(function(){return r.frame})),this.maxFrames=n,this.frame=0,this.index=-1}return r(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=r&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(n(329).AsyncScheduler);e.VirtualTimeScheduler=o;var s=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1),t.call(this,e,n),this.scheduler=e,this.work=n,this.index=r,this.active=!0,this.index=e.index=r}return r(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction);e.VirtualAction=s},function(t,e,n){"use strict";t.exports=function(){return new Worker(n.p+"build/5c92bf15cd459e9e4c24.worker.js")}},function(t,e,n){"use strict";n.d(e,"f",(function(){return h})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"d",(function(){return x}));var r=n(30),i=n.n(r),o=n(711),s=n(905),a=n.n(s),c=n(704),u=n(224);class l{constructor(){this.get=o.b,this.set=o.c,this.del=o.a}}const f="custom-folder-1";async function h(t,e){await t.set(f,{handle:e})}async function p(t){await t.del(f)}async function d(t){return t.get(f)}const b=i.a.once((()=>new l));async function m(t,e){let n=await d(t);const{log:r,setStatus:i,updateState:o}=e;for(let s=1;;s++){r(`Iteration #${s} start`);const a=await y(n,e);if(a||1!==s){if(!a)break;if(a.nextState&&(n=a.nextState,o(n),i(`Saving state (iteration #${s})`),await t.set(f,n)),!a.moreIterationsNeeded)break}else n={...n,chartFilesScanned:!1}}i("Done scanning.")}async function y(t,e){var n,r,i,o;const s=await async function(t,e){const{log:n,setStatus:r}=e;if(!t){const t="No custom folder set.";return n(t),void r(t)}const{handle:i}=t;if(!i){const t="No folder selected.";return n(t),void r(t)}let o=await i.queryPermission({mode:"read"});"prompt"===o&&(r("Waiting for permission  please grant access to the folder."),o=await i.requestPermission({mode:"read"}));if("granted"!==o)return n("Unable to read the folder due to lack of permissions."),void r("Unable to read the folder due to lack of permissions.");return{state:t,handle:i}}(t,e);if(!s)return;const{state:a,handle:u}=s;return a.chartFilesScanned?(null!==(r=null===(n=null==a?void 0:a.foldersToUpdate)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>0?async function(t,e,n){var r;const{log:i,setStatus:o}=n;if(((null===(r=null==t?void 0:t.foldersToUpdate)||void 0===r?void 0:r.length)||0)>0){const n=[...t.foldersToUpdate],r=n.length,s=[],a=new Set,u=Date.now()+5e3;for(const[l,f]of n.entries()){a.add(JSON.stringify(f.path));const n=S(f.path),h=r-l;i(`Updating folder ${n} (${h} remaining)`);const p=`Folder ${n} (${h} remaining)`;o(p);const d=await g(e,f.path,t.chartFiles||[]),{resources:b,...m}=await Object(c.a)(d,{onMessage:t=>{i(t),o(`${p} ${t}`)}});if(m.charts.length>0&&s.push({path:f.path,song:m}),Date.now()>u)break}const l=new Set(s.map((t=>JSON.stringify(t.path)))),f=[...(t.songs||[]).filter((t=>!l.has(JSON.stringify(t.path)))),...s],h=n.filter((t=>!a.has(JSON.stringify(t.path))));return{nextState:{...t,foldersToUpdate:h,songs:f},moreIterationsNeeded:!0}}}(a,u,e):(null!==(o=null===(i=null==a?void 0:a.foldersToRemove)||void 0===i?void 0:i.length)&&void 0!==o?o:0)>0?async function(t,e,n){var r,i;const{log:o,setStatus:s}=n;if((null!==(i=null===(r=t.foldersToRemove)||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0){let e=t.songs||[];const n=[...t.foldersToRemove],r=n.length,i=new Set,a=Date.now()+5e3;for(const[t,c]of n.entries()){i.add(JSON.stringify(c.path));const n=S(c.path),u=r-t;o(`Removing folder ${n} (${u} remaining)`);if(s(`Folder ${n} (${u} remaining)`),e=e.filter((t=>!t.path.includes(n))),Date.now()>a)break}const c=n.filter((t=>!i.has(JSON.stringify(t.path))));return{nextState:{...t,foldersToRemove:c,songs:e},moreIterationsNeeded:!0}}}(a,0,e):void 0:async function(t,e,n){const{log:r,setStatus:i}=n,o=new w(t.chartFiles,!0);await v(e,o,n);const s=o.getNewChartFiles(),a=o.getFoldersToUpdate(),c=o.getFoldersToRemove(),u="Scanning done. "+[`Charts: ${s.length}`,`Folders: ${o.getFolderCount()}`,`Folders to update: ${a.length}`,`Folders to remove: ${c.length}`].join("; ");return r(u),i(u),{nextState:{...t,chartFiles:s,chartFilesScanned:!0,foldersToUpdate:a,foldersToRemove:c},moreIterationsNeeded:!0}}(a,u,e)}async function v(t,e,n,r=[]){let i=0;const{log:o,setStatus:s}=n;for await(let[a,c]of t){const t=[...r,a];try{if("directory"===c.kind)await v(c,e,n,t);else if(/\.(bms|bme|bml|bmson)$/i.test(a)){const n=c;await e.addPath(t,{getModifiedDate:async()=>(await n.getFile()).lastModified})}}catch(e){o(`Error while processing ${t.join("/")}: ${e}`),console.error(e)}i++;s(`Scanning for chart files. ${i} entries read. Just processed: ${S(t)}`)}}async function g(t,e,n){const r=await _(t,e),i=n.filter((t=>t.path.length===e.length+1&&e.every(((e,n)=>e===t.path[n]))));return{fileList:Promise.resolve(i.map((t=>t.path[t.path.length-1]))),async file(t){const e=await r.getFileHandle(t),n=await e.getFile();return new u.c(n)}}}async function _(t,e){let n=t;for(const t of e)n=await n.getDirectoryHandle(t);return n}class w{constructor(t=[],e=!1){this.previous=t,this.fast=e,this.foundFolderSet=new Set,this.updatedFolderSet=new Set,this.newChartFiles=[],this.changedPaths=[],this.existingMap=new Map(i.a.map(this.previous,(t=>[JSON.stringify(t.path),t]))),this.existingFolderSet=new Set(i.a.map(this.previous,(t=>JSON.stringify(t.path.slice(0,-1)))))}async addPath(t,e){const n=JSON.stringify(t),r=JSON.stringify(t.slice(0,-1)),i=this.existingMap.get(n);if(this.foundFolderSet.add(r),i)if(this.fast)this.newChartFiles.push(i);else{const n=await e.getModifiedDate();n>i.lastModified?(this.changedPaths.push({path:t,lastModified:n}),this.newChartFiles.push({path:t,lastModified:n}),this.updatedFolderSet.add(r)):this.newChartFiles.push(i)}else{const n=await e.getModifiedDate();this.changedPaths.push({path:t,lastModified:n}),this.newChartFiles.push({path:t,lastModified:n}),this.updatedFolderSet.add(r)}}getNewChartFiles(){return this.newChartFiles}getFoldersToUpdate(){return[...this.updatedFolderSet].map((t=>({path:JSON.parse(t)})))}getFoldersToRemove(){return[...this.existingFolderSet].filter((t=>!this.foundFolderSet.has(t))).map((t=>({path:JSON.parse(t)})))}getFolderCount(){return this.foundFolderSet.size}}function S(t){return t.join("")}async function x(t){const e=await d(t);if(!e||!e.handle)return[];const n=e.songs||[],r=new k(e.handle),i=[];for(const[t,e]of n.entries())try{const n=r.getResources(e.path);i.push({...e.song,resources:n,custom:!0,id:`__custom_${t}`})}catch(t){console.error(t)}return i}class k{constructor(t){this.rootFolderHandle=t,this.getGrant=a()((async()=>{const t=this.rootFolderHandle;let e=await t.queryPermission({mode:"read"});if("prompt"===e&&(e=await t.requestPermission({mode:"read"})),"granted"!==e)throw new Error("Permission has not been granted");return e}))}getResources(t){const e=a()((async()=>(await this.getGrant(),_(this.rootFolderHandle,t))));return{async file(t){const n=await e(),r=await n.getFileHandle(t),i=await r.getFile();return new u.c(i)}}}}},function(t,e,n){"use strict";const r=n(906),i=n(399),o=new WeakMap;t.exports=(t,{cachePromiseRejection:e=!1,...n}={})=>{const s=n.cache||new Map,a=n.cacheKey||(([t])=>t),c=r(t,{...n,cache:s,cacheKey:a}),u=function(...t){const n=c.apply(this,t);return!e&&n&&n.catch&&n.catch((()=>{s.delete(a(t))})),n};return i(u,t),o.set(u,c),u},t.exports.clear=t=>{if(!o.has(t))throw new Error("Can't clear a function that was not memoized!");r.clear(o.get(t))}},function(t,e,n){"use strict";const r=n(399),i=n(907),o=new WeakMap;t.exports=(t,{cacheKey:e,cache:n=new Map,maxAge:s}={})=>{"number"==typeof s&&i(n);const a=function(...r){const i=e?e(r):r[0],o=n.get(i);if(o)return o.data;const a=t.apply(this,r);return n.set(i,{data:a,maxAge:s?Date.now()+s:1/0}),a};try{r(a,t)}catch(t){}return o.set(a,n),a},t.exports.clear=t=>{if(!o.has(t))throw new Error("Can't clear a function that was not memoized!");const e=o.get(t);"function"==typeof e.clear&&e.clear()}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(908));function s(t,e="maxAge"){let n,i,s;const a=()=>r(this,void 0,void 0,(function*(){if(void 0!==n)return;const a=a=>r(this,void 0,void 0,(function*(){s=o.default();const r=a[1][e]-Date.now();return r<=0?(t.delete(a[0]),void s.resolve()):(n=a[0],i=setTimeout((()=>{t.delete(a[0]),s&&s.resolve()}),r),"function"==typeof i.unref&&i.unref(),s.promise)}));try{for(const e of t)yield a(e)}catch(t){}n=void 0})),c=t.set.bind(t);return t.set=(e,r)=>{t.has(e)&&t.delete(e);const o=c(e,r);return n&&n===e&&(n=void 0,void 0!==i&&(clearTimeout(i),i=void 0),void 0!==s&&(s.reject(void 0),s=void 0)),a(),o},a(),t}e.default=s,t.exports=s,t.exports.default=s},function(t,e,n){"use strict";t.exports=()=>{const t={};return t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));n(1116);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(352),c=(n(1119),n(55)),u=n.n(c),l=n(132),f=n(780),h=n(712),p=(n(1121),n(54)),d=n.n(p),b=n(149),m=n(86),y=n.n(m);class v extends i.a.Component{constructor(){super(...arguments),this.onButtonClick=t=>{t.preventDefault(),this.props.onSubmit({username:d.a.findDOMNode(this.refs.username).value,password:d.a.findDOMNode(this.refs.password).value,passwordConfirmation:d.a.findDOMNode(this.refs.passwordConfirmation).value,email:d.a.findDOMNode(this.refs.email).value})},this.renderSubmitText=()=>"signUp"===this.props.mode?"Sign Me Up":"Log In"}componentDidMount(){y()(d.a.findDOMNode(this)).on("keydown keyup keypress",(t=>{t.stopPropagation()}))}render(){return i.a.createElement("form",{className:"AuthenticationForm"},i.a.createElement("div",{className:"AuthenticationFormgroup"},i.a.createElement("label",null,i.a.createElement("span",{className:"AuthenticationFormlabel"},"Username"),i.a.createElement("span",{className:"AuthenticationFormcontrol"},i.a.createElement("input",{type:"text",defaultValue:"",ref:"username"}))),i.a.createElement("label",{hidden:"signUp"!==this.props.mode},i.a.createElement("span",{className:"AuthenticationFormlabel"},"Email"),i.a.createElement("span",{className:"AuthenticationFormcontrol"},i.a.createElement("input",{type:"email",defaultValue:"",ref:"email"}))),i.a.createElement("label",null,i.a.createElement("span",{className:"AuthenticationFormlabel"},"Password"),i.a.createElement("span",{className:"AuthenticationFormcontrol"},i.a.createElement("input",{type:"password",defaultValue:"",ref:"password"}))),i.a.createElement("label",{hidden:"signUp"!==this.props.mode},i.a.createElement("span",{className:"AuthenticationFormlabel"},"Confirm Password"),i.a.createElement("span",{className:"AuthenticationFormcontrol"},i.a.createElement("input",{type:"password",defaultValue:"",ref:"passwordConfirmation"}))),i.a.createElement("div",{className:"AuthenticationFormbuttons"},i.a.createElement(b.a,{onClick:this.onButtonClick},this.renderSubmitText()))))}}v.propTypes={onSubmit:s.a.func,mode:s.a.string};class g extends i.a.Component{constructor(t){super(t),this.onSubmit=t=>{"signUp"===this.state.mode?this.runPromise(this.doSignUp(t)):this.runPromise(this.doLogIn(t))},this.runPromise=t=>{this.setState({authentication:{status:"loading",message:"Omachi kudasai..."}}),t.then((t=>{this.setState({authentication:{status:"completed",message:t}})}),(t=>{this.setState({authentication:{status:"error",message:t.message}})})).done()},this.doSignUp=t=>Promise.try((()=>{if(!t.username.trim())throw new Error("Please enter a username.");if(!t.username.match(/^\S+$/))throw new Error("Username may not contain spaces.");if(t.username.length<2)throw new Error("Username must be at least 2 characters long.");if(t.username.length>24)throw new Error("Username must be at most 24 characters long.");if(!t.password)throw new Error("Please enter a password.");if(t.password.length<6)throw new Error("Password must be at least 6 characters long.");if(!t.passwordConfirmation)throw new Error("Please confirm your password.");if(t.password!==t.passwordConfirmation)throw new Error("Passwords do not match.");return h.a.signUp(t).then((()=>(this.props.onFinish&&this.props.onFinish(),"Welcome to Bemuse!")))})),this.doLogIn=async t=>{if(!t.username.trim()&&!t.password.trim()&&window.confirm("Did you forget your password?")){const t=window.prompt("Please enter your email address.");if(t)throw await h.a.changePassword({email:t}),new Error("Please check your email")}if(!t.username.trim())throw new Error("Please enter your username.");if(!t.password.trim())throw new Error("Please enter your password.");return h.a.logIn(t).then((()=>(this.props.onFinish&&this.props.onFinish(),"Welcome back!")))},this.onSwitchToLogin=()=>{this.setState({mode:"logIn"})},this.onSwitchToSignup=()=>{this.setState({mode:"signUp"})},this.renderMessage=()=>{let t=this.state.authentication;return"idle"!==t.status&&t.message?i.a.createElement("div",{className:u()("AuthenticationPanelmessage","is-"+t.status)},t.message):null},this.renderModeActiveClass=t=>t===this.state.mode?"is-active":"",this.state={mode:"logIn",authentication:{status:"idle",message:""}}}render(){return i.a.createElement("div",{className:"AuthenticationPanel"},i.a.createElement(l.a,{title:"Bemuse Online Ranking"},i.a.createElement("div",{className:"AuthenticationPanellayout"},i.a.createElement("div",{className:"AuthenticationPaneltitle"},i.a.createElement("img",{src:n(1057),alt:"DJ Bemuse"}),i.a.createElement("div",{className:"AuthenticationPanelidentification"},"Bemuse",i.a.createElement("br",null),"Online",i.a.createElement("br",null),"Ranking")),i.a.createElement("div",{className:"AuthenticationPanelcontent"},i.a.createElement("div",{className:"AuthenticationPanelmodeSwitcher"},i.a.createElement("a",{href:"javascript://online/logIn",onClick:this.onSwitchToLogin,className:this.renderModeActiveClass("logIn")},"Log In")," ",""," ",i.a.createElement("a",{href:"javascript://online/signUp",onClick:this.onSwitchToSignup,className:this.renderModeActiveClass("signUp")},"Create an Account")),i.a.createElement(f.a,{grow:"2"}),this.renderMessage(),i.a.createElement(v,{mode:this.state.mode,onSubmit:this.onSubmit}),i.a.createElement(f.a,{grow:"3"})))))}}g.propTypes={onFinish:s.a.func};class _ extends i.a.Component{render(){return i.a.createElement(a.a,{...this.props},i.a.createElement("div",{className:"AuthenticationPopup"},i.a.createElement(g,{onFinish:this.props.onFinish})))}}_.propTypes={onFinish:s.a.func}},function(t,e,n){"use strict";var r=n(759),i=n(676),o=n.n(i),s=n(722),a=n.n(s),c=n(61),u=n.n(c);function l({server:t,auth:e,log:n=((t,...e)=>console.log("[ScoreboardClient] "+t,...e))}){const r=o.a.create({baseURL:t});function i(t,r,i,o){return new Promise(((s,a)=>{n("Signing up with Auth0"),e.signup({connection:"Username-Password-Authentication",email:r,username:t,password:i,userMetadata:{playerName:o}},(function(r){if(r)return n("Auth0 signup error",r),a(f(r));n("Auth0 signup OK  now logging in"),e.client.login({realm:"Username-Password-Authentication",username:t,password:i,scope:"openid email profile"},(function(t,e){if(t)return n("Auth0 login error",t),a(f(t));n("Auth result",e),s({idToken:e.idToken})}))}))}))}function s({query:t,variables:e}){return r.post("graphql",{query:t,variables:e}).then((t=>t.data))}function c(t,r){return new Promise(((i,o)=>{n("Auth0 log in"),e.client.login({realm:"Username-Password-Authentication",username:t,password:r,scope:"openid email profile"},(function(t,e){if(t)return n("Auth0 login error",t),o(f(t));n("Auth result",e),i({idToken:e.idToken})}))}))}function l(t){return Promise.resolve(s({query:"\n          query checkPlayerNameAvailability ($name: String!) {\n            player (name: $name) {\n              linked\n            }\n          }\n        ",variables:{name:t}}).then((t=>(n("checkPlayerNameAvailability response",t),t.data.player&&t.data.player.linked?(n("checkPlayerNameAvailability: Player name already taken."),!1):(n("checkPlayerNameAvailability: Player name is available!"),!0)))))}function h(t){return Promise.resolve(s({query:"\n          query resolvePlayerId ($name: String!) {\n            player (name: $name) {\n              id\n            }\n          }\n        ",variables:{name:t}}).then((t=>null===t.data.player?{error:"Player not found..."}:{playerId:t.data.player.id})))}function p(t){return Promise.resolve(s({query:"\n          mutation reservePlayerId ($name: String!) {\n            registerPlayer(name: $name) {\n              id\n            }\n          }\n        ",variables:{name:t}}).then((t=>{const e=t.data.registerPlayer.id;return n("reservePlayerId response",t,"playerId",e),e})))}function d(t){return Promise.resolve(s({query:"\n          mutation ensureLink ($jwt: String!) {\n            linkPlayer(jwt: $jwt) {\n              id,\n              name\n            }\n          }\n        ",variables:{jwt:t}}).then((t=>{const e=t.data.linkPlayer.id,r=t.data.linkPlayer.name;return n("ensureLink response",t,"playerId",e),{playerId:e,playerName:r}})))}function b(t){return Promise.resolve(s({query:"\n          mutation resolvePlayerTokenFromIdToken ($jwt: String!) {\n            authenticatePlayer(jwt: $jwt) { playerToken }\n          }\n        ",variables:{jwt:t}}).then((t=>t.data.authenticatePlayer.playerToken)))}const m="{\n    id\n    score\n    total\n    combo\n    count\n    playNumber\n    playCount\n    recordedAt\n    player { name }\n  }",y=`{\n    rank\n    entry ${m}\n  }`,v={signUp:({username:t,password:e,email:r})=>(u()("string"==typeof t,"username must be a string"),u()("string"==typeof e,"password must be a string"),u()("string"==typeof r,"email must be a string"),a()((function*(){const{idToken:o}=yield*function*(t,e,n,{log:r=(t=>console.log("[signUp]",t)),userSignUp:i,reservePlayerId:o,checkPlayerNameAvailability:s,ensureLink:a}){if(r("Checking player name availability..."),!(yield s(t)))throw new Error("Player name already taken");r("Registering player name...");const c=yield o(t);r("Creating account...");const{idToken:u}=yield i(c,e,n,t);if(!u)throw new Error("Cannot sign up (unknown error)");return r("Linking account..."),yield a(u),{idToken:u}}(t,r,e,{log:t=>n("[signUp]",t),userSignUp:i,checkPlayerNameAvailability:l,reservePlayerId:p,ensureLink:d});return{playerToken:yield b(o)}}))),loginByUsernamePassword:({username:t,password:e})=>(u()("string"==typeof t,"username must be a string"),u()("string"==typeof e,"password must be a string"),a()((function*(){const{idToken:r}=yield*function*(t,e,{log:n=(t=>console.log("[loginByUsernamePassword]",t)),usernamePasswordLogin:r,resolvePlayerId:i,ensureLink:o}){{const{idToken:s}=yield*function*(){let o=!1;if(/@/.test(t)){n("Authenticating using email...");const i=t,{idToken:o}=yield r(i,e);if(o)return n("Authenticated using email."),{idToken:o}}n("Resolving player...");const{playerId:s}=yield i(t);if(!s)throw new Error(o?"Invalid email or password":"Player not registered");n("Authenticating player...");const{idToken:a}=yield r(s,e);if(!a)throw new Error("Invalid password");return{idToken:a}}();return n("Loading profile..."),yield o(s),{idToken:s}}}(t,e,{log:t=>n("[loginByUsernamePassword]",t),usernamePasswordLogin:c,resolvePlayerId:h,ensureLink:d});return{playerToken:yield b(r)}}))),changePassword:({email:t})=>new Promise(((r,i)=>{n("Auth0 forgot password"),e.changePassword({connection:"Username-Password-Authentication",email:t},(function(t,e){if(t)return n("Auth0 password reset error",t),i(f(t));n("Auth result",e),r({})}))})),submitScore:({playerToken:t,md5:e,playMode:n,input:r})=>s({query:`\n          mutation submitScore ($playerToken: String!, $md5: String!, $playMode: String!, $input: RegisterScoreInput!) {\n            registerScore (playerToken: $playerToken, md5: $md5, playMode: $playMode, input: $input) {\n              resultingRow ${y}\n            }\n          }\n        `,variables:{playerToken:t,md5:e,playMode:n,input:r}}),retrieveScoreboard:({md5:t,playMode:e})=>s({query:`\n          query retrieveScoreboard ($md5: String!, $playMode: String!) {\n            chart (md5: $md5) {\n              level (playMode: $playMode) {\n                leaderboard (max: 50) ${y}\n              }\n            }\n          }\n        `,variables:{md5:t,playMode:e}}),retrieveRecord:({playerToken:t,md5:e,playMode:n})=>s({query:`\n          query retrieveRecord ($md5: String!, $playMode: String!, $playerToken: String!) {\n            chart (md5: $md5) {\n              level (playMode: $playMode) {\n                myRecord (playerToken: $playerToken) ${y}\n              }\n            }\n          }\n        `,variables:{md5:e,playMode:n,playerToken:t}}),retrieveRankingEntries:({playerToken:t,md5s:e})=>s({query:`\n          query retrieveRecord ($md5s: [String], $playerToken: String!) {\n            me (playerToken: $playerToken) {\n              records (md5s: $md5s) {\n                md5\n                playMode\n                entry ${m}\n              }\n            }\n          }\n        `,variables:{md5s:e,playerToken:t}}),renewPlayerToken:({playerToken:t})=>s({query:"\n          mutation renewPlayerToken ($playerToken: String!) {\n            renewPlayerToken (playerToken: $playerToken) {\n              playerToken\n            }\n          }\n        ",variables:{playerToken:t}}).then((t=>t.data.renewPlayerToken.playerToken))};return v}function f(t){return new Error(`Auth0 Error: ${t.statusCode} ${t.description} [${t.code}]`)}var h=n(360);e.a=class{constructor({server:t,storagePrefix:e="scoreboard.auth",authOptions:n}){const i=new r.a.WebAuth({...n,redirectUri:window.location.href,responseType:"token id_token"});this._scoreboardClient=l({server:t,auth:i,log:()=>{}}),this._storagePrefix=e,this._updateUserFromStorage(),this._renewPlayerToken()}_updateUserFromStorage(){this._currentUser=(t=>{if(!t)return null;try{const e=JSON.parse(t),n=e.playerToken,r=1e3*JSON.parse(atob(n.split(".")[1])).exp;return Date.now()>r-864e5?(console.warn("Authentication token is about to expire, skipping!"),null):e}catch(t){return null}})(localStorage[`${this._storagePrefix}.id`])}_renewPlayerToken(){const t=this._currentUser&&this._currentUser.playerToken;if(!t)return;const e=this._currentUser.username;return this._scoreboardClient.renewPlayerToken({playerToken:t}).then((t=>{localStorage[`${this._storagePrefix}.id`]=JSON.stringify({username:e,playerToken:t})}))}getCurrentUser(){return this._currentUser&&this._currentUser.playerToken?{username:this._currentUser.username}:null}isLoggedIn(){return!!this._currentUser}signUp({username:t,password:e,email:n}){return this._scoreboardClient.signUp({username:t,password:e,email:n}).then((e=>{localStorage[`${this._storagePrefix}.id`]=JSON.stringify({username:t,playerToken:e.playerToken}),this._updateUserFromStorage()}))}logIn({username:t,password:e}){return this._scoreboardClient.loginByUsernamePassword({username:t,password:e}).then((e=>(localStorage[`${this._storagePrefix}.id`]=JSON.stringify({username:t,playerToken:e.playerToken}),this._updateUserFromStorage(),this.getCurrentUser())))}changePassword({email:t}){return this._scoreboardClient.changePassword({email:t})}async logOut(){delete localStorage[`${this._storagePrefix}.id`],this._updateUserFromStorage()}async submitScore(t){if(Object(h.isTestModeEnabled)())throw new Error("Cannot submit score in test mode");if(!this._currentUser)throw new Error("Not logged in");const e=await this._scoreboardClient.submitScore({playerToken:this._currentUser.playerToken,md5:t.md5,playMode:t.playMode,input:{score:t.score,combo:t.combo,count:t.count,total:t.total,log:t.log}});return{md5:t.md5,playMode:t.playMode,...p(e.data.registerScore.resultingRow)}}async retrieveRecord(t,e){const n=(await this._scoreboardClient.retrieveRecord({playerToken:this._currentUser.playerToken,md5:t.md5,playMode:t.playMode})).data.chart.level.myRecord;return n&&{md5:t.md5,playMode:t.playMode,...p(n)}}async retrieveScoreboard({md5:t,playMode:e}){return{data:(await this._scoreboardClient.retrieveScoreboard({md5:t,playMode:e})).data.chart.level.leaderboard.map(p)}}async retrieveMultipleRecords(t){return(await this._scoreboardClient.retrieveRankingEntries({playerToken:this._currentUser.playerToken,md5s:t.map((t=>t.md5))})).data.me.records.map((t=>({...p(t),md5:t.md5,playMode:t.playMode})))}};function p(t){return{rank:t.rank,score:t.entry.score,combo:t.entry.combo,count:t.entry.count,total:t.entry.total,playerName:t.entry.player.name,recordedAt:new Date(t.entry.recordedAt),playCount:t.entry.playCount,playNumber:t.entry.playNumber}}},function(t,e,n){"use strict";var r=n(30),i=n.n(r),o=n(87),s=n.n(o),a=n(307),c=n.n(a),u=n(675),l=n(61),f=n.n(l);var h=n(721),p=n(225);e.a=function(t){const e=new s.a.Bus,n=new s.a.Bus,r=new s.a.Bus,o=e.toProperty(null).map((e=>e||t.getCurrentUser()));function a(e){return t.submitScore(e).tap((t=>r.push(t)))}function l(e){return t.retrieveScoreboard(e)}const d=n.bufferWithTime(138).scan(new c.a.Map,((t,e)=>t.merge(i.a.zipObject(e.map(h.a),e)))).map((t=>t.valueSeq())).skipDuplicates(c.a.is).map((t=>t.toJS())),b=o.flatMapLatest((function(e){let n={};{const o=s.a.mergeAll(d.toEventStream().delay(0).flatMap((function(r){const o=r.filter((t=>!n[Object(h.a)(t)]));for(let t of o)n[Object(h.a)(t)]=!0;const a=e&&o.length>0?t.retrieveMultipleRecords(o):Promise.resolve([]);return s.a.fromPromise(a.then((function(t){let e=i.a.zipObject(t.map(h.a),t.map(p.b)),n=i.a.zipObject(o.map(h.a),o.map((()=>Object(p.b)(null)))),r=i.a.defaults(e,n);return u.f(r)})).catch((function(t){return console.error("Cannot fetch levels:",t),u.f({})})))})),r.map((t=>u.e(Object(h.a)(t),Object(p.b)(t)))));return u.h(o)}})).toProperty(u.a),m=b.onValue((()=>{}));function y(t){return s.a.later(0,t)}return{"user":o,"records":b,signUp:function(n){return Promise.resolve(t.signUp(n)).tap((t=>e.push(t)))},logIn:function(n){return Promise.resolve(t.logIn(n)).tap((t=>e.push(t)))},logOut:function(){return t.logOut().tap((()=>e.push(null)))},changePassword:function(e){return Promise.resolve(t.changePassword(e))},submitScore:a,scoreboard:l,Ranking:function(e){const n=function({md5:t,playMode:e}){return f()("string"==typeof t,"md5 must be a string"),f()("string"==typeof e,"playMode must be a string"),{md5:t,playMode:e}}(e),r=new s.a.Bus,c=new s.a.Bus;{const t=o.map((function(t){return t?e.score?function(t){const n=Object(p.e)(y().merge(r).flatMapLatest((()=>Object(p.g)(a(e))))),i=n.toEventStream().filter((t=>!Object(p.c)(t)));return{"self":n,"scoreboardTrigger":i.map((()=>({force:!0})))}}():function(t){return{"self":h(t),"scoreboardTrigger":y({force:!1})}}(t):function(){return{"self":s.a.constant({status:"unauthenticated",error:null,record:null}),"scoreboardTrigger":s.a.once({force:!1})}}()})),f=t.flatMapLatest((t=>t.self)).toProperty(p.a),d=t.flatMapLatest((t=>t.scoreboardTrigger)),b=(u=d,Object(p.e)(u.merge(c).flatMapLatest((()=>Object(p.g)(l(n))))));return{"state":s.a.combineTemplate({self:f,scoreboard:b}).map((function(t){return{data:t.scoreboard.value&&t.scoreboard.value.data,meta:{scoreboard:i.a.omit(t.scoreboard,"value"),submission:t.self}}})),resubmit:()=>r.push(),reloadScoreboard:()=>c.push()}}var u;function h(e){return Object(p.e)(y().merge(r).flatMapLatest((()=>Object(p.g)(t.retrieveRecord(n,e)))))}},seen:function(t){return n.push(t)},dispose:m}}},function(t,e,n){t.exports=n.p+"build/ea410328703171d8f693d3a404a11a8f.jpg"},function(t,e,n){t.exports=n.p+"build/ad5c8959ea47d80c4de028b26525ac67.png"},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(87),i=n.n(r),o=n(26),s=n.n(o);function a(t){if(t instanceof i.a.Property)return t;if(t instanceof i.a.EventStream)throw new Error("Please convert Bacon.EventStream to Bacon.Property first.");if(t&&"object"==typeof t)return i.a.combineTemplate(t);throw new Error("Expected a Bacon.Property or a template.")}const c=t=>e=>{let n=a(t);return class extends s.a.Component{constructor(t){let e;super(t),this.handleValue=t=>{this._mounted&&this.setState({value:t})},this._unsubscribe=n.onValue(this.handleValue);n.onValue((t=>e=t))(),this.state={value:e}}componentWillUnmount(){this._mounted=!1,this._unsubscribe&&this._unsubscribe()}componentDidMount(){this._mounted=!0}render(){return s.a.createElement(e,{...this.state.value||{},...this.props})}}}},function(t,e,n){t.exports=n.p+"build/7d6d69a86d70e4e52079c5ce873435c6.jpg"},function(t,e,n){"use strict";var r=n(26),i=n.n(r),o=n(29),s=n.n(o);n(1141);const a=({children:t,tip:e,tipVisible:n=!0})=>i.a.createElement("div",{className:"TipContainer"},i.a.createElement("div",{className:"TipContainerchildren"},t),n?i.a.createElement("span",{className:"TipContainerbubble"},i.a.createElement("span",{className:"TipContainerbubbleContent"},e)):null);a.propTypes={children:s.a.node,tip:s.a.node,tipVisible:s.a.bool},e.a=a},function(t,e,n){"use strict";n(1143);var r=n(26),i=n.n(r),o=n(29),s=n.n(o);const a=({info:t})=>i.a.createElement("section",{className:"MusicChartInfo"},i.a.createElement("div",{className:"MusicChartInfogenre"},t.genre),i.a.createElement("div",{className:"MusicChartInfotitle"},t.title),t.subtitles.map(((t,e)=>i.a.createElement("div",{className:"MusicChartInfosubtitle",key:e},t))),i.a.createElement("div",{className:"MusicChartInfoartist"},t.artist,t.subartists.length?i.a.createElement("small",null,"  "+t.subartists.join("  ")):null));a.propTypes={info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number})},e.a=a},function(t,e,n){"use strict";n(1145);var r=n(726),i=n.n(r),o=n(26),s=n.n(o),a=n(29),c=n.n(a),u=n(55),l=n.n(u);class f extends s.a.Component{constructor(){super(...arguments),this.handleClick=t=>{this.props.onChartClick(this.props.chart,t)}}render(){let t=l()("MusicChartSelectorItem",{"is-active":this.props.isSelected,"is-replayable":this.props.isReplayable,"is-tutorial":this.props.isTutorial,"is-insane":this.props.chart.info.difficulty>=5,"is-5keys":"5K"===this.props.chart.keys});return s.a.createElement("li",{className:t,onClick:this.handleClick,"data-testid":this.props.isSelected?"play-selected-chart":void 0},this.renderText(),s.a.createElement("span",{className:"MusicChartSelectorItemplay"},s.a.createElement(i.a,{name:"play"})))}renderText(){if(this.props.isTutorial){return`Start Tutorial (${"5K"===this.props.chart.keys?"5 keys":"7 keys"})`}return s.a.createElement("span",{className:"MusicChartSelectorItemlevel"},this.props.chart.info.level)}}f.propTypes={chart:c.a.object.isRequired,isSelected:c.a.bool,isReplayable:c.a.bool,isTutorial:c.a.number,onChartClick:c.a.func.isRequired},e.a=f},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(1085),c=n(712);class u extends i.a.Component{constructor(t){super(t),this.onStoreTrigger=t=>{this.mounted&&this.setState(t)},this.state={data:null,meta:{scoreboard:{status:"loading"},submission:{status:"loading"}}}}getParams(t){let e={};Object.assign(e,{md5:t.chart.md5,playMode:t.playMode});let n=t.result;return n&&Object.assign(e,{score:n.score,combo:n.maxCombo,total:n.totalCombo,count:[n[1],n[2],n[3],n[4],n.missed],log:n.log}),e}componentDidMount(){this.model=c.a.Ranking(this.getParams(this.props)),this.unsubscribe=this.model.state.onValue(this.onStoreTrigger),this.mounted=!0}componentWillReceiveProps(t){this.props.chart.md5===t.chart.md5&&this.props.playMode===t.playMode||(this.unsubscribe&&this.unsubscribe(),this.model=c.a.Ranking(this.getParams(t)),this.unsubscribe=this.model.state.onValue(this.onStoreTrigger))}componentWillUnmount(){this.mounted=!1,this.unsubscribe&&this.unsubscribe()}onReloadScoreboardRequest(){this.model.reloadScoreboard()}onResubmitScoreRequest(){this.model.resubmit()}render(){return i.a.createElement(a.a,{state:this.state,onReloadScoreboardRequest:this.onReloadScoreboardRequest,onResubmitScoreRequest:this.onResubmitScoreRequest})}}u.propTypes={chart:s.a.object,playMode:s.a.any}},function(t,e,n){"use strict";function r(t){return e=t.count,n=t.total,(100*((e[0]+.8*e[1]+.5*e[2])/n)).toFixed(2)+"%";var e,n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n(390);let i=String(Object(r.d)()||"")||null;function o(){return!!i}function s(){try{return i}finally{i=null}}},function(t,e,n){"use strict";var r=n(71).isSpace,i=n(71).unescapeAll;t.exports=function(t,e,n){var o,s,a=e,c={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<n;){if(10===(o=t.charCodeAt(e))||r(o))return c;if(62===o)return c.pos=e+1,c.str=i(t.slice(a+1,e)),c.ok=!0,c;92===o&&e+1<n?e+=2:e++}return c}for(s=0;e<n&&32!==(o=t.charCodeAt(e))&&!(o<32||127===o);)if(92===o&&e+1<n)e+=2;else{if(40===o&&++s>1)break;if(41===o&&--s<0)break;e++}return a===e||(c.str=i(t.slice(a,e)),c.lines=0,c.pos=e,c.ok=!0),c}},function(t,e,n){"use strict";var r=n(71).unescapeAll;t.exports=function(t,e,n){var i,o,s=0,a=e,c={ok:!1,pos:0,lines:0,str:""};if(e>=n)return c;if(34!==(o=t.charCodeAt(e))&&39!==o&&40!==o)return c;for(e++,40===o&&(o=41);e<n;){if((i=t.charCodeAt(e))===o)return c.pos=e+1,c.lines=s,c.str=r(t.slice(a+1,e)),c.ok=!0,c;10===i?s++:92===i&&e+1<n&&(e++,10===t.charCodeAt(e)&&s++),e++}return c}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(460),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(1177)),i=o(n(1068));o(n(734)),o(n(735));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return(0,r.default)((function(t,e){return!(0,i.default)(t,e)}))(t)}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"flush",(function(){return s})),n.d(e,"hydrate",(function(){return a})),n.d(e,"cx",(function(){return c})),n.d(e,"merge",(function(){return u})),n.d(e,"getRegisteredStyles",(function(){return l})),n.d(e,"injectGlobal",(function(){return f})),n.d(e,"keyframes",(function(){return h})),n.d(e,"css",(function(){return p})),n.d(e,"sheet",(function(){return d})),n.d(e,"caches",(function(){return b}));var r=n(2002),i=void 0!==t?t:{},o=Object(r.a)(i),s=o.flush,a=o.hydrate,c=o.cx,u=o.merge,l=o.getRegisteredStyles,f=o.injectGlobal,h=o.keyframes,p=o.css,d=o.sheet,b=o.caches}.call(this,n(31))},,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(1157);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=(n(1159),n(1064));const c=({children:t})=>i.a.createElement("table",{className:"RankingTable"},i.a.createElement("tbody",null,t));c.propTypes={children:s.a.any};class u extends i.a.Component{render(){return i.a.createElement("tr",null,i.a.createElement("td",{className:"RankingTablerank"},this.props.record.rank||i.a.createElement("span",{title:"Unable to determine your rank"},"??")),i.a.createElement("td",{className:"RankingTablename"},this.props.record.playerName),i.a.createElement("td",{className:"RankingTablescore"},this.props.record.score),i.a.createElement("td",{className:"RankingTableaccuracy"},Object(a.a)(this.props.record)))}}u.propTypes={record:s.a.object};const l=({children:t})=>i.a.createElement("tr",null,i.a.createElement("td",{colSpan:4,className:"RankingTablemessage"},t));l.propTypes={children:s.a.any},c.Row=u,c.Message=l;var f=c,h=n(1053),p=n(225);class d extends i.a.Component{constructor(t){super(t),this.handleAuthenticate=()=>{this.setState({authenticationPopupVisible:!0})},this.handleAuthenticationClose=()=>{this.setState({authenticationPopupVisible:!1})},this.handleAuthenticationFinish=()=>{this.setState({authenticationPopupVisible:!1})},this.state={authenticationPopupVisible:!1}}render(){return i.a.createElement("div",{className:"Ranking"},i.a.createElement(h.a,{visible:this.state.authenticationPopupVisible,onFinish:this.handleAuthenticationFinish,onBackdropClick:this.handleAuthenticationClose}),this.renderYours(),this.renderLeaderboard())}renderYours(){const t=this.props.state.meta.submission;return i.a.createElement("div",{className:"Rankingyours"},i.a.createElement("div",{className:"Rankingtitle"},"Your Ranking"),i.a.createElement(f,null,t.value?i.a.createElement(f.Row,{record:t.value}):"unauthenticated"===t.status?i.a.createElement(f.Message,null,"Please"," ",i.a.createElement("a",{href:"javascript://online/auth",onClick:this.handleAuthenticate},"log in or create an account")," ","to submit scores."):"error"===t.status?i.a.createElement(f.Message,null,this.renderError("Unable to submit score",t.error,this.props.onResubmitScoreRequest)):Object(p.c)(t)?i.a.createElement(f.Message,null,"Please wait..."):i.a.createElement(f.Message,null,"No record. Lets play!")))}renderLeaderboard(){const t=this.props.state;return i.a.createElement("div",{className:"Rankingleaderboard"},i.a.createElement("div",{className:"Rankingtitle"},"Leaderboard"),i.a.createElement(f,null,t.data&&t.data.length?t.data.map(((t,e)=>i.a.createElement(f.Row,{key:e,record:t}))):Object(p.c)(t.meta.scoreboard)?i.a.createElement(f.Message,null,"Loading..."):"error"===t.meta.scoreboard.status?i.a.createElement(f.Message,null,this.renderError("Sorry, we are unable to fetch the scoreboard.",t.meta.scoreboard.error,this.props.onReloadScoreboardRequest)):i.a.createElement(f.Message,null,"No Data")))}renderError(t,e,n){return i.a.createElement("span",{className:"Rankingerror"},i.a.createElement("strong",null,t," ",i.a.createElement("a",{onClick:n,className:"RankingerrorRetry",href:"javascript://retry"},"(click to retry)")),i.a.createElement("br",null),i.a.createElement("span",{className:"RankingerrorDescription"},e&&e.message?""+e.message:"(unknown error)"))}}d.propTypes={state:s.a.shape({data:s.a.arrayOf(s.a.object),meta:s.a.shape({scoreboard:s.a.object,submission:s.a.object})}),onReloadScoreboardRequest:s.a.func,onResubmitScoreRequest:s.a.func}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1089));e.createIO=function(t){return(0,r.default)({},i.default,(function(e,n){return t(e,n)}))};var i=o(n(748));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(1090),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports={default:n(714),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRun=function(t){var e=t.context;return function t(n){return n[o.default](e,t)}};var r,i=n(748),o=(r=i)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,l=u&&u(Object);t.exports=function t(e,n,f){if("string"!=typeof n){if(l){var h=u(n);h&&h!==l&&t(e,h,f)}var p=s(n);a&&(p=p.concat(a(n)));for(var d=0;d<p.length;++d){var b=p[d];if(!(r[b]||i[b]||f&&f[b])){var m=c(n,b);try{o(e,b,m)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChangeEmitter=function(){var t=[],e=t;function n(){e===t&&(e=t.slice())}return{listen:function(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var r=!0;return n(),e.push(t),function(){if(r){r=!1,n();var i=e.indexOf(t);e.splice(i,1)}}},emit:function(){for(var n=t=e,r=0;r<n.length;r++)n[r].apply(n,arguments)}}}},function(t,e){function n(t,e){return t+e}t.exports=function(t){"use strict";return t.reduce(n,0)/t.length}},function(t,e,n){"use strict";var r=n(1096),i=n(1106),o=n(467);t.exports={formats:o,parse:i,stringify:r}},function(t,e,n){"use strict";var r=n(1097),i=n(752),o=n(467),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,u=Array.prototype.push,l=function(t,e){u.apply(t,c(e)?e:[e])},f=Date.prototype.toISOString,h=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},d=function t(e,n,o,s,a,u,f,h,d,b,m,y,v,g,_){var w,S=e;if(_.has(e))throw new RangeError("Cyclic object value");if("function"==typeof f?S=f(n,S):S instanceof Date?S=b(S):"comma"===o&&c(S)&&(S=i.maybeMap(S,(function(t){return t instanceof Date?b(t):t}))),null===S){if(s)return u&&!v?u(n,p.encoder,g,"key",m):n;S=""}if("string"==typeof(w=S)||"number"==typeof w||"boolean"==typeof w||"symbol"==typeof w||"bigint"==typeof w||i.isBuffer(S))return u?[y(v?n:u(n,p.encoder,g,"key",m))+"="+y(u(S,p.encoder,g,"value",m))]:[y(n)+"="+y(String(S))];var x,k=[];if(void 0===S)return k;if("comma"===o&&c(S))x=[{value:S.length>0?S.join(",")||null:void 0}];else if(c(f))x=f;else{var E=Object.keys(S);x=h?E.sort(h):E}for(var O=0;O<x.length;++O){var A=x[O],M="object"==typeof A&&void 0!==A.value?A.value:S[A];if(!a||null!==M){var C=c(S)?"function"==typeof o?o(n,A):n:n+(d?"."+A:"["+A+"]");_.set(e,!0);var j=r();l(k,t(M,C,o,s,a,u,f,h,d,b,m,y,v,g,j))}}return k};t.exports=function(t,e){var n,i=t,u=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==t.format){if(!s.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=o.formatters[n],i=p.filter;return("function"==typeof t.filter||c(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(n=u.filter);var f,h=[];if("object"!=typeof i||null===i)return"";f=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var b=a[f];n||(n=Object.keys(i)),u.sort&&n.sort(u.sort);for(var m=r(),y=0;y<n.length;++y){var v=n[y];u.skipNulls&&null===i[v]||l(h,d(i[v],v,b,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,m))}var g=h.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),g.length>0?_+g:""}},function(t,e,n){"use strict";var r=n(465),i=n(1102),o=n(1104),s=r("%TypeError%"),a=r("%WeakMap%",!0),c=r("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),d=i("Map.prototype.has",!0),b=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new s("Side channel does not contain "+o(t))},get:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(t)return u(t,r)}else if(c){if(e)return h(e,r)}else if(n)return function(t,e){var n=b(t,e);return n&&n.value}(n,r)},has:function(r){if(a&&r&&("object"==typeof r||"function"==typeof r)){if(t)return f(t,r)}else if(c){if(e)return d(e,r)}else if(n)return function(t,e){return!!b(t,e)}(n,r);return!1},set:function(r,i){a&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new a),l(t,r,i)):c?(e||(e=new c),p(e,r,i)):(n||(n={key:{},next:null}),function(t,e,n){var r=b(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,i))}};return r}},function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(1099);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||o.call(e)!==s)throw new TypeError(r+e);for(var n,a=i.call(arguments,1),c=function(){if(this instanceof n){var r=e.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,a.concat(i.call(arguments)))},u=Math.max(0,e.length-a.length),l=[],f=0;f<u;f++)l.push("$"+f);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),e.prototype){var h=function(){};h.prototype=e.prototype,n.prototype=new h,h.prototype=null}return n}},function(t,e,n){"use strict";var r=n(466);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var r=n(465),i=n(1103),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},function(t,e,n){"use strict";var r=n(466),i=n(465),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(r,s,arguments);if(c&&u){var n=c(e,"length");n.configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var f=function(){return a(r,o,arguments)};u?u(t.exports,"apply",{value:f}):t.exports.apply=f},function(t,e,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,l=a&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,b=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,v="function"==typeof BigInt?BigInt.prototype.valueOf:null,g=Object.getOwnPropertySymbols,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,w="function"==typeof Symbol&&"object"==typeof Symbol.iterator,S=Object.prototype.propertyIsEnumerable,x=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),k=n(1105).custom,E=k&&j(k)?k:null,O="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function A(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function M(t){return String(t).replace(/"/g,"&quot;")}function C(t){return!("[object Array]"!==P(t)||O&&"object"==typeof t&&O in t)}function j(t){if(w)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!_)return!1;try{return _.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,r,i){var a=n||{};if(I(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(I(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!I(a,"customInspect")||a.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(I(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return R(e,a);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var b=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=b&&b>0&&"object"==typeof e)return C(e)?"[Array]":"[Object]";var g=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(a,r);if(void 0===i)i=[];else if(F(i,e)>=0)return"[Circular]";function S(e,n,o){if(n&&(i=i.slice()).push(n),o){var s={depth:a.depth};return I(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,r+1,i)}return t(e,a,r+1,i)}if("function"==typeof e){var k=function(t){if(t.name)return t.name;var e=y.call(m.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),T=U(e,S);return"[Function"+(k?": "+k:" (anonymous)")+"]"+(T.length>0?" { "+T.join(", ")+" }":"")}if(j(e)){var D=w?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):_.call(e);return"object"!=typeof e||w?D:B(D)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var z="<"+String(e.nodeName).toLowerCase(),V=e.attributes||[],H=0;H<V.length;H++)z+=" "+V[H].name+"="+A(M(V[H].value),"double",a);return z+=">",e.childNodes&&e.childNodes.length&&(z+="..."),z+="</"+String(e.nodeName).toLowerCase()+">"}if(C(e)){if(0===e.length)return"[]";var W=U(e,S);return g&&!function(t){for(var e=0;e<t.length;e++)if(F(t[e],"\n")>=0)return!1;return!0}(W)?"["+q(W,g)+"]":"[ "+W.join(", ")+" ]"}if(function(t){return!("[object Error]"!==P(t)||O&&"object"==typeof t&&O in t)}(e)){var K=U(e,S);return 0===K.length?"["+String(e)+"]":"{ ["+String(e)+"] "+K.join(", ")+" }"}if("object"==typeof e&&c){if(E&&"function"==typeof e[E])return e[E]();if("symbol"!==c&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var G=[];return s.call(e,(function(t,n){G.push(S(n,e,!0)+" => "+S(t,e))})),L("Map",o.call(e),G,g)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var $=[];return l.call(e,(function(t){$.push(S(t,e))})),L("Set",u.call(e),$,g)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return N("WeakMap");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return N("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return N("WeakRef");if(function(t){return!("[object Number]"!==P(t)||O&&"object"==typeof t&&O in t)}(e))return B(S(Number(e)));if(function(t){if(!t||"object"!=typeof t||!v)return!1;try{return v.call(t),!0}catch(t){}return!1}(e))return B(S(v.call(e)));if(function(t){return!("[object Boolean]"!==P(t)||O&&"object"==typeof t&&O in t)}(e))return B(d.call(e));if(function(t){return!("[object String]"!==P(t)||O&&"object"==typeof t&&O in t)}(e))return B(S(String(e)));if(!function(t){return!("[object Date]"!==P(t)||O&&"object"==typeof t&&O in t)}(e)&&!function(t){return!("[object RegExp]"!==P(t)||O&&"object"==typeof t&&O in t)}(e)){var J=U(e,S),Y=x?x(e)===Object.prototype:e instanceof Object||e.constructor===Object,X=e instanceof Object?"":"null prototype",Q=!Y&&O&&Object(e)===e&&O in e?P(e).slice(8,-1):X?"Object":"",Z=(Y||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(Q||X?"["+[].concat(Q||[],X||[]).join(": ")+"] ":"");return 0===J.length?Z+"{}":g?Z+"{"+q(J,g)+"}":Z+"{ "+J.join(", ")+" }"}return String(e)};var T=Object.prototype.hasOwnProperty||function(t){return t in this};function I(t,e){return T.call(t,e)}function P(t){return b.call(t)}function F(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function R(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return R(t.slice(0,e.maxStringLength),e)+r}return A(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,D),"single",e)}function D(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function B(t){return"Object("+t+")"}function N(t){return t+" { ? }"}function L(t,e,n,r){return t+" ("+e+") {"+(r?q(n,r):n.join(", "))+"}"}function q(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function U(t,e){var n=C(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=I(t,i)?e(t[i],t):""}var o,s="function"==typeof g?g(t):[];if(w){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)I(t,c)&&(n&&String(Number(c))===c&&c<t.length||w&&o["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if("function"==typeof g)for(var u=0;u<s.length;u++)S.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}},function(t,e){},function(t,e,n){"use strict";var r=n(752),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,n,r){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=a?o.slice(0,a.index):o,l=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&null!==(a=s.exec(o))&&f<n.depth;){if(f+=1,!n.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+o.slice(a.index)+"]"),function(t,e,n,r){for(var i=r?e:c(e,n),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(s=[])[l]=i:s[u]=i:s={0:i}}i=s}return i}(l,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var n,u={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,h=l.split(e.delimiter,f),p=-1,d=e.charset;if(e.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?d="utf-8":"utf8=%26%2310003%3B"===h[n]&&(d="iso-8859-1"),p=n,n=h.length);for(n=0;n<h.length;++n)if(n!==p){var b,m,y=h[n],v=y.indexOf("]="),g=-1===v?y.indexOf("="):v+1;-1===g?(b=e.decoder(y,s.decoder,d,"key"),m=e.strictNullHandling?null:""):(b=e.decoder(y.slice(0,g),s.decoder,d,"key"),m=r.maybeMap(c(y.slice(g+1),e),(function(t){return e.decoder(t,s.decoder,d,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===d&&(m=a(m)),y.indexOf("[]=")>-1&&(m=o(m)?[m]:m),i.call(u,b)?u[b]=r.combine(u[b],m):u[b]=m}return u}(t,n):t,f=n.plainObjects?Object.create(null):{},h=Object.keys(l),p=0;p<h.length;++p){var d=h[p],b=u(d,l[d],n,"string"==typeof t);f=r.merge(f,b,n)}return!0===n.allowSparse?f:r.compact(f)}},function(t,e,n){var r=n(1108);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'.SceneHeading {\n  box-shadow: 0 0.1vh 3vh rgba(0, 0, 0, 0.1);\n  background: white;\n  margin: 0;\n  padding: 0 20px;\n  font: bold 2rem "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n  line-height: 40px;\n  color: black;\n  padding-left: 70px;\n}\n@media (min-width: 720px) {\n  .SceneHeading {\n    font-size: 3.6rem;\n    padding: 0 4rem;\n    line-height: 1.67em;\n  }\n}',""])},function(t,e,n){var r=n(1110);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.SceneToolbar {\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 0.5rem;\n  font-size: 1rem;\n}\n.SceneToolbar > a,\n.SceneToolbar > span {\n  display: block;\n  padding: 0.8ex 1.3ex;\n}\n.SceneToolbar > a {\n  color: rgba(255, 255, 255, 0.8);\n  text-decoration: none;\n  background: rgba(0, 0, 0, 0);\n  transition: 0.1s background, 0.1s color;\n}\n.SceneToolbar > a:hover {\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n}\n.SceneToolbar > a[data-position=right] {\n  float: right;\n}\n.SceneToolbar > span {\n  color: rgba(255, 255, 255, 0.6);\n}\n.SceneToolbarspacer {\n  flex: 1 1;\n}',""])},function(t,e,n){var r=n(1112);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".OptionsButton {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #454443, #151413);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n}\n.OptionsButton:hover {\n  border-color: #656463;\n}\n.OptionsButton:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.OptionsButton:active {\n  background: #252423 linear-gradient(to top, #353433, #151413);\n  border-color: #454443;\n}",""])},function(t,e,n){t.exports=n.p+"build/354b30433269481d2f132496a0d13f64.ogg"},function(t,e,n){t.exports=n.p+"build/38fbcad5f2b14ca6ffc359446f7ec455.ogg"},function(t,e){t.exports={SCOREBOARD_SERVER:"https://bemuse-scoreboard.herokuapp.com/",AUTH0_DOMAIN:"bemuse.au.auth0.com",AUTH0_CLIENT_ID:"XOS0iHs3cwHICkVHwPEJYVHuyyLrETN4"}},function(t,e,n){var r=n(1117);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,"",""])},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ModalPopup {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(17, 17, 17, 0.5);\n  overflow: hidden;\n  z-index: 10000;\n}\n.ModalPopupscroller {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.ModalPopupcontentsContainer {\n  position: absolute;\n  top: 0;\n  min-width: 100vw;\n  min-height: 100vh;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ModalPopupcontents {\n  position: relative;\n}\n.ModalPopup:not(.is-visible) {\n  display: none;\n}',""])},function(t,e,n){var r=n(1120);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.AuthenticationPanellayout {\n  display: flex;\n  align-items: stretch;\n}\n.AuthenticationPaneltitle {\n  padding: 12px 12px 24px;\n}\n.AuthenticationPaneltitle img {\n  width: 143px;\n  height: 143px;\n}\n.AuthenticationPanelidentification {\n  color: #8b8685;\n  font-size: 32px;\n  padding-left: 10px;\n}\n.AuthenticationPanelcontent {\n  padding: 16px 26px 16px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.AuthenticationPanelmodeSwitcher {\n  text-align: center;\n  margin-bottom: 16px;\n  color: #8b8685;\n}\n.AuthenticationPanelmodeSwitcher a {\n  color: #8b8685;\n}\n.AuthenticationPanelmodeSwitcher a.is-active {\n  color: #bef;\n  font-weight: bold;\n  cursor: default;\n  text-decoration: none;\n}\n.AuthenticationPanelmessage {\n  color: #ff6;\n}\n.AuthenticationPanelmessage.is-error {\n  color: #f88;\n}',""])},function(t,e,n){var r=n(1122);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.AuthenticationForm label {\n  display: flex;\n  align-items: center;\n  margin: 8px 0;\n}\n.AuthenticationForm label[hidden] {\n  display: none;\n}\n.AuthenticationFormlabel {\n  width: 120px;\n  text-align: right;\n}\n.AuthenticationFormcontrol {\n  margin-left: 12px;\n}\n.AuthenticationForm input {\n  font: inherit;\n  background: #252423 linear-gradient(to top, #454443, #151413);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  width: 12em;\n}\n.AuthenticationFormbuttons {\n  margin-top: 24px;\n  text-align: center;\n}\n.AuthenticationForm .OptionsButton {\n  font-size: 1.4em;\n}',""])},function(t,e,n){"use strict";var r=n(781),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(t){return r.isMemo(t)?s:a[t.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var s=l(n);f&&(s=s.concat(f(n)));for(var a=c(e),b=c(n),m=0;m<s.length;++m){var y=s[m];if(!(o[y]||r&&r[y]||b&&b[y]||a&&a[y])){var v=h(n,y);try{u(e,y,v)}catch(t){}}}}return e}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,b=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function S(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case s:case c:case a:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case y:case m:case u:return t;default:return e}}case o:return e}}}function x(t){return S(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=u,e.Element=i,e.ForwardRef=p,e.Fragment=s,e.Lazy=y,e.Memo=m,e.Portal=o,e.Profiler=c,e.StrictMode=a,e.Suspense=d,e.isAsyncMode=function(t){return x(t)||S(t)===f},e.isConcurrentMode=x,e.isContextConsumer=function(t){return S(t)===l},e.isContextProvider=function(t){return S(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return S(t)===p},e.isFragment=function(t){return S(t)===s},e.isLazy=function(t){return S(t)===y},e.isMemo=function(t){return S(t)===m},e.isPortal=function(t){return S(t)===o},e.isProfiler=function(t){return S(t)===c},e.isStrictMode=function(t){return S(t)===a},e.isSuspense=function(t){return S(t)===d},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===s||t===h||t===c||t===a||t===d||t===b||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===u||t.$$typeof===l||t.$$typeof===p||t.$$typeof===g||t.$$typeof===_||t.$$typeof===w||t.$$typeof===v)},e.typeOf=S},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(86),i=n.n(r);function o(t){return function(e){let n=()=>!1;return i()(window).on("touchstart",n),function(t,e){var{view:n,wrapper:r}=t,{width:o,height:s}=n;function a(){e.removeEventListener("touchstart",a),e.addEventListener("contextmenu",(t=>{t.preventDefault()}))}function c(){var t=Math.min(window.innerWidth/o,window.innerHeight/s);n.style.width=Math.round(o*t)+"px",n.style.height=Math.round(s*t)+"px",r.style.width=Math.round(o*t)+"px",r.style.height=Math.round(s*t)+"px";var e=(window.innerHeight-s*t)/2;r.style.marginTop=Math.round(e)+"px"}e.appendChild(r),e.addEventListener("touchstart",a),c(),i()(window).on("resize",c)}(t,e),{teardown(){i()(window).off("touchstart",n)}}}}},function(t,e,n){var r=n(1127);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.LoadingScene {\n  background: url('+r(n(1059))+") center no-repeat;\n  background-size: cover;\n}\n.LoadingSceneinfo {\n  position: absolute;\n  top: 40%;\n  left: 0;\n  right: 0;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.LoadingScene .LoadingSceneSongInfo {\n  -webkit-animation: loading-scene--loading-scene-song-info--animation 1s ease;\n          animation: loading-scene--loading-scene-song-info--animation 1s ease;\n}\n.LoadingScene .LoadingSceneProgress {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n}\n.LoadingSceneimage {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.LoadingSceneimage img {\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: cover;\n  -webkit-animation: loading-scene--eyecatch-fade 0.8s;\n          animation: loading-scene--eyecatch-fade 0.8s;\n}\n.LoadingSceneflash {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  opacity: 0;\n  pointer-events: none;\n  background: white;\n  -webkit-animation: loading-scene--flash-animation 0.8s ease-out;\n          animation: loading-scene--flash-animation 0.8s ease-out;\n}\n.LoadingScenecover {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  opacity: 0;\n  pointer-events: none;\n  background: black;\n}\n.Scene.is-exiting .LoadingSceneinfo {\n  -webkit-animation: loading-scene--info-exit 0.3s linear;\n          animation: loading-scene--info-exit 0.3s linear;\n}\n.Scene.is-exiting .LoadingSceneflash {\n  -webkit-animation: loading-scene--flash-exit 0.3s ease;\n          animation: loading-scene--flash-exit 0.3s ease;\n}\n.Scene.is-exiting .LoadingScenecover {\n  -webkit-animation: loading-scene--cover-exit 0.3s linear;\n          animation: loading-scene--cover-exit 0.3s linear;\n  opacity: 1;\n}\n\n@-webkit-keyframes loading-scene--eyecatch-fade {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes loading-scene--eyecatch-fade {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes loading-scene--loading-scene-song-info--animation {\n  0% {\n    -webkit-transform: scale(1.5, 0.02);\n            transform: scale(1.5, 0.02);\n  }\n  100% {\n    -webkit-transform: scale(1, 1);\n            transform: scale(1, 1);\n  }\n}\n@keyframes loading-scene--loading-scene-song-info--animation {\n  0% {\n    -webkit-transform: scale(1.5, 0.02);\n            transform: scale(1.5, 0.02);\n  }\n  100% {\n    -webkit-transform: scale(1, 1);\n            transform: scale(1, 1);\n  }\n}\n@-webkit-keyframes loading-scene--info-exit {\n  0% {\n    -webkit-transform: translateY(-50%) scale(1, 1);\n            transform: translateY(-50%) scale(1, 1);\n  }\n  100% {\n    -webkit-transform: translateY(-50%) scale(2, 2);\n            transform: translateY(-50%) scale(2, 2);\n  }\n}\n@keyframes loading-scene--info-exit {\n  0% {\n    -webkit-transform: translateY(-50%) scale(1, 1);\n            transform: translateY(-50%) scale(1, 1);\n  }\n  100% {\n    -webkit-transform: translateY(-50%) scale(2, 2);\n            transform: translateY(-50%) scale(2, 2);\n  }\n}\n@-webkit-keyframes loading-scene--cover-exit {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes loading-scene--cover-exit {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes loading-scene--flash-animation {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes loading-scene--flash-animation {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes loading-scene--flash-exit {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes loading-scene--flash-exit {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 0;\n  }\n}",""])},function(t,e,n){var r=n(1129);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.LoadingSceneSongInfo {\n  background: rgba(255, 255, 255, 0.96);\n  color: #191817;\n  text-align: center;\n  padding: 25px 0px;\n  box-shadow: 0 2px 18px rgba(0, 0, 0, 0.2);\n}\n.LoadingSceneSongInfogenre {\n  font-size: 1.2rem;\n}\n.LoadingSceneSongInfotitle {\n  font-size: 3.2rem;\n  font-weight: bold;\n}\n.LoadingSceneSongInfosubtitle {\n  font-size: 2.4rem;\n}\n.LoadingSceneSongInfoartist {\n  font-size: 1.6rem;\n  margin-top: 0.8ex;\n}\n.LoadingSceneSongInfosubartist {\n  font-size: 1rem;\n}',""])},function(t,e,n){var r=n(1131);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.LoadingSceneProgress {\n  color: #333;\n  font-size: 11px;\n}\n.LoadingSceneProgress .LoadingSceneProgressBar {\n  display: inline-block;\n  vertical-align: middle;\n  width: 48px;\n  margin-right: 4px;\n  position: relative;\n  top: -1px;\n}\n.LoadingSceneProgressextra {\n  font-size: 83%;\n  opacity: 0.7;\n}',""])},function(t,e,n){var r=n(1133);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.LoadingSceneProgressBar {\n  border: 1px solid rgba(0, 0, 0, 0.6);\n  padding: 1px;\n}\n.LoadingSceneProgressBarbar {\n  height: 8px;\n  background: rgba(0, 0, 0, 0.6);\n  width: 0%;\n}',""])},function(t,e,n){"use strict";var r=n(30),i=n.n(r),o=n(61),s=n.n(o);e.a=t=>{return s()("boolean"==typeof t.enabled,"enabled must be a boolean"),s()("number"==typeof t.initialSpeed,"initialSpeed must be a number"),s()("number"==typeof t.desiredLeadTime,"desiredLeadTime must be a number"),s()("number"==typeof t.songBPM,"songBPM must be a number"),t.enabled?function({songBPM:t,desiredLeadTime:e,laneCover:n}){const r=1-Math.abs(n),o=3e5/t*r,s=i.a.minBy(i.a.range(1,999).map((t=>t/10)),(t=>Math.abs(e-o/t)));return{getInitialSpeed:()=>s,handleGameFinish(t,{saveSpeed:e,saveLeadTime:n}){e(t),t.toFixed(1)!==s.toFixed(1)&&n(Math.round(o/t))}}}({desiredLeadTime:t.desiredLeadTime,songBPM:t.songBPM,laneCover:t.laneCover||0}):(e=t.initialSpeed,{getInitialSpeed:()=>e,handleGameFinish(t,{saveSpeed:e}){e(t)}});var e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(1136);var r=n(26),i=n.n(r),o=n(149),s=n(352),a=n(132),c=n(218),u=n(203);function l(t){const{preamble:e,error:n,onContinue:r}=t,l=i.a.useMemo((()=>[e,"","[Error]",String(n),"","[User agent]",navigator.userAgent,"","[Stack trace]",String(n&&n.stack||n)].join("\n")),[n,e]);return i.a.createElement(c.a,{className:"GenericErrorScene"},i.a.createElement(s.a,null,i.a.createElement(a.a,{title:"Error"},i.a.createElement("div",{className:"GenericErrorScenewrapper"},i.a.createElement("textarea",{className:"GenericErrorScenestack",value:l,readOnly:!0}),i.a.createElement("div",{style:{textAlign:"right"}},i.a.createElement(o.a,{onClick:()=>{u.f("error","continue",String(n)),r()}},"Continue"))))))}l.getScene=t=>i.a.createElement(l,{...t})},function(t,e,n){var r=n(1137);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.GenericErrorScene {\n  background: url('+r(n(1056))+") center no-repeat;\n  background-size: cover;\n}\n.GenericErrorScenewrapper {\n  padding: 1em;\n  width: 32em;\n  max-width: 90vw;\n  box-sizing: border-box;\n}\n.GenericErrorScenestack {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #151413, #292827);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  color: #faa;\n  display: block;\n  width: 100%;\n  box-sizing: border-box;\n  height: 16em;\n  margin: 0 0 0.5em;\n  font-family: Menlo, Consolas, monospace;\n  font-size: 0.72em;\n}\n.GenericErrorScenestack:hover {\n  border-color: #656463;\n}\n.GenericErrorScenestack:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.GenericErrorScenestack:active {\n  border-color: #454443;\n}\n.GenericErrorScenestack::selection {\n  background: #8b8685;\n  color: #8e8;\n}",""])},function(t,e,n){var r=n(1139);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultScene {\n  background: url('+r(n(1140))+") center no-repeat;\n  background-size: cover;\n  color: black;\n}\n.ResultScene .SceneHeading {\n  z-index: 10;\n}\n.ResultScenereport {\n  position: absolute;\n  top: 9rem;\n  right: calc(50vw + 1rem);\n  bottom: 3rem;\n  left: 4rem;\n}\n@media (min-height: 480px) {\n  .ResultScenereport {\n    top: 10rem;\n  }\n}\n.ResultSceneinformation {\n  background: rgba(255, 255, 255, 0.8);\n  position: absolute;\n  top: 0;\n  right: 4rem;\n  bottom: 0;\n  left: calc(50vw + 1rem);\n  padding-top: 9rem;\n  padding-bottom: calc(32px + 4vh);\n  display: flex;\n  flex-direction: column;\n}\n@media (min-height: 480px) {\n  .ResultSceneinformation {\n    padding-top: 10rem;\n  }\n}\n@media (orientation: portrait) {\n  .ResultSceneinformation {\n    right: 0;\n  }\n}\n.ResultSceneinformationHeader {\n  flex: 0 0 auto;\n}\n.ResultSceneinformationBody {\n  flex: 1 1 auto;\n  background: rgba(255, 255, 255, 0.6);\n  overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  margin: 0.5rem 0 0.5rem;\n}\n@media (min-height: 480px) {\n  .ResultSceneinformationBody {\n    margin: 4vh 0 4vh;\n  }\n}\n.ResultSceneinformationFooter {\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: flex-end;\n  padding: 0 0.5rem;\n}\n@media (min-height: 480px) {\n  .ResultSceneinformationFooter {\n    padding: 0 2vw;\n  }\n}\n.ResultScene .MusicChartInfo {\n  margin: 0 2vw;\n}\n.ResultScene .Ranking {\n  font-size: 1rem;\n}\n.ResultScene .ResultGrade {\n  position: absolute;\n  bottom: calc(32px + 4vh);\n  right: 52vw;\n  width: 20vh;\n  height: 20vh;\n}\n.ResultScenechart {\n  float: right;\n  margin-right: 2vw;\n  text-align: center;\n  z-index: 11;\n  position: relative;\n}\n.ResultScenemode {\n  opacity: 0.5;\n  position: absolute;\n  right: 4rem;\n  top: 0;\n  bottom: 0;\n  font-size: 2rem;\n  text-align: right;\n}\n.ResultScene .MusicChartSelectorItem {\n  width: 4.5rem;\n}\n.ResultSceneexit {\n  display: block;\n  background: #5a5;\n  border: 2px solid #4d994d;\n  text-align: center;\n  font-size: 1.75rem;\n  color: #fff;\n  padding: 1ex 2ex;\n  cursor: pointer;\n  border-radius: 0.8rem;\n}\n.ResultScenetweet {\n  display: block;\n  background: #54abee;\n  border: 2px solid #3da0ec;\n  text-align: center;\n  font-size: 1.75rem;\n  color: #fff;\n  padding: 1ex 2ex;\n  cursor: pointer;\n  border-radius: 0.8rem;\n}",""])},function(t,e,n){t.exports=n.p+"build/0cfe6fe9284bd4c4fcc04d66ee85c398.jpg"},function(t,e,n){var r=n(1142);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.TipContainer {\n  display: inline-block;\n  position: relative;\n}\n.TipContainerbubble {\n  position: absolute;\n  top: -16px;\n  left: 50%;\n  -webkit-transform: translate(-50%, -100%);\n          transform: translate(-50%, -100%);\n  -webkit-animation: 0.5s TipContainerbubble;\n          animation: 0.5s TipContainerbubble;\n  cursor: pointer;\n}\n.TipContainerbubbleContent {\n  position: relative;\n  display: block;\n  background: #b61a44;\n  padding: 8px 12px;\n  color: white;\n  white-space: nowrap;\n  border-radius: 8px;\n  font-weight: bold;\n  font-size: 1rem;\n  -webkit-animation: 1.8s TipContainerbubbleContent linear infinite;\n          animation: 1.8s TipContainerbubbleContent linear infinite;\n}\n.TipContainerbubbleContent::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -8px;\n  border-width: 8px 8px 0 8px;\n  border-style: solid;\n  border-color: transparent;\n  border-top-color: #b61a44;\n}\n\n@-webkit-keyframes TipContainerbubble {\n  from {\n    -webkit-transform: translate(-50%, -200%);\n            transform: translate(-50%, -200%);\n    opacity: 0;\n  }\n}\n\n@keyframes TipContainerbubble {\n  from {\n    -webkit-transform: translate(-50%, -200%);\n            transform: translate(-50%, -200%);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes TipContainerbubbleContent {\n  0% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  25% {\n    -webkit-transform: translateY(-3px);\n            transform: translateY(-3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  50% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  75% {\n    -webkit-transform: translateY(3px);\n            transform: translateY(3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  100% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n@keyframes TipContainerbubbleContent {\n  0% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  25% {\n    -webkit-transform: translateY(-3px);\n            transform: translateY(-3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  50% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  75% {\n    -webkit-transform: translateY(3px);\n            transform: translateY(3px);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  100% {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}',""])},function(t,e,n){var r=n(1144);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicChartInfo {\n  font: 1rem "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n}\n.MusicChartInfotitle {\n  font-size: 2em;\n  font-weight: bold;\n}\n.MusicChartInfosubtitle {\n  font-size: 1.5em;\n  color: rgba(0, 0, 0, 0.6);\n  font-weight: bold;\n}\n.MusicChartInfoartist > small {\n  font-size: 1em;\n  color: rgba(0, 0, 0, 0.6);\n}',""])},function(t,e,n){var r=n(1146);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicChartSelectorItem {\n  list-style: none;\n  height: 4.5rem;\n  line-height: 4.25rem;\n  font-size: 2rem;\n  text-align: center;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 0.8rem;\n  cursor: pointer;\n  position: relative;\n  box-sizing: border-box;\n}\n.MusicChartSelectorItem.is-active {\n  color: white;\n}\n.MusicChartSelectorItemlevel {\n  opacity: 1;\n  transition: 0.3s opacity;\n}\n.MusicChartSelectorItemplay {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  opacity: 0;\n  transition: 0.3s opacity;\n}\n.MusicChartSelectorItem:not(.is-tutorial).is-active:hover .MusicChartSelectorItemplay, .MusicChartSelectorItem.is-replayable:hover .MusicChartSelectorItemplay {\n  opacity: 1;\n}\n.MusicChartSelectorItem:not(.is-tutorial).is-active:hover .MusicChartSelectorItemlevel, .MusicChartSelectorItem.is-replayable:hover .MusicChartSelectorItemlevel {\n  opacity: 0;\n}\n\n.MusicChartSelectorItem {\n  border: 2px solid #8ac;\n}\n.MusicChartSelectorItem.is-active {\n  background: #8ac;\n  -webkit-animation: 3s music-chart-selector-item--active-normal infinite;\n          animation: 3s music-chart-selector-item--active-normal infinite;\n}\n\n@-webkit-keyframes music-chart-selector-item--active-normal {\n  0% {\n    background: #acc4db;\n  }\n  50% {\n    background: #6491bd;\n  }\n  100% {\n    background: #acc4db;\n  }\n}\n\n@keyframes music-chart-selector-item--active-normal {\n  0% {\n    background: #acc4db;\n  }\n  50% {\n    background: #6491bd;\n  }\n  100% {\n    background: #acc4db;\n  }\n}\n.MusicChartSelectorItem.is-5keys {\n  border: 2px solid #ac8;\n}\n.MusicChartSelectorItem.is-5keys.is-active {\n  background: #8ac;\n  -webkit-animation: 3s music-chart-selector-item--active-5k infinite;\n          animation: 3s music-chart-selector-item--active-5k infinite;\n}\n\n@-webkit-keyframes music-chart-selector-item--active-5k {\n  0% {\n    background: #c4dbac;\n  }\n  50% {\n    background: #91bd64;\n  }\n  100% {\n    background: #c4dbac;\n  }\n}\n\n@keyframes music-chart-selector-item--active-5k {\n  0% {\n    background: #c4dbac;\n  }\n  50% {\n    background: #91bd64;\n  }\n  100% {\n    background: #c4dbac;\n  }\n}\n.MusicChartSelectorItem.is-insane {\n  border: 2px solid #c66;\n}\n.MusicChartSelectorItem.is-insane.is-active {\n  background: #8ac;\n  -webkit-animation: 3s music-chart-selector-item--active-insane infinite;\n          animation: 3s music-chart-selector-item--active-insane infinite;\n}\n\n@-webkit-keyframes music-chart-selector-item--active-insane {\n  0% {\n    background: #d98c8c;\n  }\n  50% {\n    background: #bf4040;\n  }\n  100% {\n    background: #d98c8c;\n  }\n}\n\n@keyframes music-chart-selector-item--active-insane {\n  0% {\n    background: #d98c8c;\n  }\n  50% {\n    background: #bf4040;\n  }\n  100% {\n    background: #d98c8c;\n  }\n}',""])},function(t,e,n){var r=n(1148);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,"/*!\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: 'FontAwesome';\n  src: url("+r(n(1149))+");\n  src: url("+r(n(1150))+"?#iefix&v=4.7.0) format('embedded-opentype'), url("+r(n(1151))+") format('woff2'), url("+r(n(1152))+") format('woff'), url("+r(n(1153))+") format('truetype'), url("+r(n(1154))+'#fontawesomeregular) format(\'svg\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fa {\n  display: inline-block;\n  font: normal normal normal 14px/1 FontAwesome;\n  font-size: inherit;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/* makes the font 33% larger relative to the icon container */\n.fa-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.fa-2x {\n  font-size: 2em;\n}\n.fa-3x {\n  font-size: 3em;\n}\n.fa-4x {\n  font-size: 4em;\n}\n.fa-5x {\n  font-size: 5em;\n}\n.fa-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n.fa-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.fa-ul > li {\n  position: relative;\n}\n.fa-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.fa-li.fa-lg {\n  left: -1.85714286em;\n}\n.fa-border {\n  padding: .2em .25em .15em;\n  border: solid 0.08em #eeeeee;\n  border-radius: .1em;\n}\n.fa-pull-left {\n  float: left;\n}\n.fa-pull-right {\n  float: right;\n}\n.fa.fa-pull-left {\n  margin-right: .3em;\n}\n.fa.fa-pull-right {\n  margin-left: .3em;\n}\n/* Deprecated as of 4.4.0 */\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.fa.pull-left {\n  margin-right: .3em;\n}\n.fa.pull-right {\n  margin-left: .3em;\n}\n.fa-spin {\n  animation: fa-spin 2s infinite linear;\n}\n.fa-pulse {\n  animation: fa-spin 1s infinite steps(8);\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(359deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  transform: rotate(90deg);\n}\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  transform: rotate(180deg);\n}\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  transform: rotate(270deg);\n}\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  transform: scale(-1, 1);\n}\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  transform: scale(1, -1);\n}\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  filter: none;\n}\n.fa-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.fa-stack-1x,\n.fa-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.fa-stack-1x {\n  line-height: inherit;\n}\n.fa-stack-2x {\n  font-size: 2em;\n}\n.fa-inverse {\n  color: #ffffff;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.fa-glass:before {\n  content: "\\F000";\n}\n.fa-music:before {\n  content: "\\F001";\n}\n.fa-search:before {\n  content: "\\F002";\n}\n.fa-envelope-o:before {\n  content: "\\F003";\n}\n.fa-heart:before {\n  content: "\\F004";\n}\n.fa-star:before {\n  content: "\\F005";\n}\n.fa-star-o:before {\n  content: "\\F006";\n}\n.fa-user:before {\n  content: "\\F007";\n}\n.fa-film:before {\n  content: "\\F008";\n}\n.fa-th-large:before {\n  content: "\\F009";\n}\n.fa-th:before {\n  content: "\\F00A";\n}\n.fa-th-list:before {\n  content: "\\F00B";\n}\n.fa-check:before {\n  content: "\\F00C";\n}\n.fa-remove:before,\n.fa-close:before,\n.fa-times:before {\n  content: "\\F00D";\n}\n.fa-search-plus:before {\n  content: "\\F00E";\n}\n.fa-search-minus:before {\n  content: "\\F010";\n}\n.fa-power-off:before {\n  content: "\\F011";\n}\n.fa-signal:before {\n  content: "\\F012";\n}\n.fa-gear:before,\n.fa-cog:before {\n  content: "\\F013";\n}\n.fa-trash-o:before {\n  content: "\\F014";\n}\n.fa-home:before {\n  content: "\\F015";\n}\n.fa-file-o:before {\n  content: "\\F016";\n}\n.fa-clock-o:before {\n  content: "\\F017";\n}\n.fa-road:before {\n  content: "\\F018";\n}\n.fa-download:before {\n  content: "\\F019";\n}\n.fa-arrow-circle-o-down:before {\n  content: "\\F01A";\n}\n.fa-arrow-circle-o-up:before {\n  content: "\\F01B";\n}\n.fa-inbox:before {\n  content: "\\F01C";\n}\n.fa-play-circle-o:before {\n  content: "\\F01D";\n}\n.fa-rotate-right:before,\n.fa-repeat:before {\n  content: "\\F01E";\n}\n.fa-refresh:before {\n  content: "\\F021";\n}\n.fa-list-alt:before {\n  content: "\\F022";\n}\n.fa-lock:before {\n  content: "\\F023";\n}\n.fa-flag:before {\n  content: "\\F024";\n}\n.fa-headphones:before {\n  content: "\\F025";\n}\n.fa-volume-off:before {\n  content: "\\F026";\n}\n.fa-volume-down:before {\n  content: "\\F027";\n}\n.fa-volume-up:before {\n  content: "\\F028";\n}\n.fa-qrcode:before {\n  content: "\\F029";\n}\n.fa-barcode:before {\n  content: "\\F02A";\n}\n.fa-tag:before {\n  content: "\\F02B";\n}\n.fa-tags:before {\n  content: "\\F02C";\n}\n.fa-book:before {\n  content: "\\F02D";\n}\n.fa-bookmark:before {\n  content: "\\F02E";\n}\n.fa-print:before {\n  content: "\\F02F";\n}\n.fa-camera:before {\n  content: "\\F030";\n}\n.fa-font:before {\n  content: "\\F031";\n}\n.fa-bold:before {\n  content: "\\F032";\n}\n.fa-italic:before {\n  content: "\\F033";\n}\n.fa-text-height:before {\n  content: "\\F034";\n}\n.fa-text-width:before {\n  content: "\\F035";\n}\n.fa-align-left:before {\n  content: "\\F036";\n}\n.fa-align-center:before {\n  content: "\\F037";\n}\n.fa-align-right:before {\n  content: "\\F038";\n}\n.fa-align-justify:before {\n  content: "\\F039";\n}\n.fa-list:before {\n  content: "\\F03A";\n}\n.fa-dedent:before,\n.fa-outdent:before {\n  content: "\\F03B";\n}\n.fa-indent:before {\n  content: "\\F03C";\n}\n.fa-video-camera:before {\n  content: "\\F03D";\n}\n.fa-photo:before,\n.fa-image:before,\n.fa-picture-o:before {\n  content: "\\F03E";\n}\n.fa-pencil:before {\n  content: "\\F040";\n}\n.fa-map-marker:before {\n  content: "\\F041";\n}\n.fa-adjust:before {\n  content: "\\F042";\n}\n.fa-tint:before {\n  content: "\\F043";\n}\n.fa-edit:before,\n.fa-pencil-square-o:before {\n  content: "\\F044";\n}\n.fa-share-square-o:before {\n  content: "\\F045";\n}\n.fa-check-square-o:before {\n  content: "\\F046";\n}\n.fa-arrows:before {\n  content: "\\F047";\n}\n.fa-step-backward:before {\n  content: "\\F048";\n}\n.fa-fast-backward:before {\n  content: "\\F049";\n}\n.fa-backward:before {\n  content: "\\F04A";\n}\n.fa-play:before {\n  content: "\\F04B";\n}\n.fa-pause:before {\n  content: "\\F04C";\n}\n.fa-stop:before {\n  content: "\\F04D";\n}\n.fa-forward:before {\n  content: "\\F04E";\n}\n.fa-fast-forward:before {\n  content: "\\F050";\n}\n.fa-step-forward:before {\n  content: "\\F051";\n}\n.fa-eject:before {\n  content: "\\F052";\n}\n.fa-chevron-left:before {\n  content: "\\F053";\n}\n.fa-chevron-right:before {\n  content: "\\F054";\n}\n.fa-plus-circle:before {\n  content: "\\F055";\n}\n.fa-minus-circle:before {\n  content: "\\F056";\n}\n.fa-times-circle:before {\n  content: "\\F057";\n}\n.fa-check-circle:before {\n  content: "\\F058";\n}\n.fa-question-circle:before {\n  content: "\\F059";\n}\n.fa-info-circle:before {\n  content: "\\F05A";\n}\n.fa-crosshairs:before {\n  content: "\\F05B";\n}\n.fa-times-circle-o:before {\n  content: "\\F05C";\n}\n.fa-check-circle-o:before {\n  content: "\\F05D";\n}\n.fa-ban:before {\n  content: "\\F05E";\n}\n.fa-arrow-left:before {\n  content: "\\F060";\n}\n.fa-arrow-right:before {\n  content: "\\F061";\n}\n.fa-arrow-up:before {\n  content: "\\F062";\n}\n.fa-arrow-down:before {\n  content: "\\F063";\n}\n.fa-mail-forward:before,\n.fa-share:before {\n  content: "\\F064";\n}\n.fa-expand:before {\n  content: "\\F065";\n}\n.fa-compress:before {\n  content: "\\F066";\n}\n.fa-plus:before {\n  content: "\\F067";\n}\n.fa-minus:before {\n  content: "\\F068";\n}\n.fa-asterisk:before {\n  content: "\\F069";\n}\n.fa-exclamation-circle:before {\n  content: "\\F06A";\n}\n.fa-gift:before {\n  content: "\\F06B";\n}\n.fa-leaf:before {\n  content: "\\F06C";\n}\n.fa-fire:before {\n  content: "\\F06D";\n}\n.fa-eye:before {\n  content: "\\F06E";\n}\n.fa-eye-slash:before {\n  content: "\\F070";\n}\n.fa-warning:before,\n.fa-exclamation-triangle:before {\n  content: "\\F071";\n}\n.fa-plane:before {\n  content: "\\F072";\n}\n.fa-calendar:before {\n  content: "\\F073";\n}\n.fa-random:before {\n  content: "\\F074";\n}\n.fa-comment:before {\n  content: "\\F075";\n}\n.fa-magnet:before {\n  content: "\\F076";\n}\n.fa-chevron-up:before {\n  content: "\\F077";\n}\n.fa-chevron-down:before {\n  content: "\\F078";\n}\n.fa-retweet:before {\n  content: "\\F079";\n}\n.fa-shopping-cart:before {\n  content: "\\F07A";\n}\n.fa-folder:before {\n  content: "\\F07B";\n}\n.fa-folder-open:before {\n  content: "\\F07C";\n}\n.fa-arrows-v:before {\n  content: "\\F07D";\n}\n.fa-arrows-h:before {\n  content: "\\F07E";\n}\n.fa-bar-chart-o:before,\n.fa-bar-chart:before {\n  content: "\\F080";\n}\n.fa-twitter-square:before {\n  content: "\\F081";\n}\n.fa-facebook-square:before {\n  content: "\\F082";\n}\n.fa-camera-retro:before {\n  content: "\\F083";\n}\n.fa-key:before {\n  content: "\\F084";\n}\n.fa-gears:before,\n.fa-cogs:before {\n  content: "\\F085";\n}\n.fa-comments:before {\n  content: "\\F086";\n}\n.fa-thumbs-o-up:before {\n  content: "\\F087";\n}\n.fa-thumbs-o-down:before {\n  content: "\\F088";\n}\n.fa-star-half:before {\n  content: "\\F089";\n}\n.fa-heart-o:before {\n  content: "\\F08A";\n}\n.fa-sign-out:before {\n  content: "\\F08B";\n}\n.fa-linkedin-square:before {\n  content: "\\F08C";\n}\n.fa-thumb-tack:before {\n  content: "\\F08D";\n}\n.fa-external-link:before {\n  content: "\\F08E";\n}\n.fa-sign-in:before {\n  content: "\\F090";\n}\n.fa-trophy:before {\n  content: "\\F091";\n}\n.fa-github-square:before {\n  content: "\\F092";\n}\n.fa-upload:before {\n  content: "\\F093";\n}\n.fa-lemon-o:before {\n  content: "\\F094";\n}\n.fa-phone:before {\n  content: "\\F095";\n}\n.fa-square-o:before {\n  content: "\\F096";\n}\n.fa-bookmark-o:before {\n  content: "\\F097";\n}\n.fa-phone-square:before {\n  content: "\\F098";\n}\n.fa-twitter:before {\n  content: "\\F099";\n}\n.fa-facebook-f:before,\n.fa-facebook:before {\n  content: "\\F09A";\n}\n.fa-github:before {\n  content: "\\F09B";\n}\n.fa-unlock:before {\n  content: "\\F09C";\n}\n.fa-credit-card:before {\n  content: "\\F09D";\n}\n.fa-feed:before,\n.fa-rss:before {\n  content: "\\F09E";\n}\n.fa-hdd-o:before {\n  content: "\\F0A0";\n}\n.fa-bullhorn:before {\n  content: "\\F0A1";\n}\n.fa-bell:before {\n  content: "\\F0F3";\n}\n.fa-certificate:before {\n  content: "\\F0A3";\n}\n.fa-hand-o-right:before {\n  content: "\\F0A4";\n}\n.fa-hand-o-left:before {\n  content: "\\F0A5";\n}\n.fa-hand-o-up:before {\n  content: "\\F0A6";\n}\n.fa-hand-o-down:before {\n  content: "\\F0A7";\n}\n.fa-arrow-circle-left:before {\n  content: "\\F0A8";\n}\n.fa-arrow-circle-right:before {\n  content: "\\F0A9";\n}\n.fa-arrow-circle-up:before {\n  content: "\\F0AA";\n}\n.fa-arrow-circle-down:before {\n  content: "\\F0AB";\n}\n.fa-globe:before {\n  content: "\\F0AC";\n}\n.fa-wrench:before {\n  content: "\\F0AD";\n}\n.fa-tasks:before {\n  content: "\\F0AE";\n}\n.fa-filter:before {\n  content: "\\F0B0";\n}\n.fa-briefcase:before {\n  content: "\\F0B1";\n}\n.fa-arrows-alt:before {\n  content: "\\F0B2";\n}\n.fa-group:before,\n.fa-users:before {\n  content: "\\F0C0";\n}\n.fa-chain:before,\n.fa-link:before {\n  content: "\\F0C1";\n}\n.fa-cloud:before {\n  content: "\\F0C2";\n}\n.fa-flask:before {\n  content: "\\F0C3";\n}\n.fa-cut:before,\n.fa-scissors:before {\n  content: "\\F0C4";\n}\n.fa-copy:before,\n.fa-files-o:before {\n  content: "\\F0C5";\n}\n.fa-paperclip:before {\n  content: "\\F0C6";\n}\n.fa-save:before,\n.fa-floppy-o:before {\n  content: "\\F0C7";\n}\n.fa-square:before {\n  content: "\\F0C8";\n}\n.fa-navicon:before,\n.fa-reorder:before,\n.fa-bars:before {\n  content: "\\F0C9";\n}\n.fa-list-ul:before {\n  content: "\\F0CA";\n}\n.fa-list-ol:before {\n  content: "\\F0CB";\n}\n.fa-strikethrough:before {\n  content: "\\F0CC";\n}\n.fa-underline:before {\n  content: "\\F0CD";\n}\n.fa-table:before {\n  content: "\\F0CE";\n}\n.fa-magic:before {\n  content: "\\F0D0";\n}\n.fa-truck:before {\n  content: "\\F0D1";\n}\n.fa-pinterest:before {\n  content: "\\F0D2";\n}\n.fa-pinterest-square:before {\n  content: "\\F0D3";\n}\n.fa-google-plus-square:before {\n  content: "\\F0D4";\n}\n.fa-google-plus:before {\n  content: "\\F0D5";\n}\n.fa-money:before {\n  content: "\\F0D6";\n}\n.fa-caret-down:before {\n  content: "\\F0D7";\n}\n.fa-caret-up:before {\n  content: "\\F0D8";\n}\n.fa-caret-left:before {\n  content: "\\F0D9";\n}\n.fa-caret-right:before {\n  content: "\\F0DA";\n}\n.fa-columns:before {\n  content: "\\F0DB";\n}\n.fa-unsorted:before,\n.fa-sort:before {\n  content: "\\F0DC";\n}\n.fa-sort-down:before,\n.fa-sort-desc:before {\n  content: "\\F0DD";\n}\n.fa-sort-up:before,\n.fa-sort-asc:before {\n  content: "\\F0DE";\n}\n.fa-envelope:before {\n  content: "\\F0E0";\n}\n.fa-linkedin:before {\n  content: "\\F0E1";\n}\n.fa-rotate-left:before,\n.fa-undo:before {\n  content: "\\F0E2";\n}\n.fa-legal:before,\n.fa-gavel:before {\n  content: "\\F0E3";\n}\n.fa-dashboard:before,\n.fa-tachometer:before {\n  content: "\\F0E4";\n}\n.fa-comment-o:before {\n  content: "\\F0E5";\n}\n.fa-comments-o:before {\n  content: "\\F0E6";\n}\n.fa-flash:before,\n.fa-bolt:before {\n  content: "\\F0E7";\n}\n.fa-sitemap:before {\n  content: "\\F0E8";\n}\n.fa-umbrella:before {\n  content: "\\F0E9";\n}\n.fa-paste:before,\n.fa-clipboard:before {\n  content: "\\F0EA";\n}\n.fa-lightbulb-o:before {\n  content: "\\F0EB";\n}\n.fa-exchange:before {\n  content: "\\F0EC";\n}\n.fa-cloud-download:before {\n  content: "\\F0ED";\n}\n.fa-cloud-upload:before {\n  content: "\\F0EE";\n}\n.fa-user-md:before {\n  content: "\\F0F0";\n}\n.fa-stethoscope:before {\n  content: "\\F0F1";\n}\n.fa-suitcase:before {\n  content: "\\F0F2";\n}\n.fa-bell-o:before {\n  content: "\\F0A2";\n}\n.fa-coffee:before {\n  content: "\\F0F4";\n}\n.fa-cutlery:before {\n  content: "\\F0F5";\n}\n.fa-file-text-o:before {\n  content: "\\F0F6";\n}\n.fa-building-o:before {\n  content: "\\F0F7";\n}\n.fa-hospital-o:before {\n  content: "\\F0F8";\n}\n.fa-ambulance:before {\n  content: "\\F0F9";\n}\n.fa-medkit:before {\n  content: "\\F0FA";\n}\n.fa-fighter-jet:before {\n  content: "\\F0FB";\n}\n.fa-beer:before {\n  content: "\\F0FC";\n}\n.fa-h-square:before {\n  content: "\\F0FD";\n}\n.fa-plus-square:before {\n  content: "\\F0FE";\n}\n.fa-angle-double-left:before {\n  content: "\\F100";\n}\n.fa-angle-double-right:before {\n  content: "\\F101";\n}\n.fa-angle-double-up:before {\n  content: "\\F102";\n}\n.fa-angle-double-down:before {\n  content: "\\F103";\n}\n.fa-angle-left:before {\n  content: "\\F104";\n}\n.fa-angle-right:before {\n  content: "\\F105";\n}\n.fa-angle-up:before {\n  content: "\\F106";\n}\n.fa-angle-down:before {\n  content: "\\F107";\n}\n.fa-desktop:before {\n  content: "\\F108";\n}\n.fa-laptop:before {\n  content: "\\F109";\n}\n.fa-tablet:before {\n  content: "\\F10A";\n}\n.fa-mobile-phone:before,\n.fa-mobile:before {\n  content: "\\F10B";\n}\n.fa-circle-o:before {\n  content: "\\F10C";\n}\n.fa-quote-left:before {\n  content: "\\F10D";\n}\n.fa-quote-right:before {\n  content: "\\F10E";\n}\n.fa-spinner:before {\n  content: "\\F110";\n}\n.fa-circle:before {\n  content: "\\F111";\n}\n.fa-mail-reply:before,\n.fa-reply:before {\n  content: "\\F112";\n}\n.fa-github-alt:before {\n  content: "\\F113";\n}\n.fa-folder-o:before {\n  content: "\\F114";\n}\n.fa-folder-open-o:before {\n  content: "\\F115";\n}\n.fa-smile-o:before {\n  content: "\\F118";\n}\n.fa-frown-o:before {\n  content: "\\F119";\n}\n.fa-meh-o:before {\n  content: "\\F11A";\n}\n.fa-gamepad:before {\n  content: "\\F11B";\n}\n.fa-keyboard-o:before {\n  content: "\\F11C";\n}\n.fa-flag-o:before {\n  content: "\\F11D";\n}\n.fa-flag-checkered:before {\n  content: "\\F11E";\n}\n.fa-terminal:before {\n  content: "\\F120";\n}\n.fa-code:before {\n  content: "\\F121";\n}\n.fa-mail-reply-all:before,\n.fa-reply-all:before {\n  content: "\\F122";\n}\n.fa-star-half-empty:before,\n.fa-star-half-full:before,\n.fa-star-half-o:before {\n  content: "\\F123";\n}\n.fa-location-arrow:before {\n  content: "\\F124";\n}\n.fa-crop:before {\n  content: "\\F125";\n}\n.fa-code-fork:before {\n  content: "\\F126";\n}\n.fa-unlink:before,\n.fa-chain-broken:before {\n  content: "\\F127";\n}\n.fa-question:before {\n  content: "\\F128";\n}\n.fa-info:before {\n  content: "\\F129";\n}\n.fa-exclamation:before {\n  content: "\\F12A";\n}\n.fa-superscript:before {\n  content: "\\F12B";\n}\n.fa-subscript:before {\n  content: "\\F12C";\n}\n.fa-eraser:before {\n  content: "\\F12D";\n}\n.fa-puzzle-piece:before {\n  content: "\\F12E";\n}\n.fa-microphone:before {\n  content: "\\F130";\n}\n.fa-microphone-slash:before {\n  content: "\\F131";\n}\n.fa-shield:before {\n  content: "\\F132";\n}\n.fa-calendar-o:before {\n  content: "\\F133";\n}\n.fa-fire-extinguisher:before {\n  content: "\\F134";\n}\n.fa-rocket:before {\n  content: "\\F135";\n}\n.fa-maxcdn:before {\n  content: "\\F136";\n}\n.fa-chevron-circle-left:before {\n  content: "\\F137";\n}\n.fa-chevron-circle-right:before {\n  content: "\\F138";\n}\n.fa-chevron-circle-up:before {\n  content: "\\F139";\n}\n.fa-chevron-circle-down:before {\n  content: "\\F13A";\n}\n.fa-html5:before {\n  content: "\\F13B";\n}\n.fa-css3:before {\n  content: "\\F13C";\n}\n.fa-anchor:before {\n  content: "\\F13D";\n}\n.fa-unlock-alt:before {\n  content: "\\F13E";\n}\n.fa-bullseye:before {\n  content: "\\F140";\n}\n.fa-ellipsis-h:before {\n  content: "\\F141";\n}\n.fa-ellipsis-v:before {\n  content: "\\F142";\n}\n.fa-rss-square:before {\n  content: "\\F143";\n}\n.fa-play-circle:before {\n  content: "\\F144";\n}\n.fa-ticket:before {\n  content: "\\F145";\n}\n.fa-minus-square:before {\n  content: "\\F146";\n}\n.fa-minus-square-o:before {\n  content: "\\F147";\n}\n.fa-level-up:before {\n  content: "\\F148";\n}\n.fa-level-down:before {\n  content: "\\F149";\n}\n.fa-check-square:before {\n  content: "\\F14A";\n}\n.fa-pencil-square:before {\n  content: "\\F14B";\n}\n.fa-external-link-square:before {\n  content: "\\F14C";\n}\n.fa-share-square:before {\n  content: "\\F14D";\n}\n.fa-compass:before {\n  content: "\\F14E";\n}\n.fa-toggle-down:before,\n.fa-caret-square-o-down:before {\n  content: "\\F150";\n}\n.fa-toggle-up:before,\n.fa-caret-square-o-up:before {\n  content: "\\F151";\n}\n.fa-toggle-right:before,\n.fa-caret-square-o-right:before {\n  content: "\\F152";\n}\n.fa-euro:before,\n.fa-eur:before {\n  content: "\\F153";\n}\n.fa-gbp:before {\n  content: "\\F154";\n}\n.fa-dollar:before,\n.fa-usd:before {\n  content: "\\F155";\n}\n.fa-rupee:before,\n.fa-inr:before {\n  content: "\\F156";\n}\n.fa-cny:before,\n.fa-rmb:before,\n.fa-yen:before,\n.fa-jpy:before {\n  content: "\\F157";\n}\n.fa-ruble:before,\n.fa-rouble:before,\n.fa-rub:before {\n  content: "\\F158";\n}\n.fa-won:before,\n.fa-krw:before {\n  content: "\\F159";\n}\n.fa-bitcoin:before,\n.fa-btc:before {\n  content: "\\F15A";\n}\n.fa-file:before {\n  content: "\\F15B";\n}\n.fa-file-text:before {\n  content: "\\F15C";\n}\n.fa-sort-alpha-asc:before {\n  content: "\\F15D";\n}\n.fa-sort-alpha-desc:before {\n  content: "\\F15E";\n}\n.fa-sort-amount-asc:before {\n  content: "\\F160";\n}\n.fa-sort-amount-desc:before {\n  content: "\\F161";\n}\n.fa-sort-numeric-asc:before {\n  content: "\\F162";\n}\n.fa-sort-numeric-desc:before {\n  content: "\\F163";\n}\n.fa-thumbs-up:before {\n  content: "\\F164";\n}\n.fa-thumbs-down:before {\n  content: "\\F165";\n}\n.fa-youtube-square:before {\n  content: "\\F166";\n}\n.fa-youtube:before {\n  content: "\\F167";\n}\n.fa-xing:before {\n  content: "\\F168";\n}\n.fa-xing-square:before {\n  content: "\\F169";\n}\n.fa-youtube-play:before {\n  content: "\\F16A";\n}\n.fa-dropbox:before {\n  content: "\\F16B";\n}\n.fa-stack-overflow:before {\n  content: "\\F16C";\n}\n.fa-instagram:before {\n  content: "\\F16D";\n}\n.fa-flickr:before {\n  content: "\\F16E";\n}\n.fa-adn:before {\n  content: "\\F170";\n}\n.fa-bitbucket:before {\n  content: "\\F171";\n}\n.fa-bitbucket-square:before {\n  content: "\\F172";\n}\n.fa-tumblr:before {\n  content: "\\F173";\n}\n.fa-tumblr-square:before {\n  content: "\\F174";\n}\n.fa-long-arrow-down:before {\n  content: "\\F175";\n}\n.fa-long-arrow-up:before {\n  content: "\\F176";\n}\n.fa-long-arrow-left:before {\n  content: "\\F177";\n}\n.fa-long-arrow-right:before {\n  content: "\\F178";\n}\n.fa-apple:before {\n  content: "\\F179";\n}\n.fa-windows:before {\n  content: "\\F17A";\n}\n.fa-android:before {\n  content: "\\F17B";\n}\n.fa-linux:before {\n  content: "\\F17C";\n}\n.fa-dribbble:before {\n  content: "\\F17D";\n}\n.fa-skype:before {\n  content: "\\F17E";\n}\n.fa-foursquare:before {\n  content: "\\F180";\n}\n.fa-trello:before {\n  content: "\\F181";\n}\n.fa-female:before {\n  content: "\\F182";\n}\n.fa-male:before {\n  content: "\\F183";\n}\n.fa-gittip:before,\n.fa-gratipay:before {\n  content: "\\F184";\n}\n.fa-sun-o:before {\n  content: "\\F185";\n}\n.fa-moon-o:before {\n  content: "\\F186";\n}\n.fa-archive:before {\n  content: "\\F187";\n}\n.fa-bug:before {\n  content: "\\F188";\n}\n.fa-vk:before {\n  content: "\\F189";\n}\n.fa-weibo:before {\n  content: "\\F18A";\n}\n.fa-renren:before {\n  content: "\\F18B";\n}\n.fa-pagelines:before {\n  content: "\\F18C";\n}\n.fa-stack-exchange:before {\n  content: "\\F18D";\n}\n.fa-arrow-circle-o-right:before {\n  content: "\\F18E";\n}\n.fa-arrow-circle-o-left:before {\n  content: "\\F190";\n}\n.fa-toggle-left:before,\n.fa-caret-square-o-left:before {\n  content: "\\F191";\n}\n.fa-dot-circle-o:before {\n  content: "\\F192";\n}\n.fa-wheelchair:before {\n  content: "\\F193";\n}\n.fa-vimeo-square:before {\n  content: "\\F194";\n}\n.fa-turkish-lira:before,\n.fa-try:before {\n  content: "\\F195";\n}\n.fa-plus-square-o:before {\n  content: "\\F196";\n}\n.fa-space-shuttle:before {\n  content: "\\F197";\n}\n.fa-slack:before {\n  content: "\\F198";\n}\n.fa-envelope-square:before {\n  content: "\\F199";\n}\n.fa-wordpress:before {\n  content: "\\F19A";\n}\n.fa-openid:before {\n  content: "\\F19B";\n}\n.fa-institution:before,\n.fa-bank:before,\n.fa-university:before {\n  content: "\\F19C";\n}\n.fa-mortar-board:before,\n.fa-graduation-cap:before {\n  content: "\\F19D";\n}\n.fa-yahoo:before {\n  content: "\\F19E";\n}\n.fa-google:before {\n  content: "\\F1A0";\n}\n.fa-reddit:before {\n  content: "\\F1A1";\n}\n.fa-reddit-square:before {\n  content: "\\F1A2";\n}\n.fa-stumbleupon-circle:before {\n  content: "\\F1A3";\n}\n.fa-stumbleupon:before {\n  content: "\\F1A4";\n}\n.fa-delicious:before {\n  content: "\\F1A5";\n}\n.fa-digg:before {\n  content: "\\F1A6";\n}\n.fa-pied-piper-pp:before {\n  content: "\\F1A7";\n}\n.fa-pied-piper-alt:before {\n  content: "\\F1A8";\n}\n.fa-drupal:before {\n  content: "\\F1A9";\n}\n.fa-joomla:before {\n  content: "\\F1AA";\n}\n.fa-language:before {\n  content: "\\F1AB";\n}\n.fa-fax:before {\n  content: "\\F1AC";\n}\n.fa-building:before {\n  content: "\\F1AD";\n}\n.fa-child:before {\n  content: "\\F1AE";\n}\n.fa-paw:before {\n  content: "\\F1B0";\n}\n.fa-spoon:before {\n  content: "\\F1B1";\n}\n.fa-cube:before {\n  content: "\\F1B2";\n}\n.fa-cubes:before {\n  content: "\\F1B3";\n}\n.fa-behance:before {\n  content: "\\F1B4";\n}\n.fa-behance-square:before {\n  content: "\\F1B5";\n}\n.fa-steam:before {\n  content: "\\F1B6";\n}\n.fa-steam-square:before {\n  content: "\\F1B7";\n}\n.fa-recycle:before {\n  content: "\\F1B8";\n}\n.fa-automobile:before,\n.fa-car:before {\n  content: "\\F1B9";\n}\n.fa-cab:before,\n.fa-taxi:before {\n  content: "\\F1BA";\n}\n.fa-tree:before {\n  content: "\\F1BB";\n}\n.fa-spotify:before {\n  content: "\\F1BC";\n}\n.fa-deviantart:before {\n  content: "\\F1BD";\n}\n.fa-soundcloud:before {\n  content: "\\F1BE";\n}\n.fa-database:before {\n  content: "\\F1C0";\n}\n.fa-file-pdf-o:before {\n  content: "\\F1C1";\n}\n.fa-file-word-o:before {\n  content: "\\F1C2";\n}\n.fa-file-excel-o:before {\n  content: "\\F1C3";\n}\n.fa-file-powerpoint-o:before {\n  content: "\\F1C4";\n}\n.fa-file-photo-o:before,\n.fa-file-picture-o:before,\n.fa-file-image-o:before {\n  content: "\\F1C5";\n}\n.fa-file-zip-o:before,\n.fa-file-archive-o:before {\n  content: "\\F1C6";\n}\n.fa-file-sound-o:before,\n.fa-file-audio-o:before {\n  content: "\\F1C7";\n}\n.fa-file-movie-o:before,\n.fa-file-video-o:before {\n  content: "\\F1C8";\n}\n.fa-file-code-o:before {\n  content: "\\F1C9";\n}\n.fa-vine:before {\n  content: "\\F1CA";\n}\n.fa-codepen:before {\n  content: "\\F1CB";\n}\n.fa-jsfiddle:before {\n  content: "\\F1CC";\n}\n.fa-life-bouy:before,\n.fa-life-buoy:before,\n.fa-life-saver:before,\n.fa-support:before,\n.fa-life-ring:before {\n  content: "\\F1CD";\n}\n.fa-circle-o-notch:before {\n  content: "\\F1CE";\n}\n.fa-ra:before,\n.fa-resistance:before,\n.fa-rebel:before {\n  content: "\\F1D0";\n}\n.fa-ge:before,\n.fa-empire:before {\n  content: "\\F1D1";\n}\n.fa-git-square:before {\n  content: "\\F1D2";\n}\n.fa-git:before {\n  content: "\\F1D3";\n}\n.fa-y-combinator-square:before,\n.fa-yc-square:before,\n.fa-hacker-news:before {\n  content: "\\F1D4";\n}\n.fa-tencent-weibo:before {\n  content: "\\F1D5";\n}\n.fa-qq:before {\n  content: "\\F1D6";\n}\n.fa-wechat:before,\n.fa-weixin:before {\n  content: "\\F1D7";\n}\n.fa-send:before,\n.fa-paper-plane:before {\n  content: "\\F1D8";\n}\n.fa-send-o:before,\n.fa-paper-plane-o:before {\n  content: "\\F1D9";\n}\n.fa-history:before {\n  content: "\\F1DA";\n}\n.fa-circle-thin:before {\n  content: "\\F1DB";\n}\n.fa-header:before {\n  content: "\\F1DC";\n}\n.fa-paragraph:before {\n  content: "\\F1DD";\n}\n.fa-sliders:before {\n  content: "\\F1DE";\n}\n.fa-share-alt:before {\n  content: "\\F1E0";\n}\n.fa-share-alt-square:before {\n  content: "\\F1E1";\n}\n.fa-bomb:before {\n  content: "\\F1E2";\n}\n.fa-soccer-ball-o:before,\n.fa-futbol-o:before {\n  content: "\\F1E3";\n}\n.fa-tty:before {\n  content: "\\F1E4";\n}\n.fa-binoculars:before {\n  content: "\\F1E5";\n}\n.fa-plug:before {\n  content: "\\F1E6";\n}\n.fa-slideshare:before {\n  content: "\\F1E7";\n}\n.fa-twitch:before {\n  content: "\\F1E8";\n}\n.fa-yelp:before {\n  content: "\\F1E9";\n}\n.fa-newspaper-o:before {\n  content: "\\F1EA";\n}\n.fa-wifi:before {\n  content: "\\F1EB";\n}\n.fa-calculator:before {\n  content: "\\F1EC";\n}\n.fa-paypal:before {\n  content: "\\F1ED";\n}\n.fa-google-wallet:before {\n  content: "\\F1EE";\n}\n.fa-cc-visa:before {\n  content: "\\F1F0";\n}\n.fa-cc-mastercard:before {\n  content: "\\F1F1";\n}\n.fa-cc-discover:before {\n  content: "\\F1F2";\n}\n.fa-cc-amex:before {\n  content: "\\F1F3";\n}\n.fa-cc-paypal:before {\n  content: "\\F1F4";\n}\n.fa-cc-stripe:before {\n  content: "\\F1F5";\n}\n.fa-bell-slash:before {\n  content: "\\F1F6";\n}\n.fa-bell-slash-o:before {\n  content: "\\F1F7";\n}\n.fa-trash:before {\n  content: "\\F1F8";\n}\n.fa-copyright:before {\n  content: "\\F1F9";\n}\n.fa-at:before {\n  content: "\\F1FA";\n}\n.fa-eyedropper:before {\n  content: "\\F1FB";\n}\n.fa-paint-brush:before {\n  content: "\\F1FC";\n}\n.fa-birthday-cake:before {\n  content: "\\F1FD";\n}\n.fa-area-chart:before {\n  content: "\\F1FE";\n}\n.fa-pie-chart:before {\n  content: "\\F200";\n}\n.fa-line-chart:before {\n  content: "\\F201";\n}\n.fa-lastfm:before {\n  content: "\\F202";\n}\n.fa-lastfm-square:before {\n  content: "\\F203";\n}\n.fa-toggle-off:before {\n  content: "\\F204";\n}\n.fa-toggle-on:before {\n  content: "\\F205";\n}\n.fa-bicycle:before {\n  content: "\\F206";\n}\n.fa-bus:before {\n  content: "\\F207";\n}\n.fa-ioxhost:before {\n  content: "\\F208";\n}\n.fa-angellist:before {\n  content: "\\F209";\n}\n.fa-cc:before {\n  content: "\\F20A";\n}\n.fa-shekel:before,\n.fa-sheqel:before,\n.fa-ils:before {\n  content: "\\F20B";\n}\n.fa-meanpath:before {\n  content: "\\F20C";\n}\n.fa-buysellads:before {\n  content: "\\F20D";\n}\n.fa-connectdevelop:before {\n  content: "\\F20E";\n}\n.fa-dashcube:before {\n  content: "\\F210";\n}\n.fa-forumbee:before {\n  content: "\\F211";\n}\n.fa-leanpub:before {\n  content: "\\F212";\n}\n.fa-sellsy:before {\n  content: "\\F213";\n}\n.fa-shirtsinbulk:before {\n  content: "\\F214";\n}\n.fa-simplybuilt:before {\n  content: "\\F215";\n}\n.fa-skyatlas:before {\n  content: "\\F216";\n}\n.fa-cart-plus:before {\n  content: "\\F217";\n}\n.fa-cart-arrow-down:before {\n  content: "\\F218";\n}\n.fa-diamond:before {\n  content: "\\F219";\n}\n.fa-ship:before {\n  content: "\\F21A";\n}\n.fa-user-secret:before {\n  content: "\\F21B";\n}\n.fa-motorcycle:before {\n  content: "\\F21C";\n}\n.fa-street-view:before {\n  content: "\\F21D";\n}\n.fa-heartbeat:before {\n  content: "\\F21E";\n}\n.fa-venus:before {\n  content: "\\F221";\n}\n.fa-mars:before {\n  content: "\\F222";\n}\n.fa-mercury:before {\n  content: "\\F223";\n}\n.fa-intersex:before,\n.fa-transgender:before {\n  content: "\\F224";\n}\n.fa-transgender-alt:before {\n  content: "\\F225";\n}\n.fa-venus-double:before {\n  content: "\\F226";\n}\n.fa-mars-double:before {\n  content: "\\F227";\n}\n.fa-venus-mars:before {\n  content: "\\F228";\n}\n.fa-mars-stroke:before {\n  content: "\\F229";\n}\n.fa-mars-stroke-v:before {\n  content: "\\F22A";\n}\n.fa-mars-stroke-h:before {\n  content: "\\F22B";\n}\n.fa-neuter:before {\n  content: "\\F22C";\n}\n.fa-genderless:before {\n  content: "\\F22D";\n}\n.fa-facebook-official:before {\n  content: "\\F230";\n}\n.fa-pinterest-p:before {\n  content: "\\F231";\n}\n.fa-whatsapp:before {\n  content: "\\F232";\n}\n.fa-server:before {\n  content: "\\F233";\n}\n.fa-user-plus:before {\n  content: "\\F234";\n}\n.fa-user-times:before {\n  content: "\\F235";\n}\n.fa-hotel:before,\n.fa-bed:before {\n  content: "\\F236";\n}\n.fa-viacoin:before {\n  content: "\\F237";\n}\n.fa-train:before {\n  content: "\\F238";\n}\n.fa-subway:before {\n  content: "\\F239";\n}\n.fa-medium:before {\n  content: "\\F23A";\n}\n.fa-yc:before,\n.fa-y-combinator:before {\n  content: "\\F23B";\n}\n.fa-optin-monster:before {\n  content: "\\F23C";\n}\n.fa-opencart:before {\n  content: "\\F23D";\n}\n.fa-expeditedssl:before {\n  content: "\\F23E";\n}\n.fa-battery-4:before,\n.fa-battery:before,\n.fa-battery-full:before {\n  content: "\\F240";\n}\n.fa-battery-3:before,\n.fa-battery-three-quarters:before {\n  content: "\\F241";\n}\n.fa-battery-2:before,\n.fa-battery-half:before {\n  content: "\\F242";\n}\n.fa-battery-1:before,\n.fa-battery-quarter:before {\n  content: "\\F243";\n}\n.fa-battery-0:before,\n.fa-battery-empty:before {\n  content: "\\F244";\n}\n.fa-mouse-pointer:before {\n  content: "\\F245";\n}\n.fa-i-cursor:before {\n  content: "\\F246";\n}\n.fa-object-group:before {\n  content: "\\F247";\n}\n.fa-object-ungroup:before {\n  content: "\\F248";\n}\n.fa-sticky-note:before {\n  content: "\\F249";\n}\n.fa-sticky-note-o:before {\n  content: "\\F24A";\n}\n.fa-cc-jcb:before {\n  content: "\\F24B";\n}\n.fa-cc-diners-club:before {\n  content: "\\F24C";\n}\n.fa-clone:before {\n  content: "\\F24D";\n}\n.fa-balance-scale:before {\n  content: "\\F24E";\n}\n.fa-hourglass-o:before {\n  content: "\\F250";\n}\n.fa-hourglass-1:before,\n.fa-hourglass-start:before {\n  content: "\\F251";\n}\n.fa-hourglass-2:before,\n.fa-hourglass-half:before {\n  content: "\\F252";\n}\n.fa-hourglass-3:before,\n.fa-hourglass-end:before {\n  content: "\\F253";\n}\n.fa-hourglass:before {\n  content: "\\F254";\n}\n.fa-hand-grab-o:before,\n.fa-hand-rock-o:before {\n  content: "\\F255";\n}\n.fa-hand-stop-o:before,\n.fa-hand-paper-o:before {\n  content: "\\F256";\n}\n.fa-hand-scissors-o:before {\n  content: "\\F257";\n}\n.fa-hand-lizard-o:before {\n  content: "\\F258";\n}\n.fa-hand-spock-o:before {\n  content: "\\F259";\n}\n.fa-hand-pointer-o:before {\n  content: "\\F25A";\n}\n.fa-hand-peace-o:before {\n  content: "\\F25B";\n}\n.fa-trademark:before {\n  content: "\\F25C";\n}\n.fa-registered:before {\n  content: "\\F25D";\n}\n.fa-creative-commons:before {\n  content: "\\F25E";\n}\n.fa-gg:before {\n  content: "\\F260";\n}\n.fa-gg-circle:before {\n  content: "\\F261";\n}\n.fa-tripadvisor:before {\n  content: "\\F262";\n}\n.fa-odnoklassniki:before {\n  content: "\\F263";\n}\n.fa-odnoklassniki-square:before {\n  content: "\\F264";\n}\n.fa-get-pocket:before {\n  content: "\\F265";\n}\n.fa-wikipedia-w:before {\n  content: "\\F266";\n}\n.fa-safari:before {\n  content: "\\F267";\n}\n.fa-chrome:before {\n  content: "\\F268";\n}\n.fa-firefox:before {\n  content: "\\F269";\n}\n.fa-opera:before {\n  content: "\\F26A";\n}\n.fa-internet-explorer:before {\n  content: "\\F26B";\n}\n.fa-tv:before,\n.fa-television:before {\n  content: "\\F26C";\n}\n.fa-contao:before {\n  content: "\\F26D";\n}\n.fa-500px:before {\n  content: "\\F26E";\n}\n.fa-amazon:before {\n  content: "\\F270";\n}\n.fa-calendar-plus-o:before {\n  content: "\\F271";\n}\n.fa-calendar-minus-o:before {\n  content: "\\F272";\n}\n.fa-calendar-times-o:before {\n  content: "\\F273";\n}\n.fa-calendar-check-o:before {\n  content: "\\F274";\n}\n.fa-industry:before {\n  content: "\\F275";\n}\n.fa-map-pin:before {\n  content: "\\F276";\n}\n.fa-map-signs:before {\n  content: "\\F277";\n}\n.fa-map-o:before {\n  content: "\\F278";\n}\n.fa-map:before {\n  content: "\\F279";\n}\n.fa-commenting:before {\n  content: "\\F27A";\n}\n.fa-commenting-o:before {\n  content: "\\F27B";\n}\n.fa-houzz:before {\n  content: "\\F27C";\n}\n.fa-vimeo:before {\n  content: "\\F27D";\n}\n.fa-black-tie:before {\n  content: "\\F27E";\n}\n.fa-fonticons:before {\n  content: "\\F280";\n}\n.fa-reddit-alien:before {\n  content: "\\F281";\n}\n.fa-edge:before {\n  content: "\\F282";\n}\n.fa-credit-card-alt:before {\n  content: "\\F283";\n}\n.fa-codiepie:before {\n  content: "\\F284";\n}\n.fa-modx:before {\n  content: "\\F285";\n}\n.fa-fort-awesome:before {\n  content: "\\F286";\n}\n.fa-usb:before {\n  content: "\\F287";\n}\n.fa-product-hunt:before {\n  content: "\\F288";\n}\n.fa-mixcloud:before {\n  content: "\\F289";\n}\n.fa-scribd:before {\n  content: "\\F28A";\n}\n.fa-pause-circle:before {\n  content: "\\F28B";\n}\n.fa-pause-circle-o:before {\n  content: "\\F28C";\n}\n.fa-stop-circle:before {\n  content: "\\F28D";\n}\n.fa-stop-circle-o:before {\n  content: "\\F28E";\n}\n.fa-shopping-bag:before {\n  content: "\\F290";\n}\n.fa-shopping-basket:before {\n  content: "\\F291";\n}\n.fa-hashtag:before {\n  content: "\\F292";\n}\n.fa-bluetooth:before {\n  content: "\\F293";\n}\n.fa-bluetooth-b:before {\n  content: "\\F294";\n}\n.fa-percent:before {\n  content: "\\F295";\n}\n.fa-gitlab:before {\n  content: "\\F296";\n}\n.fa-wpbeginner:before {\n  content: "\\F297";\n}\n.fa-wpforms:before {\n  content: "\\F298";\n}\n.fa-envira:before {\n  content: "\\F299";\n}\n.fa-universal-access:before {\n  content: "\\F29A";\n}\n.fa-wheelchair-alt:before {\n  content: "\\F29B";\n}\n.fa-question-circle-o:before {\n  content: "\\F29C";\n}\n.fa-blind:before {\n  content: "\\F29D";\n}\n.fa-audio-description:before {\n  content: "\\F29E";\n}\n.fa-volume-control-phone:before {\n  content: "\\F2A0";\n}\n.fa-braille:before {\n  content: "\\F2A1";\n}\n.fa-assistive-listening-systems:before {\n  content: "\\F2A2";\n}\n.fa-asl-interpreting:before,\n.fa-american-sign-language-interpreting:before {\n  content: "\\F2A3";\n}\n.fa-deafness:before,\n.fa-hard-of-hearing:before,\n.fa-deaf:before {\n  content: "\\F2A4";\n}\n.fa-glide:before {\n  content: "\\F2A5";\n}\n.fa-glide-g:before {\n  content: "\\F2A6";\n}\n.fa-signing:before,\n.fa-sign-language:before {\n  content: "\\F2A7";\n}\n.fa-low-vision:before {\n  content: "\\F2A8";\n}\n.fa-viadeo:before {\n  content: "\\F2A9";\n}\n.fa-viadeo-square:before {\n  content: "\\F2AA";\n}\n.fa-snapchat:before {\n  content: "\\F2AB";\n}\n.fa-snapchat-ghost:before {\n  content: "\\F2AC";\n}\n.fa-snapchat-square:before {\n  content: "\\F2AD";\n}\n.fa-pied-piper:before {\n  content: "\\F2AE";\n}\n.fa-first-order:before {\n  content: "\\F2B0";\n}\n.fa-yoast:before {\n  content: "\\F2B1";\n}\n.fa-themeisle:before {\n  content: "\\F2B2";\n}\n.fa-google-plus-circle:before,\n.fa-google-plus-official:before {\n  content: "\\F2B3";\n}\n.fa-fa:before,\n.fa-font-awesome:before {\n  content: "\\F2B4";\n}\n.fa-handshake-o:before {\n  content: "\\F2B5";\n}\n.fa-envelope-open:before {\n  content: "\\F2B6";\n}\n.fa-envelope-open-o:before {\n  content: "\\F2B7";\n}\n.fa-linode:before {\n  content: "\\F2B8";\n}\n.fa-address-book:before {\n  content: "\\F2B9";\n}\n.fa-address-book-o:before {\n  content: "\\F2BA";\n}\n.fa-vcard:before,\n.fa-address-card:before {\n  content: "\\F2BB";\n}\n.fa-vcard-o:before,\n.fa-address-card-o:before {\n  content: "\\F2BC";\n}\n.fa-user-circle:before {\n  content: "\\F2BD";\n}\n.fa-user-circle-o:before {\n  content: "\\F2BE";\n}\n.fa-user-o:before {\n  content: "\\F2C0";\n}\n.fa-id-badge:before {\n  content: "\\F2C1";\n}\n.fa-drivers-license:before,\n.fa-id-card:before {\n  content: "\\F2C2";\n}\n.fa-drivers-license-o:before,\n.fa-id-card-o:before {\n  content: "\\F2C3";\n}\n.fa-quora:before {\n  content: "\\F2C4";\n}\n.fa-free-code-camp:before {\n  content: "\\F2C5";\n}\n.fa-telegram:before {\n  content: "\\F2C6";\n}\n.fa-thermometer-4:before,\n.fa-thermometer:before,\n.fa-thermometer-full:before {\n  content: "\\F2C7";\n}\n.fa-thermometer-3:before,\n.fa-thermometer-three-quarters:before {\n  content: "\\F2C8";\n}\n.fa-thermometer-2:before,\n.fa-thermometer-half:before {\n  content: "\\F2C9";\n}\n.fa-thermometer-1:before,\n.fa-thermometer-quarter:before {\n  content: "\\F2CA";\n}\n.fa-thermometer-0:before,\n.fa-thermometer-empty:before {\n  content: "\\F2CB";\n}\n.fa-shower:before {\n  content: "\\F2CC";\n}\n.fa-bathtub:before,\n.fa-s15:before,\n.fa-bath:before {\n  content: "\\F2CD";\n}\n.fa-podcast:before {\n  content: "\\F2CE";\n}\n.fa-window-maximize:before {\n  content: "\\F2D0";\n}\n.fa-window-minimize:before {\n  content: "\\F2D1";\n}\n.fa-window-restore:before {\n  content: "\\F2D2";\n}\n.fa-times-rectangle:before,\n.fa-window-close:before {\n  content: "\\F2D3";\n}\n.fa-times-rectangle-o:before,\n.fa-window-close-o:before {\n  content: "\\F2D4";\n}\n.fa-bandcamp:before {\n  content: "\\F2D5";\n}\n.fa-grav:before {\n  content: "\\F2D6";\n}\n.fa-etsy:before {\n  content: "\\F2D7";\n}\n.fa-imdb:before {\n  content: "\\F2D8";\n}\n.fa-ravelry:before {\n  content: "\\F2D9";\n}\n.fa-eercast:before {\n  content: "\\F2DA";\n}\n.fa-microchip:before {\n  content: "\\F2DB";\n}\n.fa-snowflake-o:before {\n  content: "\\F2DC";\n}\n.fa-superpowers:before {\n  content: "\\F2DD";\n}\n.fa-wpexplorer:before {\n  content: "\\F2DE";\n}\n.fa-meetup:before {\n  content: "\\F2E0";\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.sr-only-focusable:active,\n.sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto;\n}\n',""])},function(t,e,n){t.exports=n.p+"build/674f50d287a8c48dc19ba404d20fe713.eot"},function(t,e,n){t.exports=n.p+"build/674f50d287a8c48dc19ba404d20fe713.eot"},function(t,e,n){t.exports=n.p+"build/af7ae505a9eed503f8b8e6982036873e.woff2"},function(t,e,n){t.exports=n.p+"build/fee66e712a8a08eef5805a46892932ad.woff"},function(t,e,n){t.exports=n.p+"build/b06871f281fee6b241d60582ae9369b9.ttf"},function(t,e,n){t.exports=n.p+"build/912ec66d7572ff821749319396470bde.svg"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(26)),a=n(29),c=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"render",value:function(){var t=this.props,e=t.Component,n=t.name,r=t.size,o=t.rotate,a=t.flip,c=t.spin,u=t.fixedWidth,l=t.stack,f=t.inverse,h=t.pulse,p=t.className,d=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["Component","name","size","rotate","flip","spin","fixedWidth","stack","inverse","pulse","className"]),b="fa fa-"+n;return r&&(b=b+" fa-"+r),o&&(b=b+" fa-rotate-"+o),a&&(b=b+" fa-flip-"+a),u&&(b+=" fa-fw"),c&&(b+=" fa-spin"),h&&(b+=" fa-pulse"),l&&(b=b+" fa-stack-"+l),f&&(b+=" fa-inverse"),p&&(b=b+" "+p),s.createElement(e,i({},d,{className:b}))}}]),e}(s.Component);f.propTypes={name:c.default.string.isRequired,className:c.default.string,size:c.default.oneOf(["lg","2x","3x","4x","5x"]),rotate:c.default.oneOf(["45","90","135","180","225","270","315"]),flip:c.default.oneOf(["horizontal","vertical"]),fixedWidth:c.default.bool,spin:c.default.bool,pulse:c.default.bool,stack:c.default.oneOf(["1x","2x"]),inverse:c.default.bool,Component:c.default.oneOfType([c.default.string,c.default.func])},f.defaultProps={Component:"span"},e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(26)),a=n(29),c=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.size,r=t.children,o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["className","size","children"]),a=["fa-stack"];n&&a.push("fa-"+n),e&&a.push(e);var c=a.join(" ");return s.createElement("span",i({},o,{className:c}),r)}}]),e}(s.Component);f.propTypes={className:c.default.string,size:c.default.oneOf(["lg","2x","3x","4x","5x"]),children:c.default.node.isRequired},e.default=f},function(t,e,n){var r=n(1158);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.Ranking {\n  color: #111;\n}\n.Rankingtitle {\n  padding: 0.4em 1em 0;\n  font-weight: bold;\n}\n.Rankingerror {\n  color: #d55;\n}\n.RankingerrorRetry {\n  font-weight: normal;\n  color: #369;\n  text-decoration: none;\n}\n.RankingerrorDescription {\n  color: #888;\n}',""])},function(t,e,n){var r=n(1160);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.RankingTable {\n  width: 100%;\n  border-spacing: 0;\n}\n.RankingTable td {\n  padding: 0.36em 0.5em;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.RankingTablerank {\n  width: 2em;\n  text-align: right;\n}\n.RankingTable td.RankingTablename {\n  padding-left: 1em;\n}\n.RankingTable td.RankingTablescore {\n  width: 6em;\n  text-align: right;\n}\n.RankingTable td.RankingTableaccuracy {\n  width: 5em;\n  text-align: right;\n  padding-right: 1em;\n}\n.RankingTable td.RankingTablemessage {\n  text-align: center;\n}',""])},function(t,e,n){var r=n(1162);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultGrade {\n  display: flex;\n  position: relative;\n  border: 2px dashed rgba(255, 255, 255, 0.5);\n  border-radius: 1em;\n  align-items: center;\n  justify-content: center;\n}\n.ResultGradelabel {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  color: rgba(255, 255, 255, 0.5);\n  text-align: center;\n}\n.ResultGradegrade {\n  font-weight: bold;\n  font-size: 18vh;\n  color: #ff9;\n  position: relative;\n  top: -0.2ex;\n  text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);\n  -webkit-animation: 0.3s result-grade--animation linear;\n          animation: 0.3s result-grade--animation linear;\n  -webkit-animation-delay: 2s;\n          animation-delay: 2s;\n  -webkit-animation-fill-mode: backwards;\n          animation-fill-mode: backwards;\n}\n\n@-webkit-keyframes result-grade--animation {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(2);\n            transform: scale(2);\n  }\n  80% {\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n\n@keyframes result-grade--animation {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(2);\n            transform: scale(2);\n  }\n  80% {\n    -webkit-transform: scale(0.85);\n            transform: scale(0.85);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}',""])},function(t,e,n){var r=n(1164);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultTabletable {\n  width: 100%;\n  margin-bottom: 1ex;\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);\n}\n.ResultTabletable > tbody > tr > th,\n.ResultTabletable > tbody > tr > td {\n  font-size: 1.25rem;\n  font-weight: normal;\n}\n@media (min-height: 480px) {\n  .ResultTabletable > tbody > tr > th,\n.ResultTabletable > tbody > tr > td {\n    font-size: 1.6rem;\n  }\n}\n.ResultTabletable > tbody > tr > th {\n  text-align: left;\n  padding-left: 1ex;\n  color: rgba(255, 255, 255, 0.7);\n}\n.ResultTabletable > tbody > tr > td {\n  text-align: right;\n  width: 36%;\n  color: white;\n}\n.ResultTabletable > tbody > tr > td.is-clickable {\n  cursor: pointer;\n}\n.ResultTabletable > tbody > tr > td.is-clickable:hover {\n  text-shadow: 0 0 1em white;\n}\n.ResultTable table.ResultTabletotal > tbody > tr > th,\n.ResultTable table.ResultTabletotal > tbody > tr > td {\n  font-weight: bold;\n}',""])},function(t,e,n){var r=n(1166);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,"",""])},function(t,e,n){var r=n(1168);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ResultDeltasViewcontent {\n  color: white;\n  padding: 16px;\n  position: relative;\n}\n.ResultDeltasViewhistogram {\n  display: flex;\n  min-width: 360px;\n  align-items: flex-end;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n.ResultDeltasViewhistogramBar {\n  background: white;\n  flex: 1 1;\n}\n.ResultDeltasViewhistogramBar[data-bucket="-20"], .ResultDeltasViewhistogramBar[data-bucket="-19"], .ResultDeltasViewhistogramBar[data-bucket="-18"], .ResultDeltasViewhistogramBar[data-bucket="-17"], .ResultDeltasViewhistogramBar[data-bucket="-16"], .ResultDeltasViewhistogramBar[data-bucket="-15"], .ResultDeltasViewhistogramBar[data-bucket="-14"], .ResultDeltasViewhistogramBar[data-bucket="-13"], .ResultDeltasViewhistogramBar[data-bucket="-12"], .ResultDeltasViewhistogramBar[data-bucket="-11"] {\n  background: rgba(102, 102, 255, 0.4);\n}\n.ResultDeltasViewhistogramBar[data-bucket="-10"], .ResultDeltasViewhistogramBar[data-bucket="-9"], .ResultDeltasViewhistogramBar[data-bucket="-8"], .ResultDeltasViewhistogramBar[data-bucket="-7"], .ResultDeltasViewhistogramBar[data-bucket="-6"] {\n  background: rgba(102, 102, 255, 0.8);\n}\n.ResultDeltasViewhistogramBar[data-bucket="-5"], .ResultDeltasViewhistogramBar[data-bucket="-4"], .ResultDeltasViewhistogramBar[data-bucket="-3"] {\n  background: #66f;\n}\n.ResultDeltasViewhistogramBar[data-bucket="-2"], .ResultDeltasViewhistogramBar[data-bucket="-1"], .ResultDeltasViewhistogramBar[data-bucket="0"], .ResultDeltasViewhistogramBar[data-bucket="1"] {\n  background: #6e6;\n}\n.ResultDeltasViewhistogramBar[data-bucket="2"], .ResultDeltasViewhistogramBar[data-bucket="3"], .ResultDeltasViewhistogramBar[data-bucket="4"] {\n  background: #f66;\n}\n.ResultDeltasViewhistogramBar[data-bucket="5"], .ResultDeltasViewhistogramBar[data-bucket="6"], .ResultDeltasViewhistogramBar[data-bucket="7"], .ResultDeltasViewhistogramBar[data-bucket="8"], .ResultDeltasViewhistogramBar[data-bucket="9"] {\n  background: rgba(255, 102, 102, 0.8);\n}\n.ResultDeltasViewhistogramBar[data-bucket="10"], .ResultDeltasViewhistogramBar[data-bucket="11"], .ResultDeltasViewhistogramBar[data-bucket="12"], .ResultDeltasViewhistogramBar[data-bucket="13"], .ResultDeltasViewhistogramBar[data-bucket="14"], .ResultDeltasViewhistogramBar[data-bucket="15"], .ResultDeltasViewhistogramBar[data-bucket="16"], .ResultDeltasViewhistogramBar[data-bucket="17"], .ResultDeltasViewhistogramBar[data-bucket="18"], .ResultDeltasViewhistogramBar[data-bucket="19"] {\n  background: rgba(255, 102, 102, 0.4);\n}\n.ResultDeltasViewnumber {\n  position: absolute;\n  top: 16px;\n}\n.ResultDeltasViewnumber strong {\n  font-size: 2.5em;\n  display: block;\n  line-height: 1;\n}\n.ResultDeltasViewnumber.is-early {\n  left: 16px;\n  text-align: left;\n  color: #9999ff;\n}\n.ResultDeltasViewnumber.is-late {\n  right: 16px;\n  text-align: right;\n  color: #ff9999;\n}\n.ResultDeltasViewinfo {\n  margin: 1em auto 0;\n}\n.ResultDeltasViewinfo > tbody > tr > th {\n  text-align: right;\n}\n.ResultDeltasViewinfo > tbody > tr > td {\n  text-align: center;\n}\n.ResultDeltasViewinfo > tbody > tr > td.is-number {\n  text-align: right;\n  padding-left: 0.3em;\n  padding-right: 0.2em;\n}\n.ResultDeltasView pre {\n  margin: 0;\n}',""])},function(t,e,n){var r=n(1170);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.CustomBMSwrapper {\n  padding: 1em;\n}\n.CustomBMSinstruction {\n  margin-bottom: 1ex;\n  font-weight: bold;\n}\n.CustomBMSremark {\n  color: #8b8685;\n}\n.CustomBMSremark::before {\n  content: "\\203B   ";\n}\n.CustomBMSdropzone {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 3px dashed #7b7675;\n  height: 240px;\n  margin-top: 1ex;\n}\n.CustomBMSdropzone.is-hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n.CustomBMSdropzone.is-hover .CustomBMSdropzoneHint {\n  color: #ff8;\n  text-shadow: 0 0 8px #ff0;\n}\n.CustomBMSdropzoneHint {\n  font-size: 1.8em;\n  text-transform: uppercase;\n  color: #8b8685;\n}\n.CustomBMSdropzoneInputLabel {\n  display: block;\n  font-size: 0.8em;\n  text-decoration: underline;\n  text-align: center;\n}\n.CustomBMSdropzoneInput {\n  display: none;\n}\n.CustomBMSlog {\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  padding: 1ex;\n}\n.CustomBMSlog > p {\n  margin: 0;\n  line-height: 1.3em;\n}',""])},function(t,e){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,s,a=-1,c=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<c;){if(93===(o=t.src.charCodeAt(t.pos))&&0===--r){i=!0;break}if(s=t.pos,t.md.inline.skipToken(t),91===o)if(s===t.pos-1)r++;else if(n)return t.pos=u,-1}return i&&(a=t.pos),t.pos=u,a}},function(t,e,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},r.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},r.prototype.at=function(t,e,n){var r=this.__find__(t),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null},r.prototype.before=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.after=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!0,n.push(t)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},r.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!1,n.push(t)}),this),this.__cache__=null,n},r.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(t){var e,n,r;if(!this.attrs)return-1;for(n=0,r=(e=this.attrs).length;n<r;n++)if(e[n][0]===t)return n;return-1},r.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},r.prototype.attrSet=function(t,e){var n=this.attrIndex(t),r=[t,e];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(t){var e=this.attrIndex(t),n=null;return e>=0&&(n=this.attrs[e][1]),n},r.prototype.attrJoin=function(t,e){var n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},t.exports=r},function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t,e){return function(n){return n[t]=e,n}}},function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t){return"string"==typeof t?t:t?t.displayName||t.name||"Component":void 0}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(26);i(n(734)),i(n(735));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.default=function(t){return function(e){var n=(0,r.createFactory)(e),i=function(e){function r(){return o(this,r),s(this,e.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),r.prototype.shouldComponentUpdate=function(e){return t(this.props,e)},r.prototype.render=function(){return n(this.props)},r}(r.Component);return i}}},function(t,e,n){var r=n(1179);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.Options {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap-reverse;\n  justify-content: center;\n  font-size: 15px;\n}\n.Optionsa {\n  order: 2;\n}\n.Optionsb {\n  order: 1;\n}\n.Options .Panel {\n  margin: 0.8em;\n}',""])},function(t,e,n){var r=n(1181);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsPlayer {\n  padding: 1em;\n}\n.OptionsPlayerrow {\n  display: flex;\n  margin-bottom: 1ex;\n  align-items: baseline;\n}\n.OptionsPlayerrow > label {\n  width: 4em;\n  text-align: right;\n  margin-right: 12px;\n  font-weight: bold;\n  color: #8b8685;\n}\n.OptionsPlayerrow > div {\n  flex: 1 1;\n}\n.OptionsPlayerhint {\n  color: #8b8685;\n  font-size: 0.9em;\n}\n.OptionsPlayerhelp {\n  color: #8b8685;\n  font-size: 0.9em;\n  margin-top: 0.5ex;\n}\n.OptionsPlayerhelp[title] {\n  cursor: help;\n}\n.OptionsPlayerbuttons {\n  margin-top: 1em;\n  text-align: right;\n  font-size: 1.2em;\n}',""])},function(t,e,n){var r=n(1183);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsCheckbox > label > input {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #151413, #292827);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  -webkit-appearance: none;\n          appearance: none;\n  width: 21px;\n  height: 21px;\n  padding: 0;\n  margin: 0;\n  position: relative;\n  top: 5px;\n  margin-right: 5px;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  transition: 0.138s all ease-out;\n}\n.OptionsCheckbox > label > input:hover {\n  border-color: #656463;\n}\n.OptionsCheckbox > label > input:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.OptionsCheckbox > label > input:active {\n  border-color: #454443;\n}\n.OptionsCheckbox > label > input::selection {\n  background: #8b8685;\n  color: #8e8;\n}\n.OptionsCheckbox > label > input::after {\n  position: absolute;\n  display: block;\n  -webkit-transform: translate(-50%, -50%) rotate(90deg);\n          transform: translate(-50%, -50%) rotate(90deg);\n  top: 50%;\n  left: 50%;\n  content: "\\2713";\n  color: #b9edff;\n  opacity: 0;\n  transition: 0.138s opacity ease-out;\n}\n.OptionsCheckbox > label > input:checked {\n  border-color: #b9edff;\n  border-width: 2px;\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n.OptionsCheckbox > label > input:checked::after {\n  opacity: 1;\n}',""])},function(t,e,n){var r=n(1185);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".OptionsInputField {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #151413, #292827);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  text-align: center;\n}\n.OptionsInputField:hover {\n  border-color: #656463;\n}\n.OptionsInputField:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.OptionsInputField:active {\n  border-color: #454443;\n}\n.OptionsInputField::selection {\n  background: #8b8685;\n  color: #8e8;\n}\n.OptionsInputField.is-invalid {\n  color: #8b8685;\n}",""])},function(t,e,n){var r=n(1187);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsPlayerSelector {\n  display: flex;\n}\n.OptionsPlayerSelector .OptionsPlayerGraphics {\n  vertical-align: top;\n}\n.OptionsPlayerSelectorlabel {\n  text-align: center;\n  color: #8b8685;\n}\n.OptionsPlayerSelectoritem.is-active .OptionsPlayerSelectorlabel {\n  color: #bef;\n}\n.OptionsPlayerSelectoritem:not(.is-active) {\n  cursor: pointer;\n}\n.OptionsPlayerSelectoritem:not(:first-child) {\n  margin-left: 1ex;\n}',""])},function(t,e,n){var r=n(1189);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsPlayerGraphics {\n  border: 1px solid #8b8685;\n  display: inline-block;\n}\n.OptionsPlayerGraphics.is-active {\n  border: 1px solid #bef;\n  outline: 1px solid #bef;\n}\n.OptionsPlayerGraphics svg {\n  display: block;\n}\n.OptionsPlayerGraphicsline {\n  fill: none;\n  stroke: #8b8685;\n  stroke-width: 1;\n}\n.OptionsPlayerGraphics.is-active .OptionsPlayerGraphicsline {\n  stroke: #a9a8a7;\n}',""])},function(t,e,n){var r=n(1191);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsSpeed .OptionsButton {\n  width: 2em;\n}\n.OptionsSpeedminus .OptionsButton {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.OptionsSpeed .OptionsInputField {\n  text-align: center;\n  width: 3em;\n  border-radius: 0;\n  margin-left: -1px;\n}\n.OptionsSpeedplus .OptionsButton {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  margin-left: -1px;\n}\n.OptionsSpeed .OptionsInputField {\n  position: relative;\n  z-index: 20;\n}\n.OptionsSpeed .OptionsInputField:hover {\n  z-index: 30;\n}\n.OptionsSpeed .OptionsInputField:focus {\n  z-index: 40;\n}\n.OptionsSpeed .OptionsInputField:active {\n  z-index: 10;\n}\n.OptionsSpeed .OptionsButton {\n  position: relative;\n  z-index: 21;\n}\n.OptionsSpeed .OptionsButton:hover {\n  z-index: 30;\n}\n.OptionsSpeed .OptionsButton:focus {\n  z-index: 40;\n}\n.OptionsSpeed .OptionsButton:active {\n  z-index: 10;\n}',""])},function(t,e,n){var r=n(1193);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsInput {\n  display: flex;\n  flex-direction: column;\n}\n.OptionsInputbinding {\n  display: flex;\n  align-items: stretch;\n  padding: 2em;\n}\n.OptionsInputbinding.is-reverse {\n  flex-direction: row-reverse;\n}\n.OptionsInputzone {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  margin: 0 12px;\n}\n.OptionsInputcontrol {\n  flex: 1 1;\n}\n.OptionsInputtitle {\n  text-align: center;\n  padding-top: 1ex;\n  color: #8b8685;\n}\n.OptionsInputgamepad {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 10px;\n}\n.OptionsInputgroup {\n  display: flex;\n  align-items: baseline;\n}\n.OptionsInputgroup > label {\n  font-weight: bold;\n  color: #8b8685;\n  margin-right: 1em;\n}\n.OptionsInputsensitivity {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-right: 0.5em;\n}\n.OptionsInputsensitivity > .OptionsInputField {\n  text-align: center;\n  width: 1em;\n  border-radius: 0;\n  margin-left: -1px;\n}\n.OptionsInputminus .OptionsButton {\n  width: 2em;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.OptionsInputplus .OptionsButton {\n  width: 2em;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  margin-left: -1px;\n}',""])},function(t,e,n){var r=n(1195);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsInputKeys {\n  height: 160px;\n  position: relative;\n}\n.OptionsInputKeyskeys {\n  position: absolute;\n  top: 0;\n  right: -12px;\n  bottom: -12px;\n  left: 0;\n}\n.OptionsInputKeys .OptionsInputKey {\n  position: absolute;\n  box-sizing: border-box;\n  height: 50%;\n  padding-bottom: 12px;\n  padding-right: 12px;\n}\n.OptionsInputKeys[data-arrangement=bm] {\n  width: 240px;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey {\n  width: 25%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="1"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="3"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="5"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="7"] {\n  top: 50%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="2"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="4"], .OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="6"] {\n  top: 0%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="1"] {\n  left: 0%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="2"] {\n  left: 12.5%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="3"] {\n  left: 25%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="4"] {\n  left: 37.5%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="5"] {\n  left: 50%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="6"] {\n  left: 62.5%;\n}\n.OptionsInputKeys[data-arrangement=bm] .OptionsInputKey[data-n="7"] {\n  left: 75%;\n}\n.OptionsInputKeys[data-arrangement=kb] {\n  width: 420px;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey {\n  width: 14.2857142857%;\n  top: 0%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="1"] {\n  left: 0%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="2"] {\n  left: 14.2857142857%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="3"] {\n  left: 28.5714285714%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="4"] {\n  left: 14.2857142857%;\n  width: 71.4285714286%;\n  top: 50%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="5"] {\n  left: 57.1428571429%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="6"] {\n  left: 71.4285714286%;\n}\n.OptionsInputKeys[data-arrangement=kb] .OptionsInputKey[data-n="7"] {\n  left: 85.7142857143%;\n}',""])},function(t,e,n){var r=n(1197);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n@-webkit-keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n@keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n.OptionsInputKeycontents {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n}\n.OptionsInputKeytext {\n  position: relative;\n  text-align: center;\n}\n.OptionsInputKey .OptionsInputKeycontents {\n  border: 1px solid #feb;\n  box-shadow: 0 0 1px #feb, inset 0 0 10px rgba(255, 238, 187, 0.4);\n  cursor: pointer;\n  background-color: rgba(255, 238, 187, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #feb;\n}\n.OptionsInputKey .OptionsInputKeycontents:hover {\n  background-color: rgba(255, 238, 187, 0.1);\n}\n.OptionsInputKey .OptionsInputKeycontents.is-editing {\n  background-color: rgba(255, 238, 187, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}\n.OptionsInputKey[data-n="2"] .OptionsInputKeycontents, .OptionsInputKey[data-n="6"] .OptionsInputKeycontents {\n  border: 1px solid #abf;\n  box-shadow: 0 0 1px #abf, inset 0 0 10px rgba(170, 187, 255, 0.4);\n  cursor: pointer;\n  background-color: rgba(170, 187, 255, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #abf;\n}\n.OptionsInputKey[data-n="2"] .OptionsInputKeycontents:hover, .OptionsInputKey[data-n="6"] .OptionsInputKeycontents:hover {\n  background-color: rgba(170, 187, 255, 0.1);\n}\n.OptionsInputKey[data-n="2"] .OptionsInputKeycontents.is-editing, .OptionsInputKey[data-n="6"] .OptionsInputKeycontents.is-editing {\n  background-color: rgba(170, 187, 255, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}\n.OptionsInputKey[data-n="4"] .OptionsInputKeycontents {\n  border: 1px solid #bfa;\n  box-shadow: 0 0 1px #bfa, inset 0 0 10px rgba(187, 255, 170, 0.4);\n  cursor: pointer;\n  background-color: rgba(187, 255, 170, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #bfa;\n}\n.OptionsInputKey[data-n="4"] .OptionsInputKeycontents:hover {\n  background-color: rgba(187, 255, 170, 0.1);\n}\n.OptionsInputKey[data-n="4"] .OptionsInputKeycontents.is-editing {\n  background-color: rgba(187, 255, 170, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}',""])},function(t,e,n){var r=n(1199);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n@-webkit-keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n@keyframes options-input-button--editing-animation {\n  from {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  to {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n}\n.OptionsInputScratch {\n  width: 160px;\n  height: 160px;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 200px;\n  position: relative;\n  border: 1px solid #faa;\n  box-shadow: 0 0 1px #faa, inset 0 0 10px rgba(255, 170, 170, 0.4);\n  cursor: pointer;\n  background-color: rgba(255, 170, 170, 0);\n  transition: 0.1s background-color;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #faa;\n}\n.OptionsInputScratch:hover {\n  background-color: rgba(255, 170, 170, 0.1);\n}\n.OptionsInputScratch.is-editing {\n  background-color: rgba(255, 170, 170, 0.25);\n  -webkit-animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n          animation: 0.5s options-input-button--editing-animation infinite ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  -webkit-animation-delay: -0.25s;\n          animation-delay: -0.25s;\n}\n.OptionsInputScratch > svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.OptionsInputScratchstar {\n  fill: rgba(255, 170, 170, 0.2);\n}\n.OptionsInputScratchtext {\n  position: relative;\n  text-align: center;\n  text-align: center;\n}\n.OptionsInputScratchkeySeparator {\n  font-size: 0.8em;\n  margin: 0.25ex 0;\n}\n.OptionsInputScratchkeySeparator::before, .OptionsInputScratchkeySeparator::after {\n  content: "\\2014";\n  margin: 0 0.25em;\n}\n.OptionsInputScratch.is-editing .OptionsInputScratchkey:not(.is-editing), .OptionsInputScratch.is-editing .OptionsInputScratchkeySeparator:not(.is-editing) {\n  opacity: 0.2;\n}',""])},function(t,e,n){var r=n(1201);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.OptionsAdvanced {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 10px;\n}\n.OptionsAdvancedgroup {\n  display: flex;\n  align-items: baseline;\n}\n.OptionsAdvancedgroup > label {\n  font-weight: bold;\n  color: #8b8685;\n  margin-right: 1em;\n}\n.OptionsAdvancedgroupItem {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 0.5em;\n}\n.OptionsAdvancedgroupItem > .OptionsInputField {\n  text-align: right;\n  width: 4em;\n}\n.OptionsAdvancedgroupItem > label {\n  display: block;\n  text-align: center;\n  color: #8b8685;\n  font-size: 0.9em;\n}',""])},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(758);a.d();class c extends i.a.Component{componentDidMount(){a.b(),a.e(this.props.url),addEventListener("message",this.handleMessage)}componentWillUnmount(){a.a(),removeEventListener("message",this.handleMessage)}componentWillReceiveProps(t){a.e(t.url)}render(){return null}handleMessage({data:t}){"calibration-started"===t.type?a.a():"calibration-closed"===t.type&&a.b()}}c.propTypes={url:s.a.string}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(782);async function i(t,e){if(!t)return null;if(t.tutorial)return null;const{baseResources:n}=Object(r.a)(t,e);return(await n.file(t.preview_url||"_bemuse_preview.mp3")).resolveUrl()}},function(t,e,n){"use strict";var r=n(58);e.Subject=r.Subject,e.AnonymousSubject=r.AnonymousSubject;var i=n(25);e.Observable=i.Observable,n(1206),n(1209),n(1212),n(1215),n(1218),n(1221),n(1223),n(1226),n(1227),n(1230),n(1233),n(1235),n(1238),n(1241),n(1246),n(1247),n(1248),n(1251),n(1252),n(1254),n(1257),n(1260),n(1263),n(1266),n(1268),n(1270),n(1272),n(1278),n(1280),n(1282),n(1284),n(1286),n(1288),n(1290),n(1292),n(1294),n(1296),n(1298),n(1300),n(1302),n(1304),n(1306),n(1308),n(1310),n(1312),n(1314),n(1316),n(1319),n(1321),n(1323),n(1325),n(1327),n(1329),n(1331),n(1333),n(1335),n(1337),n(1339),n(1341),n(1343),n(1348),n(1350),n(1352),n(1354),n(1356),n(1358),n(1360),n(1362),n(1364),n(1366),n(1368),n(1370),n(1372),n(1374),n(1376),n(1378),n(1380),n(1382),n(1384),n(1386),n(1388),n(1390),n(1393),n(1395),n(1397),n(1399),n(1401),n(1403),n(1405),n(1407),n(1409),n(1411),n(1413),n(1415),n(1417),n(1419),n(1421),n(1423),n(1425),n(1427),n(1429),n(1431),n(1433),n(1435),n(1437),n(1439),n(1446),n(1448),n(1450),n(1452),n(1454),n(1456),n(1458),n(1460),n(1462),n(1464),n(1465),n(1467),n(1469),n(1471),n(1473),n(1474),n(1476),n(1478),n(1480),n(1482),n(1484),n(1486),n(1488);var o=n(53);e.Subscription=o.Subscription;var s=n(32);e.Subscriber=s.Subscriber;var a=n(369);e.AsyncSubject=a.AsyncSubject;var c=n(376);e.ReplaySubject=c.ReplaySubject;var u=n(860);e.BehaviorSubject=u.BehaviorSubject;var l=n(854);e.ConnectableObservable=l.ConnectableObservable;var f=n(325);e.Notification=f.Notification;var h=n(377);e.EmptyError=h.EmptyError;var p=n(331);e.ArgumentOutOfRangeError=p.ArgumentOutOfRangeError;var d=n(368);e.ObjectUnsubscribedError=d.ObjectUnsubscribedError;var b=n(889);e.TimeoutError=b.TimeoutError;var m=n(803);e.UnsubscriptionError=m.UnsubscriptionError;var y=n(886);e.TimeInterval=y.TimeInterval;var v=n(703);e.Timestamp=v.Timestamp;var g=n(1490);e.TestScheduler=g.TestScheduler;var _=n(902);e.VirtualTimeScheduler=_.VirtualTimeScheduler;var w=n(814);e.AjaxResponse=w.AjaxResponse,e.AjaxError=w.AjaxError,e.AjaxTimeoutError=w.AjaxTimeoutError;var S=n(687);e.pipe=S.pipe;var x=n(879),k=n(47),E=n(815),O=n(1493),A=n(366),M=n(323),C=n(367),j=n(1497);e.operators=j;var T={asap:x.asap,queue:E.queue,animationFrame:O.animationFrame,async:k.async};e.Scheduler=T;var I={rxSubscriber:A.rxSubscriber,observable:C.observable,iterator:M.iterator};e.Symbol=I},function(t,e,n){"use strict";var r=n(32),i=n(366),o=n(804);e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(o.empty)}},function(t,e,n){"use strict";var r=n(25),i=n(1207);r.Observable.bindCallback=i.bindCallback},function(t,e,n){"use strict";var r=n(1208);e.bindCallback=r.BoundCallbackObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(62),s=n(59),a=n(369),c=function(t){function e(e,n,r,i,o){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.context=i,this.scheduler=o}return r(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,n,i,this,r)}},e.prototype._subscribe=function(t){var n=this.callbackFunc,r=this.args,i=this.scheduler,c=this.subject;if(i)return i.schedule(e.dispatch,0,{source:this,subscriber:t,context:this.context});if(!c){c=this.subject=new a.AsyncSubject;var u=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,i=r.selector,a=r.subject;if(i){var c=o.tryCatch(i).apply(this,e);c===s.errorObject?a.error(s.errorObject.e):(a.next(c),a.complete())}else a.next(e.length<=1?e[0]:e),a.complete()};u.source=this,o.tryCatch(n).apply(this.context,r.concat(u))===s.errorObject&&c.error(s.errorObject.e)}return c.subscribe(t)},e.dispatch=function(t){var e=this,n=t.source,r=t.subscriber,i=t.context,c=n.callbackFunc,f=n.args,h=n.scheduler,p=n.subject;if(!p){p=n.subject=new a.AsyncSubject;var d=function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var i=t.source,a=i.selector,c=i.subject;if(a){var f=o.tryCatch(a).apply(this,n);f===s.errorObject?e.add(h.schedule(l,0,{err:s.errorObject.e,subject:c})):e.add(h.schedule(u,0,{value:f,subject:c}))}else{var p=n.length<=1?n[0]:n;e.add(h.schedule(u,0,{value:p,subject:c}))}};d.source=n,o.tryCatch(c).apply(i,f.concat(d))===s.errorObject&&p.error(s.errorObject.e)}e.add(p.subscribe(r))},e}(i.Observable);function u(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function l(t){var e=t.err;t.subject.error(e)}e.BoundCallbackObservable=c},function(t,e,n){"use strict";var r=n(25),i=n(1210);r.Observable.bindNodeCallback=i.bindNodeCallback},function(t,e,n){"use strict";var r=n(1211);e.bindNodeCallback=r.BoundNodeCallbackObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(62),s=n(59),a=n(369),c=function(t){function e(e,n,r,i,o){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.context=i,this.scheduler=o}return r(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,n,i,this,r)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,n=this.args,r=this.scheduler,i=this.subject;if(r)return r.schedule(u,0,{source:this,subscriber:t,context:this.context});if(!i){i=this.subject=new a.AsyncSubject;var c=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,i=r.selector,a=r.subject,c=e.shift();if(c)a.error(c);else if(i){var u=o.tryCatch(i).apply(this,e);u===s.errorObject?a.error(s.errorObject.e):(a.next(u),a.complete())}else a.next(e.length<=1?e[0]:e),a.complete()};c.source=this,o.tryCatch(e).apply(this.context,n.concat(c))===s.errorObject&&i.error(s.errorObject.e)}return i.subscribe(t)},e}(i.Observable);function u(t){var e=this,n=t.source,r=t.subscriber,i=t.context,c=n,u=c.callbackFunc,h=c.args,p=c.scheduler,d=n.subject;if(!d){d=n.subject=new a.AsyncSubject;var b=function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var i=t.source,a=i.selector,c=i.subject,u=n.shift();if(u)e.add(p.schedule(f,0,{err:u,subject:c}));else if(a){var h=o.tryCatch(a).apply(this,n);h===s.errorObject?e.add(p.schedule(f,0,{err:s.errorObject.e,subject:c})):e.add(p.schedule(l,0,{value:h,subject:c}))}else{var d=n.length<=1?n[0]:n;e.add(p.schedule(l,0,{value:d,subject:c}))}};b.source=n,o.tryCatch(u).apply(i,h.concat(b))===s.errorObject&&e.add(p.schedule(f,0,{err:s.errorObject.e,subject:d}))}e.add(d.subscribe(r))}function l(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function f(t){var e=t.err;t.subject.error(e)}e.BoundNodeCallbackObservable=c},function(t,e,n){"use strict";var r=n(25),i=n(1213);r.Observable.combineLatest=i.combineLatest},function(t,e,n){"use strict";var r=n(100),i=n(106),o=n(137),s=n(370);e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,a=null;return r.isScheduler(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&i.isArray(t[0])&&(t=t[0]),new o.ArrayObservable(t,a).lift(new s.CombineLatestOperator(n))}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(32).Subscriber);e.InnerSubscriber=i},function(t,e,n){"use strict";var r=n(25),i=n(324);r.Observable.concat=i.concat},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(67),o=n(25),s=n(323),a=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[s.iterator];if(!e&&"string"==typeof t)return new c(t);if(!e&&void 0!==t.length)return new u(t);if(!e)throw new TypeError("object is not iterable");return t[s.iterator]()}(e)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)i.error(t.error);else{var o=r.next();o.done?i.complete():(i.next(o.value),t.index=e+1,i.closed?"function"==typeof r.return&&r.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(o.Observable);e.IteratorObservable=a;var c=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[s.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),u=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=function(t){var e=+t.length;if(isNaN(e))return 0;if(0===e||(n=e,"number"!=typeof n||!i.root.isFinite(n)))return e;var n;if((e=function(t){var e=+t;if(0===e)return e;if(isNaN(e))return e;return e<0?-1:1}(e)*Math.floor(Math.abs(e)))<=0)return 0;if(e>l)return l;return e}(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[s.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}();var l=Math.pow(2,53)-1},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(689),s=n(138),a=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new s.EmptyObservable:1===r?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;i.closed||(n>=r?i.complete():(i.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,r=this.scheduler,i=n.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=a},function(t,e,n){"use strict";var r=n(25),i=n(1219);r.Observable.defer=i.defer},function(t,e,n){"use strict";var r=n(1220);e.defer=r.DeferObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(39),s=n(38),a=function(t){function e(e){t.call(this),this.observableFactory=e}return r(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new c(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=a;var c=function(t){function e(e,n){t.call(this,e),this.factory=n,this.tryDefer()}return r(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(s.OuterSubscriber)},function(t,e,n){"use strict";var r=n(25),i=n(1222);r.Observable.empty=i.empty},function(t,e,n){"use strict";var r=n(138);e.empty=r.EmptyObservable.create},function(t,e,n){"use strict";var r=n(25),i=n(1224);r.Observable.forkJoin=i.forkJoin},function(t,e,n){"use strict";var r=n(1225);e.forkJoin=r.ForkJoinObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(138),s=n(106),a=n(39),c=n(38),u=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return r(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new o.EmptyObservable;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,r)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(i.Observable);e.ForkJoinObservable=u;var l=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=n[o],c=a.subscribeToResult(this,s,null,o);c&&(c.outerIndex=o,this.add(c))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this,r=n.haveValues,i=n.resultSelector,o=n.values,s=o.length;if(t._hasValue){if(this.completed++,this.completed===s){if(r===s){var a=i?i.apply(this,o):o;e.next(a)}e.complete()}}else e.complete()},e}(c.OuterSubscriber)},function(t,e,n){"use strict";var r=n(25),i=n(809);r.Observable.from=i.from},function(t,e,n){"use strict";var r=n(25),i=n(1228);r.Observable.fromEvent=i.fromEvent},function(t,e,n){"use strict";var r=n(1229);e.fromEvent=r.FromEventObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(62),s=n(365),a=n(59),c=n(53),u=Object.prototype.toString;var l=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}return r(e,t),e.create=function(t,n,r,i){return s.isFunction(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,r,i,o){var s;if(function(t){return!!t&&"[object NodeList]"===u.call(t)}(t)||function(t){return!!t&&"[object HTMLCollection]"===u.call(t)}(t))for(var a=0,l=t.length;a<l;a++)e.setupSubscription(t[a],n,r,i,o);else if(function(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var f=t;t.addEventListener(n,r,o),s=function(){return f.removeEventListener(n,r,o)}}else if(function(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var h=t;t.on(n,r),s=function(){return h.off(n,r)}}else{if(!function(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t))throw new TypeError("Invalid event target");var p=t;t.addListener(n,r),s=function(){return p.removeListener(n,r)}}i.add(new c.Subscription(s))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,i=this.options,s=this.selector,c=s?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=o.tryCatch(s).apply(void 0,e);r===a.errorObject?t.error(a.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,c,t,i)},e}(i.Observable);e.FromEventObservable=l},function(t,e,n){"use strict";var r=n(25),i=n(1231);r.Observable.fromEventPattern=i.fromEventPattern},function(t,e,n){"use strict";var r=n(1232);e.fromEventPattern=r.FromEventPatternObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(365),o=n(25),s=n(53),a=function(t){function e(e,n,r){t.call(this),this.addHandler=e,this.removeHandler=n,this.selector=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=this.removeHandler,r=this.selector?function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];e._callSelector(t,n)}:function(e){t.next(e)},o=this._callAddHandler(r,t);i.isFunction(n)&&t.add(new s.Subscription((function(){n(r,o)})))},e.prototype._callSelector=function(t,e){try{var n=this.selector.apply(this,e);t.next(n)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{return this.addHandler(t)||null}catch(t){e.error(t)}},e}(o.Observable);e.FromEventPatternObservable=a},function(t,e,n){"use strict";var r=n(25),i=n(1234);r.Observable.fromPromise=i.fromPromise},function(t,e,n){"use strict";var r=n(811);e.fromPromise=r.PromiseObservable.create},function(t,e,n){"use strict";var r=n(25),i=n(1236);r.Observable.generate=i.generate},function(t,e,n){"use strict";var r=n(1237);e.generate=r.GenerateObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(100),s=function(t){return t},a=function(t){function e(e,n,r,i,o){t.call(this),this.initialState=e,this.condition=n,this.iterate=r,this.resultSelector=i,this.scheduler=o}return r(e,t),e.create=function(t,n,r,i,a){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||s,t.scheduler):void 0===i||o.isScheduler(i)?new e(t,n,r,s,i):new e(t,n,r,i,a)},e.prototype._subscribe=function(t){var n=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:n});for(var r=this,i=r.condition,o=r.resultSelector,s=r.iterate;;){if(i){var a=void 0;try{a=i(n)}catch(e){return void t.error(e)}if(!a){t.complete();break}}var c=void 0;try{c=o(n)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{n=s(n)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}},e}(i.Observable);e.GenerateObservable=a},function(t,e,n){"use strict";var r=n(25),i=n(1239);r.Observable.if=i._if},function(t,e,n){"use strict";var r=n(1240);e._if=r.IfObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(39),s=n(38),a=function(t){function e(e,n,r){t.call(this),this.condition=e,this.thenSource=n,this.elseSource=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=e.condition,r=e.thenSource,i=e.elseSource;return new c(t,n,r,i)},e}(i.Observable);e.IfObservable=a;var c=function(t){function e(e,n,r,i){t.call(this,e),this.condition=n,this.thenSource=r,this.elseSource=i,this.tryIf()}return r(e,t),e.prototype.tryIf=function(){var t=this,e=t.condition,n=t.thenSource,r=t.elseSource;try{var i=e()?n:r;i?this.add(o.subscribeToResult(this,i)):this._complete()}catch(t){this._error(t)}},e}(s.OuterSubscriber)},function(t,e,n){"use strict";var r=n(25),i=n(1242);r.Observable.interval=i.interval},function(t,e,n){"use strict";var r=n(1243);e.interval=r.IntervalObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(327),o=n(25),s=n(47),a=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=s.async),t.call(this),this.period=e,this.scheduler=n,(!i.isNumeric(e)||e<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=s.async)}return r(e,t),e.create=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=s.async),new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.subscriber,r=t.period;n.next(e),n.closed||(t.index+=1,this.schedule(t,r))},e.prototype._subscribe=function(t){var n=this.period,r=this.scheduler;t.add(r.schedule(e.dispatch,n,{index:0,subscriber:t,period:n}))},e}(o.Observable);e.IntervalObservable=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,n){t.call(this)}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(53).Subscription);e.Action=i},function(t,e,n){"use strict";var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},function(t,e,n){"use strict";var r=n(25),i=n(373);r.Observable.merge=i.merge},function(t,e,n){"use strict";var r=n(25),i=n(691);r.Observable.race=i.race},function(t,e,n){"use strict";var r=n(25),i=n(1249);r.Observable.never=i.never},function(t,e,n){"use strict";var r=n(1250);e.never=r.NeverObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(688),s=function(t){function e(){t.call(this)}return r(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=s},function(t,e,n){"use strict";var r=n(25),i=n(808);r.Observable.of=i.of},function(t,e,n){"use strict";var r=n(25),i=n(1253);r.Observable.onErrorResumeNext=i.onErrorResumeNext},function(t,e,n){"use strict";var r=n(692);e.onErrorResumeNext=r.onErrorResumeNextStatic},function(t,e,n){"use strict";var r=n(25),i=n(1255);r.Observable.pairs=i.pairs},function(t,e,n){"use strict";var r=n(1256);e.pairs=r.PairsObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function i(t){var e=t.obj,n=t.keys,r=t.length,i=t.index,o=t.subscriber;if(i!==r){var s=n[i];o.next([s,e[s]]),t.index=i+1,this.schedule(t)}else o.complete()}var o=function(t){function e(e,n){t.call(this),this.obj=e,this.scheduler=n,this.keys=Object.keys(e)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this.keys,n=this.scheduler,r=e.length;if(n)return n.schedule(i,0,{obj:this.obj,keys:e,length:r,index:0,subscriber:t});for(var o=0;o<r;o++){var s=e[o];t.next([s,this.obj[s]])}t.complete()},e}(n(25).Observable);e.PairsObservable=o},function(t,e,n){"use strict";var r=n(25),i=n(1258);r.Observable.range=i.range},function(t,e,n){"use strict";var r=n(1259);e.range=r.RangeObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,n,r){t.call(this),this.start=e,this._count=n,this.scheduler=r}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),void 0===n&&(n=0),new e(t,n,r)},e.dispatch=function(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=0,r=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:n,count:i,start:r,subscriber:t});for(;;){if(n++>=i){t.complete();break}if(t.next(r++),t.closed)break}},e}(n(25).Observable);e.RangeObservable=i},function(t,e,n){"use strict";var r=n(25),i=n(1261);r.Observable.using=i.using},function(t,e,n){"use strict";var r=n(1262);e.using=r.UsingObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(39),s=n(38),a=function(t){function e(e,n){t.call(this),this.resourceFactory=e,this.observableFactory=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e,n=this.resourceFactory,r=this.observableFactory;try{return e=n(),new c(t,e,r)}catch(e){t.error(e)}},e}(i.Observable);e.UsingObservable=a;var c=function(t){function e(e,n,r){t.call(this,e),this.resource=n,this.observableFactory=r,e.add(n),this.tryUse()}return r(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(o.subscribeToResult(this,t))}catch(t){this._error(t)}},e}(s.OuterSubscriber)},function(t,e,n){"use strict";var r=n(25),i=n(1264);r.Observable.throw=i._throw},function(t,e,n){"use strict";var r=n(1265);e._throw=r.ErrorObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.error;t.subscriber.error(e)},e.prototype._subscribe=function(t){var n=this.error,r=this.scheduler;if(t.syncErrorThrowable=!0,r)return r.schedule(e.dispatch,0,{error:n,subscriber:t});t.error(n)},e}(n(25).Observable);e.ErrorObservable=i},function(t,e,n){"use strict";var r=n(25),i=n(813);r.Observable.timer=i.timer},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(327),o=n(25),s=n(47),a=n(100),c=n(374),u=function(t){function e(e,n,r){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1?1:Number(n):a.isScheduler(n)&&(r=n),a.isScheduler(r)||(r=s.async),this.scheduler=r,this.dueTime=c.isDate(e)?+e-this.scheduler.now():e}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),new e(t,n,r)},e.dispatch=function(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}},e.prototype._subscribe=function(t){var n=this,r=n.period,i=n.dueTime;return n.scheduler.schedule(e.dispatch,i,{index:0,period:r,subscriber:t})},e}(o.Observable);e.TimerObservable=u},function(t,e,n){"use strict";var r=n(25),i=n(1269);r.Observable.zip=i.zip},function(t,e,n){"use strict";var r=n(375);e.zip=r.zipStatic},function(t,e,n){"use strict";var r=n(25),i=n(1271);r.Observable.ajax=i.ajax},function(t,e,n){"use strict";var r=n(814);e.ajax=r.AjaxObservable.create},function(t,e,n){"use strict";var r=n(25),i=n(1273);r.Observable.webSocket=i.webSocket},function(t,e,n){"use strict";var r=n(1274);e.webSocket=r.WebSocketSubject.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(32),s=n(25),a=n(53),c=n(67),u=n(376),l=n(62),f=n(59),h=n(1277),p=function(t){function e(e,n){if(e instanceof s.Observable)t.call(this,n,e);else{if(t.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new i.Subject,"string"==typeof e?this.url=e:h.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new u.ReplaySubject}}return r(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var n=new e(this,this.destination);return n.operator=t,n},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new u.ReplaySubject),this._output=new i.Subject},e.prototype.multiplex=function(t,e,n){var r=this;return new s.Observable((function(i){var o=l.tryCatch(t)();o===f.errorObject?i.error(f.errorObject.e):r.next(o);var s=r.subscribe((function(t){var e=l.tryCatch(n)(t);e===f.errorObject?i.error(f.errorObject.e):e&&i.next(t)}),(function(t){return i.error(t)}),(function(){return i.complete()}));return function(){var t=l.tryCatch(e)();t===f.errorObject?i.error(f.errorObject.e):r.next(t),s.unsubscribe()}}))},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,n=this._output,r=null;try{r=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=r,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(t){return void n.error(t)}var i=new a.Subscription((function(){t.socket=null,r&&1===r.readyState&&r.close()}));r.onopen=function(e){var s=t.openObserver;s&&s.next(e);var a=t.destination;t.destination=o.Subscriber.create((function(t){return 1===r.readyState&&r.send(t)}),(function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?r.close(e.code,e.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()}),(function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t._resetState()})),a&&a instanceof u.ReplaySubject&&i.add(a.subscribe(t.destination))},r.onerror=function(e){t._resetState(),n.error(e)},r.onclose=function(e){t._resetState();var r=t.closeObserver;r&&r.next(e),e.wasClean?n.complete():n.error(e)},r.onmessage=function(e){var r=l.tryCatch(t.resultSelector)(e);r===f.errorObject?n.error(f.errorObject.e):n.next(r)}},e.prototype._subscribe=function(t){var e=this,n=this.source;if(n)return n.subscribe(t);this.socket||this._connectSocket();var r=new a.Subscription;return r.add(this._output.subscribe(t)),r.add((function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())})),r},e.prototype.unsubscribe=function(){var e=this.source,n=this.socket;n&&1===n.readyState&&(n.close(),this._resetState()),t.prototype.unsubscribe.call(this),e||(this.destination=new u.ReplaySubject)},e}(i.AnonymousSubject);e.WebSocketSubject=p},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(328).AsyncAction);e.QueueAction=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(n(329).AsyncScheduler);e.QueueScheduler=i},function(t,e,n){"use strict";var r=n(67);function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e.length,i=0;i<r;i++){var o=e[i];for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t}function o(t){return t.Object.assign||i}e.assignImpl=i,e.getAssign=o,e.assign=o(r.root)},function(t,e,n){"use strict";var r=n(25),i=n(1279);r.Observable.prototype.buffer=i.buffer},function(t,e,n){"use strict";var r=n(816);e.buffer=function(t){return r.buffer(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1281);r.Observable.prototype.bufferCount=i.bufferCount},function(t,e,n){"use strict";var r=n(817);e.bufferCount=function(t,e){return void 0===e&&(e=null),r.bufferCount(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1283);r.Observable.prototype.bufferTime=i.bufferTime},function(t,e,n){"use strict";var r=n(47),i=n(100),o=n(818);e.bufferTime=function(t){var e=arguments.length,n=r.async;i.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var s=null;e>=2&&(s=arguments[1]);var a=Number.POSITIVE_INFINITY;return e>=3&&(a=arguments[2]),o.bufferTime(t,s,a,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1285);r.Observable.prototype.bufferToggle=i.bufferToggle},function(t,e,n){"use strict";var r=n(819);e.bufferToggle=function(t,e){return r.bufferToggle(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1287);r.Observable.prototype.bufferWhen=i.bufferWhen},function(t,e,n){"use strict";var r=n(820);e.bufferWhen=function(t){return r.bufferWhen(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1289);r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch},function(t,e,n){"use strict";var r=n(821);e._catch=function(t){return r.catchError(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1291);r.Observable.prototype.combineAll=i.combineAll},function(t,e,n){"use strict";var r=n(822);e.combineAll=function(t){return r.combineAll(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1293);r.Observable.prototype.combineLatest=i.combineLatest},function(t,e,n){"use strict";var r=n(370);e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.combineLatest.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1295);r.Observable.prototype.concat=i.concat},function(t,e,n){"use strict";var r=n(823),i=n(324);e.concatStatic=i.concat,e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.concat.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1297);r.Observable.prototype.concatAll=i.concatAll},function(t,e,n){"use strict";var r=n(690);e.concatAll=function(){return r.concatAll()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1299);r.Observable.prototype.concatMap=i.concatMap},function(t,e,n){"use strict";var r=n(693);e.concatMap=function(t,e){return r.concatMap(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1301);r.Observable.prototype.concatMapTo=i.concatMapTo},function(t,e,n){"use strict";var r=n(824);e.concatMapTo=function(t,e){return r.concatMapTo(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1303);r.Observable.prototype.count=i.count},function(t,e,n){"use strict";var r=n(825);e.count=function(t){return r.count(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1305);r.Observable.prototype.dematerialize=i.dematerialize},function(t,e,n){"use strict";var r=n(826);e.dematerialize=function(){return r.dematerialize()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1307);r.Observable.prototype.debounce=i.debounce},function(t,e,n){"use strict";var r=n(827);e.debounce=function(t){return r.debounce(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1309);r.Observable.prototype.debounceTime=i.debounceTime},function(t,e,n){"use strict";var r=n(47),i=n(828);e.debounceTime=function(t,e){return void 0===e&&(e=r.async),i.debounceTime(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1311);r.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(t,e,n){"use strict";var r=n(694);e.defaultIfEmpty=function(t){return void 0===t&&(t=null),r.defaultIfEmpty(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1313);r.Observable.prototype.delay=i.delay},function(t,e,n){"use strict";var r=n(47),i=n(829);e.delay=function(t,e){return void 0===e&&(e=r.async),i.delay(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1315);r.Observable.prototype.delayWhen=i.delayWhen},function(t,e,n){"use strict";var r=n(830);e.delayWhen=function(t,e){return r.delayWhen(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1317);r.Observable.prototype.distinct=i.distinct},function(t,e,n){"use strict";var r=n(831);e.distinct=function(t,e){return r.distinct(t,e)(this)}},function(t,e,n){"use strict";var r=n(67);function i(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}e.minimalSetImpl=i,e.Set=r.root.Set||i()},function(t,e,n){"use strict";var r=n(25),i=n(1320);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,n){"use strict";var r=n(695);e.distinctUntilChanged=function(t,e){return r.distinctUntilChanged(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1322);r.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},function(t,e,n){"use strict";var r=n(832);e.distinctUntilKeyChanged=function(t,e){return r.distinctUntilKeyChanged(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1324);r.Observable.prototype.do=i._do,r.Observable.prototype._do=i._do},function(t,e,n){"use strict";var r=n(833);e._do=function(t,e,n){return r.tap(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1326);r.Observable.prototype.exhaust=i.exhaust},function(t,e,n){"use strict";var r=n(834);e.exhaust=function(){return r.exhaust()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1328);r.Observable.prototype.exhaustMap=i.exhaustMap},function(t,e,n){"use strict";var r=n(835);e.exhaustMap=function(t,e){return r.exhaustMap(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1330);r.Observable.prototype.expand=i.expand},function(t,e,n){"use strict";var r=n(836);e.expand=function(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,r.expand(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1332);r.Observable.prototype.elementAt=i.elementAt},function(t,e,n){"use strict";var r=n(837);e.elementAt=function(t,e){return r.elementAt(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1334);r.Observable.prototype.filter=i.filter},function(t,e,n){"use strict";var r=n(696);e.filter=function(t,e){return r.filter(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1336);r.Observable.prototype.finally=i._finally,r.Observable.prototype._finally=i._finally},function(t,e,n){"use strict";var r=n(838);e._finally=function(t){return r.finalize(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1338);r.Observable.prototype.find=i.find},function(t,e,n){"use strict";var r=n(697);e.find=function(t,e){return r.find(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1340);r.Observable.prototype.findIndex=i.findIndex},function(t,e,n){"use strict";var r=n(839);e.findIndex=function(t,e){return r.findIndex(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1342);r.Observable.prototype.first=i.first},function(t,e,n){"use strict";var r=n(840);e.first=function(t,e,n){return r.first(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1344);r.Observable.prototype.groupBy=i.groupBy},function(t,e,n){"use strict";var r=n(841);e.GroupedObservable=r.GroupedObservable,e.groupBy=function(t,e,n,i){return r.groupBy(t,e,n,i)(this)}},function(t,e,n){"use strict";var r=n(67),i=n(1346);e.Map=r.root.Map||i.MapPolyfill},function(t,e,n){"use strict";var r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();e.MapPolyfill=r},function(t,e,n){"use strict";var r=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var n=this.values;for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&t.call(e,n[r],r)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=r},function(t,e,n){"use strict";var r=n(25),i=n(1349);r.Observable.prototype.ignoreElements=i.ignoreElements},function(t,e,n){"use strict";var r=n(842);e.ignoreElements=function(){return r.ignoreElements()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1351);r.Observable.prototype.isEmpty=i.isEmpty},function(t,e,n){"use strict";var r=n(843);e.isEmpty=function(){return r.isEmpty()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1353);r.Observable.prototype.audit=i.audit},function(t,e,n){"use strict";var r=n(698);e.audit=function(t){return r.audit(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1355);r.Observable.prototype.auditTime=i.auditTime},function(t,e,n){"use strict";var r=n(47),i=n(844);e.auditTime=function(t,e){return void 0===e&&(e=r.async),i.auditTime(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1357);r.Observable.prototype.last=i.last},function(t,e,n){"use strict";var r=n(845);e.last=function(t,e,n){return r.last(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1359);r.Observable.prototype.let=i.letProto,r.Observable.prototype.letBind=i.letProto},function(t,e,n){"use strict";e.letProto=function(t){return t(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1361);r.Observable.prototype.every=i.every},function(t,e,n){"use strict";var r=n(846);e.every=function(t,e){return r.every(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1363);r.Observable.prototype.map=i.map},function(t,e,n){"use strict";var r=n(330);e.map=function(t,e){return r.map(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1365);r.Observable.prototype.mapTo=i.mapTo},function(t,e,n){"use strict";var r=n(847);e.mapTo=function(t){return r.mapTo(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1367);r.Observable.prototype.materialize=i.materialize},function(t,e,n){"use strict";var r=n(848);e.materialize=function(){return r.materialize()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1369);r.Observable.prototype.max=i.max},function(t,e,n){"use strict";var r=n(849);e.max=function(t){return r.max(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1371);r.Observable.prototype.merge=i.merge},function(t,e,n){"use strict";var r=n(850),i=n(373);e.mergeStatic=i.merge,e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.merge.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1373);r.Observable.prototype.mergeAll=i.mergeAll},function(t,e,n){"use strict";var r=n(372);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeAll(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1375);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(t,e,n){"use strict";var r=n(326);e.mergeMap=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),r.mergeMap(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1377);r.Observable.prototype.flatMapTo=i.mergeMapTo,r.Observable.prototype.mergeMapTo=i.mergeMapTo},function(t,e,n){"use strict";var r=n(851);e.mergeMapTo=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),r.mergeMapTo(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1379);r.Observable.prototype.mergeScan=i.mergeScan},function(t,e,n){"use strict";var r=n(852);e.mergeScan=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),r.mergeScan(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1381);r.Observable.prototype.min=i.min},function(t,e,n){"use strict";var r=n(853);e.min=function(t){return r.min(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1383);r.Observable.prototype.multicast=i.multicast},function(t,e,n){"use strict";var r=n(196);e.multicast=function(t,e){return r.multicast(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1385);r.Observable.prototype.observeOn=i.observeOn},function(t,e,n){"use strict";var r=n(371);e.observeOn=function(t,e){return void 0===e&&(e=0),r.observeOn(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1387);r.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},function(t,e,n){"use strict";var r=n(692);e.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.onErrorResumeNext.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1389);r.Observable.prototype.pairwise=i.pairwise},function(t,e,n){"use strict";var r=n(855);e.pairwise=function(){return r.pairwise()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1391);r.Observable.prototype.partition=i.partition},function(t,e,n){"use strict";var r=n(856);e.partition=function(t,e){return r.partition(t,e)(this)}},function(t,e,n){"use strict";e.not=function(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}},function(t,e,n){"use strict";var r=n(25),i=n(1394);r.Observable.prototype.pluck=i.pluck},function(t,e,n){"use strict";var r=n(857);e.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.pluck.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1396);r.Observable.prototype.publish=i.publish},function(t,e,n){"use strict";var r=n(858);e.publish=function(t){return r.publish(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1398);r.Observable.prototype.publishBehavior=i.publishBehavior},function(t,e,n){"use strict";var r=n(859);e.publishBehavior=function(t){return r.publishBehavior(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1400);r.Observable.prototype.publishReplay=i.publishReplay},function(t,e,n){"use strict";var r=n(861);e.publishReplay=function(t,e,n,i){return r.publishReplay(t,e,n,i)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1402);r.Observable.prototype.publishLast=i.publishLast},function(t,e,n){"use strict";var r=n(862);e.publishLast=function(){return r.publishLast()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1404);r.Observable.prototype.race=i.race},function(t,e,n){"use strict";var r=n(863),i=n(691);e.raceStatic=i.race,e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.race.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1406);r.Observable.prototype.reduce=i.reduce},function(t,e,n){"use strict";var r=n(332);e.reduce=function(t,e){return arguments.length>=2?r.reduce(t,e)(this):r.reduce(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1408);r.Observable.prototype.repeat=i.repeat},function(t,e,n){"use strict";var r=n(864);e.repeat=function(t){return void 0===t&&(t=-1),r.repeat(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1410);r.Observable.prototype.repeatWhen=i.repeatWhen},function(t,e,n){"use strict";var r=n(865);e.repeatWhen=function(t){return r.repeatWhen(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1412);r.Observable.prototype.retry=i.retry},function(t,e,n){"use strict";var r=n(866);e.retry=function(t){return void 0===t&&(t=-1),r.retry(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1414);r.Observable.prototype.retryWhen=i.retryWhen},function(t,e,n){"use strict";var r=n(867);e.retryWhen=function(t){return r.retryWhen(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1416);r.Observable.prototype.sample=i.sample},function(t,e,n){"use strict";var r=n(868);e.sample=function(t){return r.sample(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1418);r.Observable.prototype.sampleTime=i.sampleTime},function(t,e,n){"use strict";var r=n(47),i=n(869);e.sampleTime=function(t,e){return void 0===e&&(e=r.async),i.sampleTime(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1420);r.Observable.prototype.scan=i.scan},function(t,e,n){"use strict";var r=n(699);e.scan=function(t,e){return arguments.length>=2?r.scan(t,e)(this):r.scan(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1422);r.Observable.prototype.sequenceEqual=i.sequenceEqual},function(t,e,n){"use strict";var r=n(870);e.sequenceEqual=function(t,e){return r.sequenceEqual(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1424);r.Observable.prototype.share=i.share},function(t,e,n){"use strict";var r=n(871);e.share=function(){return r.share()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1426);r.Observable.prototype.shareReplay=i.shareReplay},function(t,e,n){"use strict";var r=n(872);e.shareReplay=function(t,e,n){return r.shareReplay(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1428);r.Observable.prototype.single=i.single},function(t,e,n){"use strict";var r=n(873);e.single=function(t){return r.single(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1430);r.Observable.prototype.skip=i.skip},function(t,e,n){"use strict";var r=n(874);e.skip=function(t){return r.skip(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1432);r.Observable.prototype.skipLast=i.skipLast},function(t,e,n){"use strict";var r=n(875);e.skipLast=function(t){return r.skipLast(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1434);r.Observable.prototype.skipUntil=i.skipUntil},function(t,e,n){"use strict";var r=n(876);e.skipUntil=function(t){return r.skipUntil(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1436);r.Observable.prototype.skipWhile=i.skipWhile},function(t,e,n){"use strict";var r=n(877);e.skipWhile=function(t){return r.skipWhile(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1438);r.Observable.prototype.startWith=i.startWith},function(t,e,n){"use strict";var r=n(878);e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.startWith.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1440);r.Observable.prototype.subscribeOn=i.subscribeOn},function(t,e,n){"use strict";var r=n(1441);e.subscribeOn=function(t,e){return void 0===e&&(e=0),r.subscribeOn(t,e)(this)}},function(t,e,n){"use strict";var r=n(1442);e.subscribeOn=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new i(t,e))}};var i=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new r.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(879),s=n(327),a=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap),t.call(this),this.source=e,this.delayTime=n,this.scheduler=r,(!s.isNumeric(n)||n<0)&&(this.delayTime=0),r&&"function"==typeof r.schedule||(this.scheduler=o.asap)}return r(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(i.Observable);e.SubscribeOnObservable=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(1444),o=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(i.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(n(328).AsyncAction);e.AsapAction=o},function(t,e,n){"use strict";var r=n(67),i=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=function t(){var e=t.handler,n=t.args;"function"==typeof e?e.apply(void 0,n):new Function(""+e)()};return r.handler=t,r.args=e,r},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,n)),n};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",n=function n(r){var i=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&i.runIfPresent(+r.data.slice(e.length))};n.instance=this,t.addEventListener("message",n,!1);var r=function t(){var e=t,n=e.messagePrefix,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(n+i,"*"),i};return r.instance=this,r.messagePrefix=e,r},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var n=e.data;t.runIfPresent(n)};var n=function t(){var e=t,n=e.channel,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return n.port2.postMessage(i),i};return n.channel=e,n.instance=this,n},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,n=e.root,r=n.document,i=r.documentElement,o=e.addFromSetImmediateArguments(arguments),s=r.createElement("script");return s.onreadystatechange=function(){e.runIfPresent(o),s.onreadystatechange=null,i.removeChild(s),s=null},i.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,n),0),n};return t.instance=this,t},t}();e.ImmediateDefinition=i,e.Immediate=new i(r.root)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(329).AsyncScheduler);e.AsapScheduler=i},function(t,e,n){"use strict";var r=n(25),i=n(1447);r.Observable.prototype.switch=i._switch,r.Observable.prototype._switch=i._switch},function(t,e,n){"use strict";var r=n(880);e._switch=function(){return r.switchAll()(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1449);r.Observable.prototype.switchMap=i.switchMap},function(t,e,n){"use strict";var r=n(702);e.switchMap=function(t,e){return r.switchMap(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1451);r.Observable.prototype.switchMapTo=i.switchMapTo},function(t,e,n){"use strict";var r=n(881);e.switchMapTo=function(t,e){return r.switchMapTo(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1453);r.Observable.prototype.take=i.take},function(t,e,n){"use strict";var r=n(882);e.take=function(t){return r.take(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1455);r.Observable.prototype.takeLast=i.takeLast},function(t,e,n){"use strict";var r=n(700);e.takeLast=function(t){return r.takeLast(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1457);r.Observable.prototype.takeUntil=i.takeUntil},function(t,e,n){"use strict";var r=n(883);e.takeUntil=function(t){return r.takeUntil(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1459);r.Observable.prototype.takeWhile=i.takeWhile},function(t,e,n){"use strict";var r=n(884);e.takeWhile=function(t){return r.takeWhile(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1461);r.Observable.prototype.throttle=i.throttle},function(t,e,n){"use strict";var r=n(378);e.throttle=function(t,e){return void 0===e&&(e=r.defaultThrottleConfig),r.throttle(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1463);r.Observable.prototype.throttleTime=i.throttleTime},function(t,e,n){"use strict";var r=n(47),i=n(378),o=n(885);e.throttleTime=function(t,e,n){return void 0===e&&(e=r.async),void 0===n&&(n=i.defaultThrottleConfig),o.throttleTime(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(886);r.Observable.prototype.timeInterval=i.timeInterval},function(t,e,n){"use strict";var r=n(25),i=n(1466);r.Observable.prototype.timeout=i.timeout},function(t,e,n){"use strict";var r=n(47),i=n(888);e.timeout=function(t,e){return void 0===e&&(e=r.async),i.timeout(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1468);r.Observable.prototype.timeoutWith=i.timeoutWith},function(t,e,n){"use strict";var r=n(47),i=n(890);e.timeoutWith=function(t,e,n){return void 0===n&&(n=r.async),i.timeoutWith(t,e,n)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1470);r.Observable.prototype.timestamp=i.timestamp},function(t,e,n){"use strict";var r=n(47),i=n(703);e.timestamp=function(t){return void 0===t&&(t=r.async),i.timestamp(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1472);r.Observable.prototype.toArray=i.toArray},function(t,e,n){"use strict";var r=n(891);e.toArray=function(){return r.toArray()(this)}},function(t,e){},function(t,e,n){"use strict";var r=n(25),i=n(1475);r.Observable.prototype.window=i.window},function(t,e,n){"use strict";var r=n(892);e.window=function(t){return r.window(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1477);r.Observable.prototype.windowCount=i.windowCount},function(t,e,n){"use strict";var r=n(893);e.windowCount=function(t,e){return void 0===e&&(e=0),r.windowCount(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1479);r.Observable.prototype.windowTime=i.windowTime},function(t,e,n){"use strict";var r=n(47),i=n(327),o=n(100),s=n(894);e.windowTime=function(t){var e=r.async,n=null,a=Number.POSITIVE_INFINITY;return o.isScheduler(arguments[3])&&(e=arguments[3]),o.isScheduler(arguments[2])?e=arguments[2]:i.isNumeric(arguments[2])&&(a=arguments[2]),o.isScheduler(arguments[1])?e=arguments[1]:i.isNumeric(arguments[1])&&(n=arguments[1]),s.windowTime(t,n,a,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1481);r.Observable.prototype.windowToggle=i.windowToggle},function(t,e,n){"use strict";var r=n(895);e.windowToggle=function(t,e){return r.windowToggle(t,e)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1483);r.Observable.prototype.windowWhen=i.windowWhen},function(t,e,n){"use strict";var r=n(896);e.windowWhen=function(t){return r.windowWhen(t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1485);r.Observable.prototype.withLatestFrom=i.withLatestFrom},function(t,e,n){"use strict";var r=n(897);e.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.withLatestFrom.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1487);r.Observable.prototype.zip=i.zipProto},function(t,e,n){"use strict";var r=n(375);e.zipProto=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.zip.apply(void 0,t)(this)}},function(t,e,n){"use strict";var r=n(25),i=n(1489);r.Observable.prototype.zipAll=i.zipAll},function(t,e,n){"use strict";var r=n(898);e.zipAll=function(t){return r.zipAll(t)(this)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(325),s=n(1491),a=n(1492),c=n(900),u=n(902),l=function(t){function e(e){t.call(this,u.VirtualAction,750),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return r(e,t),e.prototype.createTime=function(t){var n=t.indexOf("|");if(-1===n)throw new Error('marble diagram for time should have a completion marker "|"');return n*e.frameTimeFactor},e.prototype.createColdObservable=function(t,n,r){if(-1!==t.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==t.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,n,r),o=new s.ColdObservable(i,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,n,r){if(-1!==t.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,n,r),o=new a.HotObservable(i,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var n=this,r=[];return t.subscribe((function(t){r.push({frame:n.frame-e,notification:o.Notification.createNext(t)})}),(function(t){r.push({frame:n.frame-e,notification:o.Notification.createError(t)})}),(function(){r.push({frame:n.frame-e,notification:o.Notification.createComplete()})})),r},e.prototype.expectObservable=function(t,n){var r=this;void 0===n&&(n=null);var s,a=[],c={actual:a,ready:!1},u=e.parseMarblesAsSubscriptions(n).unsubscribedFrame;return this.schedule((function(){s=t.subscribe((function(t){var e=t;t instanceof i.Observable&&(e=r.materializeInnerObservable(e,r.frame)),a.push({frame:r.frame,notification:o.Notification.createNext(e)})}),(function(t){a.push({frame:r.frame,notification:o.Notification.createError(t)})}),(function(){a.push({frame:r.frame,notification:o.Notification.createComplete()})}))}),0),u!==Number.POSITIVE_INFINITY&&this.schedule((function(){return s.unsubscribe()}),u),this.flushTests.push(c),{toBe:function(t,n,r){c.ready=!0,c.expected=e.parseMarbles(t,n,r,!0)}}},e.prototype.expectSubscriptions=function(t){var n={actual:t,ready:!1};return this.flushTests.push(n),{toBe:function(t){var r="string"==typeof t?[t]:t;n.ready=!0,n.expected=r.map((function(t){return e.parseMarblesAsSubscriptions(t)}))}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var n=this.flushTests.filter((function(t){return t.ready}));n.length>0;){var r=n.shift();this.assertDeepEqual(r.actual,r.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,n=-1,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<e;o++){var s=o*this.frameTimeFactor,a=t[o];switch(a){case"-":case" ":break;case"(":n=s;break;case")":n=-1;break;case"^":if(r!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");r=n>-1?n:s;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=n>-1?n:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return i<0?new c.SubscriptionLog(r):new c.SubscriptionLog(r,i)},e.parseMarbles=function(t,e,n,r){if(void 0===r&&(r=!1),-1!==t.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=t.length,a=[],c=t.indexOf("^"),u=-1===c?0:c*-this.frameTimeFactor,l="object"!=typeof e?function(t){return t}:function(t){return r&&e[t]instanceof s.ColdObservable?e[t].messages:e[t]},f=-1,h=0;h<i;h++){var p=h*this.frameTimeFactor+u,d=void 0,b=t[h];switch(b){case"-":case" ":case"^":break;case"(":f=p;break;case")":f=-1;break;case"|":d=o.Notification.createComplete();break;case"#":d=o.Notification.createError(n||"error");break;default:d=o.Notification.createNext(l(b))}d&&a.push({frame:f>-1?f:p,notification:d})}return a},e}(u.VirtualTimeScheduler);e.TestScheduler=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(25),o=n(53),s=n(899),a=n(901),c=function(t){function e(e,n){t.call(this,(function(t){var e=this,n=e.logSubscribedFrame();return t.add(new o.Subscription((function(){e.logUnsubscribedFrame(n)}))),e.scheduleMessages(t),t})),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,n=0;n<e;n++){var r=this.messages[n];t.add(this.scheduler.schedule((function(t){var e=t.message,n=t.subscriber;e.notification.observe(n)}),r.frame,{message:r,subscriber:t}))}},e}(i.Observable);e.ColdObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(58),o=n(53),s=n(899),a=n(901),c=function(t){function e(e,n){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype._subscribe=function(e){var n=this,r=n.logSubscribedFrame();return e.add(new o.Subscription((function(){n.logUnsubscribedFrame(r)}))),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,n=0;n<e;n++)!function(){var e=t.messages[n];t.scheduler.schedule((function(){e.notification.observe(t)}),e.frame)}()},e}(i.Subject);e.HotObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},function(t,e,n){"use strict";var r=n(1494),i=n(1496);e.animationFrame=new i.AnimationFrameScheduler(r.AnimationFrameAction)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(328),o=n(1495),s=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(n),e.scheduled=void 0)},e}(i.AsyncAction);e.AnimationFrameAction=s},function(t,e,n){"use strict";var r=n(67),i=function(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})};e.RequestAnimationFrameDefinition=i,e.AnimationFrame=new i(r.root)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(329).AsyncScheduler);e.AnimationFrameScheduler=i},function(t,e,n){"use strict";var r=n(698);e.audit=r.audit;var i=n(844);e.auditTime=i.auditTime;var o=n(816);e.buffer=o.buffer;var s=n(817);e.bufferCount=s.bufferCount;var a=n(818);e.bufferTime=a.bufferTime;var c=n(819);e.bufferToggle=c.bufferToggle;var u=n(820);e.bufferWhen=u.bufferWhen;var l=n(821);e.catchError=l.catchError;var f=n(822);e.combineAll=f.combineAll;var h=n(370);e.combineLatest=h.combineLatest;var p=n(823);e.concat=p.concat;var d=n(690);e.concatAll=d.concatAll;var b=n(693);e.concatMap=b.concatMap;var m=n(824);e.concatMapTo=m.concatMapTo;var y=n(825);e.count=y.count;var v=n(827);e.debounce=v.debounce;var g=n(828);e.debounceTime=g.debounceTime;var _=n(694);e.defaultIfEmpty=_.defaultIfEmpty;var w=n(829);e.delay=w.delay;var S=n(830);e.delayWhen=S.delayWhen;var x=n(826);e.dematerialize=x.dematerialize;var k=n(831);e.distinct=k.distinct;var E=n(695);e.distinctUntilChanged=E.distinctUntilChanged;var O=n(832);e.distinctUntilKeyChanged=O.distinctUntilKeyChanged;var A=n(837);e.elementAt=A.elementAt;var M=n(846);e.every=M.every;var C=n(834);e.exhaust=C.exhaust;var j=n(835);e.exhaustMap=j.exhaustMap;var T=n(836);e.expand=T.expand;var I=n(696);e.filter=I.filter;var P=n(838);e.finalize=P.finalize;var F=n(697);e.find=F.find;var R=n(839);e.findIndex=R.findIndex;var D=n(840);e.first=D.first;var B=n(841);e.groupBy=B.groupBy;var N=n(842);e.ignoreElements=N.ignoreElements;var L=n(843);e.isEmpty=L.isEmpty;var q=n(845);e.last=q.last;var U=n(330);e.map=U.map;var z=n(847);e.mapTo=z.mapTo;var V=n(848);e.materialize=V.materialize;var H=n(849);e.max=H.max;var W=n(850);e.merge=W.merge;var K=n(372);e.mergeAll=K.mergeAll;var G=n(326);e.mergeMap=G.mergeMap;var $=n(326);e.flatMap=$.mergeMap;var J=n(851);e.mergeMapTo=J.mergeMapTo;var Y=n(852);e.mergeScan=Y.mergeScan;var X=n(853);e.min=X.min;var Q=n(196);e.multicast=Q.multicast;var Z=n(371);e.observeOn=Z.observeOn;var tt=n(692);e.onErrorResumeNext=tt.onErrorResumeNext;var et=n(855);e.pairwise=et.pairwise;var nt=n(856);e.partition=nt.partition;var rt=n(857);e.pluck=rt.pluck;var it=n(858);e.publish=it.publish;var ot=n(859);e.publishBehavior=ot.publishBehavior;var st=n(862);e.publishLast=st.publishLast;var at=n(861);e.publishReplay=at.publishReplay;var ct=n(863);e.race=ct.race;var ut=n(332);e.reduce=ut.reduce;var lt=n(864);e.repeat=lt.repeat;var ft=n(865);e.repeatWhen=ft.repeatWhen;var ht=n(866);e.retry=ht.retry;var pt=n(867);e.retryWhen=pt.retryWhen;var dt=n(701);e.refCount=dt.refCount;var bt=n(868);e.sample=bt.sample;var mt=n(869);e.sampleTime=mt.sampleTime;var yt=n(699);e.scan=yt.scan;var vt=n(870);e.sequenceEqual=vt.sequenceEqual;var gt=n(871);e.share=gt.share;var _t=n(872);e.shareReplay=_t.shareReplay;var wt=n(873);e.single=wt.single;var St=n(874);e.skip=St.skip;var xt=n(875);e.skipLast=xt.skipLast;var kt=n(876);e.skipUntil=kt.skipUntil;var Et=n(877);e.skipWhile=Et.skipWhile;var Ot=n(878);e.startWith=Ot.startWith;var At=n(880);e.switchAll=At.switchAll;var Mt=n(702);e.switchMap=Mt.switchMap;var Ct=n(881);e.switchMapTo=Ct.switchMapTo;var jt=n(882);e.take=jt.take;var Tt=n(700);e.takeLast=Tt.takeLast;var It=n(883);e.takeUntil=It.takeUntil;var Pt=n(884);e.takeWhile=Pt.takeWhile;var Ft=n(833);e.tap=Ft.tap;var Rt=n(378);e.throttle=Rt.throttle;var Dt=n(885);e.throttleTime=Dt.throttleTime;var Bt=n(887);e.timeInterval=Bt.timeInterval;var Nt=n(888);e.timeout=Nt.timeout;var Lt=n(890);e.timeoutWith=Lt.timeoutWith;var qt=n(703);e.timestamp=qt.timestamp;var Ut=n(891);e.toArray=Ut.toArray;var zt=n(892);e.window=zt.window;var Vt=n(893);e.windowCount=Vt.windowCount;var Ht=n(894);e.windowTime=Ht.windowTime;var Wt=n(895);e.windowToggle=Wt.windowToggle;var Kt=n(896);e.windowWhen=Kt.windowWhen;var Gt=n(897);e.withLatestFrom=Gt.withLatestFrom;var $t=n(375);e.zip=$t.zip;var Jt=n(898);e.zipAll=Jt.zipAll},function(t,e,n){"use strict";e.a=function({songs:t,title:e,getTitle:n}){for(const o of t)if(r=n(o),i=e,String(r).toLowerCase().trim()===String(i).toLowerCase().trim())return o;var r,i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(380),i=n(131);function o(t){const e=window.devToolsExtension?window.devToolsExtension():t=>t;return Object(r.c)(i.q,t,e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return it}));n(1178);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(132),c=(n(1180),n(678)),u=n.n(c),l=n(199),f=n(105),h=n(217),p=n(149);n(1182);const d=({checked:t,children:e,onToggle:n})=>i.a.createElement("span",{className:"OptionsCheckbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:t,onChange:n}),i.a.createElement("span",{className:"OptionosCheckbox"}," ",e)));d.propTypes={checked:s.a.bool,children:s.a.node,onToggle:s.a.func};var b=d,m=(n(1184),n(54)),y=n.n(m),v=n(30),g=n.n(v);class _ extends i.a.PureComponent{constructor(){super(...arguments),this.handleInputChange=t=>{let e=t.target,n=this.props.validator.test(e.value);e.classList[n?"remove":"add"]("is-invalid"),n&&this.props.onChange(this.props.parse(e.value))},this.handleInputBlur=()=>{let t=y.a.findDOMNode(this.refs.input);t.value=this.props.stringify(this.props.value),t.classList.remove("is-invalid")}}render(){return i.a.createElement("input",{...g.a.omit(this.props,["stringify","parse","onChange","validator","value"]),type:"text",ref:"input",defaultValue:this.props.stringify(this.props.value),onChange:this.handleInputChange,onKeyDown:this.handleInputKeyDown,onBlur:this.handleInputBlur,className:"OptionsInputField"})}componentDidUpdate(t,e){let n=this.props.stringify(this.props.value);if(this.props.stringify(t.value)!==n){let t=y.a.findDOMNode(this.refs.input);this.props.parse(t.value)!==this.props.parse(n)&&document.activeElement!==t&&(t.value=n)}}}_.propTypes={stringify:s.a.func,parse:s.a.func,onChange:s.a.func,validator:s.a.object,value:s.a.any},_.defaultProps={stringify:t=>`${t}`,parse:t=>t,onChange:()=>{}};var w=_,S=(n(1186),n(55)),x=n.n(S),k=(n(1188),n(229));const E=function(){const t=[],e=[];for(let n=0;n<=11;n++){const r=k.b(n/10),i=.075*r.y,o=k.a*r.projection*.075;t.push(`${0===n?"M":"L"}${48-o} ${i}`),e.push(`L${48+o} ${i}`)}return[...t,...e.reverse()].join(" ")}();class O extends i.a.Component{render(){let t="scratch"===this.props.type?this.renderScratch():this.renderPanel();return i.a.createElement("div",{className:x()("OptionsPlayerGraphics",{"is-active":this.props.active})},t)}renderScratch(){let t=this.props.value,e="left"===t?24:"right"===t?4:14,n="left"===t?21:"right"===t?75:null,r="left"===t?11:"right"===t?85:null,o="off"===this.props.value;return i.a.createElement("svg",{width:"96",height:"54"},i.a.createElement("g",{transform:"translate("+e+" 32)"},[0,1,2,3,4,5,6].map((t=>i.a.createElement("rect",{key:t,className:"OptionsPlayerGraphicsline",x:o&&3===t?10:10*t,y:o?3===t?10:0:3*(1-t%2),width:o&&3===t?48:8,height:o?8:16,rx:2,ry:2})))),r&&i.a.createElement("circle",{className:"OptionsPlayerGraphicsline",cx:r,cy:"42",r:"8",style:{fill:"rgba(255,255,255,0.1)"}}),n&&i.a.createElement("line",{className:"OptionsPlayerGraphicsline",x1:n,x2:n,y1:"1",y2:"53"}),i.a.createElement("line",{className:"OptionsPlayerGraphicsline",x1:"1",x2:"95",y1:"29",y2:"29"}))}renderPanel(){let t=this.props.value,e="left"===t?-35:"right"===t?35:0;return i.a.createElement("svg",{width:"96",height:"54"},"3d"===t?i.a.createElement("path",{className:"OptionsPlayerGraphicsline",d:E,style:{fill:"rgba(255,255,255,0.1)"}}):i.a.createElement("g",{transform:"translate("+e+" 0)"},i.a.createElement("path",{className:"OptionsPlayerGraphicsline",d:"M62 -2 L62 20 L65 23 L65 56\n          L31 56 L31 23 L34 20 L34 -2",style:{fill:"rgba(255,255,255,0.1)"}})))}}O.propTypes={type:s.a.string,active:s.a.bool,value:s.a.string};class A extends i.a.PureComponent{render(){return i.a.createElement("div",{className:"OptionsPlayerSelector"},this.props.options.map(((t,e)=>i.a.createElement(A.Item,{key:e,type:this.props.type,value:t.value,label:t.label,active:t.value===this.props.value,onSelect:this.props.onSelect}))))}}A.propTypes={onSelect:s.a.func,options:s.a.arrayOf(s.a.shape({label:s.a.string,value:s.a.string})),type:s.a.string,value:s.a.string};class M extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onSelect(this.props.value)}}render(){return i.a.createElement("div",{className:x()("OptionsPlayerSelectoritem",{"is-active":this.props.active}),onClick:this.handleClick},i.a.createElement(O,{type:this.props.type,value:this.props.value,active:this.props.active}),i.a.createElement("div",{className:"OptionsPlayerSelectorlabel"},this.props.label))}}M.propTypes={active:s.a.bool,onSelect:s.a.func,label:s.a.string,type:s.a.string,value:s.a.string},A.Item=M;var C=A;n(1190);class j extends i.a.PureComponent{constructor(){super(...arguments),this.handleMinusButtonClick=()=>{let t=this.parseSpeed(this.props.value),e=t-(t>.5?.5:t>.2?.3:0);this.props.onChange(this.stringifySpeed(e))},this.handlePlusButtonClick=()=>{let t=this.parseSpeed(this.props.value),e=t+(t<.5?.3:.5);this.props.onChange(this.stringifySpeed(e))},this.handleSpeedInputChange=t=>{this.props.onChange(this.stringifySpeed(t))}}parseSpeed(t){return+(+t||1).toFixed(1)}stringifySpeed(t){return t.toFixed(1)}render(){return i.a.createElement("div",{className:"OptionsSpeed"},i.a.createElement("span",{className:"OptionsSpeedminus"},i.a.createElement(p.a,{onClick:this.handleMinusButtonClick},"-")),i.a.createElement(w,{value:this.parseSpeed(this.props.value),parse:this.parseSpeed,stringify:this.stringifySpeed,validator:/^\d+(?:\.\d)?$/,onChange:this.handleSpeedInputChange}),i.a.createElement("span",{className:"OptionsSpeedplus"},i.a.createElement(p.a,{onClick:this.handlePlusButtonClick},"+")))}}j.propTypes={value:s.a.string,onChange:s.a.func};var T=j,I=n(195);const P=u()(Object(l.b)((t=>({options:t.options}))),Object(I.b)({onUpdateOptions:()=>t=>h.b(t)}))((t=>{const{label:e,isVisible:n,help:r,renderControl:o}=t,{options:s,onUpdateOptions:a}=t,c=!n||n(s),u=o(s,a);return i.a.createElement(F.Row,{label:e,hidden:!c},u,!!r&&i.a.createElement("div",{className:"OptionsPlayerhelp"},r))}));class F extends i.a.Component{render(){return i.a.createElement("div",{className:"OptionsPlayer"},i.a.createElement(P,{label:"Speed",isVisible:t=>!f.q(t),renderControl:(t,e)=>i.a.createElement(T,{value:f.E(t),onChange:t=>e(f.k(t))}),help:i.a.createElement("span",null,"You can also change the speed in-game",i.a.createElement("br",null),"using the Up and Down arrow keys.")}),i.a.createElement(P,{label:"LeadTime",isVisible:t=>f.q(t),renderControl:(t,e)=>i.a.createElement(w,{parse:t=>parseInt(t,10),stringify:t=>String(t)+"ms",validator:/^\d+(ms)?$/,value:f.y(t),onChange:t=>e(f.f(t)),style:{width:"5em"}}),help:i.a.createElement("span",null,"Speed will be automatically adjusted",i.a.createElement("br",null),"to maintain a consistent note velocity.")}),i.a.createElement(P,{label:"Scratch",renderControl:(t,e)=>i.a.createElement(C,{type:"scratch",options:[{value:"left",label:"Left"},{value:"right",label:"Right"},{value:"off",label:"Disabled"}],value:f.C(t),onSelect:t=>e(f.i(t))})}),i.a.createElement(P,{label:"Panel",renderControl:(t,e)=>i.a.createElement(C,{type:"panel",options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"3d",label:"3D [Beta]"}],onSelect:t=>e(f.g(t)),value:f.A(t)})}),i.a.createElement(P,{label:"Cover",renderControl:(t,e)=>i.a.createElement(w,{parse:t=>parseInt(t,10)/100,stringify:t=>Math.round(100*t||0)+"%",validator:/^-?\d+(%)?$/,value:f.w(t),onChange:t=>e(f.e(t)),style:{width:"5em"}})}),i.a.createElement(P,{label:"BGA",renderControl:(t,e)=>i.a.createElement(b,{checked:f.r(t),onToggle:()=>e(f.G)},"Enable background animations"," ",i.a.createElement("span",{className:"OptionsPlayerhint"},"(720p, alpha)"))}),i.a.createElement(P,{label:"AutoVel",renderControl:(t,e)=>i.a.createElement(b,{checked:f.q(t),onToggle:()=>e(f.F)},"Maintain absolute note velocity"," ",i.a.createElement("span",{className:"OptionsPlayerhint"},"(advanced)"))}),i.a.createElement(P,{label:"Gauge",renderControl:(t,e)=>i.a.createElement(b,{checked:f.t(t),onToggle:()=>e(f.I)},"Show expert gauge"," ",i.a.createElement("span",{className:"OptionsPlayerhint"},"(experimental)"))}),i.a.createElement(P,{label:"Preview",renderControl:(t,e)=>i.a.createElement(b,{checked:f.u(t),onToggle:()=>e(f.J)},"Enable music preview")}),i.a.createElement("div",{className:"OptionsPlayerbuttons"},i.a.createElement(p.a,{onClick:this.props.onClose},"Save & Exit")))}}F.propTypes={onClose:s.a.func};class R extends i.a.Component{render(){return i.a.createElement("div",{className:"OptionsPlayerrow",style:{display:this.props.hidden?"none":""}},i.a.createElement("label",null,this.props.label),i.a.createElement("div",null,this.props.children))}}R.propTypes={hidden:s.a.bool,label:s.a.node,children:s.a.node},F.Row=R;var D=F,B=(n(1192),n(216)),N=n(353),L=n(453);n(1194),n(1196);class q extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onEdit(""+this.props.n)}}render(){return i.a.createElement("div",{className:"OptionsInputKey","data-n":this.props.n},i.a.createElement("div",{className:x()("OptionsInputKeycontents",{"is-editing":this.props.isEditing}),onClick:this.handleClick},i.a.createElement("div",{className:"OptionsInputKeytext"},this.props.text)))}}q.propTypes={text:s.a.string,n:s.a.number,isEditing:s.a.bool,onEdit:s.a.func};var U=q;class z extends i.a.PureComponent{render(){let t=[];for(let e=1;e<=7;e++)t.push(i.a.createElement(U,{n:e,key:e,text:this.props.texts[e],isEditing:""+e==""+this.props.editing,onEdit:this.props.onEdit}));return i.a.createElement("div",{className:"OptionsInputKeys","data-arrangement":this.props.keyboardMode?"kb":"bm"},i.a.createElement("div",{className:"OptionsInputKeyskeys"},t))}}z.propTypes={texts:s.a.objectOf(s.a.string),editing:s.a.string,onEdit:s.a.func,keyboardMode:s.a.bool};var V=z;n(1198);class H extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onEdit("SC")}}render(){return i.a.createElement("div",{className:x()("OptionsInputScratch",{"is-editing":this.props.isEditing}),onClick:this.handleClick},i.a.createElement("svg",{viewBox:"-100 -100 200 200"},i.a.createElement("path",{d:K(),className:"OptionsInputScratchstar"})),i.a.createElement("div",{className:"OptionsInputScratchtext"},i.a.createElement("div",{className:this.renderKeyClass(0)},this.props.text[0]),i.a.createElement("div",{className:"OptionsInputScratchkeySeparator"},"or"),i.a.createElement("div",{className:this.renderKeyClass(1)},this.props.text[1])))}renderKeyClass(t){return x()("OptionsInputScratchkey",{"is-editing":this.props.editIndex===t})}}H.propTypes={text:s.a.arrayOf(s.a.string),editIndex:s.a.number,isEditing:s.a.bool,onEdit:s.a.func};var W=H;function K(){let t="";for(let e=0;e<10;e++){let n=e%2==0?40:90,r=e*Math.PI/5;t+=(0===e?"M":" L")+Math.sin(r)*n+","+Math.cos(r)*n}return t}const G=Object(N.createSelector)((t=>t.options),(t=>f.v(t))),$=Object(N.createSelector)(G,(t=>g.a.mapValues(t,L.d))),J=Object(B.a)(Object(l.b)((t=>({scratch:f.C(t.options),texts:$(t),mode:f.B(t.options),isContinuous:f.s(t.options),sensitivity:f.D(t.options)}))),Object(B.f)("editing","setEditing",null),Object(I.b)({onSetKeyCode:({mode:t,editing:e})=>n=>h.b(f.d(t,e,n)),onUpdateOptions:()=>t=>h.b(t)}),Object(B.e)({onEdit:({editing:t,setEditing:e})=>n=>{e(t===n?null:n)},onKey:({editing:t,onSetKeyCode:e,setEditing:n,scratch:r})=>i=>{t&&(e(i),n(f.z(t,r)))}}));class Y extends i.a.Component{constructor(){super(...arguments),this.handleEdit=t=>{this.props.onEdit(t)},this.handleKey=t=>{this.props.editing&&this.props.onKey(t)},this.handleKeyboardEvent=t=>{this.props.editing&&t.preventDefault()},this.handleSensitivityChange=t=>{t<0?t=0:t>=10&&(t=9),this._input.setGamepadSensitivity(t),this.props.onUpdateOptions(f.j(t))},this.handleMinusButtonClick=()=>{this.handleSensitivityChange(parseInt(this.props.sensitivity,10)-1)},this.handlePlusButtonClick=()=>{this.handleSensitivityChange(parseInt(this.props.sensitivity,10)+1)}}render(){const t=x()("OptionsInputbinding",{"is-reverse":"right"===this.props.scratch});return i.a.createElement("div",{className:"OptionsInput"},i.a.createElement("div",{className:t},"off"!==this.props.scratch?i.a.createElement("div",{className:"OptionsInputzone is-scratch"},i.a.createElement("div",{className:"OptionsInputcontrol"},i.a.createElement(W,{text:[this.props.texts.SC,this.props.texts.SC2],isEditing:"SC"===this.props.editing||"SC2"===this.props.editing,editIndex:"SC"===this.props.editing?0:"SC2"===this.props.editing?1:-1,onEdit:this.handleEdit})),i.a.createElement("div",{className:"OptionsInputtitle"},"Scratch")):null,i.a.createElement("div",{className:"OptionsInputzone"},i.a.createElement("div",{className:"OptionsInputcontrol"},i.a.createElement(V,{keyboardMode:"off"===this.props.scratch,texts:this.props.texts,editing:this.props.editing,onEdit:this.handleEdit})),i.a.createElement("div",{className:"OptionsInputtitle"},"Keys"))),i.a.createElement("div",{className:"OptionsInputgamepad"},i.a.createElement("div",{className:"OptionsInputgroup"},i.a.createElement("label",null,"Continuous Axis"),i.a.createElement(b,{checked:this.props.isContinuous,onToggle:()=>{this.props.onUpdateOptions(f.H),this._input.setGamepadContinuousAxisEnabled(!this.props.isContinuous)}})),i.a.createElement("div",{className:"OptionsInputgroup"},i.a.createElement("label",null,"Sensitivity"),i.a.createElement("div",{className:"OptionsInputsensitivity"},i.a.createElement("span",{className:"OptionsInputminus"},i.a.createElement(p.a,{onClick:this.handleMinusButtonClick},"-")),i.a.createElement(w,{parse:t=>parseInt(t,10)-1,stringify:t=>String(parseInt(t,10)+1),validator:/^[0-9]+$/,value:this.props.sensitivity,onChange:this.handleSensitivityChange}),i.a.createElement("span",{className:"OptionsInputplus"},i.a.createElement(p.a,{onClick:this.handlePlusButtonClick},"+"))))))}componentDidMount(){this._input=new L.c(window,{continuous:this.props.isContinuous}),this._dispose=Object(L.e)(this._input).debounceImmediate(16).doLog("a").onValue(this.handleKey),window.addEventListener("keydown",this.handleKeyboardEvent,!0)}componentWillUnmount(){this._dispose&&this._dispose(),this._input&&this._input.dispose(),window.removeEventListener("keydown",this.handleKeyboardEvent,!0)}}Y.propTypes={scratch:s.a.string,texts:s.a.object,editing:s.a.string,onEdit:s.a.func,onKey:s.a.func,isContinuous:s.a.bool,sensitivity:s.a.number,onUpdateOptions:s.a.func};var X=J(Y),Q=(n(1200),n(1069)),Z=n.n(Q);const tt=u()(Object(l.b)((t=>({options:t.options}))),Object(I.b)({onUpdateOptions:()=>t=>h.b(t)}),Z.a);class et extends i.a.Component{constructor(){super(...arguments),this.handleAudioInputLatencyChange=t=>{this.props.onUpdateOptions(f.c(t))},this.handleCalibrateButtonClick=()=>{window.open("?mode=sync","sync","width=640,height=360")}}stringifyLatency(t){return Math.round(t)+"ms"}parseLatency(t){return parseInt(t,10)}render(){let t=this.props.options;return i.a.createElement("div",{className:"OptionsAdvanced"},i.a.createElement(rt,{onLatency:this.handleAudioInputLatencyChange}),i.a.createElement("div",{className:"OptionsAdvancedgroup"},i.a.createElement("label",null,"Latency"),i.a.createElement("div",{className:"OptionsAdvancedgroupItem"},i.a.createElement(w,{value:f.b(t),parse:this.parseLatency,stringify:this.stringifyLatency,validator:/^\d+(?:ms)?$/,onChange:this.handleAudioInputLatencyChange}),i.a.createElement("label",null,"audio")),i.a.createElement(p.a,{onClick:this.handleCalibrateButtonClick},"Calibrate")))}}et.propTypes={options:s.a.object,onUpdateOptions:s.a.func};var nt=tt(et);class rt extends i.a.Component{constructor(){super(...arguments),this.handleMessage=t=>{t.data&&"number"==typeof t.data.latency&&this.props.onLatency(t.data.latency)}}render(){return null}componentDidMount(){window.addEventListener("message",this.handleMessage)}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}}rt.propTypes={onLatency:s.a.func};class it extends i.a.Component{render(){return i.a.createElement("div",{className:"Options"},i.a.createElement("div",{className:"Optionsa"},i.a.createElement(a.a,{title:"Player Settings"},i.a.createElement(D,{onClose:this.props.onClose}))),i.a.createElement("div",{className:"Optionsb"},i.a.createElement(a.a,{title:"Input Settings"},i.a.createElement(X,null)),i.a.createElement(a.a,{title:"Advanced Settings"},i.a.createElement(nt,null))))}}it.propTypes={onClose:s.a.func}},function(t,e,n){"use strict";n.r(e),n.d(e,"load",(function(){return j}));var r=n(783),i=n.n(r),o=n(130),s=n(103),a=n(221),c=n(680),u=n(205),l=n(30);var f=n(788),h=n(789);var p=class{constructor({game:t,samples:e,master:n}){const r=t.options.soundVolume;this._master=n,this._context=n.audioContext,this._players=new Map(t.players.map((t=>[t,new h.a({player:t,samples:e,master:n,volume:r})])))}destroy(){this._master.destroy()}unmute(){this._master.unmute()}get context(){return this._context}update(t,e){for(let[n,r]of this._players)r.update(t,e.player(n))}},d=n(231),b=n(200);var m=class{constructor(t){t.unmute(),this._context=t.context,this._offset=[],this._sum=0,this.update()}update(){let t=Object(b.a)()/1e3,e=t-this._context.currentTime;for(this._offset.push(e),this._sum+=e;this._offset.length>60;)this._sum-=this._offset.shift();this.time=t-this._sum/this._offset.length}},y=n(454),v=n(790);var g=class{constructor(t,e){this._clock=t,this._input=e,this._now=b.a.synchronized(),this._lastRecordedTimeSinceStart=0,this.startTime=null,this._pauseAtTimerValue=1/0,this._unpausedTimeSinceStart=0,this._unpausedTimerValue=0,this.readyFraction=0,this.gettingStarted=!1}get started(){return null!==this.startTime}update(){this._checkStartGame(),this.time=this._calculateTime()}_checkStartGame(){this.started||(this._input.get("start").value&&(this.gettingStarted=!0),this.gettingStarted&&!this._input.get("start").value&&(this.startTime=this._clock.time+this._getWait()),this.started||(this.readyFraction=1-this._getWait()))}_getWait(){let t=this._now()/1e3;return Math.ceil(t)-t}_calculateTime(){var t=null===this.startTime?0:this._clock.time-this.startTime;if(t<0&&(t=0),t<1)return(Math.pow(t,6)-1)/6-1/30;{const e=t-31/30;this._lastRecordedTimeSinceStart=e;const n=this._unpausedTimerValue+(e-this._unpausedTimeSinceStart);return Math.min(n,this._pauseAtTimerValue)}}pauseAt(t){this._unpausedTimerValue+(this._lastRecordedTimeSinceStart-this._unpausedTimeSinceStart)>=this._pauseAtTimerValue&&(this._unpausedTimerValue=this._pauseAtTimerValue,this._unpausedTimeSinceStart=this._lastRecordedTimeSinceStart),this._pauseAtTimerValue=t}},_=n(453);class w{constructor(){this.input=[0,0],this.last=0,this.output=0}combine(...t){for(let e=0;e<2;++e)t[e]&&this.input[e]<=0?(this.input[e]=1,this.last=e):!t[e]&&this.input[e]>0?this.input[e]=-1:this.input[e]%2!=0&&(this.input[e]+=1);return 1!==this.input[0]&&1!==this.input[1]||(this.output=0===this.last?1:-1),this.input[this.last]<=0&&(this.output=0),this.output}}var S=function(t){const e=new _.a(window,{exclusive:!0,continuous:t.players[0].options.input.continuous,sensitivity:t.players[0].options.input.sensitivity});let n=t.players[0].options.input.keyboard;const r=new w,i=Object.values(n).indexOf("gamepad.0.button.8")<0,o=Object.values(n).indexOf("gamepad.0.button.9")<0;return{name:"GameKBPlugin",get(){const t=e.update(),s={p1_1:t[n[1]||"83"],p1_2:t[n[2]||"68"],p1_3:t[n[3]||"70"],p1_4:t[n[4]||"32"],p1_5:t[n[5]||"74"],p1_6:t[n[6]||"75"],p1_7:t[n[7]||"76"],p1_SC:r.combine(t[n.SC||"65"],t[n.SC2||"16"]),p1_speedup:t[38],p1_speeddown:t[40],start:t[13]||o&&t["gamepad.0.button.9"],select:t[18]||i&&t["gamepad.0.button.8"]};return(s.start||s.select)&&((s.p1_1||s.p1_3||s.p1_5||s.p1_7)&&(s.p1_speeddown=!0),(s.p1_2||s.p1_4||s.p1_6)&&(s.p1_speedup=!0)),s},destroy(){e.dispose()}}},x=n(791),k=n(360);var E=class{constructor({game:t,display:e,audio:n}){this._audioInputLatency=t.options.audioInputLatency,this._game=t,this._display=e,this._audio=n,this._clock=new m(this._audio),this._input=new y.a,this._timer=new g(this._clock,this._input),this._state=new v.a(t),this._promise=new Promise((t=>this._resolvePromise=t)),this._display.setEscapeHandler((()=>this._quitGame())),this._display.setReplayHandler((()=>this._replayGame())),this.initializeBenchmark(),this.initializeTestModeHooks()}get game(){return this._game}get display(){return this._display}get audio(){return this._audio}get promise(){return this._promise}get state(){return this._state}get latestGameTime(){return this._latestGameTime}start(){this._handleEscape(),this._display.start(),this._input.use(new S(this._game)),this._input.use(new x.a(this._display.context));let t=!1,e=()=>{t||(this._update(),requestAnimationFrame(e))};requestAnimationFrame(e),this._endGameLoop=()=>t=!0}_handleEscape(){let t=t=>{27===t.keyCode?(t.preventDefault(),t.stopPropagation(),this._quitGame()):112===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this._replayGame())};window.addEventListener("keydown",t,!0),this._promise.finally((function(){window.removeEventListener("keydown",t,!0)})).done()}_quitGame(){this._resolvePromise({finished:!1,replay:!1})}_replayGame(){this._resolvePromise({finished:!1,replay:!0})}destroy(){this._endGameLoop(),this._audio.destroy(),this._input.destroy(),this._display.destroy()}_update(){this._clock.update(),this._input.update(),this._timer.update();let t=this._timer.time,e=this._audioInputLatency;this._latestGameTime=t,this._state.update(t-e,this._input,this._timer),this._audio.update(t,this._state),this._display.update(t-e,this._state),this._state.finished&&this._resolvePromise&&(this._resolvePromise({finished:!0}),this._resolvePromise=null)}initializeBenchmark(){d.a.enabled&&(d.a.benchmark("update",this,"_update"),d.a.benchmark("input_update",this._input,"update"),d.a.benchmark("state_update",this._state,"update"),d.a.benchmark("audio_update",this._audio,"update"),d.a.benchmark("display_update",this._display,"update"),d.a.benchmark("display_compute",this._display,"_getData"),d.a.benchmark("display_push",this._display._context._instance,"push"),d.a.benchmark("display_render",this._display._context._renderer,"render"))}initializeTestModeHooks(){k.isTestModeEnabled()&&k.setGameLifecycleHandler({pauseAt:t=>(this._timer.pauseAt(t),new Promise((e=>{const n=setInterval((()=>{this._timer.time>=t&&(clearInterval(n),e())}))}))),unpause:()=>{this._timer.pauseAt(1/0)},getScore:()=>{const t=this._state;return t.player(t.game.players[0]).stats.score}})}},O=n(792),A=n(800);var M=function(t,e){return t.file(e).then((t=>t.read())).then((t=>new Blob([t]))).then((t=>URL.createObjectURL(t))).then((t=>new Promise(((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=n,r.src=t}))))},C=n(724);function j(t){const e=t.assets,r=t.bms,h=t.songId;return function(t){let e={},n={},r=[];function i(t,n,i,a){let c=new o.a;n&&r.push({text:n,progress:c}),e[t]=function(){return Promise.all(i.map(s)).then((t=>a(...t.concat([c]))))}}function s(t){return n[t]||(n[t]=e[t]())}function a(){return r.map((t=>({text:t.text,progress:t.progress.progress,progressText:t.progress.toString()})))}i.bar=function(t,e){r.push({text:t,progress:e})};let c=t(i,s),f=new u.a(a()),h=Object(l.throttle)((function(){f.value=a()}),16);for(let t of r)t.progress.watch(h);return{tasks:f,promise:c,get:s}}((function(u,l){u("Scintillator","Loading game engine",[],(function(t){return Object(s.a)(t,Promise.all([n.e(19),n.e(11)]).then(n.bind(null,1084)))})),u("Skin","Loading skin",["Scintillator"],(function(e,n){return e.load(e.getSkinUrl({displayMode:t.displayMode}),n)})),u("SkinContext",null,["Scintillator","Skin"],(function(t,e){return new t.Context(e,{touchEventTarget:window})})),e.progress&&(e.progress.current&&u.bar("Loading package",e.progress.current),e.progress.all&&u.bar("Loading song packages",e.progress.all)),u("Notechart","Loading "+t.bms.name,[],(async e=>{let n=new i.a,o=await r.read(e);return n.load(o,t.bms,t.options.players[0])})),u("EyecatchImage",null,["Notechart"],(function(n){if(t.eyecatchImageUrl){const[n,r]=Object(C.a)(e,t.eyecatchImageUrl);return M(n,r)}return M(e,n.eyecatchImage)})),u("BackgroundImage",null,["Notechart"],(function(n){if(t.backImageUrl){const[n,r]=Object(C.a)(e,t.backImageUrl);return M(n,r)}return M(e,n.backgroundImage)}));let d=new o.a,b=new o.a;return u.bar("Loading audio",d),u.bar("Decoding audio",b),u("SamplingMaster",null,[],(async()=>new a.b)),u("Video",t.videoUrl?"Loading video":null,["Notechart"],(async function(n,r){if(!t.videoUrl)return Promise.resolve(null);let i=t.videoUrl;if(!i.includes("://")){const[t,n]=Object(C.a)(e,i),r=await t.file(n);i=await r.resolveUrl()}return new Promise(((e,n)=>{const o=document.createElement("video");if(!o.canPlayType("video/webm"))return e(null);function s(){o.buffered&&o.buffered.length&&o.duration&&r.report(o.buffered.end(0)-o.buffered.start(0),o.duration)}function a(){o.removeEventListener("progress",s,!0),o.removeEventListener("canplaythrough",c,!0),o.removeEventListener("error",u,!0),o.removeEventListener("abort",u,!0)}function c(){a();const n=o.duration||100;r.report(n,n),e({element:o,offset:t.videoOffset})}function u(){a(),console.warn("Cannot load video... Just skip it!"),e(null)}o.src=i,o.preload="auto",o.addEventListener("progress",s,!0),o.addEventListener("canplaythrough",c,!0),o.addEventListener("error",u,!0),o.addEventListener("abort",u,!0),o.load()}))})),u("Game",null,["Notechart"],(async e=>new f.a([e],t.options))),u("GameDisplay",null,["Game","SkinContext","Video"],(async(t,e,n)=>new O.a({game:t,context:e,backgroundImagePromise:l("BackgroundImage"),video:n}))),u("Samples",null,["SamplingMaster","Game"],(function(t,n){c.a.receiveSongId(h);return new A.a(e,t).loadFiles(n.samples,d,b)})),u("GameAudio",null,["Game","Samples","SamplingMaster"],(async(t,e,n)=>new p({game:t,samples:e,master:n}))),u("GameController",null,["Game","GameDisplay","GameAudio"],(async(t,e,n)=>new E({game:t,display:e,audio:n}))),l("GameController")}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return q}));n(1138);var r=n(780),i=n(29),o=n.n(i),s=n(26),a=n.n(s),c=n(218),u=n(719),l=n(720),f=n(203),h=n(390),p=n(725),d=n(1061),b=n(1062),m=n(1063),y=n(463),v=n.n(y),g=n(464),_=n.n(g),w=n(353),S=n(591);class x extends a.a.Component{constructor(){super(...arguments),this.getStats=(()=>{const t=Object(w.createSelector)((t=>t.deltas),(t=>Object(S.a)(t))),e=Object(w.createSelector)(t,(t=>v()(t))),n=Object(w.createSelector)(t,(t=>Math.sqrt(_()(t)))),r=Object(w.createStructuredSelector)({mean:e,standardDeviation:n});return()=>r(this.props)})()}render(){const t=this.getStats();return a.a.createElement("span",null,a.a.createElement("span",{style:{cursor:"help"},title:"Average and standard deviation of your keypresses."},(0===(e=t.mean)?"":e<0?"-":"+")+k(Math.abs(e)),"  ",k(t.standardDeviation),"ms"));var e}}function k(t){return(1e3*t).toFixed(1)}x.propTypes={deltas:o.a.array};n(1161);const E=({grade:t})=>a.a.createElement("div",{className:"ResultGrade"},a.a.createElement("div",{className:"ResultGradelabel"},"GRADE"),a.a.createElement("div",{className:"ResultGradegrade"},t));E.propTypes={grade:o.a.string.isRequired};var O=E,A=(n(1163),n(352)),M=(n(1165),n(54)),C=n.n(M),j=n(200);class T extends a.a.Component{constructor(){super(...arguments),this._getText=t=>this.props.formatter?this.props.formatter(t):t.toFixed(0)}render(){return a.a.createElement("span",{className:"RunningNumber"})}componentDidMount(){let t=C.a.findDOMNode(this),e=document.createTextNode("");t.appendChild(e),e.nodeValue=this._getText(0);let n=Object(j.a)(),r=setInterval((()=>{let t=Math.min(1,Math.max(0,(Object(j.a)()-n)/2e3));t=1-Math.pow(1-t,4),e.nodeValue=this._getText(this.props.value*t),1===t&&clearInterval(r)}),16)}}T.propTypes={formatter:o.a.func,value:o.a.number.isRequired};n(1167);var I=n(30),P=n.n(I),F=n(751),R=n.n(F),D=n(132),B=n(82);class N extends a.a.Component{render(){const t=this.props.deltas,e=Object(S.a)(t),n=t.filter((t=>Object(B.h)(1)<=Math.abs(t))),r=n.filter((t=>t<0)).length,i=n.filter((t=>t>0)).length,o=(t=>P()(t).map((t=>Math.floor(100*t))).countBy((t=>t)).value())(t),s=P.a.range(-20,20).map((t=>({bucket:t,count:o[t]||0}))),c=P()(s).map("count").max();return a.a.createElement("div",{className:"ResultDeltasView"},a.a.createElement(D.a,{title:"Accuracy Data"},a.a.createElement("div",{className:"ResultDeltasViewcontent"},a.a.createElement("div",{className:"ResultDeltasViewhistogram"},s.map((({bucket:t,count:e})=>{return a.a.createElement("div",{key:t,className:"ResultDeltasViewhistogramBar","data-bucket":t,style:{height:(n=e,Math.ceil(n/Math.max(c,1)*128))}});var n}))),a.a.createElement("div",{className:"ResultDeltasViewnumber is-early"},a.a.createElement("strong",null,r)," EARLY"),a.a.createElement("div",{className:"ResultDeltasViewnumber is-late"},a.a.createElement("strong",null,i)," LATE"),a.a.createElement("table",{className:"ResultDeltasViewinfo"},a.a.createElement("tbody",null,this.renderRow("Mean:",v()(e)),this.renderRow("S.D:",Math.sqrt(_()(e)),{showEarlyLate:!1}),this.renderRow("Median:",R()(e)))))))}renderRow(t,e,n={}){return a.a.createElement("tr",null,a.a.createElement("th",null,t),a.a.createElement("td",{className:"is-number"},`${(1e3*e).toFixed(1)} ms`),a.a.createElement("td",null,!1!==n.showEarlyLate?e>0?"(late)":e<0?"(early)":"":null))}}N.propTypes={deltas:o.a.array};class L extends a.a.Component{constructor(t){super(t),this.handleToggleDeltasModal=()=>{this.setState({deltasModalVisible:!this.state.deltasModalVisible})},this.handleViewDeltas=()=>{this.handleToggleDeltasModal(),f.f("ResultTable","view deltas")},this.state={deltasModalVisible:!1}}render(){let{result:t}=this.props;return a.a.createElement("div",{className:"ResultTable"},a.a.createElement("table",{className:"ResultTabletable"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(T,{value:t[1]})),a.a.createElement("th",null,"Meticulous")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(T,{value:t[2]})),a.a.createElement("th",null,"Precise")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(T,{value:t[3]})),a.a.createElement("th",null,"Good")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(T,{value:t[4]})),a.a.createElement("th",null,"Offbeat")),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(T,{value:t.missed})),a.a.createElement("th",null,"Missed")))),a.a.createElement("table",{className:"ResultTabletable"},a.a.createElement("tbody",null,a.a.createElement("tr",{title:`Total combos: ${t.totalCombo}`},a.a.createElement("td",null,a.a.createElement(T,{value:t.maxCombo})),a.a.createElement("th",null,"Max Combo")),a.a.createElement("tr",null,a.a.createElement("td",{onClick:this.handleViewDeltas,className:"is-clickable"},a.a.createElement(p.a,{featureKey:"deltas",tip:"View detailed accuracy data"},a.a.createElement(T,{formatter:this.formatAccuracy,value:t.accuracy}))),a.a.createElement("th",null,"Accurate")))),a.a.createElement("table",{className:"ResultTabletable is-total"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(T,{value:t.score})),a.a.createElement("th",null,"Total Score")))),a.a.createElement(A.a,{visible:this.state.deltasModalVisible,onBackdropClick:this.handleToggleDeltasModal},a.a.createElement(N,{deltas:t.deltas})))}formatAccuracy(t){return(100*t).toFixed(2)+"%"}}L.propTypes={result:o.a.object};class q extends a.a.Component{constructor(){super(...arguments),this.onTweet=t=>{t.preventDefault(),t.stopPropagation(),f.f("ResultScene","tweet"),window.open(this.getTweetLink(),"intent","width=550,height=420")},this.handleExit=t=>{this.props.onExit(t),f.f("ResultScene","exit")}}render(){return this.props.lr2Timegate,a.a.createElement(c.a,{className:"ResultScene"},a.a.createElement(u.a,null,"Play Result",a.a.createElement("div",{className:"ResultScenemode"},"KB"===this.props.playMode?"Keyboard":"BMS"," Mode")),a.a.createElement("div",{className:"ResultScenereport"},a.a.createElement(L,{result:this.props.result})),a.a.createElement(O,{grade:this.props.result.grade}),a.a.createElement("div",{className:"ResultSceneinformation"},a.a.createElement("div",{className:"ResultSceneinformationHeader"},a.a.createElement("div",{className:"ResultScenechart"},a.a.createElement(p.a,{tip:"Play again",featureKey:"replayGame"},a.a.createElement(b.a,{chart:this.props.chart,onChartClick:this.props.onReplay,isReplayable:!0}))),a.a.createElement(d.a,{info:this.props.chart.info})),a.a.createElement("div",{className:"ResultSceneinformationBody"},a.a.createElement(m.a,{result:this.props.result.tainted?void 0:this.props.result,chart:this.props.chart,playMode:this.props.playMode})),a.a.createElement("div",{className:"ResultSceneinformationFooter"},a.a.createElement("a",{href:this.getTweetLink(),className:"ResultScenetweet",onClick:this.onTweet},a.a.createElement("i",{className:"fa fa-twitter"})),a.a.createElement(r.a,{grow:1}),a.a.createElement(p.a,{tip:"Back to music selection",featureKey:"finishGame"},a.a.createElement("div",{className:"ResultSceneexit",onClick:this.handleExit},"Continue")))),a.a.createElement(l.a,null,a.a.createElement("span",null,a.a.createElement(x,{deltas:this.props.result.deltas})),a.a.createElement(l.a.Spacer,null),a.a.createElement("a",{onClick:this.props.onExit,href:"javascript://"},"Continue")))}getTweetLink(){let t=this.props.chart.info.title,e=this.props.chart.info.subtitles[0]||"",n=this.props.result.score,r=this.props.result.grade;if(""===e){let t=this.props.chart.info.genre.match(/\[([^\]]+)\]$/);t&&(e=t[1])}e=e.trim(),""===e||/^[[(]/.test(e)||(e=`[${e}]`),""!==e&&(e=` ${e}`);let i="https://bemuse.ninja/",o=h.c();return o&&(i=(/^http:/.test(o)?"http":"https")+"://bemuse.ninja/?server="+encodeURIComponent(o)),"https://twitter.com/intent/tweet?related=bemusegame&text="+encodeURIComponent(`Played: ${t}${e} on #Bemuse (Score:${n} [${r}])\n ${i}`)}}q.propTypes={result:o.a.shape({grade:o.a.string,score:o.a.number,deltas:o.a.array,totalNotes:o.a.number,tainted:o.a.bool}),playMode:o.a.string,lr2Timegate:o.a.array,chart:o.a.object,onReplay:o.a.func,onExit:o.a.func}},function(t,e,n){"use strict";n(1169);var r=n(132),i=n(26),o=n.n(i),s=n(29),a=n.n(s),c=n(55),u=n.n(c),l=n(216),f=n(203),h=n(356),p=n(801);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!p.g)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var d=!1;function b(){return d}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function y(t){return t.current?Object(p.d)(t.current):"<unknown>"}var v=[];function g(){var t=m(Object(i.useState)(0),2)[1];return Object(i.useCallback)((function(){t((function(t){return t+1}))}),[])}var _={};function w(t,e,n){if(void 0===e&&(e="observed"),void 0===n&&(n=_),b())return t();var r=(n.useForceUpdate||g)(),o=Object(i.useRef)(null);o.current||(o.current=new p.a("observer("+e+")",(function(){r()})));var s,a,c=function(){o.current&&!o.current.isDisposed&&(o.current.dispose(),o.current=null)};if(Object(i.useDebugValue)(o,y),function(t){Object(i.useEffect)((function(){return t}),v)}((function(){c()})),o.current.track((function(){try{s=t()}catch(t){a=t}})),a)throw c(),a;return s}function S(t){var e=t.children,n=t.render,r=e||n;return"function"!=typeof r?null:w(r)}function x(t,e,n,r,i){var o="children"===e?"render":"children",s="function"==typeof t[e],a="function"==typeof t[o];return s&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):s||a?null:new Error("Invalid prop `"+i+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}S.propTypes={children:x,render:x},S.displayName="Observer";var k=n(131);const E=Object(p.e)({loaderLog:null});async function O(t,e,{customSongLoader:n,store:r}){E.loaderLog=[...e];const i=E.loaderLog;try{const e=await n.loadSongFromResources(t,{onMessage(t){i.push(t)}});if(e&&e.charts&&e.charts.length)return E.loaderLog=null,r.dispatch({type:k.e,song:e}),e;E.loaderLog=null}catch(t){const e=`Error caught: ${t}`;throw i.push(e),t}}var A=n(686),M=n(224),C=n(103),j=n(220),T=n.n(j),I=n(676),P=n.n(I),F=n(2),R=n(125);class D{constructor(t){this._throat=T()(8),this._path=t}get gatewayName(){return"IPFS Companion extension"}async _loadLinks(){const t=this._path.match(/^\/ipfs\/([^/]+)\/?$/);if(!t)throw new Error("Only IPFS path is supported");const e=t[1],n=(await window.ipfs.object.get(e)).toJSON();if(!n.links||!n.links.length)throw new Error("Must be a folder...");return n.links}_getLinks(){return this._linksPromise||(this._linksPromise=this._loadLinks())}async file(t){const e=await this._getLinks();for(const n of e)if(n.name.toLowerCase()===t.toLowerCase())return new L(this._throat,new B(n.multihash,n.name));throw new Error("unable to find "+t)}get fileList(){return this._getLinks().then((t=>t.map((t=>t.name))))}}class B{constructor(t,e){this._multihash=t,this._name=e}read(t){return C.a(t,window.ipfs.files.cat(this._multihash).then((t=>t.buffer)))}get name(){return this._name}}class N{constructor(t,e="https://cloudflare-ipfs.com"){this._throat=T()(7),this._path=t,this._gateway=e}get gatewayName(){return`IPFS gateway "${this._gateway}"`}async _loadLinks(){const t=`${this._gateway}${this._path}`,e=(await P.a.get(t,{responseType:"text"})).data,n=[],r=this._path.replace(/\/?$/,"/");if(e.replace(/"(\/ipfs\/[^"]+)"/g,((t,e)=>{e.substr(0,r.length)===r&&n.push({Name:decodeURIComponent(e.substr(r.length))})})),!n.length)throw new Error("No files found :( Is this really an IPFS folder?");return n}_getLinks(){return this._linksPromise||(this._linksPromise=this._loadLinks())}async file(t){const e=await this._getLinks(),n=this._path.replace(/^\/|\/$/g,"").split("/");for(const r of e)if(r.Name.toLowerCase()===t.toLowerCase()){const t="/"+[...n,r.Name].map((t=>encodeURIComponent(t))).join("/");return new L(this._throat,new R.b(`${this._gateway}${t}`))}{const e="/"+[...n,t].map((t=>encodeURIComponent(t))).join("/");return new L(this._throat,new R.b(`${this._gateway}${e}`))}}get fileList(){return this._getLinks().then((t=>t.map((t=>t.Name))))}}class L{constructor(t,e){this._throat=t,this._resource=e}read(t){return this._throat((()=>this._resource.read(t)))}resolveUrl(){return this._resource.resolveUrl()}get name(){return this._resource.name}}function q(t){return Object(h.createIO)((async({store:e,customSongLoader:n})=>{const r=t.clipboardData.getData("text/plain");{const t=r.match(/https?:\/\/[a-zA-Z0-9:.-]+(?:\/\S+)?\/bemuse-song\.json/);if(t){const r=t[0],i=["Loading prepared song..."];return O(new U(new URL(r)),i,{store:e,customSongLoader:n})}}{const t=r.match(/(https?:\/\/[a-zA-Z0-9:.-]+)?(\/ipfs\/\S+)/);if(t){const r=t[1]||void 0,i=r?decodeURI(t[2]):t[2],o=function(t,e){return window.ipfs&&"1"===F.a.BEMUSE_USE_IPFS_COMPANION?new D(t):new N(t,e)}(i,r),s=["Loading from IPFS path "+i+"...",`(Using ${o.gatewayName})`];return/^http:/.test(r)&&"https:"===window.location.protocol&&s.push(e,"WARNING: Loading http URL from https. This will likely fail!"),O(o,s,{store:e,customSongLoader:n})}}}))}class U extends R.a{constructor(){super(...arguments),this.fileList=Promise.resolve(["bemuse-song.json"])}}var z=n(195),V=n(1065);const H=Object(l.a)((t=>function(e){const n=w((()=>E.loaderLog&&Array.from(E.loaderLog)));return o.a.createElement(t,{...e,log:n})}),Object(z.b)({onFileDrop:()=>t=>function(t){return Object(h.createIO)((async({store:e,customSongLoader:n})=>O(new A.a(t),["Examining dropped items..."],{store:e,customSongLoader:n})))}(t),onPaste:()=>t=>q(t),loadFromURL:()=>t=>function(t){return Object(h.createIO)((async({store:e,customSongLoader:n})=>O(new M.b({getFiles:async e=>[await Object(M.d)(t,e)]}),["Loading from "+t],{store:e,customSongLoader:n})))}(t),onFileSelect:()=>t=>{return e=t,Object(h.createIO)((async({store:t,customSongLoader:n})=>O(new M.b({getFiles:async()=>[{name:e.name,file:e}]}),["Examining selected items..."],{store:t,customSongLoader:n})));var e}}));class W extends o.a.Component{constructor(t){super(t),this.handleDragEnter=t=>{t.preventDefault()},this.handleDragOver=t=>{this.setState({hover:!0}),t.preventDefault()},this.handleDragLeave=t=>{this.setState({hover:!1}),t.preventDefault()},this.handleDrop=t=>{this.setState({hover:!1}),f.f("CustomBMS","drop"),t.preventDefault(),this.props.onFileDrop(t.nativeEvent).then((t=>{this.props.onSongLoaded&&this.props.onSongLoaded(t)}))},this.handleFileSelect=t=>{f.f("CustomBMS","select"),this.props.onFileSelect(t)},this.handlePaste=async t=>{const e=await this.props.onPaste(t);e&&this.props.onSongLoaded&&this.props.onSongLoaded(e)},this.state={hover:!1}}componentDidMount(){window.addEventListener("paste",this.handlePaste),Object(V.b)()&&this.props.loadFromURL(Object(V.a)()).then((t=>{this.props.onSongLoaded&&this.props.onSongLoaded(t)}))}componentWillUnmount(){window.removeEventListener("paste",this.handlePaste)}render(){return o.a.createElement(r.a,{className:"CustomBMS",title:"Load Custom BMS"},o.a.createElement("div",{className:"CustomBMSwrapper"},o.a.createElement("div",{className:"CustomBMSinstruction"},"Please drag and drop a BMS folder into the drop zone below."),o.a.createElement("div",{className:"CustomBMSremark"},"This feature is only supported in Google Chrome and Firefox."),o.a.createElement("div",{className:"CustomBMSremark"},"Please dont play unauthorized / illegally obtained BMS files."),o.a.createElement("div",{className:"CustomBMSremark"},"Experimental: You can paste IPFS path/URL here."),o.a.createElement("div",{className:u()("CustomBMSdropzone",{"is-hover":this.state.hover}),onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.props.log?this.props.log.length?o.a.createElement("div",{className:"CustomBMSlog"},this.props.log.map(((t,e)=>o.a.createElement("p",{key:e},t)))):o.a.createElement("div",{className:"CustomBMSlog"},o.a.createElement("p",null,"Omachi kudasai...")):o.a.createElement("div",{className:"CustomBMSdropzoneHint"},"Drop BMS folder here.",o.a.createElement("input",{type:"file",id:"CustomBMSdropzoneInput",className:"CustomBMSdropzoneInput",accept:".zip,.7z,.rar",onChange:()=>{this.handleFileSelect(document.getElementById("CustomBMSdropzoneInput").files[0])}}),o.a.createElement("label",{htmlFor:"CustomBMSdropzoneInput",className:"CustomBMSdropzoneInputLabel"},"Select File on Device.")))))}}W.propTypes={log:a.a.arrayOf(a.a.string),onFileDrop:a.a.func,onPaste:a.a.func,onSongLoaded:a.a.func,loadFromURL:a.a.func,onFileSelect:a.a.func};e.a=H(W)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(1126);var r=n(26),i=n.n(r),o=n(54),s=n.n(o),a=n(29),c=n.n(a),u=n(218),l=(n(1128),n(150));class f extends i.a.Component{render(){const t=this.props.song;return i.a.createElement("div",{className:"LoadingSceneSongInfo"},i.a.createElement("div",{className:"LoadingSceneSongInfogenre"},t.genre),i.a.createElement("div",{className:"LoadingSceneSongInfotitle"},t.title),Object(l.a)()?null:t.subtitles.map((t=>i.a.createElement("div",{key:t,className:"LoadingSceneSongInfosubtitle"},t))),i.a.createElement("div",{className:"LoadingSceneSongInfoartist"},t.artist),t.subartists.map((t=>i.a.createElement("div",{key:t,className:"LoadingSceneSongInfosubartist"},t))))}}f.propTypes={song:c.a.shape({title:c.a.string,artist:c.a.string,genre:c.a.string,subtitles:c.a.arrayOf(c.a.string),subartists:c.a.arrayOf(c.a.string),difficulty:c.a.number,level:c.a.number}).isRequired};n(1130),n(1132);class h extends i.a.Component{render(){return i.a.createElement("div",{className:"LoadingSceneProgressBar"},i.a.createElement("div",{className:"LoadingSceneProgressBarbar",style:{width:this.props.width}}))}}h.propTypes={width:c.a.oneOfType([c.a.string,c.a.number]).isRequired};class p extends i.a.Component{constructor(){super(...arguments),this.renderItem=({text:t,progressText:e,progress:n})=>{let r=Math.round(100*n||0).toString()+"%",o=e?` (${e})`:"";return i.a.createElement("div",{key:t,className:"LoadingSceneProgressitem"},i.a.createElement(h,{width:r}),t,i.a.createElement("span",{className:"LoadingSceneProgressextra"},o))}}render(){return i.a.createElement("div",{className:"LoadingSceneProgress"},this.props.tasks.value.map((t=>this.renderItem(t))))}componentDidMount(){this._unsubscribe=this.props.tasks.watch((()=>this.forceUpdate()))}componentWillUnmount(){this._unsubscribe()}}p.propTypes={tasks:c.a.object};class d extends i.a.Component{render(){return i.a.createElement(u.a,{className:"LoadingScene",ref:"scene"},i.a.createElement("div",{className:"LoadingSceneimage",ref:"eyecatch"}),i.a.createElement("div",{className:"LoadingSceneinfo"},i.a.createElement(f,{song:this.props.song})),i.a.createElement(p,{tasks:this.props.tasks}),i.a.createElement("div",{className:"LoadingSceneflash"}),i.a.createElement("div",{className:"LoadingScenecover"}))}componentDidMount(){this.props.eyecatchImagePromise&&this.props.eyecatchImagePromise.then((t=>{s.a.findDOMNode(this.refs.eyecatch).appendChild(t)})),this.props.registerTeardownCallback((()=>(s.a.findDOMNode(this.refs.scene).classList.add("is-exiting"),Promise.delay(500))))}}d.propTypes={song:c.a.shape({title:c.a.string,artist:c.a.string,genre:c.a.string,subtitles:c.a.arrayOf(c.a.string),subartists:c.a.arrayOf(c.a.string),difficulty:c.a.number,level:c.a.number}),tasks:c.a.object,eyecatchImagePromise:c.a.object,registerTeardownCallback:c.a.func}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1204),i=n(383);var o=function(t){const e=t.subscribe((t=>t()));return{dispose:()=>e.unsubscribe()}};function s({onBeginLoading:t,onLoad:e,onErrorLoading:n,fetch:s}){const a=new r.Subject,c=a.groupBy((t=>t)).flatMap((o=>o.switchMap((o=>r.Observable.concat(r.Observable.of((()=>t(o))),r.Observable.fromPromise(Object(i.c)(o,{fetch:s}).then((t=>()=>e(o,t)),(t=>()=>n(o,t)))))))));return{load:function(t){a.next(t)},dispose:o(c).dispose}}e.b=s},,,,,function(t,e,n){"use strict";n(1652);var r=n(26),i=n.n(r),o=n(218),s=n(719),a=n(720),c=n(233);class u extends i.a.Component{constructor(t){super(t),this.handleBack=()=>{c.a.pop().done()},this.state={artists:[]}}componentDidMount(){fetch("/music/artists.json").then((t=>t.json())).then((t=>this.setState({artists:t}))).catch((t=>console.error(t)))}render(){return i.a.createElement(o.a,{className:"AboutScene"},i.a.createElement(s.a,null,"About"),i.a.createElement("section",null,i.a.createElement("article",null,i.a.createElement("div",{className:"AboutScenelogo"},i.a.createElement("img",{src:"/res/logo.png",alt:"Bemuse"})),i.a.createElement("p",null,"Bemuse is a web-based rhythm game, a BMS player. The gameplay is heavily inspired and influenced by Lunatic Rave 2, beatmaniaIIDX, and O2Jam."),i.a.createElement("p",null,"Bemuse is created because current mainstream BMS players are only for Windows, and I use a Mac and Chrome OS. We think it would be a good idea to have a cross-platform BMS player. It is also created to demonstrate the power of modern web technologies."),i.a.createElement("p",null,"Bemuse is a free and open source game and is licensed under GNU Affero General Public License, version 3. The source code is available on"," ",i.a.createElement("a",{href:"https://github.com/bemusic/bemuse"},"GitHub"),"."),i.a.createElement("div",{className:"AboutScenedjbm"},i.a.createElement("img",{src:n(1057),alt:"DJ Bemuse"}))),i.a.createElement("article",null,i.a.createElement("h2",null,"Credits and Acknowledgements"),i.a.createElement("strong",null,"Development Team"),i.a.createElement("ul",{className:"AboutSceneteamList"},i.a.createElement("li",null,i.a.createElement("a",{href:"https://github.com/dtinth"},"@dtinth")," (Thai Pangsakulyanont)"),i.a.createElement("li",null,i.a.createElement("a",{href:"https://github.com/Nachanok"},"@Nachanok")," (Nachanok Suktarachan)")),i.a.createElement("strong",null,"Project Advisor"),i.a.createElement("ul",{className:"AboutSceneteamList"},i.a.createElement("li",null,i.a.createElement("a",{href:"https://github.com/jittat"},"@jittat")," (Asst.Prof.Dr. Jittat Fakcharoenphol)")),i.a.createElement("p",null,"This project is part of the"," ",i.a.createElement("em",null,"innovative software group project")," course, part of a curriculum in Software and Knowledge Engineering, Department of Computer Enginnering, Faculty of Engineering, Kasetsart University, Thailand."),i.a.createElement("p",null,"We","'","d like to thank"," ",i.a.createElement("a",{href:"http://hitkey.nekokan.dyndns.info/"},"hitkey")," for providing us with a comprehensive reference on the BMS file format and for giving us suggestions. We","'","d also like to thank the following artists for letting us use their songs in the game:"," ",this.renderArtists(),"."),i.a.createElement("p",null,i.a.createElement("strong",null,"Powered by open-source.")," Bemuse relies on many open source projects for development to make this possible."),i.a.createElement("ul",null,i.a.createElement("li",null,"We use ",i.a.createElement("a",{href:"http://www.pixijs.com/"},"Pixi.js"),", which provides a super-fast graphics engine."),i.a.createElement("li",null,"We use ",i.a.createElement("a",{href:"https://facebook.github.io/react/"},"React"),", a library for building modular and composable user interfaces. React helps us build the UI more quickly than with traditional HTML and CSS."),i.a.createElement("li",null,"We use ",i.a.createElement("a",{href:"http://webpack.github.io/"},"Webpack"),", which efficiently packages the source code modules, assets, and libraries we use into standalone web packages."),i.a.createElement("li",null,"We use ",i.a.createElement("a",{href:"https://www.typescriptlang.org/"},"TypeScript")," ","to statically check our code for type errors and compiles the code down to JavaScript."),i.a.createElement("li",null,"We use"," ",i.a.createElement("a",{href:"https://www.npmjs.com/package/node-sass"},"node-sass")," ","to be able to write our CSS more efficiently."),i.a.createElement("li",null,"We use ",i.a.createElement("a",{href:"http://gulpjs.com/"},"Gulp")," to help automate our workflow."),i.a.createElement("li",null,"And we use a lot more, which you can find on"," ",i.a.createElement("a",{href:"https://david-dm.org/bemusic/bemuse"},"david-dm"),".")),i.a.createElement("p",null,"We would also like to thank these services for letting us use them for free:"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"https://pages.github.com/"},"GitHub Pages")," provides free hosting for this project."),i.a.createElement("li",null,i.a.createElement("a",{href:"https://github.com/"},"GitHub")," hosts our source code repository."),i.a.createElement("li",null,i.a.createElement("a",{href:"https://circleci.com/"},"CircleCI")," continuously runs our automated tests and notifies us when our new code breaks existing features. CircleCI also builds and deploys new version of the game automatically for us.")))),i.a.createElement(a.a,null,i.a.createElement("a",{onClick:this.handleBack,href:"javascript://"},"Back")))}renderArtists(){return 0===this.state.artists.length?i.a.createElement("span",null,"loading..."):this.state.artists.map(((t,e)=>[e?", ":"",i.a.createElement("a",{href:t.url},t.name)]))}}e.a=u},function(t,e,n){"use strict";n(1656);var r=n(29),i=n.n(r),o=n(26),s=n.n(o),a=n(233),c=n(218),u=n(719),l=n(720),f=n(203),h=n(105),p=n(217),d=n(1658),b=n(195);const m=Object(b.b)({onSetMode:()=>(t,e)=>p.b("touch"===e&&window.innerWidth>=window.innerHeight&&"KB"===t?h.g("3d"):h.h(t))});class y extends s.a.Component{constructor(){super(...arguments),this.handleKB=()=>{this.props.onSetMode("KB",this._playDevice),a.a.display(s.a.createElement(d.a,null)).done(),f.f("ModeSelectScene","select mode","KB")},this.handleBM=()=>{this.props.onSetMode("BM"),a.a.display(s.a.createElement(d.a,null)).done(),f.f("ModeSelectScene","select mode","BM")},this.handleBack=()=>{a.a.pop().done()}}render(){return s.a.createElement(c.a,{className:"ModeSelectScene"},s.a.createElement(u.a,null,"Select Mode"),s.a.createElement("div",{className:"ModeSelectScenemain"},s.a.createElement("div",{className:"ModeSelectScenecontent",onTouchStart:()=>this.setPlayDevice("touch"),onMouseDown:()=>this.setPlayDevice("keyboard")},s.a.createElement("div",{className:"ModeSelectSceneitem",onClick:this.handleKB,"data-testid":"keyboard-mode"},this.renderKBGraphics(),s.a.createElement("h2",null,"Keyboard Mode"),s.a.createElement("p",null,"Keys are arranged like computer keyboard."," ",s.a.createElement("strong",null,"Recommended for new players.")),s.a.createElement("p",null,"This mode is similar to O2Jam.")),s.a.createElement("div",{className:"ModeSelectSceneitem",onClick:this.handleBM,"data-testid":"bms-mode"},this.renderBMGraphics(),s.a.createElement("h2",null,"BMS Mode"),s.a.createElement("p",null,"Keys are arranged like piano keyboard with a special scratch lane. ",s.a.createElement("strong",null,"For advanced BMS music gamers.")),s.a.createElement("p",null,"This mode is similar to beatmaniaIIDX and LR2.")))),s.a.createElement(l.a,null,s.a.createElement("a",{onClick:this.handleBack,href:"javascript://"},"Go Back")))}renderKBGraphics(){let t=[];for(let e=0;e<7;e++)3===e?t.push(s.a.createElement("rect",{key:e,x:16.5,y:"31",width:"63",height:"11",rx:"2",ry:"2"})):t.push(s.a.createElement("rect",{key:e,x:13*e+3.5,y:"13",width:"11",height:"11",rx:"2",ry:"2"}));return s.a.createElement("svg",{width:"96",height:"54",viewBox:"0 0 96 54",className:"ModeSelectScenegraphics"},t)}renderBMGraphics(){let t=[];for(let e=0;e<7;e++)t.push(s.a.createElement("rect",{key:e,x:6.5*e+41.5,y:e%2==0?28:12,width:"11",height:"14",rx:"2",ry:"2"}));return s.a.createElement("svg",{width:"96",height:"54",viewBox:"0 0 96 54",className:"ModeSelectScenegraphics"},s.a.createElement("circle",{cx:"21",cy:"27",r:"16"}),t)}setPlayDevice(t){console.log("Set play device to",t),this._playDevice||(this._playDevice=t)}}y.propTypes={onSetMode:i.a.func},e.a=m(y)},function(t,e,n){t.exports=n.p+"build/2efb5f12353c594bbb072de4ff9ee61d.jpg"},function(t,e,n){"use strict";function r(t){let e=t.score;return e<3e5?"F":e<35e4?"D":e<4e5?"C":e<45e4?"B":e<5e5?"A":"S"}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(1673);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){"use strict";n(1543);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(30),c=n.n(a),u=n(131),l=n(675),f=n(712),h=n(225),p=n(721),d=n(199),b=n(1058),m=n(216);const y=s.a.shape({bpm:s.a.shape({init:s.a.number,max:s.a.number,median:s.a.number,min:s.a.number}),duration:s.a.number,file:s.a.string,info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number}),keys:s.a.string,md5:s.a.string,noteCount:s.a.number});e.a=function(t){const e=Object(m.a)(Object(b.a)({user:f.a.user,onlineRecords:f.a.records}),Object(d.b)((t=>({playMode:u.w(t)}))));class n extends i.a.Component{componentDidMount(){f.a.seen(this.getLevel())}componentDidUpdate(){f.a.seen(this.getLevel())}render(){const e=this.getRecordState();return i.a.createElement(t,{record:e.value,loading:Object(h.c)(e),...c.a.omit(this.props,"onlineRecords")})}getRecordState(t){return l.c(this.props.onlineRecords,Object(p.a)(this.getLevel()))}getLevel(){return{md5:this.props.chart.md5,playMode:this.props.playMode}}}return n.propTypes={onlineRecords:s.a.any,chart:y,playMode:s.a.string},e(n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(1676),i=n.n(r),o=n(26),s=n.n(o),a=n(54),c=n.n(a),u=n(29),l=n.n(u);const f=new i.a({linkify:!0,breaks:!0,typographer:!0}),h=new i.a({html:!0,linkify:!0,typographer:!0});class p extends s.a.Component{constructor(){super(...arguments),this.renderHTML=()=>({__html:(this.props.safe?h:f).render(this.props.source)})}render(){return s.a.createElement("article",{className:"Markdown",dangerouslySetInnerHTML:this.renderHTML()})}componentDidMount(){c.a.findDOMNode(this).addEventListener("click",(t=>{t.preventDefault(),t.target.href&&window.open(t.target.href,"_blank")}))}}p.propTypes={safe:l.a.bool,source:l.a.string.isRequired}},function(t,e,n){"use strict";t.exports=n(1678)},function(t,e,n){"use strict";t.exports.encode=n(1679),t.exports.decode=n(1680),t.exports.format=n(1681),t.exports.parse=n(1682)},function(t,e){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(t,e){t.exports=/[\0-\x1F\x7F-\x9F]/},function(t,e){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(t,e,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+r+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),s=new RegExp("^(?:"+r+"|"+i+")");t.exports.HTML_TAG_RE=o,t.exports.HTML_OPEN_CLOSE_TAG_RE=s},function(t,e,n){"use strict";t.exports.tokenize=function(t,e){var n,r,i,o,s=t.pos,a=t.src.charCodeAt(s);if(e)return!1;if(126!==a)return!1;if(i=(r=t.scanDelims(t.pos,!0)).length,o=String.fromCharCode(a),i<2)return!1;for(i%2&&(t.push("text","",0).content=o,i--),n=0;n<i;n+=2)t.push("text","",0).content=o+o,t.delimiters.push({marker:a,jump:n,token:t.tokens.length-1,level:t.level,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n,r,i,o,s=[],a=t.delimiters,c=t.delimiters.length;for(e=0;e<c;e++)126===(r=a[e]).marker&&-1!==r.end&&(i=a[r.end],(o=t.tokens[r.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=t.tokens[i.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===t.tokens[i.token-1].type&&"~"===t.tokens[i.token-1].content&&s.push(i.token-1));for(;s.length;){for(n=(e=s.pop())+1;n<t.tokens.length&&"s_close"===t.tokens[n].type;)n++;e!==--n&&(o=t.tokens[n],t.tokens[n]=t.tokens[e],t.tokens[e]=o)}}},function(t,e,n){"use strict";t.exports.tokenize=function(t,e){var n,r,i=t.pos,o=t.src.charCodeAt(i);if(e)return!1;if(95!==o&&42!==o)return!1;for(r=t.scanDelims(t.pos,42===o),n=0;n<r.length;n++)t.push("text","",0).content=String.fromCharCode(o),t.delimiters.push({marker:o,jump:n,token:t.tokens.length-1,level:t.level,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n,r,i,o,s,a=t.delimiters,c=t.delimiters.length;for(e=0;e<c;e++)95!==(n=a[e]).marker&&42!==n.marker||-1!==n.end&&(r=a[n.end],s=e+1<c&&a[e+1].end===n.end-1&&a[e+1].token===n.token+1&&a[n.end-1].token===r.token-1&&a[e+1].marker===n.marker,o=String.fromCharCode(n.marker),(i=t.tokens[n.token]).type=s?"strong_open":"em_open",i.tag=s?"strong":"em",i.nesting=1,i.markup=s?o+o:o,i.content="",(i=t.tokens[r.token]).type=s?"strong_close":"em_close",i.tag=s?"strong":"em",i.nesting=-1,i.markup=s?o+o:o,i.content="",s&&(t.tokens[a[e+1].token].content="",t.tokens[a[n.end-1].token].content="",e++))}},function(t,e,n){"use strict";var r=n(1624);const i=Object(r.b)("div")`
  padding: 1em;
  > p {
    margin: 0;
    &:not(:first-child) {
      margin-top: 1em;
    }
  }
`;i.Buttons=Object(r.b)("p")`
  text-align: right;
`,e.a=i},function(t,e,n){"use strict";e.a=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},function(t,e,n){"use strict";t.exports=n(1749)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(720),c=n(1060),u=n(86),l=n.n(u),f=n(725),h=n(726),p=n.n(h),d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function b(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.assign;var m=function(t){return 0===r.Children.count(t)};function y(t,e){var n=null,r=null,i=this,o=function(){t.apply(i,r),n=null};return function(){n||(r=arguments,n=setTimeout(o,e))}}var v=!1,g=function(){};try{var _=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("testPassive",g,_),window.removeEventListener("testPassive",g,_)}catch(t){}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={x:0,y:0},e.handleWindowScroll=y((function(){e.setState({x:window.scrollX,y:window.scrollY})}),e.props.throttle),e}b(e,t),e.prototype.componentDidMount=function(){this.handleWindowScroll(),window.addEventListener("scroll",this.handleWindowScroll,!!v&&{passive:!0})},e.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleWindowScroll)},e.prototype.render=function(){var t=this.props,e=t.render,n=t.component,i=t.children;return n?Object(r.createElement)(n,this.state):e?e(this.state):i?"function"==typeof i?i(this.state):m(i)?null:r.Children.only(i):null},e.defaultProps={throttle:100}})(r.Component),Object.getOwnPropertySymbols,Object.prototype.propertyIsEnumerable;var w=Object.getPrototypeOf;w&&w(Object),Object.getOwnPropertyNames;!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={acceleration:{x:null,y:null,z:null},accelerationIncludingGravity:{x:null,y:null,z:null},rotationRate:{alpha:null,beta:null,gamma:null},interval:0},e.handleDeviceMotion=function(t){e.setState({acceleration:t.acceleration,accelerationIncludingGravity:t.accelerationIncludingGravity,rotationRate:t.rotationRate,interval:t.interval})},e}b(e,t),e.prototype.componentDidMount=function(){window.addEventListener("devicemotion",this.handleDeviceMotion,!0)},e.prototype.componentWillUnmount=function(){window.removeEventListener("devicemotion",this.handleDeviceMotion)},e.prototype.render=function(){var t=this.props,e=t.render,n=t.component,i=t.children;return n?Object(r.createElement)(n,this.state):e?e(this.state):i?"function"==typeof i?i(this.state):m(i)?null:r.Children.only(i):null}}(r.Component);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={alpha:null,beta:null,gamma:null,absolute:!1},e.handleDeviceOrientation=function(t){e.setState({beta:t.beta,alpha:t.alpha,gamma:t.gamma,absolute:t.absolute})},e}b(e,t),e.prototype.componentDidMount=function(){window.addEventListener("deviceorientation",this.handleDeviceOrientation,!0)},e.prototype.componentWillUnmount=function(){window.removeEventListener("deviceorientation",this.handleDeviceOrientation)},e.prototype.render=function(){var t=this.props,e=t.render,n=t.component,i=t.children;return n?Object(r.createElement)(n,this.state):e?e(this.state):i?"function"==typeof i?i(this.state):m(i)?null:r.Children.only(i):null}}(r.Component);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={online:navigator.onLine},e.handleOnline=function(){e.setState({online:!0,offlineAt:void 0})},e.handleOffline=function(){e.setState({online:!1,offlineAt:new Date})},e}b(e,t),e.prototype.componentDidMount=function(){"undefined"!=typeof window&&navigator&&this.setState({online:navigator.onLine}),window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline)},e.prototype.componentWillUnmount=function(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline)},e.prototype.render=function(){var t=this.props,e=t.render,n=t.component,i=t.children;return n?Object(r.createElement)(n,this.state):e?e(this.state):i?"function"==typeof i?i(this.state):m(i)?null:r.Children.only(i):null}}(r.Component);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isLoading:!0},e.requestGeo=function(){e.setState({isLoading:!0}),e.geoId=navigator.geolocation.watchPosition((function(t){return e.setState({isLoading:!1,coords:{latitude:t.coords.latitude,longitude:t.coords.longitude},error:void 0})}),(function(t){return e.setState({error:t,isLoading:!1})}))},e}b(e,t),e.prototype.componentDidMount=function(){this.requestGeo()},e.prototype.componentWillUnmount=function(){navigator.geolocation.clearWatch(this.geoId)},e.prototype.render=function(){var t=this.props,e=t.render,n=t.component,i=t.children;return n?Object(r.createElement)(n,this.state):e?e(this.state):i?"function"==typeof i?i(this.state):m(i)?null:r.Children.only(i):null}}(r.Component);n(2005);var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={width:0,height:0},e.handleWindowSize=y((function(){e.setState({width:window.innerWidth,height:window.innerHeight})}),e.props.throttle),e}return b(e,t),e.prototype.componentDidMount=function(){this.handleWindowSize(),window.addEventListener("resize",this.handleWindowSize)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowSize)},e.prototype.render=function(){var t=this.props,e=t.render,n=t.component,i=t.children;return n?Object(r.createElement)(n,this.state):e?e(this.state):i?"function"==typeof i?i(this.state):m(i)?null:r.Children.only(i):null},e.defaultProps={throttle:100},e}(r.Component);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={locale:e.preferredLocales()},e.handleLanguageChange=function(){e.setState({locale:e.preferredLocales()})},e}b(e,t),e.prototype.preferredLocales=function(){return navigator.languages&&navigator.languages.length>0?Intl.getCanonicalLocales(navigator.languages)[0]:Intl.getCanonicalLocales([navigator.language])[0]},e.prototype.componentDidMount=function(){window.addEventListener("languagechange",this.handleLanguageChange)},e.prototype.componentWillUnmount=function(){window.removeEventListener("languagechange",this.handleLanguageChange)},e.prototype.render=function(){var t=this.props,e=t.render,n=t.component,i=t.children;return n?Object(r.createElement)(n,this.state):e?e(this.state):i?"function"==typeof i?i(this.state):m(i)?null:r.Children.only(i):null}}(r.Component);var x=n(1070);function k({children:t,buttonProps:e}){return i.a.createElement("button",{className:Object(x.css)("\n        position: fixed;\n        z-index: 102;\n        top: 20px;\n        left: 20px;\n        width: 40px;\n        height: 40px;\n        border: 0;\n        padding: 0;\n        margin: 0;\n        display: block;\n        color: #e9e8e7;\n        font: inherit;\n        font-size: 24px;\n        background: rgba(0, 0, 0, 0.5);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n      "),...e},t)}k.propTypes={children:s.a.node,buttonProps:s.a.object};var E=k,O=n(1624);function A({children:t,visible:e}){return i.a.createElement("nav",{className:Object(O.a)(`\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        padding-top: 70px;\n        padding-bottom: 20px;\n        background: rgba(0, 0, 0, 0.75);\n        font-size: 18px;\n        z-index: 101;\n        display: ${e?"block":"none"};\n        ${!!e&&`animation: 0.3s ${M}`};\n\n        > a {\n          display: block;\n          padding: 4px 20px 4px 32px;\n          text-decoration: none;\n          color: #e9e8e7;\n        }\n      `)},t)}A.propTypes={children:s.a.node,visible:s.a.bool},A.Separator=Object(O.b)("hr")`
  height: 0;
  border: 0;
  border-top: 1px solid rgba(255, 255, 255, 0.3);
`;const M=O.c`
  from {
    opacity: 0;
    transform: translate(0, -50%);
  }
  to {
    opacity: 1;
    transform: translate(0, 0);
  }
`;var C=A,j=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},P=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.forEach((function(t){return t&&t.apply(void 0,n)}))}},F=function(){},R=function(t){function e(){var n,r;j(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=I(this,t.call.apply(t,[this].concat(o))),r.state={on:r.getOn({on:r.props.defaultOn})},r.getTogglerProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T({"aria-expanded":Boolean(r.getOn()),tabIndex:0},t,{onClick:P(t.onClick,r.toggle)})},r.toggleKeys=["Enter"," "],r.getInputTogglerProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.getTogglerProps(T({},t,{onKeyUp:P(t.onKeyUp,(function(t){"Enter"===t.key&&r.toggle()}))}))},r.getElementTogglerProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.getTogglerProps(T({},t,{onKeyUp:P(t.onKeyUp,(function(t){r.toggleKeys.indexOf(t.key)>-1&&r.toggle()}))}))},r.setOnState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!r.getOn(),e=r.getOn()===t?F:function(){r.props.onToggle(t,r.getTogglerStateAndHelpers())};r.setState({on:t},e)},r.setOn=r.setOnState.bind(r,!0),r.setOff=r.setOnState.bind(r,!1),r.toggle=r.setOnState.bind(r,void 0),I(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getOn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;return this.isOnControlled()?e.on:t.on},e.prototype.isOnControlled=function(){return void 0!==this.props.on},e.prototype.getTogglerStateAndHelpers=function(){return{on:this.getOn(),getTogglerProps:this.getTogglerProps,getInputTogglerProps:this.getInputTogglerProps,getElementTogglerProps:this.getElementTogglerProps,setOn:this.setOn,setOff:this.setOff,toggle:this.toggle}},e.prototype.componentWillReceiveProps=function(t){var e=t.on;e!==this.props.on&&e!==this.state.on&&this.setOnState(e)},e.prototype.render=function(){var t;return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.getTogglerStateAndHelpers())},e}(r.Component);R.defaultProps={defaultOn:!1,onToggle:F};var D=R;function B({items:t}){return i.a.createElement(S,{render:({width:e,height:n})=>e<720?i.a.createElement(q,{items:t}):i.a.createElement(L,{items:t})})}B.propTypes={items:s.a.array};const N={href:"javascript://bemuse.ninja",onClick:function(t){t.preventDefault(),window.open(l()(t.target).closest("a").get(0).href,"_blank")}};B.item=(t,e)=>({type:"item",text:t,...N,...e}),B.spacer=()=>({type:"spacer"});class L extends i.a.PureComponent{render(){return i.a.createElement(a.a,null,this.props.items.map(((t,e)=>"item"===t.type?i.a.createElement(i.a.Fragment,{key:e},this.renderItem(t)):i.a.createElement(i.a.Fragment,{key:e},this.renderSpacer()))))}renderItem(t){let e=t.text;return t.tip&&(e=t.tipFeatureKey?i.a.createElement(f.a,{tip:t.tip,featureKey:t.tipFeatureKey},e):i.a.createElement(c.a,{tip:t.tip,tipVisible:!!t.tipVisible},e)),i.a.createElement("a",{onClick:t.onClick,href:t.href},e)}renderSpacer(){return i.a.createElement(a.a.Spacer,null)}}L.propTypes={items:s.a.array.isRequired};class q extends i.a.PureComponent{render(){return i.a.createElement(D,null,(({on:t,getTogglerProps:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(C,{visible:t},this.props.items.map(((t,e)=>"item"===t.type?i.a.createElement(i.a.Fragment,{key:e},this.renderItem(t)):i.a.createElement(i.a.Fragment,{key:e},this.renderSeparator())))),i.a.createElement(E,{buttonProps:e()},i.a.createElement(p.a,{name:"bars"})))))}renderItem(t){return i.a.createElement("a",{onClick:t.onClick,href:t.href},t.text)}renderSeparator(){return i.a.createElement(C.Separator,null)}}q.propTypes={items:s.a.array.isRequired};e.a=B},function(t,e,n){"use strict";n.d(e,"c",(function(){return o.keyframes})),n.d(e,"a",(function(){return o.css}));var r=n(26),i=n.n(r),o=n(1070),s=n(29),a=n.n(s),c=n(1555),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class)|(on[A-Z].*)|((data|aria|x)-.*))$/i,l=Object(c.a)(u.test.bind(u));function f(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var h,p="__EMOTION_THEMING__",d=((h={})[p]=a.a.object,h);function b(t){this.setState({theme:t})}var m=l,y=function(t){return"theme"!==t&&"innerRef"!==t},v=function(){return!0},g=function(t,e){for(var n=2,r=arguments.length;n<r;n++){var i=arguments[n],o=void 0;for(o in i)t(o)&&(e[o]=i[o])}return e};var _=function(t,e){var n=function(r,i){var o,s,a,c;void 0!==i&&(o=i.e,s=i.label,a=i.target,c=r.__emotion_forwardProp&&i.shouldForwardProp?function(t){return r.__emotion_forwardProp(t)&&i.shouldForwardProp(t)}:i.shouldForwardProp);var u=r.__emotion_real===r,l=void 0===o&&u&&r.__emotion_base||r;return"function"!=typeof c&&(c="string"==typeof l&&l.charAt(0)===l.charAt(0).toLowerCase()?m:y),function(){var h=arguments,m=u&&void 0!==r.__emotion_styles?r.__emotion_styles.slice(0):[];if(void 0!==s&&m.push("label:"+s+";"),void 0===o)if(null==h[0]||void 0===h[0].raw)m.push.apply(m,h);else{m.push(h[0][0]);for(var y=h.length,_=1;_<y;_++)m.push(h[_],h[0][_])}else 0;var w=function(n){function r(){return n.apply(this,arguments)||this}f(r,n);var i=r.prototype;return i.componentWillMount=function(){void 0!==this.context[p]&&(this.unsubscribe=this.context[p].subscribe(b.bind(this)))},i.componentWillUnmount=function(){void 0!==this.unsubscribe&&this.context[p].unsubscribe(this.unsubscribe)},i.render=function(){var n=this.props,r=this.state;this.mergedProps=g(v,{},n,{theme:null!==r&&r.theme||n.theme||{}});var i="",s=[];return n.className&&(i+=void 0===o?t.getRegisteredStyles(s,n.className):n.className+" "),i+=void 0===o?t.css.apply(this,m.concat(s)):o,void 0!==a&&(i+=" "+a),e.createElement(l,g(c,{},n,{className:i,ref:n.innerRef}))},r}(e.Component);return w.displayName=void 0!==s?s:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",void 0!==r.defaultProps&&(w.defaultProps=r.defaultProps),w.contextTypes=d,w.__emotion_styles=m,w.__emotion_base=l,w.__emotion_real=w,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+a}}),w.withComponent=function(t,e){return n(t,void 0!==e?g(v,{},i,e):i).apply(void 0,m)},w}};return n},w=_(o,i.a);e.b=w},,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n="/sw.js";Object.defineProperty(e,"__esModule",{value:!0}),e.default={register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!navigator.serviceWorker&&navigator.serviceWorker.register(n,t)}},t.exports=e.default},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.monetize=e.defaultMonetizer=e.Monetizer=void 0;var s=function(){function t(){this._element=null,this._active=new Set,this._runtime=window}return t.prototype.monetize=function(t){var e=this,n="string"==typeof t?{content:t}:t,r=n.content,i=n.weight,o=void 0===i?1:i,s=n.priority,a={content:r,weight:o,priority:void 0===s?0:s};return this._active.add(a),this.update(),function(){e._active.delete(a),e.update()}},t.prototype.update=function(){var t,e,n=Array.from(this._active),s=Math.max.apply(Math,i([],r(n.map((function(t){return t.priority}))),!1)),a=n.filter((function(t){return t.priority===s})),c=a.reduce((function(t,e){return t+e.weight}),0),u=this._runtime.Math.random()*c,l="";try{for(var f=o(a),h=f.next();!h.done;h=f.next()){var p=h.value;if((u-=p.weight)<=0){l=p.content;break}}}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}this._setPointer(l)},t.prototype.dispose=function(){this._setPointer("")},t.prototype._setPointer=function(t){if(!t&&this._element&&(this._element.remove(),this._element=null),t&&!this._element){var e=document.createElement("meta");e.name="monetization",e.content=t,document.head.appendChild(e),this._element=e}t&&this._element&&this._element.content!==t&&(this._element.content=t)},t}();e.Monetizer=s,e.defaultMonetizer=new s,e.monetize=function(t){return e.defaultMonetizer.monetize(t)}},,,function(t,e,n){var r=n(1653);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.AboutScene {\n  background: url('+r(n(1056))+") center no-repeat;\n  background-size: cover;\n}\n.AboutScene .SceneHeading {\n  z-index: 10;\n}\n.AboutScene > section {\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 10rem 3.85rem 3em;\n  background: rgba(0, 0, 0, 0.64);\n  font-size: 17px;\n}\n@media (orientation: landscape) {\n  .AboutScene > section {\n    overflow-y: hidden;\n    right: 5vw;\n    left: 5vw;\n    padding-left: 2vw;\n    padding-right: 2vw;\n    display: flex;\n  }\n  .AboutScene > section > article {\n    overflow-x: hidden;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    width: 50%;\n    height: 100%;\n    box-sizing: border-box;\n    padding: 0 1em 0;\n  }\n}\n.AboutScene h2 {\n  font-size: 1.5em;\n  text-align: center;\n  text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3);\n}\n.AboutScene p {\n  text-align: justify;\n  text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3);\n}\n.AboutScene a {\n  color: #ffa;\n}\n.AboutScenelogo {\n  text-align: center;\n}\n.AboutScenelogo img {\n  max-width: 80%;\n}\n.AboutScenedjbm {\n  text-align: center;\n}\n.AboutScenedjbm img {\n  width: 64%;\n  max-width: 215px;\n}\n.AboutSceneteamList {\n  list-style: none;\n  padding-left: 1ex;\n  margin-top: 0;\n}",""])},function(t,e,n){var r=n(1655);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.BrowserSupportWarningScene {\n  text-align: center;\n}\n.BrowserSupportWarningSceneuserAgent {\n  color: #8b8685;\n  font-size: 0.75em;\n}',""])},function(t,e,n){var r=n(1657);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ModeSelectScene {\n  background: #415067 url('+r(n(1541))+") 50% 90% no-repeat;\n  background-size: cover;\n}\n.ModeSelectScene .SceneHeading {\n  z-index: 10;\n}\n.ModeSelectScenemain {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  padding: 8rem 10vw 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.ModeSelectScenecontent {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n}\n.ModeSelectSceneitem {\n  color: #e7e8e9;\n  text-shadow: 0 2px 8px black;\n  margin: 0 1em;\n  width: 22em;\n  text-align: center;\n  font-size: 1rem;\n  padding: 1.5em;\n  border-radius: 0.4rem;\n  background: rgba(0, 0, 0, 0.25);\n  transition: 0.1s background-color;\n  cursor: pointer;\n}\n.ModeSelectSceneitem:hover {\n  background: rgba(0, 0, 0, 0.5);\n}\n.ModeSelectSceneitem > h2 {\n  margin: 0.5em 0 0;\n}\n.ModeSelectSceneitem > p {\n  margin: 0.75em 0 0;\n}\n.ModeSelectSceneitem > p + p {\n  font-size: 0.9em;\n  opacity: 0.8;\n}\n.ModeSelectScenegraphics {\n  border: 2px solid rgba(142, 150, 160, 0.5);\n  border-radius: 1em;\n  background: rgba(65, 69, 75, 0.8);\n  width: 22em;\n  height: 12.375em;\n  box-shadow: 0 2px 8px black;\n}\n.ModeSelectScenegraphics rect,\n.ModeSelectScenegraphics circle {\n  fill: rgba(105, 112, 122, 0.8);\n  stroke: #848d99;\n  stroke-width: 0.4;\n}",""])},function(t,e,n){"use strict";(function(t){var r=n(150),i=n(1058),o=n(383),s=n(758),a=n(712),c=n(1053),u=n(233),l=n(352),f=n(218),h=n(719),p=n(55),d=n.n(p),b=n(86),m=n.n(b),y=n(29),v=n.n(y),g=n(26),_=n.n(g),w=n(54),S=n.n(w),x=n(1556),k=n(199),E=n(678),O=n.n(E),A=n(353),M=n(195),C=n(203),j=n(105),T=n(1659),I=n(1660),P=n(1065),F=n(131),R=n(1532),D=n(2e3),B=n(2001),N=(n(1739),n(1529)),L=n(1741),q=n(1743),U=n(1623),z=n(1746);const V=(()=>{const t=Object(A.createSelector)(F.s,(t=>({url:t}))),e=Object(A.createSelector)(F.s,(t=>t!==o.a));return Object(A.createStructuredSelector)({loading:F.v,error:F.t,server:t,groups:F.u,song:F.C,charts:F.r,chart:F.B,filterText:F.z,highlight:F.A,unofficial:e,playMode:F.w})})(),H=O()(Object(x.hot)(t),Object(i.a)({user:a.a&&a.a.user}),Object(k.b)((t=>({musicSelect:V(t),collectionUrl:F.s(t),musicPreviewEnabled:j.u(t.options)}))),Object(M.a)({onSelectChart:()=>(t,e)=>I.b(t,e),onSelectSong:()=>t=>I.c(t),onFilterTextChange:()=>t=>T.a(t),onLaunchGame:({musicSelect:t})=>e=>I.a(t.server,t.song,t.chart,e)}));class W extends _.a.PureComponent{constructor(t){super(t),this.handleSongSelect=(t,e)=>{e?(this.props.onSelectChart(t,e),C.f("MusicSelectScene","select","song and chart")):(this.props.onSelectSong(t),C.f("MusicSelectScene","select","song")),this.setState({inSong:!0})},this.handleMusicListTouch=()=>{this.setState({inSong:!1})},this.handleChartClick=(t,e)=>{this.props.musicSelect.chart.md5===t.md5?(C.f("MusicSelectScene","launch game"),s.c(),this.props.onLaunchGame({autoplayEnabled:e.altKey})):(C.f("MusicSelectScene","select chart"),this.props.onSelectChart(this.props.musicSelect.song,t))},this.handleFilter=t=>{this.props.onFilterTextChange(t.target.value)},this.handleOptionsOpen=()=>{C.f("MusicSelectScene","open options"),this.setState({optionsVisible:!0})},this.handleOptionsClose=()=>{this.setState({optionsVisible:!1})},this.handleCustomBMSOpen=()=>{this.setState({customBMSVisible:!0}),C.f("MusicSelectScene","open custom BMS")},this.handleCustomBMSClose=()=>{this.setState({customBMSVisible:!1})},this.handleCustomSong=t=>{this.setState({customBMSVisible:!1})},this.handleUnofficialClick=()=>{this.setState({unofficialDisclaimerVisible:!0}),C.f("MusicSelectScene","view unofficial disclaimer")},this.handleUnofficialClose=()=>{this.setState({unofficialDisclaimerVisible:!1})},this.handleLogout=()=>{confirm("Do you really want to log out?")&&(Promise.resolve(a.a.logOut()).done(),C.f("MusicSelectScene","logout"))},this.handleAuthenticate=()=>{this.setState({authenticationPopupVisible:!0}),C.f("MusicSelectScene","authenticate")},this.handleAuthenticationClose=()=>{this.setState({authenticationPopupVisible:!1})},this.handleAuthenticationFinish=()=>{this.setState({authenticationPopupVisible:!1})},this.state={optionsVisible:Object(r.f)(),customBMSVisible:Object(P.b)(),unofficialDisclaimerVisible:!1,inSong:!1,authenticationPopupVisible:!1}}render(){let t=this.props.musicSelect;return _.a.createElement(f.a,{className:"MusicSelectScene",onDragEnter:this.handleCustomBMSOpen},_.a.createElement(h.a,null,"Select Music",_.a.createElement("input",{type:"text",placeholder:"Filter",className:"MusicSelectScenesearch",onChange:this.handleFilter,value:t.filterText})),this.renderUnofficialDisclaimer(),this.renderMain(),_.a.createElement(U.a,{items:this.getToolbarItems()}),_.a.createElement(l.a,{visible:this.state.optionsVisible,onBackdropClick:this.handleOptionsClose},_.a.createElement(N.a,{onClose:this.handleOptionsClose})),_.a.createElement(l.a,{visible:this.state.customBMSVisible,onBackdropClick:this.handleCustomBMSClose},_.a.createElement("div",{className:"MusicSelectScenecustomBms"},_.a.createElement(R.a,{onSongLoaded:this.handleCustomSong}))),_.a.createElement(l.a,{visible:this.state.unofficialDisclaimerVisible,onBackdropClick:this.handleUnofficialClose},_.a.createElement(z.a,{onClose:this.handleUnofficialClose})),_.a.createElement(c.a,{visible:this.state.authenticationPopupVisible,onFinish:this.handleAuthenticationFinish,onBackdropClick:this.handleAuthenticationClose}),_.a.createElement(L.a,null),!!this.props.musicPreviewEnabled&&_.a.createElement(q.a,{song:this.props.musicSelect.song,serverUrl:this.props.collectionUrl}))}renderUnofficialDisclaimer(){return this.props.musicSelect.unofficial?_.a.createElement("div",{className:"MusicSelectSceneunofficialLabel",onClick:this.handleUnofficialClick},_.a.createElement("b",null,"Disclaimer:")," Unofficial Server"):null}renderMain(){const t=this.props.musicSelect;return t.loading?_.a.createElement("div",{className:"MusicSelectSceneloading"},"Loading"):t.error?_.a.createElement("div",{className:"MusicSelectSceneloading"},"Cannot load collection!"):0===t.groups.length?_.a.createElement("div",{className:"MusicSelectSceneloading"},"No songs found!"):_.a.createElement("div",{className:d()("MusicSelectScenemain",{"is-in-song":this.state.inSong})},_.a.createElement(B.a,{groups:t.groups,highlight:t.highlight,selectedSong:t.song,selectedChart:t.chart,playMode:t.playMode,onSelect:this.handleSongSelect,onTouch:this.handleMusicListTouch}),_.a.createElement(D.a,{song:t.song,chart:t.chart,charts:t.charts,playMode:t.playMode,onChartClick:this.handleChartClick,onOptions:this.handleOptionsOpen}))}getToolbarItems(){return[U.a.item("Exit",{onClick:this.popScene}),U.a.item("Play Custom BMS",{onClick:this.handleCustomBMSOpen}),U.a.spacer(),...this.getOnlineToolbarButtons(),U.a.item("Options",{onClick:this.handleOptionsOpen})]}getOnlineToolbarButtons(){return a.a?this.props.user?[U.a.item(_.a.createElement("span",null,"Log Out (",this.props.user.username,")"),{onClick:this.handleLogout})]:[U.a.item("Log In / Create an Account",{onClick:this.handleAuthenticate})]:[]}componentDidMount(){this.ensureSelectedSongInView()}ensureSelectedSongInView(){const t=m()(S.a.findDOMNode(this)).find(".js-active-song")[0];if(!t)return;const e=m()(t).closest(".js-scrollable-view")[0];if(!e)return;const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();(r.bottom>n.bottom||r.top<n.top)&&(e.scrollTop+=r.top+r.height/2-(n.top+n.height/2))}popScene(){u.a.pop().done()}}W.propTypes={musicSelect:v.a.object,user:v.a.object,onSelectChart:v.a.func,onSelectSong:v.a.func,onFilterTextChange:v.a.func,onLaunchGame:v.a.func,collectionUrl:v.a.string,musicPreviewEnabled:v.a.bool},e.a=H(W)}).call(this,n(462)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(356),i=n(131);let o;function s(t){return Object(r.createIO)((({store:e})=>{e.dispatch({type:i.i,text:t}),o&&clearTimeout(o),o=setTimeout((()=>{e.dispatch({type:i.g})}),138)}))}},function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var r=n(356),i=n(1661),o=n(105),s=n(217),a=n(131),c=n(674);function u(t){return Object(r.createIO)((({store:e})=>{e.dispatch({type:a.j,songId:t.id})}))}function l(t,e){return Object(r.createIO)((({store:n})=>{n.dispatch({type:a.f,songId:t.id,chartId:e.file,chartLevel:Object(c.a)(e)})}))}function f(t,e,n,{autoplayEnabled:c}){return Object(r.createIO)((({store:r},u)=>{Promise.resolve(i.a({server:t,song:e,chart:n,options:r.getState().options,saveSpeed:t=>{u(s.b(o.k(t)))},saveLeadTime:t=>{u(s.b(o.f(t)))},onRagequitted:()=>{r.dispatch({type:a.l})},autoplayEnabled:c})).done()}))}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x}));var r=n(782),i=n(150),o=n(1125),s=n(82),a=n(1533),c=n(1542),u=n(221),l=n(233),f=n(2),h=n(61),p=n.n(h),d=n(26),b=n.n(d),m=n(203),y=n(105),v=n(1134),g=n(1135),_=n(1531),w=n(390);const S=t.forModule("game-launcher");async function x(t){const e=new O;let s="launching the game";try{await async function({server:t,song:e,chart:s,options:c,saveSpeed:l,saveLeadTime:h,onRagequitted:d,autoplayEnabled:g},_,x){Object(u.c)(),p()(c,"Options must be passed!");let O={};O.songId=e.id;const{baseResources:A,assetResources:M}=Object(r.a)(e,t.url);O.assets=M,O.bms=await A.file(s.file),e.eyecatch_image_url&&(O.eyecatchImageUrl=e.eyecatch_image_url);e.back_image_url&&(O.backImageUrl=e.back_image_url);const C=+f.a.latency||+c["system.offset.audio-input"]/1e3||0,j=function(t){const e=function(t){if("string"!=typeof t.replaygain)return null;if(!/^\S+\s+dB$/.test(t.replaygain))return null;const e=parseFloat(t.replaygain);return isNaN(e)?null:e}(t);return Math.pow(10,((null==e?-12.2:e)+4)/20)*Object(w.e)()}(e),T=y.C(c),I=y.v(c),P=Object(v.a)({enabled:y.q(c),initialSpeed:+c["player.P1.speed"]||1,laneCover:y.w(c),desiredLeadTime:y.y(c),songBPM:s.bpm.median});O.options={audioInputLatency:C,soundVolume:j,tutorial:!!e.tutorial,players:[{autoplayEnabled:g,speed:P.getInitialSpeed(),placement:c["player.P1.panel"],scratch:T,laneCover:y.w(c),gauge:y.l(c),input:{keyboard:I,continuous:y.s(c),sensitivity:y.D(c)}}]},"3d"===c["player.P1.panel"]&&(O.displayMode="touch3d");y.r(c)&&(O.videoUrl=await async function(t,e){if(t.video_url)return t.video_url;if(t.video_file){const n=async t=>{try{const n=await e.file(t);if(n.resolveUrl)return await n.resolveUrl()}catch(e){console.warn(`[game-launcher] findVideoUrl: Cannot load video file "${t}":`,e)}},r=/\.\w+$/,i=(t,e)=>t.replace(r,e),o=[];/\.webm$/i.test(t.video_file)?(o.push(t.video_file),o.push(i(t.video_file,".mp4"))):r.test(t.video_file)&&(o.push(i(t.video_file,".mp4")),o.push(i(t.video_file,".webm")));for(const t of o){const e=await n(t);if(e)return e}}}(e,O.assets),O.videoOffset=+(e.video_offset||0));let F=!1;do{const t=Date.now();x("loading the game"),S.info(`Loading game: ${E(s)}`);let r=n(1530).load(O),{tasks:u,promise:f}=r,p=b.a.createElement(a.a,{tasks:u,song:s.info,eyecatchImagePromise:r.get("EyecatchImage")});if(await _.showScene(p),F=!1,Object(i.a)())return;const y=T?"BM":"KB";m.d(e,s,y,c);let v=await f;x("running the game"),await _.showScene(Object(o.a)(v.display)),v.start();const g=Date.now();m.e(g-t);const w=()=>{m.c(e,s,M)};window.addEventListener("beforeunload",w,!1);const A=await v.promise;x("handling game results");const M=v.state,C=v.game,[j]=C.players,I=M.player(M.game.players[0]),R=I.speed;if(P.handleGameFinish(R,{saveSpeed:l,saveLeadTime:h}),O.options.players[0].speed=R,window.removeEventListener("beforeunload",w,!1),M.finished){x("showing game results"),m.b(e,s,M,y);F=(await k(j,I,s,_)).replay}else x("exiting the game"),m.a(e,s,M),F=A.replay,F||e.tutorial&&v.latestGameTime>96&&d();v.destroy()}while(F)}(t,e,(t=>s=t))}catch(t){await new Promise(((n,r)=>{e.showScene(g.a.getScene({preamble:`Bemuse has encountered a problem while ${s}`,error:t,onContinue:n})).catch(r)}))}finally{await e.end()}}function k(t,e,n,r){return new Promise(((i,o)=>{let a=e.stats,u="off"===e.player.options.scratch?"KB":"BM",l={result:{1:a.counts[1],2:a.counts[2],3:a.counts[3],4:a.counts[4],missed:a.counts[s.b],score:a.score,maxCombo:a.maxCombo,accuracy:a.accuracy,totalCombo:a.totalCombo,totalNotes:a.totalNotes,log:a.log,deltas:a.deltas,tainted:e.tainted,grade:e.tainted?"AUTOPLAY":Object(c.a)(a)},chart:n,playMode:u,lr2Timegate:t.notechart.expertJudgmentWindow,onExit:()=>i({replay:!1}),onReplay:()=>i({replay:!0})};r.showScene(b.a.createElement(_.a,l)).catch(o)}))}function E(t){const{info:e}=t;return`[${e.genre}] ${e.title}  ${e.artist}`}class O{constructor(){this.shown=!1}async showScene(t){this.shown?await l.a.display(t):(await l.a.push(t),this.shown=!0)}async end(){this.shown&&(await l.a.pop(),this.shown=!1)}}}).call(this,n(382))},,,,,,function(t,e,n){var r=n(1668);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".MusicInfo {\n  background: rgba(255, 255, 255, 0.8);\n  color: black;\n}\n.MusicInfo .MusicChartInfo {\n  margin: 0 2vw;\n}\n.MusicInfo .MusicChartSelector {\n  margin: 1em 2vw;\n}",""])},function(t,e,n){var r=n(1670);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".MusicChartSelector {\n  list-style: none;\n  padding: 0;\n}\n.MusicChartSelector .MusicChartSelectorItem {\n  display: inline-block;\n  width: 4.5rem;\n  box-sizing: border-box;\n  margin: 0.25rem 0.5rem 0.25rem 0;\n}\n.MusicChartSelector .MusicChartSelectorItem.is-tutorial {\n  display: block;\n  width: auto;\n  margin-right: 0;\n}",""])},function(t,e,n){var r=n(1672);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicInfoTabstabs {\n  margin: 0;\n  padding: 0 2vw;\n  list-style: none;\n}\n.MusicInfoTabsoptions {\n  float: right;\n  line-height: 2em;\n  cursor: pointer;\n  color: #666;\n}\n.MusicInfoTabstab {\n  display: inline-block;\n  padding: 0 0.5em;\n  line-height: 2em;\n  background: rgba(170, 170, 170, 0.3);\n  margin-right: 0.3em;\n  cursor: pointer;\n}\n.MusicInfoTabstab:first-child {\n  margin-left: -0.5em;\n}\n.MusicInfoTabstab.is-active {\n  background: rgba(255, 255, 255, 0.6);\n  font-weight: bold;\n  cursor: default;\n}\n.MusicInfoTabspanel {\n  background: rgba(255, 255, 255, 0.6);\n  padding: 0.8em 2vw;\n}\n.MusicInfoTabspanel.is-without-padding {\n  padding: 0;\n}',""])},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicInfoTabStats {\n  overflow: hidden;\n}\n.MusicInfoTabStatsmessage {\n  text-align: center;\n}\n.MusicInfoTabStatscolumn {\n  width: 45%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n.MusicInfoTabStatscolumn.is-left {\n  float: left;\n}\n.MusicInfoTabStatscolumn.is-right {\n  float: right;\n}\n.MusicInfoTabStatscolumn > dt {\n  float: left;\n  clear: left;\n  font-size: 1em;\n  line-height: 1;\n  padding: 1em 0 0.5em;\n}\n.MusicInfoTabStatscolumn > dd {\n  float: right;\n  text-align: right;\n  font-size: 1.5em;\n  line-height: 1;\n  padding: 0.45em 0 0;\n}\n.MusicInfoTabStatscolumn > dd small {\n  font-size: 0.5em;\n  font-weight: 600;\n}',""])},function(t,e,n){var r=n(1675);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicInfoTabInformation {\n  overflow: hidden;\n}\n.MusicInfoTabInformationbuttons {\n  margin: 0;\n  float: right;\n}\n.MusicInfoTabInformationbuttons > a {\n  display: inline-block;\n  padding: 0 0.5em;\n  line-height: 2em;\n  color: #555;\n  text-decoration: none;\n  background: rgba(170, 170, 170, 0.3);\n  border: 1px solid rgba(170, 170, 170, 0);\n  transition: 0.3s color, 0.3s background-color, 0.3s border-color;\n  margin-left: 0.3em;\n}\n.MusicInfoTabInformationbuttons > a:hover {\n  background: #fff;\n  color: #039;\n  border-color: rgba(170, 170, 170, 0.5);\n}\n.MusicInfoTabInformationartist {\n  margin: 0;\n  display: inline-block;\n  padding-top: 0.2em;\n}\n.MusicInfoTabInformationartist span {\n  color: #666;\n  font-size: 0.8em;\n  text-transform: uppercase;\n  margin-right: 0.5ex;\n}\n.MusicInfoTabInformationartist > strong {\n  font-size: 1.3em;\n}\n.MusicInfoTabInformation .YouTube {\n  margin-top: 1ex;\n}\n.MusicInfoTabInformationreadme {\n  clear: both;\n  font-size: 0.9em;\n  overflow-x: auto;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n}\n.MusicInfoTabInformationreadme pre {\n  white-space: pre-wrap;\n}',""])},function(t,e,n){"use strict";t.exports=n(1677)},function(t,e,n){"use strict";var r=n(71),i=n(1685),o=n(1686),s=n(1687),a=n(1695),c=n(1709),u=n(1722),l=n(1547),f=n(398),h={default:n(1724),zero:n(1725),commonmark:n(1726)},p=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function b(t){var e=t.trim().toLowerCase();return!p.test(e)||!!d.test(e)}var m=["http:","https:","mailto:"];function y(t){var e=l.parse(t,!0);if(e.hostname&&(!e.protocol||m.indexOf(e.protocol)>=0))try{e.hostname=f.toASCII(e.hostname)}catch(t){}return l.encode(l.format(e))}function v(t){var e=l.parse(t,!0);if(e.hostname&&(!e.protocol||m.indexOf(e.protocol)>=0))try{e.hostname=f.toUnicode(e.hostname)}catch(t){}return l.decode(l.format(e))}function g(t,e){if(!(this instanceof g))return new g(t,e);e||r.isString(t)||(e=t||{},t="default"),this.inline=new c,this.block=new a,this.core=new s,this.renderer=new o,this.linkify=new u,this.validateLink=b,this.normalizeLink=y,this.normalizeLinkText=v,this.utils=r,this.helpers=i,this.options={},this.configure(t),e&&this.set(e)}g.prototype.set=function(t){return r.assign(this.options,t),this},g.prototype.configure=function(t){var e,n=this;if(r.isString(t)&&!(t=h[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&n.set(t.options),t.components&&Object.keys(t.components).forEach((function(e){t.components[e].rules&&n[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&n[e].ruler2.enableOnly(t.components[e].rules2)})),this},g.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},g.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},g.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},g.prototype.parse=function(t,e){var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},g.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},g.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},g.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},t.exports=g},function(t,e){t.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(t,e,n){"use strict";var r={};function i(t,e,n){var o,s,a,c,u,l="";for("string"!=typeof e&&(n=e,e=i.defaultChars),void 0===n&&(n=!0),u=function(t){var e,n,i=r[t];if(i)return i;for(i=r[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)i[t.charCodeAt(e)]=t[e];return i}(e),o=0,s=t.length;o<s;o++)if(a=t.charCodeAt(o),n&&37===a&&o+2<s&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))l+=t.slice(o,o+3),o+=2;else if(a<128)l+=u[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s&&(c=t.charCodeAt(o+1))>=56320&&c<=57343){l+=encodeURIComponent(t[o]+t[o+1]),o++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(t[o]);return l}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",t.exports=i},function(t,e,n){"use strict";var r={};function i(t,e){var n;return"string"!=typeof e&&(e=i.defaultChars),n=function(t){var e,n,i=r[t];if(i)return i;for(i=r[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),i.push(n);for(e=0;e<t.length;e++)i[n=t.charCodeAt(e)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}(e),t.replace(/(%[a-f0-9]{2})+/gi,(function(t){var e,r,i,o,s,a,c,u="";for(e=0,r=t.length;e<r;e+=3)(i=parseInt(t.slice(e+1,e+3),16))<128?u+=n[i]:192==(224&i)&&e+3<r&&128==(192&(o=parseInt(t.slice(e+4,e+6),16)))?(u+=(c=i<<6&1984|63&o)<128?"":String.fromCharCode(c),e+=3):224==(240&i)&&e+6<r&&(o=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),128==(192&o)&&128==(192&s))?(u+=(c=i<<12&61440|o<<6&4032|63&s)<2048||c>=55296&&c<=57343?"":String.fromCharCode(c),e+=6):240==(248&i)&&e+9<r&&(o=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),a=parseInt(t.slice(e+10,e+12),16),128==(192&o)&&128==(192&s)&&128==(192&a))?((c=i<<18&1835008|o<<12&258048|s<<6&4032|63&a)<65536||c>1114111?u+="":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),e+=9):u+="";return u}))}i.defaultChars=";/?:@&=+$,#",i.componentChars="",t.exports=i},function(t,e,n){"use strict";t.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||""}},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var i=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(a),u=["%","/","?",";","#"].concat(c),l=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(t,e){var n,r,o,a,c,b=t;if(b=b.trim(),!e&&1===t.split("#").length){var m=s.exec(b);if(m)return this.pathname=m[1],m[2]&&(this.search=m[2]),this}var y=i.exec(b);if(y&&(o=(y=y[0]).toLowerCase(),this.protocol=y,b=b.substr(y.length)),(e||y||b.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(c="//"===b.substr(0,2))||y&&p[y]||(b=b.substr(2),this.slashes=!0)),!p[y]&&(c||y&&!d[y])){var v,g,_=-1;for(n=0;n<l.length;n++)-1!==(a=b.indexOf(l[n]))&&(-1===_||a<_)&&(_=a);for(-1!==(g=-1===_?b.lastIndexOf("@"):b.lastIndexOf("@",_))&&(v=b.slice(0,g),b=b.slice(g+1),this.auth=v),_=-1,n=0;n<u.length;n++)-1!==(a=b.indexOf(u[n]))&&(-1===_||a<_)&&(_=a);-1===_&&(_=b.length),":"===b[_-1]&&_--;var w=b.slice(0,_);b=b.slice(_),this.parseHost(w),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S){var x=this.hostname.split(/\./);for(n=0,r=x.length;n<r;n++){var k=x[n];if(k&&!k.match(f)){for(var E="",O=0,A=k.length;O<A;O++)k.charCodeAt(O)>127?E+="x":E+=k[O];if(!E.match(f)){var M=x.slice(0,n),C=x.slice(n+1),j=k.match(h);j&&(M.push(j[1]),C.unshift(j[2])),C.length&&(b=C.join(".")+b),this.hostname=M.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var T=b.indexOf("#");-1!==T&&(this.hash=b.substr(T),b=b.slice(0,T));var I=b.indexOf("?");return-1!==I&&(this.search=b.substr(I),b=b.slice(0,I)),b&&(this.pathname=b),d[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(t){var e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},t.exports=function(t,e){if(t&&t instanceof r)return t;var n=new r;return n.parse(t,e),n}},function(t,e,n){"use strict";e.Any=n(1548),e.Cc=n(1549),e.Cf=n(1684),e.P=n(1171),e.Z=n(1550)},function(t,e){t.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(t,e,n){"use strict";e.parseLinkLabel=n(1172),e.parseLinkDestination=n(1066),e.parseLinkTitle=n(1067)},function(t,e,n){"use strict";var r=n(71).assign,i=n(71).unescapeAll,o=n(71).escapeHtml,s={};function a(){this.rules=r({},s)}s.code_inline=function(t,e,n,r,i){var s=t[e],a=i.renderAttrs(s);return"<code"+(a?" "+a:"")+">"+o(t[e].content)+"</code>"},s.code_block=function(t,e,n,r,i){var s=t[e],a=i.renderAttrs(s);return"<pre"+(a?" "+a:"")+"><code>"+o(t[e].content)+"</code></pre>\n"},s.fence=function(t,e,n,r,s){var a,c,u,l,f=t[e],h=f.info?i(f.info).trim():"",p="";return h&&(p=h.split(/\s+/g)[0]),0===(a=n.highlight&&n.highlight(f.content,p)||o(f.content)).indexOf("<pre")?a+"\n":h?(c=f.attrIndex("class"),u=f.attrs?f.attrs.slice():[],c<0?u.push(["class",n.langPrefix+p]):u[c]+=" "+n.langPrefix+p,l={attrs:u},"<pre><code"+s.renderAttrs(l)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(f)+">"+a+"</code></pre>\n"},s.image=function(t,e,n,r,i){var o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(t,e,n)},s.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(t,e){return o(t[e].content)},s.html_block=function(t,e){return t[e].content},s.html_inline=function(t,e){return t[e].content},a.prototype.renderAttrs=function(t){var e,n,r;if(!t.attrs)return"";for(r="",e=0,n=t.attrs.length;e<n;e++)r+=" "+o(t.attrs[e][0])+'="'+o(t.attrs[e][1])+'"';return r},a.prototype.renderToken=function(t,e,n){var r,i="",o=!1,s=t[e];return s.hidden?"":(s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /"),s.block&&(o=!0,1===s.nesting&&e+1<t.length&&("inline"===(r=t[e+1]).type||r.hidden||-1===r.nesting&&r.tag===s.tag)&&(o=!1)),i+=o?">\n":">")},a.prototype.renderInline=function(t,e,n){for(var r,i="",o=this.rules,s=0,a=t.length;s<a;s++)void 0!==o[r=t[s].type]?i+=o[r](t,s,e,n,this):i+=this.renderToken(t,s,e);return i},a.prototype.renderInlineAsText=function(t,e,n){for(var r="",i=0,o=t.length;i<o;i++)"text"===t[i].type?r+=t[i].content:"image"===t[i].type&&(r+=this.renderInlineAsText(t[i].children,e,n));return r},a.prototype.render=function(t,e,n){var r,i,o,s="",a=this.rules;for(r=0,i=t.length;r<i;r++)"inline"===(o=t[r].type)?s+=this.renderInline(t[r].children,e,n):void 0!==a[o]?s+=a[t[r].type](t,r,e,n,this):s+=this.renderToken(t,r,e,n);return s},t.exports=a},function(t,e,n){"use strict";var r=n(1173),i=[["normalize",n(1688)],["block",n(1689)],["inline",n(1690)],["linkify",n(1691)],["replacements",n(1692)],["smartquotes",n(1693)]];function o(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1])}o.prototype.process=function(t){var e,n,r;for(e=0,n=(r=this.ruler.getRules("")).length;e<n;e++)r[e](t)},o.prototype.State=n(1694),t.exports=o},function(t,e,n){"use strict";var r=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,i=/\u0000/g;t.exports=function(t){var e;e=(e=t.src.replace(r,"\n")).replace(i,""),t.src=e}},function(t,e,n){"use strict";t.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=t.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(e=i[n]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},function(t,e,n){"use strict";var r=n(71).arrayReplaceAt;function i(t){return/^<\/a\s*>/i.test(t)}t.exports=function(t){var e,n,o,s,a,c,u,l,f,h,p,d,b,m,y,v,g,_,w=t.tokens;if(t.md.options.linkify)for(n=0,o=w.length;n<o;n++)if("inline"===w[n].type&&t.md.linkify.pretest(w[n].content))for(b=0,e=(s=w[n].children).length-1;e>=0;e--)if("link_close"!==(c=s[e]).type){if("html_inline"===c.type&&(_=c.content,/^<a[>\s]/i.test(_)&&b>0&&b--,i(c.content)&&b++),!(b>0)&&"text"===c.type&&t.md.linkify.test(c.content)){for(f=c.content,g=t.md.linkify.match(f),u=[],d=c.level,p=0,l=0;l<g.length;l++)m=g[l].url,y=t.md.normalizeLink(m),t.md.validateLink(y)&&(v=g[l].text,v=g[l].schema?"mailto:"!==g[l].schema||/^mailto:/i.test(v)?t.md.normalizeLinkText(v):t.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),(h=g[l].index)>p&&((a=new t.Token("text","",0)).content=f.slice(p,h),a.level=d,u.push(a)),(a=new t.Token("link_open","a",1)).attrs=[["href",y]],a.level=d++,a.markup="linkify",a.info="auto",u.push(a),(a=new t.Token("text","",0)).content=v,a.level=d,u.push(a),(a=new t.Token("link_close","a",-1)).level=--d,a.markup="linkify",a.info="auto",u.push(a),p=g[l].lastIndex);p<f.length&&((a=new t.Token("text","",0)).content=f.slice(p),a.level=d,u.push(a)),w[n].children=s=r(s,e,u)}}else for(e--;s[e].level!==c.level&&"link_open"!==s[e].type;)e--}},function(t,e,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,s={c:"",r:"",p:"",tm:""};function a(t,e){return s[e.toLowerCase()]}function c(t){var e,n;for(e=t.length-1;e>=0;e--)"text"===(n=t[e]).type&&(n.content=n.content.replace(o,a))}function u(t){var e,n;for(e=t.length-1;e>=0;e--)"text"===(n=t[e]).type&&r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2"))}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(i.test(t.tokens[e].content)&&c(t.tokens[e].children),r.test(t.tokens[e].content)&&u(t.tokens[e].children))}},function(t,e,n){"use strict";var r=n(71).isWhiteSpace,i=n(71).isPunctChar,o=n(71).isMdAsciiPunct,s=/['"]/,a=/['"]/g;function c(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}function u(t,e){var n,s,u,l,f,h,p,d,b,m,y,v,g,_,w,S,x,k,E,O,A;for(E=[],n=0;n<t.length;n++){for(s=t[n],p=t[n].level,x=E.length-1;x>=0&&!(E[x].level<=p);x--);if(E.length=x+1,"text"===s.type){f=0,h=(u=s.content).length;t:for(;f<h&&(a.lastIndex=f,l=a.exec(u));){if(w=S=!0,f=l.index+1,k="'"===l[0],b=32,l.index-1>=0)b=u.charCodeAt(l.index-1);else for(x=n-1;x>=0;x--)if("text"===t[x].type){b=t[x].content.charCodeAt(t[x].content.length-1);break}if(m=32,f<h)m=u.charCodeAt(f);else for(x=n+1;x<t.length;x++)if("text"===t[x].type){m=t[x].content.charCodeAt(0);break}if(y=o(b)||i(String.fromCharCode(b)),v=o(m)||i(String.fromCharCode(m)),g=r(b),(_=r(m))?w=!1:v&&(g||y||(w=!1)),g?S=!1:y&&(_||v||(S=!1)),34===m&&'"'===l[0]&&b>=48&&b<=57&&(S=w=!1),w&&S&&(w=!1,S=v),w||S){if(S)for(x=E.length-1;x>=0&&(d=E[x],!(E[x].level<p));x--)if(d.single===k&&E[x].level===p){d=E[x],k?(O=e.md.options.quotes[2],A=e.md.options.quotes[3]):(O=e.md.options.quotes[0],A=e.md.options.quotes[1]),s.content=c(s.content,l.index,A),t[d.token].content=c(t[d.token].content,d.pos,O),f+=A.length-1,d.token===n&&(f+=O.length-1),h=(u=s.content).length,E.length=x;continue t}w?E.push({token:n,pos:l.index,single:k,level:p}):S&&k&&(s.content=c(s.content,l.index,""))}else k&&(s.content=c(s.content,l.index,""))}}}}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&s.test(t.tokens[e].content)&&u(t.tokens[e].children,t)}},function(t,e,n){"use strict";var r=n(1174);function i(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}i.prototype.Token=r,t.exports=i},function(t,e,n){"use strict";var r=n(1173),i=[["table",n(1696),["paragraph","reference"]],["code",n(1697)],["fence",n(1698),["paragraph","reference","blockquote","list"]],["blockquote",n(1699),["paragraph","reference","list"]],["hr",n(1700),["paragraph","reference","blockquote","list"]],["list",n(1701),["paragraph","reference","blockquote"]],["reference",n(1702)],["heading",n(1703),["paragraph","reference","blockquote"]],["lheading",n(1704)],["html_block",n(1705),["paragraph","reference","blockquote"]],["paragraph",n(1707)]];function o(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1],{alt:(i[t][2]||[]).slice()})}o.prototype.tokenize=function(t,e,n){for(var r,i=this.ruler.getRules(""),o=i.length,s=e,a=!1,c=t.md.options.maxNesting;s<n&&(t.line=s=t.skipEmptyLines(s),!(s>=n))&&!(t.sCount[s]<t.blkIndent);){if(t.level>=c){t.line=n;break}for(r=0;r<o&&!i[r](t,s,n,!1);r++);if(t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),(s=t.line)<n&&t.isEmpty(s)){if(a=!0,++s<n&&"list"===t.parentType&&t.isEmpty(s))break;t.line=s}}},o.prototype.parse=function(t,e,n,r){var i;t&&(i=new this.State(t,e,n,r),this.tokenize(i,i.line,i.lineMax))},o.prototype.State=n(1708),t.exports=o},function(t,e,n){"use strict";function r(t,e){var n=t.bMarks[e]+t.blkIndent,r=t.eMarks[e];return t.src.substr(n,r-n)}function i(t){var e,n=[],r=0,i=t.length,o=0,s=0,a=!1,c=0;for(e=t.charCodeAt(r);r<i;)96===e&&o%2==0?(a=!a,c=r):124!==e||o%2!=0||a?92===e?o++:o=0:(n.push(t.substring(s,r)),s=r+1),++r===i&&a&&(a=!1,r=c+1),e=t.charCodeAt(r);return n.push(t.substring(s)),n}t.exports=function(t,e,n,o){var s,a,c,u,l,f,h,p,d,b,m,y;if(e+2>n)return!1;if(l=e+1,t.sCount[l]<t.blkIndent)return!1;if((c=t.bMarks[l]+t.tShift[l])>=t.eMarks[l])return!1;if(124!==(s=t.src.charCodeAt(c))&&45!==s&&58!==s)return!1;if(a=r(t,e+1),!/^[-:| ]+$/.test(a))return!1;for(f=a.split("|"),d=[],u=0;u<f.length;u++){if(!(b=f[u].trim())){if(0===u||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?d.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?d.push("left"):d.push("")}if(-1===(a=r(t,e).trim()).indexOf("|"))return!1;if((h=(f=i(a.replace(/^\||\|$/g,""))).length)>d.length)return!1;if(o)return!0;for((p=t.push("table_open","table",1)).map=m=[e,0],(p=t.push("thead_open","thead",1)).map=[e,e+1],(p=t.push("tr_open","tr",1)).map=[e,e+1],u=0;u<f.length;u++)(p=t.push("th_open","th",1)).map=[e,e+1],d[u]&&(p.attrs=[["style","text-align:"+d[u]]]),(p=t.push("inline","",0)).content=f[u].trim(),p.map=[e,e+1],p.children=[],p=t.push("th_close","th",-1);for(p=t.push("tr_close","tr",-1),p=t.push("thead_close","thead",-1),(p=t.push("tbody_open","tbody",1)).map=y=[e+2,0],l=e+2;l<n&&!(t.sCount[l]<t.blkIndent)&&-1!==(a=r(t,l)).indexOf("|");l++){for(f=i(a.replace(/^\||\|\s*$/g,"")),p=t.push("tr_open","tr",1),u=0;u<h;u++)p=t.push("td_open","td",1),d[u]&&(p.attrs=[["style","text-align:"+d[u]]]),(p=t.push("inline","",0)).content=f[u]?f[u].trim():"",p.children=[],p=t.push("td_close","td",-1);p=t.push("tr_close","tr",-1)}return p=t.push("tbody_close","tbody",-1),p=t.push("table_close","table",-1),m[1]=y[1]=l,t.line=l,!0}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,s=0;if(t.sCount[e]-t.blkIndent<4)return!1;for(i=r=e+1;r<n;)if(t.isEmpty(r)){if(++s>=2&&"list"===t.parentType)break;r++}else{if(s=0,!(t.sCount[r]-t.blkIndent>=4))break;i=++r}return t.line=i,(o=t.push("code_block","code",0)).content=t.getLines(e,i,4+t.blkIndent,!0),o.map=[e,t.line],!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,s,a,c,u,l,f=!1,h=t.bMarks[e]+t.tShift[e],p=t.eMarks[e];if(h+3>p)return!1;if(126!==(i=t.src.charCodeAt(h))&&96!==i)return!1;if(c=h,(o=(h=t.skipChars(h,i))-c)<3)return!1;if(l=t.src.slice(c,h),(s=t.src.slice(h,p)).indexOf("`")>=0)return!1;if(r)return!0;for(a=e;!(++a>=n)&&!((h=c=t.bMarks[a]+t.tShift[a])<(p=t.eMarks[a])&&t.sCount[a]<t.blkIndent);)if(t.src.charCodeAt(h)===i&&!(t.sCount[a]-t.blkIndent>=4||(h=t.skipChars(h,i))-c<o||(h=t.skipSpaces(h))<p)){f=!0;break}return o=t.sCount[e],t.line=a+(f?1:0),(u=t.push("fence","code",0)).info=s,u.content=t.getLines(e+1,a,o,!0),u.markup=l,u.map=[e,t.line],!0}},function(t,e,n){"use strict";var r=n(71).isSpace;t.exports=function(t,e,n,i){var o,s,a,c,u,l,f,h,p,d,b,m,y,v,g,_,w=t.bMarks[e]+t.tShift[e],S=t.eMarks[e];if(62!==t.src.charCodeAt(w++))return!1;if(i)return!0;for(32===t.src.charCodeAt(w)&&w++,l=t.blkIndent,t.blkIndent=0,p=d=t.sCount[e]+w-(t.bMarks[e]+t.tShift[e]),u=[t.bMarks[e]],t.bMarks[e]=w;w<S&&(b=t.src.charCodeAt(w),r(b));)9===b?d+=4-d%4:d++,w++;for(s=w>=S,c=[t.sCount[e]],t.sCount[e]=d-p,a=[t.tShift[e]],t.tShift[e]=w-t.bMarks[e],m=t.md.block.ruler.getRules("blockquote"),o=e+1;o<n&&!(t.sCount[o]<l)&&!((w=t.bMarks[o]+t.tShift[o])>=(S=t.eMarks[o]));o++)if(62!==t.src.charCodeAt(w++)){if(s)break;for(_=!1,v=0,g=m.length;v<g;v++)if(m[v](t,o,n,!0)){_=!0;break}if(_)break;u.push(t.bMarks[o]),a.push(t.tShift[o]),c.push(t.sCount[o]),t.sCount[o]=-1}else{for(32===t.src.charCodeAt(w)&&w++,p=d=t.sCount[o]+w-(t.bMarks[o]+t.tShift[o]),u.push(t.bMarks[o]),t.bMarks[o]=w;w<S&&(b=t.src.charCodeAt(w),r(b));)9===b?d+=4-d%4:d++,w++;s=w>=S,c.push(t.sCount[o]),t.sCount[o]=d-p,a.push(t.tShift[o]),t.tShift[o]=w-t.bMarks[o]}for(f=t.parentType,t.parentType="blockquote",(y=t.push("blockquote_open","blockquote",1)).markup=">",y.map=h=[e,0],t.md.block.tokenize(t,e,o),(y=t.push("blockquote_close","blockquote",-1)).markup=">",t.parentType=f,h[1]=t.line,v=0;v<a.length;v++)t.bMarks[v+e]=u[v],t.tShift[v+e]=a[v],t.sCount[v+e]=c[v];return t.blkIndent=l,!0}},function(t,e,n){"use strict";var r=n(71).isSpace;t.exports=function(t,e,n,i){var o,s,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(42!==(o=t.src.charCodeAt(u++))&&45!==o&&95!==o)return!1;for(s=1;u<l;){if((a=t.src.charCodeAt(u++))!==o&&!r(a))return!1;a===o&&s++}return!(s<3)&&(i||(t.line=e+1,(c=t.push("hr","hr",0)).map=[e,t.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}},function(t,e,n){"use strict";var r=n(71).isSpace;function i(t,e){var n,i,o,s;return i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],42!==(n=t.src.charCodeAt(i++))&&45!==n&&43!==n||i<o&&(s=t.src.charCodeAt(i),!r(s))?-1:i}function o(t,e){var n,i=t.bMarks[e]+t.tShift[e],o=i,s=t.eMarks[e];if(o+1>=s)return-1;if((n=t.src.charCodeAt(o++))<48||n>57)return-1;for(;;){if(o>=s)return-1;if(!((n=t.src.charCodeAt(o++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(o-i>=10)return-1}return o<s&&(n=t.src.charCodeAt(o),!r(n))?-1:o}t.exports=function(t,e,n,s){var a,c,u,l,f,h,p,d,b,m,y,v,g,_,w,S,x,k,E,O,A,M,C,j,T,I,P,F,R=!0;if((y=o(t,e))>=0)k=!0;else{if(!((y=i(t,e))>=0))return!1;k=!1}if(x=t.src.charCodeAt(y-1),s)return!0;for(O=t.tokens.length,k?(m=t.bMarks[e]+t.tShift[e],S=Number(t.src.substr(m,y-m-1)),T=t.push("ordered_list_open","ol",1),1!==S&&(T.attrs=[["start",S]])):T=t.push("bullet_list_open","ul",1),T.map=M=[e,0],T.markup=String.fromCharCode(x),a=e,A=!1,j=t.md.block.ruler.getRules("list");a<n;){for(g=y,_=t.eMarks[a],c=u=t.sCount[a]+y-(t.bMarks[e]+t.tShift[e]);g<_&&(v=t.src.charCodeAt(g),r(v));)9===v?u+=4-u%4:u++,g++;if((w=(E=g)>=_?1:u-c)>4&&(w=1),l=c+w,(T=t.push("list_item_open","li",1)).markup=String.fromCharCode(x),T.map=C=[e,0],h=t.blkIndent,d=t.tight,f=t.tShift[e],p=t.sCount[e],b=t.parentType,t.blkIndent=l,t.tight=!0,t.parentType="list",t.tShift[e]=E-t.bMarks[e],t.sCount[e]=u,E>=_&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,e,n,!0),t.tight&&!A||(R=!1),A=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=h,t.tShift[e]=f,t.sCount[e]=p,t.tight=d,t.parentType=b,(T=t.push("list_item_close","li",-1)).markup=String.fromCharCode(x),a=e=t.line,C[1]=a,E=t.bMarks[e],a>=n)break;if(t.isEmpty(a))break;if(t.sCount[a]<t.blkIndent)break;for(F=!1,I=0,P=j.length;I<P;I++)if(j[I](t,a,n,!0)){F=!0;break}if(F)break;if(k){if((y=o(t,a))<0)break}else if((y=i(t,a))<0)break;if(x!==t.src.charCodeAt(y-1))break}return(T=k?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(x),M[1]=a,t.line=a,R&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}(t,O),!0}},function(t,e,n){"use strict";var r=n(1066),i=n(1067),o=n(71).normalizeReference,s=n(71).isSpace;t.exports=function(t,e,n,a){var c,u,l,f,h,p,d,b,m,y,v,g,_,w,S,x=0,k=t.bMarks[e]+t.tShift[e],E=t.eMarks[e],O=e+1;if(91!==t.src.charCodeAt(k))return!1;for(;++k<E;)if(93===t.src.charCodeAt(k)&&92!==t.src.charCodeAt(k-1)){if(k+1===E)return!1;if(58!==t.src.charCodeAt(k+1))return!1;break}for(f=t.lineMax,w=t.md.block.ruler.getRules("reference");O<f&&!t.isEmpty(O);O++)if(!(t.sCount[O]-t.blkIndent>3||t.sCount[O]<0)){for(_=!1,p=0,d=w.length;p<d;p++)if(w[p](t,O,f,!0)){_=!0;break}if(_)break}for(E=(g=t.getLines(e,O,t.blkIndent,!1).trim()).length,k=1;k<E;k++){if(91===(c=g.charCodeAt(k)))return!1;if(93===c){m=k;break}(10===c||92===c&&++k<E&&10===g.charCodeAt(k))&&x++}if(m<0||58!==g.charCodeAt(m+1))return!1;for(k=m+2;k<E;k++)if(10===(c=g.charCodeAt(k)))x++;else if(!s(c))break;if(!(y=r(g,k,E)).ok)return!1;if(h=t.md.normalizeLink(y.str),!t.md.validateLink(h))return!1;for(u=k=y.pos,l=x+=y.lines,v=k;k<E;k++)if(10===(c=g.charCodeAt(k)))x++;else if(!s(c))break;for(y=i(g,k,E),k<E&&v!==k&&y.ok?(S=y.str,k=y.pos,x+=y.lines):(S="",k=u,x=l);k<E&&(c=g.charCodeAt(k),s(c));)k++;if(k<E&&10!==g.charCodeAt(k)&&S)for(S="",k=u,x=l;k<E&&(c=g.charCodeAt(k),s(c));)k++;return!(k<E&&10!==g.charCodeAt(k))&&(!!(b=o(g.slice(1,m)))&&(a||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[b]&&(t.env.references[b]={title:S,href:h}),t.line=e+x+1),!0))}},function(t,e,n){"use strict";var r=n(71).isSpace;t.exports=function(t,e,n,i){var o,s,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(35!==(o=t.src.charCodeAt(u))||u>=l)return!1;for(s=1,o=t.src.charCodeAt(++u);35===o&&u<l&&s<=6;)s++,o=t.src.charCodeAt(++u);return!(s>6||u<l&&32!==o)&&(i||(l=t.skipSpacesBack(l,u),(a=t.skipCharsBack(l,35,u))>u&&r(t.src.charCodeAt(a-1))&&(l=a),t.line=e+1,(c=t.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),c.map=[e,t.line],(c=t.push("inline","",0)).content=t.src.slice(u,l).trim(),c.map=[e,t.line],c.children=[],(c=t.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s)),!0)}},function(t,e,n){"use strict";t.exports=function(t,e,n){for(var r,i,o,s,a,c,u,l,f,h=e+1,p=t.md.block.ruler.getRules("paragraph");h<n&&!t.isEmpty(h);h++)if(!(t.sCount[h]-t.blkIndent>3)){if(t.sCount[h]>=t.blkIndent&&(c=t.bMarks[h]+t.tShift[h])<(u=t.eMarks[h])&&(45===(f=t.src.charCodeAt(c))||61===f)&&(c=t.skipChars(c,f),(c=t.skipSpaces(c))>=u)){l=61===f?1:2;break}if(!(t.sCount[h]<0)){for(i=!1,o=0,s=p.length;o<s;o++)if(p[o](t,h,n,!0)){i=!0;break}if(i)break}}return!!l&&(r=t.getLines(e,h,t.blkIndent,!1).trim(),t.line=h+1,(a=t.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(f),a.map=[e,t.line],(a=t.push("inline","",0)).content=r,a.map=[e,t.line-1],a.children=[],(a=t.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(f),!0)}},function(t,e,n){"use strict";var r=n(1706),i=n(1551).HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];t.exports=function(t,e,n,r){var i,s,a,c,u=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(u))return!1;for(c=t.src.slice(u,l),i=0;i<o.length&&!o[i][0].test(c);i++);if(i===o.length)return!1;if(r)return o[i][2];if(s=e+1,!o[i][1].test(c))for(;s<n&&!(t.sCount[s]<t.blkIndent);s++)if(u=t.bMarks[s]+t.tShift[s],l=t.eMarks[s],c=t.src.slice(u,l),o[i][1].test(c)){0!==c.length&&s++;break}return t.line=s,(a=t.push("html_block","",0)).map=[e,s],a.content=t.getLines(e,s,t.blkIndent,!0),!0}},function(t,e,n){"use strict";t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(t,e,n){"use strict";t.exports=function(t,e){for(var n,r,i,o,s,a=e+1,c=t.md.block.ruler.getRules("paragraph"),u=t.lineMax;a<u&&!t.isEmpty(a);a++)if(!(t.sCount[a]-t.blkIndent>3||t.sCount[a]<0)){for(r=!1,i=0,o=c.length;i<o;i++)if(c[i](t,a,u,!0)){r=!0;break}if(r)break}return n=t.getLines(e,a,t.blkIndent,!1).trim(),t.line=a,(s=t.push("paragraph_open","p",1)).map=[e,t.line],(s=t.push("inline","",0)).content=n,s.map=[e,t.line],s.children=[],s=t.push("paragraph_close","p",-1),!0}},function(t,e,n){"use strict";var r=n(1174),i=n(71).isSpace;function o(t,e,n,r){var o,s,a,c,u,l,f,h;for(this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",h=!1,a=c=l=f=0,u=(s=this.src).length;c<u;c++){if(o=s.charCodeAt(c),!h){if(i(o)){l++,9===o?f+=4-f%4:f++;continue}h=!0}10!==o&&c!==u-1||(10!==o&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(l),this.sCount.push(f),h=!1,l=0,f=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.lineMax=this.bMarks.length-1}o.prototype.push=function(t,e,n){var i=new r(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},o.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},o.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},o.prototype.skipSpaces=function(t){for(var e,n=this.src.length;t<n&&(e=this.src.charCodeAt(t),i(e));t++);return t},o.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!i(this.src.charCodeAt(--t)))return t+1;return t},o.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},o.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},o.prototype.getLines=function(t,e,n,r){var o,s,a,c,u,l,f,h=t;if(t>=e)return"";for(l=new Array(e-t),o=0;h<e;h++,o++){for(s=0,f=c=this.bMarks[h],u=h+1<e||r?this.eMarks[h]+1:this.eMarks[h];c<u&&s<n;){if(a=this.src.charCodeAt(c),i(a))9===a?s+=4-s%4:s++;else{if(!(c-f<this.tShift[h]))break;s++}c++}l[o]=this.src.slice(c,u)}return l.join("")},o.prototype.Token=r,t.exports=o},function(t,e,n){"use strict";var r=n(1173),i=[["text",n(1710)],["newline",n(1711)],["escape",n(1712)],["backticks",n(1713)],["strikethrough",n(1552).tokenize],["emphasis",n(1553).tokenize],["link",n(1714)],["image",n(1715)],["autolink",n(1716)],["html_inline",n(1717)],["entity",n(1718)]],o=[["balance_pairs",n(1719)],["strikethrough",n(1552).postProcess],["emphasis",n(1553).postProcess],["text_collapse",n(1720)]];function s(){var t;for(this.ruler=new r,t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1]);for(this.ruler2=new r,t=0;t<o.length;t++)this.ruler2.push(o[t][0],o[t][1])}s.prototype.skipToken=function(t){var e,n,r=t.pos,i=this.ruler.getRules(""),o=i.length,s=t.md.options.maxNesting,a=t.cache;if(void 0===a[r]){if(t.level<s)for(n=0;n<o&&(t.level++,e=i[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,a[r]=t.pos}else t.pos=a[r]},s.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),i=r.length,o=t.posMax,s=t.md.options.maxNesting;t.pos<o;){if(t.level<s)for(n=0;n<i&&!(e=r[n](t,!1));n++);if(e){if(t.pos>=o)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},s.prototype.parse=function(t,e,n,r){var i,o,s,a=new this.State(t,e,n,r);for(this.tokenize(a),s=(o=this.ruler2.getRules("")).length,i=0;i<s;i++)o[i](a)},s.prototype.State=n(1721),t.exports=s},function(t,e,n){"use strict";function r(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}t.exports=function(t,e){for(var n=t.pos;n<t.posMax&&!r(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.pos;if(10!==t.src.charCodeAt(i))return!1;for(n=t.pending.length-1,r=t.posMax,e||(n>=0&&32===t.pending.charCodeAt(n)?n>=1&&32===t.pending.charCodeAt(n-1)?(t.pending=t.pending.replace(/ +$/,""),t.push("hardbreak","br",0)):(t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)):t.push("softbreak","br",0)),i++;i<r&&32===t.src.charCodeAt(i);)i++;return t.pos=i,!0}},function(t,e,n){"use strict";for(var r=n(71).isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){i[t.charCodeAt(0)]=1})),t.exports=function(t,e){var n,o=t.pos,s=t.posMax;if(92!==t.src.charCodeAt(o))return!1;if(++o<s){if((n=t.src.charCodeAt(o))<256&&0!==i[n])return e||(t.pending+=t.src[o]),t.pos+=2,!0;if(10===n){for(e||t.push("hardbreak","br",0),o++;o<s&&(n=t.src.charCodeAt(o),r(n));)o++;return t.pos=o,!0}}return e||(t.pending+="\\"),t.pos++,!0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,s,a,c=t.pos;if(96!==t.src.charCodeAt(c))return!1;for(n=c,c++,r=t.posMax;c<r&&96===t.src.charCodeAt(c);)c++;for(i=t.src.slice(n,c),o=s=c;-1!==(o=t.src.indexOf("`",s));){for(s=o+1;s<r&&96===t.src.charCodeAt(s);)s++;if(s-o===i.length)return e||((a=t.push("code_inline","code",0)).markup=i,a.content=t.src.slice(c,o).replace(/[ \n]+/g," ").trim()),t.pos=s,!0}return e||(t.pending+=i),t.pos+=i.length,!0}},function(t,e,n){"use strict";var r=n(1172),i=n(1066),o=n(1067),s=n(71).normalizeReference,a=n(71).isSpace;t.exports=function(t,e){var n,c,u,l,f,h,p,d,b,m="",y=t.pos,v=t.posMax,g=t.pos;if(91!==t.src.charCodeAt(t.pos))return!1;if(f=t.pos+1,(l=r(t,t.pos,!0))<0)return!1;if((h=l+1)<v&&40===t.src.charCodeAt(h)){for(h++;h<v&&(c=t.src.charCodeAt(h),a(c)||10===c);h++);if(h>=v)return!1;for(g=h,(p=i(t.src,h,t.posMax)).ok&&(m=t.md.normalizeLink(p.str),t.md.validateLink(m)?h=p.pos:m=""),g=h;h<v&&(c=t.src.charCodeAt(h),a(c)||10===c);h++);if(p=o(t.src,h,t.posMax),h<v&&g!==h&&p.ok)for(b=p.str,h=p.pos;h<v&&(c=t.src.charCodeAt(h),a(c)||10===c);h++);else b="";if(h>=v||41!==t.src.charCodeAt(h))return t.pos=y,!1;h++}else{if(void 0===t.env.references)return!1;if(h<v&&91===t.src.charCodeAt(h)?(g=h+1,(h=r(t,h))>=0?u=t.src.slice(g,h++):h=l+1):h=l+1,u||(u=t.src.slice(f,l)),!(d=t.env.references[s(u)]))return t.pos=y,!1;m=d.href,b=d.title}return e||(t.pos=f,t.posMax=l,t.push("link_open","a",1).attrs=n=[["href",m]],b&&n.push(["title",b]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=h,t.posMax=v,!0}},function(t,e,n){"use strict";var r=n(1172),i=n(1066),o=n(1067),s=n(71).normalizeReference,a=n(71).isSpace;t.exports=function(t,e){var n,c,u,l,f,h,p,d,b,m,y,v,g,_="",w=t.pos,S=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(h=t.pos+2,(f=r(t,t.pos+1,!1))<0)return!1;if((p=f+1)<S&&40===t.src.charCodeAt(p)){for(p++;p<S&&(c=t.src.charCodeAt(p),a(c)||10===c);p++);if(p>=S)return!1;for(g=p,(b=i(t.src,p,t.posMax)).ok&&(_=t.md.normalizeLink(b.str),t.md.validateLink(_)?p=b.pos:_=""),g=p;p<S&&(c=t.src.charCodeAt(p),a(c)||10===c);p++);if(b=o(t.src,p,t.posMax),p<S&&g!==p&&b.ok)for(m=b.str,p=b.pos;p<S&&(c=t.src.charCodeAt(p),a(c)||10===c);p++);else m="";if(p>=S||41!==t.src.charCodeAt(p))return t.pos=w,!1;p++}else{if(void 0===t.env.references)return!1;if(p<S&&91===t.src.charCodeAt(p)?(g=p+1,(p=r(t,p))>=0?l=t.src.slice(g,p++):p=f+1):p=f+1,l||(l=t.src.slice(h,f)),!(d=t.env.references[s(l)]))return t.pos=w,!1;_=d.href,m=d.title}return e||(u=t.src.slice(h,f),t.md.inline.parse(u,t.md,t.env,v=[]),(y=t.push("image","img",0)).attrs=n=[["src",_],["alt",""]],y.children=v,y.content=u,m&&n.push(["title",m])),t.pos=p,t.posMax=S,!0}},function(t,e,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;t.exports=function(t,e){var n,o,s,a,c,u,l=t.pos;return 60===t.src.charCodeAt(l)&&(!((n=t.src.slice(l)).indexOf(">")<0)&&(i.test(n)?(a=(o=n.match(i))[0].slice(1,-1),c=t.md.normalizeLink(a),!!t.md.validateLink(c)&&(e||((u=t.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=t.push("text","",0)).content=t.md.normalizeLinkText(a),(u=t.push("link_close","a",-1)).markup="autolink",u.info="auto"),t.pos+=o[0].length,!0)):!!r.test(n)&&(a=(s=n.match(r))[0].slice(1,-1),c=t.md.normalizeLink("mailto:"+a),!!t.md.validateLink(c)&&(e||((u=t.push("link_open","a",1)).attrs=[["href",c]],u.markup="autolink",u.info="auto",(u=t.push("text","",0)).content=t.md.normalizeLinkText(a),(u=t.push("link_close","a",-1)).markup="autolink",u.info="auto"),t.pos+=s[0].length,!0))))}},function(t,e,n){"use strict";var r=n(1551).HTML_TAG_RE;t.exports=function(t,e){var n,i,o,s=t.pos;return!!t.md.options.html&&(o=t.posMax,!(60!==t.src.charCodeAt(s)||s+2>=o)&&(!(33!==(n=t.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(t){var e=32|t;return e>=97&&e<=122}(n))&&(!!(i=t.src.slice(s).match(r))&&(e||(t.push("html_inline","",0).content=t.src.slice(s,s+i[0].length)),t.pos+=i[0].length,!0))))}},function(t,e,n){"use strict";var r=n(1546),i=n(71).has,o=n(71).isValidEntityCode,s=n(71).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(t,e){var n,u,l=t.pos,f=t.posMax;if(38!==t.src.charCodeAt(l))return!1;if(l+1<f)if(35===t.src.charCodeAt(l+1)){if(u=t.src.slice(l).match(a))return e||(n="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),t.pending+=o(n)?s(n):s(65533)),t.pos+=u[0].length,!0}else if((u=t.src.slice(l).match(c))&&i(r,u[1]))return e||(t.pending+=r[u[1]]),t.pos+=u[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i,o=t.delimiters,s=t.delimiters.length;for(e=0;e<s;e++)if((r=o[e]).close)for(n=e-r.jump-1;n>=0;){if((i=o[n]).open&&i.marker===r.marker&&i.end<0&&i.level===r.level){r.jump=e-n,r.open=!1,i.end=e,i.jump=0;break}n-=i.jump+1}}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=0,i=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)r+=i[e].nesting,i[e].level=r,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}},function(t,e,n){"use strict";var r=n(1174),i=n(71).isWhiteSpace,o=n(71).isPunctChar,s=n(71).isMdAsciiPunct;function a(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}a.prototype.pushPending=function(){var t=new r("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},a.prototype.push=function(t,e,n){this.pending&&this.pushPending();var i=new r(t,e,n);return n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(i),i},a.prototype.scanDelims=function(t,e){var n,r,a,c,u,l,f,h,p,d=t,b=!0,m=!0,y=this.posMax,v=this.src.charCodeAt(t);for(n=t>0?this.src.charCodeAt(t-1):32;d<y&&this.src.charCodeAt(d)===v;)d++;return a=d-t,r=d<y?this.src.charCodeAt(d):32,f=s(n)||o(String.fromCharCode(n)),p=s(r)||o(String.fromCharCode(r)),l=i(n),(h=i(r))?b=!1:p&&(l||f||(b=!1)),l?m=!1:f&&(h||p||(m=!1)),e?(c=b,u=m):(c=b&&(!m||f),u=m&&(!b||p)),{can_open:c,can_close:u,length:a}},a.prototype.Token=r,t.exports=a},function(t,e,n){"use strict";function r(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function i(t){return Object.prototype.toString.call(t)}function o(t){return"[object Function]"===i(t)}function s(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function l(t){var e=t.re=r({},n(1723)),a=t.__tlds__.slice();function c(t){return t.replace("%TLDS%",e.src_tlds)}t.__tlds_replaced__||a.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),a.push(e.src_xn),e.src_tlds=a.join("|"),e.email_fuzzy=RegExp(c(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(c(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(c(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(c(e.tpl_host_fuzzy_test),"i");var u=[];function l(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var n=t.__schemas__[e];if(null!==n){var r={validate:null,link:null};if(t.__compiled__[e]=r,"[object Object]"===i(n))return!function(t){return"[object RegExp]"===i(t)}(n.validate)?o(n.validate)?r.validate=n.validate:l(e,n):r.validate=function(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?l(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===i(t)}(n)?l(e,n):u.push(e)}})),u.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var f=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(s).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+f+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function f(t,e){var n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function h(t,e){var n=new f(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function p(t,e){if(!(this instanceof p))return new p(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||a.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=r({},a,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,t),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(t,e){return this.__schemas__[t]=e,l(this),this},p.prototype.set=function(t){return this.__opts__=r(this.__opts__,t),this},p.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,r,i,o,s,a,c;if(this.re.schema_test.test(t))for((a=this.re.schema_search).lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s)),this.__index__>=0},p.prototype.pretest=function(t){return this.re.pretest.test(t)},p.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},p.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(h(this,e)),e=this.__last_index__);for(var r=e?t.slice(e):t;this.test(r);)n.push(h(this,e)),r=r.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),l(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},t.exports=p},function(t,e,n){"use strict";var r=e.src_Any=n(1548).source,i=e.src_Cc=n(1549).source,o=e.src_Z=n(1550).source,s=e.src_P=n(1171).source,a=e.src_ZPCc=[o,s,i].join("|"),c=e.src_ZCc=[o,i].join("|"),u="(?:(?!>|<|"+a+")"+r+")",l=e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";e.src_auth="(?:(?:(?!"+c+"|[@/]).)+@)?";var f=e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",h=e.src_host_terminator="(?=$|>|<|"+a+")(?!-|_|:\\d|\\.-|\\.(?!$|"+a+"))",p=e.src_path="(?:[/?#](?:(?!"+c+"|[()[\\]{}.,\"'?!\\-<>]).|\\[(?:(?!"+c+"|\\]).)*\\]|\\((?:(?!"+c+"|[)]).)*\\)|\\{(?:(?!"+c+'|[}]).)*\\}|\\"(?:(?!'+c+'|["]).)+\\"|\\\'(?:(?!'+c+"|[']).)+\\'|\\'(?="+u+").|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+c+"|[.]).|\\-(?!--(?:[^-]|$))(?:-*)|\\,(?!"+c+").|\\!(?!"+c+"|[!]).|\\?(?!"+c+"|[?]).)+|\\/)?",d=e.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',b=e.src_xn="xn--[a-z0-9\\-]{1,59}",m=e.src_domain_root="(?:"+b+"|"+u+"{1,63})",y=e.src_domain="(?:"+b+"|(?:"+u+")|(?:"+u+"(?:-(?!-)|"+u+"){0,61}"+u+"))",v=e.src_host="(?:(?:(?:(?:"+y+")\\.)*"+m+"))",g=e.tpl_host_fuzzy="(?:"+l+"|(?:(?:(?:"+y+")\\.)+(?:%TLDS%)))",_=e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+y+")\\.)+(?:%TLDS%))";e.src_host_strict=v+h;var w=e.tpl_host_fuzzy_strict=g+h;e.src_host_port_strict=v+f+h;var S=e.tpl_host_port_fuzzy_strict=g+f+h,x=e.tpl_host_port_no_ip_fuzzy_strict=_+f+h;e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+a+"|>|$))",e.tpl_email_fuzzy="(^|<|>|\\(|"+c+")("+d+"@"+w+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a+"))((?![$+<=>^`|])"+S+p+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a+"))((?![$+<=>^`|])"+x+p+")"},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(t,e,n){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(t,e,n){var r=n(1728);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,"",""])},function(t,e,n){var r=n(1730);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicList {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n.MusicListgroupTitle {\n  margin: 1.2rem 0 0.8rem;\n  text-align: center;\n  color: rgba(0, 0, 0, 0.6);\n  font-weight: bold;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n}\n.MusicList .MusicListItem {\n  margin: 0.8rem 0;\n}\n.MusicList > li:first-child {\n  margin-top: 0;\n}',""])},function(t,e,n){var r=n(1732);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicListItem {\n  box-shadow: 0 0.1vh 3vh rgba(0, 0, 0, 0.1);\n  background: rgba(255, 255, 255, 0.9);\n  border: 5px solid rgba(255, 255, 255, 0);\n  border-radius: 0.8rem;\n  color: black;\n  padding: 0.6rem 0.8rem;\n  position: relative;\n  cursor: pointer;\n}\n.MusicListIteminfo-top::after {\n  clear: both;\n  display: block;\n  content: "";\n}\n.MusicListIteminfo-bottom {\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n.MusicListItemtitle {\n  font-size: 1.5em;\n  font-weight: bold;\n  margin-bottom: 0.5ex;\n  float: left;\n}\n.MusicListItemcharts {\n  float: right;\n}\n.MusicListItemgenre {\n  opacity: 0.6;\n}\n.MusicListItemtutorial {\n  font-size: 2.5em;\n  font-weight: bold;\n}\n.MusicListItemhighlight {\n  background: #ffa;\n  color: #a00;\n}\n.MusicListItem.is-active {\n  background: rgba(255, 255, 255, 0.95);\n  border: 5px solid rgba(0, 0, 0, 0.2);\n}',""])},function(t,e,n){var r=n(1734);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".MusicListItemCharts {\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-end;\n  margin-top: -0.2rem;\n  flex-wrap: wrap;\n}\n.MusicListItemCharts .MusicListItemChart {\n  margin-left: 0.2rem;\n  margin-top: 0.2rem;\n  flex: none;\n}",""])},function(t,e,n){var r=n(1736);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,".MusicListItemChart {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 2rem;\n  height: 2rem;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 0.4rem;\n  font-size: 1rem;\n  color: rgba(0, 0, 0, 0.6);\n  text-align: center;\n}\n.MusicListItemChart.is-played {\n  background: rgba(0, 0, 0, 0.3);\n  color: white;\n  border-color: transparent;\n}\n.MusicListItemChart.is-grade {\n  font-weight: bold;\n}\n.MusicListItemChart.is-selected {\n  box-shadow: inset 0 0 0.4rem rgba(255, 255, 255, 0.5);\n  border-width: 2px;\n}",""])},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(26),o=a(n(1738)),s=a(n(1068));a(n(734)),a(n(735));function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.default=function(t,e){return function(n){var a=(0,i.createFactory)(n),l="function"==typeof t?t:function(e,n){return!(0,s.default)((0,o.default)(e,t),(0,o.default)(n,t))},f=function(t){function n(){var r,i;c(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=i=u(this,t.call.apply(t,[this].concat(s))),i.computedProps=e(i.props),u(i,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),n.prototype.componentWillReceiveProps=function(t){l(this.props,t)&&(this.computedProps=e(t))},n.prototype.render=function(){return a(r({},this.props,this.computedProps))},n}(i.Component);return f}}},function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}},function(t,e,n){var r=n(1740);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.MusicSelectScene {\n  background: url('+r(n(1059))+') center no-repeat;\n  background-size: cover;\n  font: 1rem "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n}\n.MusicSelectSceneloading {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  font-size: 2rem;\n  text-align: center;\n  color: rgba(0, 0, 0, 0.5);\n  text-shadow: 0 2px 0 rgba(255, 255, 255, 0.3);\n}\n.MusicSelectScenemain {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.MusicSelectSceneunofficialLabel {\n  position: absolute;\n  top: -3px;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  font-size: 1.6em;\n  display: inline-block;\n  margin-left: 1.5ex;\n  background: #f4f3b8;\n  line-height: 1.2;\n  padding: 0.3em 0.6em;\n  border: 1px solid #e3e04a;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  color: #58570e;\n  border-radius: 3px;\n  font-weight: normal;\n  z-index: 15;\n  cursor: pointer;\n}\n.MusicSelectSceneunofficialLabel:hover {\n  background: #fbfae4;\n}\n.MusicSelectScenesearch {\n  position: absolute;\n  top: 50%;\n  right: 4rem;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n  width: 8em;\n  font: 0.4em "Source Sans Pro", "Segoe UI", "Helvetica Neue", sans-serif;\n  padding: 0.3em;\n  border: 1px solid #ddd;\n  background: linear-gradient(to bottom, #f5f4f3, #fff);\n  border-radius: 1em;\n  text-indent: 1ex;\n}\n.MusicSelectScene .SceneHeading {\n  z-index: 10;\n}\n.MusicSelectScene .MusicList {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  padding: 10rem calc(50vw + 1rem) 3rem 4rem;\n}\n.MusicSelectScene .MusicInfo {\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  top: 0;\n  right: 4rem;\n  bottom: 0;\n  left: calc(50vw + 1rem);\n  padding-top: 10rem;\n  padding-bottom: 3rem;\n}\n@media (max-width: 1000px) {\n  .MusicSelectScenemain {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n    transition: 0.3s -webkit-transform;\n    transition: 0.3s transform;\n    transition: 0.3s transform, 0.3s -webkit-transform;\n  }\n  .MusicSelectScenemain.is-in-song {\n    -webkit-transform: translateX(calc(-100vw + 20px));\n            transform: translateX(calc(-100vw + 20px));\n  }\n}\n@media (max-width: 1000px) and (min-width: 600px) {\n  .MusicSelectScenemain.is-in-song {\n    -webkit-transform: translateX(-70vw);\n            transform: translateX(-70vw);\n  }\n}\n@media (max-width: 1000px) {\n  .MusicSelectScene .MusicList {\n    padding: 10rem 2rem 1.2rem;\n  }\n}\n@media (max-width: 1000px) and (min-width: 600px) {\n  .MusicSelectScene .MusicList {\n    padding-left: 7.5rem;\n    padding-right: 7.5rem;\n  }\n}\n@media (max-width: 1000px) {\n  .MusicSelectScene .MusicInfo {\n    right: auto;\n    left: 100vw;\n    width: calc(100vw - 20px);\n  }\n}\n@media (max-width: 1000px) and (min-width: 600px) {\n  .MusicSelectScene .MusicInfo {\n    width: 70vw;\n  }\n}\n.MusicSelectScenecustomBms .CustomBMS {\n  width: 640px;\n  max-width: 95vw;\n}',""])},function(t,e,n){"use strict";var r=n(1554),i=n(352),o=n(132),s=n(29),a=n.n(s),c=n(26),u=n.n(c),l=n(199),f=n(131),h=n(149);const p=Object(l.b)((t=>({visible:f.x(t)})),(t=>({onClose:()=>t({type:f.m})})));function d({onClose:t,visible:e}){return u.a.createElement(i.a,{visible:e,onBackdropClick:t},u.a.createElement("div",{style:{maxWidth:"30em"}},u.a.createElement(o.a,{title:"You just rage-quitted!"},u.a.createElement(r.a,null,u.a.createElement("p",null,"I hope you enjoyed the tutorial ^_^"),u.a.createElement("p",null,"From here, you can play other songs. Start from Level 1 and work your way up. And hopefully, someday, you will be able to beat this tutorial!"),u.a.createElement(r.a.Buttons,null,u.a.createElement(h.a,{onClick:t},"Continue"))))))}d.propTypes={visible:a.a.bool,onClose:a.a.func.isRequired},e.a=p(d)},function(t,e,n){t.exports=function(){"use strict";return function(t){var e="/*|*/",n=e+"}";function r(e){if(e)try{t(e+"}")}catch(t){}}return function(i,o,s,a,c,u,l,f,h,p){switch(i){case 1:if(0===h&&64===o.charCodeAt(0))return t(o+";"),"";break;case 2:if(0===f)return o+e;break;case 3:switch(f){case 102:case 112:return t(s[0]+o),"";default:return o+(0===p?e:"")}case-2:o.split(n).forEach(r)}}}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1202),i=n(26),o=n.n(i),s=n(1203);function a(t){const{song:e,serverUrl:n}=t,[a,c]=Object(i.useState)(null);return Object(i.useEffect)((()=>{Object(s.a)(e,n).then((t=>c(t))).catch((t=>{console.error(t),c(null)}))}),[e,n]),o.a.createElement(r.a,{url:a})}},function(t,e,n){var r=n(1745),i=function(t){var e="",n=Object.keys(t);return n.forEach((function(i,o){var s=t[i];(function(t){return/[height|width]$/.test(t)})(i=r(i))&&"number"==typeof s&&(s+="px"),e+=!0===s?i:!1===s?"not "+i:"("+i+": "+s+")",o<n.length-1&&(e+=" and ")})),e};t.exports=function(t){var e="";return"string"==typeof t?t:t instanceof Array?(t.forEach((function(n,r){e+=i(n),r<t.length-1&&(e+=", ")})),e):i(t)}},function(t,e){t.exports=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})).toLowerCase()}},function(t,e,n){"use strict";n(1747);var r=n(1554),i=n(132),o=n(29),s=n.n(o),a=n(26),c=n.n(a),u=n(149);class l extends c.a.Component{render(){return c.a.createElement("div",{style:{maxWidth:"30em"}},c.a.createElement(i.a,{title:"Unofficial Music Server"},c.a.createElement(r.a,null,c.a.createElement("p",null,"You are now playing in an ",c.a.createElement("strong",null,"unofficial music server"),". This music server is not maintained or endorsed by Bemuse or Bemuses developers."),c.a.createElement(r.a.Buttons,null,c.a.createElement(u.a,{onClick:this.props.onClose},"Close")))))}}l.propTypes={onClose:s.a.func.isRequired},e.a=l},function(t,e,n){var r=n(1748);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.UnofficialPanel {\n  max-width: 30em;\n}\n.UnofficialPanelcontent {\n  padding: 1em;\n}\n.UnofficialPanelcontent > p {\n  margin: 0;\n}\n.UnofficialPanelcontent > p:not(:first-child) {\n  margin-top: 1em;\n}\n.UnofficialPanelbuttons {\n  text-align: right;\n}',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n(26))&&"object"==typeof r&&"default"in r?r.default:r;function o(t){return o.warnAboutHMRDisabled&&(o.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),i.Children.only(t.children)}o.warnAboutHMRDisabled=!1;var s=function t(){return t.shouldWrapWithAppContainer?function(t){return function(e){return i.createElement(o,null,i.createElement(t,e))}}:function(t){return t}};s.shouldWrapWithAppContainer=!1;e.AppContainer=o,e.hot=s,e.areComponentsEqual=function(t,e){return t===e},e.setConfig=function(){},e.cold=function(t){return t},e.configureComponent=function(){}},function(t,e,n){"use strict";(function(t){n(1751);var r=n(86),i=n.n(r),o=n(2003),s=n(352),a=n(29),c=n.n(a),u=n(26),l=n.n(u),f=n(233),h=n(218),p=n(5),d=n(1556),b=n(216),m=n(199),y=n(195),v=n(203),g=n(105),_=n(217),w=n(1539),S=n(1756),x=n(1540),k=n(1623);const E=(()=>{try{return window.parent!==window}catch(t){return!1}})(),O=Object(b.a)(Object(d.hot)(t),Object(y.b)({onMarkChangelogAsSeen:()=>()=>_.b(g.K(p.a))}),Object(m.b)((t=>({hasSeenChangelog:g.x(t.options)===p.a}))));class A extends l.a.Component{constructor(t){super(t),this.openLink=t=>{t.preventDefault(),window.open(i()(t.target).closest("a").get(0).href,"_blank")},this.openTwitterLink=t=>{this.openLink(t),this.props.onTwitterButtonClick&&this.props.onTwitterButtonClick()},this.viewChangelog=()=>{this.toggleChangelogModal(),this.props.onMarkChangelogAsSeen(),v.f("TitleScene","view changelog")},this.state={changelogModalVisible:!1}}getToolbarItems(){return[k.a.item("About",{onClick:this.showAbout}),k.a.item("Community FAQ",{href:"https://faq.bemuse.ninja",tip:"New",tipFeatureKey:"faq"}),k.a.item("Docs",{href:"/project/"}),k.a.item(this.renderVersion(),{onClick:this.viewChangelog,tip:"Whats new?",tipVisible:!this.props.hasSeenChangelog}),k.a.spacer(),k.a.item("Discord",{href:"https://discord.gg/aB6ucmx",tip:"Join our community",tipFeatureKey:"discord"}),k.a.item("Twitter",{href:"https://twitter.com/bemusegame"}),k.a.item("GitHub",{href:"https://github.com/bemusic/bemuse"})]}render(){const t=!E;return l.a.createElement(h.a,{className:"TitleScene"},l.a.createElement("div",{className:"TitleSceneimage"}),l.a.createElement("div",{className:"TitleScenepage"},l.a.createElement("div",{className:"TitleScenepageTitle"},l.a.createElement("div",{className:"TitleScenelogo"},l.a.createElement("div",{className:"TitleScenetagline"},"online, web-based rhythm game"),l.a.createElement("img",{src:n(1759)})),l.a.createElement("div",{className:"TitleSceneenter"},l.a.createElement("a",{href:"javascript://",onClick:this.enterGame,"data-testid":"enter-game"},"Enter Game"))),t?l.a.createElement("div",{className:"TitleScenepageContents"},l.a.createElement(o.a,null)):null),l.a.createElement(k.a,{items:this.getToolbarItems()}),l.a.createElement("div",{className:"TitleScenecurtain"}),l.a.createElement(s.a,{visible:this.state.changelogModalVisible,onBackdropClick:()=>this.toggleChangelogModal()},l.a.createElement(S.a,null)))}renderVersion(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("strong",null,"Bemuse")," v",p.a)}enterGame(){f.a.push(l.a.createElement(x.a,null)).done(),v.f("TitleScene","enter game")}showAbout(){f.a.push(l.a.createElement(w.a,null)).done(),v.f("TitleScene","show about")}toggleChangelogModal(){this.setState({changelogModalVisible:!this.state.changelogModalVisible})}}A.propTypes={hasSeenChangelog:c.a.bool,onTwitterButtonClick:c.a.func,onMarkChangelogAsSeen:c.a.func.isRequired},e.a=O(A)}).call(this,n(462)(t))},function(t,e,n){var r=n(1752);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(9);(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.TitleScene {\n  background: #415067 url('+r(n(1753))+") 50% 90% no-repeat;\n  background-size: cover;\n}\n.TitleSceneimage {\n  background: url("+r(n(1541))+") 50% 90% no-repeat;\n  background-size: cover;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.TitleScenepage {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.TitleScenepage::-webkit-scrollbar {\n  width: 0;\n}\n.TitleScenepageTitle {\n  position: relative;\n  height: 100%;\n}\n.TitleScenepageContents {\n  background: white;\n  color: #353433;\n}\n.TitleScenelogo {\n  position: absolute;\n  top: 32%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  width: 90vw;\n  background-size: contain;\n  -webkit-animation: 0.8s TitleScenefadeIn;\n          animation: 0.8s TitleScenefadeIn;\n}\n@media (min-width: 640px) {\n  .TitleScenelogo {\n    width: calc(30vw + 288px);\n  }\n}\n.TitleScenelogo > img {\n  width: 100%;\n  display: block;\n}\n.TitleScenetagline {\n  font-size: 1.5rem;\n  font-style: italic;\n  text-align: center;\n  font-weight: 300;\n  opacity: 0.5;\n}\n.TitleScenecurtain {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: black;\n  -webkit-animation: 0.8s TitleScenecurtain;\n          animation: 0.8s TitleScenecurtain;\n  opacity: 0;\n  pointer-events: none;\n}\n.TitleSceneenter {\n  position: absolute;\n  top: 70%;\n  left: 0;\n  right: 0;\n  -webkit-transform: translate(0, -50%);\n          transform: translate(0, -50%);\n  -webkit-animation: 0.8s TitleSceneenterFadeIn;\n          animation: 0.8s TitleSceneenterFadeIn;\n  display: flex;\n  justify-content: center;\n}\n.TitleSceneenter > a {\n  color: rgba(0, 0, 0, 0.9);\n  font-size: 3rem;\n  background: rgba(255, 255, 255, 0.8);\n  padding: 0.5ex 1.2ex;\n  border-radius: 2em;\n  display: block;\n  text-decoration: none;\n  -webkit-transform: scale(1);\n          transform: scale(1);\n  transition: 0.1s background, 0.1s -webkit-transform;\n  transition: 0.1s transform, 0.1s background;\n  transition: 0.1s transform, 0.1s background, 0.1s -webkit-transform;\n}\n.TitleSceneenter > a:hover {\n  background: white;\n  -webkit-transform: scale(1.1);\n          transform: scale(1.1);\n}\n.TitleScene .SceneToolbar {\n  -webkit-animation: 0.8s TitleScenetoolbar;\n          animation: 0.8s TitleScenetoolbar;\n}\n\n@-webkit-keyframes TitleScenetoolbar {\n  from {\n    -webkit-transform: translateY(1rem);\n            transform: translateY(1rem);\n  }\n  to {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n\n@keyframes TitleScenetoolbar {\n  from {\n    -webkit-transform: translateY(1rem);\n            transform: translateY(1rem);\n  }\n  to {\n    -webkit-transform: translateY(0);\n            transform: translateY(0);\n  }\n}\n@-webkit-keyframes TitleScenecurtain {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@keyframes TitleScenecurtain {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes TitleScenefadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate(-50%, -50%) translate(0, -1rem);\n            transform: translate(-50%, -50%) translate(0, -1rem);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n  }\n}\n@keyframes TitleScenefadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate(-50%, -50%) translate(0, -1rem);\n            transform: translate(-50%, -50%) translate(0, -1rem);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n  }\n}\n@-webkit-keyframes TitleSceneenterFadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate(0%, -50%) translate(0, -1em);\n            transform: translate(0%, -50%) translate(0, -1em);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: translate(0%, -50%);\n            transform: translate(0%, -50%);\n  }\n}\n@keyframes TitleSceneenterFadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate(0%, -50%) translate(0, -1em);\n            transform: translate(0%, -50%) translate(0, -1em);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: translate(0%, -50%);\n            transform: translate(0%, -50%);\n  }\n}",""])},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAVCAIAAACor3u9AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsSAAALEgHS3X78AAADI0lEQVQ4y01VW47DNhAjqXF2Fz1Igd6g979UN9aQ/Rg5rZHIhiHNg0PS/POvv92b8Krrur61yiAkaVEiKZBEunu/7/fv3m+7SWqV1qW6ZguCJIljJ457Hiq9RWhdVS9KAUGS4rkEEgCLS6Jq9cv7tjuJe8emCGqOAJwVEgCEJWmtpXVxrUy5s/X8OX0A1ILqtdzpdu/u273tTnewgacaigBAaiGp6/VFChTATLUApmGGmIOLEkGQSJDE7W7vu/v2vru3e7vviYzTjUgWVQACJHMHYFhQmEx8StKS1rQFYLB27+p2373vvn97MrnjPScBluOAp2owgQ58mPfEZFhai5qRTxtWl93qi+vWKu179d37QGc3kurkKRwMQSYBMjiCZ/nk0uQIEoaiZWq2TSXUSre93Z10DTQTLQjDhDzYk2c2cTcSoghQOo0NziEs8PlpAZBIFeKKffKHs3DmdPgjknGS24DWRr1UxYERSBIP63uekiTIgUCVNEBCD4lJEpQkUdQoqBEDdJJgIVpFCUFsu31YtOO2HQdxEAQVhwKQEYsewlALEpKkAWgtaiWJd99JolUEYsf/u9pOx0ZyEhz4H91Si0MYErEDgqsuVZFy7wTe99BUUpzEOEzJCGhMY97Xf6ZwYFlD08RoUDpoAH6AToJuO9ECmXwqFGmSGT0CQIrUcOuM9IjACag16o/tbpwBGgHIxN7GKO8TXWJCJjzkLxy7nNlyQgcfucW9HwTw8cxgkStux0dCB5Vz/wBViGOGMEL7cBXIKscP2zEVggLi3t6bWkDcHfcAdfzDTvozm7KbQJPsD0cBEL3HUTGcXRfrtVbFdr/3fufkzvg+wDy6OB0gQAoZl8txiiNUnNFN6ZCq6vpZ9eW+ed/uf5x+ZOjAx5JJQoPZMKqOAx87YgDYx7ZDiFLV9X29/lj1Qwqw1rXqyu3YgzQAKETGsw4GAcjC6Qij5ekSyQFGr7p+6vqRLnfbv/Fea12vb7v3/Rv7KS5hnvNAjhdXkrEB5HxvjptS5NJ6VX1Ll+3u996/Il5fX3W99v273/8kJ0F8HCyxPdYCUP8C+q/qEFibYPUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTYtMDYtMjRUMDI6MDI6NTErMDc6MDCCsIoDAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE2LTA2LTI0VDAyOjAyOjUxKzA3OjAw8+0yvwAAAABJRU5ErkJggg=="},function(t,e,n){var r=n(1755);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.Page {\n  padding: 96px 16px 138px;\n  font-size: 20px;\n  line-height: 32px;\n}\n.Pagewrapper {\n  max-width: 700px;\n  margin: 0 auto;\n}\n.Pageheading {\n  color: #e37d9a;\n  margin: 1em 0 0;\n  text-align: center;\n  font-size: 36px;\n  line-height: 64px;\n  font-weight: 200;\n  font-style: italic;\n}\n.Pageheading:first-child {\n  margin-top: 0;\n}\n.Pageprivacy {\n  color: #8b8685;\n  margin-top: 3.2em;\n  text-align: center;\n  font-size: 0.8em;\n  line-height: 1.6;\n}\n.Page p {\n  margin: 1.6em 0 0;\n}\n@media (max-width: 720px) {\n  .Page {\n    font-size: 16px;\n    line-height: 24px;\n  }\n}',""])},function(t,e,n){"use strict";n(1757);var r=n(26),i=n.n(r),o=n(132),s=n(1545);class a extends i.a.Component{constructor(t){super(t),this.state={data:{status:"loading"}}}componentDidMount(){n.e(22).then(n.t.bind(null,1995,7)).then((t=>t.default)).then((t=>this.setState({data:{status:"completed",changelog:t}})),(()=>this.setState({data:{status:"error"}})))}render(){return i.a.createElement(o.a,{className:"ChangelogPanel",title:"Whats New"},i.a.createElement("div",{className:"ChangelogPanelcontent"},i.a.createElement(s.a,{source:this.getMarkdown(),safe:!0})))}getMarkdown(){const t="[releases page on GitHub](https://github.com/bemusic/bemuse/releases)";if("loading"===this.state.data.status)return"Omachi kudasai";if("error"===this.state.data.status)return"__Unable to load the change log :(__\n\nYou can view the change log at the "+t;return this.state.data.changelog+"\n\n# Older Versions\n\nThe change log for older versions are available at the [releases page on GitHub](https://github.com/bemusic/bemuse/releases)"}}e.a=a},function(t,e,n){var r=n(1758);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:undefined,insertInto:void 0};n(0)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(1)(!1)).push([t.i,'@charset "UTF-8";\n.ChangelogPanelcontent {\n  width: 80vw;\n  height: 80vh;\n  max-width: 48rem;\n  max-height: 24rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 12px;\n  box-sizing: border-box;\n}\n.ChangelogPanelcontent .Markdown h1 {\n  display: none;\n}\n.ChangelogPanelcontent .Markdown h2 {\n  color: #d7fc70;\n  font-size: 1.5em;\n  margin: 0;\n}\n.ChangelogPanelcontent .Markdown h2:not(:first-of-type) {\n  margin-top: 1.5em;\n  padding-top: 0;\n}\n.ChangelogPanelcontent .Markdown h2:not(:first-of-type)::before {\n  content: "";\n  display: block;\n  border-top: 2px solid #454443;\n  margin: 0 -16px 1.5em;\n}\n.ChangelogPanelcontent .Markdown h3 {\n  font-size: 1.4em;\n  font-weight: normal;\n  color: #8b8685;\n}\n.ChangelogPanelcontent .Markdown a {\n  color: #ffffbb;\n}\n.ChangelogPanelcontent .Markdown > :first-child {\n  margin-top: 0;\n}\n.ChangelogPanelcontent .Markdown img {\n  max-width: 100%;\n}',""])},function(t,e,n){t.exports=n.p+"build/524548e9ff6b24858d1764de44a25293.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(1667);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(1061),c=(n(1669),n(1062));class u extends i.a.Component{render(){return i.a.createElement("ul",{className:"MusicChartSelector"},this.props.charts.map(((t,e)=>i.a.createElement(c.a,{key:e,chart:t,isTutorial:this.props.song.tutorial,isSelected:t.md5===this.props.selectedChart.md5,onChartClick:this.props.onChartClick}))))}}u.propTypes={charts:s.a.array,song:s.a.object,selectedChart:s.a.object,onChartClick:s.a.func};var l=u,f=(n(1671),n(55)),h=n.n(f),p=n(726),d=n.n(p),b=(n(1543),n(1064)),m=n(397),y=n(1544);class v extends i.a.Component{render(){const t=this.props.chart,e=this.props.record;return i.a.createElement("div",{className:"MusicInfoTabStats"},this.renderMessage(),i.a.createElement("dl",{className:"MusicInfoTabStatscolumn is-left"},i.a.createElement("dt",null,"Notes"),i.a.createElement("dd",null,t.noteCount),i.a.createElement("dt",null,"BPM"),i.a.createElement("dd",null,t.bpm.median),i.a.createElement("dt",null,"Duration"),i.a.createElement("dd",null,Object(m.a)(t.duration)),i.a.createElement("dt",null,"Play Count"),i.a.createElement("dd",null,this.renderWhenNotLoading((()=>e?e.playCount:this.props.user?"0":"-")))),i.a.createElement("dl",{className:"MusicInfoTabStatscolumn is-right"},i.a.createElement("dt",null,"Best Score"),i.a.createElement("dd",null,this.renderWhenNotLoading((()=>e?e.score:"-"))),i.a.createElement("dt",null,"Accuracy"),i.a.createElement("dd",null,this.renderWhenNotLoading((()=>e?Object(b.a)(e):"-"))),i.a.createElement("dt",null,"Max Combo"),i.a.createElement("dd",null,this.renderWhenNotLoading((()=>e?i.a.createElement("span",null,e.combo," ",i.a.createElement("small",null,"/ ",e.total)):"-")))))}renderWhenNotLoading(t){return this.props.loading?i.a.createElement(d.a,{name:"spinner",spin:!0}):t()}renderMessage(){return this.props.user?null:i.a.createElement("div",{className:"MusicInfoTabStatsmessage"},"Please log in or create an account to save your play statistics.")}}v.propTypes={chart:s.a.object,record:s.a.object,user:s.a.object,loading:s.a.bool};var g=Object(y.a)(v),_=(n(1674),n(199)),w=n(195),S=n(216),x=n(782),k=n(356),E=n(131);function O(t){return Object(k.createIO)((({store:e},n)=>{const r=E.s(e.getState());return t&&t.readme?n(function(t,e){return Object(k.createIO)((async({store:n})=>{n.dispatch({type:E.p});try{const r=Object(x.a)(e,t),i=function(t){return t.replace(/\r\n|\r|\n/g,"\n").replace(/^---\n[\s\S]*?\n---/,"")}(e.readme?await r.baseResources.file(e.readme).then((t=>t.read())).then((t=>new Blob([t],{type:"text/plain"}).text())):"");n.dispatch({type:E.n,text:i})}catch(t){n.dispatch({type:E.o,url:e.readme})}}))}(r,t)):null}))}var A=n(1545),M=(n(1727),n(54)),C=n.n(M);class j extends i.a.Component{constructor(){super(...arguments),this.getUrl=()=>"https://www.youtube.com/embed/"+this.props.url.match(/v=([^&]+)/)[1],this.handleResize=()=>{let t=C.a.findDOMNode(this);t.style.height=9*t.offsetWidth/16+"px"}}render(){return i.a.createElement("iframe",{width:"100%",className:"YouTube",src:this.getUrl(),frameBorder:"0",allowFullScreen:!0})}componentDidMount(){window.addEventListener("resize",this.handleResize),this.handleResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}}j.propTypes={url:s.a.string};const T=Object(S.a)(Object(_.b)((t=>({readme:E.y(t)}))),Object(w.b)({onRequestReadme:()=>t=>O(t)}));class I extends i.a.Component{componentDidMount(){this.props.onRequestReadme(this.props.song)}componentWillReceiveProps(t){t.song!==this.props.song&&this.props.onRequestReadme(t.song)}render(){const t=this.props.song;return i.a.createElement("div",{className:"MusicInfoTabInformation"},this.renderButtons(),i.a.createElement("p",{className:"MusicInfoTabInformationartist"},i.a.createElement("span",null,"Artist:"),i.a.createElement("strong",null,F(t.artist,t.artist_url))),t.youtube_url?i.a.createElement(j,{url:t.youtube_url}):null,i.a.createElement("section",{className:"MusicInfoTabInformationreadme"},i.a.createElement(A.a,{source:this.props.readme})))}renderButtons(){let t=[],e=this.props.song;if(e.bms_url&&t.push(F("Download BMS",e.bms_url)),e.song_url){let n=/soundcloud\.com/.test(e.song_url)?"SoundCloud":"Song URL";t.push(F(n,e.song_url))}return e.long_url&&t.push(F("Long Version",e.long_url)),e.bmssearch_id&&t.push(F("BMS Search","number"==typeof e.bmssearch_id||String(e.bmssearch_id).match(/^\d{1,6}$/)?`http://bmssearch.net/bms?id=${e.bmssearch_id}`:`https://bmssearch.net/bmses/${e.bmssearch_id}`)),0===t.length?null:i.a.createElement("p",{className:"MusicInfoTabInformationbuttons"},t)}}I.propTypes={song:s.a.object,readme:s.a.string,onRequestReadme:s.a.func};var P=T(I);function F(t,e){return e?i.a.createElement("a",{key:t,href:e,target:"_blank"},t):t}var R=n(1063);const D=s.a.shape({bpm:s.a.shape({init:s.a.number,max:s.a.number,median:s.a.number,min:s.a.number}),duration:s.a.number,file:s.a.string,info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number}),keys:s.a.string,md5:s.a.string,noteCount:s.a.number});class B extends i.a.Component{constructor(t){super(t),this.state={selectedTab:0}}render(){return i.a.createElement("section",{className:"MusicInfoTabs"},i.a.createElement("ul",{className:"MusicInfoTabstabs"},i.a.createElement("li",{className:"MusicInfoTabsoptions",onClick:this.props.onOptions},i.a.createElement(d.a,{name:"gear"})," Options"),this.renderTab(0,"Stats"),this.renderTab(1,"Ranking"),this.renderTab(2,"Information")),i.a.createElement("div",{className:h()("MusicInfoTabspanel",{"is-without-padding":1===this.state.selectedTab})},this.renderCurrentTab()))}renderTab(t,e){return i.a.createElement("li",{className:h()("MusicInfoTabstab",{"is-active":t===this.state.selectedTab}),onClick:()=>this.setState({selectedTab:t})},e)}renderCurrentTab(){switch(this.state.selectedTab){case 0:return i.a.createElement(g,{song:this.props.song,chart:this.props.chart});case 1:return i.a.createElement(R.a,{chart:this.props.chart,playMode:this.props.playMode});case 2:return i.a.createElement(P,{song:this.props.song,chart:this.props.chart});default:return"Unknown tab"}}}B.propTypes={chart:D,onOptions:s.a.func,playMode:s.a.string,song:s.a.object};const N=s.a.shape({bpm:s.a.shape({init:s.a.number,max:s.a.number,median:s.a.number,min:s.a.number}),duration:s.a.number,file:s.a.string,info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number}),keys:s.a.string,md5:s.a.string,noteCount:s.a.number});class L extends i.a.PureComponent{render(){const{song:t,chart:e}=this.props;return i.a.createElement("section",{className:"MusicInfo"},i.a.createElement(a.a,{info:e.info}),i.a.createElement(l,{song:t,selectedChart:e,charts:this.props.charts,onChartClick:this.props.onChartClick}),i.a.createElement(B,{song:t,chart:e,playMode:this.props.playMode,onOptions:this.props.onOptions}))}}L.propTypes={chart:N,charts:s.a.arrayOf(N),onChartClick:s.a.func,onOptions:s.a.func,playMode:s.a.string,song:s.a.object};e.a=L},function(t,e,n){"use strict";n(1729);var r=n(26),i=n.n(r),o=n(29),s=n.n(o),a=n(30),c=n.n(a),u=(n(1731),n(55)),l=n.n(u),f=n(384),h=(n(1733),n(1542)),p=n(1544);n(1735);const d=s.a.shape({bpm:s.a.shape({init:s.a.number,max:s.a.number,median:s.a.number,min:s.a.number}),duration:s.a.number,file:s.a.string,info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number}),keys:s.a.string,md5:s.a.string,noteCount:s.a.number});class b extends i.a.Component{constructor(){super(...arguments),this.handleClick=t=>{this.props.onClick&&this.props.onClick(this.props.chart,t)}}render(){const{chart:t}=this.props,e=l()("MusicListItemChart",{"is-played":this.props.played,"is-selected":!!this.props.selected,"is-grade":!!this.props.grade});return i.a.createElement("div",{className:e,onClick:this.handleClick},i.a.createElement("span",{className:"MusicListItemCharttext"},this.props.loading?"":this.props.grade||t.info.level))}}b.propTypes={chart:d,grade:s.a.any,loading:s.a.bool,played:s.a.bool,selected:s.a.bool,onClick:s.a.func};var m=n(1737),y=n.n(m),v=n(1069),g=n.n(v),_=n(678),w=n.n(_)()(p.a,y()(["record"],(t=>{const e=t.record,n=!!e;let r=n?Object(h.a)(e):null;return"F"===r&&(r=null),{played:n,grade:r}})),g.a)(b);const S=s.a.shape({bpm:s.a.shape({init:s.a.number,max:s.a.number,median:s.a.number,min:s.a.number}),duration:s.a.number,file:s.a.string,info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number}),keys:s.a.string,md5:s.a.string,noteCount:s.a.number});class x extends i.a.Component{render(){return i.a.createElement("div",{className:"MusicListItemCharts"},this.props.charts.map(((t,e)=>i.a.createElement(w,{key:e,chart:t,selected:this.props.selectedChart&&t.md5===this.props.selectedChart.md5,onClick:this.props.onChartClick,playMode:this.props.playMode}))))}}x.propTypes={charts:s.a.arrayOf(S),onChartClick:s.a.func,selectedChart:S,playMode:s.a.string};const k=s.a.shape({bpm:s.a.shape({init:s.a.number,max:s.a.number,median:s.a.number,min:s.a.number}),duration:s.a.number,file:s.a.string,info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number}),keys:s.a.string,md5:s.a.string,noteCount:s.a.number});class E extends i.a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onSelect(this.props.song)},this.handleChartClick=(t,e)=>{e.stopPropagation(),this.props.onSelect(this.props.song,t)}}render(){const t=this.props.song,e=l()("MusicListItem",{"is-active":this.props.selected,"js-active-song":this.props.selected});return i.a.createElement("li",{className:e,onClick:this.handleClick},t.tutorial?i.a.createElement("div",{className:"MusicListItemtutorial"},i.a.createElement("div",{className:"MusicListItemcharts"},this.renderChartlist()),"Tutorial"):i.a.createElement("div",{className:"MusicListIteminfo"},i.a.createElement("div",{className:"MusicListIteminfo-top"},i.a.createElement("div",{className:"MusicListItemtitle"},this.renderHighlight(t.title)),i.a.createElement("div",{className:"MusicListItemcharts"},this.renderChartlist())),i.a.createElement("div",{className:"MusicListIteminfo-bottom"},i.a.createElement("div",{className:"MusicListItemartist"},this.renderHighlight(t.artist)),i.a.createElement("div",{className:"MusicListItemgenre"},this.renderHighlight(t.genre)))))}renderChartlist(){return i.a.createElement(x,{charts:Object(f.a)(this.props.song.charts),selectedChart:this.props.selectedChart,onChartClick:this.handleChartClick,playMode:this.props.playMode})}renderHighlight(t){if(!this.props.highlight)return t;let e=this.props.highlight,n=t.toLowerCase().split(e.toLowerCase());if(1===n.length)return t;let r=[],o=0;for(let s=0;s<n.length;s++)if(r.push(t.substr(o,n[s].length)),o+=n[s].length,s!==n.length-1){let n=t.substr(o,e.length);r.push(i.a.createElement("span",{className:"MusicListItemhighlight"},n)),o+=e.length}return r}}E.propTypes={song:s.a.object,selected:s.a.bool,selectedChart:k,playMode:s.a.string,onSelect:s.a.func,highlight:s.a.string};var O=E;const A=s.a.shape({bpm:s.a.shape({init:s.a.number,max:s.a.number,median:s.a.number,min:s.a.number}),duration:s.a.number,file:s.a.string,info:s.a.shape({title:s.a.string,artist:s.a.string,genre:s.a.string,subtitles:s.a.arrayOf(s.a.string),subartists:s.a.arrayOf(s.a.string),difficulty:s.a.number,level:s.a.number}),keys:s.a.string,md5:s.a.string,noteCount:s.a.number}),M=s.a.shape({artist:s.a.string,bpm:s.a.number,charts:s.a.arrayOf(A),custom:s.a.bool,genre:s.a.string,id:s.a.string,resources:s.a.any,title:s.a.string,warning:s.a.array});class C extends i.a.PureComponent{render(){return i.a.createElement("ul",{className:"MusicList js-scrollable-view",onTouchStart:this.props.onTouch},this.props.groups.map((({title:t,songs:e})=>[i.a.createElement("li",{key:t,className:"MusicListgroupTitle"},t),e.map((t=>i.a.createElement(O,{key:t.id,song:t,selected:t.id===this.props.selectedSong.id,selectedChart:this.getSelectedChart(t),playMode:this.props.playMode,onSelect:this.props.onSelect,highlight:this.props.highlight})))])))}getSelectedChart(t){let e=this.props.selectedChart;return c.a.find(t.charts,(t=>t===e))}}C.propTypes={groups:s.a.arrayOf(s.a.shape({title:s.a.string,songs:s.a.arrayOf(M)})),onTouch:s.a.func,onSelect:s.a.func,selectedSong:s.a.object,selectedChart:A,playMode:s.a.string,highlight:s.a.string};e.a=C},function(t,e,n){"use strict";var r=n(1555),i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var o=function(t){for(var e,n=t.length,r=n^n,i=0;n>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)};var s=function(t){function e(t,r,c,u,h){for(var p,d,b,m,_,S=0,x=0,k=0,E=0,O=0,I=0,F=b=p=0,D=0,B=0,N=0,L=0,q=c.length,U=q-1,z="",V="",H="",W="";D<q;){if(d=c.charCodeAt(D),D===U&&0!==x+E+k+S&&(0!==x&&(d=47===x?10:47),E=k=S=0,q++,U++),0===x+E+k+S){if(D===U&&(0<B&&(z=z.replace(f,"")),0<z.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:z+=c.charAt(D)}d=59}switch(d){case 123:for(p=(z=z.trim()).charCodeAt(0),b=1,L=++D;D<q;){switch(d=c.charCodeAt(D)){case 123:b++;break;case 125:b--;break;case 47:switch(d=c.charCodeAt(D+1)){case 42:case 47:t:{for(F=D+1;F<U;++F)switch(c.charCodeAt(F)){case 47:if(42===d&&42===c.charCodeAt(F-1)&&D+2!==F){D=F+1;break t}break;case 10:if(47===d){D=F+1;break t}}D=F}}break;case 91:d++;case 40:d++;case 34:case 39:for(;D++<U&&c.charCodeAt(D)!==d;);}if(0===b)break;D++}if(b=c.substring(L,D),0===p&&(p=(z=z.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<B&&(z=z.replace(f,"")),d=z.charCodeAt(1)){case 100:case 109:case 115:case 45:B=r;break;default:B=T}if(L=(b=e(r,B,b,d,h+1)).length,0<P&&(_=a(3,b,B=n(T,z,N),r,M,A,L,d,h,u),z=B.join(""),void 0!==_&&0===(L=(b=_.trim()).length)&&(d=0,b="")),0<L)switch(d){case 115:z=z.replace(w,s);case 100:case 109:case 45:b=z+"{"+b+"}";break;case 107:b=(z=z.replace(y,"$1 $2"))+"{"+b+"}",b=1===j||2===j&&o("@"+b,3)?"@-webkit-"+b+"@"+b:"@"+b;break;default:b=z+b,112===u&&(V+=b,b="")}else b=""}else b=e(r,n(r,z,N),b,u,h+1);H+=b,b=N=B=F=p=0,z="",d=c.charCodeAt(++D);break;case 125:case 59:if(1<(L=(z=(0<B?z.replace(f,""):z).trim()).length))switch(0===F&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&(L=(z=z.replace(" ",":")).length),0<P&&void 0!==(_=a(1,z,r,t,M,A,V.length,u,h,u))&&0===(L=(z=_.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),d=z.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){W+=z+c.charAt(D);break}default:58!==z.charCodeAt(L-1)&&(V+=i(z,p,d,z.charCodeAt(2)))}N=B=F=p=0,z="",d=c.charCodeAt(++D)}}switch(d){case 13:case 10:47===x?x=0:0===1+p&&107!==u&&0<z.length&&(B=1,z+="\0"),0<P*R&&a(0,z,r,t,M,A,V.length,u,h,u),A=1,M++;break;case 59:case 125:if(0===x+E+k+S){A++;break}default:switch(A++,m=c.charAt(D),d){case 9:case 32:if(0===E+S+x)switch(O){case 44:case 58:case 9:case 32:m="";break;default:32!==d&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+x+S&&(B=N=1,m="\f"+m);break;case 108:if(0===E+x+S+C&&0<F)switch(D-F){case 2:112===O&&58===c.charCodeAt(D-3)&&(C=O);case 8:111===I&&(C=I)}break;case 58:0===E+x+S&&(F=D);break;case 44:0===x+k+E+S&&(B=1,m+="\r");break;case 34:case 39:0===x&&(E=E===d?0:0===E?d:E);break;case 91:0===E+x+k&&S++;break;case 93:0===E+x+k&&S--;break;case 41:0===E+x+S&&k--;break;case 40:if(0===E+x+S){if(0===p)if(2*O+3*I==533);else p=1;k++}break;case 64:0===x+k+E+S+F+b&&(b=1);break;case 42:case 47:if(!(0<E+S+k))switch(x){case 0:switch(2*d+3*c.charCodeAt(D+1)){case 235:x=47;break;case 220:L=D,x=42}break;case 42:47===d&&42===O&&L+2!==D&&(33===c.charCodeAt(L+2)&&(V+=c.substring(L,D+1)),m="",x=0)}}0===x&&(z+=m)}I=O,O=d,D++}if(0<(L=V.length)){if(B=r,0<P&&(void 0!==(_=a(2,V,B,t,M,A,L,u,h,u))&&0===(V=_).length))return W+V+H;if(V=B.join(",")+"{"+V+"}",0!=j*C){switch(2!==j||o(V,2)||(C=0),C){case 111:V=V.replace(g,":-moz-$1")+V;break;case 112:V=V.replace(v,"::-webkit-input-$1")+V.replace(v,"::-moz-$1")+V.replace(v,":-ms-input-$1")+V}C=0}}return W+V+H}function n(t,e,n){var i=e.trim().split(b);e=i;var o=i.length,s=t.length;switch(s){case 0:case 1:var a=0;for(t=0===s?"":t[0]+" ";a<o;++a)e[a]=r(t,e[a],n).trim();break;default:var c=a=0;for(e=[];a<o;++a)for(var u=0;u<s;++u)e[c++]=r(t[u]+" ",i[a],n).trim()}return e}function r(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(m,"$1"+t.trim());case 58:return t.trim()+e.replace(m,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(m,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,n,r){var s=t+";",a=2*e+3*n+4*r;if(944===a){t=s.indexOf(":",9)+1;var c=s.substring(t,s.length-1).trim();return c=s.substring(0,t).trim()+c+";",1===j||2===j&&o(c,1)?"-webkit-"+c+c:c}if(0===j||2===j&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(O,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(c=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+c+s;case 1005:return p.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(e=(c=s.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(e)){case 226:c=s.replace(_,"tb");break;case 232:c=s.replace(_,"tb-rl");break;case 220:c=s.replace(_,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+c+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(e=(s=t).length-10,a=(c=(33===s.charCodeAt(e)?s.substring(0,e):s).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:s=s.replace(c,"-webkit-"+c)+";"+s;break;case 207:case 102:s=s.replace(c,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(c,"-webkit-"+c)+";"+s.replace(c,"-ms-"+c+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return c=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+c+"-ms-flex-"+c+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(x,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(x,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===E.test(t))return 115===(c=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):s.replace(c,"-webkit-"+c)+s.replace(c,"-moz-"+c.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+r&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+s}return s}function o(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),F(2!==e?r:r.replace(k,"$1"),n,e)}function s(t,e){var n=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(S," or ($1)").substring(4):"("+e+")"}function a(t,e,n,r,i,o,s,a,c,l){for(var f,h=0,p=e;h<P;++h)switch(f=I[h].call(u,t,p,n,r,i,o,s,a,c,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==e)return p}function c(t){return void 0!==(t=t.prefix)&&(F=null,t?"function"!=typeof t?j=1:(j=2,F=t):j=0),c}function u(t,n){var r=t;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=a(-1,n,r,r,M,A,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=e(T,r,n,0,0);return 0<P&&(void 0!==(i=a(-2,o,r,r,M,A,o.length,0,0,0))&&(o=i)),"",C=0,A=M=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,b=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,g=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,x=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,A=1,M=1,C=0,j=1,T=[],I=[],P=0,F=null,R=0;return u.use=function t(e){switch(e){case void 0:case null:P=I.length=0;break;default:switch(e.constructor){case Array:for(var n=0,r=e.length;n<r;++n)t(e[n]);break;case Function:I[P++]=e;break;case Boolean:R=0|!!e}}return t},u.set=c,void 0!==t&&c(t),u},a=n(1742),c=n.n(a),u=/[A-Z]|^ms/g,l=Object(r.a)((function(t){return t.replace(u,"-$&").toLowerCase()})),f=function(t,e){return null==e||"boolean"==typeof e?"":1===i[t]||45===t.charCodeAt(1)||isNaN(e)||0===e?e:e+"px"},h=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"function":0,s=t([o()]);break;case"object":if(Array.isArray(o))s=t(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i},p="undefined"!=typeof document;function d(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key||""),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),(void 0!==t.container?t.container:document.head).appendChild(e),e}var b=function(){function t(t){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=t}var e=t.prototype;return e.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=d(this.opts),this.injected=!0},e.speedy=function(t){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!t},e.insert=function(t,e){if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(this.tags[this.tags.length-1]);try{n.insertRule(t,n.cssRules.length)}catch(t){0}}else{var r=d(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(t+(e||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(d(this.opts))},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0,this.injected=!1},t}();e.a=function(t,e){if(void 0!==t.__SECRET_EMOTION__)return t.__SECRET_EMOTION__;void 0===e&&(e={});var n,r,i=e.key||"css",a=c()((function(t){n+=t,p&&d.insert(t,y)}));void 0!==e.prefix&&(r={prefix:e.prefix});var u={registered:{},inserted:{},nonce:e.nonce,key:i},d=new b(e);p&&d.inject();var m=new s(r);m.use(e.stylisPlugins)(a);var y="";function v(t,e){if(null==t)return"";switch(typeof t){case"boolean":return"";case"function":if(void 0!==t.__emotion_styles){var n=t.toString();return n}return v.call(this,void 0===this?t():t(this.mergedProps,this.context),e);case"object":return S.call(this,t);default:var r=u.registered[t];return!1===e&&void 0!==r?r:t}}var g,_,w=new WeakMap;function S(t){if(w.has(t))return w.get(t);var e="";return Array.isArray(t)?t.forEach((function(t){e+=v.call(this,t,!1)}),this):Object.keys(t).forEach((function(n){"object"!=typeof t[n]?void 0!==u.registered[t[n]]?e+=n+"{"+u.registered[t[n]]+"}":e+=l(n)+":"+f(n,t[n])+";":Array.isArray(t[n])&&"string"==typeof t[n][0]&&void 0===u.registered[t[n][0]]?t[n].forEach((function(t){e+=l(n)+":"+f(n,t)+";"})):e+=n+"{"+v.call(this,t[n],!1)+"}"}),this),w.set(t,e),e}var x=/label:\s*([^\s;\n{]+)\s*;/g,k=function(t,e){return o(t+e)+e},E=function(t){var e=!0,n="",r="";null==t||void 0===t.raw?(e=!1,n+=v.call(this,t,!1)):n+=t[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o.forEach((function(r,i){n+=v.call(this,r,46===n.charCodeAt(n.length-1)),!0===e&&void 0!==t[i+1]&&(n+=t[i+1])}),this),_=n,n=n.replace(x,(function(t,e){return r+="-"+e,""})),g=k(n,r),n};function O(t,e){void 0===u.inserted[g]&&(n="",m(t,e),u.inserted[g]=n)}var A=function(){var t=E.apply(this,arguments),e=i+"-"+g;return void 0===u.registered[e]&&(u.registered[e]=_),O("."+e,t),e};function M(t,e){var n="";return e.split(" ").forEach((function(e){void 0!==u.registered[e]?t.push(e):n+=e+" "})),n}function C(t,e){var n=[],r=M(n,t);return n.length<2?t:r+A(n,e)}function j(t){u.inserted[t]=!0}if(p){var T=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(T,(function(t){d.tags[0].parentNode.insertBefore(t,d.tags[0]),t.getAttribute("data-emotion-"+i).split(" ").forEach(j)}))}var I={flush:function(){p&&(d.flush(),d.inject()),u.inserted={},u.registered={}},hydrate:function(t){t.forEach(j)},cx:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C(h(e))},merge:C,getRegisteredStyles:M,injectGlobal:function(){var t=E.apply(this,arguments);O("",t)},keyframes:function(){var t=E.apply(this,arguments),e="animation-"+g;return O("","@keyframes "+e+"{"+t+"}"),e},css:A,sheet:d,caches:u};return t.__SECRET_EMOTION__=I,I}},function(t,e,n){"use strict";var r=n(26),i=n.n(r),o=n(29),s=n.n(o);n(1754);const a=({children:t})=>i.a.createElement("div",{className:"Page"},i.a.createElement("div",{className:"Pagewrapper"},t,i.a.createElement("div",{className:"Pageprivacy"},"By playing Bemuse, you agree to allow us to collect",i.a.createElement("br",null),"anonymous usage data for the purpose of improving the game.")));a.propTypes={children:s.a.node};var c=a;const u=({children:t})=>i.a.createElement("h1",{className:"Pageheading"},t);u.propTypes={children:s.a.node};e.a=()=>i.a.createElement(c,null,i.a.createElement(u,null,"What is Bemuse?"),i.a.createElement("p",null,"Bemuse is an online, web-based rhythm game."),i.a.createElement("p",null,"You play this game by pressing the correct keys on the keyboard along with the music. The more accurately you recreate the music, the higher score you get! There are more than 40 songs for you to choose from various genres."),i.a.createElement("p",null,"Compete for the highest score with our online ranking system. Play with your friends with our"," ",i.a.createElement("a",{href:"https://www.youtube.com/watch?v=hiJzFRIhiiA",target:"_blank"},"party mode"),"."),i.a.createElement("p",null,"Plug in your headphone, connect your"," ",i.a.createElement("a",{href:"https://www.youtube.com/watch?v=EOgI37Myqvk",target:"_blank"},"game controller")," ","or"," ",i.a.createElement("a",{href:"https://twitter.com/bemusegame/status/673094391905435648",target:"_blank"},"MIDI keyboard")," ","and enjoy Bemuse more intensely!"),i.a.createElement("p",null,"As a web-based game, you can play this game on any operating system that runs the latest version of Google Chrome. No extra software or plugins to install."))},,function(t,e,n){"use strict";n.r(e);var r=n(68),i=n(213),o=n(677);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(26),c=n.n(a),u=n(29),l=n.n(u),f=n(61),h=n.n(f),p=n(1744),d=n.n(p),b=function(){function t(t,e,n){var r=this;this.nativeMediaQueryList=t.matchMedia(e),this.active=!0,this.cancellableListener=function(){r.matches=r.nativeMediaQueryList.matches,r.active&&n.apply(void 0,arguments)},this.nativeMediaQueryList.addListener(this.cancellableListener),this.matches=this.nativeMediaQueryList.matches}return t.prototype.cancel=function(){this.active=!1,this.nativeMediaQueryList.removeListener(this.cancellableListener)},t}(),m=l.a.oneOfType([l.a.string,l.a.object,l.a.arrayOf(l.a.object.isRequired)]),y=function(t){function e(e){var n,i;return n=t.call(this,e)||this,s(Object(o.a)(Object(o.a)(n)),"queries",[]),s(Object(o.a)(Object(o.a)(n)),"getMatches",(function(){return function(t){var e=Object.keys(t);if(1===e.length&&"__DEFAULT__"===e[0])return t.__DEFAULT__;return t}(n.queries.reduce((function(t,e){var n,i=e.name,o=e.mqListener;return Object(r.a)({},t,((n={})[i]=o.matches,n))}),{}))})),s(Object(o.a)(Object(o.a)(n)),"updateMatches",(function(){var t=n.getMatches();n.setState((function(){return{matches:t}}),n.onChange)})),e.query||e.queries||e.query&&e.queries||h()(!1),void 0!==e.defaultMatches&&e.query&&"boolean"!=typeof e.defaultMatches&&h()(!1),void 0!==e.defaultMatches&&e.queries&&"object"!=typeof e.defaultMatches&&h()(!1),"object"!=typeof window?(i=void 0!==e.defaultMatches?e.defaultMatches:!!e.query||Object.keys(n.props.queries).reduce((function(t,e){var n;return Object(r.a)({},t,((n={})[e]=!0,n))}),{}),n.state={matches:i},Object(o.a)(n)):(n.initialize(),n.state={matches:void 0!==n.props.defaultMatches?n.props.defaultMatches:n.getMatches()},n.onChange(),n)}Object(i.a)(e,t);var n=e.prototype;return n.initialize=function(){var t=this,e=this.props.targetWindow||window;"function"!=typeof e.matchMedia&&h()(!1);var n=this.props.queries||{__DEFAULT__:this.props.query};this.queries=Object.keys(n).map((function(r){var i=n[r],o="string"!=typeof i?d()(i):i;return{name:r,mqListener:new b(e,o,t.updateMatches)}}))},n.componentDidMount=function(){this.initialize(),void 0!==this.props.defaultMatches&&this.updateMatches()},n.onChange=function(){var t=this.props.onChange;t&&t(this.state.matches)},n.componentWillUnmount=function(){this.queries.forEach((function(t){return t.mqListener.cancel()}))},n.render=function(){var t=this.props,e=t.children,n=t.render,r=this.state.matches,i="object"==typeof r?Object.keys(r).some((function(t){return r[t]})):r;return n?i?n(r):null:e?"function"==typeof e?e(r):(!Array.isArray(e)||e.length)&&i?c.a.Children.only(e)&&"string"==typeof c.a.Children.only(e).type?c.a.Children.only(e):c.a.cloneElement(c.a.Children.only(e),{matches:r}):null:null},e}(c.a.Component);s(y,"propTypes",{defaultMatches:l.a.oneOfType([l.a.bool,l.a.objectOf(l.a.bool)]),query:m,queries:l.a.objectOf(m),render:l.a.func,children:l.a.oneOfType([l.a.node,l.a.func]),targetWindow:l.a.object,onChange:l.a.func});e.default=y},,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"runIO",(function(){return N})),n.d(e,"main",(function(){return L}));var r=n(29),i=n.n(r),o=n(26),s=n.n(o),a=n(233),c=n(200),u=n(1648),l=n.n(u),f=n(383),h=n(356),p=n(1649),d=n(150),b=n(216),m=n(203),y=n(217),v=n(131),g=n(360),_=n(1539),w=(n(1654),n(218)),S=n(149);const x=[{name:"Firefox 69+",test:()=>k(/Firefox\/(\d+)/,69)},{name:"Chrome 76+",test:()=>k(/Chrome\/(\d+)\./,76)},{name:"Safari 14+",test:()=>k(/Version\/(\d+)\.\S+ Safari\//,14)},{name:"iOS 14+ (iPad Pro)",test:()=>k(/iPad; CPU OS (\d+)/,14)}];function k(t,e){let n=navigator.userAgent.match(t);return!!n&&+n[1]>=e}class E extends s.a.Component{constructor(){super(...arguments),this.handleContinue=()=>{a.a.display(this.props.next)}}render(){return s.a.createElement(w.a,{className:"BrowserSupportWarningScene"},s.a.createElement("h1",null,"Warning: Unsupported Browser"),s.a.createElement("p",null,"It seems that you are using an unsupported browser.",s.a.createElement("br",null),"This game may not work correctly."),s.a.createElement("p",null,"We support",x.map(((t,e,n)=>[e?e===n.length-1?" and ":", ":" ",s.a.createElement("strong",null,t.name)])),"."),s.a.createElement("p",null,s.a.createElement(S.a,{onClick:this.handleContinue},"Continue Anyway")),s.a.createElement("p",{className:"BrowserSupportWarningSceneuserAgent"},s.a.createElement("strong",null,"User agent:")," ",navigator.userAgent))}}E.propTypes={next:i.a.element.isRequired};var O=E,A=n(1540),M=n(1750),C=n(1534),j=n(1498),T=n(1499);var I=Object(T.a)(),P=n(390),F=n(704);const R=Object(C.b)({fetch:fetch,onBeginLoading:t=>I.dispatch({type:v.b,url:t}),onErrorLoading:(t,e)=>I.dispatch({type:v.c,url:t,error:e}),onLoad:(t,e)=>{I.dispatch({type:v.a,url:t,data:e});const n=Object(P.b)();if(n){const t=Object(j.a)({songs:e.songs,getTitle:t=>t.title,title:n});t&&I.dispatch({type:v.j,songId:t.id})}}});var D={store:I,collectionLoader:R,customSongLoader:{loadSongFromResources:async(t,e)=>{const n=await Object(F.a)(t,e);return n.id="__custom_"+Date.now(),n.custom=!0,n}}},B=n(904);const N=Object(h.createRun)({context:D});a.a.ReactSceneContainer=Object(b.d)({store:i.a.object,runIO:i.a.func},(()=>({store:I,runIO:N})))((({children:t})=>s.a.createElement("div",{className:"bemuse-scene"},s.a.Children.only(t))));e.default=N;function L(){N(Object(h.createIO)((({collectionLoader:t,store:e},n)=>{t.load(Object(P.c)()||f.a),e.dispatch({type:v.h,text:Object(P.a)()}),n(y.a()),Object(B.d)(Object(B.c)()).then((t=>{t.length>0&&e.dispatch({type:v.d,songs:t})}))})));let t="serviceWorker"in navigator&&!(("https:"!==location.protocol||"bemuse.ninja"!==location.host)&&"localhost"!==location.hostname)&&(l.a.register(),!0);t&&t.then?Promise.resolve(t).finally(q).done():q();let e=Object(P.f)()||"wss://timesynchro.herokuapp.com/";e&&c.a.synchronize(e),function(){let t=!1;document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement&&!t?(t=!0,m.f("fullscreen","enter")):!document.fullscreenElement&&t&&(t=!1,m.f("fullscreen","exit"))}))}(),Object(p.monetize)("$twitter.xrptipbot.com/bemusegame")}function q(){a.a.display(function(){if(Object(d.d)())return s.a.createElement(_.a);if(Object(d.e)())return s.a.createElement(A.a);{let t=s.a.createElement(M.a);return function(){for(let t of x)if(t.test())return!0;return!1}()||(t=s.a.createElement(O,{next:t})),t}}()).done()}window.addEventListener("beforeunload",(()=>{m.f("app","quit")})),Object.assign(window,{BemuseTestMode:g})}])]);
//# sourceMappingURL=app-f3c9db31f95a0e13ae2d.js.map