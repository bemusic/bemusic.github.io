(this.webpackJsonp=this.webpackJsonp||[]).push([[15],{156:function(n,t,e){"use strict";t.a=new AudioContext({latencyHint:"interactive"})},170:function(n,t,e){"use strict";e.d(t,"a",(function(){return s})),e.d(t,"c",(function(){return l}));var r=e(156),a=e(79),o=e(176);const s=.001,i=document.createElement("audio");const c=!i.canPlayType('audio/ogg; codecs="vorbis"');class f{constructor(n,{volume:t}={}){this._master=n,this._gain=this._master.audioContext.createGain(),null!=t&&(this._gain.gain.value=t),this._gain.connect(this._master.destination)}get destination(){return this._gain}destroy(){this._gain.disconnect(),this._gain=null}}class m{constructor(n,t){this._master=n,this._buffer=t}play(n,t){return new d(this._master,this._buffer,n,t)}destroy(){this._master=null,this._buffer=null}get duration(){return this._buffer.duration}}class d{constructor(n,t,e,r={}){e=e||0,this._master=n;const a=n.audioContext,o=a.createBufferSource();o.buffer=t,o.onended=()=>this.stop();const i=a.createGain();o.connect(i);const c=r.node||r.group&&r.group.destination||n.destination;i.connect(c),this._source=o,this._gain=this.TEST_node=i;const f=e?Math.max(0,a.currentTime+e):0,m=r.start||0,d=m>0;let l=!1;if(d&&i.gain.setValueAtTime(0,0),void 0!==r.end){const n=Math.max(r.end-m,0);o.start(f,m,n+s),l=a.currentTime+e+n}else o.start(f,m);d&&(i.gain.setValueAtTime(0,a.currentTime+e),i.gain.linearRampToValueAtTime(1,a.currentTime+e+s)),!1!==l&&(i.gain.setValueAtTime(1,l),i.gain.linearRampToValueAtTime(0,l+s)),this._master._startPlaying(this)}stop(){this._source&&(this._source.stop(0),this._source.disconnect(),this._gain.disconnect(),this._source=null,this._gain=null,this._master._stoppedPlaying(this),this.onstop&&this.onstop())}bad(){this._source&&(this._source.playbackRate.value=Math.random()<.5?Math.pow(2,1/24):Math.pow(2,-1/24))}destroy(){this.stop()}}function l(n=r.a){const t=n.createGain(),e=n.createOscillator();e.frequency.value=440,e.start(n.currentTime+.1),e.stop(n.currentTime+.1),t.connect(n.destination),t.disconnect(),async function(n){return n.resume()}(n).catch((n=>{console.error("[sampling-master] Cannot resume AudioContext",n)}))}t.b=class{constructor(n){this._audioContext=n||r.a,this._samples=[],this._groups=[],this._instances=new Set,this._destination=this._audioContext.destination}unmute(){l(this._audioContext)}get audioContext(){return this._audioContext}get destination(){return this._destination}get currentTime(){return this._audioContext.currentTime}destroy(){if(!this._destroyed){this._destroyed=!0;for(const n of this._samples)n.destroy();for(const n of this._instances)n.destroy();this._samples=null,this._instances=null}}decode(n){return this._coerceToArrayBuffer(n).then((n=>this._decodeAudio(n)))}sample(n){return(()=>n.numberOfChannels?Promise.resolve(n):this.decode(n))().then((n=>{if(this._destroyed)throw new Error("SamplingMaster already destroyed!");const t=new m(this,n);return this._samples.push(t),t}))}group(n){const t=new f(this,n);return this._groups.push(t),t}_coerceToArrayBuffer(n){return n instanceof ArrayBuffer?Promise.resolve(n):Object(a.a)(n).as("arraybuffer")}_decodeAudio(n){return new Promise(((t,e)=>{if(c&&n.byteLength>4){const e=new Uint8Array(n,0,4);if(79===e[0]&&103===e[1]&&103===e[2]&&83===e[3])return t(Object(o.a)(this.audioContext,n))}this.audioContext.decodeAudioData(n,(function(n){t(n)}),(function(n){e(new Error("Unable to decode audio: "+n))}))}))}_startPlaying(n){this._instances.add(n)}_stoppedPlaying(n){this._instances.delete(n)}}},176:function(n,t,e){"use strict";e.d(t,"a",(function(){return s}));var r=e(169);let a;const o=e.n(r)()(1);async function s(n,t){const r=await(a||(a=e.e(14).then(e.t.bind(null,553,7)).then((n=>n.default)).then((n=>(0,eval)(n+";stbvorbis")))),a);return o((()=>function(n,t,e){return new Promise(((r,a)=>{const o=[];let s,c=0;n.decode(e,(function(n){if(n.data&&(s=n.sampleRate,o.push(n.data),c+=n.data[0].length),n.error){const t=n.error instanceof Error?n.error:`stbvorbis.js Error: ${n.error}`;a(t)}n.eof&&r(async function(n,t,e,r){if(!e)throw new Error("stbvorbis.js Error: No length");if(!r)throw new Error("stbvorbis.js Error: No sample rate");const a=t[0].length,o=n.createBuffer(a,e,r),s=Array(o.numberOfChannels).fill(null).map(((n,t)=>new i(o.getChannelData(t))));for(const n of t)n.forEach(((n,t)=>{s[t].write(n)}));return o}(t,o,c,s))}))}))}(r,n,t)))}class i{constructor(n){this.data=n,this.offset=0}write(n){const{offset:t,data:e}=this;for(let r=0;r<n.length;r++)e[r+t]=n[r];this.offset+=n.length}}},1786:function(n,t,e){n.exports=e.p+"build/c3e8436ef4e3bcc1fbc987075279be07.ogg"},1787:function(n,t,e){n.exports=e.p+"build/aaeef09f2847a09d179f45cfe118d7e7.ogg"},1788:function(n,t,e){n.exports=e.p+"build/c1df64d6d6f13f3a38362aea7cc70a3f.ogg"},1789:function(n,t,e){n.exports=e.p+"build/e733dbfbb80f232b5704be73413ff476.ogg"},1790:function(n,t,e){var r=e(1791);"string"==typeof r&&(r=[[n.i,r,""]]);var a={hmr:!0,transform:undefined,insertInto:void 0};e(0)(r,a);r.locals&&(n.exports=r.locals)},1791:function(n,t,e){(n.exports=e(1)(!1)).push([n.i,'@charset "UTF-8";\n.ExperimentScene {\n  display: flex;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  align-items: center;\n  justify-content: center;\n}\n.ExperimentSceneのbutton {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #454443, #151413);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  font-size: 18px;\n}\n.ExperimentSceneのbutton:hover {\n  border-color: #656463;\n}\n.ExperimentSceneのbutton:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.ExperimentSceneのbutton:active {\n  background: #252423 linear-gradient(to top, #353433, #151413);\n  border-color: #454443;\n}\n.ExperimentSceneのmessage {\n  text-align: center;\n  font-size: 16px;\n}\n.ExperimentSceneのprogress {\n  width: 100px;\n  margin: 1em auto;\n  border: 1px solid #8b8685;\n  padding: 1px;\n}\n.ExperimentSceneのprogressBar {\n  height: 5px;\n  background: #8b8685;\n  transition: 0.5s -webkit-transform linear;\n  transition: 0.5s transform linear;\n  transition: 0.5s transform linear, 0.5s -webkit-transform linear;\n  -webkit-transform-origin: left;\n          transform-origin: left;\n}\n.ExperimentScene.is-finished .ExperimentSceneのwrapper {\n  -webkit-animation: 3.243243243s experiment-scene--auto-synchro linear infinite;\n          animation: 3.243243243s experiment-scene--auto-synchro linear infinite;\n}\n.ExperimentScene.is-finished .ExperimentSceneのwrapperInner {\n  -webkit-animation: 3s experiment-scene--spin linear infinite;\n          animation: 3s experiment-scene--spin linear infinite;\n  -webkit-animation-delay: 13.378378377s;\n          animation-delay: 13.378378377s;\n}\n\n@-webkit-keyframes experiment-scene--auto-synchro {\n  0.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  11.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  13.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  24.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  25.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  36.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  38.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  49.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  50.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  61.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  63.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  74.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  75.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  86.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  88.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  100.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n\n@keyframes experiment-scene--auto-synchro {\n  0.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  11.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  13.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  24.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  25.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  36.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  38.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  49.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  50.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  61.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  63.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  74.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  75.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  86.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  88.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  100.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n@-webkit-keyframes experiment-scene--spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  4% {\n    -webkit-transform: rotate(1.99deg);\n            transform: rotate(1.99deg);\n  }\n  8% {\n    -webkit-transform: rotate(3.85deg);\n            transform: rotate(3.85deg);\n  }\n  12% {\n    -webkit-transform: rotate(5.48deg);\n            transform: rotate(5.48deg);\n  }\n  16% {\n    -webkit-transform: rotate(6.75deg);\n            transform: rotate(6.75deg);\n  }\n  20% {\n    -webkit-transform: rotate(7.61deg);\n            transform: rotate(7.61deg);\n  }\n  24% {\n    -webkit-transform: rotate(7.98deg);\n            transform: rotate(7.98deg);\n  }\n  28% {\n    -webkit-transform: rotate(7.86deg);\n            transform: rotate(7.86deg);\n  }\n  32% {\n    -webkit-transform: rotate(7.24deg);\n            transform: rotate(7.24deg);\n  }\n  36% {\n    -webkit-transform: rotate(6.16deg);\n            transform: rotate(6.16deg);\n  }\n  40% {\n    -webkit-transform: rotate(4.7deg);\n            transform: rotate(4.7deg);\n  }\n  44% {\n    -webkit-transform: rotate(2.94deg);\n            transform: rotate(2.94deg);\n  }\n  48% {\n    -webkit-transform: rotate(1deg);\n            transform: rotate(1deg);\n  }\n  52% {\n    -webkit-transform: rotate(-1deg);\n            transform: rotate(-1deg);\n  }\n  56% {\n    -webkit-transform: rotate(-2.94deg);\n            transform: rotate(-2.94deg);\n  }\n  60% {\n    -webkit-transform: rotate(-4.7deg);\n            transform: rotate(-4.7deg);\n  }\n  64% {\n    -webkit-transform: rotate(-6.16deg);\n            transform: rotate(-6.16deg);\n  }\n  68% {\n    -webkit-transform: rotate(-7.24deg);\n            transform: rotate(-7.24deg);\n  }\n  72% {\n    -webkit-transform: rotate(-7.86deg);\n            transform: rotate(-7.86deg);\n  }\n  76% {\n    -webkit-transform: rotate(-7.98deg);\n            transform: rotate(-7.98deg);\n  }\n  80% {\n    -webkit-transform: rotate(-7.61deg);\n            transform: rotate(-7.61deg);\n  }\n  84% {\n    -webkit-transform: rotate(-6.75deg);\n            transform: rotate(-6.75deg);\n  }\n  88% {\n    -webkit-transform: rotate(-5.48deg);\n            transform: rotate(-5.48deg);\n  }\n  92% {\n    -webkit-transform: rotate(-3.85deg);\n            transform: rotate(-3.85deg);\n  }\n  96% {\n    -webkit-transform: rotate(-1.99deg);\n            transform: rotate(-1.99deg);\n  }\n  100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes experiment-scene--spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  4% {\n    -webkit-transform: rotate(1.99deg);\n            transform: rotate(1.99deg);\n  }\n  8% {\n    -webkit-transform: rotate(3.85deg);\n            transform: rotate(3.85deg);\n  }\n  12% {\n    -webkit-transform: rotate(5.48deg);\n            transform: rotate(5.48deg);\n  }\n  16% {\n    -webkit-transform: rotate(6.75deg);\n            transform: rotate(6.75deg);\n  }\n  20% {\n    -webkit-transform: rotate(7.61deg);\n            transform: rotate(7.61deg);\n  }\n  24% {\n    -webkit-transform: rotate(7.98deg);\n            transform: rotate(7.98deg);\n  }\n  28% {\n    -webkit-transform: rotate(7.86deg);\n            transform: rotate(7.86deg);\n  }\n  32% {\n    -webkit-transform: rotate(7.24deg);\n            transform: rotate(7.24deg);\n  }\n  36% {\n    -webkit-transform: rotate(6.16deg);\n            transform: rotate(6.16deg);\n  }\n  40% {\n    -webkit-transform: rotate(4.7deg);\n            transform: rotate(4.7deg);\n  }\n  44% {\n    -webkit-transform: rotate(2.94deg);\n            transform: rotate(2.94deg);\n  }\n  48% {\n    -webkit-transform: rotate(1deg);\n            transform: rotate(1deg);\n  }\n  52% {\n    -webkit-transform: rotate(-1deg);\n            transform: rotate(-1deg);\n  }\n  56% {\n    -webkit-transform: rotate(-2.94deg);\n            transform: rotate(-2.94deg);\n  }\n  60% {\n    -webkit-transform: rotate(-4.7deg);\n            transform: rotate(-4.7deg);\n  }\n  64% {\n    -webkit-transform: rotate(-6.16deg);\n            transform: rotate(-6.16deg);\n  }\n  68% {\n    -webkit-transform: rotate(-7.24deg);\n            transform: rotate(-7.24deg);\n  }\n  72% {\n    -webkit-transform: rotate(-7.86deg);\n            transform: rotate(-7.86deg);\n  }\n  76% {\n    -webkit-transform: rotate(-7.98deg);\n            transform: rotate(-7.98deg);\n  }\n  80% {\n    -webkit-transform: rotate(-7.61deg);\n            transform: rotate(-7.61deg);\n  }\n  84% {\n    -webkit-transform: rotate(-6.75deg);\n            transform: rotate(-6.75deg);\n  }\n  88% {\n    -webkit-transform: rotate(-5.48deg);\n            transform: rotate(-5.48deg);\n  }\n  92% {\n    -webkit-transform: rotate(-3.85deg);\n            transform: rotate(-3.85deg);\n  }\n  96% {\n    -webkit-transform: rotate(-1.99deg);\n            transform: rotate(-1.99deg);\n  }\n  100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}',""])},1832:function(n,t,e){"use strict";e.r(t),e.d(t,"main",(function(){return S}));var r=e(27),a=e.n(r),o=e(156),s=e(98),i=e(170);const c={"bgm.ogg":e(1786),"intro.ogg":e(1787),"kick.ogg":e(1788),"snare.ogg":e(1789)};async function f(){const n=new i.b(o.a),t=a.a.fromPairs(await Promise.all(["bgm","intro","kick","snare"].map((t=>(t=>Object(s.a)(c[`${t}.ogg`]).as("arraybuffer").then((t=>n.sample(t))))(t).then((n=>[t,n]))))));return function(n,t){return function(e){n.unmute();const r=148,a=new m(o.a,-1),s=o.a.createBiquadFilter();s.type="lowpass",s.frequency.value=0,s.Q.value=10,s.connect(o.a.destination);const i={part2:null},c=function(n,t){let e=-1;return r=>{const a=Math.floor((r+.1)*n/60);for(;e<a;){e+=1;t(e,60*e/n-r)}}}(r,((n,r)=>{n%8!=7&&t.kick.play(r),null!==i.part2?(n-=i.part2.begin)%128==0&&t.bgm.play(r):(n%32==0&&t.intro.play(r,{node:s}),n%32==31&&!0===i.ok&&(t.snare.play(r),i.part2={begin:n+1},e.a()))}));return setInterval((()=>c(a.t)),33),{ok(){i.ok=!0},progress(n){s.frequency.value=2e4*n*n*n},getSample(){const n=Math.round(a.t*r/60),t=60*n/r;return[n,a.t-t]}}}}(n,t)}class m{constructor(n,t){this._context=n,this._start=n.currentTime,this._startTime=t}get t(){return this._context.currentTime-this._start+this._startTime}}var d=e(23),l=e.n(d),u=e(49),g=e.n(u),h=(e(1790),e(26)),p=e.n(h),b=e(50),w=e.n(b);class k extends l.a.Component{constructor(){super(...arguments),this.renderContents=()=>this.props.loading?null:this.props.started?this.props.listening?this.renderCollection():this.renderMessage("Please listen to the beats…"):this.renderReady(),this.renderReady=()=>l.a.createElement("div",{className:"ExperimentSceneのready"},l.a.createElement("button",{className:"ExperimentSceneのbutton",onClick:this.props.onStart},"Start Calibration")),this.renderMessage=n=>l.a.createElement("div",{className:"ExperimentSceneのmessage"},n),this.renderCollection=()=>{var n;const t="scaleX("+(this.props.finished?1:(n=Math.min(1,this.props.numSamples/84),1-Math.pow(1-n,2)))+")",e={transform:t,WebkitTransform:t};return l.a.createElement("div",{className:"ExperimentSceneのcollection"},this.renderMessage(this.props.finished?"Your latency is "+this.props.latency+"ms. Please close this window.":"Please press the space bar when you hear the kick drum."),l.a.createElement("div",{className:"ExperimentSceneのprogress"},l.a.createElement("div",{className:"ExperimentSceneのprogressBar",style:e})))}}render(){return l.a.createElement("div",{className:w()("ExperimentScene",{"is-finished":this.props.finished})},l.a.createElement("div",{className:"ExperimentSceneのwrapper"},l.a.createElement("div",{className:"ExperimentSceneのwrapperInner"},this.renderContents())))}}k.propTypes={finished:p.a.bool,loading:p.a.bool,started:p.a.bool,listening:p.a.bool,onStart:p.a.func,numSamples:p.a.number,latency:p.a.number};var y=e(71),x=e.n(y),_=e(72),E=e.n(_),v=e(885);function S(n){n.setStatus("Loading song");const t=new E.a.Bus,e=t.scan({loading:!0,started:!1,finished:!1,listening:!1,numSamples:0,latency:0},((n,t)=>a.a.assign({},n,t))),r=Object(v.a)(e)(k),o=l.a.createElement(r,{onStart:()=>{s(),i({type:"calibration-started"}),addEventListener("beforeunload",(()=>{i({type:"calibration-closed"})}))}});let s;function i(n){window.opener&&window.opener.postMessage(n,"*")}return g.a.render(o,x()("<div></div>").appendTo("body")[0]),f().then((n=>{const e=[];t.push({loading:!1}),s=()=>{t.push({started:!0});const r=n({a(){const n=Math.max(0,function(n){const t=n.map((n=>n[1]));t.sort(((n,t)=>n-t));let e=0,r=0;for(let n=Math.floor(1*t.length/7);n<6*t.length/7;n++)e+=1,r+=t[n];return Math.round(r/e*1e3)}(e));t.push({finished:!0,latency:n}),i({latency:n})}}),a=()=>{e.push(r.getSample()),r.progress(Math.min(1,e.length/56)),e.length>=56&&r.ok(),t.push({numSamples:e.length})};setTimeout((()=>{t.push({listening:!0}),window.addEventListener("keydown",(n=>{32===n.which&&(n.preventDefault(),a())})),window.addEventListener("touchstart",(n=>{1===n.touches.length&&(n.preventDefault(),a())}))}),6675)}}))}},68:function(n,t,e){"use strict";e.d(t,"a",(function(){return s})),e.d(t,"c",(function(){return i})),e.d(t,"b",(function(){return c}));var r=e(166),a=e.n(r);const o=n=>t=>null!==t.progress?n(t):"",s=o((n=>a()(n.current)+" / "+a()(n.total))),i=o((n=>(n.current/n.total*100).toFixed(1)+"%")),c=o((n=>n.extra+""))},79:function(n,t,e){"use strict";t.a=function(n){return{as:t=>new Promise((function(e,r){const a=new FileReader;switch(a.onload=function(){e(a.result)},a.onerror=function(){r(new Error("Unable to read from Blob"))},t){case"arraybuffer":a.readAsArrayBuffer(n);break;case"text":a.readAsText(n)}}))}}},885:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var r=e(72),a=e.n(r),o=e(23),s=e.n(o);function i(n){if(n instanceof a.a.Property)return n;if(n instanceof a.a.EventStream)throw new Error("Please convert Bacon.EventStream to Bacon.Property first.");if(n&&"object"==typeof n)return a.a.combineTemplate(n);throw new Error("Expected a Bacon.Property or a template.")}const c=n=>t=>{const e=i(n);return class extends s.a.Component{constructor(n){let t;super(n),this.handleValue=n=>{this._mounted&&this.setState({value:n})},this._unsubscribe=e.onValue(this.handleValue);e.onValue((n=>t=n))(),this.state={value:t}}componentWillUnmount(){this._mounted=!1,this._unsubscribe&&this._unsubscribe()}componentDidMount(){this._mounted=!0}render(){return s.a.createElement(t,{...this.state.value||{},...this.props})}}}},98:function(n,t,e){"use strict";var r=e(121),a=e.n(r),o=e(68);t.a=function(n,{getRetryDelay:t=(()=>1e3+4e3*Math.random())}={}){return{async as(e,r){let s=!1;for(let i=1;;i++)try{return await new Promise(((t,a)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onload=()=>{200==+i.status?t(i.response):(403!=+i.status&&404!=+i.status||(s=!0),a(new Error(`Unable to download ${n}: HTTP ${i.status}`)))},i.onerror=()=>a(new Error(`Unable to download ${n}`)),r&&(r.formatter=o.a,i.onprogress=n=>r.report(n.loaded,n.total)),i.send(null)}))}catch(e){if(console.error(`Unable to download ${n} [attempt ${i}]`,e),i>=3||s)throw e;const r=t();await a()(r)}}}}}}]);
//# sourceMappingURL=sync-95fe1db59ef80dc519ac.js.map