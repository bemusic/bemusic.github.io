webpackJsonp([2,6],[,,function(e,t,n){(function(t){"use strict";var n=function(e,n,r,o,i,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return l[f++]}))}throw c.framesToPop=1,c}};e.exports=n}).call(t,n(1))},function(e,t,n){e.exports=n(246)},function(e,t,n){/**
	 * @file        Main export of the PIXI core library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
var r=e.exports=Object.assign(n(12),n(21),{utils:n(22),ticker:n(565),DisplayObject:n(325),Container:n(131),Sprite:n(332),ParticleContainer:n(548),SpriteRenderer:n(562),ParticleRenderer:n(550),Text:n(563),Graphics:n(540),GraphicsData:n(326),GraphicsRenderer:n(541),Texture:n(95),BaseTexture:n(135),RenderTexture:n(164),VideoBaseTexture:n(334),TextureUvs:n(333),CanvasRenderer:n(552),CanvasGraphics:n(161),CanvasBuffer:n(160),WebGLRenderer:n(132),ShaderManager:n(331),Shader:n(133),ObjectRenderer:n(94),RenderTarget:n(134),AbstractFilter:n(162),FXAAFilter:n(328),SpriteMaskFilter:n(329),autoDetectRenderer:function(e,t,n,o){return e=e||800,t=t||600,!o&&r.utils.isWebGLSupported()?new r.WebGLRenderer(e,t,n):new r.CanvasRenderer(e,t,n)}})},function(e,t){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var a=Object(i);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}e.exports=n},function(e,t,n){(function(t){"use strict";function r(e,n){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[n]:null},set:function(e){"production"!==t.env.NODE_ENV?u(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",n):null,this._store[n]=e}})}function o(e){try{var t={props:!0};for(var n in t)r(e,n);l=!0}catch(o){}}var i=n(74),a=n(20),s=n(5),u=n(8),c={key:!0,ref:!0},l=!1,f=function(e,n,r,o,i,a){if(this.type=e,this.key=n,this.ref=r,this._owner=o,this._context=i,"production"!==t.env.NODE_ENV){this._store={props:a,originalProps:s({},a)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(u){}if(this._store.validated=!1,l)return void Object.freeze(this)}this.props=a};f.prototype={_isReactElement:!0},"production"!==t.env.NODE_ENV&&o(f.prototype),f.createElement=function(e,t,n){var r,o={},s=null,u=null;if(null!=t){u=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key;for(r in t)t.hasOwnProperty(r)&&!c.hasOwnProperty(r)&&(o[r]=t[r])}var l=arguments.length-2;if(1===l)o.children=n;else if(l>1){for(var p=Array(l),h=0;l>h;h++)p[h]=arguments[h+2];o.children=p}if(e&&e.defaultProps){var d=e.defaultProps;for(r in d)"undefined"==typeof o[r]&&(o[r]=d[r])}return new f(e,s,u,a.current,i.current,o)},f.createFactory=function(e){var t=f.createElement.bind(null,e);return t.type=e,t},f.cloneAndReplaceProps=function(e,n){var r=new f(e.type,e.key,e.ref,e._owner,e._context,n);return"production"!==t.env.NODE_ENV&&(r._store.validated=e._store.validated),r},f.cloneElement=function(e,t,n){var r,o=s({},e.props),i=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=a.current),void 0!==t.key&&(i=""+t.key);for(r in t)t.hasOwnProperty(r)&&!c.hasOwnProperty(r)&&(o[r]=t[r])}var p=arguments.length-2;if(1===p)o.children=n;else if(p>1){for(var h=Array(p),d=0;p>d;d++)h[d]=arguments[d+2];o.children=h}return new f(e.type,i,u,l,e._context,o)},f.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},e.exports=f}).call(t,n(1))},,function(e,t,n){(function(t){"use strict";var r=n(24),o=r;"production"!==t.env.NODE_ENV&&(o=function(e,t){for(var n=[],r=2,o=arguments.length;o>r;r++)n.push(arguments[r]);if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(t.length<10||/^[s\W]*$/.test(t))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+t);if(0!==t.indexOf("Failed Composite propType: ")&&!e){var i=0,a="Warning: "+t.replace(/%s/g,function(){return n[i++]});console.warn(a);try{throw new Error(a)}catch(s){}}}),e.exports=o}).call(t,n(1))},,function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},,function(e,t,n){var r={VERSION:n(463).version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=r},function(e,t,n){"use strict";var r=n(44),o=r({bubbled:null,captured:null}),i=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};e.exports=a},function(e,t,n){(function(t){"use strict";function r(e,n,r){for(var o in n)n.hasOwnProperty(o)&&("production"!==t.env.NODE_ENV?C("function"==typeof n[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",b[r],o):null)}function o(e,n){var r=k.hasOwnProperty(n)?k[n]:null;N.hasOwnProperty(n)&&("production"!==t.env.NODE_ENV?x(r===O.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",n):x(r===O.OVERRIDE_BASE)),e.hasOwnProperty(n)&&("production"!==t.env.NODE_ENV?x(r===O.DEFINE_MANY||r===O.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):x(r===O.DEFINE_MANY||r===O.DEFINE_MANY_MERGED))}function i(e,n){if(n){"production"!==t.env.NODE_ENV?x("function"!=typeof n,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):x("function"!=typeof n),"production"!==t.env.NODE_ENV?x(!d.isValidElement(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):x(!d.isValidElement(n));var r=e.prototype;n.hasOwnProperty(T)&&j.mixins(e,n.mixins);for(var i in n)if(n.hasOwnProperty(i)&&i!==T){var a=n[i];if(o(r,i),j.hasOwnProperty(i))j[i](e,a);else{var s=k.hasOwnProperty(i),l=r.hasOwnProperty(i),f=a&&a.__reactDontBind,p="function"==typeof a,h=p&&!s&&!l&&!f;if(h)r.__reactAutoBindMap||(r.__reactAutoBindMap={}),r.__reactAutoBindMap[i]=a,r[i]=a;else if(l){var v=k[i];"production"!==t.env.NODE_ENV?x(s&&(v===O.DEFINE_MANY_MERGED||v===O.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,i):x(s&&(v===O.DEFINE_MANY_MERGED||v===O.DEFINE_MANY)),v===O.DEFINE_MANY_MERGED?r[i]=u(r[i],a):v===O.DEFINE_MANY&&(r[i]=c(r[i],a))}else r[i]=a,"production"!==t.env.NODE_ENV&&"function"==typeof a&&n.displayName&&(r[i].displayName=n.displayName+"_"+i)}}}}function a(e,n){if(n)for(var r in n){var o=n[r];if(n.hasOwnProperty(r)){var i=r in j;"production"!==t.env.NODE_ENV?x(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):x(!i);var a=r in e;"production"!==t.env.NODE_ENV?x(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):x(!a),e[r]=o}}}function s(e,n){"production"!==t.env.NODE_ENV?x(e&&n&&"object"==typeof e&&"object"==typeof n,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):x(e&&n&&"object"==typeof e&&"object"==typeof n);for(var r in n)n.hasOwnProperty(r)&&("production"!==t.env.NODE_ENV?x(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):x(void 0===e[r]),e[r]=n[r]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return s(o,n),s(o,r),o}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,n){var r=n.bind(e);if("production"!==t.env.NODE_ENV){r.__reactBoundContext=e,r.__reactBoundMethod=n,r.__reactBoundArguments=null;var o=e.constructor.displayName,i=r.bind;r.bind=function(a){for(var s=[],u=1,c=arguments.length;c>u;u++)s.push(arguments[u]);if(a!==e&&null!==a)"production"!==t.env.NODE_ENV?C(!1,"bind(): React component methods may only be bound to the component instance. See %s",o):null;else if(!s.length)return"production"!==t.env.NODE_ENV?C(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o):null,r;var l=i.apply(r,arguments);return l.__reactBoundContext=e,l.__reactBoundMethod=n,l.__reactBoundArguments=s,l}}return r}function f(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=l(e,v.guard(n,e.constructor.displayName+"."+t))}}var p=n(109),h=n(20),d=n(6),v=n(264),m=n(31),g=n(77),y=n(78),b=n(51),_=n(79),w=n(5),x=n(2),E=n(44),S=n(25),C=n(8),T=S({mixins:null}),O=E({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),A=[],k={mixins:O.DEFINE_MANY,statics:O.DEFINE_MANY,propTypes:O.DEFINE_MANY,contextTypes:O.DEFINE_MANY,childContextTypes:O.DEFINE_MANY,getDefaultProps:O.DEFINE_MANY_MERGED,getInitialState:O.DEFINE_MANY_MERGED,getChildContext:O.DEFINE_MANY_MERGED,render:O.DEFINE_ONCE,componentWillMount:O.DEFINE_MANY,componentDidMount:O.DEFINE_MANY,componentWillReceiveProps:O.DEFINE_MANY,shouldComponentUpdate:O.DEFINE_ONCE,componentWillUpdate:O.DEFINE_MANY,componentDidUpdate:O.DEFINE_MANY,componentWillUnmount:O.DEFINE_MANY,updateComponent:O.OVERRIDE_BASE},j={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,n){"production"!==t.env.NODE_ENV&&r(e,n,y.childContext),e.childContextTypes=w({},e.childContextTypes,n)},contextTypes:function(e,n){"production"!==t.env.NODE_ENV&&r(e,n,y.context),e.contextTypes=w({},e.contextTypes,n)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,n){"production"!==t.env.NODE_ENV&&r(e,n,y.prop),e.propTypes=w({},e.propTypes,n)},statics:function(e,t){a(e,t)}},P={enumerable:!1,get:function(){var e=this.displayName||this.name||"Component";return"production"!==t.env.NODE_ENV?C(!1,"%s.type is deprecated. Use %s directly to access the class.",e,e):null,Object.defineProperty(this,"type",{value:this}),this}},N={replaceState:function(e,t){_.enqueueReplaceState(this,e),t&&_.enqueueCallback(this,t)},isMounted:function(){if("production"!==t.env.NODE_ENV){var e=h.current;null!==e&&("production"!==t.env.NODE_ENV?C(e._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",e.getName()||"A component"):null,e._warnedAboutRefsInRender=!0)}var n=m.get(this);return n&&n!==g.currentlyMountingInstance},setProps:function(e,t){_.enqueueSetProps(this,e),t&&_.enqueueCallback(this,t)},replaceProps:function(e,t){_.enqueueReplaceProps(this,e),t&&_.enqueueCallback(this,t)}},M=function(){};w(M.prototype,p.prototype,N);var R={createClass:function(e){var n=function(e,r){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?C(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):null),this.__reactAutoBindMap&&f(this),this.props=e,this.context=r,this.state=null;var o=this.getInitialState?this.getInitialState():null;"production"!==t.env.NODE_ENV&&"undefined"==typeof o&&this.getInitialState._isMockFunction&&(o=null),"production"!==t.env.NODE_ENV?x("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"):x("object"==typeof o&&!Array.isArray(o)),this.state=o};n.prototype=new M,n.prototype.constructor=n,A.forEach(i.bind(null,n)),i(n,e),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==t.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),"production"!==t.env.NODE_ENV?x(n.prototype.render,"createClass(...): Class specification must implement a `render` method."):x(n.prototype.render),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?C(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"):null);for(var r in k)n.prototype[r]||(n.prototype[r]=null);if(n.type=n,"production"!==t.env.NODE_ENV)try{Object.defineProperty(n,"type",P)}catch(o){}return n},injection:{injectMixin:function(e){A.push(e)}}};e.exports=R}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){var t=P(e);return t&&Y.getID(t)}function i(e){var n=a(e);if(n)if(B.hasOwnProperty(n)){var r=B[n];r!==e&&("production"!==t.env.NODE_ENV?M(!l(r,n),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",L,n):M(!l(r,n)),B[n]=e)}else B[n]=e;return n}function a(e){return e&&e.getAttribute&&e.getAttribute(L)||""}function s(e,t){var n=a(e);n!==t&&delete B[n],e.setAttribute(L,t),B[t]=e}function u(e){return B.hasOwnProperty(e)&&l(B[e],e)||(B[e]=Y.findReactNodeByID(e)),B[e]}function c(e){var t=E.get(e)._rootNodeID;return w.isNullComponentID(t)?null:(B.hasOwnProperty(t)&&l(B[t],t)||(B[t]=Y.findReactNodeByID(t)),B[t])}function l(e,n){if(e){"production"!==t.env.NODE_ENV?M(a(e)===n,"ReactMount: Unexpected modification of `%s`",L):M(a(e)===n);var r=Y.findReactContainerForID(n);if(r&&j(r,e))return!0}return!1}function f(e){delete B[e]}function p(e){var t=B[e];return t&&l(t,e)?void(G=t):!1}function h(e){G=null,x.traverseAncestors(e,p);var t=G;return G=null,t}function d(e,t,n,r,o){var i=T.mountComponent(e,t,r,k);e._isTopLevel=!0,Y._mountImageIntoNode(i,n,o)}function v(e,t,n,r){var o=A.ReactReconcileTransaction.getPooled();o.perform(d,null,e,t,n,o,r),A.ReactReconcileTransaction.release(o)}var m=n(26),g=n(29),y=n(20),b=n(6),_=n(42),w=n(76),x=n(30),E=n(31),S=n(113),C=n(23),T=n(32),O=n(79),A=n(16),k=n(54),j=n(119),P=n(296),N=n(85),M=n(2),R=n(87),D=n(88),I=n(8),F=x.SEPARATOR,L=m.ID_ATTRIBUTE_NAME,B={},U=1,q=9,V={},z={};if("production"!==t.env.NODE_ENV)var W={};var H=[],G=null,Y={_instancesByReactRootID:V,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,n,r,i){return"production"!==t.env.NODE_ENV&&_.checkAndWarnForMutatedProps(n),Y.scrollMonitor(r,function(){O.enqueueElementInternal(e,n),i&&O.enqueueCallbackInternal(e,i)}),"production"!==t.env.NODE_ENV&&(W[o(r)]=P(r)),e},_registerComponent:function(e,n){"production"!==t.env.NODE_ENV?M(n&&(n.nodeType===U||n.nodeType===q),"_registerComponent(...): Target container is not a DOM element."):M(n&&(n.nodeType===U||n.nodeType===q)),g.ensureScrollValueMonitoring();var r=Y.registerContainer(n);return V[r]=e,r},_renderNewRootComponent:function(e,n,r){"production"!==t.env.NODE_ENV?I(null==y.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null;var o=N(e,null),i=Y._registerComponent(o,n);return A.batchedUpdates(v,o,i,n,r),"production"!==t.env.NODE_ENV&&(W[i]=P(n)),o},render:function(e,n,r){"production"!==t.env.NODE_ENV?M(b.isValidElement(e),"React.render(): Invalid component element.%s","string"==typeof e?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":""):M(b.isValidElement(e));var i=V[o(n)];if(i){var a=i._currentElement;if(D(a,e))return Y._updateRootComponent(i,e,n,r).getPublicInstance();Y.unmountComponentAtNode(n)}var s=P(n),u=s&&Y.isRenderedByReact(s);if("production"!==t.env.NODE_ENV&&(!u||s.nextSibling))for(var c=s;c;){if(Y.isRenderedByReact(c)){"production"!==t.env.NODE_ENV?I(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):null;break}c=c.nextSibling}var l=u&&!i,f=Y._renderNewRootComponent(e,n,l).getPublicInstance();return r&&r.call(f),f},constructAndRenderComponent:function(e,t,n){var r=b.createElement(e,t);return Y.render(r,n)},constructAndRenderComponentByID:function(e,n,r){var o=document.getElementById(r);return"production"!==t.env.NODE_ENV?M(o,'Tried to get element with id of "%s" but it is not present on the page.',r):M(o),Y.constructAndRenderComponent(e,n,o)},registerContainer:function(e){var t=o(e);return t&&(t=x.getReactRootIDFromNodeID(t)),t||(t=x.createReactRootID()),z[t]=e,t},unmountComponentAtNode:function(e){"production"!==t.env.NODE_ENV?I(null==y.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,"production"!==t.env.NODE_ENV?M(e&&(e.nodeType===U||e.nodeType===q),"unmountComponentAtNode(...): Target container is not a DOM element."):M(e&&(e.nodeType===U||e.nodeType===q));var n=o(e),r=V[n];return r?(Y.unmountComponentFromNode(r,e),delete V[n],delete z[n],"production"!==t.env.NODE_ENV&&delete W[n],!0):!1},unmountComponentFromNode:function(e,t){for(T.unmountComponent(e),t.nodeType===q&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var n=x.getReactRootIDFromNodeID(e),r=z[n];if("production"!==t.env.NODE_ENV){var o=W[n];if(o&&o.parentNode!==r){"production"!==t.env.NODE_ENV?M(a(o)===n,"ReactMount: Root element ID differed from reactRootID."):M(a(o)===n);var i=r.firstChild;i&&n===a(i)?W[n]=i:"production"!==t.env.NODE_ENV?I(!1,"ReactMount: Root element has been removed from its original container. New container:",o.parentNode):null}}return r},findReactNodeByID:function(e){var t=Y.findReactContainerForID(e);return Y.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=Y.getID(e);return t?t.charAt(0)===F:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(Y.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,n){var r=H,o=0,i=h(n)||e;for(r[0]=i.firstChild,r.length=1;o<r.length;){for(var a,s=r[o++];s;){var u=Y.getID(s);u?n===u?a=s:x.isAncestorIDOf(u,n)&&(r.length=o=0,r.push(s.firstChild)):r.push(s.firstChild),s=s.nextSibling}if(a)return r.length=0,a}r.length=0,"production"!==t.env.NODE_ENV?M(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",n,Y.getID(e)):M(!1)},_mountImageIntoNode:function(e,n,o){if("production"!==t.env.NODE_ENV?M(n&&(n.nodeType===U||n.nodeType===q),"mountComponentIntoNode(...): Target container is not valid."):M(n&&(n.nodeType===U||n.nodeType===q)),o){var i=P(n);if(S.canReuseMarkup(e,i))return;var a=i.getAttribute(S.CHECKSUM_ATTR_NAME);i.removeAttribute(S.CHECKSUM_ATTR_NAME);var s=i.outerHTML;i.setAttribute(S.CHECKSUM_ATTR_NAME,a);var u=r(e,s),c=" (client) "+e.substring(u-20,u+20)+"\n (server) "+s.substring(u-20,u+20);"production"!==t.env.NODE_ENV?M(n.nodeType!==q,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",c):M(n.nodeType!==q),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?I(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",c):null)}"production"!==t.env.NODE_ENV?M(n.nodeType!==q,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."):M(n.nodeType!==q),R(n,e)},getReactRootID:o,getID:i,setID:s,getNode:u,getNodeFromInstance:c,purgeID:f};C.measureMethods(Y,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=Y}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){"production"!==t.env.NODE_ENV?g(A.ReactReconcileTransaction&&x,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):g(A.ReactReconcileTransaction&&x)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled()}function i(e,t,n,o,i){r(),x.batchedUpdates(e,t,n,o,i)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var n=e.dirtyComponentsLength;"production"!==t.env.NODE_ENV?g(n===b.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",n,b.length):g(n===b.length),b.sort(a);for(var r=0;n>r;r++){var o=b[r],i=o._pendingCallbacks;if(o._pendingCallbacks=null,d.performUpdateIfNecessary(o,e.reconcileTransaction),i)for(var s=0;s<i.length;s++)e.callbackQueue.enqueue(i[s],o.getPublicInstance())}}function u(e){return r(),"production"!==t.env.NODE_ENV?y(null==p.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."):null,x.isBatchingUpdates?void b.push(e):void x.batchedUpdates(u,e)}function c(e,n){"production"!==t.env.NODE_ENV?g(x.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):g(x.isBatchingUpdates),_.enqueue(e,n),w=!0}var l=n(68),f=n(18),p=n(20),h=n(23),d=n(32),v=n(53),m=n(5),g=n(2),y=n(8),b=[],_=l.getPooled(),w=!1,x=null,E={initialize:function(){this.dirtyComponentsLength=b.length},close:function(){this.dirtyComponentsLength!==b.length?(b.splice(0,this.dirtyComponentsLength),T()):b.length=0}},S={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[E,S];m(o.prototype,v.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var T=function(){for(;b.length||w;){if(b.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(w){w=!1;var t=_;_=l.getPooled(),t.notifyAll(),l.release(t)}}};T=h.measure("ReactUpdates","flushBatchedUpdates",T);var O={injectReconcileTransaction:function(e){"production"!==t.env.NODE_ENV?g(e,"ReactUpdates: must provide a reconcile transaction class"):g(e),A.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){"production"!==t.env.NODE_ENV?g(e,"ReactUpdates: must provide a batching strategy"):g(e),"production"!==t.env.NODE_ENV?g("function"==typeof e.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):g("function"==typeof e.batchedUpdates),"production"!==t.env.NODE_ENV?g("boolean"==typeof e.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):g("boolean"==typeof e.isBatchingUpdates),x=e}},A={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:T,injection:O,asap:c};e.exports=A}).call(t,n(1))},function(e,t,n){var r;(function(e,o){(function(){function i(e,t){if(e!==t){var n=null===e,r=e===O,o=e===e,i=null===t,a=t===O,s=t===t;if(e>t&&!i||!o||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||i&&!r&&o||a&&o)return-1}return 0}function a(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function s(e,t,n){if(t!==t)return y(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function u(e){return"function"==typeof e||!1}function c(e){return null==e?"":e+""}function l(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function f(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function p(e,t){return i(e.criteria,t.criteria)||e.index-t.index}function h(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,u=n.length;++r<s;){var c=i(o[r],a[r]);if(c){if(r>=u)return c;var l=n[r];return c*("asc"===l||l===!0?1:-1)}}return e.index-t.index}function d(e){return Ge[e]}function v(e){return Ye[e]}function m(e,t,n){return t?e=Ke[e]:n&&(e=Je[e]),"\\"+e}function g(e){return"\\"+Je[e]}function y(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}function b(e){return!!e&&"object"==typeof e}function _(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function w(e,t){for(var n=-1,r=e.length,o=-1,i=[];++n<r;)e[n]===t&&(e[n]=G,i[++o]=n);return i}function x(e,t){for(var n,r=-1,o=e.length,i=-1,a=[];++r<o;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++i]=s)}return a}function E(e){for(var t=-1,n=e.length;++t<n&&_(e.charCodeAt(t)););return t}function S(e){for(var t=e.length;t--&&_(e.charCodeAt(t)););return t}function C(e){return $e[e]}function T(e){function t(e){if(b(e)&&!ks(e)&&!(e instanceof o)){if(e instanceof r)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return hr(e)}return new r(e)}function n(){}function r(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Aa,this.__views__=[]}function _(){var e=new o(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function Z(){if(this.__filtered__){var e=new o(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function re(){var e=this.__wrapped__.value(),t=this.__dir__,n=ks(e),r=0>t,o=n?e.length:0,i=Gn(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,h=Ea(u,this.__takeCount__);if(!n||V>o||o==u&&h==u)return nn(r&&n?e.reverse():e,this.__actions__);var d=[];e:for(;u--&&h>p;){c+=t;for(var v=-1,m=e[c];++v<f;){var g=l[v],y=g.iteratee,b=g.type,_=y(m);if(b==W)m=_;else if(!_){if(b==z)continue e;break e}}d[p++]=m}return d}function ie(){this.__data__={}}function Ge(e){return this.has(e)&&delete this.__data__[e]}function Ye(e){return"__proto__"==e?O:this.__data__[e]}function $e(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Xe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ke(e){var t=e?e.length:0;for(this.data={hash:ga(null),set:new fa};t--;)this.push(e[t])}function Je(e,t){var n=e.data,r="string"==typeof t||Do(t)?n.set.has(t):n.hash[t];return r?0:-1}function Qe(e){var t=this.data;"string"==typeof e||Do(e)?t.set.add(e):t.hash[e]=!0}function Ze(e,t){for(var n=-1,r=e.length,o=-1,i=t.length,a=qi(r+i);++n<r;)a[n]=e[n];for(;++o<i;)a[n++]=t[o];return a}function et(e,t){var n=-1,r=e.length;for(t||(t=qi(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function nt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var o=-1,i=e.length,a=r,s=a;++o<i;){var u=e[o],c=+t(u);n(c,a)&&(a=c,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,o=-1,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[++o]=a)}return i}function ut(e,t){for(var n=-1,r=e.length,o=qi(r);++n<r;)o[n]=t(e[n],n,e);return o}function ct(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function lt(e,t,n,r){var o=-1,i=e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function ft(e,t,n,r){var o=e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function pt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function dt(e,t){return e===O?t:e}function vt(e,t,n,r){return e!==O&&ta.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,o=Us(t),i=o.length;++r<i;){var a=o[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==O||a in e)||(e[a]=u)}return e}function gt(e,t){return null==t?e:bt(t,Us(t),e)}function yt(e,t){for(var n=-1,r=null==e,o=!r&&Jn(e),i=o?e.length:0,a=t.length,s=qi(a);++n<a;){var u=t[n];o?s[n]=Qn(u,i)?e[u]:O:s[n]=r?O:e[u]}return s}function bt(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}function _t(e,t,n){var r=typeof e;return"function"==r?t===O?e:an(e,t,n):null==e?Ai:"object"==r?Bt(e):t===O?Ri(e):Ut(e,t)}function wt(e,t,n,r,o,i,a){var s;if(n&&(s=o?n(e,r,o):n(e)),s!==O)return s;if(!Do(e))return e;var u=ks(e);if(u){if(s=Yn(e),!t)return et(e,s)}else{var c=ra.call(e),l=c==Q;if(c!=te&&c!=Y&&(!l||o))return He[c]?Xn(e,c,t):o?e:{};if(s=$n(l?{}:e),!t)return gt(s,e)}i||(i=[]),a||(a=[]);for(var f=i.length;f--;)if(i[f]==e)return a[f];return i.push(e),a.push(s),(u?tt:Pt)(e,function(r,o){s[o]=wt(r,t,n,o,e,i,a)}),s}function xt(e,t,n){if("function"!=typeof e)throw new Ki(H);return pa(function(){e.apply(O,n)},t)}function Et(e,t){var n=e?e.length:0,r=[];if(!n)return r;
var o=-1,i=zn(),a=i==s,u=a&&t.length>=V?vn(t):null,c=t.length;u&&(i=Je,a=!1,t=u);e:for(;++o<n;){var l=e[o];if(a&&l===l){for(var f=c;f--;)if(t[f]===l)continue e;r.push(l)}else i(t,l,0)<0&&r.push(l)}return r}function St(e,t){var n=!0;return Ia(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Ct(e,t,n,r){var o=r,i=o;return Ia(e,function(e,a,s){var u=+t(e,a,s);(n(u,o)||u===r&&u===i)&&(o=u,i=e)}),i}function Tt(e,t,n,r){var o=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),r=r===O||r>o?o:+r||0,0>r&&(r+=o),o=n>r?0:r>>>0,n>>>=0;o>n;)e[n++]=t;return e}function Ot(e,t){var n=[];return Ia(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function At(e,t,n,r){var o;return n(e,function(e,n,i){return t(e,n,i)?(o=r?n:e,!1):void 0}),o}function kt(e,t,n,r){r||(r=[]);for(var o=-1,i=e.length;++o<i;){var a=e[o];b(a)&&Jn(a)&&(n||ks(a)||To(a))?t?kt(a,t,n,r):ct(r,a):n||(r[r.length]=a)}return r}function jt(e,t){return La(e,t,ti)}function Pt(e,t){return La(e,t,Us)}function Nt(e,t){return Ba(e,t,Us)}function Mt(e,t){for(var n=-1,r=t.length,o=-1,i=[];++n<r;){var a=t[n];Ro(e[a])&&(i[++o]=a)}return i}function Rt(e,t,n){if(null!=e){n!==O&&n in fr(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:O}}function Dt(e,t,n,r,o,i){return e===t?!0:null==e||null==t||!Do(e)&&!b(t)?e!==e&&t!==t:It(e,t,Dt,n,r,o,i)}function It(e,t,n,r,o,i,a){var s=ks(e),u=ks(t),c=$,l=$;s||(c=ra.call(e),c==Y?c=te:c!=te&&(s=Wo(e))),u||(l=ra.call(t),l==Y?l=te:l!=te&&(u=Wo(t)));var f=c==te,p=l==te,h=c==l;if(h&&!s&&!f)return Bn(e,t,c);if(!o){var d=f&&ta.call(e,"__wrapped__"),v=p&&ta.call(t,"__wrapped__");if(d||v)return n(d?e.value():e,v?t.value():t,r,o,i,a)}if(!h)return!1;i||(i=[]),a||(a=[]);for(var m=i.length;m--;)if(i[m]==e)return a[m]==t;i.push(e),a.push(t);var g=(s?Ln:Un)(e,t,n,r,o,i,a);return i.pop(),a.pop(),g}function Ft(e,t,n){var r=t.length,o=r,i=!n;if(null==e)return!o;for(e=fr(e);r--;){var a=t[r];if(i&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=t[r];var s=a[0],u=e[s],c=a[1];if(i&&a[2]){if(u===O&&!(s in e))return!1}else{var l=n?n(u,c,s):O;if(!(l===O?Dt(c,u,n,!0):l))return!1}}return!0}function Lt(e,t){var n=-1,r=Jn(e)?qi(e.length):[];return Ia(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Bt(e){var t=Wn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==O||n in fr(e))}}return function(e){return Ft(e,t)}}function Ut(e,t){var n=ks(e),r=er(e)&&rr(t),o=e+"";return e=pr(e),function(i){if(null==i)return!1;var a=o;if(i=fr(i),(n||!r)&&!(a in i)){if(i=1==e.length?i:Rt(i,$t(e,0,-1)),null==i)return!1;a=Tr(e),i=fr(i)}return i[a]===t?t!==O||a in i:Dt(t,i[a],O,!0)}}function qt(e,t,n,r,o){if(!Do(e))return e;var i=Jn(t)&&(ks(t)||Wo(t)),a=i?O:Us(t);return tt(a||t,function(s,u){if(a&&(u=s,s=t[u]),b(s))r||(r=[]),o||(o=[]),Vt(e,t,u,qt,n,r,o);else{var c=e[u],l=n?n(c,s,u,e,t):O,f=l===O;f&&(l=s),l===O&&(!i||u in e)||!f&&(l===l?l===c:c!==c)||(e[u]=l)}}),e}function Vt(e,t,n,r,o,i,a){for(var s=i.length,u=t[n];s--;)if(i[s]==u)return void(e[n]=a[s]);var c=e[n],l=o?o(c,u,n,e,t):O,f=l===O;f&&(l=u,Jn(u)&&(ks(u)||Wo(u))?l=ks(c)?c:Jn(c)?et(c):[]:qo(u)||To(u)?l=To(c)?Xo(c):qo(c)?c:{}:f=!1),i.push(u),a.push(l),f?e[n]=r(l,u,o,i,a):(l===l?l!==c:c===c)&&(e[n]=l)}function zt(e){return function(t){return null==t?O:t[e]}}function Wt(e){var t=e+"";return e=pr(e),function(n){return Rt(n,e,t)}}function Ht(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=o&&Qn(r)){var o=r;ha.call(e,r,1)}}return e}function Gt(e,t){return e+ya(Ta()*(t-e+1))}function Yt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function $t(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=n===O||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=qi(o);++r<o;)i[r]=e[r+t];return i}function Xt(e,t){var n;return Ia(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function Kt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jt(e,t,n){var r=qn(),o=-1;t=ut(t,function(e){return r(e)});var i=Lt(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++o,value:e}});return Kt(i,function(e,t){return h(e,t,n)})}function Qt(e,t){var n=0;return Ia(e,function(e,r,o){n+=+t(e,r,o)||0}),n}function Zt(e,t){var n=-1,r=zn(),o=e.length,i=r==s,a=i&&o>=V,u=a?vn():null,c=[];u?(r=Je,i=!1):(a=!1,u=t?[]:c);e:for(;++n<o;){var l=e[n],f=t?t(l,n,e):l;if(i&&l===l){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),c.push(l)}else r(u,f,0)<0&&((t||a)&&u.push(f),c.push(l))}return c}function en(e,t){for(var n=-1,r=t.length,o=qi(r);++n<r;)o[n]=e[t[n]];return o}function tn(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?$t(e,r?0:i,r?i+1:o):$t(e,r?i+1:0,r?o:i)}function nn(e,t){var n=e;n instanceof o&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,ct([n],a.args))}return n}function rn(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&Pa>=o){for(;o>r;){var i=r+o>>>1,a=e[i];(n?t>=a:t>a)&&null!==a?r=i+1:o=i}return o}return on(e,t,Ai,n)}function on(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,a=t!==t,s=null===t,u=t===O;i>o;){var c=ya((o+i)/2),l=n(e[c]),f=l!==O,p=l===l;if(a)var h=p||r;else h=s?p&&f&&(r||null!=l):u?p&&(r||f):null==l?!1:r?t>=l:t>l;h?o=c+1:i=c}return Ea(i,ja)}function an(e,t,n){if("function"!=typeof e)return Ai;if(t===O)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new da(t);return n.set(new da(e)),t}function un(e,t,n){for(var r=n.length,o=-1,i=xa(e.length-r,0),a=-1,s=t.length,u=qi(s+i);++a<s;)u[a]=t[a];for(;++o<r;)u[n[o]]=e[o];for(;i--;)u[a++]=e[o++];return u}function cn(e,t,n){for(var r=-1,o=n.length,i=-1,a=xa(e.length-o,0),s=-1,u=t.length,c=qi(a+u);++i<a;)c[i]=e[i];for(var l=i;++s<u;)c[l+s]=t[s];for(;++r<o;)c[l+n[r]]=e[i++];return c}function ln(e,t){return function(n,r,o){var i=t?t():{};if(r=qn(r,o,3),ks(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(i,u,r(u,a,n),n)}else Ia(n,function(t,n,o){e(i,t,r(t,n,o),o)});return i}}function fn(e){return yo(function(t,n){var r=-1,o=null==t?0:n.length,i=o>2?n[o-2]:O,a=o>2?n[2]:O,s=o>1?n[o-1]:O;for("function"==typeof i?(i=an(i,s,5),o-=2):(i="function"==typeof s?s:O,o-=i?1:0),a&&Zn(n[0],n[1],a)&&(i=3>o?O:i,o=1);++r<o;){var u=n[r];u&&e(t,u,i)}return t})}function pn(e,t){return function(n,r){var o=n?Va(n):0;if(!nr(o))return e(n,r);for(var i=t?o:-1,a=fr(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function hn(e){return function(t,n,r){for(var o=fr(t),i=r(t),a=i.length,s=e?a:-1;e?s--:++s<a;){var u=i[s];if(n(o[u],u,o)===!1)break}return t}}function dn(e,t){function n(){var o=this&&this!==rt&&this instanceof n?r:e;return o.apply(t,arguments)}var r=gn(e);return n}function vn(e){return ga&&fa?new Ke(e):null}function mn(e){return function(t){for(var n=-1,r=Ci(fi(t)),o=r.length,i="";++n<o;)i=e(i,r[n],n);return i}}function gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Da(e.prototype),r=e.apply(n,t);return Do(r)?r:n}}function yn(e){function t(n,r,o){o&&Zn(n,r,o)&&(r=O);var i=Fn(n,e,O,O,O,O,O,r);return i.placeholder=t.placeholder,i}return t}function bn(e,t){return yo(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(O,n))})}function _n(e,t){return function(n,r,o){if(o&&Zn(n,r,o)&&(r=O),r=qn(r,o,3),1==r.length){n=ks(n)?n:lr(n);var i=at(n,r,e,t);if(!n.length||i!==t)return i}return Ct(n,r,e,t)}}function wn(e,t){return function(n,r,o){if(r=qn(r,o,3),ks(n)){var i=a(n,r,t);return i>-1?n[i]:O}return At(n,r,e)}}function xn(e){return function(t,n,r){return t&&t.length?(n=qn(n,r,3),a(t,n,e)):-1}}function En(e){return function(t,n,r){return n=qn(n,r,3),At(t,n,e,!0)}}function Sn(e){return function(){for(var t,n=arguments.length,o=e?n:-1,i=0,a=qi(n);e?o--:++o<n;){var s=a[i++]=arguments[o];if("function"!=typeof s)throw new Ki(H);!t&&r.prototype.thru&&"wrapper"==Vn(s)&&(t=new r([],!0))}for(o=t?-1:n;++o<n;){s=a[o];var u=Vn(s),c="wrapper"==u?qa(s):O;t=c&&tr(c[0])&&c[1]==(I|N|R|F)&&!c[4].length&&1==c[9]?t[Vn(c[0])].apply(t,c[3]):1==s.length&&tr(s)?t[u]():t.thru(s)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&ks(r)&&r.length>=V)return t.plant(r).value();for(var o=0,i=n?a[o].apply(this,e):r;++o<n;)i=a[o].call(this,i);return i}}}function Cn(e,t){return function(n,r,o){return"function"==typeof r&&o===O&&ks(n)?e(n,r):t(n,an(r,o,3))}}function Tn(e){return function(t,n,r){return("function"!=typeof n||r!==O)&&(n=an(n,r,3)),e(t,n,ti)}}function On(e){return function(t,n,r){return("function"!=typeof n||r!==O)&&(n=an(n,r,3)),e(t,n)}}function An(e){return function(t,n,r){var o={};return n=qn(n,r,3),Pt(t,function(t,r,i){var a=n(t,r,i);r=e?a:r,t=e?t:a,o[r]=t}),o}}function kn(e){return function(t,n,r){return t=c(t),(e?t:"")+Mn(t,n,r)+(e?"":t)}}function jn(e){var t=yo(function(n,r){var o=w(r,t.placeholder);return Fn(n,e,O,r,o)});return t}function Pn(e,t){return function(n,r,o,i){var a=arguments.length<3;return"function"==typeof r&&i===O&&ks(n)?e(n,r,o,a):Yt(n,qn(r,i,4),o,a,t)}}function Nn(e,t,n,r,o,i,a,s,u,c){function l(){for(var y=arguments.length,b=y,_=qi(y);b--;)_[b]=arguments[b];if(r&&(_=un(_,r,o)),i&&(_=cn(_,i,a)),d||m){var x=l.placeholder,E=w(_,x);if(y-=E.length,c>y){var S=s?et(s):O,C=xa(c-y,0),T=d?E:O,A=d?O:E,P=d?_:O,N=d?O:_;t|=d?R:D,t&=~(d?D:R),v||(t&=~(k|j));var M=[e,t,n,P,T,N,A,S,u,C],I=Nn.apply(O,M);return tr(e)&&za(I,M),I.placeholder=x,I}}var F=p?n:this,L=h?F[e]:e;return s&&(_=ur(_,s)),f&&u<_.length&&(_.length=u),this&&this!==rt&&this instanceof l&&(L=g||gn(e)),L.apply(F,_)}var f=t&I,p=t&k,h=t&j,d=t&N,v=t&P,m=t&M,g=h?O:gn(e);return l}function Mn(e,t,n){var r=e.length;if(t=+t,r>=t||!_a(t))return"";var o=t-r;return n=null==n?" ":n+"",gi(n,ma(o/n.length)).slice(0,o)}function Rn(e,t,n,r){function o(){for(var t=-1,s=arguments.length,u=-1,c=r.length,l=qi(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++t];var f=this&&this!==rt&&this instanceof o?a:e;return f.apply(i?n:this,l)}var i=t&k,a=gn(e);return o}function Dn(e){var t=Hi[e];return function(e,n){return n=n===O?0:+n||0,n?(n=ca(10,n),t(e*n)/n):t(e)}}function In(e){return function(t,n,r,o){var i=qn(r);return null==r&&i===_t?rn(t,n,e):on(t,n,i(r,o,1),e)}}function Fn(e,t,n,r,o,i,a,s){var u=t&j;if(!u&&"function"!=typeof e)throw new Ki(H);var c=r?r.length:0;if(c||(t&=~(R|D),r=o=O),c-=o?o.length:0,t&D){var l=r,f=o;r=o=O}var p=u?O:qa(e),h=[e,t,n,r,o,l,f,i,a,s];if(p&&(or(h,p),t=h[1],s=h[9]),h[9]=null==s?u?0:e.length:xa(s-c,0)||0,t==k)var d=dn(h[0],h[2]);else d=t!=R&&t!=(k|R)||h[4].length?Nn.apply(O,h):Rn.apply(O,h);var v=p?Ua:za;return v(d,h)}function Ln(e,t,n,r,o,i,a){var s=-1,u=e.length,c=t.length;if(u!=c&&!(o&&c>u))return!1;for(;++s<u;){var l=e[s],f=t[s],p=r?r(o?f:l,o?l:f,s):O;if(p!==O){if(p)continue;return!1}if(o){if(!pt(t,function(e){return l===e||n(l,e,r,o,i,a)}))return!1}else if(l!==f&&!n(l,f,r,o,i,a))return!1}return!0}function Bn(e,t,n){switch(n){case X:case K:return+e==+t;case J:return e.name==t.name&&e.message==t.message;case ee:return e!=+e?t!=+t:e==+t;case ne:case oe:return e==t+""}return!1}function Un(e,t,n,r,o,i,a){var s=Us(e),u=s.length,c=Us(t),l=c.length;if(u!=l&&!o)return!1;for(var f=u;f--;){var p=s[f];if(!(o?p in t:ta.call(t,p)))return!1}for(var h=o;++f<u;){p=s[f];var d=e[p],v=t[p],m=r?r(o?v:d,o?d:v,p):O;if(!(m===O?n(d,v,r,o,i,a):m))return!1;h||(h="constructor"==p)}if(!h){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function qn(e,n,r){var o=t.callback||Ti;return o=o===Ti?_t:o,r?o(e,n,r):o}function Vn(e){for(var t=e.name,n=Ra[t],r=n?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function zn(e,n,r){var o=t.indexOf||Sr;return o=o===Sr?s:o,e?o(e,n,r):o}function Wn(e){for(var t=ni(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Hn(e,t){var n=null==e?O:e[t];return Lo(n)?n:O}function Gn(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ea(t,e+a);break;case"takeRight":e=xa(e,t-a)}}return{start:e,end:t}}function Yn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function $n(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Yi),new t}function Xn(e,t,n){var r=e.constructor;switch(t){case ae:return sn(e);case X:case K:return new r(+e);case se:case ue:case ce:case le:case fe:case pe:case he:case de:case ve:var o=e.buffer;return new r(n?sn(o):o,e.byteOffset,e.length);case ee:case oe:return new r(e);case ne:var i=new r(e.source,Re.exec(e));i.lastIndex=e.lastIndex}return i}function Kn(e,t,n){null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Rt(e,$t(t,0,-1)),t=Tr(t));var r=null==e?e:e[t];return null==r?O:r.apply(e,n)}function Jn(e){return null!=e&&nr(Va(e))}function Qn(e,t){return e="number"==typeof e||Fe.test(e)?+e:-1,t=null==t?Na:t,e>-1&&e%1==0&&t>e}function Zn(e,t,n){if(!Do(n))return!1;var r=typeof t;if("number"==r?Jn(n)&&Qn(t,n.length):"string"==r&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}function er(e,t){var n=typeof e;if("string"==n&&Oe.test(e)||"number"==n)return!0;if(ks(e))return!1;var r=!Te.test(e);return r||null!=t&&e in fr(t)}function tr(e){var n=Vn(e);if(!(n in o.prototype))return!1;var r=t[n];if(e===r)return!0;var i=qa(r);return!!i&&e===i[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Na>=e}function rr(e){return e===e&&!Do(e)}function or(e,t){var n=e[1],r=t[1],o=n|r,i=I>o,a=r==I&&n==N||r==I&&n==F&&e[7].length<=t[8]||r==(I|F)&&n==N;if(!i&&!a)return e;r&k&&(e[2]=t[2],o|=n&k?0:P);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):et(s),e[4]=u?w(e[3],G):et(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?cn(u,s,t[6]):et(s),e[6]=u?w(e[5],G):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&I&&(e[8]=null==e[8]?t[8]:Ea(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ir(e,t){return e===O?t:js(e,t,ir)}function ar(e,t){e=fr(e);for(var n=-1,r=t.length,o={};++n<r;){var i=t[n];i in e&&(o[i]=e[i])}return o}function sr(e,t){var n={};return jt(e,function(e,r,o){t(e,r,o)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=Ea(t.length,n),o=et(e);r--;){var i=t[r];e[r]=Qn(i,n)?o[i]:O}return e}function cr(e){for(var t=ti(e),n=t.length,r=n&&e.length,o=!!r&&nr(r)&&(ks(e)||To(e)),i=-1,a=[];++i<n;){var s=t[i];(o&&Qn(s,r)||ta.call(e,s))&&a.push(s)}return a}function lr(e){return null==e?[]:Jn(e)?Do(e)?e:Yi(e):ai(e)}function fr(e){return Do(e)?e:Yi(e)}function pr(e){if(ks(e))return e;var t=[];return c(e).replace(Ae,function(e,n,r,o){t.push(r?o.replace(Ne,"$1"):n||e)}),t}function hr(e){return e instanceof o?e.clone():new r(e.__wrapped__,e.__chain__,et(e.__actions__))}function dr(e,t,n){t=(n?Zn(e,t,n):null==t)?1:xa(ya(t)||1,1);for(var r=0,o=e?e.length:0,i=-1,a=qi(ma(o/t));o>r;)a[++i]=$t(e,r,r+=t);return a}function vr(e){for(var t=-1,n=e?e.length:0,r=-1,o=[];++t<n;){var i=e[t];i&&(o[++r]=i)}return o}function mr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),$t(e,0>t?0:t)):[]}function gr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),$t(e,0,0>t?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,qn(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,qn(t,n,3),!0):[]}function _r(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&Zn(e,t,n)&&(n=0,r=o),Tt(e,t,n,r)):[]}function wr(e){return e?e[0]:O}function xr(e,t,n){var r=e?e.length:0;return n&&Zn(e,t,n)&&(t=!1),r?kt(e,t):[]}function Er(e){var t=e?e.length:0;return t?kt(e,!0):[]}function Sr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xa(r+n,0):n;else if(n){var o=rn(e,t);return r>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return s(e,t,n||0)}function Cr(e){return gr(e,1)}function Tr(e){var t=e?e.length:0;return t?e[t-1]:O}function Or(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;if("number"==typeof n)o=(0>n?xa(r+n,0):Ea(n||0,r-1))+1;else if(n){o=rn(e,t,!0)-1;var i=e[o];return(t===t?t===i:i!==i)?o:-1}if(t!==t)return y(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1}function Ar(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=zn(),o=e.length;++n<o;)for(var i=0,a=e[n];(i=r(t,a,i))>-1;)ha.call(t,i,1);return t}function kr(e,t,n){var r=[];if(!e||!e.length)return r;var o=-1,i=[],a=e.length;for(t=qn(t,n,3);++o<a;){var s=e[o];t(s,o,e)&&(r.push(s),i.push(o))}return Ht(e,i),r}function jr(e){return mr(e,1)}function Pr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Zn(e,t,n)&&(t=0,n=r),$t(e,t,n)):[]}function Nr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),$t(e,0,0>t?0:t)):[]}function Mr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),$t(e,0>t?0:t)):[]}function Rr(e,t,n){return e&&e.length?tn(e,qn(t,n,3),!1,!0):[]}function Dr(e,t,n){return e&&e.length?tn(e,qn(t,n,3)):[]}function Ir(e,t,n,r){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Zn(e,t,r)?O:t,t=!1);var i=qn();return(null!=n||i!==_t)&&(n=i(n,r,3)),t&&zn()==s?x(e,n):Zt(e,n)}function Fr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Jn(e)?(n=xa(e.length,n),!0):void 0});for(var r=qi(n);++t<n;)r[t]=ut(e,zt(t));return r}function Lr(e,t,n){var r=e?e.length:0;if(!r)return[];var o=Fr(e);return null==t?o:(t=an(t,n,4),ut(o,function(e){return lt(e,t,O,!0)}))}function Br(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Jn(n))var r=r?ct(Et(r,n),Et(n,r)):n}return r?Zt(r):[]}function Ur(e,t){var n=-1,r=e?e.length:0,o={};for(!r||t||ks(e[0])||(t=[]);++n<r;){var i=e[n];t?o[i]=t[n]:i&&(o[i[0]]=i[1])}return o}function qr(e){var n=t(e);return n.__chain__=!0,n}function Vr(e,t,n){return t.call(n,e),e}function zr(e,t,n){return t.call(n,e)}function Wr(){return qr(this)}function Hr(){return new r(this.value(),this.__chain__)}function Gr(e){for(var t,r=this;r instanceof n;){var o=hr(r);t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t}function Yr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof o){var n=e;return this.__actions__.length&&(n=new o(this)),n=n.reverse(),n.__actions__.push({func:zr,args:[t],thisArg:O}),new r(n,this.__chain__)}return this.thru(t)}function $r(){return this.value()+""}function Xr(){return nn(this.__wrapped__,this.__actions__)}function Kr(e,t,n){var r=ks(e)?it:St;return n&&Zn(e,t,n)&&(t=O),("function"!=typeof t||n!==O)&&(t=qn(t,n,3)),r(e,t)}function Jr(e,t,n){var r=ks(e)?st:Ot;return t=qn(t,n,3),r(e,t)}function Qr(e,t){return os(e,Bt(t))}function Zr(e,t,n,r){var o=e?Va(e):0;return nr(o)||(e=ai(e),o=e.length),n="number"!=typeof n||r&&Zn(t,n,r)?0:0>n?xa(o+n,0):n||0,"string"==typeof e||!ks(e)&&zo(e)?o>=n&&e.indexOf(t,n)>-1:!!o&&zn(e,t,n)>-1}function eo(e,t,n){var r=ks(e)?ut:Lt;return t=qn(t,n,3),r(e,t)}function to(e,t){return eo(e,Ri(t))}function no(e,t,n){var r=ks(e)?st:Ot;return t=qn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ro(e,t,n){if(n?Zn(e,t,n):null==t){e=lr(e);var r=e.length;return r>0?e[Gt(0,r-1)]:O}var o=-1,i=$o(e),r=i.length,a=r-1;for(t=Ea(0>t?0:+t||0,r);++o<t;){var s=Gt(o,a),u=i[s];i[s]=i[o],i[o]=u}return i.length=t,i}function oo(e){return ro(e,Aa)}function io(e){var t=e?Va(e):0;return nr(t)?t:Us(e).length}function ao(e,t,n){var r=ks(e)?pt:Xt;return n&&Zn(e,t,n)&&(t=O),("function"!=typeof t||n!==O)&&(t=qn(t,n,3)),r(e,t)}function so(e,t,n){if(null==e)return[];n&&Zn(e,t,n)&&(t=O);var r=-1;t=qn(t,n,3);var o=Lt(e,function(e,n,o){return{criteria:t(e,n,o),index:++r,value:e}});return Kt(o,p)}function uo(e,t,n,r){return null==e?[]:(r&&Zn(t,n,r)&&(n=O),ks(t)||(t=null==t?[]:[t]),ks(n)||(n=null==n?[]:[n]),Jt(e,t,n))}function co(e,t){return Jr(e,Bt(t))}function lo(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ki(H);var n=e;e=t,t=n}return e=_a(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function fo(e,t,n){return n&&Zn(e,t,n)&&(t=O),t=e&&null==t?e.length:xa(+t||0,0),Fn(e,I,O,O,O,O,t)}function po(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Ki(H);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=O),n}}function ho(e,t,n){function r(){h&&sa(h),c&&sa(c),v=0,c=h=d=O}function o(t,n){n&&sa(n),c=h=d=O,t&&(v=vs(),l=e.apply(p,u),h||c||(u=p=O))}function i(){var e=t-(vs()-f);0>=e||e>t?o(d,c):h=pa(i,e)}function a(){o(g,h)}function s(){if(u=arguments,f=vs(),p=this,d=g&&(h||!y),m===!1)var n=y&&!h;else{c||y||(v=f);var r=m-(f-v),o=0>=r||r>m;o?(c&&(c=sa(c)),v=f,l=e.apply(p,u)):c||(c=pa(a,r))}return o&&h?h=sa(h):h||t===m||(h=pa(i,t)),n&&(o=!0,l=e.apply(p,u)),!o||h||c||(u=p=O),l}var u,c,l,f,p,h,d,v=0,m=!1,g=!0;if("function"!=typeof e)throw new Ki(H);if(t=0>t?0:+t||0,n===!0){var y=!0;g=!1}else Do(n)&&(y=!!n.leading,m="maxWait"in n&&xa(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g);return s.cancel=r,s}function vo(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ki(H);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new vo.Cache,n}function mo(e){if("function"!=typeof e)throw new Ki(H);return function(){return!e.apply(this,arguments)}}function go(e){return po(2,e)}function yo(e,t){if("function"!=typeof e)throw new Ki(H);return t=xa(t===O?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=xa(n.length-t,0),i=qi(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var a=qi(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=i,e.apply(this,a)}}function bo(e){if("function"!=typeof e)throw new Ki(H);return function(t){return e.apply(this,t)}}function _o(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ki(H);return n===!1?r=!1:Do(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ho(e,t,{leading:r,maxWait:+t,trailing:o})}function wo(e,t){return t=null==t?Ai:t,Fn(t,R,O,[e],[])}function xo(e,t,n,r){return t&&"boolean"!=typeof t&&Zn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,an(n,r,1)):wt(e,t)}function Eo(e,t,n){return"function"==typeof t?wt(e,!0,an(t,n,1)):wt(e,!0)}function So(e,t){return e>t}function Co(e,t){return e>=t}function To(e){return b(e)&&Jn(e)&&ta.call(e,"callee")&&!la.call(e,"callee")}function Oo(e){return e===!0||e===!1||b(e)&&ra.call(e)==X}function Ao(e){return b(e)&&ra.call(e)==K}function ko(e){return!!e&&1===e.nodeType&&b(e)&&!qo(e)}function jo(e){return null==e?!0:Jn(e)&&(ks(e)||zo(e)||To(e)||b(e)&&Ro(e.splice))?!e.length:!Us(e).length}function Po(e,t,n,r){n="function"==typeof n?an(n,r,3):O;var o=n?n(e,t):O;return o===O?Dt(e,t,n):!!o}function No(e){return b(e)&&"string"==typeof e.message&&ra.call(e)==J}function Mo(e){return"number"==typeof e&&_a(e)}function Ro(e){return Do(e)&&ra.call(e)==Q}function Do(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Io(e,t,n,r){return n="function"==typeof n?an(n,r,3):O,Ft(e,Wn(t),n)}function Fo(e){return Uo(e)&&e!=+e}function Lo(e){return null==e?!1:Ro(e)?ia.test(ea.call(e)):b(e)&&Ie.test(e)}function Bo(e){return null===e}function Uo(e){return"number"==typeof e||b(e)&&ra.call(e)==ee}function qo(e){var t;if(!b(e)||ra.call(e)!=te||To(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return jt(e,function(e,t){n=t}),n===O||ta.call(e,n)}function Vo(e){return Do(e)&&ra.call(e)==ne}function zo(e){return"string"==typeof e||b(e)&&ra.call(e)==oe}function Wo(e){return b(e)&&nr(e.length)&&!!We[ra.call(e)]}function Ho(e){return e===O}function Go(e,t){return t>e}function Yo(e,t){return t>=e}function $o(e){var t=e?Va(e):0;return nr(t)?t?et(e):[]:ai(e)}function Xo(e){return bt(e,ti(e))}function Ko(e,t,n){var r=Da(e);return n&&Zn(e,t,n)&&(t=O),t?gt(r,t):r}function Jo(e){return Mt(e,ti(e))}function Qo(e,t,n){var r=null==e?O:Rt(e,pr(t),t+"");return r===O?n:r}function Zo(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=pr(t),e=1==t.length?e:Rt(e,$t(t,0,-1)),null==e)return!1;t=Tr(t),n=ta.call(e,t)}return n||nr(e.length)&&Qn(t,e.length)&&(ks(e)||To(e))}function ei(e,t,n){n&&Zn(e,t,n)&&(t=O);for(var r=-1,o=Us(e),i=o.length,a={};++r<i;){var s=o[r],u=e[s];t?ta.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function ti(e){if(null==e)return[];Do(e)||(e=Yi(e));var t=e.length;t=t&&nr(t)&&(ks(e)||To(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=qi(t),a=t>0;++r<t;)i[r]=r+"";for(var s in e)a&&Qn(s,t)||"constructor"==s&&(o||!ta.call(e,s))||i.push(s);return i}function ni(e){e=fr(e);for(var t=-1,n=Us(e),r=n.length,o=qi(r);++t<r;){var i=n[t];o[t]=[i,e[i]]}return o}function ri(e,t,n){var r=null==e?O:e[t];return r===O&&(null==e||er(t,e)||(t=pr(t),e=1==t.length?e:Rt(e,$t(t,0,-1)),r=null==e?O:e[Tr(t)]),r=r===O?n:r),Ro(r)?r.call(e):r}function oi(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:pr(t);for(var o=-1,i=t.length,a=i-1,s=e;null!=s&&++o<i;){var u=t[o];Do(s)&&(o==a?s[u]=n:null==s[u]&&(s[u]=Qn(t[o+1])?[]:{})),s=s[u]}return e}function ii(e,t,n,r){var o=ks(e)||Wo(e);if(t=qn(t,r,4),null==n)if(o||Do(e)){var i=e.constructor;n=o?ks(e)?new i:[]:Da(Ro(i)?i.prototype:O)}else n={};return(o?tt:Pt)(e,function(e,r,o){return t(n,e,r,o)}),n}function ai(e){return en(e,Us(e))}function si(e){return en(e,ti(e))}function ui(e,t,n){return t=+t||0,n===O?(n=t,t=0):n=+n||0,e>=Ea(t,n)&&e<xa(t,n)}function ci(e,t,n){n&&Zn(e,t,n)&&(t=n=O);var r=null==e,o=null==t;if(null==n&&(o&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,o=!0)),r&&o&&(t=1,o=!1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var i=Ta();return Ea(e+i*(t-e+ua("1e-"+((i+"").length-1))),t)}return Gt(e,t)}function li(e){return e=c(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function fi(e){return e=c(e),e&&e.replace(Le,d).replace(Pe,"")}function pi(e,t,n){e=c(e),t+="";var r=e.length;return n=n===O?r:Ea(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function hi(e){return e=c(e),e&&xe.test(e)?e.replace(_e,v):e}function di(e){return e=c(e),e&&je.test(e)?e.replace(ke,m):e||"(?:)"}function vi(e,t,n){e=c(e),t=+t;var r=e.length;if(r>=t||!_a(t))return e;var o=(t-r)/2,i=ya(o),a=ma(o);return n=Mn("",a,n),n.slice(0,i)+e+n}function mi(e,t,n){return(n?Zn(e,t,n):null==t)?t=0:t&&(t=+t),e=_i(e),Ca(e,t||(De.test(e)?16:10))}function gi(e,t){var n="";if(e=c(e),t=+t,1>t||!e||!_a(t))return n;do t%2&&(n+=e),t=ya(t/2),e+=e;while(t);return n}function yi(e,t,n){return e=c(e),n=null==n?0:Ea(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function bi(e,n,r){var o=t.templateSettings;r&&Zn(e,n,r)&&(n=r=O),e=c(e),n=mt(gt({},r||n),o,vt);var i,a,s=mt(gt({},n.imports),o.imports,vt),u=Us(s),l=en(s,u),f=0,p=n.interpolate||Be,h="__p += '",d=$i((n.escape||Be).source+"|"+p.source+"|"+(p===Ce?Me:Be).source+"|"+(n.evaluate||Be).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++ze+"]")+"\n";e.replace(d,function(t,n,r,o,s,u){return r||(r=o),h+=e.slice(f,u).replace(Ue,g),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+t.length,t}),h+="';\n";var m=n.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(me,""):h).replace(ge,"$1").replace(ye,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Js(function(){return Wi(u,v+"return "+h).apply(O,l)});if(y.source=h,No(y))throw y;return y}function _i(e,t,n){var r=e;return(e=c(e))?(n?Zn(r,t,n):null==t)?e.slice(E(e),S(e)+1):(t+="",e.slice(l(e,t),f(e,t)+1)):e}function wi(e,t,n){var r=e;return e=c(e),e?(n?Zn(r,t,n):null==t)?e.slice(E(e)):e.slice(l(e,t+"")):e}function xi(e,t,n){var r=e;return e=c(e),e?(n?Zn(r,t,n):null==t)?e.slice(0,S(e)+1):e.slice(0,f(e,t+"")+1):e}function Ei(e,t,n){n&&Zn(e,t,n)&&(t=O);var r=L,o=B;if(null!=t)if(Do(t)){var i="separator"in t?t.separator:i;r="length"in t?+t.length||0:r,o="omission"in t?c(t.omission):o}else r=+t||0;if(e=c(e),r>=e.length)return e;var a=r-o.length;if(1>a)return o;var s=e.slice(0,a);if(null==i)return s+o;if(Vo(i)){if(e.slice(a).search(i)){var u,l,f=e.slice(0,a);for(i.global||(i=$i(i.source,(Re.exec(i)||"")+"g")),i.lastIndex=0;u=i.exec(f);)l=u.index;s=s.slice(0,null==l?a:l)}}else if(e.indexOf(i,a)!=a){var p=s.lastIndexOf(i);p>-1&&(s=s.slice(0,p))}return s+o}function Si(e){return e=c(e),e&&we.test(e)?e.replace(be,C):e}function Ci(e,t,n){return n&&Zn(e,t,n)&&(t=O),e=c(e),e.match(t||qe)||[]}function Ti(e,t,n){return n&&Zn(e,t,n)&&(t=O),b(e)?ki(e):_t(e,t)}function Oi(e){return function(){return e}}function Ai(e){return e}function ki(e){return Bt(wt(e,!0))}function ji(e,t){return Ut(e,wt(t,!0))}function Pi(e,t,n){if(null==n){var r=Do(t),o=r?Us(t):O,i=o&&o.length?Mt(t,o):O;(i?i.length:r)||(i=!1,n=t,t=e,e=this)}i||(i=Mt(t,Us(t)));var a=!0,s=-1,u=Ro(e),c=i.length;n===!1?a=!1:Do(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=i[s],f=t[l];e[l]=f,u&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),o=r.__actions__=et(this.__actions__);return o.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ct([this.value()],arguments))}}(f))}return e}function Ni(){return rt._=oa,this}function Mi(){}function Ri(e){return er(e)?zt(e):Wt(e)}function Di(e){return function(t){return Rt(e,pr(t),t+"")}}function Ii(e,t,n){n&&Zn(e,t,n)&&(t=n=O),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,o=xa(ma((t-e)/(n||1)),0),i=qi(o);++r<o;)i[r]=e,e+=n;return i}function Fi(e,t,n){if(e=ya(e),1>e||!_a(e))return[];var r=-1,o=qi(Ea(e,ka));for(t=an(t,n,1);++r<e;)ka>r?o[r]=t(r):t(r);return o}function Li(e){var t=++na;return c(e)+t}function Bi(e,t){return(+e||0)+(+t||0)}function Ui(e,t,n){return n&&Zn(e,t,n)&&(t=O),t=qn(t,n,3),1==t.length?ht(ks(e)?e:lr(e),t):Qt(e,t)}e=e?ot.defaults(rt.Object(),e,ot.pick(rt,Ve)):rt;var qi=e.Array,Vi=e.Date,zi=e.Error,Wi=e.Function,Hi=e.Math,Gi=e.Number,Yi=e.Object,$i=e.RegExp,Xi=e.String,Ki=e.TypeError,Ji=qi.prototype,Qi=Yi.prototype,Zi=Xi.prototype,ea=Wi.prototype.toString,ta=Qi.hasOwnProperty,na=0,ra=Qi.toString,oa=rt._,ia=$i("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,ua=e.parseFloat,ca=Hi.pow,la=Qi.propertyIsEnumerable,fa=Hn(e,"Set"),pa=e.setTimeout,ha=Ji.splice,da=e.Uint8Array,va=Hn(e,"WeakMap"),ma=Hi.ceil,ga=Hn(Yi,"create"),ya=Hi.floor,ba=Hn(qi,"isArray"),_a=e.isFinite,wa=Hn(Yi,"keys"),xa=Hi.max,Ea=Hi.min,Sa=Hn(Vi,"now"),Ca=e.parseInt,Ta=Hi.random,Oa=Gi.NEGATIVE_INFINITY,Aa=Gi.POSITIVE_INFINITY,ka=4294967295,ja=ka-1,Pa=ka>>>1,Na=9007199254740991,Ma=va&&new va,Ra={};t.support={};t.templateSettings={escape:Ee,evaluate:Se,interpolate:Ce,variable:"",imports:{_:t}};var Da=function(){function e(){}return function(t){if(Do(t)){e.prototype=t;var n=new e;e.prototype=O}return n||{}}}(),Ia=pn(Pt),Fa=pn(Nt,!0),La=hn(),Ba=hn(!0),Ua=Ma?function(e,t){return Ma.set(e,t),e}:Ai,qa=Ma?function(e){return Ma.get(e)}:Mi,Va=zt("length"),za=function(){var e=0,t=0;return function(n,r){var o=vs(),i=q-(o-t);if(t=o,i>0){if(++e>=U)return n}else e=0;return Ua(n,r)}}(),Wa=yo(function(e,t){return b(e)&&Jn(e)?Et(e,kt(t,!1,!0)):[]}),Ha=xn(),Ga=xn(!0),Ya=yo(function(e){for(var t=e.length,n=t,r=qi(f),o=zn(),i=o==s,a=[];n--;){var u=e[n]=Jn(u=e[n])?u:[];r[n]=i&&u.length>=120?vn(n&&u):null}var c=e[0],l=-1,f=c?c.length:0,p=r[0];e:for(;++l<f;)if(u=c[l],(p?Je(p,u):o(a,u,0))<0){for(var n=t;--n;){
var h=r[n];if((h?Je(h,u):o(e[n],u,0))<0)continue e}p&&p.push(u),a.push(u)}return a}),$a=yo(function(e,t){t=kt(t);var n=yt(e,t);return Ht(e,t.sort(i)),n}),Xa=In(),Ka=In(!0),Ja=yo(function(e){return Zt(kt(e,!1,!0))}),Qa=yo(function(e,t){return Jn(e)?Et(e,t):[]}),Za=yo(Fr),es=yo(function(e){var t=e.length,n=t>2?e[t-2]:O,r=t>1?e[t-1]:O;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):O,r=O),e.length=t,Lr(e,n,r)}),ts=yo(function(e){return e=kt(e),this.thru(function(t){return Ze(ks(t)?t:[fr(t)],e)})}),ns=yo(function(e,t){return yt(e,kt(t))}),rs=ln(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),os=wn(Ia),is=wn(Fa,!0),as=Cn(tt,Ia),ss=Cn(nt,Fa),us=ln(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),cs=ln(function(e,t,n){e[n]=t}),ls=yo(function(e,t,n){var r=-1,o="function"==typeof t,i=er(t),a=Jn(e)?qi(e.length):[];return Ia(e,function(e){var s=o?t:i&&null!=e?e[t]:O;a[++r]=s?s.apply(e,n):Kn(e,t,n)}),a}),fs=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ps=Pn(lt,Ia),hs=Pn(ft,Fa),ds=yo(function(e,t){if(null==e)return[];var n=t[2];return n&&Zn(t[0],t[1],n)&&(t.length=1),Jt(e,kt(t),[])}),vs=Sa||function(){return(new Vi).getTime()},ms=yo(function(e,t,n){var r=k;if(n.length){var o=w(n,ms.placeholder);r|=R}return Fn(e,r,t,n,o)}),gs=yo(function(e,t){t=t.length?kt(t):Jo(e);for(var n=-1,r=t.length;++n<r;){var o=t[n];e[o]=Fn(e[o],k,e)}return e}),ys=yo(function(e,t,n){var r=k|j;if(n.length){var o=w(n,ys.placeholder);r|=R}return Fn(t,r,e,n,o)}),bs=yn(N),_s=yn(M),ws=yo(function(e,t){return xt(e,1,t)}),xs=yo(function(e,t,n){return xt(e,t,n)}),Es=Sn(),Ss=Sn(!0),Cs=yo(function(e,t){if(t=kt(t),"function"!=typeof e||!it(t,u))throw new Ki(H);var n=t.length;return yo(function(r){for(var o=Ea(r.length,n);o--;)r[o]=t[o](r[o]);return e.apply(this,r)})}),Ts=jn(R),Os=jn(D),As=yo(function(e,t){return Fn(e,F,O,O,O,kt(t))}),ks=ba||function(e){return b(e)&&nr(e.length)&&ra.call(e)==$},js=fn(qt),Ps=fn(function(e,t,n){return n?mt(e,t,n):gt(e,t)}),Ns=bn(Ps,dt),Ms=bn(js,ir),Rs=En(Pt),Ds=En(Nt),Is=Tn(La),Fs=Tn(Ba),Ls=On(Pt),Bs=On(Nt),Us=wa?function(e){var t=null==e?O:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Jn(e)?cr(e):Do(e)?wa(e):[]}:cr,qs=An(!0),Vs=An(),zs=yo(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(kt(t),Xi);return ar(e,Et(ti(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Ws=yo(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,kt(t))}),Hs=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Gs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ys=kn(),$s=kn(!0),Xs=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ks=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Js=yo(function(e,t){try{return e.apply(O,t)}catch(n){return No(n)?n:new zi(n)}}),Qs=yo(function(e,t){return function(n){return Kn(n,e,t)}}),Zs=yo(function(e,t){return function(n){return Kn(e,n,t)}}),eu=Dn("ceil"),tu=Dn("floor"),nu=_n(So,Oa),ru=_n(Go,Aa),ou=Dn("round");return t.prototype=n.prototype,r.prototype=Da(n.prototype),r.prototype.constructor=r,o.prototype=Da(n.prototype),o.prototype.constructor=o,ie.prototype["delete"]=Ge,ie.prototype.get=Ye,ie.prototype.has=$e,ie.prototype.set=Xe,Ke.prototype.push=Qe,vo.Cache=ie,t.after=lo,t.ary=fo,t.assign=Ps,t.at=ns,t.before=po,t.bind=ms,t.bindAll=gs,t.bindKey=ys,t.callback=Ti,t.chain=qr,t.chunk=dr,t.compact=vr,t.constant=Oi,t.countBy=rs,t.create=Ko,t.curry=bs,t.curryRight=_s,t.debounce=ho,t.defaults=Ns,t.defaultsDeep=Ms,t.defer=ws,t.delay=xs,t.difference=Wa,t.drop=mr,t.dropRight=gr,t.dropRightWhile=yr,t.dropWhile=br,t.fill=_r,t.filter=Jr,t.flatten=xr,t.flattenDeep=Er,t.flow=Es,t.flowRight=Ss,t.forEach=as,t.forEachRight=ss,t.forIn=Is,t.forInRight=Fs,t.forOwn=Ls,t.forOwnRight=Bs,t.functions=Jo,t.groupBy=us,t.indexBy=cs,t.initial=Cr,t.intersection=Ya,t.invert=ei,t.invoke=ls,t.keys=Us,t.keysIn=ti,t.map=eo,t.mapKeys=qs,t.mapValues=Vs,t.matches=ki,t.matchesProperty=ji,t.memoize=vo,t.merge=js,t.method=Qs,t.methodOf=Zs,t.mixin=Pi,t.modArgs=Cs,t.negate=mo,t.omit=zs,t.once=go,t.pairs=ni,t.partial=Ts,t.partialRight=Os,t.partition=fs,t.pick=Ws,t.pluck=to,t.property=Ri,t.propertyOf=Di,t.pull=Ar,t.pullAt=$a,t.range=Ii,t.rearg=As,t.reject=no,t.remove=kr,t.rest=jr,t.restParam=yo,t.set=oi,t.shuffle=oo,t.slice=Pr,t.sortBy=so,t.sortByAll=ds,t.sortByOrder=uo,t.spread=bo,t.take=Nr,t.takeRight=Mr,t.takeRightWhile=Rr,t.takeWhile=Dr,t.tap=Vr,t.throttle=_o,t.thru=zr,t.times=Fi,t.toArray=$o,t.toPlainObject=Xo,t.transform=ii,t.union=Ja,t.uniq=Ir,t.unzip=Fr,t.unzipWith=Lr,t.values=ai,t.valuesIn=si,t.where=co,t.without=Qa,t.wrap=wo,t.xor=Br,t.zip=Za,t.zipObject=Ur,t.zipWith=es,t.backflow=Ss,t.collect=eo,t.compose=Ss,t.each=as,t.eachRight=ss,t.extend=Ps,t.iteratee=Ti,t.methods=Jo,t.object=Ur,t.select=Jr,t.tail=jr,t.unique=Ir,Pi(t,t),t.add=Bi,t.attempt=Js,t.camelCase=Hs,t.capitalize=li,t.ceil=eu,t.clone=xo,t.cloneDeep=Eo,t.deburr=fi,t.endsWith=pi,t.escape=hi,t.escapeRegExp=di,t.every=Kr,t.find=os,t.findIndex=Ha,t.findKey=Rs,t.findLast=is,t.findLastIndex=Ga,t.findLastKey=Ds,t.findWhere=Qr,t.first=wr,t.floor=tu,t.get=Qo,t.gt=So,t.gte=Co,t.has=Zo,t.identity=Ai,t.includes=Zr,t.indexOf=Sr,t.inRange=ui,t.isArguments=To,t.isArray=ks,t.isBoolean=Oo,t.isDate=Ao,t.isElement=ko,t.isEmpty=jo,t.isEqual=Po,t.isError=No,t.isFinite=Mo,t.isFunction=Ro,t.isMatch=Io,t.isNaN=Fo,t.isNative=Lo,t.isNull=Bo,t.isNumber=Uo,t.isObject=Do,t.isPlainObject=qo,t.isRegExp=Vo,t.isString=zo,t.isTypedArray=Wo,t.isUndefined=Ho,t.kebabCase=Gs,t.last=Tr,t.lastIndexOf=Or,t.lt=Go,t.lte=Yo,t.max=nu,t.min=ru,t.noConflict=Ni,t.noop=Mi,t.now=vs,t.pad=vi,t.padLeft=Ys,t.padRight=$s,t.parseInt=mi,t.random=ci,t.reduce=ps,t.reduceRight=hs,t.repeat=gi,t.result=ri,t.round=ou,t.runInContext=T,t.size=io,t.snakeCase=Xs,t.some=ao,t.sortedIndex=Xa,t.sortedLastIndex=Ka,t.startCase=Ks,t.startsWith=yi,t.sum=Ui,t.template=bi,t.trim=_i,t.trimLeft=wi,t.trimRight=xi,t.trunc=Ei,t.unescape=Si,t.uniqueId=Li,t.words=Ci,t.all=Kr,t.any=ao,t.contains=Zr,t.eq=Po,t.detect=os,t.foldl=ps,t.foldr=hs,t.head=wr,t.include=Zr,t.inject=ps,Pi(t,function(){var e={};return Pt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ro,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ro(t,e)}):ro(this.value())},t.VERSION=A,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){o.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new o(this);n=null==n?1:xa(ya(n)||0,0);var i=this.clone();return r?i.__takeCount__=Ea(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},o.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=W;o.prototype[e]=function(e,t){var o=this.clone();return o.__iteratees__.push({iteratee:qn(e,t,1),type:n}),o.__filtered__=o.__filtered__||r,o}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");o.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");o.prototype[e]=function(){return this.__filtered__?new o(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Bt:Ri;o.prototype[e]=function(e){return this[n](r(e))}}),o.prototype.compact=function(){return this.filter(Ai)},o.prototype.reject=function(e,t){return e=qn(e,t,1),this.filter(function(t){return!e(t)})},o.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new o(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==O&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},o.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},o.prototype.toArray=function(){return this.take(Aa)},Pt(o.prototype,function(e,n){var i=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n];s&&(t.prototype[n]=function(){var t=a?[1]:arguments,n=this.__chain__,u=this.__wrapped__,c=!!this.__actions__.length,l=u instanceof o,f=t[0],p=l||ks(u);p&&i&&"function"==typeof f&&1!=f.length&&(l=p=!1);var h=function(e){return a&&n?s(e,1)[0]:s.apply(O,ct([e],t))},d={func:zr,args:[h],thisArg:O},v=l&&!c;if(a&&!n)return v?(u=u.clone(),u.__actions__.push(d),e.call(u)):s.call(O,this.value())[0];if(!a&&p){u=v?u:new o(this);var m=e.apply(u,t);return m.__actions__.push(d),new r(m,n)}return this.thru(h)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Zi:Ji)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return o&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Pt(o.prototype,function(e,n){var r=t[n];if(r){var o=r.name,i=Ra[o]||(Ra[o]=[]);i.push({name:n,func:r})}}),Ra[Nn(O,j).name]=[{name:"wrapper",func:O}],o.prototype.clone=_,o.prototype.reverse=Z,o.prototype.value=re,t.prototype.chain=Wr,t.prototype.commit=Hr,t.prototype.concat=ts,t.prototype.plant=Gr,t.prototype.reverse=Yr,t.prototype.toString=$r,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Xr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var O,A="3.10.0",k=1,j=2,P=4,N=8,M=16,R=32,D=64,I=128,F=256,L=30,B="...",U=150,q=16,V=200,z=1,W=2,H="Expected a function",G="__lodash_placeholder__",Y="[object Arguments]",$="[object Array]",X="[object Boolean]",K="[object Date]",J="[object Error]",Q="[object Function]",Z="[object Map]",ee="[object Number]",te="[object Object]",ne="[object RegExp]",re="[object Set]",oe="[object String]",ie="[object WeakMap]",ae="[object ArrayBuffer]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",fe="[object Int32Array]",pe="[object Uint8Array]",he="[object Uint8ClampedArray]",de="[object Uint16Array]",ve="[object Uint32Array]",me=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,_e=/[&<>"'`]/g,we=RegExp(be.source),xe=RegExp(_e.source),Ee=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ke=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,je=RegExp(ke.source),Pe=/[\u0300-\u036f\ufe20-\ufe23]/g,Ne=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Re=/\w*$/,De=/^0[xX]/,Ie=/^\[object .+?Constructor\]$/,Fe=/^\d+$/,Le=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Be=/($^)/,Ue=/['\n\r\u2028\u2029\\]/g,qe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],ze=-1,We={};We[se]=We[ue]=We[ce]=We[le]=We[fe]=We[pe]=We[he]=We[de]=We[ve]=!0,We[Y]=We[$]=We[ae]=We[X]=We[K]=We[J]=We[Q]=We[Z]=We[ee]=We[te]=We[ne]=We[re]=We[oe]=We[ie]=!1;var He={};He[Y]=He[$]=He[ae]=He[X]=He[K]=He[se]=He[ue]=He[ce]=He[le]=He[fe]=He[ee]=He[te]=He[ne]=He[oe]=He[pe]=He[he]=He[de]=He[ve]=!0,He[J]=He[Q]=He[Z]=He[re]=He[ie]=!1;var Ge={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},$e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Xe={"function":!0,object:!0},Ke={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=Xe[typeof t]&&t&&!t.nodeType&&t,Ze=Xe[typeof e]&&e&&!e.nodeType&&e,et=Qe&&Ze&&"object"==typeof o&&o&&o.Object&&o,tt=Xe[typeof self]&&self&&self.Object&&self,nt=Xe[typeof window]&&window&&window.Object&&window,rt=(Ze&&Ze.exports===Qe&&Qe,et||nt!==(this&&this.window)&&nt||tt||this),ot=T();rt._=ot,r=function(){return ot}.call(t,n,t,e),!(r!==O&&(e.exports=r))}).call(this)}).call(t,n(98)(e),function(){return this}())},function(e,t,n){(function(t){"use strict";var r=n(2),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},u=function(e){var n=this;"production"!==t.env.NODE_ENV?r(e instanceof n,"Trying to release an instance into a pool of a different type."):r(e instanceof n),e.destructor&&e.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(e)},c=10,l=o,f=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=c),n.release=u,n},p={addPoolingTo:f,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fiveArgumentPooler:s};e.exports=p}).call(t,n(1))},function(e,t,n){"use strict";var r=n(120),o={getDOMNode:function(){return r(this)}};e.exports=o},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){e.exports={Point:n(158),Matrix:n(543),Circle:n(544),Ellipse:n(545),Polygon:n(546),Rectangle:n(159),RoundedRectangle:n(547)}},function(e,t,n){var r=n(12),o=e.exports={_uid:0,_saidHello:!1,pluginTarget:n(566),async:n(324),uid:function(){return++o._uid},hex2rgb:function(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},hex2string:function(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e},rgb2hex:function(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",n=new Image;n.src=e+"AP804Oa6"+t;var r=new Image;r.src=e+"/wCKxvRF"+t;var o=document.createElement("canvas");o.width=6,o.height=1;var i=o.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(n,0,0),i.drawImage(r,2,0);var a=i.getImageData(2,0,1,1).data;return 255===a[0]&&0===a[1]&&0===a[2]},getNextPowerOfTwo:function(e){if(e>0&&0===(e&e-1))return e;for(var t=1;e>t;)t<<=1;return t},isPowerOfTwo:function(e,t){return e>0&&0===(e&e-1)&&t>0&&0===(t&t-1)},getResolutionOfUrl:function(e){var t=r.RETINA_PREFIX.exec(e);return t?parseFloat(t[1]):1},sayHello:function(e){if(!o._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["\n %c %c %c Pixi.js "+r.VERSION+" -  "+e+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("Pixi.js "+r.VERSION+" - "+e+" - http://www.pixijs.com/");o._saidHello=!0}},isWebGLSupported:function(){var e={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);return!(!n||!n.getContextAttributes().stencil)}catch(r){return!1}},TextureCache:{},BaseTextureCache:{}}},function(e,t,n){(function(t){"use strict";function n(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:n,measureMethods:function(e,n,o){if("production"!==t.env.NODE_ENV)for(var i in o)o.hasOwnProperty(i)&&(e[i]=r.measure(n,o[i],e[i]))},measure:function(e,n,o){if("production"!==t.env.NODE_ENV){var i=null,a=function(){return r.enableMeasure?(i||(i=r.storedMeasure(e,n,o)),i.apply(this,arguments)):o.apply(this,arguments)};return a.displayName=e+"_"+n,a}return o},injection:{injectMeasure:function(e){r.storedMeasure=e}}};e.exports=r}).call(t,n(1))},function(e,t){function n(e){return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t){var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){(function(t){"use strict";function r(e,t){return(e&t)===t}var o=n(2),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var n=e.Properties||{},a=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var l in n){"production"!==t.env.NODE_ENV?o(!s.isStandardName.hasOwnProperty(l),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",l):o(!s.isStandardName.hasOwnProperty(l)),s.isStandardName[l]=!0;var f=l.toLowerCase();if(s.getPossibleStandardName[f]=l,a.hasOwnProperty(l)){var p=a[l];s.getPossibleStandardName[p]=l,s.getAttributeName[l]=p}else s.getAttributeName[l]=f;s.getPropertyName[l]=u.hasOwnProperty(l)?u[l]:l,c.hasOwnProperty(l)?s.getMutationMethod[l]=c[l]:s.getMutationMethod[l]=null;var h=n[l];s.mustUseAttribute[l]=r(h,i.MUST_USE_ATTRIBUTE),s.mustUseProperty[l]=r(h,i.MUST_USE_PROPERTY),s.hasSideEffects[l]=r(h,i.HAS_SIDE_EFFECTS),s.hasBooleanValue[l]=r(h,i.HAS_BOOLEAN_VALUE),s.hasNumericValue[l]=r(h,i.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[l]=r(h,i.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[l]=r(h,i.HAS_OVERLOADED_BOOLEAN_VALUE),"production"!==t.env.NODE_ENV?o(!s.mustUseAttribute[l]||!s.mustUseProperty[l],"DOMProperty: Cannot require using both attribute and property: %s",l):o(!s.mustUseAttribute[l]||!s.mustUseProperty[l]),"production"!==t.env.NODE_ENV?o(s.mustUseProperty[l]||!s.hasSideEffects[l],"DOMProperty: Properties that have side effects must use property: %s",l):o(s.mustUseProperty[l]||!s.hasSideEffects[l]),"production"!==t.env.NODE_ENV?o(!!s.hasBooleanValue[l]+!!s.hasNumericValue[l]+!!s.hasOverloadedBooleanValue[l]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",l):o(!!s.hasBooleanValue[l]+!!s.hasNumericValue[l]+!!s.hasOverloadedBooleanValue[l]<=1)}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:i};e.exports=s}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i?this[o]=i(n):this[o]=n[o]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var o=n(18),i=n(5),a=n(24),s=n(84),u={type:null,target:s,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);i(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.threeArgumentPooler)},o.addPoolingTo(r,o.threeArgumentPooler),e.exports=r},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function i(e){return a(e)&&d.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:i(e)?v.test(p.call(e)):n(e)&&l.test(e)}var u="[object Array]",c="[object Function]",l=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,h=f.hasOwnProperty,d=f.toString,v=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=r(Array,"isArray"),g=9007199254740991,y=m||function(e){return n(e)&&o(e.length)&&d.call(e)==u};e.exports=y},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=h++,f[e[v]]={}),f[e[v]]}var o=n(13),i=n(40),a=n(108),s=n(265),u=n(118),c=n(5),l=n(86),f={},p=!1,h=0,d={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),m=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),s=a.registrationNameDependencies[e],u=o.topLevelTypes,c=0,f=s.length;f>c;c++){var p=s[c];i.hasOwnProperty(p)&&i[p]||(p===u.topWheel?l("wheel")?m.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):l("mousewheel")?m.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):m.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):p===u.topScroll?l("scroll",!0)?m.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):m.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):p===u.topFocus||p===u.topBlur?(l("focus",!0)?(m.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),m.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):l("focusin")&&(m.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),m.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):d.hasOwnProperty(p)&&m.ReactEventListener.trapBubbledEvent(p,d[p],n),i[p]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!p){var e=u.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),p=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});e.exports=m},function(e,t,n){(function(t){"use strict";function r(e){return h+e.toString(36)}function o(e,t){return e.charAt(t)===h||t===e.length}function i(e){return""===e||e.charAt(0)===h&&e.charAt(e.length-1)!==h}function a(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(h)):""}function u(e,n){if("production"!==t.env.NODE_ENV?p(i(e)&&i(n),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,n):p(i(e)&&i(n)),"production"!==t.env.NODE_ENV?p(a(e,n),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,n):p(a(e,n)),e===n)return e;var r,s=e.length+d;for(r=s;r<n.length&&!o(n,r);r++);return n.substr(0,r)}function c(e,n){var r=Math.min(e.length,n.length);if(0===r)return"";for(var a=0,s=0;r>=s;s++)if(o(e,s)&&o(n,s))a=s;else if(e.charAt(s)!==n.charAt(s))break;var u=e.substr(0,a);return"production"!==t.env.NODE_ENV?p(i(u),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,n,u):p(i(u)),u}function l(e,n,r,o,i,c){e=e||"",n=n||"","production"!==t.env.NODE_ENV?p(e!==n,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e):p(e!==n);var l=a(n,e);"production"!==t.env.NODE_ENV?p(l||a(e,n),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,n):p(l||a(e,n));for(var f=0,h=l?s:u,d=e;;d=h(d,n)){var m;if(i&&d===e||c&&d===n||(m=r(d,l,o)),m===!1||d===n)break;"production"!==t.env.NODE_ENV?p(f++<v,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,n):p(f++<v)}}var f=n(117),p=n(2),h=".",d=h.length,v=100,m={createReactRootID:function(){return r(f.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===h&&e.length>1){var t=e.indexOf(h,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var i=c(e,t);i!==e&&l(e,i,n,r,!1,!0),i!==t&&l(i,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(l("",e,t,n,!0,!1),l(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){l("",e,t,n,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:h};e.exports=m}).call(t,n(1))},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){(function(t){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=n(271),i=n(42),a={mountComponent:function(e,n,o,a){var s=e.mountComponent(n,o,a);return"production"!==t.env.NODE_ENV&&i.checkAndWarnForMutatedProps(e._currentElement),o.getReactMountReady().enqueue(r,e),s},unmountComponent:function(e){o.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,n,a,s){var u=e._currentElement;if(n!==u||null==n._owner){"production"!==t.env.NODE_ENV&&i.checkAndWarnForMutatedProps(n);var c=o.shouldUpdateRefs(u,n);c&&o.detachRefs(e,u),e.receiveComponent(n,a,s),c&&a.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=a}).call(t,n(1))},function(e,t,n){(function(t){n(605);var r=e.exports=n(4);r.extras=n(165),r.filters=n(335),r.interaction=n(598),r.loaders=n(599),r.mesh=n(344),r.loader=new r.loaders.Loader,Object.assign(r,n(567)),t.PIXI=r}).call(t,function(){return this}())},function(e,t,n){var r;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e+=" "+n;else if(Array.isArray(n))e+=" "+o.apply(null,n);else if("object"===r)for(var i in n)n.hasOwnProperty(i)&&n[i]&&(e+=" "+i)}}return e.substr(1)}"undefined"!=typeof e&&e.exports?e.exports=o:(r=function(){return o}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}()},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=arguments.length<=0||void 0===arguments[0]?function(e){return e}:arguments[0],t=new p["default"].Bus,n=function(){if(v)throw new Error("An action should not fire another action!");try{var n=e.apply(null,arguments);v=!0,t.push(n)}finally{v=!1}};return n.bus=t,n.debug=function(e){return t.map(function(t){return[e,t]}).log(),n},n}function s(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=!!t.lazy;return e=u(e),e.get=function(){var t=void 0,n=e.onValue(function(e){return t=e});return setTimeout(n),t},n||e.onValue(function(){}),e}function u(e){if(e instanceof p["default"].Property)return e;if(e instanceof p["default"].EventStream)throw new Error("Please convert Bacon.EventStream to Bacon.Property first.");if(e&&"object"==typeof e)return p["default"].combineTemplate(e);throw new Error("Expected a Bacon.Property or a template.")}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}};t.Action=a,t.Store=s;var f=n(61),p=r(f),h=n(3),d=r(h);t.Bacon=p["default"];var v=!1,m=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),c(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){var e=this;this._unsubscribe=this.props.store.onValue(function(t){return e.props.onChange(t)})}},{key:"componentWillUnmount",value:function(){this._unsubscribe()}}]),t}(d["default"].Component);t.Binding=m},function(e,t){e.exports=function(e,t,n,r,o){this.confidence=n,this.name=r||t.name(e),this.lang=o}},function(e,t,n){(function(t){"use strict";function r(e,t){return null==t||o.hasBooleanValue[e]&&!t||o.hasNumericValue[e]&&isNaN(t)||o.hasPositiveNumericValue[e]&&1>t||o.hasOverloadedBooleanValue[e]&&t===!1}var o=n(26),i=n(306),a=n(8);if("production"!==t.env.NODE_ENV)var s={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},u={},c=function(e){if(!(s.hasOwnProperty(e)&&s[e]||u.hasOwnProperty(e)&&u[e])){u[e]=!0;var n=e.toLowerCase(),r=o.isCustomAttribute(n)?n:o.getPossibleStandardName.hasOwnProperty(n)?o.getPossibleStandardName[n]:null;"production"!==t.env.NODE_ENV?a(null==r,"Unknown DOM property %s. Did you mean %s?",e,r):null}};var l={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+i(e)},createMarkupForProperty:function(e,n){if(o.isStandardName.hasOwnProperty(e)&&o.isStandardName[e]){if(r(e,n))return"";var a=o.getAttributeName[e];return o.hasBooleanValue[e]||o.hasOverloadedBooleanValue[e]&&n===!0?a:a+"="+i(n)}return o.isCustomAttribute(e)?null==n?"":e+"="+i(n):("production"!==t.env.NODE_ENV&&c(e),null)},setValueForProperty:function(e,n,i){if(o.isStandardName.hasOwnProperty(n)&&o.isStandardName[n]){var a=o.getMutationMethod[n];if(a)a(e,i);else if(r(n,i))this.deleteValueForProperty(e,n);else if(o.mustUseAttribute[n])e.setAttribute(o.getAttributeName[n],""+i);else{var s=o.getPropertyName[n];o.hasSideEffects[n]&&""+e[s]==""+i||(e[s]=i)}}else o.isCustomAttribute(n)?null==i?e.removeAttribute(n):e.setAttribute(n,""+i):"production"!==t.env.NODE_ENV&&c(n)},deleteValueForProperty:function(e,n){if(o.isStandardName.hasOwnProperty(n)&&o.isStandardName[n]){var r=o.getMutationMethod[n];if(r)r(e,void 0);else if(o.mustUseAttribute[n])e.removeAttribute(o.getAttributeName[n]);else{var i=o.getPropertyName[n],a=o.getDefaultValueForProperty(e.nodeName,i);o.hasSideEffects[n]&&""+e[i]===a||(e[i]=a)}}else o.isCustomAttribute(n)?e.removeAttribute(n):"production"!==t.env.NODE_ENV&&c(n)}};e.exports=l}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){var e=p&&p.traverseTwoPhase&&p.traverseEnterLeave;"production"!==t.env.NODE_ENV?u(e,"InstanceHandle not injected before use!"):u(e)}var o=n(108),i=n(69),a=n(80),s=n(81),u=n(2),c={},l=null,f=function(e){if(e){var t=i.executeDispatch,n=o.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},p=null,h={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){p=e,"production"!==t.env.NODE_ENV&&r()},getInstanceHandle:function(){return"production"!==t.env.NODE_ENV&&r(),p},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(e,n,r){"production"!==t.env.NODE_ENV?u(!r||"function"==typeof r,"Expected %s listener to be a function, instead got type %s",n,typeof r):u(!r||"function"==typeof r);var o=c[n]||(c[n]={});o[e]=r},getListener:function(e,t){var n=c[t];return n&&n[e]},deleteListener:function(e,t){var n=c[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in c)delete c[t][e]},extractEvents:function(e,t,n,r){for(var i,s=o.plugins,u=0,c=s.length;c>u;u++){var l=s[u];if(l){var f=l.extractEvents(e,t,n,r);f&&(i=a(i,f))}}return i},enqueueEvents:function(e){e&&(l=a(l,e))},processEventQueue:function(){var e=l;l=null,s(e,f),"production"!==t.env.NODE_ENV?u(!l,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):u(!l)},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=h}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return m(e,r)}function o(e,n,o){if("production"!==t.env.NODE_ENV&&!e)throw new Error("Dispatching id must not be null");var i=n?v.bubbled:v.captured,a=r(e,o,i);a&&(o._dispatchListeners=h(o._dispatchListeners,a),o._dispatchIDs=h(o._dispatchIDs,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,o,e)}function a(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=m(e,r);o&&(n._dispatchListeners=h(n._dispatchListeners,o),n._dispatchIDs=h(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&a(e.dispatchMarker,null,e)}function u(e){d(e,i)}function c(e,t,n,r){p.injection.getInstanceHandle().traverseEnterLeave(n,r,a,e,t)}function l(e){d(e,s)}var f=n(13),p=n(40),h=n(80),d=n(81),v=f.PropagationPhases,m=p.getListener,g={accumulateTwoPhaseDispatches:u,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:c};e.exports=g}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){if(b.current){var e=b.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e){var t=e&&e.getPublicInstance();if(!t)return void 0;var n=t.constructor;return n?n.displayName||n.name||void 0:void 0}function i(){var e=b.current;return e&&o(e)||void 0}function a(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,u('Each child in an array or iterator should have a unique "key" prop.',e,t))}function s(e,t,n){T.test(e)&&u("Child objects should have non-numeric keys so ordering is preserved.",t,n)}function u(e,n,r){var a=i(),s="string"==typeof r?r:r.displayName||r.name,u=a||s,c=S[e]||(S[e]={});if(!c.hasOwnProperty(u)){c[u]=!0;var l=a?" Check the render method of "+a+".":s?" Check the React.render call using <"+s+">.":"",f="";if(n&&n._owner&&n._owner!==b.current){var p=o(n._owner);f=" It was passed a child from "+p+"."}"production"!==t.env.NODE_ENV?E(!1,e+"%s%s See https://fb.me/react-warning-keys for more information.",l,f):null}}function c(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];v.isValidElement(r)&&a(r,t)}else if(v.isValidElement(e))e._store.validated=!0;else if(e){var o=w(e);if(o){if(o!==e.entries)for(var i,u=o.call(e);!(i=u.next()).done;)v.isValidElement(i.value)&&a(i.value,t)}else if("object"==typeof e){var c=m.extractIfFragment(e);for(var l in c)c.hasOwnProperty(l)&&s(l,c[l],t)}}}function l(e,n,o,i){for(var a in n)if(n.hasOwnProperty(a)){var s;try{"production"!==t.env.NODE_ENV?x("function"==typeof n[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",y[i],a):x("function"==typeof n[a]),s=n[a](o,a,e,i)}catch(u){s=u}if(s instanceof Error&&!(s.message in C)){C[s.message]=!0;var c=r(this);"production"!==t.env.NODE_ENV?E(!1,"Failed propType: %s%s",s.message,c):null}}}function f(e,n){var r=n.type,o="string"==typeof r?r:r.displayName,i=n._owner?n._owner.getPublicInstance().constructor.displayName:null,a=e+"|"+o+"|"+i;if(!O.hasOwnProperty(a)){O[a]=!0;var s="";o&&(s=" <"+o+" />");var u="";i&&(u=" The element was created by "+i+"."),"production"!==t.env.NODE_ENV?E(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",e,s,u):null}}function p(e,t){return e!==e?t!==t:0===e&&0===t?1/e===1/t:e===t}function h(e){if(e._store){var t=e._store.originalProps,n=e.props;for(var r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&p(t[r],n[r])||(f(r,e),t[r]=n[r]))}}function d(e){if(null!=e.type){var n=_.getComponentClassForElement(e),r=n.displayName||n.name;n.propTypes&&l(r,n.propTypes,e.props,g.prop),"function"==typeof n.getDefaultProps&&("production"!==t.env.NODE_ENV?E(n.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):null)}}var v=n(6),m=n(49),g=n(78),y=n(51),b=n(20),_=n(50),w=n(123),x=n(2),E=n(8),S={},C={},T=/^\d+$/,O={},A={checkAndWarnForMutatedProps:h,createElement:function(e,n,r){"production"!==t.env.NODE_ENV?E(null!=e,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components)."):null;var o=v.createElement.apply(this,arguments);if(null==o)return o;for(var i=2;i<arguments.length;i++)c(arguments[i],e);return d(o),o},createFactory:function(e){var n=A.createElement.bind(null,e);if(n.type=e,"production"!==t.env.NODE_ENV)try{Object.defineProperty(n,"type",{enumerable:!1,get:function(){return"production"!==t.env.NODE_ENV?E(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):null,Object.defineProperty(this,"type",{value:e}),e}})}catch(r){}return n},cloneElement:function(e,t,n){for(var r=v.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)c(arguments[o],r.type);return d(r),r}};e.exports=A}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(27),i=n(84),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),e.exports=r},function(e,t,n){(function(t){"use strict";var r=n(2),o=function(e){var n,o={};"production"!==t.env.NODE_ENV?r(e instanceof Object&&!Array.isArray(e),"keyMirror(...): Argument must be an object."):r(e instanceof Object&&!Array.isArray(e));for(n in e)e.hasOwnProperty(n)&&(o[n]=n);return o};e.exports=o}).call(t,n(1))},function(e,t){function n(e){var t=this,n=f.call(arguments,1);return new Promise(function(o,i){function a(t){var n;try{n=e.next(t)}catch(r){return i(r)}c(n)}function u(t){var n;try{n=e["throw"](t)}catch(r){return i(r)}c(n)}function c(e){if(e.done)return o(e.value);var n=r.call(t,e.value);return n&&s(n)?n.then(a,u):u(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}return"function"==typeof e&&(e=e.apply(t,n)),e&&"function"==typeof e.next?void a():o(e)})}function r(e){return e?s(e)?e:c(e)||u(e)?n.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?i.call(this,e):l(e)?a.call(this,e):e:e}function o(e){var t=this;return new Promise(function(n,r){e.call(t,function(e,t){return e?r(e):(arguments.length>2&&(t=f.call(arguments,1)),void n(t))})})}function i(e){return Promise.all(e.map(r,this))}function a(e){function t(e,t){n[t]=void 0,i.push(e.then(function(e){n[t]=e}))}for(var n=new e.constructor,o=Object.keys(e),i=[],a=0;a<o.length;a++){var u=o[a],c=r.call(this,e[u]);c&&s(c)?t(c,u):n[u]=e[u]}return Promise.all(i).then(function(){return n})}function s(e){return"function"==typeof e.then}function u(e){return"function"==typeof e.next&&"function"==typeof e["throw"]}function c(e){var t=e.constructor;return t?"GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName?!0:u(t.prototype):!1}function l(e){return Object==e.constructor}var f=Array.prototype.slice;e.exports=n["default"]=n.co=n,n.wrap=function(e){function t(){return n.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t}},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function i(e){return a(e)&&d.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:i(e)?v.test(p.call(e)):n(e)&&l.test(e)}var u="[object Array]",c="[object Function]",l=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,h=f.hasOwnProperty,d=f.toString,v=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=r(Array,"isArray"),g=9007199254740991,y=m||function(e){return n(e)&&o(e.length)&&d.call(e)==u};e.exports=y},function(e,t,n){(function(e,r){function o(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,n,r){if(e.customInspect&&n&&T(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=u(e,o,r)),o}var i=c(e,n);if(i)return i;var a=Object.keys(n),v=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),C(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(T(n)){var m=n.name?": "+n.name:"";return e.stylize("[Function"+m+"]","special")}if(x(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return l(n)}var g="",y=!1,_=["{","}"];if(d(n)&&(y=!0,_=["[","]"]),T(n)){var w=n.name?": "+n.name:"";g=" [Function"+w+"]"}if(x(n)&&(g=" "+RegExp.prototype.toString.call(n)),S(n)&&(g=" "+Date.prototype.toUTCString.call(n)),C(n)&&(g=" "+l(n)),0===a.length&&(!y||0==n.length))return _[0]+g+_[1];if(0>r)return x(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var E;return E=y?f(e,n,r,v,a):a.map(function(t){return p(e,n,r,v,t,y)}),e.seen.pop(),h(E,g,_)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],a=0,s=t.length;s>a;++a)P(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}function p(e,t,n,r,o,i){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),P(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?u(e,c.value,null):u(e,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function x(e){return E(e)&&"[object RegExp]"===A(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===A(e)}function C(e){return E(e)&&("[object Error]"===A(e)||e instanceof Error)}function T(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function A(e){return Object.prototype.toString.call(e)}function k(e){return 10>e?"0"+e.toString(10):e.toString(10)}function j(){var e=new Date,t=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(N,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];i>n;s=r[++n])a+=m(s)||!E(s)?" "+s:" "+o(s);return a},t.deprecate=function(n,o){function i(){if(!a){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),a=!0}return n.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return i};var M,R={};t.debuglog=function(e){if(w(M)&&(M=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(M)){var n=r.pid;R[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else R[e]=function(){};return R[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=v,t.isNull=m,t.isNullOrUndefined=g,t.isNumber=y,t.isString=b,t.isSymbol=_,t.isUndefined=w,t.isRegExp=x,t.isObject=E,t.isDate=S,t.isError=C,t.isFunction=T,t.isPrimitive=O,t.isBuffer=n(233);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=n(232),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(1))},function(e,t,n){"use strict";var r=n(121),o={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};e.exports=o},function(e,t,n){(function(t){"use strict";var r=n(6),o=n(8);if("production"!==t.env.NODE_ENV){var i="_reactFragment",a="_reactDidWarn",s=!1;try{var u=function(){return 1};Object.defineProperty({},i,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:u}),s=!0}catch(c){}var l=function(e,n){Object.defineProperty(e,n,{enumerable:!0,get:function(){return"production"!==t.env.NODE_ENV?o(this[a],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."):null,this[a]=!0,this[i][n]},set:function(e){"production"!==t.env.NODE_ENV?o(this[a],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."):null,this[a]=!0,this[i][n]=e}})},f={},p=function(e){var t="";for(var n in e)t+=n+":"+typeof e[n]+",";var r=!!f[t];return f[t]=!0,r}}var h={create:function(e){if("production"!==t.env.NODE_ENV){if("object"!=typeof e||!e||Array.isArray(e))return"production"!==t.env.NODE_ENV?o(!1,"React.addons.createFragment only accepts a single object.",e):null,e;if(r.isValidElement(e))return"production"!==t.env.NODE_ENV?o(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."):null,e;if(s){var n={};Object.defineProperty(n,i,{enumerable:!1,value:e}),Object.defineProperty(n,a,{writable:!0,enumerable:!1,value:!1});for(var u in e)l(n,u);return Object.preventExtensions(n),n}}return e},extract:function(e){return"production"!==t.env.NODE_ENV&&s?e[i]?e[i]:("production"!==t.env.NODE_ENV?o(p(e),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."):null,e):e},extractIfFragment:function(e){if("production"!==t.env.NODE_ENV&&s){if(e[i])return e[i];for(var n in e)if(e.hasOwnProperty(n)&&r.isValidElement(e[n]))return h.extract(e)}return e}};e.exports=h}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=f[t];return null==n&&(f[t]=n=c(t)),n}function o(e){return"production"!==t.env.NODE_ENV?u(l,"There is no registered component for the tag %s",e.type):u(l),new l(e.type,e.props)}function i(e){return new p(e)}function a(e){return e instanceof p}var s=n(5),u=n(2),c=null,l=null,f={},p=null,h={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){s(f,e)},injectAutoWrapper:function(e){c=e}},d={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:a,injection:h};e.exports=d}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),e.exports=n}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(43),i=n(118),a=n(83),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),e.exports=r},function(e,t,n){(function(t){"use strict";var r=n(2),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,n,o,i,a,s,u,c){"production"!==t.env.NODE_ENV?r(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):r(!this.isInTransaction());var l,f;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),f=e.call(n,o,i,a,s,u,c),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return f},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){"production"!==t.env.NODE_ENV?r(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):r(this.isInTransaction());for(var n=this.transactionWrappers,o=e;o<n.length;o++){var a,s=n[o],u=this.wrapperInitData[o];try{a=!0,u!==i.OBSERVED_ERROR&&s.close&&s.close.call(this,u),a=!1}finally{if(a)try{this.closeAll(o+1)}catch(c){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};e.exports=i}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(1))},function(e,t){"use strict";function n(e){return o[e]}function r(e){return(""+e).replace(i,n)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;e.exports=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"compile",value:function(e,t){var n=new this;return n.compile(e,t),n}}]),e}();t.SkinNode=o,t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=void 0;return function(n){t!==n&&(t=n,e(n))}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(437),c=r(u),l=function(){function e(t){if(i(this,e),this._context=t.context,this._object=t.object,this._children=t.children,this._bindings=[],this._concerns=[],this.onData=new c["default"](t.onData),this.onDestroy=new c["default"](t.onDestroy),t.bindings){var n=!0,r=!1,a=void 0;try{for(var s,u=t.bindings[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;this.bind.apply(this,o(l))}}catch(f){r=!0,a=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw a}}}if(t.concerns){var p=!0,h=!1,d=void 0;try{for(var v,m=t.concerns[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;this._concerns.push(g.instantiate(this._context,this))}}catch(f){h=!0,d=f}finally{try{!p&&m["return"]&&m["return"]()}finally{if(h)throw d}}}if(t.children){var y=!0,b=!1,_=void 0;try{for(var w,x=t.children[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var E=w.value;this._concerns.push(E.instantiate(this._context,this._object))}}catch(f){b=!0,_=f}finally{try{!y&&x["return"]&&x["return"]()}finally{if(b)throw _}}}t.onCreate&&new c["default"](t.onCreate).call(),t.parent&&this.attachTo(t.parent)}return s(e,[{key:"bind",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=a(t.pop());1===t.length&&t[0].constant?r(t[0]()):this._bindings.push(function(e){for(var n=0;n<t.length;n++)e=t[n](e);r(e)})}},{key:"attachTo",value:function(e){this._parent=e,this._parent.addChild(this._object)}},{key:"detach",value:function(){this._parent&&(this._parent.removeChild(this._object),this._parent=null)}},{key:"push",value:function(e){var t;for(t=0;t<this._bindings.length;t++)this._bindings[t](e);for(t=0;t<this._concerns.length;t++)this._concerns[t].push(e);this.onData.call(e)}},{key:"destroy",value:function(){this.detach();for(var e=0;e<this._concerns.length;e++)this._concerns[e].destroy();this.onDestroy.call(),this._concerns=null,this._bindings=null,this._parent=null,this._object=null}},{key:"object",get:function(){return this._object}},{key:"parent",get:function(){return this._parent}}]),e}();t.Instance=l,t["default"]=l},function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){}var i="function"!=typeof Object.create?"~":!1;o.prototype._events=void 0,o.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);a>o;o++)s[o]=r[o].fn;return s},o.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events||!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,a),!0}for(c=1,u=new Array(f-1);f>c;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;h>c;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;default:if(!u)for(p=1,u=new Array(f-1);f>p;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},o.prototype.on=function(e,t,n){var o=new r(t,n||this),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},o.prototype.once=function(e,t,n){var o=new r(t,n||this,!0),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},o.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events||!this._events[o])return this;var a=this._events[o],s=[];if(t)if(a.fn)(a.fn!==t||r&&!a.once||n&&a.context!==n)&&s.push(a);else for(var u=0,c=a.length;c>u;u++)(a[u].fn!==t||r&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},o.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[i?i+e:e]:this._events=i?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){
return this},o.prefixed=i,e.exports=o},function(e,t){function n(){function e(t){return e.validate(t),t}var t=[].slice.call(arguments);return e.validate=function(e){for(var n=0;n<t.length;n++)r(t[n],e)},e}function r(e,t){if(e===Number&&(e="number"),e===String&&(e="string"),"string"==typeof e){if(typeof t!==e)throw new Error("should be a "+e)}else if("function"==typeof e){if("function"==typeof e.validate)e.validate(t);else if(!(t instanceof e))throw new Error("should be an instance of "+e)}else{if("object"!=typeof e)throw new Error("invalid schema");if(!t)throw new Error("should be an object");o(e,t)}}function o(e,t){for(var n in e){if(!(n in t))throw new Error('missing property: "'+n+'"');try{r(e[n],t[n])}catch(o){throw new Error('error in property "'+n+'": '+o.message)}}}e.exports=n,n.maybe=function(e){function t(e){return t.validate(e),e}return t.validate=function(t){null!==t&&void 0!==t&&r(e,t)},t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(155),i=r(o),a=function(e){return function(t){return null!==t.progress?e(t):""}},s=a(function(e){return i["default"](e.current)+" / "+i["default"](e.total)});t.BYTES_FORMATTER=s;var u=a(function(e){return(e.current/e.total*100).toFixed(1)+"%"});t.PERCENTAGE_FORMATTER=u;var c=a(function(e){return e.extra+""});t.EXTRA_FORMATTER=c},function(e,t,n){var r,o;(function(e,i){(function(){var a,s,u,c,l,f,p,h,d,v,m,g,y,b,_,w,x,E,S,C,T,O,A,k,j,P,N,M,R,D,I,F,L,B,U,q,V,z,W,H,G,Y,$,X,K,J,Q,Z,ee,te,ne,re,oe,ie,ae,se,ue,ce,le,fe,pe,he,de,ve,me,ge,ye,be,_e,we,xe,Ee={}.hasOwnProperty,Se=function(e,t){function n(){this.constructor=e}for(var r in t)Ee.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Ce=[].slice,Te=function(e,t){return function(){return e.apply(t,arguments)}};a={toString:function(){return"Bacon"}},a.version="0.7.70",g=("undefined"!=typeof e&&null!==e?e:this).Error,ue=function(){},ee=function(e,t){return t},$=function(e,t){return e},F=function(e){return e.slice(0)},k=function(e,t){if(!t)throw new g(e)},D=function(e){if(e instanceof w&&!(e instanceof x))throw new g("Observable is not a Property : "+e)},P=function(e){if(!(e instanceof m))throw new g("not an EventStream : "+e)},R=function(e){if(!(e instanceof w))throw new g("not an Observable : "+e)},N=function(e){return k("not a function : "+e,O.isFunction(e))},J=function(e){return e instanceof Array},Z=function(e){return e instanceof w},j=function(e){if(!J(e))throw new g("not an array : "+e)},M=function(e){return k("no arguments supported",0===e.length)},I=function(e){if("string"!=typeof e)throw new g("not a string : "+e)},O={indexOf:Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){var n,r,o,i;for(n=r=0,o=e.length;o>r;n=++r)if(i=e[n],t===i)return n;return-1},indexWhere:function(e,t){var n,r,o,i;for(n=r=0,o=e.length;o>r;n=++r)if(i=e[n],t(i))return n;return-1},head:function(e){return e[0]},always:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},empty:function(e){return 0===e.length},tail:function(e){return e.slice(1,e.length)},filter:function(e,t){var n,r,o,i;for(n=[],r=0,o=t.length;o>r;r++)i=t[r],e(i)&&n.push(i);return n},map:function(e,t){var n,r,o,i;for(o=[],n=0,r=t.length;r>n;n++)i=t[n],o.push(e(i));return o},each:function(e,t){var n,r;for(n in e)Ee.call(e,n)&&(r=e[n],t(n,r));return void 0},toArray:function(e){return J(e)?e:[e]},contains:function(e,t){return-1!==O.indexOf(e,t)},id:function(e){return e},last:function(e){return e[e.length-1]},all:function(e,t){var n,r,o;for(null==t&&(t=O.id),n=0,r=e.length;r>n;n++)if(o=e[n],!t(o))return!1;return!0},any:function(e,t){var n,r,o;for(null==t&&(t=O.id),n=0,r=e.length;r>n;n++)if(o=e[n],t(o))return!0;return!1},without:function(e,t){return O.filter(function(t){return t!==e},t)},remove:function(e,t){var n;return n=O.indexOf(t,e),n>=0?t.splice(n,1):void 0},fold:function(e,t,n){var r,o,i;for(r=0,o=e.length;o>r;r++)i=e[r],t=n(t,i);return t},flatMap:function(e,t){return O.fold(t,[],function(t,n){return t.concat(e(n))})},cached:function(e){var t;return t=_,function(){return t===_&&(t=e(),e=void 0),t}},isFunction:function(e){return"function"==typeof e},toString:function(e){var t,n,r,o;try{return le++,null==e?"undefined":O.isFunction(e)?"function":J(e)?le>5?"[..]":"["+O.map(O.toString,e).toString()+"]":null!=(null!=e?e.toString:void 0)&&e.toString!==Object.prototype.toString?e.toString():"object"==typeof e?le>5?"{..}":(n=function(){var n;n=[];for(r in e)Ee.call(e,r)&&(o=function(){try{return e[r]}catch(n){return t=n}}(),n.push(O.toString(r)+":"+O.toString(o)));return n}(),"{"+n+"}"):e}finally{le--}}},le=0,a._=O,T=a.UpdateBarrier=function(){var e,t,n,r,o,i,s,u,c,l,f,p,h,d;return l=void 0,f=[],p={},t=[],n=0,e=function(e){return l?t.push(e):e()},h=function(e,t){var n;return l?(n=p[e.id],null==n?(n=p[e.id]=[t],f.push(e)):n.push(t)):t()},o=function(){for(;f.length>0;)s(0);return void 0},s=function(e){var t,n,r,o,a,s;for(o=f[e],a=o.id,s=p[a],f.splice(e,1),delete p[a],i(o),n=0,r=s.length;r>n;n++)(t=s[n])();return void 0},i=function(e){var t,n,r,o,a;for(n=e.internalDeps(),o=0,a=n.length;a>o;o++)t=n[o],i(t),p[t.id]&&(r=O.indexOf(f,t),s(r));return void 0},c=function(e,r,i,a){var s,u;if(l)return i.apply(r,a);l=e;try{u=i.apply(r,a),o()}finally{for(l=void 0;n<t.length;)s=t[n],n++,s();n=0,t=[]}return u},r=function(){return l?l.id:void 0},d=function(t,n){var r,o,i,s;return s=!1,o=!1,r=function(){return o=!0},i=function(){return s=!0,r()},r=t.dispatcher.subscribe(function(t){return e(function(){var e;return s||(e=n(t),e!==a.noMore)?void 0:i()})}),o&&r(),i},u=function(){return f.length>0},{whenDoneWith:h,hasWaiters:u,inTransaction:c,currentEventId:r,wrappedSubscribe:d,afterTransaction:e}}(),C=function(){function e(e,t,n){this.obs=e,this.sync=t,this.lazy=null!=n?n:!1,this.queue=[]}return e.prototype.subscribe=function(e){return this.obs.dispatcher.subscribe(e)},e.prototype.toString=function(){return this.obs.toString()},e.prototype.markEnded=function(){return this.ended=!0},e.prototype.consume=function(){return this.lazy?{value:O.always(this.queue[0])}:this.queue[0]},e.prototype.push=function(e){return this.queue=[e]},e.prototype.mayHave=function(){return!0},e.prototype.hasAtLeast=function(){return this.queue.length},e.prototype.flatten=!0,e}(),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Se(t,e),t.prototype.consume=function(){return this.queue.shift()},t.prototype.push=function(e){return this.queue.push(e)},t.prototype.mayHave=function(e){return!this.ended||this.queue.length>=e},t.prototype.hasAtLeast=function(e){return this.queue.length>=e},t.prototype.flatten=!1,t}(C),s=function(e){function t(e){t.__super__.constructor.call(this,e,!0)}return Se(t,e),t.prototype.consume=function(){var e;return e=this.queue,this.queue=[],{value:function(){return e}}},t.prototype.push=function(e){return this.queue.push(e.value())},t.prototype.hasAtLeast=function(){return!0},t}(C),C.isTrigger=function(e){return e instanceof C?e.sync:e instanceof m},C.fromObservable=function(e){return e instanceof C?e:e instanceof x?new C(e,!1):new l(e,!0)},f=function(){function e(e,t,n){this.context=e,this.method=t,this.args=n}return e.prototype.deps=function(){return this.cached||(this.cached=H([this.context].concat(this.args)))},e.prototype.toString=function(){return O.toString(this.context)+"."+O.toString(this.method)+"("+O.map(O.toString,this.args)+")"},e}(),q=function(){var e,t,n;return t=arguments[0],n=arguments[1],e=3<=arguments.length?Ce.call(arguments,2):[],(t||n)instanceof f?t||n:new f(t,n,e)},we=function(e,t){return t.desc=e,t},H=function(e){return J(e)?O.flatMap(H,e):Z(e)?[e]:e instanceof C?[e.obs]:[]},a.Desc=f,a.Desc.empty=new a.Desc("","",[]),xe=function(e){return function(){var t,n,r,o;return r=arguments[0],t=2<=arguments.length?Ce.call(arguments,1):[],"object"==typeof r&&t.length&&(n=r,o=t[0],r=function(){return n[o].apply(n,arguments)},t=t.slice(1)),e.apply(null,[r].concat(Ce.call(t)))}},re=function(e){return e=Array.prototype.slice.call(e),oe.apply(null,e)},ce=function(e,t){return function(){var n;return n=1<=arguments.length?Ce.call(arguments,0):[],e.apply(null,t.concat(n))}},be=function(e){return function(t){return function(n){var r;return null==n?void 0:(r=n[t],O.isFunction(r)?r.apply(n,e):r)}}},me=function(e,t){var n,r;return r=e.slice(1).split("."),n=O.map(be(t),r),function(t){var r,o;for(r=0,o=n.length;o>r;r++)e=n[r],t=e(t);return t}},Q=function(e){return"string"==typeof e&&e.length>1&&"."===e.charAt(0)},oe=xe(function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],O.isFunction(t)?e.length?ce(t,e):t:Q(t)?me(t,e):O.always(t)}),ne=function(e,t){return oe.apply(null,[e].concat(Ce.call(t)))},U=function(e,t,n,r){var o;return t instanceof x?(o=t.sampledBy(e,function(e,t){return[e,t]}),r.call(o,function(e){var t,n;return t=e[0],n=e[1],t}).map(function(e){var t,n;return t=e[0],n=e[1]})):(t=ne(t,n),r.call(e,t))},de=function(e){var t;if(O.isFunction(e))return e;if(Q(e))return t=ge(e),function(e,n){return e[t](n)};throw new g("not a function or a field key: "+e)},ge=function(e){return e.slice(1)},S=function(){function e(e){this.value=e}return e.prototype.getOrElse=function(){return this.value},e.prototype.get=function(){return this.value},e.prototype.filter=function(t){return t(this.value)?new e(this.value):_},e.prototype.map=function(t){return new e(t(this.value))},e.prototype.forEach=function(e){return e(this.value)},e.prototype.isDefined=!0,e.prototype.toArray=function(){return[this.value]},e.prototype.inspect=function(){return"Some("+this.value+")"},e.prototype.toString=function(){return this.inspect()},e}(),_={getOrElse:function(e){return e},filter:function(){return _},map:function(){return _},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},ye=function(e){return e instanceof S||e===_?e:new S(e)},a.noMore=["<no-more>"],a.more=["<more>"],z=0,v=function(){function e(){this.id=++z}return e.prototype.isEvent=function(){return!0},e.prototype.isEnd=function(){return!1},e.prototype.isInitial=function(){return!1},e.prototype.isNext=function(){return!1},e.prototype.isError=function(){return!1},e.prototype.hasValue=function(){return!1},e.prototype.filter=function(){return!0},e.prototype.inspect=function(){return this.toString()},e.prototype.log=function(){return this.toString()},e}(),b=function(e){function t(e,n){t.__super__.constructor.call(this),!n&&O.isFunction(e)||e instanceof t?(this.valueF=e,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=e)}return Se(t,e),t.prototype.isNext=function(){return!0},t.prototype.hasValue=function(){return!0},t.prototype.value=function(){return this.valueF instanceof t?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},t.prototype.fmap=function(e){var t,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return e(n)})):(t=this,this.apply(function(){return e(t.value())}))},t.prototype.apply=function(e){return new t(e)},t.prototype.filter=function(e){return e(this.value())},t.prototype.toString=function(){return O.toString(this.value())},t.prototype.log=function(){return this.value()},t}(v),y=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Se(t,e),t.prototype.isInitial=function(){return!0},t.prototype.isNext=function(){return!1},t.prototype.apply=function(e){return new t(e)},t.prototype.toNext=function(){return new b(this)},t}(b),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Se(t,e),t.prototype.isEnd=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<end>"},t}(v),d=function(e){function t(e){this.error=e}return Se(t,e),t.prototype.isError=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<error> "+O.toString(this.error)},t}(v),a.Event=v,a.Initial=y,a.Next=b,a.End=h,a.Error=d,K=function(e){return new y(e,!0)},se=function(e){return new b(e,!0)},V=function(){return new h},ve=function(e){return e instanceof v?e:se(e)},X=0,pe=function(){},w=function(){function e(e){this.desc=e,this.id=++X,this.initialDesc=this.desc}return e.prototype.subscribe=function(e){return T.wrappedSubscribe(this,e)},e.prototype.subscribeInternal=function(e){return this.dispatcher.subscribe(e)},e.prototype.onValue=function(){var e;return e=re(arguments),this.subscribe(function(t){return t.hasValue()?e(t.value()):void 0})},e.prototype.onValues=function(e){return this.onValue(function(t){return e.apply(null,t)})},e.prototype.onError=function(){var e;return e=re(arguments),this.subscribe(function(t){return t.isError()?e(t.error):void 0})},e.prototype.onEnd=function(){var e;return e=re(arguments),this.subscribe(function(t){return t.isEnd()?e():void 0})},e.prototype.name=function(e){return this._name=e,this},e.prototype.withDescription=function(){return this.desc=q.apply(null,arguments),this},e.prototype.toString=function(){return this._name?this._name:this.desc.toString()},e.prototype.internalDeps=function(){return this.initialDesc.deps()},e}(),w.prototype.assign=w.prototype.onValue,w.prototype.forEach=w.prototype.onValue,w.prototype.inspect=w.prototype.toString,a.Observable=w,c=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.unsubscribe=Te(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],t=0,n=e.length;n>t;t++)r=e[t],this.add(r)}return e.prototype.add=function(e){var t,n,r;if(!this.unsubscribed)return t=!1,n=ue,this.starting.push(e),r=function(r){return function(){return r.unsubscribed?void 0:(t=!0,r.remove(n),O.remove(e,r.starting))}}(this),n=e(this.unsubscribe,r),this.unsubscribed||t?n():this.subscriptions.push(n),O.remove(e,this.starting),n},e.prototype.remove=function(e){return this.unsubscribed?void 0:void 0!==O.remove(e,this.subscriptions)?e():void 0},e.prototype.unsubscribe=function(){var e,t,n,r;if(!this.unsubscribed){for(this.unsubscribed=!0,n=this.subscriptions,e=0,t=n.length;t>e;e++)(r=n[e])();return this.subscriptions=[],this.starting=[]}},e.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},e.prototype.empty=function(){return 0===this.count()},e}(),a.CompositeUnsubscribe=c,p=function(){function e(e,t){this._subscribe=e,this._handleEvent=t,this.subscribe=Te(this.subscribe,this),this.handleEvent=Te(this.handleEvent,this),this.subscriptions=[],this.queue=[]}return e.prototype.pushing=!1,e.prototype.ended=!1,e.prototype.prevError=void 0,e.prototype.unsubSrc=void 0,e.prototype.hasSubscribers=function(){return this.subscriptions.length>0},e.prototype.removeSub=function(e){return this.subscriptions=O.without(e,this.subscriptions)},e.prototype.push=function(e){return e.isEnd()&&(this.ended=!0),T.inTransaction(e,this,this.pushIt,[e])},e.prototype.pushToSubscriptions=function(e){var t,n,r,o,i,s;try{for(s=this.subscriptions,n=0,r=s.length;r>n;n++)i=s[n],o=i.sink(e),(o===a.noMore||e.isEnd())&&this.removeSub(i);return!0}catch(u){throw t=u,this.pushing=!1,this.queue=[],t}},e.prototype.pushIt=function(e){if(this.pushing)return this.queue.push(e),a.more;if(e!==this.prevError){for(e.isError()&&(this.prevError=e),this.pushing=!0,this.pushToSubscriptions(e),this.pushing=!1;this.queue.length;)e=this.queue.shift(),this.push(e);return this.hasSubscribers()?a.more:(this.unsubscribeFromSource(),a.noMore)}},e.prototype.handleEvent=function(e){return this._handleEvent?this._handleEvent(e):this.push(e)},e.prototype.unsubscribeFromSource=function(){return this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},e.prototype.subscribe=function(e){var t;return this.ended?(e(V()),ue):(N(e),t={sink:e},this.subscriptions.push(t),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),N(this.unsubSrc)),function(e){return function(){return e.removeSub(t),e.hasSubscribers()?void 0:e.unsubscribeFromSource()}}(this))},e}(),a.Dispatcher=p,m=function(e){function t(e,n,r){O.isFunction(e)&&(r=n,n=e,e=f.empty),t.__super__.constructor.call(this,e),N(n),this.dispatcher=new p(n,r),pe(this)}return Se(t,e),t.prototype.toProperty=function(e){var t,n;return n=0===arguments.length?_:ye(function(){return e}),t=this.dispatcher,new x(new a.Desc(this,"toProperty",[e]),function(e){var r,o,i,s;return r=!1,s=ue,o=a.more,i=function(){return r?void 0:n.forEach(function(t){return r=!0,o=e(new y(t)),o===a.noMore?(s(),s=ue):void 0})},s=t.subscribe(function(t){return t.hasValue()?r&&t.isInitial()?a.more:(t.isInitial()||i(),r=!0,n=new S(t),e(t)):(t.isEnd()&&(o=i()),o!==a.noMore?e(t):void 0)}),i(),s})},t.prototype.toEventStream=function(){return this},t.prototype.withHandler=function(e){return new t(new a.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},t}(w),a.EventStream=m,a.never=function(){return new m(q(a,"never"),function(e){return e(V()),ue})},a.when=function(){var e,t,n,r,o,i,s,u,c,l,f,p,h,d,v,g,y,b,_,w;if(0===arguments.length)return a.never();for(s=arguments.length,w="when: expecting arguments in the form (Observable+,function)+",k(w,s%2===0),b=[],h=[],t=0,d=[];s>t;){for(d[t]=arguments[t],d[t+1]=arguments[t+1],p=O.toArray(arguments[t]),e=L(arguments[t+1]),f={f:e,ixs:[]},_=!1,o=0,u=p.length;u>o;o++){for(y=p[o],n=O.indexOf(b,y),_||(_=C.isTrigger(y)),0>n&&(b.push(y),n=b.length-1),v=f.ixs,i=0,c=v.length;c>i;i++)r=v[i],r.index===n&&r.count++;f.ixs.push({index:n,count:1})}k("At least one EventStream required",_||!p.length),p.length>0&&h.push(f),t+=2}return b.length?(b=O.map(C.fromObservable,b),l=O.any(b,function(e){return e.flatten})&&B(O.map(function(e){return e.obs},b)),g=new m(new a.Desc(a,"when",d),function(e){var n,r,o,i,s,u,c;return c=[],o=!1,i=function(e){var n,r,o;for(o=e.ixs,n=0,r=o.length;r>n;n++)if(t=o[n],!b[t.index].hasAtLeast(t.count))return!1;return!0},r=function(e){return!e.sync||e.ended},n=function(e){var n,r,o;for(o=e.ixs,n=0,r=o.length;r>n;n++)if(t=o[n],!b[t.index].mayHave(t.count))return!0},s=function(e){return!e.source.flatten},u=function(u){return function(f){var p,d,v;return d=function(){return T.whenDoneWith(g,p)},v=function(){var n,r,o,u,l,f;if(!(c.length>0))return a.more;for(l=a.more,f=c.pop(),r=0,o=h.length;o>r;r++)if(u=h[r],i(u))return n=function(){var e,n,r,o;for(r=u.ixs,o=[],n=0,e=r.length;e>n;n++)t=r[n],o.push(b[t.index].consume());return o}(),l=e(f.e.apply(function(){var e,t;return t=function(){var t,r,o;for(o=[],r=0,t=n.length;t>r;r++)e=n[r],o.push(e.value());return o}(),u.f.apply(u,t)})),c.length&&(c=O.filter(s,c)),l===a.noMore?l:v()},p=function(){var t;return t=v(),o&&(O.all(b,r)||O.all(h,n))&&(t=a.noMore,e(V())),t===a.noMore&&f(),t},u.subscribe(function(t){var n;return t.isEnd()?(o=!0,u.markEnded(),d()):t.isError()?n=e(t):(u.push(t),u.sync&&(c.push({source:u,e:t}),l||T.hasWaiters()?d():p())),n===a.noMore&&f(),n||a.more})}},new a.CompositeUnsubscribe(function(){var e,t,n;for(n=[],e=0,t=b.length;t>e;e++)y=b[e],n.push(u(y));return n}()).unsubscribe})):a.never()},B=function(e,t){var n;return null==t&&(t=[]),n=function(e){var r;return O.contains(t,e)?!0:(r=e.internalDeps(),r.length?(t.push(e),O.any(r,n)):(t.push(e),!1))},O.any(e,n)},L=function(e){return O.isFunction(e)?e:O.always(e)},a.groupSimultaneous=function(){var e,t,n;return n=1<=arguments.length?Ce.call(arguments,0):[],1===n.length&&J(n[0])&&(n=n[0]),t=function(){var t,r,o;for(o=[],t=0,r=n.length;r>t;t++)e=n[t],o.push(new s(e));return o}(),we(new a.Desc(a,"groupSimultaneous",n),a.when(t,function(){var e;return e=1<=arguments.length?Ce.call(arguments,0):[]}))},E=function(e){function t(e,n,r){this.property=e,this.subscribe=Te(this.subscribe,this),t.__super__.constructor.call(this,n,r),this.current=_,this.currentValueRootId=void 0,this.propertyEnded=!1}return Se(t,e),t.prototype.push=function(e){return e.isEnd()&&(this.propertyEnded=!0),e.hasValue()&&(this.current=new S(e),this.currentValueRootId=T.currentEventId()),t.__super__.push.call(this,e)},t.prototype.maybeSubSource=function(e,t){return t===a.noMore?ue:this.propertyEnded?(e(V()),ue):p.prototype.subscribe.call(this,e)},t.prototype.subscribe=function(e){var t,n,r,o;return n=!1,r=a.more,this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)?(t=T.currentEventId(),o=this.currentValueRootId,!this.propertyEnded&&o&&t&&t!==o?(T.whenDoneWith(this.property,function(t){return function(){return t.currentValueRootId===o?e(K(t.current.get().value())):void 0}}(this)),this.maybeSubSource(e,r)):(T.inTransaction(void 0,this,function(){return r=e(K(this.current.get().value()))},[]),this.maybeSubSource(e,r))):this.maybeSubSource(e,r)},t}(p),x=function(e){function t(e,n,r){t.__super__.constructor.call(this,e),N(n),this.dispatcher=new E(this,n,r),pe(this)}return Se(t,e),t.prototype.changes=function(){return new m(new a.Desc(this,"changes",[]),function(e){return function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()?void 0:t(e)})}}(this))},t.prototype.withHandler=function(e){return new t(new a.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},t.prototype.toProperty=function(){return M(arguments),this},t.prototype.toEventStream=function(){return new m(new a.Desc(this,"toEventStream",[]),function(e){return function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()&&(e=e.toNext()),t(e)})}}(this))},t}(w),a.Property=x,a.constant=function(e){return new x(new a.Desc(a,"constant",[e]),function(t){return t(K(e)),t(V()),ue})},a.fromBinder=function(e,t){return null==t&&(t=O.id),new m(new a.Desc(a,"fromBinder",[e,t]),function(n){var r,o,i,s;return s=!1,r=!1,o=function(){return s?void 0:"undefined"!=typeof i&&null!==i?(i(),s=!0):r=!0},i=e(function(){var e,r,i,s,u,c;for(e=1<=arguments.length?Ce.call(arguments,0):[],c=t.apply(this,e),J(c)&&O.last(c)instanceof v||(c=[c]),u=a.more,i=0,s=c.length;s>i;i++)if(r=c[i],u=n(r=ve(r)),u===a.noMore||r.isEnd())return o(),u;return u}),r&&o(),o})},W=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],G=function(e){var t,n,r,o;for(t=0,n=W.length;n>t;t++)if(o=W[t],r=[e[o[0]],e[o[1]]],r[0]&&r[1])return r;throw new d("No suitable event methods in "+e)},a.fromEventTarget=function(e,t,n){var r,o,i;return r=G(e),o=r[0],i=r[1],we(new a.Desc(a,"fromEvent",[e,t]),a.fromBinder(function(n){return o.call(e,t,n),function(){return i.call(e,t,n)}},n))},a.fromEvent=a.fromEventTarget,a.Observable.prototype.map=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],U(this,t,e,function(e){return we(new a.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})},a.combineAsArray=function(){var e,t,n,r,o,i,s;for(s=1<=arguments.length?Ce.call(arguments,0):[],1===s.length&&J(s[0])&&(s=s[0]),e=t=0,n=s.length;n>t;e=++t)i=s[e],Z(i)||(s[e]=a.constant(i));return s.length?(o=function(){var e,t,n;for(n=[],e=0,t=s.length;t>e;e++)r=s[e],n.push(new C(r,!0));return n}(),we(new a.Desc(a,"combineAsArray",s),a.when(o,function(){var e;return e=1<=arguments.length?Ce.call(arguments,0):[]}).toProperty())):a.constant([])},a.onValues=function(){var e,t,n;return n=2<=arguments.length?Ce.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],a.combineAsArray(n).onValues(e)},a.combineWith=function(){var e,t;return e=arguments[0],t=2<=arguments.length?Ce.call(arguments,1):[],we(new a.Desc(a,"combineWith",[e].concat(Ce.call(t))),a.combineAsArray(t).map(function(t){return e.apply(null,t)}))},a.Observable.prototype.combine=function(e,t){var n;return n=de(t),we(new a.Desc(this,"combine",[e,t]),a.combineAsArray(this,e).map(function(e){return n(e[0],e[1])}))},a.Observable.prototype.withStateMachine=function(e,t){var n;return n=e,we(new a.Desc(this,"withStateMachine",[e,t]),this.withHandler(function(e){var r,o,i,s,u,c,l;for(r=t(n,e),s=r[0],c=r[1],n=s,l=a.more,o=0,i=c.length;i>o;o++)if(u=c[o],l=this.push(u),l===a.noMore)return l;return l}))},a.Observable.prototype.skipDuplicates=function(e){return null==e&&(e=function(e,t){return e===t}),we(new a.Desc(this,"skipDuplicates",[]),this.withStateMachine(_,function(t,n){return n.hasValue()?n.isInitial()||t===_||!e(t.get(),n.value())?[new S(n.value()),[n]]:[t,[]]:[t,[n]]}))},a.Observable.prototype.awaiting=function(e){return we(new a.Desc(this,"awaiting",[e]),a.groupSimultaneous(this,e).map(function(e){var t,n;return t=e[0],n=e[1],0===n.length}).toProperty(!1).skipDuplicates())},a.Observable.prototype.not=function(){return we(new a.Desc(this,"not",[]),this.map(function(e){return!e}))},a.Property.prototype.and=function(e){return we(new a.Desc(this,"and",[e]),this.combine(e,function(e,t){return e&&t}))},a.Property.prototype.or=function(e){return we(new a.Desc(this,"or",[e]),this.combine(e,function(e,t){return e||t}))},a.scheduler={setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},now:function(){return(new Date).getTime()}},a.EventStream.prototype.bufferWithTime=function(e){return we(new a.Desc(this,"bufferWithTime",[e]),this.bufferWithTimeOrCount(e,Number.MAX_VALUE))},a.EventStream.prototype.bufferWithCount=function(e){return we(new a.Desc(this,"bufferWithCount",[e]),this.bufferWithTimeOrCount(void 0,e))},a.EventStream.prototype.bufferWithTimeOrCount=function(e,t){var n;return n=function(n){return n.values.length===t?n.flush():void 0!==e?n.schedule():void 0},we(new a.Desc(this,"bufferWithTimeOrCount",[e,t]),this.buffer(e,n,n))},a.EventStream.prototype.buffer=function(e,t,n){var r,o,i;return null==t&&(t=ue),null==n&&(n=ue),r={scheduled:null,end:void 0,values:[],flush:function(){var e,t;if(this.scheduled&&(a.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){if(t=this.values,this.values=[],e=this.push(se(t)),null!=this.end)return this.push(this.end);if(e!==a.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:this.scheduled=e(function(e){return function(){return e.flush()}}(this))}},i=a.more,O.isFunction(e)||(o=e,e=function(e){return a.scheduler.setTimeout(e,o)}),we(new a.Desc(this,"buffer",[]),this.withHandler(function(e){return r.push=function(e){return function(t){return e.push(t)}}(this),e.isError()?i=this.push(e):e.isEnd()?(r.end=e,r.scheduled||r.flush()):(r.values.push(e.value()),t(r)),i}))},a.Observable.prototype.filter=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],D(t),U(this,t,e,function(e){return we(new a.Desc(this,"filter",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):a.more}))})},a.once=function(e){return new m(new f(a,"once",[e]),function(t){return t(ve(e)),t(V()),ue})},a.EventStream.prototype.concat=function(e){var t;return t=this,new m(new a.Desc(t,"concat",[e]),function(n){var r,o;return o=ue,r=t.dispatcher.subscribe(function(t){return t.isEnd()?o=e.dispatcher.subscribe(n):n(t)}),function(){return r(),o()}})},a.Observable.prototype.flatMap=function(){return Y(this,ae(arguments))},a.Observable.prototype.flatMapFirst=function(){return Y(this,ae(arguments),!0)},Y=function(e,t,n,r){var o,i,s;return s=[e],o=[],i=new m(new a.Desc(e,"flatMap"+(n?"First":""),[t]),function(i){var s,u,l,f,p;return l=new c,f=[],p=function(e){var n;return n=ie(t(e.value())),o.push(n),l.add(function(e,t){return n.dispatcher.subscribe(function(r){var c;return r.isEnd()?(O.remove(n,o),u(),s(t),a.noMore):(r instanceof y&&(r=r.toNext()),c=i(r),c===a.noMore&&e(),c)})})},u=function(){var e;return e=f.shift(),e?p(e):void 0},s=function(e){return e(),l.empty()?i(V()):void 0},l.add(function(t,o){return e.dispatcher.subscribe(function(e){return e.isEnd()?s(o):e.isError()?i(e):n&&l.count()>1?a.more:l.unsubscribed?a.noMore:r&&l.count()>r?f.push(e):p(e)})}),l.unsubscribe}),i.internalDeps=function(){return o.length?s.concat(o):s},i},ae=function(e){return 1===e.length&&Z(e[0])?O.always(e[0]):re(e)},ie=function(e){return Z(e)?e:a.once(e)},a.Observable.prototype.flatMapWithConcurrencyLimit=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],we(new a.Desc(this,"flatMapWithConcurrencyLimit",[t].concat(Ce.call(e))),Y(this,ae(e),!1,t))},a.Observable.prototype.flatMapConcat=function(){return we(new a.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0)),this.flatMapWithConcurrencyLimit.apply(this,[1].concat(Ce.call(arguments))))},a.later=function(e,t){return we(new a.Desc(a,"later",[e,t]),a.fromBinder(function(n){var r,o;return o=function(){return n([t,V()])},r=a.scheduler.setTimeout(o,e),function(){return a.scheduler.clearTimeout(r)}}))},a.Observable.prototype.bufferingThrottle=function(e){return we(new a.Desc(this,"bufferingThrottle",[e]),this.flatMapConcat(function(t){return a.once(t).concat(a.later(e).filter(!1))}))},a.Property.prototype.bufferingThrottle=function(){return a.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},u=function(e){function t(){this.guardedSink=Te(this.guardedSink,this),this.subscribeAll=Te(this.subscribeAll,this),this.unsubAll=Te(this.unsubAll,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,t.__super__.constructor.call(this,new a.Desc(a,"Bus",[]),this.subscribeAll)}return Se(t,e),t.prototype.unsubAll=function(){var e,t,n,r;for(n=this.subscriptions,e=0,t=n.length;t>e;e++)r=n[e],"function"==typeof r.unsub&&r.unsub();return void 0},t.prototype.subscribeAll=function(e){var t,n,r,o;if(this.ended)e(V());else for(this.sink=e,r=F(this.subscriptions),t=0,n=r.length;n>t;t++)o=r[t],this.subscribeInput(o);return this.unsubAll},t.prototype.guardedSink=function(e){return function(t){return function(n){return n.isEnd()?(t.unsubscribeInput(e),a.noMore):t.sink(n)}}(this)},t.prototype.subscribeInput=function(e){return e.unsub=e.input.dispatcher.subscribe(this.guardedSink(e.input))},t.prototype.unsubscribeInput=function(e){var t,n,r,o,i;for(o=this.subscriptions,t=n=0,r=o.length;r>n;t=++n)if(i=o[t],i.input===e)return"function"==typeof i.unsub&&i.unsub(),void this.subscriptions.splice(t,1)},t.prototype.plug=function(e){var t;return R(e),this.ended?void 0:(t={input:e},this.subscriptions.push(t),null!=this.sink&&this.subscribeInput(t),function(t){return function(){return t.unsubscribeInput(e)}}(this))},t.prototype.end=function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink(V()):void 0},t.prototype.push=function(e){return this.ended?void 0:"function"==typeof this.sink?this.sink(se(e)):void 0},t.prototype.error=function(e){return"function"==typeof this.sink?this.sink(new d(e)):void 0},t}(m),a.Bus=u,te=function(e,t){return xe(function(){var n,r,o;return r=arguments[0],n=2<=arguments.length?Ce.call(arguments,1):[],o=ce(t,[function(e,t){return r.apply(null,Ce.call(e).concat([t]))}]),we(new a.Desc(a,e,[r].concat(Ce.call(n))),a.combineAsArray(n).flatMap(o))})},a.fromCallback=te("fromCallback",function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],a.fromBinder(function(n){return ne(t,e)(n),ue},function(e){return[e,V()]})}),a.fromNodeCallback=te("fromNodeCallback",function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],a.fromBinder(function(n){return ne(t,e)(n),ue},function(e,t){return e?[new d(e),V()]:[t,V()]})}),a.combineTemplate=function(e){var t,n,r,o,i,s,u,c,l,f,p;return u=[],p=[],s=function(e){return e[e.length-1]},f=function(e,t,n){return s(e)[t]=n},t=function(e,t){return function(n,r){return f(n,e,r[t])}},i=function(e,t){return function(n){return f(n,e,t)}},c=function(e){return J(e)?[]:{}},l=function(e,t){return function(n){var r;return r=c(t),f(n,e,r),n.push(r)}},r=function(e,n){var r;return Z(n)?(p.push(n),u.push(t(e,p.length-1))):n!==Object(n)||"function"==typeof n||n instanceof RegExp||n instanceof Date?u.push(i(e,n)):(r=function(e){
return e.pop()},u.push(l(e,n)),o(n),u.push(r))},o=function(e){return O.each(e,r)},o(e),n=function(t){var n,r,o,i,a;for(a=c(e),n=[a],o=0,i=u.length;i>o;o++)(r=u[o])(n,t);return a},we(new a.Desc(a,"combineTemplate",[e]),a.combineAsArray(p).map(n))},A=function(e,t){var n;return n=new m(q(e,"justInitValue"),function(t){var r,o;return o=void 0,r=e.dispatcher.subscribe(function(e){return e.isEnd()||(o=e),a.noMore}),T.whenDoneWith(n,function(){return null!=o&&t(o),t(V())}),r}),n.concat(t).toProperty()},a.Observable.prototype.mapEnd=function(){var e;return e=re(arguments),we(new a.Desc(this,"mapEnd",[e]),this.withHandler(function(t){return t.isEnd()?(this.push(se(e(t))),this.push(V()),a.noMore):this.push(t)}))},a.Observable.prototype.skipErrors=function(){return we(new a.Desc(this,"skipErrors",[]),this.withHandler(function(e){return e.isError()?a.more:this.push(e)}))},a.EventStream.prototype.takeUntil=function(e){var t;return t={},we(new a.Desc(this,"takeUntil",[e]),a.groupSimultaneous(this.mapEnd(t),e.skipErrors()).withHandler(function(n){var r,o,i,s,u,c;if(n.hasValue()){if(s=n.value(),r=s[0],e=s[1],e.length)return this.push(V());for(u=a.more,o=0,i=r.length;i>o;o++)c=r[o],u=c===t?this.push(V()):this.push(se(c));return u}return this.push(n)}))},a.Property.prototype.takeUntil=function(e){var t;return t=this.changes().takeUntil(e),we(new a.Desc(this,"takeUntil",[e]),A(this,t))},a.Observable.prototype.flatMapLatest=function(){var e,t;return e=ae(arguments),t=this.toEventStream(),we(new a.Desc(this,"flatMapLatest",[e]),t.flatMap(function(n){return ie(e(n)).takeUntil(t)}))},a.Property.prototype.delayChanges=function(e,t){return we(e,A(this,t(this.changes())))},a.EventStream.prototype.delay=function(e){return we(new a.Desc(this,"delay",[e]),this.flatMap(function(t){return a.later(e,t)}))},a.Property.prototype.delay=function(e){return this.delayChanges(new a.Desc(this,"delay",[e]),function(t){return t.delay(e)})},a.EventStream.prototype.debounce=function(e){return we(new a.Desc(this,"debounce",[e]),this.flatMapLatest(function(t){return a.later(e,t)}))},a.Property.prototype.debounce=function(e){return this.delayChanges(new a.Desc(this,"debounce",[e]),function(t){return t.debounce(e)})},a.EventStream.prototype.debounceImmediate=function(e){return we(new a.Desc(this,"debounceImmediate",[e]),this.flatMapFirst(function(t){return a.once(t).concat(a.later(e).filter(!1))}))},a.Observable.prototype.decode=function(e){return we(new a.Desc(this,"decode",[e]),this.combine(a.combineTemplate(e),function(e,t){return t[e]}))},a.Observable.prototype.scan=function(e,t){var n,r,o,i;return t=de(t),n=ye(e),r=!1,i=function(e){return function(i){var s,u,c,l;return s=!1,l=ue,u=a.more,c=function(){return s?void 0:n.forEach(function(e){return s=r=!0,u=i(new y(function(){return e})),u===a.noMore?(l(),l=ue):void 0})},l=e.dispatcher.subscribe(function(e){var o,l;return e.hasValue()?r&&e.isInitial()?a.more:(e.isInitial()||c(),s=r=!0,l=n.getOrElse(void 0),o=t(l,e.value()),n=new S(o),i(e.apply(function(){return o}))):(e.isEnd()&&(u=c()),u!==a.noMore?i(e):void 0)}),T.whenDoneWith(o,c),l}}(this),o=new x(new a.Desc(this,"scan",[e,t]),i)},a.Observable.prototype.diff=function(e,t){return t=de(t),we(new a.Desc(this,"diff",[e,t]),this.scan([e],function(e,n){return[n,t(e[0],n)]}).filter(function(e){return 2===e.length}).map(function(e){return e[1]}))},a.Observable.prototype.doAction=function(){var e;return e=re(arguments),we(new a.Desc(this,"doAction",[e]),this.withHandler(function(t){return t.hasValue()&&e(t.value()),this.push(t)}))},a.Observable.prototype.doError=function(){var e;return e=re(arguments),we(new a.Desc(this,"doError",[e]),this.withHandler(function(t){return t.isError()&&e(t.error),this.push(t)}))},a.Observable.prototype.doLog=function(){var e;return e=1<=arguments.length?Ce.call(arguments,0):[],we(new a.Desc(this,"doLog",e),this.withHandler(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,Ce.call(e).concat([t.log()])),this.push(t)}))},a.Observable.prototype.endOnError=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],null==t&&(t=!0),U(this,t,e,function(e){return we(new a.Desc(this,"endOnError",[]),this.withHandler(function(t){return t.isError()&&e(t.error)?(this.push(t),this.push(V())):this.push(t)}))})},w.prototype.errors=function(){return we(new a.Desc(this,"errors",[]),this.filter(function(){return!1}))},_e=function(e){return[e,V()]},a.fromPromise=function(e,t,n){return null==n&&(n=_e),we(new a.Desc(a,"fromPromise",[e]),a.fromBinder(function(n){var r;return null!=(r=e.then(n,function(e){return n(new d(e))}))&&"function"==typeof r.done&&r.done(),function(){return t&&"function"==typeof e.abort?e.abort():void 0}},n))},a.Observable.prototype.mapError=function(){var e;return e=re(arguments),we(new a.Desc(this,"mapError",[e]),this.withHandler(function(t){return t.isError()?this.push(se(e(t.error))):this.push(t)}))},a.Observable.prototype.flatMapError=function(e){return we(new a.Desc(this,"flatMapError",[e]),this.mapError(function(e){return new d(e)}).flatMap(function(t){return t instanceof d?e(t.error):a.once(t)}))},a.EventStream.prototype.sampledBy=function(e,t){return we(new a.Desc(this,"sampledBy",[e,t]),this.toProperty().sampledBy(e,t))},a.Property.prototype.sampledBy=function(e,t){var n,r,o,i,s;return null!=t?t=de(t):(n=!0,t=function(e){return e.value()}),s=new C(this,!1,n),o=new C(e,!0,n),i=a.when([s,o],t),r=e instanceof x?i.toProperty():i,we(new a.Desc(this,"sampledBy",[e,t]),r)},a.Property.prototype.sample=function(e){return we(new a.Desc(this,"sample",[e]),this.sampledBy(a.interval(e,{})))},a.Observable.prototype.map=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],t instanceof x?t.sampledBy(this,$):U(this,t,e,function(e){return we(new a.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})},a.Observable.prototype.fold=function(e,t){return we(new a.Desc(this,"fold",[e,t]),this.scan(e,t).sampledBy(this.filter(!1).mapEnd().toProperty()))},w.prototype.reduce=w.prototype.fold,a.fromPoll=function(e,t){return we(new a.Desc(a,"fromPoll",[e,t]),a.fromBinder(function(t){var n;return n=a.scheduler.setInterval(t,e),function(){return a.scheduler.clearInterval(n)}},t))},a.Observable.prototype.groupBy=function(e,t){var n,r;return null==t&&(t=a._.id),r={},n=this,n.filter(function(t){return!r[e(t)]}).map(function(o){var i,s,u,c;return s=e(o),c=n.filter(function(t){return e(t)===s}),i=a.once(o).concat(c),u=t(i,o).withHandler(function(e){return this.push(e),e.isEnd()?delete r[s]:void 0}),r[s]=u})},a.fromArray=function(e){var t;return j(e),e.length?(t=0,new m(new a.Desc(a,"fromArray",[e]),function(n){var r,o,i,s,u;return u=!1,s=a.more,i=!1,o=!1,r=function(){var c;if(o=!0,!i){for(i=!0;o;)o=!1,s===a.noMore||u||(c=e[t++],s=n(ve(c)),s!==a.noMore&&(t===e.length?n(V()):T.afterTransaction(r)));return i=!1}},r(),function(){return u=!0}})):we(new a.Desc(a,"fromArray",e),a.never())},a.EventStream.prototype.holdWhen=function(e){var t,n,r;return n=!1,t=[],r=this,new m(new a.Desc(this,"holdWhen",[e]),function(o){var i,a,s;return i=new c,s=!1,a=function(e){return"function"==typeof e&&e(),i.empty()&&s?o(V()):void 0},i.add(function(r,i){return e.subscribeInternal(function(e){var r,s,u,c,l;if(!e.hasValue())return e.isEnd()?a(i):o(e);if(n=e.value(),!n){for(c=t,t=[],u=[],r=0,s=c.length;s>r;r++)l=c[r],u.push(o(se(l)));return u}})}),i.add(function(e,i){return r.subscribeInternal(function(e){return n&&e.hasValue()?t.push(e.value()):e.isEnd()&&t.length?a(i):o(e)})}),s=!0,a(),i.unsubscribe})},a.interval=function(e,t){return null==t&&(t={}),we(new a.Desc(a,"interval",[e,t]),a.fromPoll(e,function(){return se(t)}))},a.$={},a.$.asEventStream=function(e,t,n){var r;return O.isFunction(t)&&(r=[t,void 0],n=r[0],t=r[1]),we(new a.Desc(this.selector||this,"asEventStream",[e]),a.fromBinder(function(n){return function(r){return n.on(e,t,r),function(){return n.off(e,t,r)}}}(this),n))},null!=(fe="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:void 0)&&(fe.fn.asEventStream=a.$.asEventStream),a.Observable.prototype.log=function(){var e;return e=1<=arguments.length?Ce.call(arguments,0):[],this.subscribe(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,Ce.call(e).concat([t.log()])):void 0}),this},a.EventStream.prototype.merge=function(e){var t;return P(e),t=this,we(new a.Desc(t,"merge",[e]),a.mergeAll(this,e))},a.mergeAll=function(){var e;return e=1<=arguments.length?Ce.call(arguments,0):[],J(e[0])&&(e=e[0]),e.length?new m(new a.Desc(a,"mergeAll",e),function(t){var n,r,o;return n=0,o=function(r){return function(o){return r.dispatcher.subscribe(function(r){var i;return r.isEnd()?(n++,n===e.length?t(V()):a.more):(i=t(r),i===a.noMore&&o(),i)})}},r=O.map(o,e),new a.CompositeUnsubscribe(r).unsubscribe}):a.never()},a.repeatedly=function(e,t){var n;return n=0,we(new a.Desc(a,"repeatedly",[e,t]),a.fromPoll(e,function(){return t[n++%t.length]}))},a.repeat=function(e){var t;return t=0,a.fromBinder(function(n){var r,o,i,s,u;return r=!1,i=a.more,u=function(){},o=function(e){return e.isEnd()?r?s():r=!0:i=n(e)},s=function(){var s;for(r=!0;r&&i!==a.noMore;)s=e(t++),r=!1,s?u=s.subscribeInternal(o):n(V());return r=!0},s(),function(){return u()}})},a.retry=function(e){var t,n,r,o,i,s,u;if(!O.isFunction(e.source))throw new g("'source' option has to be a function");return u=e.source,s=e.retries||0,i=e.maxRetries||s,t=e.delay||function(){return 0},o=e.isRetryable||function(){return!0},r=!1,n=null,we(new a.Desc(a,"retry",[e]),a.repeat(function(){var e,c,l;return r?null:(l=function(){return u().endOnError().withHandler(function(e){return e.isError()?(n=e,o(n.error)&&s>0?void 0:(r=!0,this.push(e))):(e.hasValue()&&(n=null,r=!0),this.push(e))})},n?(e={error:n.error,retriesDone:i-s},c=a.later(t(e)).filter(!1),s-=1,c.concat(a.once().flatMap(l))):l())}))},a.sequentially=function(e,t){var n;return n=0,we(new a.Desc(a,"sequentially",[e,t]),a.fromPoll(e,function(){var e;return e=t[n++],n<t.length?e:n===t.length?[e,V()]:V()}))},a.Observable.prototype.skip=function(e){return we(new a.Desc(this,"skip",[e]),this.withHandler(function(t){return t.hasValue()&&e>0?(e--,a.more):this.push(t)}))},a.Observable.prototype.take=function(e){return 0>=e?a.never():we(new a.Desc(this,"take",[e]),this.withHandler(function(t){return t.hasValue()?(e--,e>0?this.push(t):(0===e&&this.push(t),this.push(V()),a.noMore)):this.push(t)}))},a.EventStream.prototype.skipUntil=function(e){var t;return t=e.take(1).map(!0).toProperty(!1),we(new a.Desc(this,"skipUntil",[e]),this.filter(t))},a.EventStream.prototype.skipWhile=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],D(t),n=!1,U(this,t,e,function(e){return we(new a.Desc(this,"skipWhile",[e]),this.withHandler(function(t){return!n&&t.hasValue()&&e(t.value())?a.more:(t.hasValue()&&(n=!0),this.push(t))}))})},a.Observable.prototype.slidingWindow=function(e,t){return null==t&&(t=0),we(new a.Desc(this,"slidingWindow",[e,t]),this.scan([],function(t,n){return t.concat([n]).slice(-e)}).filter(function(e){return e.length>=t}))},a.spy=function(e){return he.push(e)},he=[],pe=function(e){var t,n,r;if(he.length&&!pe.running)try{for(pe.running=!0,t=0,n=he.length;n>t;t++)(r=he[t])(e)}finally{delete pe.running}return void 0},a.Property.prototype.startWith=function(e){return we(new a.Desc(this,"startWith",[e]),this.scan(e,function(e,t){return t}))},a.EventStream.prototype.startWith=function(e){return we(new a.Desc(this,"startWith",[e]),a.once(e).concat(this))},a.Observable.prototype.takeWhile=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Ce.call(arguments,1):[],D(t),U(this,t,e,function(e){return we(new a.Desc(this,"takeWhile",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):(this.push(V()),a.noMore)}))})},a.update=function(){var e,t,n,r;for(t=arguments[0],r=2<=arguments.length?Ce.call(arguments,1):[],n=function(e){return function(){var t;return t=1<=arguments.length?Ce.call(arguments,0):[],function(n){return e.apply(null,[n].concat(t))}}},e=r.length-1;e>0;)r[e]instanceof Function||(r[e]=function(e){return function(){return e}}(r[e])),r[e]=n(r[e]),e-=2;return we(new a.Desc(a,"update",[t].concat(Ce.call(r))),a.when.apply(a,r).scan(t,function(e,t){return t(e)}))},a.zipAsArray=function(){var e;return e=1<=arguments.length?Ce.call(arguments,0):[],J(e[0])&&(e=e[0]),we(new a.Desc(a,"zipAsArray",e),a.zipWith(e,function(){var e;return e=1<=arguments.length?Ce.call(arguments,0):[]}))},a.zipWith=function(){var e,t,n;return e=arguments[0],n=2<=arguments.length?Ce.call(arguments,1):[],O.isFunction(e)||(t=[e,n[0]],n=t[0],e=t[1]),n=O.map(function(e){return e.toEventStream()},n),we(new a.Desc(a,"zipWith",[e].concat(Ce.call(n))),a.when(n,e))},a.Observable.prototype.zip=function(e,t){return null==t&&(t=Array),we(new a.Desc(this,"zip",[e]),a.zipWith([this,e],t))},a.Observable.prototype.first=function(){return we(new a.Desc(this,"first",[]),this.take(1))},a.Observable.prototype.last=function(){var e;return we(new a.Desc(this,"last",[]),this.withHandler(function(t){return t.isEnd()?(e&&this.push(e),this.push(V()),a.noMore):void(e=t)}))},a.EventStream.prototype.throttle=function(e){return we(new a.Desc(this,"throttle",[e]),this.bufferWithTime(e).map(function(e){return e[e.length-1]}))},a.Property.prototype.throttle=function(e){return this.delayChanges(new a.Desc(this,"throttle",[e]),function(t){return t.throttle(e)})},w.prototype.firstToPromise=function(e){var t=this;if("function"!=typeof e){if("function"!=typeof Promise)throw new g("There isn't default Promise, use shim or parameter");e=Promise}return new e(function(e,n){return t.subscribe(function(t){return t.hasValue()&&e(t.value()),t.isError()&&n(t.error),a.noMore})})},w.prototype.toPromise=function(e){return this.last().firstToPromise(e)},null!==n(614)&&null!=n(377)?(r=[],o=function(){return a}.apply(t,r),!(void 0!==o&&(i.exports=o)),this.Bacon=a):"undefined"!=typeof i&&null!==i&&null!=i.exports?(i.exports=a,a.Bacon=a):this.Bacon=a}).call(this)}).call(t,function(){return this}(),n(98)(e))},function(e,t,n){function r(e){this._segments=e.map(o)}var o=n(229);e.exports=r;var i=function(e){return e.t},a=function(e){return e.x};r.prototype._reached=function(e,t,n){if(e>=this._segments.length)return!1;var r=this._segments[e],o=t(r);return r.inclusive?n>=o:n>o},r.prototype._segmentAt=function(e,t){for(var n=0;n<this._segments.length;n++)if(!this._reached(n+1,e,t))return this._segments[n]},r.prototype.segmentAtX=function(e){return this._segmentAt(a,e)},r.prototype.segmentAtT=function(e){return this._segmentAt(i,e)},r.prototype.t=function(e){var t=this.segmentAtX(e);return t.t+(e-t.x)/(t.dx||1)},r.prototype.x=function(e){var t=this.segmentAtT(e);return t.x+(e-t.t)*t.dx},r.prototype.dx=function(e){var t=this.segmentAtT(e);return t.dx}},function(e,t,n){e.exports={uniq:n(203),pluck:n(190),values:n(218)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t,n){for(var r=Math.abs(t-n),o=0;o<p.length;o++)if(r<e(p[o]))return p[o].value;return n>t?l:f}}function i(e){return e>=4}function a(e){return e===f||i(e)}function s(e){return 1===e?100:2===e?80:3===e?50:0}Object.defineProperty(t,"__esModule",{value:!0}),t.judgeTimeWith=o,t.isBad=i,t.breaksCombo=a,t.weight=s;var u=n(17),c=r(u),l=0;t.UNJUDGED=l;var f=-1;t.MISSED=f;var p=[{value:1,timegate:.02,endTimegate:.04},{value:2,timegate:.05,endTimegate:.1},{value:3,timegate:.1,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}];t.JUDGMENTS=p;var h=o(c["default"].property("timegate"));t.judgeTime=h;var d=o(c["default"].property("endTimegate"));t.judgeEndTime=d},function(e,t){function n(e){this.renderer=e,this.renderer.on("context",this.onContextChange,this)}n.prototype.constructor=n,e.exports=n,n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(y(e))}function i(e,t){return e="number"==typeof e||h.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function s(e){for(var t=c(e),n=t.length,r=n&&e.length,o=!!r&&a(r)&&(p(e)||f(e)),s=-1,u=[];++s<n;){var l=t[s];(o&&i(l,r)||v.call(e,l))&&u.push(l)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(p(e)||f(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,s=Array(t),c=t>0;++r<t;)s[r]=r+"";for(var l in e)c&&i(l,t)||"constructor"==l&&(o||!v.call(e,l))||s.push(l);return s}var l=n(201),f=n(202),p=n(28),h=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,m=l(Object,"keys"),g=9007199254740991,y=r("length"),b=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?s(e):u(e)?m(e):[]}:s;e.exports=b},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function o(e){return i(e)&&p.call(e)==s}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:o(e)?h.test(l.call(e)):n(e)&&u.test(e)}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,f=c.hasOwnProperty,p=c.toString,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){(function(t){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=n(18),i=n(5),a=n(2);i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,n=this._contexts;if(e){"production"!==t.env.NODE_ENV?a(e.length===n.length,"Mismatched list of contexts in callback queue"):a(e.length===n.length),this._callbacks=null,this._contexts=null;for(var r=0,o=e.length;o>r;r++)e[r].call(n[r]);e.length=0,n.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){return e===g.topMouseUp||e===g.topTouchEnd||e===g.topTouchCancel}function o(e){return e===g.topMouseMove||e===g.topTouchMove}function i(e){return e===g.topMouseDown||e===g.topTouchStart}function a(e,n){var r=e._dispatchListeners,o=e._dispatchIDs;if("production"!==t.env.NODE_ENV&&h(e),Array.isArray(r))for(var i=0;i<r.length&&!e.isPropagationStopped();i++)n(e,r[i],o[i]);else r&&n(e,r,o)}function s(e,t,n){e.currentTarget=m.Mount.getNode(n);var r=t(e,n);return e.currentTarget=null,r}function u(e,t){a(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function c(e){var n=e._dispatchListeners,r=e._dispatchIDs;if("production"!==t.env.NODE_ENV&&h(e),Array.isArray(n)){for(var o=0;o<n.length&&!e.isPropagationStopped();o++)if(n[o](e,r[o]))return r[o]}else if(n&&n(e,r))return r;return null}function l(e){var t=c(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function f(e){"production"!==t.env.NODE_ENV&&h(e);var n=e._dispatchListeners,r=e._dispatchIDs;"production"!==t.env.NODE_ENV?v(!Array.isArray(n),"executeDirectDispatch(...): Invalid `event`."):v(!Array.isArray(n));var o=n?n(e,r):null;return e._dispatchListeners=null,e._dispatchIDs=null,o}function p(e){return!!e._dispatchListeners}var h,d=n(13),v=n(2),m={Mount:null,injectMount:function(e){m.Mount=e,"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?v(e&&e.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):v(e&&e.getNode))}},g=d.topLevelTypes;"production"!==t.env.NODE_ENV&&(h=function(e){var n=e._dispatchListeners,r=e._dispatchIDs,o=Array.isArray(n),i=Array.isArray(r),a=i?r.length:r?1:0,s=o?n.length:n?1:0;"production"!==t.env.NODE_ENV?v(i===o&&a===s,"EventPluginUtils: Invalid `event`."):v(i===o&&a===s)});var y={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:f,executeDispatch:s,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,injection:m,useTouchEvents:!1};e.exports=y}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){"production"!==t.env.NODE_ENV?c(null==e.props.checkedLink||null==e.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):c(null==e.props.checkedLink||null==e.props.valueLink)}function o(e){r(e),"production"!==t.env.NODE_ENV?c(null==e.props.value&&null==e.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):c(null==e.props.value&&null==e.props.onChange)}function i(e){r(e),"production"!==t.env.NODE_ENV?c(null==e.props.checked&&null==e.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):c(null==e.props.checked&&null==e.props.onChange)}function a(e){this.props.valueLink.requestChange(e.target.value)}function s(e){this.props.checkedLink.requestChange(e.target.checked)}var u=n(115),c=n(2),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},f={Mixin:{propTypes:{value:function(e,t,n){return!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func}},getValue:function(e){return e.props.valueLink?(o(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(i(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(o(e),a):e.props.checkedLink?(i(e),s):e.props.onChange}};e.exports=f}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){e.remove()}var o=n(29),i=n(80),a=n(81),s=n(2),u={trapBubbledEvent:function(e,n){"production"!==t.env.NODE_ENV?s(this.isMounted(),"Must be mounted to trap events"):s(this.isMounted());var r=this.getDOMNode();"production"!==t.env.NODE_ENV?s(r,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered."):s(r);var a=o.trapBubbledEvent(e,n,r);this._localEventListeners=i(this._localEventListeners,a)},componentWillUnmount:function(){this._localEventListeners&&a(this._localEventListeners,r)}};e.exports=u}).call(t,n(1))},function(e,t,n){"use strict";var r=n(110),o=n(15),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};e.exports=i},function(e,t,n){(function(t){"use strict";var r=n(2),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){"production"!==t.env.NODE_ENV?r(!o,"ReactCompositeComponent: injectEnvironment() can only be called once."):r(!o),i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=i}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(5),o=n(54),i=n(8),a=!1,s={current:o,withContext:function(e,n){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?i(a,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."):null,a=!0);var o,u=s.current;s.current=r({},u,e);try{o=n()}finally{s.current=u}return o}};e.exports=s}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){e&&(null!=e.dangerouslySetInnerHTML&&("production"!==t.env.NODE_ENV?g(null==e.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):g(null==e.children),"production"!==t.env.NODE_ENV?g("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):g("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?_(null==e.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):null,"production"!==t.env.NODE_ENV?_(!e.contentEditable||null==e.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):null),"production"!==t.env.NODE_ENV?g(null==e.style||"object"==typeof e.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."):g(null==e.style||"object"==typeof e.style))}function o(e,n,r,o){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?_("onScroll"!==n||y("scroll",!0),"This browser doesn't support the `onScroll` event"):null);var i=p.findReactContainerForID(e);if(i){var a=i.nodeType===T?i.ownerDocument:i;x(n,a)}o.getPutListenerQueue().enqueuePutListener(e,n,r)}function i(e){P.call(j,e)||("production"!==t.env.NODE_ENV?g(k.test(e),"Invalid tag: %s",e):g(k.test(e)),j[e]=!0)}function a(e){i(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var s=n(107),u=n(26),c=n(39),l=n(29),f=n(72),p=n(15),h=n(268),d=n(23),v=n(5),m=n(55),g=n(2),y=n(86),b=n(25),_=n(8),w=l.deleteListener,x=l.listenTo,E=l.registrationNameModules,S={string:!0,number:!0},C=b({style:null}),T=1,O=null,A={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},k=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,j={},P={}.hasOwnProperty;a.displayName="ReactDOMComponent",a.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e,r(this._currentElement.props);var o=A[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,n)+o},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(E.hasOwnProperty(r))o(this._rootNodeID,r,i,e);else{r===C&&(i&&(i=this._previousStyleCopy=v({},t.style)),i=s.createMarkupForStyles(i));var a=c.createMarkupForProperty(r,i);a&&(n+=" "+a)}}if(e.renderToStaticMarkup)return n+">";var u=c.createMarkupForID(this._rootNodeID);return n+" "+u+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,o=r.dangerouslySetInnerHTML;if(null!=o){if(null!=o.__html)return n+o.__html}else{var i=S[typeof r.children]?r.children:null,a=null!=i?null:r.children;if(null!=i)return n+m(i);if(null!=a){var s=this.mountChildren(a,e,t);return n+s.join("")}}return n},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,o){r(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,o)},_updateDOMProperties:function(e,t){var n,r,i,a=this._currentElement.props;for(n in e)if(!a.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===C){var s=this._previousStyleCopy;for(r in s)s.hasOwnProperty(r)&&(i=i||{},i[r]="");this._previousStyleCopy=null}else E.hasOwnProperty(n)?w(this._rootNodeID,n):(u.isStandardName[n]||u.isCustomAttribute(n))&&O.deletePropertyByID(this._rootNodeID,n);for(n in a){var c=a[n],l=n===C?this._previousStyleCopy:e[n];if(a.hasOwnProperty(n)&&c!==l)if(n===C)if(c?c=this._previousStyleCopy=v({},c):this._previousStyleCopy=null,l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(i=i||{},i[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(i=i||{},i[r]=c[r])}else i=c;else E.hasOwnProperty(n)?o(this._rootNodeID,n,c,t):(u.isStandardName[n]||u.isCustomAttribute(n))&&O.updatePropertyByID(this._rootNodeID,n,c)}i&&O.updateStylesByID(this._rootNodeID,i)},_updateDOMChildren:function(e,t,n){var r=this._currentElement.props,o=S[typeof e.children]?e.children:null,i=S[typeof r.children]?r.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,c=null!=i?null:r.children,l=null!=o||null!=a,f=null!=i||null!=s;null!=u&&null==c?this.updateChildren(null,t,n):l&&!f&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&O.updateInnerHTMLByID(this._rootNodeID,s):null!=c&&this.updateChildren(c,t,n)},unmountComponent:function(){this.unmountChildren(),l.deleteAllListeners(this._rootNodeID),f.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},d.measureMethods(a,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),v(a.prototype,a.Mixin,h.Mixin),a.injection={injectIDOperations:function(e){a.BackendIDOperations=O=e}},e.exports=a}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){l[e]=!0}function o(e){delete l[e]}function i(e){return!!l[e]}var a,s=n(6),u=n(31),c=n(2),l={},f={injectEmptyComponent:function(e){a=s.createFactory(e)}},p=function(){};p.prototype.componentDidMount=function(){var e=u.get(this);e&&r(e._rootNodeID)},p.prototype.componentWillUnmount=function(){var e=u.get(this);e&&o(e._rootNodeID)},p.prototype.render=function(){return"production"!==t.env.NODE_ENV?c(a,"Trying to return null from a render, but no null placeholder component was injected."):c(a),a()};var h=s.createElement(p),d={emptyElement:h,injection:f,isNullComponentID:i};e.exports=d}).call(t,n(1))},function(e,t){"use strict";var n={currentlyMountingInstance:null,currentlyUnmountingInstance:null};e.exports=n},function(e,t,n){"use strict";var r=n(44),o=r({prop:null,context:null,childContext:null});e.exports=o},function(e,t,n){(function(t){"use strict";function r(e){e!==i.currentlyMountingInstance&&c.enqueueUpdate(e)}function o(e,n){"production"!==t.env.NODE_ENV?f(null==a.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",n):f(null==a.current);var r=u.get(e);return r?r===i.currentlyUnmountingInstance?null:r:("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?p(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",n,n):null),null)}var i=n(77),a=n(20),s=n(6),u=n(31),c=n(16),l=n(5),f=n(2),p=n(8),h={enqueueCallback:function(e,n){"production"!==t.env.NODE_ENV?f("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):f("function"==typeof n);var a=o(e);return a&&a!==i.currentlyMountingInstance?(a._pendingCallbacks?a._pendingCallbacks.push(n):a._pendingCallbacks=[n],void r(a)):null},enqueueCallbackInternal:function(e,n){"production"!==t.env.NODE_ENV?f("function"==typeof n,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):f("function"==typeof n),
e._pendingCallbacks?e._pendingCallbacks.push(n):e._pendingCallbacks=[n],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueSetProps:function(e,n){var i=o(e,"setProps");if(i){"production"!==t.env.NODE_ENV?f(i._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):f(i._isTopLevel);var a=i._pendingElement||i._currentElement,u=l({},a.props,n);i._pendingElement=s.cloneAndReplaceProps(a,u),r(i)}},enqueueReplaceProps:function(e,n){var i=o(e,"replaceProps");if(i){"production"!==t.env.NODE_ENV?f(i._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):f(i._isTopLevel);var a=i._pendingElement||i._currentElement;i._pendingElement=s.cloneAndReplaceProps(a,n),r(i)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}};e.exports=h}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,n){if("production"!==t.env.NODE_ENV?o(null!=n,"accumulateInto(...): Accumulated items must not be null or undefined."):o(null!=n),null==e)return n;var r=Array.isArray(e),i=Array.isArray(n);return r&&i?(e.push.apply(e,n),e):r?(e.push(n),e):i?[e].concat(n):[e,n]}var o=n(2);e.exports=r}).call(t,n(1))},function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=n},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return r?!!n[r]:!1}function r(e){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,n){var o;if((null===e||e===!1)&&(e=a.emptyElement),"object"==typeof e){var i=e;"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?l(i&&("function"==typeof i.type||"string"==typeof i.type),"Only functions or strings can be mounted as React components."):null),o=n===i.type&&"string"==typeof i.type?s.createInternalComponent(i):r(i.type)?new i.type(i):new f}else"string"==typeof e||"number"==typeof e?o=s.createInstanceForText(e):"production"!==t.env.NODE_ENV?c(!1,"Encountered invalid React node of type %s",typeof e):c(!1);return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?l("function"==typeof o.construct&&"function"==typeof o.mountComponent&&"function"==typeof o.receiveComponent&&"function"==typeof o.unmountComponent,"Only React Components can be mounted."):null),o.construct(e),o._mountIndex=0,o._mountImage=null,"production"!==t.env.NODE_ENV&&(o._isOwnerNecessary=!1,o._warnedAboutRefsInRender=!1),"production"!==t.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(o),o}var i=n(249),a=n(76),s=n(50),u=n(5),c=n(2),l=n(8),f=function(){};u(f.prototype,i.Mixin,{_instantiateReactComponent:o}),e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(10);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t,n){"use strict";var r=n(10),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML="\ufeff"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,n){(function(t){"use strict";function r(e,n){if(null!=e&&null!=n){var r=typeof e,i=typeof n;if("string"===r||"number"===r)return"string"===i||"number"===i;if("object"===i&&e.type===n.type&&e.key===n.key){var a=e._owner===n._owner,s=null,u=null,c=null;return"production"!==t.env.NODE_ENV&&(a||(null!=e._owner&&null!=e._owner.getPublicInstance()&&null!=e._owner.getPublicInstance().constructor&&(s=e._owner.getPublicInstance().constructor.displayName),null!=n._owner&&null!=n._owner.getPublicInstance()&&null!=n._owner.getPublicInstance().constructor&&(u=n._owner.getPublicInstance().constructor.displayName),null!=n.type&&null!=n.type.displayName&&(c=n.type.displayName),null!=n.type&&"string"==typeof n.type&&(c=n.type),("string"!=typeof n.type||"input"===n.type||"textarea"===n.type)&&(null!=e._owner&&e._owner._isOwnerNecessary===!1||null!=n._owner&&n._owner._isOwnerNecessary===!1)&&(null!=e._owner&&(e._owner._isOwnerNecessary=!0),null!=n._owner&&(n._owner._isOwnerNecessary=!0),"production"!==t.env.NODE_ENV?o(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",c||"Unknown Component",s||"[Unknown]",u||"[Unknown]",e.key):null))),a}}return!1}var o=n(8);e.exports=r}).call(t,n(1))},,function(e,t){"use strict";function n(e){return{as:function(t){return new Promise(function(n,r){var o=new FileReader;switch(o.onload=function(){n(o.result)},o.onerror=function(){r(new Error("Unable to read from Blob"))},t){case"arraybuffer":o.readAsArrayBuffer(e);break;case"text":o.readAsText(e)}})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.readBlob=n,t["default"]=n},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&c(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function i(e){return u(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function s(e,t){return e?o(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function l(e){return null===e}function f(e){return null==e}var p=n(367);t.parse=o,t.resolve=a,t.resolveObject=s,t.format=i,t.Url=r;var h=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(v),g=["'"].concat(m),y=["%","/","?",";","#"].concat(g),b=["/","?","#"],_=255,w=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=n(370);r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var o=h.exec(r);if(o){o=o[0];var i=o.toLowerCase();this.protocol=i,r=r.substr(o.length)}if(n||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||o&&S[o]||(r=r.substr(2),this.slashes=!0)}if(!S[o]&&(a||o&&!C[o])){for(var s=-1,c=0;c<b.length;c++){var l=r.indexOf(b[c]);-1!==l&&(-1===s||s>l)&&(s=l)}var f,d;d=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==d&&(f=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(f)),s=-1;for(var c=0;c<y.length;c++){var l=r.indexOf(y[c]);-1!==l&&(-1===s||s>l)&&(s=l)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var m=this.hostname.split(/\./),c=0,O=m.length;O>c;c++){var A=m[c];if(A&&!A.match(w)){for(var k="",j=0,P=A.length;P>j;j++)k+=A.charCodeAt(j)>127?"x":A[j];if(!k.match(w)){var N=m.slice(0,c),M=m.slice(c+1),R=A.match(x);R&&(N.push(R[1]),M.unshift(R[2])),M.length&&(r="/"+M.join(".")+r),this.hostname=N.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var D=this.hostname.split("."),I=[],c=0;c<D.length;++c){var F=D[c];I.push(F.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(F):F)}this.hostname=I.join(".")}var L=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+L,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!E[i])for(var c=0,O=g.length;O>c;c++){var U=g[c],q=encodeURIComponent(U);q===U&&(q=escape(U)),r=r.split(U).join(q)}var V=r.indexOf("#");-1!==V&&(this.hash=r.substr(V),r=r.slice(0,V));var z=r.indexOf("?");if(-1!==z?(this.search=r.substr(z),this.query=r.substr(z+1),t&&(this.query=T.parse(this.query)),r=r.slice(0,z)):t&&(this.search="",this.query={}),r&&(this.pathname=r),C[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",F=this.search||"";this.path=L+F}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(i=T.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!C[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||S[e.protocol])n.pathname=e.pathname;else{for(var o=(e.pathname||"").split("/");o.length&&!(e.host=o.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var i=n.pathname||"",a=n.search||"";n.path=i+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),p=c||s||n.host&&e.pathname,h=p,d=n.pathname&&n.pathname.split("/")||[],o=e.pathname&&e.pathname.split("/")||[],v=n.protocol&&!C[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),e.host=null),p=p&&(""===o[0]||""===d[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,d=o;else if(o.length)d||(d=[]),d.pop(),d=d.concat(o),n.search=e.search,n.query=e.query;else if(!f(e.search)){if(v){n.hostname=n.host=d.shift();var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=e.search,n.query=e.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var g=d.slice(-1)[0],y=(n.host||e.host)&&("."===g||".."===g)||""===g,b=0,_=d.length;_>=0;_--)g=d[_],"."==g?d.splice(_,1):".."===g?(d.splice(_,1),b++):b&&(d.splice(_,1),b--);if(!p&&!h)for(;b--;b)d.unshift("..");!p||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),y&&"/"!==d.join("/").substr(-1)&&d.push("");var w=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(v){n.hostname=n.host=w?"":d.length?d.shift():"";var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return p=p||n.host&&d.length,p&&!w&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(375),i=r(o),a=void 0,s=0;window.performance&&"function"==typeof window.performance.now?t.now=a=function(){return window.performance.now()}:t.now=a=function(){return Date.now()},a.synchronize=function(e){function t(e){s=e+Date.now()-a()}function n(e,n){e?console.error("Cannot synchronize time!",e):(t(n),console.log("Synchronized. Offset = "+s))}i["default"](e,n,t)},a["synchronized"]=function(){var e=s;return function(){return a()+e}},t.now=a,t["default"]=a},function(e,t,n){function r(e){o.call(this,e)}var o=n(65);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.flush=function(){},r.prototype.render=function(e){}},function(e,t,n){function r(e,t,n,o,i){s.call(this),this.noFrame=!1,t||(this.noFrame=!0,t=new u.Rectangle(0,0,1,1)),e instanceof r&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=n||t,this.rotate=!!i,e.hasLoaded?(this.noFrame&&(t=new u.Rectangle(0,0,e.width,e.height),e.on("update",this.onBaseTextureUpdated,this)),this.frame=t):e.once("loaded",this.onBaseTextureLoaded,this)}var o=n(135),i=n(334),a=n(333),s=n(58),u=n(21),c=n(22);r.prototype=Object.create(s.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{frame:{get:function(){return this._frame},set:function(e){if(this._frame=e,this.noFrame=!1,this.width=e.width,this.height=e.height,!this.trim&&!this.rotate&&(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=e&&e.width&&e.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=e,this.valid&&this._updateUvs()}}}),r.prototype.update=function(){this.baseTexture.update()},r.prototype.onBaseTextureLoaded=function(e){this.noFrame?this.frame=new u.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.emit("update",this)},r.prototype.onBaseTextureUpdated=function(e){this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},r.prototype.destroy=function(e){this.baseTexture&&(e&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1},r.prototype.clone=function(){return new r(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},r.prototype._updateUvs=function(){this._uvs||(this._uvs=new a),this._uvs.set(this.crop,this.baseTexture,this.rotate)},r.fromImage=function(e,t,n){var i=c.TextureCache[e];return i||(i=new r(o.fromImage(e,t,n)),c.TextureCache[e]=i),i},r.fromFrame=function(e){var t=c.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},r.fromCanvas=function(e,t){return new r(o.fromCanvas(e,t))},r.fromVideo=function(e,t){return"string"==typeof e?r.fromVideoUrl(e,t):new r(i.fromVideo(e,t))},r.fromVideoUrl=function(e,t){return new r(i.fromUrl(e,t))},r.addTextureToCache=function(e,t){c.TextureCache[t]=e},r.removeTextureFromCache=function(e){var t=c.TextureCache[e];return delete c.TextureCache[e],delete c.BaseTextureCache[e],t},r.EMPTY=new r(new o)},,function(e,t,n){(function(t){"use strict";var n=function(e,n,r,o,i,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return l[f++]}))}throw c.framesToPop=1,c}};e.exports=n}).call(t,n(1))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,,function(e,t,n){"use strict";function r(e,t){if(!t)return function(){};var n=0;return t.report(0,e),function(r){return t.report(++n,e,r)}}function o(e,t){return e?Promise.resolve(t).tap(function(t){t&&t.byteLength?(e.formatter=s.BYTES_FORMATTER,e.report(t.byteLength,t.byteLength)):e.report(1,1)}):t}function i(e,t){var n=0,r=0;return function(){return e.report(n,++r),Promise.resolve(t.apply(this,arguments)).tap(function(){return e.report(++n,r)})}}function a(e,t){return e.watch(function(){return t.report(e.current,e.total,e.extra)})}Object.defineProperty(t,"__esModule",{value:!0}),t.fixed=r,t.atomic=o,t.wrapPromise=i,t.bind=a;var s=n(60)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function createFunction(code){var fn=eval("(function(get) { return "+code+" })");return fn.displayName="("+code+")",fn.constant=!!/^[\-0-9\.]+$/.test(code),fn}function Expression(e){log("parsing %s",e);var t=_parserPegjs2["default"].parse(e);log("parsed %s => %s",e,t);var n=createFunction(t),r=void 0;return r=n.constant?n:function(e){return n(function(t){return e[t]})},r.constant=n.constant,r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Expression=Expression;var _debugBrowser=__webpack_require__(174),_debugBrowser2=_interopRequireDefault(_debugBrowser),_parserPegjs=__webpack_require__(506),_parserPegjs2=_interopRequireDefault(_parserPegjs),log=_debugBrowser2["default"]("scintillator:expression");exports["default"]=Expression},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(374);var o=n(3),i=r(o),a=n(34),s=r(a);t["default"]=i["default"].createClass({displayName:"scene",render:function(){return i["default"].createElement("div",{className:s["default"]("scene",this.props.className)},this.props.children)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"probably"===p.canPlayType(e)}function a(e){var t=e.createGain();t.connect(e.destination),t.disconnect()}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.canPlay=i,t.unmuteAudio=a;var u=n(90),c=r(u),l=n(147),f=r(l),p=document.createElement("audio"),h=function(){function e(t){o(this,e),this._audioContext=t||f["default"],this._samples=[],this._instances=new Set}return s(e,[{key:"unmute",value:function(){a(this._audioContext)}},{key:"destroy",value:function(){if(!this._destroyed){this._destroyed=!0;var e=!0,t=!1,n=void 0;try{for(var r,o=this._samples[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.destroy()}}catch(a){t=!0,n=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}var s=!0,u=!1,c=void 0;try{for(var l,f=this._instances[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value;p.destroy()}}catch(a){u=!0,c=a}finally{try{!s&&f["return"]&&f["return"]()}finally{if(u)throw c}}this._samples=null,this._instances=null}}},{key:"sample",value:function(e){var t=this;return this._coerceToArrayBuffer(e).then(function(e){return t._decodeAudio(e)}).then(function(e){if(t._destroyed)throw new Error("SamplingMaster already destroyed!");var n=new d(t,e);return t._samples.push(n),n})}},{key:"_coerceToArrayBuffer",value:function(e){return e instanceof ArrayBuffer?Promise.resolve(e):c["default"](e).as("arraybuffer")}},{key:"_decodeAudio",value:function(e){var t=this;return new Promise(function(n,r){t.audioContext.decodeAudioData(e,function(e){n(e)},function(e){r("Unable to decode audio: "+e)})})}},{key:"_startPlaying",value:function(e){this._instances.add(e)}},{key:"_stoppedPlaying",value:function(e){this._instances["delete"](e)}},{key:"audioContext",get:function(){return this._audioContext}}]),e}();t.SamplingMaster=h;var d=function(){function e(t,n){o(this,e),this._master=t,this._buffer=n}return s(e,[{key:"play",value:function(e,t){return new v(this._master,this._buffer,e,t)}},{key:"destroy",value:function(){this._master=null,this._buffer=null}}]),e}(),v=function(){function e(t,n,r,i){var a=this;o(this,e),r=r||0,this._master=t;var s=t.audioContext,u=s.createBufferSource();u.buffer=n,u.onended=function(){return a.stop()};var c=s.createGain();u.connect(c),c.connect(i||s.destination),this._source=u,this._gain=c,u.start(r?Math.max(0,s.currentTime+r):0),this._master._startPlaying(this)}return s(e,[{key:"stop",value:function(){this._source&&(this._source.stop(0),this._source.disconnect(),this._gain.disconnect(),this._source=null,this._gain=null,this._master._stoppedPlaying(this),this.onstop&&this.onstop())}},{key:"bad",value:function(){this._source&&(this._source.playbackRate.value=Math.random()<.5?Math.pow(2,1/12):Math.pow(2,-1/12))}},{key:"destroy",value:function(){this.stop()}}]),e}();t["default"]=h},function(e,t){function n(e){var t=!1;return{when:function(n,r){if(t)return this;var o=e.match(n);return o&&(t=!0,r(o)),this},"else":function(e){return t?this:void e()}}}e.exports=n},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){o.forEach(function(t){r[n(t,e)]=r[e]})});var i={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:i};e.exports=a},function(e,t,n){(function(t){"use strict";var r=n(106),o=n(10),i=n(288),a=n(292),s=n(299),u=n(302),c=n(8),l=u(function(e){return s(e)}),f="cssFloat";if(o.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(f="styleFloat"),"production"!==t.env.NODE_ENV)var p=/^(?:webkit|moz|o)[A-Z]/,h=/;\s*$/,d={},v={},m=function(e){d.hasOwnProperty(e)&&d[e]||(d[e]=!0,"production"!==t.env.NODE_ENV?c(!1,"Unsupported style property %s. Did you mean %s?",e,i(e)):null)},g=function(e){d.hasOwnProperty(e)&&d[e]||(d[e]=!0,"production"!==t.env.NODE_ENV?c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)):null)},y=function(e,n){v.hasOwnProperty(n)&&v[n]||(v[n]=!0,"production"!==t.env.NODE_ENV?c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,n.replace(h,"")):null)},b=function(e,t){e.indexOf("-")>-1?m(e):p.test(e)?g(e):h.test(t)&&y(e,t)};var _={createMarkupForStyles:function(e){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];"production"!==t.env.NODE_ENV&&b(r,o),null!=o&&(n+=l(r)+":",n+=a(r,o)+";")}return n||null},setValueForStyles:function(e,n){var o=e.style;for(var i in n)if(n.hasOwnProperty(i)){"production"!==t.env.NODE_ENV&&b(i,n[i]);var s=a(i,n[i]);if("float"===i&&(i=f),s)o[i]=s;else{var u=r.shorthandPropertyExpansions[i];if(u)for(var c in u)o[c]="";else o[i]=""}}}};e.exports=_}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(){if(s)for(var e in u){var n=u[e],r=s.indexOf(e);if("production"!==t.env.NODE_ENV?a(r>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e):a(r>-1),!c.plugins[r]){"production"!==t.env.NODE_ENV?a(n.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e):a(n.extractEvents),c.plugins[r]=n;var i=n.eventTypes;for(var l in i)"production"!==t.env.NODE_ENV?a(o(i[l],n,l),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,e):a(o(i[l],n,l))}}}function o(e,n,r){"production"!==t.env.NODE_ENV?a(!c.eventNameDispatchConfigs.hasOwnProperty(r),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",r):a(!c.eventNameDispatchConfigs.hasOwnProperty(r)),c.eventNameDispatchConfigs[r]=e;var o=e.phasedRegistrationNames;if(o){for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];i(u,n,r)}return!0}return e.registrationName?(i(e.registrationName,n,r),!0):!1}function i(e,n,r){"production"!==t.env.NODE_ENV?a(!c.registrationNameModules[e],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):a(!c.registrationNameModules[e]),c.registrationNameModules[e]=n,c.registrationNameDependencies[e]=n.eventTypes[r].dependencies}var a=n(2),s=null,u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){"production"!==t.env.NODE_ENV?a(!s,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):a(!s),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var n=!1;for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];u.hasOwnProperty(o)&&u[o]===i||("production"!==t.env.NODE_ENV?a(!u[o],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o):a(!u[o]),u[o]=i,n=!0)}n&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};e.exports=c}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e,t){this.props=e,this.context=t}var o=n(79),i=n(2),a=n(8);if(r.prototype.setState=function(e,n){"production"!==t.env.NODE_ENV?i("object"==typeof e||"function"==typeof e||null==e,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):i("object"==typeof e||"function"==typeof e||null==e),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?a(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),o.enqueueSetState(this,e),n&&o.enqueueCallback(this,n)},r.prototype.forceUpdate=function(e){o.enqueueForceUpdate(this),e&&o.enqueueCallback(this,e)},"production"!==t.env.NODE_ENV){var s={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call React.render again at the top level."]},u=function(e,n){try{Object.defineProperty(r.prototype,e,{get:function(){return void("production"!==t.env.NODE_ENV?a(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",n[0],n[1]):null)}})}catch(o){}};for(var c in s)s.hasOwnProperty(c)&&u(c,s[c])}e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(107),o=n(238),i=n(39),a=n(15),s=n(23),u=n(2),c=n(87),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},f={updatePropertyByID:function(e,n,r){var o=a.getNode(e);"production"!==t.env.NODE_ENV?u(!l.hasOwnProperty(n),"updatePropertyByID(...): %s",l[n]):u(!l.hasOwnProperty(n)),null!=r?i.setValueForProperty(o,n,r):i.deleteValueForProperty(o,n)},deletePropertyByID:function(e,n,r){var o=a.getNode(e);"production"!==t.env.NODE_ENV?u(!l.hasOwnProperty(n),"updatePropertyByID(...): %s",l[n]):u(!l.hasOwnProperty(n)),i.deleteValueForProperty(o,n,r)},updateStylesByID:function(e,t){var n=a.getNode(e);r.setValueForStyles(n,t)},updateInnerHTMLByID:function(e,t){var n=a.getNode(e);c(n,t)},updateTextContentByID:function(e,t){var n=a.getNode(e);o.updateTextContent(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=a.getNode(e);o.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);o.processUpdates(e,t)}};s.measureMethods(f,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=f}).call(t,n(1))},function(e,t,n){"use strict";var r=n(39),o=n(72),i=n(75),a=n(5),s=n(55),u=function(e){};a(u.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){this._rootNodeID=e;var o=s(this._stringText);return t.renderToStaticMarkup?o:"<span "+r.createMarkupForID(e)+">"+o+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;n!==this._stringText&&(this._stringText=n,i.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=u},function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=n(258),i=n(119),a=n(121),s=n(122),u={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";var r=n(286),o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(">"," "+o.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=o},function(e,t,n){"use strict";var r=n(44),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=o},function(e,t,n){"use strict";function r(e){function t(t,n,r,o,i){if(o=o||w,null==n[r]){var a=b[i];return t?new Error("Required "+a+" `"+r+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o){var i=t[n],a=v(i);if(a!==e){var s=b[o],u=m(i);return new Error("Invalid "+s+" `"+n+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `"+e+"`."))}return null}return r(t)}function i(){return r(_.thatReturns(null))}function a(e){function t(t,n,r,o){var i=t[n];if(!Array.isArray(i)){var a=b[o],s=v(i);return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<i.length;u++){var c=e(i,u,r,o);if(c instanceof Error)return c}return null}return r(t)}function s(){function e(e,t,n,r){if(!g.isValidElement(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(e)}function u(e){function t(t,n,r,o){if(!(t[n]instanceof e)){var i=b[o],a=e.name||w;return new Error("Invalid "+i+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+a+"`."))}return null}return r(t)}function c(e){function t(t,n,r,o){for(var i=t[n],a=0;a<e.length;a++)if(i===e[a])return null;var s=b[o],u=JSON.stringify(e);return new Error("Invalid "+s+" `"+n+"` of value `"+i+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(t)}function l(e){function t(t,n,r,o){var i=t[n],a=v(i);if("object"!==a){var s=b[o];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an object."))}for(var u in i)if(i.hasOwnProperty(u)){var c=e(i,u,r,o);if(c instanceof Error)return c}return null;
}return r(t)}function f(e){function t(t,n,r,o){for(var i=0;i<e.length;i++){var a=e[i];if(null==a(t,n,r,o))return null}var s=b[o];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+r+"`."))}return r(t)}function p(){function e(e,t,n,r){if(!d(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function h(e){function t(t,n,r,o){var i=t[n],a=v(i);if("object"!==a){var s=b[o];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var l=c(i,u,r,o);if(l)return l}}return null}return r(t)}function d(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(d);if(null===e||g.isValidElement(e))return!0;e=y.extractIfFragment(e);for(var t in e)if(!d(e[t]))return!1;return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var g=n(6),y=n(49),b=n(51),_=n(24),w="<<anonymous>>",x=s(),E=p(),S={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:i(),arrayOf:a,element:x,instanceOf:u,node:E,objectOf:l,oneOf:c,oneOfType:f,shape:h};e.exports=S},function(e,t,n){"use strict";function r(){this.listenersToPut=[]}var o=n(18),i=n(29),a=n(5);a(r.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];i.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),o.addPoolingTo(r),e.exports=r},function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};e.exports=r},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){function r(e,t){return e&&t?e===t?!0:o(e)?!1:o(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var o=n(300);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){if("production"!==t.env.NODE_ENV){var n=o.current;null!==n&&("production"!==t.env.NODE_ENV?c(n._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):null,n._warnedAboutRefsInRender=!0)}return null==e?null:u(e)?e:i.has(e)?a.getNodeFromInstance(e):("production"!==t.env.NODE_ENV?s(null==e.render||"function"!=typeof e.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(e)):s(null==e.render||"function"!=typeof e.render),void("production"!==t.env.NODE_ENV?s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)):s(!1)))}var o=n(20),i=n(31),a=n(15),s=n(2),u=n(126),c=n(8);e.exports=r}).call(t,n(1))},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){function n(){try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[o]);return"function"==typeof t?t:void 0}var r="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=n},function(e,t,n){(function(t){function r(e){return"production"!==t.env.NODE_ENV?i(!!a,"Markup wrapping node not initialized"):i(!!a),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var o=n(10),i=n(2),a=o.canUseDOM?document.createElement("div"):null,s={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},u=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l,circle:f,clipPath:f,defs:f,ellipse:f,g:f,line:f,linearGradient:f,path:f,polygon:f,polyline:f,radialGradient:f,rect:f,stop:f,text:f};e.exports=r}).call(t,n(1))},function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=n(10),i=null;e.exports=r},function(e,t){function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t){"use strict";function n(e){return e&&("INPUT"===e.nodeName&&r[e.type]||"TEXTAREA"===e.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){return g[e]}function o(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function i(e){return(""+e).replace(y,r)}function a(e){return"$"+i(e)}function s(e,n,r,i,u){var f=typeof e;if(("undefined"===f||"boolean"===f)&&(e=null),null===e||"string"===f||"number"===f||c.isValidElement(e))return i(u,e,""===n?v+o(e,0):n,r),1;var g,y,_,w=0;if(Array.isArray(e))for(var x=0;x<e.length;x++)g=e[x],y=(""!==n?n+m:v)+o(g,x),_=r+w,w+=s(g,y,_,i,u);else{var E=p(e);if(E){var S,C=E.call(e);if(E!==e.entries)for(var T=0;!(S=C.next()).done;)g=S.value,y=(""!==n?n+m:v)+o(g,T++),_=r+w,w+=s(g,y,_,i,u);else for("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?d(b,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):null,b=!0);!(S=C.next()).done;){var O=S.value;O&&(g=O[1],y=(""!==n?n+m:v)+a(O[0])+m+o(g,0),_=r+w,w+=s(g,y,_,i,u))}}else if("object"===f){"production"!==t.env.NODE_ENV?h(1!==e.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):h(1!==e.nodeType);var A=l.extract(e);for(var k in A)A.hasOwnProperty(k)&&(g=A[k],y=(""!==n?n+m:v)+a(k)+m+o(g,0),_=r+w,w+=s(g,y,_,i,u))}}return w}function u(e,t,n){return null==e?0:s(e,"",0,t,n)}var c=n(6),l=n(49),f=n(30),p=n(123),h=n(2),d=n(8),v=f.SEPARATOR,m=":",g={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g,b=!1;e.exports=u}).call(t,n(1))},,function(e,t,n){e.exports=n(536),e.exports.Resource=n(157),e.exports.middleware={caching:{memory:n(538)},parsing:{blob:n(539)}}},function(e,t,n){function r(){i.call(this),this.children=[]}var o=n(21),i=n(325),a=n(164),s=new o.Matrix;r.prototype=Object.create(i.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;0!==t?this.scale.x=e/t:this.scale.x=1,this._width=e}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;0!==t?this.scale.y=e/t:this.scale.y=1,this._height=e}}}),r.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},r.prototype.addChildAt=function(e,t){if(e===this)return e;if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.emit("added",this),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},r.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);if(0>n||0>r)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[n]=t,this.children[r]=e}},r.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},r.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(e);this.children.splice(n,1),this.children.splice(t,0,e)},r.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[e]},r.prototype.removeChild=function(e){var t=this.children.indexOf(e);if(-1!==t)return this.removeChildAt(t)},r.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,this.children.splice(e,1),t.emit("removed",this),t},r.prototype.removeChildren=function(e,t){var n=e||0,r="number"==typeof t?t:this.children.length,o=r-n;if(o>0&&r>=o){for(var i=this.children.splice(n,o),a=0;a<i.length;++a)i[a].parent=null;return i}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.generateTexture=function(e,t,n){var r=this.getLocalBounds(),o=new a(e,0|r.width,0|r.height,n,t);return s.tx=-r.x,s.ty=-r.y,o.render(this,s),o},r.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var e=0,t=this.children.length;t>e;++e)this.children[e].updateTransform()}},r.prototype.containerUpdateTransform=r.prototype.updateTransform,r.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return o.Rectangle.EMPTY;for(var e,t,n,r=1/0,i=1/0,a=-(1/0),s=-(1/0),u=!1,c=0,l=this.children.length;l>c;++c){var f=this.children[c];f.visible&&(u=!0,e=this.children[c].getBounds(),r=r<e.x?r:e.x,i=i<e.y?i:e.y,t=e.width+e.x,n=e.height+e.y,a=a>t?a:t,s=s>n?s:n)}if(!u)return o.Rectangle.EMPTY;var p=this._bounds;p.x=r,p.y=i,p.width=a-r,p.height=s-i,this._currentBounds=p}return this._currentBounds},r.prototype.containerGetBounds=r.prototype.getBounds,r.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=o.Matrix.IDENTITY;for(var t=0,n=this.children.length;n>t;++t)this.children[t].updateTransform();return this.worldTransform=e,this._currentBounds=null,this.getBounds(o.Matrix.IDENTITY)},r.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var t,n;if(this._mask||this._filters){for(e.currentRenderer.flush(),this._filters&&e.filterManager.pushFilter(this,this._filters),this._mask&&e.maskManager.pushMask(this,this._mask),e.currentRenderer.start(),this._renderWebGL(e),t=0,n=this.children.length;n>t;t++)this.children[t].renderWebGL(e);e.currentRenderer.flush(),this._mask&&e.maskManager.popMask(this,this._mask),this._filters&&e.filterManager.popFilter(),e.currentRenderer.start()}else for(this._renderWebGL(e),t=0,n=this.children.length;n>t;++t)this.children[t].renderWebGL(e)}},r.prototype._renderWebGL=function(e){},r.prototype._renderCanvas=function(e){},r.prototype.renderCanvas=function(e){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask,e),this._renderCanvas(e);for(var t=0,n=this.children.length;n>t;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},r.prototype.destroy=function(e){if(i.prototype.destroy.call(this),e)for(var t=0,n=this.children.length;n>t;++t)this.children[t].destroy(e);this.removeChildren(),this.children=null}},function(e,t,n){function r(e,t,n){n=n||{},o.call(this,"WebGL",e,t,n),this.type=d.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!n.forceFXAA&&n.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new i(this),this.maskManager=new a(this),this.stencilManager=new s(this),this.filterManager=new u(this),this.blendModeManager=new c(this),this.currentRenderTarget=null,this.currentRenderer=new f(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var o=n(327),i=n(331),a=n(556),s=n(557),u=n(330),c=n(555),l=n(134),f=n(94),p=n(328),h=n(22),d=n(12);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,h.pluginTarget.mixin(r),r.glContextId=0,r.prototype._createContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=r.glContextId++,e.id=this.glContextId,e.renderer=this},r.prototype._initContext=function(){var e=this.gl;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.renderTarget=new l(e,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",e),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!e.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},r.prototype.render=function(e){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=e,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,e.filterArea=this.renderTarget.size,e.filters=this._FXAAFilter);var t=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t;var n=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?n.clearColor(0,0,0,0):n.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),n.clear(n.COLOR_BUFFER_BIT)),this.renderDisplayObject(e,this.renderTarget)}},r.prototype.renderDisplayObject=function(e,t,n){this.setRenderTarget(t),n&&t.clear(),this.filterManager.setFilterStack(t.filterStack),e.renderWebGL(this),this.currentRenderer.flush()},r.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},r.prototype.setRenderTarget=function(e){this.currentRenderTarget!==e&&(this.currentRenderTarget=e,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(e.stencilMaskStack))},r.prototype.resize=function(e,t){o.prototype.resize.call(this,e,t),this.filterManager.resize(e,t),this.renderTarget.resize(e,t),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},r.prototype.updateTexture=function(e){if(e=e.baseTexture||e,e.hasLoaded){var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture(),e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this)),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===d.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===d.SCALE_MODES.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===d.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._glTextures[t.id]}},r.prototype.destroyTexture=function(e){e=e.baseTexture||e,e.hasLoaded&&e._glTextures[this.gl.id]&&this.gl.deleteTexture(e._glTextures[this.gl.id])},r.prototype.handleContextLost=function(e){e.preventDefault()},r.prototype.handleContextRestored=function(){this._initContext();for(var e in h.BaseTextureCache)h.BaseTextureCache[e]._glTextures.length=0},r.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),o.prototype.destroy.call(this,e),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl=null},r.prototype._mapGlModes=function(){var e=this.gl;this.blendModes||(this.blendModes={},this.blendModes[d.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],this.blendModes[d.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SCREEN]=[e.SRC_ALPHA,e.ONE],this.blendModes[d.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[d.DRAW_MODES.POINTS]=e.POINTS,this.drawModes[d.DRAW_MODES.LINES]=e.LINES,this.drawModes[d.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,this.drawModes[d.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLES]=e.TRIANGLES,this.drawModes[d.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN)}},function(e,t,n){function r(e,t,n,r,i){if(!t||!n)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=o.uid(),this.gl=e.renderer.gl,this.shaderManager=e,this.program=null,this.uniforms=r||{},this.attributes=i||{},this.textureCount=1,this.vertexSrc=t,this.fragmentSrc=n,this.init()}var o=n(22);r.prototype.constructor=r,e.exports=r,r.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},r.prototype.cacheUniformLocations=function(e){for(var t=0;t<e.length;++t)this.uniforms[e[t]]._location=this.gl.getUniformLocation(this.program,e[t])},r.prototype.cacheAttributeLocations=function(e){for(var t=0;t<e.length;++t)this.attributes[e[t]]=this.gl.getAttribLocation(this.program,e[t])},r.prototype.compile=function(){var e=this.gl,t=this._glCompile(e.VERTEX_SHADER,this.vertexSrc),n=this._glCompile(e.FRAGMENT_SHADER,this.fragmentSrc),r=e.createProgram();return e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(r,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(r)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(r)),e.deleteProgram(r),r=null),e.deleteShader(t),e.deleteShader(n),this.program=r},r.prototype.syncUniform=function(e){var t,n,r=e._location,i=e.value,a=this.gl;switch(e.type){case"b":case"bool":case"boolean":a.uniform1i(r,i?1:0);break;case"i":case"1i":a.uniform1i(r,i);break;case"f":case"1f":a.uniform1f(r,i);break;case"2f":a.uniform2f(r,i[0],i[1]);break;case"3f":a.uniform3f(r,i[0],i[1],i[2]);break;case"4f":a.uniform4f(r,i[0],i[1],i[2],i[3]);break;case"v2":a.uniform2f(r,i.x,i.y);break;case"v3":a.uniform3f(r,i.x,i.y,i.z);break;case"v4":a.uniform4f(r,i.x,i.y,i.z,i.w);break;case"1iv":a.uniform1iv(r,i);break;case"2iv":a.uniform2iv(r,i);break;case"3iv":a.uniform3iv(r,i);break;case"4iv":a.uniform4iv(r,i);break;case"1fv":a.uniform1fv(r,i);break;case"2fv":a.uniform2fv(r,i);break;case"3fv":a.uniform3fv(r,i);break;case"4fv":a.uniform4fv(r,i);break;case"m2":case"mat2":case"Matrix2fv":a.uniformMatrix2fv(r,e.transpose,i);break;case"m3":case"mat3":case"Matrix3fv":a.uniformMatrix3fv(r,e.transpose,i);break;case"m4":case"mat4":case"Matrix4fv":a.uniformMatrix4fv(r,e.transpose,i);break;case"c":"number"==typeof i&&(i=o.hex2rgb(i)),a.uniform3f(r,i[0],i[1],i[2]);break;case"iv1":a.uniform1iv(r,i);break;case"iv":a.uniform3iv(r,i);break;case"fv1":a.uniform1fv(r,i);break;case"fv":a.uniform3fv(r,i);break;case"v2v":for(e._array||(e._array=new Float32Array(2*i.length)),t=0,n=i.length;n>t;++t)e._array[2*t]=i[t].x,e._array[2*t+1]=i[t].y;a.uniform2fv(r,e._array);break;case"v3v":for(e._array||(e._array=new Float32Array(3*i.length)),t=0,n=i.length;n>t;++t)e._array[3*t]=i[t].x,e._array[3*t+1]=i[t].y,e._array[3*t+2]=i[t].z;a.uniform3fv(r,e._array);break;case"v4v":for(e._array||(e._array=new Float32Array(4*i.length)),t=0,n=i.length;n>t;++t)e._array[4*t]=i[t].x,e._array[4*t+1]=i[t].y,e._array[4*t+2]=i[t].z,e._array[4*t+3]=i[t].w;a.uniform4fv(r,e._array);break;case"t":case"sampler2D":if(!e.value||!e.value.baseTexture.hasLoaded)break;a.activeTexture(a["TEXTURE"+this.textureCount]);var s=e.value.baseTexture._glTextures[a.id];s||(this.initSampler2D(e),s=e.value.baseTexture._glTextures[a.id]),a.bindTexture(a.TEXTURE_2D,s),a.uniform1i(e._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+e.type)}},r.prototype.syncUniforms=function(){this.textureCount=1;for(var e in this.uniforms)this.syncUniform(this.uniforms[e])},r.prototype.initSampler2D=function(e){var t=this.gl,n=e.value.baseTexture;if(n.hasLoaded)if(e.textureData){var r=e.textureData;n._glTextures[t.id]=t.createTexture(),t.bindTexture(t.TEXTURE_2D,n._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,r.luminance?t.LUMINANCE:t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r.magFilter?r.magFilter:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r.wrapS?r.wrapS:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,r.wrapS?r.wrapS:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,r.wrapT?r.wrapT:t.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(n)},r.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},r.prototype._glCompile=function(e,t){var n=this.gl.createShader(e);return this.gl.shaderSource(n,t),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(console.log(this.gl.getShaderInfoLog(n)),null)}},function(e,t,n){var r=n(21),o=n(22),i=n(12),a=n(561),s=function(e,t,n,s,u,c){if(this.gl=e,this.frameBuffer=null,this.texture=null,this.size=new r.Rectangle(0,0,1,1),this.resolution=u||i.RESOLUTION,this.projectionMatrix=new r.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new a,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=s||i.SCALE_MODES.DEFAULT,this.root=c,!this.root){this.frameBuffer=e.createFramebuffer(),this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,s===i.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s===i.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST);var l=o.isPowerOfTwo(t,n);l?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0)}this.resize(t,n)};s.prototype.constructor=s,e.exports=s,s.prototype.clear=function(e){var t=this.gl;e&&t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},s.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var e=this.gl;this.stencilBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencilBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},s.prototype.activate=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer);var t=this.frame||this.size;this.calculateProjection(t),this.transform&&this.projectionMatrix.append(this.transform),e.viewport(0,0,t.width*this.resolution,t.height*this.resolution)},s.prototype.calculateProjection=function(e){var t=this.projectionMatrix;t.identity(),this.root?(t.a=1/e.width*2,t.d=-1/e.height*2,t.tx=-1-e.x*t.a,t.ty=1-e.y*t.d):(t.a=1/e.width*2,t.d=1/e.height*2,t.tx=-1-e.x*t.a,t.ty=-1-e.y*t.d)},s.prototype.resize=function(e,t){if(e=0|e,t=0|t,this.size.width!==e||this.size.height!==t){if(this.size.width=e,this.size.height=t,!this.root){var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e*this.resolution,t*this.resolution,0,n.RGBA,n.UNSIGNED_BYTE,null),this.stencilBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencilBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e*this.resolution,t*this.resolution))}var r=this.frame||this.size;this.calculateProjection(r)}},s.prototype.destroy=function(){var e=this.gl;e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},function(e,t,n){function r(e,t,n){a.call(this),this.uid=o.uid(),this.resolution=n||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=t||i.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],e&&this.loadSource(e)}var o=n(22),i=n(12),a=n(58);r.prototype=Object.create(a.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=o.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},r.prototype.loadSource=function(e){var t=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=e,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!e.getContext){this.isLoading=!0;var n=this;e.onload=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),n.emit("loaded",n))},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},e.complete&&e.src&&(this.isLoading=!1,e.onload=null,e.onerror=null,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this))}},r.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},r.prototype.destroy=function(){this.imageUrl?(delete o.BaseTextureCache[this.imageUrl],delete o.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete o.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},r.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},r.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},r.fromImage=function(e,t,n){var i=o.BaseTextureCache[e];if(void 0===t&&0!==e.indexOf("data:")&&(t=!0),!i){var a=new Image;t&&(a.crossOrigin=""),i=new r(a,n),i.imageUrl=e,a.src=e,o.BaseTextureCache[e]=i,i.resolution=o.getResolutionOfUrl(e)}return i},r.fromCanvas=function(e,t){e._pixiId||(e._pixiId="canvas_"+o.uid());var n=o.BaseTextureCache[e._pixiId];return n||(n=new r(e,t),o.BaseTextureCache[e._pixiId]=n),n}},function(e,t,n){function r(){o.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n,r){var o=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.width/t.size.width),1===this.passes)e.filterManager.applyFilter(o,t,n,r);else{for(var i=e.filterManager.getRenderTarget(!0),a=t,s=i,u=0;u<this.passes-1;u++){e.filterManager.applyFilter(o,a,s,!0);var c=s;s=a,a=c}e.filterManager.applyFilter(o,a,n,r),e.filterManager.returnRenderTarget(i)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*Math.abs(e),this.strength=e}}})},function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=0,t=0,n=0,r=[],o=0,a=0;return{push:function(i){var s=c["default"]();for(e+=i,t+=1,n=e/t,o+=i,r.push({delta:i,time:s});r[0]&&r[0].time<s-1e3;)o-=r.shift().delta;a=o/r.length},toString:function(){return i(n)+" / "+i(a)}}}function i(e){return e.toFixed(2)+"ms"}function a(){var e={},t={enabled:!0,stats:e,wrap:function(t,n){return function(){try{var r=c["default"]();return n.apply(this,arguments)}finally{var i=c["default"](),a=e[t]||(e[t]=new o(t));a.push(i-r)}}},benchmark:function(e,t,n){t[n]=this.wrap(e,t[n])},toString:function(){var t=[];return Object.keys(e).forEach(function(n){t.push("- "+n+": "+e[n])}),t.join("\n")}},n=document.createElement("div");return n.setAttribute("style","position:fixed;top:10px;right:10px;z-index:99999"),document.body.appendChild(n),p["default"].render(p["default"].createElement(d["default"],{bench:t}),n),t}function s(){return{enabled:!1,wrap:function(e,t){return t}}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(93),c=r(u),l=n(151),f=n(3),p=r(f),h=n(348),d=r(h);t["default"]=window.BEMUSE_BENCHMARK=l.shouldEnableBenchmark()?new a:new s,e.exports=t["default"]},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){e&&e.parentNode===h["default"]&&h["default"].removeChild(e)}function a(e){return function(t){var n=f["default"].render(e,t);return n.setProps({scene:e}),{teardown:function(){return Promise["try"](function(){return n.teardown?n.teardown():void 0}).then(function(){f["default"].unmountComponentAtNode(t)})}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(45),c=r(u),l=n(3),f=r(l),p=n(141),h=r(p),d=function(){function e(){o(this,e),this._transitioning=!1,this._stack=[]}return s(e,[{key:"display",value:function(e){return this._transitionTo(function(){return e})}},{key:"push",value:function(e){var t=this,n=this.currentScene;return this._transitionTo(function(){return t._stack.push(n),e})}},{key:"pop",value:function(){var e=this;return this._transitionTo(function(){return e._stack.pop()})}},{key:"_transitionTo",value:function(e){return c["default"](regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._transitioning){t.next=2;break}throw new Error("Scene is transitioning!");case 2:if(t.prev=2,this._transitioning=!0,!this.currentSceneInstance){t.next=8;break}return t.next=7,Promise.resolve(this.currentSceneInstance.teardown());case 7:i(this.currentElement);case 8:n=e(),"function"!=typeof n&&(n=new a(n)),r=document.createElement("div"),r.className="scene-manager--scene",h["default"].appendChild(r),this.currentElement=r,this.currentScene=n,this.currentSceneInstance=n(r);case 16:return t.prev=16,this._transitioning=!1,t.finish(16);case 19:case"end":return t.stop()}},t,this,[[2,,16,19]])}).bind(this))}}]),e}();t.SceneManager=d;var v=new d;t.instance=v,t["default"]=v},function(e,t,n){"use strict";function r(e){return{as:function(t,n){return new Promise(function(r,i){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType=t,a.onload=function(){200===+a.status?r(a.response):i(new Error("Unable to download "+e+": HTTP "+a.status))},a.onerror=function(){return i(new Error("Unable to download "+e))},n&&(n.formatter=o.BYTES_FORMATTER,a.onprogress=function(e){return n.report(e.loaded,e.total)}),a.send(null)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.download=r;var o=n(60);t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=document.querySelector("main"),e.exports=t["default"]},function(e,t,n){function r(){this.headers=new o,this.objects=new i,this.timeSignatures=new a}var o=n(143),i=n(144),a=n(145);e.exports=r,r.prototype.measureToBeat=function(e,t){return this.timeSignatures.measureToBeat(e,t)}},function(e,t){function n(){this._data={},this._dataAll={}}e.exports=n,n.prototype.each=function(e){for(var t in this._data)e(t,this._data[t])},n.prototype.get=function(e){return this._data[e.toLowerCase()]},n.prototype.getAll=function(e){return this._dataAll[e.toLowerCase()]},n.prototype.set=function(e,t){var n=e.toLowerCase();this._data[n]=t,(this._dataAll[n]||(this._dataAll[n]=[])).push(t)}},function(e,t){function n(){this._objects=[]}e.exports=n,n.prototype.add=function(e){if("01"!==e.channel)for(var t=0;t<this._objects.length;t++){var n=this._objects[t];if(n.channel===e.channel&&n.measure===e.measure&&n.fraction===e.fraction)return void(this._objects[t]=e)}this._objects.push(e)},n.prototype.all=function(){return this._objects.slice()},n.prototype.allSorted=function(){var e=this.all();return e.sort(function(e,t){return e.measure+e.fraction-(t.measure+t.fraction)}),e}},function(e,t){function n(){this._values={}}e.exports=n,n.prototype.set=function(e,t){this._values[e]=t},n.prototype.get=function(e){return this._values[e]||1},n.prototype.getBeats=function(e){return 4*this.get(e)},n.prototype.measureToBeat=function(e,t){for(var n=0,r=0;e>r;r++)n+=this.getBeats(r);return n+this.getBeats(e)*t}},function(e,t,n){(function(e){function r(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?o(this,t):"string"==typeof t?i(this,t,arguments.length>1?arguments[1]:"utf8"):a(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function o(t,n){if(t=p(t,0>n?0:0|h(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)t[r]=0;return t}function i(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|v(t,n);return e=p(e,r),e.write(t,n),e}function a(t,n){if(e.isBuffer(n))return s(t,n);if(Y(n))return u(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer?c(t,n):n.length?l(t,n):f(t,n)}function s(e,t){var n=0|h(t.length);return e=p(e,n),t.copy(e,0,0,n),e}function u(e,t){var n=0|h(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function c(e,t){var n=0|h(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function l(e,t){var n=0|h(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t){var n,r=0;"Buffer"===t.type&&Y(t.data)&&(n=t.data,r=0|h(n.length)),e=p(e,r);for(var o=0;r>o;o+=1)e[o]=255&n[o];return e}function p(t,n){e.TYPED_ARRAY_SUPPORT?t=e._augment(new Uint8Array(n)):(t.length=n,t._isBuffer=!0);var r=0!==n&&n<=e.poolSize>>>1;return r&&(t.parent=$),t}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function d(t,n){if(!(this instanceof d))return new d(t,n);var r=new e(t,n);return delete r.parent,r}function v(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return C(this,t,n);case"binary":return T(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function y(e,t,n,r){return z(B(t,e.length-n),e,n,r)}function b(e,t,n,r){return z(U(t),e,n,r)}function _(e,t,n,r){return b(e,t,n,r)}function w(e,t,n,r){return z(V(t),e,n,r)}function x(e,t,n,r){return z(q(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?H.fromByteArray(e):H.fromByteArray(e.slice(t,n))}function S(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var i=t;n>i;i++)e[i]<=127?(r+=W(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return r+W(o)}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=t;n>i;i++)o+=L(e[i]);return o}function A(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,n,r,o,i,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>i||a>n)throw new RangeError("value is out of bounds");if(r+o>t.length)throw new RangeError("index out of range")}function P(e,t,n,r){0>t&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);i>o;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function N(e,t,n,r){0>t&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);i>o;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(t>o||i>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function R(e,t,n,r,o){return o||M(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||M(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(e,t,n,r,52,8),n+8}function I(e){if(e=F(e).replace(K,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function L(e){return 16>e?"0"+e.toString(16):e.toString(16)}function B(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;r>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(56320>n){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&((t-=3)>-1&&i.push(239,191,189),o=null);if(128>n){if((t-=1)<0)break;i.push(n)}else if(2048>n){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function q(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function V(e){return H.toByteArray(I(e))}function z(e,t,n,r){for(var o=0;r>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function W(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var H=n(364),G=n(365),Y=n(366);t.Buffer=e,t.SlowBuffer=d,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var $={};e.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new ArrayBuffer(0),n=new Uint8Array(t);return n.foo=function(){return 42},n.constructor=e,42===n.foo()&&n.constructor===e&&"function"==typeof n.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(r){return!1}}(),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,o=n.length,i=0,a=Math.min(r,o);a>i&&t[i]===n[i];)++i;return i!==a&&(r=t[i],o=n[i]),o>r?-1:r>o?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Y(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);if(1===t.length)return t[0];var r;if(void 0===n)for(n=0,r=0;r<t.length;r++)n+=t[r].length;var o=new e(n),i=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(o,i),i+=a.length}return o},e.byteLength=v,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function r(e,t,n){for(var r=-1,o=0;n+o<e.length;o++)if(e[n+o]===t[-1===r?0:o-r]){if(-1===r&&(r=o),o-r+1===t.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return r(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=t,t=0|n,n=o}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"binary":return _(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),t>n&&(n=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=e._augment(this.subarray(t,n));else{var i=n-t;o=new e(i,void 0);for(var a=0;i>a;a++)o[a]=this[a+t]}return o.length&&(o.parent=this.parent||this),o},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||k(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},e.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),G.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),G.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),G.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),G.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||j(this,e,t,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||j(this,e,t,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):P(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):P(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t):N(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):N(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var i=0,a=1,s=0>e?1:0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0>e?1:0;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):P(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):P(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):N(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||j(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):N(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=t.length&&(n=t.length),n||(n=0),o>0&&r>o&&(o=r),o===r)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-n<o-r&&(o=t.length-n+r);var i=o-r;if(1e3>i||!e.TYPED_ARRAY_SUPPORT)for(var a=0;i>a;a++)t[a+n]=this[a+r];else t._set(this.subarray(r,r+i),n);return i},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var o=B(e.toString()),i=o.length;for(r=t;n>r;r++)this[r]=o[r%i]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,r=t.length;r>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var X=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=X.get,t.set=X.set,t.write=X.write,t.toString=X.toString,t.toLocaleString=X.toString,t.toJSON=X.toJSON,t.equals=X.equals,t.compare=X.compare,t.indexOf=X.indexOf,t.copy=X.copy,t.slice=X.slice,t.readUIntLE=X.readUIntLE,t.readUIntBE=X.readUIntBE,t.readUInt8=X.readUInt8,t.readUInt16LE=X.readUInt16LE,t.readUInt16BE=X.readUInt16BE,t.readUInt32LE=X.readUInt32LE,t.readUInt32BE=X.readUInt32BE,t.readIntLE=X.readIntLE,t.readIntBE=X.readIntBE,t.readInt8=X.readInt8,t.readInt16LE=X.readInt16LE,t.readInt16BE=X.readInt16BE,t.readInt32LE=X.readInt32LE,t.readInt32BE=X.readInt32BE,t.readFloatLE=X.readFloatLE,t.readFloatBE=X.readFloatBE,t.readDoubleLE=X.readDoubleLE,t.readDoubleBE=X.readDoubleBE,t.writeUInt8=X.writeUInt8,t.writeUIntLE=X.writeUIntLE,t.writeUIntBE=X.writeUIntBE,t.writeUInt16LE=X.writeUInt16LE,t.writeUInt16BE=X.writeUInt16BE,t.writeUInt32LE=X.writeUInt32LE,t.writeUInt32BE=X.writeUInt32BE,t.writeIntLE=X.writeIntLE,t.writeIntBE=X.writeIntBE,t.writeInt8=X.writeInt8,t.writeInt16LE=X.writeInt16LE,t.writeInt16BE=X.writeInt16BE,t.writeInt32LE=X.writeInt32LE,t.writeInt32BE=X.writeInt32BE,t.writeFloatLE=X.writeFloatLE,t.writeFloatBE=X.writeFloatBE,t.writeDoubleLE=X.writeDoubleLE,t.writeDoubleBE=X.writeDoubleBE,t.fill=X.fill,t.inspect=X.inspect,t.toArrayBuffer=X.toArrayBuffer,t};var K=/[^+\/0-9A-z\-]/g}).call(t,n(146).Buffer)},function(e,t,n){var r=n(175),o=r.AudioContext||r.webkitAudioContext;o&&(e.exports=new o)},,function(e,t,n){t.Reader=n(227),t.Compiler=n(183),t.BMSChart=n(142),t.BMSHeaders=n(143),t.BMSObjects=n(144),t.Speedcore=n(62),t.TimeSignatures=n(145),t.Notes=n(225),t.Timing=n(230),t.SongInfo=n(228),t.Keysounds=n(357),t.Positioning=n(358),t.Spacing=n(359)},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;a>u;u++)if(o[u]!==i[u]){s=u;break}for(var c=[],u=s;u<o.length;u++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return"1"===l["default"].BEMUSE_SHOW_OPTIONS}function i(){return"1"===l["default"].BEMUSE_BENCHMARK}function a(){return"1"===l["default"].BEMUSE_NO_FULLSCREEN}function s(){return"1"===l["default"].BEMUSE_SHOW_ABOUT}function u(){return"1"===l["default"].BEMUSE_SHOW_MODE_SELECT}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowOptions=o,t.shouldEnableBenchmark=i,t.shouldDisableFullScreen=a,t.shouldShowAbout=s,t.shouldShowModeSelect=u;var c=n(154),l=r(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),i=r(o),a=new i["default"]({beat:Number,time:Number,position:Number});t.GameEvent=a,t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){if("normal"===e)return l["default"].BLEND_MODES.NORMAL;if("screen"===e)return l["default"].BLEND_MODES.SCREEN;throw new Error("Invalid blend mode: "+e)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=n(33),l=r(c),f=n(56),p=r(f),h=n(57),d=r(h),v=n(102),m=r(v),g=n(393),y=r(g),b=[{name:"x","default":"0",apply:function(e,t){return e.x=t}},{name:"y","default":"0",apply:function(e,t){return e.y=t}},{name:"scale-x","default":"1",apply:function(e,t){return e.scale.x=t}},{name:"scale-y","default":"1",apply:function(e,t){return e.scale.y=t}},{name:"alpha","default":"1",apply:function(e,t){return e.alpha=t}},{name:"width",apply:function(e,t){return e.width=t}},{name:"height",apply:function(e,t){return e.height=t}},{name:"visible",apply:function(e,t){return e.visible=t}}],_=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"compile",value:function(e,t){this._animation=y["default"].compile(e,t),this._bindings=[];var n=!0,r=!1,o=void 0;try{for(var i,s=b[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value,c=t.attr(u.name)||u["default"];if(c){var l=new m["default"](c),f=this._animation.prop(u.name,l);this._bindings.push({getter:f,apply:u.apply})}}}catch(p){r=!0,o=p}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}this.blendMode=a(t.attr("blend")||"normal"),this.ref=t.attr("ref")||null}},{key:"instantiate",value:function(e,t){var n=this,r=t.object,o=[],i=null;r.blendMode=this.blendMode;for(var a=0;a<this._bindings.length;a++){var s=this._bindings[a];o.push([s.getter,s.apply.bind(null,r)])}return this.ref&&(e.ref(this.ref,r),i=function(){return e.unref(n.ref,r)}),new d["default"]({bindings:o,onDestroy:i})}}]),t}(p["default"]);t.DisplayObject=_,t["default"]=_},,function(e,t){/*!
	 * bytes
	 * Copyright(c) 2012-2014 TJ Holowaychuk
	 * Copyright(c) 2015 Jed Watson
	 * MIT Licensed
	 */
"use strict";function n(e,t){return"string"==typeof e?o(e):"number"==typeof e?r(e,t):null}function r(e,t){if("number"!=typeof e)return null;var n=Math.abs(e),r=t&&t.thousandsSeparator||"",o="B",a=e;return n>=i.tb?(a=Math.round(a/i.tb*100)/100,o="TB"):n>=i.gb?(a=Math.round(a/i.gb*100)/100,o="GB"):n>=i.mb?(a=Math.round(a/i.mb*100)/100,o="MB"):n>=i.kb&&(a=Math.round(a/i.kb*100)/100,o="kB"),r&&(a=a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)),a+o}function o(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=e.match(/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e),r="b"),i[r]*t}e.exports=n,e.exports.format=r,e.exports.parse=o;var i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)}},function(e,t){function n(e){var t=4/11,n=8/11,r=.9,o=4356/361,i=35442/1805,a=16061/1805,s=e*e;return t>e?7.5625*s:n>e?9.075*s-9.9*e+3.4:r>e?o*s-i*e+a:10.8*e*e-20.52*e+10.72}e.exports=n},function(e,t,n){function r(e,t,n){if(a.call(this),n=n||{},"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");this.name=e,this.url=t,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":null,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function o(e){return e.toString().replace("object ","")}function i(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}var a=n(58),s=n(91),u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null;r.prototype=Object.create(a.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},r.prototype.load=function(e){switch(this.emit("start",this),e&&this.once("complete",e),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this._loadImage();break;case r.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case r.LOAD_TYPE.VIDEO:this._loadElement("video");break;case r.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},r.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},r.prototype._loadElement=function(e){if(this.data=document.createElement(e),Array.isArray(this.url))for(var t=0;t<this.url.length;++t)this.data.appendChild(this._createSource(e,this.url[t]));else this.data.appendChild(this._createSource(e,this.url));this["is"+e[0].toUpperCase()+e.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},r.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=r.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},r.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){e.send()},0)},r.prototype._createSource=function(e,t,n){n||(n=e+"/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=n,r},r.prototype._onError=function(e){this.error=new Error("Failed to load element using "+e.target.nodeName),this.complete()},r.prototype._onProgress=function(e){e&&e.lengthComputable&&this.emit("progress",this,e.loaded/e.total)},r.prototype._xhrOnError=function(){this.error=new Error(o(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},r.prototype._xhrOnAbort=function(){this.error=new Error(o(this.xhr)+" Request was aborted by the user."),this.complete()},r.prototype._xdrOnTimeout=function(){this.error=new Error(o(this.xhr)+" Request timed out."),this.complete()},r.prototype._xhrOnLoad=function(){var e=this.xhr,t=void 0!==e.status?e.status:200;if(200===t||204===t||0===t&&e.responseText.length>0)if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=e.responseText;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e.responseText),this.isJson=!0}catch(n){this.error=new Error("Error trying to parse loaded json:",n)}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(e.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=e.responseText,this.data=i}this.isXml=!0}catch(n){this.error=new Error("Error trying to parse loaded xml:",n)}else this.data=e.response||e.responseText;else this.error=new Error("["+e.status+"]"+e.statusText+":"+e.responseURL);this.complete()},r.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,c||(c=document.createElement("a")),c.href=e,e=s.parse(c.href);var n=!e.port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&n&&e.protocol===t.protocol?"":"anonymous"},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this._getExtension()]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this._getExtension()]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(){var e,t=this.url;if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?");-1!==r&&(t=t.substring(0,r)),e=t.substring(t.lastIndexOf(".")+1)}return e},r.prototype._getMimeFromXhrType=function(e){switch(e){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT},r.setExtensionLoadType=function(e,t){i(r._loadTypeMap,e,t)},r.setExtensionXhrType=function(e,t){i(r._xhrTypeMap,e,t)}},function(e,t){function n(e,t){this.x=e||0,this.y=t||0}n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(e){this.set(e.x,e.y)},n.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},n.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)}},function(e,t,n){function r(e,t,n,r){this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this.type=o.SHAPES.RECT}var o=n(12);r.prototype.constructor=r,e.exports=r,r.EMPTY=new r(0,0,0,0),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height?!0:!1}},function(e,t){function n(e,t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t}n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},height:{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}}),n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(e,t){this.canvas.width=e,this.canvas.height=t},n.prototype.destroy=function(){this.context=null,this.canvas=null}},function(e,t,n){var r=n(12),o={};e.exports=o,o.renderGraphics=function(e,t){var n=e.worldAlpha;e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1);for(var o=0;o<e.graphicsData.length;o++){var i=e.graphicsData[o],a=i.shape,s=i._fillTint,u=i._lineTint;if(t.lineWidth=i.lineWidth,i.type===r.SHAPES.POLY){t.beginPath();var c=a.points;t.moveTo(c[0],c[1]);for(var l=1;l<c.length/2;l++)t.lineTo(c[2*l],c[2*l+1]);a.closed&&t.lineTo(c[0],c[1]),c[0]===c[c.length-2]&&c[1]===c[c.length-1]&&t.closePath(),i.fill&&(t.globalAlpha=i.fillAlpha*n,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),i.lineWidth&&(t.globalAlpha=i.lineAlpha*n,t.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),t.stroke())}else if(i.type===r.SHAPES.RECT)(i.fillColor||0===i.fillColor)&&(t.globalAlpha=i.fillAlpha*n,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fillRect(a.x,a.y,a.width,a.height)),i.lineWidth&&(t.globalAlpha=i.lineAlpha*n,t.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),t.strokeRect(a.x,a.y,a.width,a.height));else if(i.type===r.SHAPES.CIRC)t.beginPath(),t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath(),i.fill&&(t.globalAlpha=i.fillAlpha*n,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),i.lineWidth&&(t.globalAlpha=i.lineAlpha*n,t.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),t.stroke());else if(i.type===r.SHAPES.ELIP){var f=2*a.width,p=2*a.height,h=a.x-f/2,d=a.y-p/2;t.beginPath();var v=.5522848,m=f/2*v,g=p/2*v,y=h+f,b=d+p,_=h+f/2,w=d+p/2;t.moveTo(h,w),t.bezierCurveTo(h,w-g,_-m,d,_,d),t.bezierCurveTo(_+m,d,y,w-g,y,w),t.bezierCurveTo(y,w+g,_+m,b,_,b),t.bezierCurveTo(_-m,b,h,w+g,h,w),t.closePath(),i.fill&&(t.globalAlpha=i.fillAlpha*n,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),i.lineWidth&&(t.globalAlpha=i.lineAlpha*n,t.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),t.stroke())}else if(i.type===r.SHAPES.RREC){var x=a.x,E=a.y,S=a.width,C=a.height,T=a.radius,O=Math.min(S,C)/2|0;T=T>O?O:T,t.beginPath(),t.moveTo(x,E+T),t.lineTo(x,E+C-T),t.quadraticCurveTo(x,E+C,x+T,E+C),t.lineTo(x+S-T,E+C),t.quadraticCurveTo(x+S,E+C,x+S,E+C-T),t.lineTo(x+S,E+T),t.quadraticCurveTo(x+S,E,x+S-T,E),t.lineTo(x+T,E),t.quadraticCurveTo(x,E,x,E+T),t.closePath(),(i.fillColor||0===i.fillColor)&&(t.globalAlpha=i.fillAlpha*n,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),i.lineWidth&&(t.globalAlpha=i.lineAlpha*n,t.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),t.stroke())}}},o.renderGraphicsMask=function(e,t){var n=e.graphicsData.length;if(0!==n){t.beginPath();for(var o=0;n>o;o++){var i=e.graphicsData[o],a=i.shape;if(i.type===r.SHAPES.POLY){var s=a.points;t.moveTo(s[0],s[1]);for(var u=1;u<s.length/2;u++)t.lineTo(s[2*u],s[2*u+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(i.type===r.SHAPES.RECT)t.rect(a.x,a.y,a.width,a.height),t.closePath();else if(i.type===r.SHAPES.CIRC)t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath();else if(i.type===r.SHAPES.ELIP){var c=2*a.width,l=2*a.height,f=a.x-c/2,p=a.y-l/2,h=.5522848,d=c/2*h,v=l/2*h,m=f+c,g=p+l,y=f+c/2,b=p+l/2;t.moveTo(f,b),t.bezierCurveTo(f,b-v,y-d,p,y,p),t.bezierCurveTo(y+d,p,m,b-v,m,b),t.bezierCurveTo(m,b+v,y+d,g,y,g),t.bezierCurveTo(y-d,g,f,b+v,f,b),t.closePath()}else if(i.type===r.SHAPES.RREC){var _=a.x,w=a.y,x=a.width,E=a.height,S=a.radius,C=Math.min(x,E)/2|0;S=S>C?C:S,t.moveTo(_,w+S),t.lineTo(_,w+E-S),t.quadraticCurveTo(_,w+E,_+S,w+E),t.lineTo(_+x-S,w+E),t.quadraticCurveTo(_+x,w+E,_+x,w+E-S),t.lineTo(_+x,w+S),t.quadraticCurveTo(_+x,w,_+x-S,w),t.lineTo(_+S,w),t.quadraticCurveTo(_,w,_,w+S),t.closePath()}}}},o.updateGraphicsTint=function(e){if(16777215!==e.tint)for(var t=(e.tint>>16&255)/255,n=(e.tint>>8&255)/255,r=(255&e.tint)/255,o=0;o<e.graphicsData.length;o++){var i=e.graphicsData[o],a=0|i.fillColor,s=0|i.lineColor;i._fillTint=((a>>16&255)/255*t*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255,i._lineTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255}}},function(e,t,n){function r(e,t,n){this.shaders=[],this.padding=0,this.uniforms=n||{},this.vertexSrc=e||o.defaultVertexSrc,this.fragmentSrc=t||o.defaultFragmentSrc}var o=n(163);r.prototype.constructor=r,e.exports=r,r.prototype.getShader=function(e){var t=e.gl,n=this.shaders[t.id];return n||(n=new o(e.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[t.id]=n),n},r.prototype.applyFilter=function(e,t,n,r){var o=this.getShader(e);e.filterManager.applyFilter(o,t,n,r)},r.prototype.syncUniform=function(e){for(var t=0,n=this.shaders.length;n>t;++t)this.shaders[t].syncUniform(e)}},function(e,t,n){function r(e,t,n,i,a){var s={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(i)for(var u in i)s[u]=i[u];var c={aVertexPosition:0,aTextureCoord:0,aColor:0};if(a)for(var l in a)c[l]=a[l];t=t||r.defaultVertexSrc,n=n||r.defaultFragmentSrc,o.call(this,e,t,n,s,c)}var o=n(133);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),r.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},function(e,t,n){function r(e,t,n,r,f){if(!e)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");t=t||100,n=n||100,f=f||l.RESOLUTION;var p=new o;if(p.width=t,p.height=n,p.resolution=f,p.scaleMode=r||l.SCALE_MODES.DEFAULT,p.hasLoaded=!0,i.call(this,p,new c.Rectangle(0,0,t,n)),this.width=t,this.height=n,this.resolution=f,this.render=null,this.renderer=e,this.renderer.type===l.RENDERER_TYPE.WEBGL){var h=this.renderer.gl;this.textureBuffer=new a(h,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[h.id]=this.textureBuffer.texture,this.filterManager=new s(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(t,n),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new u(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var o=n(135),i=n(95),a=n(134),s=n(330),u=n(160),c=n(21),l=n(12),f=new c.Matrix;r.prototype=Object.create(i.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.resize=function(e,t,n){(e!==this.width||t!==this.height)&&(this.valid=e>0&&t>0,this.width=this._frame.width=this.crop.width=e,this.height=this._frame.height=this.crop.height=t,n&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},r.prototype.clear=function(){this.valid&&(this.renderer.type===l.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},r.prototype.renderWebGL=function(e,t,n,r){if(this.valid){if(r=void 0!==r?r:!0,//!updateTransform;
this.textureBuffer.transform=t,this.textureBuffer.activate(),e.worldAlpha=1,r){e.worldTransform.identity(),e.currentBounds=null;var o,i,a=e.children;for(o=0,i=a.length;i>o;++o)a[o].updateTransform()}var s=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(e,this.textureBuffer,n),this.renderer.filterManager=s}},r.prototype.renderCanvas=function(e,t,n,r){if(this.valid){r=!!r;var o=e.worldTransform,i=f;i.identity(),t&&i.append(t),e.worldTransform=i,e.worldAlpha=1;var a,s,u=e.children;for(a=0,s=u.length;s>a;++a)u[a].updateTransform();n&&this.textureBuffer.clear(),e.worldTransform=o;var c=this.textureBuffer.context,l=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(e,c),this.renderer.resolution=l}},r.prototype.destroy=function(){i.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},r.prototype.getImage=function(){var e=new Image;return e.src=this.getBase64(),e},r.prototype.getBase64=function(){return this.getCanvas().toDataURL()},r.prototype.getCanvas=function(){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var e=this.renderer.gl,t=this.textureBuffer.size.width,n=this.textureBuffer.size.height,r=new Uint8Array(4*t*n);e.bindFramebuffer(e.FRAMEBUFFER,this.textureBuffer.frameBuffer),e.readPixels(0,0,t,n,e.RGBA,e.UNSIGNED_BYTE,r),e.bindFramebuffer(e.FRAMEBUFFER,null);var o=new u(t,n),i=o.context.getImageData(0,0,t,n);return i.data.set(r),o.context.putImageData(i,0,0),o.canvas}return this.textureBuffer.canvas},r.prototype.getPixels=function(){var e,t;if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var n=this.renderer.gl;e=this.textureBuffer.size.width,t=this.textureBuffer.size.height;var r=new Uint8Array(4*e*t);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(0,0,e,t,n.RGBA,n.UNSIGNED_BYTE,r),n.bindFramebuffer(n.FRAMEBUFFER,null),r}return e=this.textureBuffer.canvas.width,t=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,e,t).data},r.prototype.getPixel=function(e,t){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var n=this.renderer.gl,r=new Uint8Array(4);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(e,t,1,1,n.RGBA,n.UNSIGNED_BYTE,r),n.bindFramebuffer(n.FRAMEBUFFER,null),r}return this.textureBuffer.canvas.getContext("2d").getImageData(e,t,1,1).data}},function(e,t,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
n(571),n(572),n(573),e.exports={MovieClip:n(569),TilingSprite:n(570),BitmapText:n(568)}},function(e,t,n){function r(){o.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n,r){var o=this.getShader(e);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(t.frame.height/t.size.height),1===this.passes)e.filterManager.applyFilter(o,t,n,r);else{for(var i=e.filterManager.getRenderTarget(!0),a=t,s=i,u=0;u<this.passes-1;u++){e.filterManager.applyFilter(o,a,s,!0);var c=s;s=a,a=c}e.filterManager.applyFilter(o,a,n,r),e.filterManager.returnRenderTarget(i)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*Math.abs(e),this.strength=e}}})},function(e,t,n){function r(e,t,n,i,a){o.Container.call(this),this._texture=null,this.uvs=n||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=t||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=i||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=o.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=a||r.DRAW_MODES.TRIANGLE_MESH,this.texture=e}var o=n(4),i=new o.Point,a=new o.Polygon;r.prototype=Object.create(o.Container.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{texture:{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}}),r.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins.mesh),e.plugins.mesh.render(this)},r.prototype._renderCanvas=function(e){var t=e.context,n=this.worldTransform;e.roundPixels?t.setTransform(n.a,n.b,n.c,n.d,0|n.tx,0|n.ty):t.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),this.drawMode===r.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(t):this._renderCanvasTriangles(t)},r.prototype._renderCanvasTriangleMesh=function(e){for(var t=this.vertices,n=this.uvs,r=t.length/2,o=0;r-2>o;o++){var i=2*o;this._renderCanvasDrawTriangle(e,t,n,i,i+2,i+4)}},r.prototype._renderCanvasTriangles=function(e){for(var t=this.vertices,n=this.uvs,r=this.indices,o=r.length,i=0;o>i;i+=3){var a=2*r[i],s=2*r[i+1],u=2*r[i+2];this._renderCanvasDrawTriangle(e,t,n,a,s,u)}},r.prototype._renderCanvasDrawTriangle=function(e,t,n,r,o,i){var a=this._texture.baseTexture.source,s=this._texture.baseTexture.width,u=this._texture.baseTexture.height,c=t[r],l=t[o],f=t[i],p=t[r+1],h=t[o+1],d=t[i+1],v=n[r]*s,m=n[o]*s,g=n[i]*s,y=n[r+1]*u,b=n[o+1]*u,_=n[i+1]*u;if(this.canvasPadding>0){var w=this.canvasPadding/this.worldTransform.a,x=this.canvasPadding/this.worldTransform.d,E=(c+l+f)/3,S=(p+h+d)/3,C=c-E,T=p-S,O=Math.sqrt(C*C+T*T);c=E+C/O*(O+w),p=S+T/O*(O+x),C=l-E,T=h-S,O=Math.sqrt(C*C+T*T),l=E+C/O*(O+w),h=S+T/O*(O+x),C=f-E,T=d-S,O=Math.sqrt(C*C+T*T),f=E+C/O*(O+w),d=S+T/O*(O+x)}e.save(),e.beginPath(),e.moveTo(c,p),e.lineTo(l,h),e.lineTo(f,d),e.closePath(),e.clip();var A=v*b+y*g+m*_-b*g-y*m-v*_,k=c*b+y*f+l*_-b*f-y*l-c*_,j=v*l+c*g+m*f-l*g-c*m-v*f,P=v*b*f+y*l*g+c*m*_-c*b*g-y*m*f-v*l*_,N=p*b+y*d+h*_-b*d-y*h-p*_,M=v*h+p*g+m*d-h*g-p*m-v*d,R=v*b*d+y*h*g+p*m*_-p*b*g-y*m*d-v*h*_;e.transform(k/A,N/A,j/A,M/A,P/A,R/A),e.drawImage(a,0,0),e.restore()},r.prototype.renderMeshFlat=function(e){var t=this.context,n=e.vertices,r=n.length/2;t.beginPath();for(var o=1;r-2>o;o++){var i=2*o,a=n[i],s=n[i+2],u=n[i+4],c=n[i+1],l=n[i+3],f=n[i+5];t.moveTo(a,c),t.lineTo(s,l),t.lineTo(u,f)}t.fillStyle="#FF0000",t.fill(),t.closePath()},r.prototype._onTextureUpdate=function(){this.updateFrame=!0},r.prototype.getBounds=function(e){if(!this._currentBounds){for(var t=e||this.worldTransform,n=t.a,r=t.b,i=t.c,a=t.d,s=t.tx,u=t.ty,c=-(1/0),l=-(1/0),f=1/0,p=1/0,h=this.vertices,d=0,v=h.length;v>d;d+=2){var m=h[d],g=h[d+1],y=n*m+i*g+s,b=a*g+r*m+u;f=f>y?y:f,p=p>b?b:p,c=y>c?y:c,l=b>l?b:l}if(f===-(1/0)||l===1/0)return o.Rectangle.EMPTY;var _=this._bounds;_.x=f,_.width=c-f,_.y=p,_.height=l-p,this._currentBounds=_}return this._currentBounds},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,i);var t,n,o=this.vertices,s=a.points;if(this.drawMode===r.DRAW_MODES.TRIANGLES){var u=this.indices;for(n=this.indices.length,t=0;n>t;t+=3){var c=2*u[t],l=2*u[t+1],f=2*u[t+2];if(s[0]=o[c],s[1]=o[c+1],s[2]=o[l],s[3]=o[l+1],s[4]=o[f],s[5]=o[f+1],a.contains(i.x,i.y))return!0}}else for(n=o.length,t=0;n>t;t+=6)if(s[0]=o[t],s[1]=o[t+1],s[2]=o[t+2],s[3]=o[t+3],s[4]=o[t+4],s[5]=o[t+5],a.contains(i.x,i.y))return!0;return!1},r.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},,,,,function(e,t,n){"use strict";function r(e){return a({"player.P1.mode":e})}function o(e){return"off"===e?r("KB"):a({"player.P1.mode":"BM","player.P1.scratch":e})}Object.defineProperty(t,"__esModule",{value:!0}),t.setMode=r,t.setScratch=o;var i=n(37),a=new i.Action;t.setOptions=a;var s=new i.Action;t.reload=s},function(e,t,n){"use strict";function r(){return window.innerWidth<window.innerHeight?"/skins/default/skin_touch.xml":"/skins/default/skin_screen.xml"}Object.defineProperty(t,"__esModule",{value:!0}),t.getSkinUrl=r;var o=n(428),i=n(427);t.load=o.load,t.Context=i.Context},,function(e,t){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:e.exports={}}).call(t,function(){return this}())},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=f.keys()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[a]=f.get(a)}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(61),s=o(a),u=n(37),c=n(172),l=r(c),f=n(628),p=s["default"].update(i(),l.reload.bus,function(){return i()},l.setOptions.bus,function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;f.set(s,t[s])}}catch(u){r=!0,o=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return Object.assign({},e,t)}),h=p.map(function(e){return e["player.P1.mode"]}),d=p.map(function(e){return"KB"===e["player.P1.mode"]?"off":e["player.P1.scratch"]});t["default"]=new u.Store({options:p,mode:h,scratch:d}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(352),u=r(s),c=n(17),l=r(c),f=n(137),p=r(f),h=function(){function e(){o(this,e),this._controls=new Map,this._plugins=[]}return a(e,[{key:"update",value:function(){var e=new Map,t=!0,n=!1,r=void 0;try{for(var o,a=this._controls[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=i(o.value,2),u=(s[0],s[1]);u.changed=!1}}catch(c){n=!0,r=c}finally{try{!t&&a["return"]&&a["return"]()}finally{if(n)throw r}}var l=!0,f=!1,p=void 0;try{for(var h,d=this._plugins[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var v=h.value,m=!0,g=!1,y=void 0;try{for(var b,_=v.get()[Symbol.iterator]();!(m=(b=_.next()).done);m=!0){var w=i(b.value,2),x=w[0],E=w[1];e.set(x,E)}}catch(c){g=!0,y=c}finally{try{!m&&_["return"]&&_["return"]()}finally{if(g)throw y}}}}catch(c){f=!0,p=c}finally{try{!l&&d["return"]&&d["return"]()}finally{if(f)throw p}}var S=!0,C=!1,T=void 0;try{for(var O,A=e[Symbol.iterator]();!(S=(O=A.next()).done);S=!0){var k=i(O.value,2),j=k[0],E=k[1],u=this.get(j);u.value!==E&&(u.changed=!0,u.value=E)}}catch(c){C=!0,T=c}finally{try{!S&&A["return"]&&A["return"]()}finally{if(C)throw T}}}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._plugins[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i.destroy()}}catch(a){t=!0,n=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}},{key:"get",value:function(e){return this._controls.has(e)||this._controls.set(e,new u["default"]),this._controls.get(e)}},{key:"use",value:function(e){var t={},n="input:"+e.name;this._plugins.push({get:p["default"].wrap(n,function(){var n=e.get(),r=[],o=!0,i=!1,a=void 0;try{for(var s,u=l["default"].union(l["default"].keys(n),l["default"].keys(t))[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=+t[c]||0,p=+n[c]||0;f!==p&&r.push([c,p]),t[c]=p}}catch(h){i=!0,a=h}finally{try{!o&&u["return"]&&u["return"]()}finally{if(i)throw a}}return r}),destroy:function(){return"function"==typeof e.destroy?e.destroy():!0}})}}]),e}();t.GameInput=h,t["default"]=h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o){n(this,e),this._notechart=t,this._number=r,this._options={autosound:!!o.autosound,speed:+o.speed,placement:o.placement||"center",scratch:o.scratch||"left",input:o.input}}return r(e,[{key:"notechart",get:function(){return this._notechart}},{key:"columns",get:function(){return this._notechart.columns}},{key:"number",get:function(){return this._number}},{key:"options",get:function(){return this._options}}]),e}();t.Player=o,t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(234),i=n(391),a=r(i),s=n(613),u=r(s),c=null;t.instance=c,u["default"].PARSE_APP_ID&&u["default"].PARSE_API_KEY?(o.Parse.initialize(u["default"].PARSE_APP_ID,u["default"].PARSE_API_KEY),t.instance=c=new a["default"]):console.warn("Warning: No Parse API keys specified. Online functionalities wilt not work."),t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(529);var o=n(3),i=r(o),a=n(34),s=r(a);t["default"]=i["default"].createClass({displayName:"panel",render:function(){return i["default"].createElement("div",{className:s["default"]("panel",this.props.className)},i["default"].createElement("div",{className:"panel--title"},this.props.title),i["default"].createElement("div",{className:"panel--content"},this.props.children))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(532);var o=n(3),i=r(o),a=i["default"].createClass({displayName:"SceneToolbar",render:function(){return i["default"].createElement("div",{className:"scene-toolbar"},this.props.children)}});t.SceneToolbar=a,a.Spacer=i["default"].createClass({displayName:"Spacer",render:function(){return i["default"].createElement("div",{className:"scene-toolbar--spacer"})}}),t["default"]=a},function(e,t,n){function r(e,t){e.split(/\r\n|\r|\n/).map(function(e){return e.trim()}).forEach(function(e,n){t(e,n+1)})}var o=n(105),i=n(142);t.compile=function(e,t){function n(e,t,n,r){var o=Math.floor(n.length/2);if(0!==o)for(var i=0;o>i;i++){var a=n.substr(2*i,2),u=i/o;"00"!==a&&s.objects.add({measure:e,fraction:u,value:a,channel:t,lineNumber:r})}}function a(e,t){f.warnings.push({lineNumber:e,message:t})}t=t||{};var s=new i,u=t.rng||function(e){return 1+Math.floor(Math.random()*e)},c=[],l=[!1],f={headerSentences:0,channelSentences:0,controlSentences:0,skippedSentences:0,malformedSentences:0,chart:s,warnings:[]};return r(e,function(e,t){var r=!0;if("#"===e.charAt(0)&&(o(e).when(/^#RANDOM\s+(\d+)$/i,function(e){f.controlSentences+=1,c.push(u(+e[1]))}).when(/^#IF\s+(\d+)$/i,function(e){f.controlSentences+=1,l.push(c[c.length-1]!==+e[1])}).when(/^#ENDIF$/i,function(e){f.controlSentences+=1,l.pop()})["else"](function(){r=!1}),!r)){var i=l[l.length-1];o(e).when(/^#(\d\d\d)02:(\S*)$/,function(e){f.channelSentences+=1,i||s.timeSignatures.set(+e[1],+e[2])}).when(/^#(?:EXT\s+#)?(\d\d\d)(\S\S):(\S*)$/,function(e){f.channelSentences+=1,i||n(+e[1],e[2],e[3],t)}).when(/^#(\w+)(?:\s+(\S.*))?$/,function(e){f.headerSentences+=1,i||s.headers.set(e[1],e[2])})["else"](function(){a(t,"Invalid command")})}}),f}},function(e,t,n){var r=n(189),o=n(188),i=n(186),a=(n(187),n(185),[new r,new o.UTF_16BE,new o.UTF_16LE,new i.sjis,new i.euc_kr]);e.exports.detect=function(e){for(var t=[],n=0;256>n;n++)t[n]=0;for(var n=e.length-1;n>=0;n--)t[255&e[n]]++;for(var r=!1,n=128;159>=n;n+=1)if(0!=t[n]){r=!0;break}var o={fByteStats:t,fC1Bytes:r,fRawInput:e,fRawLength:e.length,fInputBytes:e,fInputLen:e.length},i=a.map(function(e){return e.match(o)}).filter(function(e){return!!e}).sort(function(e,t){return e.confidence-t.confidence}).pop();return i?i.name:null}},function(e,t,n){function r(){}var o=n(47),i=n(38);r.prototype.match=function(e){var t,n,r,o,a=0,s=0,u=0,c=e.fInputBytes,l=e.fInputLen;e:for(t=0;l>t;t++){if(27==c[t]){t:for(r=0;r<this.escapeSequences.length;r++){var f=this.escapeSequences[r];if(!(l-t<f.length)){for(n=1;n<f.length;n++)if(f[n]!=c[t+n])continue t;a++,t+=f.length-1;continue e}}s++}(14==c[t]||15==c[t])&&u++}return 0==a?null:(o=(100*a-100*s)/(a+s),5>a+u&&(o-=10*(5-(a+u))),0>=o?null:new i(e,this,o))},e.exports.ISO_2022_JP=function(){this.name=function(){return"ISO-2022-JP"},this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]},o.inherits(e.exports.ISO_2022_JP,r),e.exports.ISO_2022_KR=function(){this.name=function(){return"ISO-2022-KR"},this.escapeSequences=[[27,36,41,67]]},o.inherits(e.exports.ISO_2022_KR,r),e.exports.ISO_2022_CN=function(){this.name=function(){return"ISO-2022-CN"},this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]},o.inherits(e.exports.ISO_2022_CN,r)},function(e,t,n){function r(e,t){function n(e,t,r,o){if(r>o)return-1;var i=Math.floor(r+o>>>1);return t>e[i]?n(e,t,i+1,o):t<e[i]?n(e,t,r,i-1):i}return n(e,t,0,e.length-1)}function o(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1,this.reset=function(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1},this.nextByte=function(e){if(this.nextIndex>=e.fRawLength)return this.done=!0,-1;var t=255&e.fRawInput[this.nextIndex++];return t}}function i(){}function a(e,t){e.index=e.nextIndex,e.error=!1;var n=0,r=0,o=0;return n=e.charValue=e.nextByte(t),0>n?e.done=!0:141>=n||(r=e.nextByte(t),e.charValue=e.charValue<<8|r,n>=161&&254>=n?161>r&&(e.error=!0):142!=n?143==n&&(o=e.nextByte(t),e.charValue=e.charValue<<8|o,161>o&&(e.error=!0)):161>r&&(e.error=!0)),0==e.done}var s=n(47),u=n(38);i.prototype.match=function(e){var t=0,n=0,i=0,a=0,s=0,c=0,l=new o;e:{for(l.reset();this.nextChar(l,e);){if(s++,l.error)a++;else{var f=4294967295&l.charValue;255>=f?t++:(n++,null!=this.commonChars&&r(this.commonChars,f)>=0&&i++)}if(a>=2&&5*a>=n)break e}if(10>=n&&0==a)c=0==n&&10>s?0:10;else if(20*a>n)c=0;else if(null==this.commonChars)c=30+n-20*a,c>100&&(c=100);else{var p=Math.log(parseFloat(n)/4),h=90/p;c=Math.floor(Math.log(i+1)*h+10),c=Math.min(c,100)}}return 0==c?null:new u(e,this,c)},i.prototype.nextChar=function(e,t){},e.exports.sjis=function(){this.name=function(){return"Shift-JIS"},this.language=function(){return"ja"},this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314],this.nextChar=function(e,t){e.index=e.nextIndex,e.error=!1;var n;if(n=e.charValue=e.nextByte(t),0>n)return!1;if(127>=n||n>160&&223>=n)return!0;var r=e.nextByte(t);return 0>r?!1:(e.charValue=n<<8|r,r>=64&&127>=r||r>=128&&255>=r||(e.error=!0),!0)}},s.inherits(e.exports.sjis,i),e.exports.big5=function(){this.name=function(){return"Big5"},this.language=function(){return"zh"},this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271],this.nextChar=function(e,t){e.index=e.nextIndex,e.error=!1;var n=e.charValue=e.nextByte(t);if(0>n)return!1;if(127>=n||255==n)return!0;var r=e.nextByte(t);return 0>r?!1:(e.charValue=e.charValue<<8|r,(64>r||127==r||255==r)&&(e.error=!0),!0)}},s.inherits(e.exports.big5,i),e.exports.euc_jp=function(){this.name=function(){return"EUC-JP"},this.language=function(){return"ja"},this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=a},s.inherits(e.exports.euc_jp,i),e.exports.euc_kr=function(){this.name=function(){return"EUC-KR"},this.language=function(){return"ko"},this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=a},s.inherits(e.exports.euc_kr,i),e.exports.gb_18030=function(){this.name=function(){return"GB18030"},this.language=function(){return"zh"},this.nextChar=function(e,t){e.index=e.nextIndex,e.error=!1;var n=0,r=0,o=0,i=0;e:if(n=e.charValue=e.nextByte(t),0>n)e.done=!0;else if(!(128>=n))if(r=e.nextByte(t),e.charValue=e.charValue<<8|r,n>=129&&254>=n){if(r>=64&&126>=r||r>=80&&254>=r)break e;if(r>=48&&57>=r&&(o=e.nextByte(t),o>=129&&254>=o&&(i=e.nextByte(t),i>=48&&57>=i))){e.charValue=e.charValue<<16|o<<8|i;break e}e.error=!0}else;return 0==e.done},this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]},s.inherits(e.exports.gb_18030,i)},function(e,t,n){function r(e,t){var n=16777215;this.byteIndex=0,this.ngram=0,this.ngramList=e,this.byteMap=t,this.ngramCount=0,this.hitCount=0,this.spaceChar,this.search=function(e,t){var n=0;return e[n+32]<=t&&(n+=32),e[n+16]<=t&&(n+=16),e[n+8]<=t&&(n+=8),e[n+4]<=t&&(n+=4),e[n+2]<=t&&(n+=2),e[n+1]<=t&&(n+=1),e[n]>t&&(n-=1),0>n||e[n]!=t?-1:n},this.lookup=function(e){this.ngramCount+=1,this.search(this.ngramList,e)>=0&&(this.hitCount+=1)},this.addByte=function(e){this.ngram=(this.ngram<<8)+(255&e)&n,this.lookup(this.ngram)},this.nextByte=function(e){return this.byteIndex>=e.fInputLen?-1:255&e.fInputBytes[this.byteIndex++]},this.parse=function(e,t){var n,r=!1;for(this.spaceChar=t;(n=this.nextByte(e))>=0;){var o=this.byteMap[n];0!=o&&(o==this.spaceChar&&r||this.addByte(o),r=o==this.spaceChar)}this.addByte(this.spaceChar);var i=this.hitCount/this.ngramCount;return i>.33?98:Math.floor(300*i)}}function o(e,t){this.fLang=e,this.fNGrams=t}function i(){}var a=n(47),s=n(38);i.prototype.spaceChar=32,i.prototype.ngrams=function(){},i.prototype.byteMap=function(){},i.prototype.match=function(e){var t=this.ngrams(),n=Array.isArray(t)&&t[0]instanceof o;if(!n){var i=new r(t,this.byteMap()),a=i.parse(e,this.spaceChar);return 0>=a?null:new s(e,this,a)}for(var u=-1,c=null,l=t.length-1;l>=0;l--){var f=t[l],i=new r(f.fNGrams,this.byteMap()),a=i.parse(e,this.spaceChar);a>u&&(u=a,c=f.fLang)}var p=this.name(e);return 0>=u?null:new s(e,this,u,p,c)},e.exports.ISO_8859_1=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[new o("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new o("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new o("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new o("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new o("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new o("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new o("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new o("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new o("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new o("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]},this.name=function(e){return e&&e.fC1Bytes?"windows-1252":"ISO-8859-1"}},a.inherits(e.exports.ISO_8859_1,i),e.exports.ISO_8859_2=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[new o("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new o("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new o("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new o("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])];
},this.name=function(e){return e&&e.fC1Bytes?"windows-1250":"ISO-8859-2"}},a.inherits(e.exports.ISO_8859_2,i),e.exports.ISO_8859_5=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]},this.ngrams=function(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]},this.name=function(e){return"ISO-8859-5"},this.language=function(){return"ru"}},a.inherits(e.exports.ISO_8859_5,i),e.exports.ISO_8859_6=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]},this.ngrams=function(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]},this.name=function(e){return"ISO-8859-6"},this.language=function(){return"ar"}},a.inherits(e.exports.ISO_8859_6,i),e.exports.ISO_8859_7=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]},this.name=function(e){return e&&e.fC1Bytes?"windows-1253":"ISO-8859-7"},this.language=function(){return"el"}},a.inherits(e.exports.ISO_8859_7,i),e.exports.ISO_8859_8=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]},this.ngrams=function(){return[new o("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new o("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]},this.name=function(e){return e&&e.fC1Bytes?"windows-1255":"ISO-8859-8"},this.language=function(){return"he"}},a.inherits(e.exports.ISO_8859_8,i),e.exports.ISO_8859_9=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]},this.name=function(e){return e&&e.fC1Bytes?"windows-1254":"ISO-8859-9"},this.language=function(){return"tr"}},a.inherits(e.exports.ISO_8859_9,i),e.exports.windows_1251=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]},this.name=function(e){return"windows-1251"},this.language=function(){return"ru"}},a.inherits(e.exports.windows_1251,i),e.exports.windows_1256=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]},this.ngrams=function(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]},this.name=function(e){return"windows-1256"},this.language=function(){return"ar"}},a.inherits(e.exports.windows_1256,i),e.exports.KOI8_R=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]},this.ngrams=function(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]},this.name=function(e){return"KOI8-R"},this.language=function(){return"ru"}},a.inherits(e.exports.KOI8_R,i)},function(e,t,n){function r(){}var o=n(47),i=n(38);e.exports.UTF_16BE=function(){this.name=function(){return"UTF-16BE"},this.match=function(e){var t=e.fRawInput;return t.length>=2&&254==(255&t[0])&&255==(255&t[1])?new i(e,this,confidence=100):null}},e.exports.UTF_16LE=function(){this.name=function(){return"UTF-16LE"},this.match=function(e){var t=e.fRawInput;return t.length>=2&&255==(255&t[0])&&254==(255&t[1])?t.length>=4&&0==t[2]&&0==t[3]?null:new i(e,this,confidence=100):null}},r.prototype.match=function(e){var t=e.fRawInput,n=e.fRawLength/4*4,r=0,o=0,a=!1,s=0;if(0==n)return null;65279==this.getChar(t,0)&&(a=!0);for(var u=0;n>u;u+=4){var c=this.getChar(t,u);0>c||c>=1114111||c>=55296&&57343>=c?o+=1:r+=1}return a&&0==o?s=100:a&&r>10*o?s=80:r>3&&0==o?s=100:r>0&&0==o?s=80:r>10*o&&(s=25),0==s?null:new i(e,this,s)},e.exports.UTF_32BE=function(){this.name=function(){return"UTF-32BE"},this.getChar=function(e,t){return(255&e[t+0])<<24|(255&e[t+1])<<16|(255&e[t+2])<<8|255&e[t+3]}},o.inherits(e.exports.UTF_32BE,r),e.exports.UTF_32LE=function(){this.name=function(){return"UTF-32LE"},this.getChar=function(e,t){return(255&e[t+3])<<24|(255&e[t+2])<<16|(255&e[t+1])<<8|255&e[t+0]}},o.inherits(e.exports.UTF_32LE,r)},function(e,t,n){var r=n(38);e.exports=function(){this.name=function(){return"UTF-8"},this.match=function(e){var t,n=!1,o=0,i=0,a=e.fRawInput,s=0;e.fRawLength>=3&&239==(255&a[0])&&187==(255&a[1])&&191==(255&a[2])&&(n=!0);for(var u=0;u<e.fRawLength;u++){var c=a[u];if(0!=(128&c)){if(192==(224&c))s=1;else if(224==(240&c))s=2;else if(240==(248&c))s=3;else{if(i++,i>5)break;s=0}for(;u++,!(u>=e.fRawLength);){if(128!=(192&a[u])){i++;break}if(0==--s){o++;break}}}}if(t=0,n&&0==i)t=100;else if(n&&o>10*i)t=80;else if(o>3&&0==i)t=100;else if(o>0&&0==i)t=80;else if(0==o&&0==i)t=10;else{if(!(o>10*i))return null;t=25}return new r(e,this,t)}}},function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){var t=e+"";return e=f(e),function(n){return l(n,e,t)}}function i(e,t){var n=typeof e;if("string"==n&&v.test(e)||"number"==n)return!0;if(p(e))return!1;var r=!d.test(e);return r||null!=t&&e in a(t)}function a(e){return u(e)?e:Object(e)}function s(e,t){return h(e,c(t))}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return i(e)?r(e):o(e)}var l=n(191),f=n(192),p=n(28),h=n(193),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,v=/^\w*$/;e.exports=s},function(e,t){function n(e,t,n){if(null!=e){void 0!==n&&n in r(e)&&(t=[n]);for(var o=0,i=t.length;null!=e&&i>o;)e=e[t[o++]];return o&&o==i?e:void 0}}function r(e){return o(e)?e:Object(e)}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e){return null==e?"":e+""}function o(e){if(i(e))return e;var t=[];return r(e).replace(a,function(e,n,r,o){t.push(r?o.replace(s,"$1"):n||e)}),t}var i=n(28),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=o},function(e,t,n){function r(e,t){var n=-1,r=i(e)?Array(e.length):[];return l(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function o(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&a(h(e))}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&p>=e}function s(e,t,n){var o=f(e)?u:r;return t=c(t,n,3),o(e,t)}var u=n(194),c=n(195),l=n(200),f=n(28),p=9007199254740991,h=o("length");e.exports=s},function(e,t){function n(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){function r(e){return null==e?"":e+""}function o(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:x(e,t,n):null==e?b:"object"==r?s(e):void 0===t?_(e):u(e,t)}function i(e,t,n){if(null!=e){void 0!==n&&n in v(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:void 0}}function a(e,t,n){var r=t.length,o=r,i=!n;if(null==e)return!o;for(e=v(e);r--;){var a=t[r];if(i&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=t[r];var s=a[0],u=e[s],c=a[1];if(i&&a[2]){if(void 0===u&&!(s in e))return!1}else{var l=n?n(u,c,s):void 0;if(!(void 0===l?w(c,u,n,!0):l))return!1}}return!0}function s(e){var t=p(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(void 0!==r||n in v(e))}}return function(e){return a(e,t)}}function u(e,t){var n=E(e),r=h(e)&&d(t),o=e+"";return e=m(e),function(a){if(null==a)return!1;var s=o;if(a=v(a),(n||!r)&&!(s in a)){if(a=1==e.length?a:i(a,f(e,0,-1)),null==a)return!1;s=g(e),a=v(a)}return a[s]===t?void 0!==t||s in a:w(t,a[s],void 0,!0)}}function c(e){return function(t){return null==t?void 0:t[e]}}function l(e){var t=e+"";return e=m(e),function(n){return i(n,e,t)}}function f(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function p(e){for(var t=S(e),n=t.length;n--;)t[n][2]=d(t[n][1]);return t}function h(e,t){var n=typeof e;if("string"==n&&T.test(e)||"number"==n)return!0;if(E(e))return!1;var r=!C.test(e);return r||null!=t&&e in v(t)}function d(e){return e===e&&!y(e)}function v(e){return y(e)?e:Object(e)}function m(e){if(E(e))return e;var t=[];return r(e).replace(O,function(e,n,r,o){t.push(r?o.replace(A,"$1"):n||e)}),t}function g(e){var t=e?e.length:0;return t?e[t-1]:void 0}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return e}function _(e){return h(e)?c(e):l(e)}var w=n(196),x=n(198),E=n(28),S=n(199),C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,T=/^\w*$/,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,A=/\\(\\)?/g;e.exports=o},function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,o,s,u){return e===t?!0:null==e||null==t||!l(e)&&!r(t)?e!==e&&t!==t:a(e,t,i,n,o,s,u)}function a(e,t,n,r,o,i,a){var l=f(e),h=f(t),m=v,g=v;l||(m=C.call(e),m==d?m=_:m!=_&&(l=p(e))),h||(g=C.call(t),g==d?g=_:g!=_&&(h=p(t)));var y=m==_,b=g==_,w=m==g;if(w&&!l&&!y)return u(e,t,m);if(!o){var x=y&&S.call(e,"__wrapped__"),E=b&&S.call(t,"__wrapped__");if(x||E)return n(x?e.value():e,E?t.value():t,r,o,i,a)}if(!w)return!1;i||(i=[]),a||(a=[]);for(var T=i.length;T--;)if(i[T]==e)return a[T]==t;i.push(e),a.push(t);var O=(l?s:c)(e,t,n,r,o,i,a);return i.pop(),a.pop(),O}function s(e,t,n,r,i,a,s){var u=-1,c=e.length,l=t.length;if(c!=l&&!(i&&l>c))return!1;for(;++u<c;){var f=e[u],p=t[u],h=r?r(i?p:f,i?f:p,u):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!o(t,function(e){return f===e||n(f,e,r,i,a,s)}))return!1}else if(f!==p&&!n(f,p,r,i,a,s))return!1}return!0}function u(e,t,n){switch(n){case m:case g:return+e==+t;case y:return e.name==t.name&&e.message==t.message;case b:return e!=+e?t!=+t:e==+t;case w:case x:return e==t+""}return!1}function c(e,t,n,r,o,i,a){var s=h(e),u=s.length,c=h(t),l=c.length;if(u!=l&&!o)return!1;for(var f=u;f--;){var p=s[f];if(!(o?p in t:S.call(t,p)))return!1}for(var d=o;++f<u;){p=s[f];var v=e[p],m=t[p],g=r?r(o?m:v,o?v:m,p):void 0;if(!(void 0===g?n(v,m,r,o,i,a):g))return!1;d||(d="constructor"==p)}if(!d){var y=e.constructor,b=t.constructor;if(y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b))return!1}return!0}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var f=n(28),p=n(197),h=n(66),d="[object Arguments]",v="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",b="[object Number]",_="[object Object]",w="[object RegExp]",x="[object String]",E=Object.prototype,S=E.hasOwnProperty,C=E.toString;e.exports=i},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&P>=e}function o(e){return n(e)&&r(e.length)&&!!A[j.call(e)]}var i="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",d="[object RegExp]",v="[object Set]",m="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",A={};A[b]=A[_]=A[w]=A[x]=A[E]=A[S]=A[C]=A[T]=A[O]=!0,A[i]=A[a]=A[y]=A[s]=A[u]=A[c]=A[l]=A[f]=A[p]=A[h]=A[d]=A[v]=A[m]=A[g]=!1;var k=Object.prototype,j=k.toString,P=9007199254740991;e.exports=o},function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function r(e){return e}e.exports=n},function(e,t,n){function r(e){return o(e)?e:Object(e)}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){e=r(e);for(var t=-1,n=a(e),o=n.length,i=Array(o);++t<o;){var s=n[t];i[t]=[s,e[s]]}return i}var a=n(66);e.exports=i},function(e,t,n){function r(e,t){return h(e,t,l)}function o(e){return function(t){return null==t?void 0:t[e]}}function i(e,t){return function(n,r){var o=n?d(n):0;if(!s(o))return e(n,r);for(var i=t?o:-1,a=u(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function a(e){return function(t,n,r){for(var o=u(t),i=r(t),a=i.length,s=e?a:-1;e?s--:++s<a;){var c=i[s];if(n(o[c],c,o)===!1)break}return t}}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&f>=e}function u(e){return c(e)?e:Object(e)}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=n(66),f=9007199254740991,p=i(r),h=a(),d=o("length");e.exports=p},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function o(e){return i(e)&&p.call(e)==s}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:o(e)?h.test(l.call(e)):n(e)&&u.test(e)}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,f=c.hasOwnProperty,p=c.toString,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&i(f(e))}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function a(e){return n(e)&&o(e)&&u.call(e,"callee")&&!c.call(e,"callee")}var s=Object.prototype,u=s.hasOwnProperty,c=s.propertyIsEnumerable,l=9007199254740991,f=r("length");e.exports=a},function(e,t,n){function r(e,t){for(var n,r=-1,o=e.length,i=-1,a=[];++r<o;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++i]=s)}return a}function o(e,t,n,o){var u=e?e.length:0;return u?(null!=t&&"boolean"!=typeof t&&(o=n,n=s(e,t,o)?void 0:t,t=!1),n=null==n?n:i(n,o,3),t?r(e,n):a(e,n)):[]}var i=n(204),a=n(213),s=n(217);e.exports=o},function(e,t,n){function r(e){return null==e?"":e+""}function o(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:x(e,t,n):null==e?b:"object"==r?s(e):void 0===t?_(e):u(e,t)}function i(e,t,n){if(null!=e){void 0!==n&&n in v(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:void 0}}function a(e,t,n){var r=t.length,o=r,i=!n;if(null==e)return!o;for(e=v(e);r--;){var a=t[r];if(i&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<o;){a=t[r];var s=a[0],u=e[s],c=a[1];if(i&&a[2]){if(void 0===u&&!(s in e))return!1}else{var l=n?n(u,c,s):void 0;if(!(void 0===l?w(c,u,n,!0):l))return!1}}return!0}function s(e){var t=p(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(void 0!==r||n in v(e))}}return function(e){return a(e,t)}}function u(e,t){var n=E(e),r=h(e)&&d(t),o=e+"";return e=m(e),function(a){if(null==a)return!1;var s=o;if(a=v(a),(n||!r)&&!(s in a)){if(a=1==e.length?a:i(a,f(e,0,-1)),null==a)return!1;s=g(e),a=v(a)}return a[s]===t?void 0!==t||s in a:w(t,a[s],void 0,!0)}}function c(e){return function(t){return null==t?void 0:t[e]}}function l(e){var t=e+"";return e=m(e),function(n){return i(n,e,t)}}function f(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function p(e){for(var t=S(e),n=t.length;n--;)t[n][2]=d(t[n][1]);return t}function h(e,t){var n=typeof e;if("string"==n&&T.test(e)||"number"==n)return!0;if(E(e))return!1;var r=!C.test(e);return r||null!=t&&e in v(t)}function d(e){return e===e&&!y(e)}function v(e){return y(e)?e:Object(e)}function m(e){if(E(e))return e;var t=[];return r(e).replace(O,function(e,n,r,o){t.push(r?o.replace(A,"$1"):n||e)}),t}function g(e){var t=e?e.length:0;return t?e[t-1]:void 0}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return e}function _(e){return h(e)?c(e):l(e)}var w=n(205),x=n(209),E=n(46),S=n(210),C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,T=/^\w*$/,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,A=/\\(\\)?/g;e.exports=o},function(e,t,n){function r(e){return!!e&&"object"==typeof e}function o(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,o,s,u){return e===t?!0:null==e||null==t||!l(e)&&!r(t)?e!==e&&t!==t:a(e,t,i,n,o,s,u)}function a(e,t,n,r,o,i,a){var l=f(e),h=f(t),m=v,g=v;l||(m=C.call(e),m==d?m=_:m!=_&&(l=p(e))),h||(g=C.call(t),g==d?g=_:g!=_&&(h=p(t)));var y=m==_,b=g==_,w=m==g;if(w&&!l&&!y)return u(e,t,m);if(!o){var x=y&&S.call(e,"__wrapped__"),E=b&&S.call(t,"__wrapped__");if(x||E)return n(x?e.value():e,E?t.value():t,r,o,i,a)}if(!w)return!1;i||(i=[]),a||(a=[]);for(var T=i.length;T--;)if(i[T]==e)return a[T]==t;i.push(e),a.push(t);var O=(l?s:c)(e,t,n,r,o,i,a);return i.pop(),a.pop(),O}function s(e,t,n,r,i,a,s){var u=-1,c=e.length,l=t.length;if(c!=l&&!(i&&l>c))return!1;for(;++u<c;){var f=e[u],p=t[u],h=r?r(i?p:f,i?f:p,u):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!o(t,function(e){return f===e||n(f,e,r,i,a,s)}))return!1}else if(f!==p&&!n(f,p,r,i,a,s))return!1}return!0}function u(e,t,n){switch(n){case m:case g:return+e==+t;case y:return e.name==t.name&&e.message==t.message;case b:return e!=+e?t!=+t:e==+t;case w:case x:return e==t+""}return!1}function c(e,t,n,r,o,i,a){var s=h(e),u=s.length,c=h(t),l=c.length;if(u!=l&&!o)return!1;for(var f=u;f--;){var p=s[f];if(!(o?p in t:S.call(t,p)))return!1}for(var d=o;++f<u;){p=s[f];var v=e[p],m=t[p],g=r?r(o?m:v,o?v:m,p):void 0;if(!(void 0===g?n(v,m,r,o,i,a):g))return!1;d||(d="constructor"==p)}if(!d){var y=e.constructor,b=t.constructor;if(y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b))return!1}return!0}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var f=n(46),p=n(206),h=n(207),d="[object Arguments]",v="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",b="[object Number]",_="[object Object]",w="[object RegExp]",x="[object String]",E=Object.prototype,S=E.hasOwnProperty,C=E.toString;e.exports=i},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&P>=e}function o(e){return n(e)&&r(e.length)&&!!A[j.call(e)]}var i="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",d="[object RegExp]",v="[object Set]",m="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",A={};A[b]=A[_]=A[w]=A[x]=A[E]=A[S]=A[C]=A[T]=A[O]=!0,A[i]=A[a]=A[y]=A[s]=A[u]=A[c]=A[l]=A[f]=A[p]=A[h]=A[d]=A[v]=A[m]=A[g]=!1;var k=Object.prototype,j=k.toString,P=9007199254740991;e.exports=o},function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(y(e))}function i(e,t){return e="number"==typeof e||h.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function s(e){for(var t=c(e),n=t.length,r=n&&e.length,o=!!r&&a(r)&&(p(e)||f(e)),s=-1,u=[];++s<n;){var l=t[s];(o&&i(l,r)||v.call(e,l))&&u.push(l)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(p(e)||f(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,s=Array(t),c=t>0;++r<t;)s[r]=r+"";for(var l in e)c&&i(l,t)||"constructor"==l&&(o||!v.call(e,l))||s.push(l);return s}var l=n(67),f=n(208),p=n(46),h=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,m=l(Object,"keys"),g=9007199254740991,y=r("length"),b=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?s(e):u(e)?m(e):[]}:s;e.exports=b},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&i(f(e))}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function a(e){return n(e)&&o(e)&&u.call(e,"callee")&&!c.call(e,"callee")}var s=Object.prototype,u=s.hasOwnProperty,c=s.propertyIsEnumerable,l=9007199254740991,f=r("length");e.exports=a},function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}function r(e){return e}e.exports=n;
},function(e,t,n){function r(e){return o(e)?e:Object(e)}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){e=r(e);for(var t=-1,n=a(e),o=n.length,i=Array(o);++t<o;){var s=n[t];i[t]=[s,e[s]]}return i}var a=n(211);e.exports=i},function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(y(e))}function i(e,t){return e="number"==typeof e||h.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function s(e){for(var t=c(e),n=t.length,r=n&&e.length,o=!!r&&a(r)&&(p(e)||f(e)),s=-1,u=[];++s<n;){var l=t[s];(o&&i(l,r)||v.call(e,l))&&u.push(l)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(p(e)||f(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,s=Array(t),c=t>0;++r<t;)s[r]=r+"";for(var l in e)c&&i(l,t)||"constructor"==l&&(o||!v.call(e,l))||s.push(l);return s}var l=n(67),f=n(212),p=n(46),h=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,m=l(Object,"keys"),g=9007199254740991,y=r("length"),b=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?s(e):u(e)?m(e):[]}:s;e.exports=b},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&i(f(e))}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function a(e){return n(e)&&o(e)&&u.call(e,"callee")&&!c.call(e,"callee")}var s=Object.prototype,u=s.hasOwnProperty,c=s.propertyIsEnumerable,l=9007199254740991,f=r("length");e.exports=a},function(e,t,n){function r(e,t){var n=-1,r=o,u=e.length,c=!0,l=c&&u>=s,f=l?a():null,p=[];f?(r=i,c=!1):(l=!1,f=t?[]:p);e:for(;++n<u;){var h=e[n],d=t?t(h,n,e):h;if(c&&h===h){for(var v=f.length;v--;)if(f[v]===d)continue e;t&&f.push(d),p.push(h)}else r(f,d,0)<0&&((t||l)&&f.push(d),p.push(h))}return p}var o=n(214),i=n(215),a=n(216),s=200;e.exports=r},function(e,t){function n(e,t,n){if(t!==t)return r(e,n);for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}function r(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}e.exports=n},function(e,t){function n(e,t){var n=e.data,o="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return o?0:-1}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){(function(t){function r(e){var t=e?e.length:0;for(this.data={hash:c(null),set:new u};t--;)this.push(e[t])}function o(e){var t=this.data;"string"==typeof e||a(e)?t.set.add(e):t.hash[e]=!0}function i(e){return c&&u?new r(e):null}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var s=n(67),u=s(t,"Set"),c=s(Object,"create");r.prototype.push=o,e.exports=i}).call(t,function(){return this}())},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&a(l(e))}function o(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?c:t,e>-1&&e%1==0&&t>e}function i(e,t,n){if(!s(n))return!1;var i=typeof t;if("number"==i?r(n)&&o(t,n.length):"string"==i&&t in n){var a=n[t];return e===e?e===a:a!==a}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=/^\d+$/,c=9007199254740991,l=n("length");e.exports=i},function(e,t,n){function r(e){return o(e,i(e))}var o=n(219),i=n(220);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e[t[n]];return o}e.exports=n},function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(y(e))}function i(e,t){return e="number"==typeof e||h.test(e)?+e:-1,t=null==t?g:t,e>-1&&e%1==0&&t>e}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function s(e){for(var t=c(e),n=t.length,r=n&&e.length,o=!!r&&a(r)&&(p(e)||f(e)),s=-1,u=[];++s<n;){var l=t[s];(o&&i(l,r)||v.call(e,l))&&u.push(l)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(p(e)||f(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,s=Array(t),c=t>0;++r<t;)s[r]=r+"";for(var l in e)c&&i(l,t)||"constructor"==l&&(o||!v.call(e,l))||s.push(l);return s}var l=n(221),f=n(222),p=n(223),h=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,m=l(Object,"keys"),g=9007199254740991,y=r("length"),b=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?s(e):u(e)?m(e):[]}:s;e.exports=b},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function o(e){return i(e)&&p.call(e)==s}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:o(e)?h.test(l.call(e)):n(e)&&u.test(e)}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,f=c.hasOwnProperty,p=c.toString,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&i(f(e))}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function a(e){return n(e)&&o(e)&&u.call(e,"callee")&&!c.call(e,"callee")}var s=Object.prototype,u=s.hasOwnProperty,c=s.propertyIsEnumerable,l=9007199254740991,f=r("length");e.exports=a},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function i(e){return a(e)&&d.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:i(e)?v.test(p.call(e)):n(e)&&l.test(e)}var u="[object Array]",c="[object Function]",l=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,h=f.hasOwnProperty,d=f.toString,v=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=r(Array,"isArray"),g=9007199254740991,y=m||function(e){return n(e)&&o(e.length)&&d.call(e)==u};e.exports=y},function(e,t){e.exports={IIDX_P1:{11:"1",12:"2",13:"3",14:"4",15:"5",18:"6",19:"7",16:"SC"}}},function(e,t,n){function r(e){e.forEach(i.validate),this._notes=e}function o(e,t){this._chart=e,a(t.mapping,"Expected options.mapping"),a("object"==typeof t.mapping,"options.mapping must be object"),this._mapping=t.mapping}var i=n(226),a=n(97);e.exports=r,r.CHANNEL_MAPPING=n(224),r.prototype.count=function(){return this._notes.length},r.prototype.all=function(){return this._notes.slice()},r.fromBMSChart=function(e,t){t=t||{};var n=t.mapping||r.CHANNEL_MAPPING.IIDX_P1,i=new o(e,{mapping:n});return i.build()},o.prototype.build=function(){return this._notes=[],this._activeLN={},this._lastNote={},this._lnObj=(this._chart.headers.get("lnobj")||"").toLowerCase(),this._channelMapping=this._mapping,this._objects=this._chart.objects.allSorted(),this._objects.forEach(function(e){this._handle(e)}.bind(this)),new r(this._notes)},o.prototype._handle=function(e){if("01"===e.channel)this._handleNormalNote(e);else switch(e.channel.charAt(0)){case"1":case"2":this._handleNormalNote(e);break;case"5":case"6":this._handleLongNote(e)}},o.prototype._handleNormalNote=function(e){var t=this._normalizeChannel(e.channel),n=this._getBeat(e);if(e.value.toLowerCase()===this._lnObj)this._lastNote[t]&&(this._lastNote[t].endBeat=n);else{var r={beat:n,endBeat:void 0,keysound:e.value,column:this._getColumn(t)};this._lastNote[t]=r,this._notes.push(r)}},o.prototype._handleLongNote=function(e){var t=this._normalizeChannel(e.channel),n=this._getBeat(e);if(this._activeLN[t]){var r=this._activeLN[t];r.endBeat=n,this._notes.push(r),delete this._activeLN[t]}else this._activeLN[t]={beat:n,keysound:e.value,column:this._getColumn(t)}},o.prototype._getBeat=function(e){return this._chart.measureToBeat(e.measure,e.fraction)},o.prototype._getColumn=function(e){return this._channelMapping[e]},o.prototype._normalizeChannel=function(e){return e.replace(/^5/,"1").replace(/^6/,"2")}},function(e,t,n){var r=n(59);e.exports=new r({beat:Number,endBeat:r.maybe(Number),column:r.maybe(String),keysound:String})},function(e,t,n){var r=n(184);t.read=function(e){throw new Error("Synchronous read unsupported in browser!")},t.readAsync=function(e,t){var n=r.detect(e),o=new FileReader;o.onload=function(){t(null,o.result)},o.onerror=function(){t(new Error("cannot read it"))},o.readAsText(new Blob([e]),n)}},function(e,t,n){function r(){this.title="NO TITLE",this.artist="NO ARTIST",this.genre="NO GENRE",this.subtitles=[],this.subartists=[],this.difficulty=0,this.level=0}var o=n(105);e.exports=r,r.fromBMSChart=function(e){var t=new r,n=e.headers.get("title"),i=e.headers.get("artist"),a=e.headers.get("genre"),s=+e.headers.get("difficulty"),u=+e.headers.get("playlevel"),c=e.headers.getAll("subtitle"),l=e.headers.getAll("subartist");if("string"==typeof n&&!c){var f=function(e){n=e[1],c=[e[2]]};o(n).when(/^(.*\S)\s*-(.+?)-$/,f).when(/^(.*\S)\s*(.+?)$/,f).when(/^(.*\S)\s*\((.+?)\)$/,f).when(/^(.*\S)\s*\[(.+?)\]$/,f).when(/^(.*\S)\s*<(.+?)>$/,f)}return n&&(t.title=n),i&&(t.artist=i),a&&(t.genre=a),c&&(t.subtitles=c),l&&(t.subartists=l),s&&(t.difficulty=s),u&&(t.level=u),t}},function(e,t,n){var r=n(59);e.exports=new r({t:Number,x:Number,dx:Number})},function(e,t,n){function r(e,t){var n={bpm:e,beat:0,seconds:0},r=[];r.push({t:0,x:0,dx:n.bpm/60,bpm:n.bpm,inclusive:!0}),t=t.slice(),t.sort(function(e,t){return e.beat-t.beat||a[e.type]-a[t.type]}),t.forEach(function(e){var t=e.beat,o=n.seconds+60*(t-n.beat)/n.bpm;switch(e.type){case"bpm":n.bpm=e.bpm,r.push({t:o,x:t,dx:n.bpm/60,bpm:n.bpm,inclusive:!0});break;case"stop":r.push({t:o,x:t,dx:0,bpm:n.bpm,inclusive:!0}),o+=60*(e.stopBeats||0)/n.bpm,r.push({t:o,x:t,dx:n.bpm/60,bpm:n.bpm,inclusive:!1});break;default:throw new Error("Unrecognized segment object!")}n.beat=t,n.seconds=o}),this._speedcore=new o(r),this._eventBeats=i.uniq(i.pluck(t,"beat"),!0)}var o=n(62),i=n(63);e.exports=r;var a={bpm:1,stop:2};r.prototype.beatToSeconds=function(e){return this._speedcore.t(e)},r.prototype.secondsToBeat=function(e){return this._speedcore.x(e)},r.prototype.bpmAtBeat=function(e){return this._speedcore.segmentAtX(e).bpm},r.prototype.getEventBeats=function(e){return this._eventBeats},r.fromBMSChart=function(e){var t=[];return e.objects.all().forEach(function(n){var r,o=e.measureToBeat(n.measure,n.fraction);if("03"===n.channel)r=parseInt(n.value,16),t.push({type:"bpm",beat:o,bpm:r});else if("08"===n.channel)r=+e.headers.get("bpm"+n.value),isNaN(r)||t.push({type:"bpm",beat:o,bpm:r});else if("09"===n.channel){var i=e.headers.get("stop"+n.value)/48;t.push({type:"stop",beat:o,stopBeats:i})}}),new r(+e.headers.get("bpm")||60,t)}},,function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(module,exports,__webpack_require__){var require;(function(process){/*!
	 * Parse JavaScript SDK
	 * Version: 1.5.0
	 * Built: Fri Jul 10 2015 17:05:46
	 * http://parse.com
	 *
	 * Copyright 2015 Parse, LLC
	 *
	 * Includes: Underscore.js
	 * Copyright 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
	 * Released under the MIT license.
	 */
!function(e){e.Parse=e.Parse||{},e.Parse.VERSION="js1.5.0"}(this),function(){var e=this,t=e._,n={},r=Array.prototype,o=Object.prototype,i=Function.prototype,a=r.push,s=r.slice,u=r.concat,c=o.toString,l=o.hasOwnProperty,f=r.forEach,p=r.map,h=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,_=Array.isArray,w=Object.keys,x=i.bind,E=function(e){return e instanceof E?e:this instanceof E?void(this._wrapped=e):new E(e)};"undefined"!=typeof module&&module.exports&&(exports=module.exports=E),exports._=E,E.VERSION="1.4.4";var S=E.each=E.forEach=function(e,t,r){if(null!=e)if(f&&e.forEach===f)e.forEach(t,r);else if(e.length===+e.length){for(var o=0,i=e.length;i>o;o++)if(t.call(r,e[o],o,e)===n)return}else for(var a in e)if(E.has(e,a)&&t.call(r,e[a],a,e)===n)return};E.map=E.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(S(e,function(e,o,i){r[r.length]=t.call(n,e,o,i)}),r)};var C="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=E.bind(t,r)),o?e.reduce(t,n):e.reduce(t);if(S(e,function(e,i,a){o?n=t.call(r,n,e,i,a):(n=e,o=!0)}),!o)throw new TypeError(C);return n},E.reduceRight=E.foldr=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=E.bind(t,r)),o?e.reduceRight(t,n):e.reduceRight(t);var i=e.length;if(i!==+i){var a=E.keys(e);i=a.length}if(S(e,function(s,u,c){u=a?a[--i]:--i,o?n=t.call(r,n,e[u],u,c):(n=e[u],o=!0)}),!o)throw new TypeError(C);return n},E.find=E.detect=function(e,t,n){var r;return T(e,function(e,o,i){return t.call(n,e,o,i)?(r=e,!0):void 0}),r},E.filter=E.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(S(e,function(e,o,i){t.call(n,e,o,i)&&(r[r.length]=e)}),r)},E.reject=function(e,t,n){return E.filter(e,function(e,r,o){return!t.call(n,e,r,o)},n)},E.every=E.all=function(e,t,r){t||(t=E.identity);var o=!0;return null==e?o:m&&e.every===m?e.every(t,r):(S(e,function(e,i,a){return(o=o&&t.call(r,e,i,a))?void 0:n}),!!o)};var T=E.some=E.any=function(e,t,r){t||(t=E.identity);var o=!1;return null==e?o:g&&e.some===g?e.some(t,r):(S(e,function(e,i,a){return o||(o=t.call(r,e,i,a))?n:void 0}),!!o)};E.contains=E.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):T(e,function(e){return e===t})},E.invoke=function(e,t){var n=s.call(arguments,2),r=E.isFunction(t);return E.map(e,function(e){return(r?t:e[t]).apply(e,n)})},E.pluck=function(e,t){return E.map(e,function(e){return e[t]})},E.where=function(e,t,n){return E.isEmpty(t)?n?null:[]:E[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},E.findWhere=function(e,t){return E.where(e,t,!0)},E.max=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&E.isEmpty(e))return-(1/0);var r={computed:-(1/0),value:-(1/0)};return S(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a>=r.computed&&(r={value:e,computed:a})}),r.value},E.min=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&E.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return S(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a<r.computed&&(r={value:e,computed:a})}),r.value},E.shuffle=function(e){var t,n=0,r=[];return S(e,function(e){t=E.random(n++),r[n-1]=r[t],r[t]=e}),r};var O=function(e){return E.isFunction(e)?e:function(t){return t[e]}};E.sortBy=function(e,t,n){var r=O(t);return E.pluck(E.map(e,function(e,t,o){return{value:e,index:t,criteria:r.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,n,r){var o={},i=O(t||E.identity);return S(e,function(t,a){var s=i.call(n,t,a,e);r(o,s,t)}),o};E.groupBy=function(e,t,n){return A(e,t,n,function(e,t,n){(E.has(e,t)?e[t]:e[t]=[]).push(n)})},E.countBy=function(e,t,n){return A(e,t,n,function(e,t){E.has(e,t)||(e[t]=0),e[t]++})},E.sortedIndex=function(e,t,n,r){n=null==n?E.identity:O(n);for(var o=n.call(r,t),i=0,a=e.length;a>i;){var s=i+a>>>1;n.call(r,e[s])<o?i=s+1:a=s}return i},E.toArray=function(e){return e?E.isArray(e)?s.call(e):e.length===+e.length?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:e.length===+e.length?e.length:E.keys(e).length},E.first=E.head=E.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},E.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},E.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},E.rest=E.tail=E.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},E.compact=function(e){return E.filter(e,E.identity)};var k=function(e,t,n){return S(e,function(e){E.isArray(e)?t?a.apply(n,e):k(e,t,n):n.push(e)}),n};E.flatten=function(e,t){return k(e,t,[])},E.without=function(e){return E.difference(e,s.call(arguments,1))},E.uniq=E.unique=function(e,t,n,r){E.isFunction(t)&&(r=n,n=t,t=!1);var o=n?E.map(e,n,r):e,i=[],a=[];return S(o,function(n,r){(t?r&&a[a.length-1]===n:E.contains(a,n))||(a.push(n),i.push(e[r]))}),i},E.union=function(){return E.uniq(u.apply(r,arguments))},E.intersection=function(e){var t=s.call(arguments,1);return E.filter(E.uniq(e),function(e){return E.every(t,function(t){return E.indexOf(t,e)>=0})})},E.difference=function(e){var t=u.apply(r,s.call(arguments,1));return E.filter(e,function(e){return!E.contains(t,e)})},E.zip=function(){for(var e=s.call(arguments),t=E.max(E.pluck(e,"length")),n=new Array(t),r=0;t>r;r++)n[r]=E.pluck(e,""+r);return n},E.object=function(e,t){if(null==e)return{};for(var n={},r=0,o=e.length;o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},E.indexOf=function(e,t,n){if(null==e)return-1;var r=0,o=e.length;if(n){if("number"!=typeof n)return r=E.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,o+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;o>r;r++)if(e[r]===t)return r;return-1},E.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=r?n:e.length;o--;)if(e[o]===t)return o;return-1},E.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=0,i=new Array(r);r>o;)i[o++]=e,e+=n;return i},E.bind=function(e,t){if(e.bind===x&&x)return x.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},E.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},E.bindAll=function(e){var t=s.call(arguments,1);return 0===t.length&&(t=E.functions(e)),S(t,function(t){e[t]=E.bind(e[t],e)}),e},E.memoize=function(e,t){var n={};return t||(t=E.identity),function(){var r=t.apply(this,arguments);return E.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},E.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},E.defer=function(e){return E.delay.apply(E,[e,1].concat(s.call(arguments,1)))},E.throttle=function(e,t){var n,r,o,i,a=0,s=function(){a=new Date,o=null,i=e.apply(n,r)};return function(){var u=new Date,c=t-(u-a);return n=this,r=arguments,0>=c?(clearTimeout(o),o=null,a=u,i=e.apply(n,r)):o||(o=setTimeout(s,c)),i}},E.debounce=function(e,t,n){var r,o;return function(){var i=this,a=arguments,s=function(){r=null,n||(o=e.apply(i,a))},u=n&&!r;return clearTimeout(r),r=setTimeout(s,t),u&&(o=e.apply(i,a)),o}},E.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},E.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},E.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},E.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},E.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)E.has(e,n)&&(t[t.length]=n);return t},E.values=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push(e[n]);return t},E.pairs=function(e){var t=[];for(var n in e)E.has(e,n)&&t.push([n,e[n]]);return t},E.invert=function(e){var t={};for(var n in e)E.has(e,n)&&(t[e[n]]=n);return t},E.functions=E.methods=function(e){var t=[];for(var n in e)E.isFunction(e[n])&&t.push(n);return t.sort()},E.extend=function(e){return S(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},E.pick=function(e){var t={},n=u.apply(r,s.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},E.omit=function(e){var t={},n=u.apply(r,s.call(arguments,1));for(var o in e)E.contains(n,o)||(t[o]=e[o]);return t},E.defaults=function(e){return S(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e};var j=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var o=c.call(e);if(o!=c.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var i=n.length;i--;)if(n[i]==e)return r[i]==t;n.push(e),r.push(t);var a=0,s=!0;if("[object Array]"==o){if(a=e.length,s=a==t.length)for(;a--&&(s=j(e[a],t[a],n,r)););}else{var u=e.constructor,l=t.constructor;if(u!==l&&!(E.isFunction(u)&&u instanceof u&&E.isFunction(l)&&l instanceof l))return!1;for(var f in e)if(E.has(e,f)&&(a++,!(s=E.has(t,f)&&j(e[f],t[f],n,r))))break;if(s){for(f in t)if(E.has(t,f)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};E.isEqual=function(e,t){return j(e,t,[],[])},E.isEmpty=function(e){if(null==e)return!0;if(E.isArray(e)||E.isString(e))return 0===e.length;for(var t in e)if(E.has(e,t))return!1;return!0},E.isElement=function(e){return!(!e||1!==e.nodeType)},E.isArray=_||function(e){return"[object Array]"==c.call(e)},E.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){E["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),E.isArguments(arguments)||(E.isArguments=function(e){return!(!e||!E.has(e,"callee"))}),E.isFunction=function(e){return"function"==typeof e},E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&e!=+e},E.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){return l.call(e,t)},E.noConflict=function(){return e._=t,this},E.identity=function(e){return e},E.times=function(e,t,n){for(var r=Array(e),o=0;e>o;o++)r[o]=t.call(n,o);return r},E.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=E.invert(P.escape);var N={escape:new RegExp("["+E.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(P.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(e){E[e]=function(t){return null==t?"":(""+t).replace(N[e],function(t){return P[e][t]})}}),E.result=function(e,t){if(null==e)return null;var n=e[t];return E.isFunction(n)?n.call(e):n},E.mixin=function(e){S(E.functions(e),function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),F.call(this,n.apply(E,e))}})};var M=0;E.uniqueId=function(e){var t=++M+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(e,t,n){var r;n=E.defaults({},n,E.templateSettings);var o=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(t,n,r,o,s){return a+=e.slice(i,s).replace(I,function(e){return"\\"+D[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),i=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return r(t,E);var u=function(e){return r.call(this,e,E)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},E.chain=function(e){return E(e).chain()};var F=function(e){return this._chain?E(e).chain():e};E.mixin(E),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];E.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),S(["concat","join","slice"],function(e){var t=r[e];E.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(e){e.Parse=e.Parse||{};var t=e.Parse;"undefined"!=typeof XMLHttpRequest&&(t.XMLHttpRequest=XMLHttpRequest),"undefined"!=typeof exports&&exports._?(t._=exports._.noConflict(),exports.Parse=t):t._=_.noConflict(),"undefined"!=typeof $&&(t.$=$);var n=function(){},r=function(e,r,o){var i;return i=r&&r.hasOwnProperty("constructor")?r.constructor:function(){e.apply(this,arguments)},t._.extend(i,e),n.prototype=e.prototype,i.prototype=new n,r&&t._.extend(i.prototype,r),o&&t._.extend(i,o),i.prototype.constructor=i,i.__super__=e.prototype,i};t.serverURL="https://api.parse.com","undefined"!=typeof process&&process.versions&&process.versions.node&&(t._isNode=!0),t.initialize=function(e,n,r){if(r)throw"Parse.initialize() was passed a Master Key, which is only allowed from within Node.js.";t._initialize(e,n)},t._initialize=function(e,n,r){t.applicationId=e,t.javaScriptKey=n,t.masterKey=r,t._useMasterKey=!1},t._isNode&&(t.initialize=t._initialize,t.Cloud=t.Cloud||{},t.Cloud.useMasterKey=function(){t._useMasterKey=!0}),t._getParsePath=function(e){if(!t.applicationId)throw"You need to call Parse.initialize before using Parse.";if(e||(e=""),!t._.isString(e))throw"Tried to get a Storage path that wasn't a String.";return"/"===e[0]&&(e=e.substring(1)),"Parse/"+t.applicationId+"/"+e},t._installationId=null,t._getInstallationId=function(){if(t._installationId)return t.Promise.as(t._installationId);var e=t._getParsePath("installationId");return t.Storage.getItemAsync(e).then(function(n){if(t._installationId=n,!t._installationId||""===t._installationId){var r=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t._installationId=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),t.Storage.setItemAsync(e,t._installationId)}return t.Promise.as(t._installationId)})},t._parseDate=function(e){var t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),n=t.exec(e);if(!n)return null;var r=n[1]||0,o=(n[2]||1)-1,i=n[3]||0,a=n[4]||0,s=n[5]||0,u=n[6]||0,c=n[8]||0;return new Date(Date.UTC(r,o,i,a,s,u,c))},t._ajaxIE8=function(e,n,r){var o=new t.Promise,i=new XDomainRequest;return i.onload=function(){var e;try{e=JSON.parse(i.responseText)}catch(t){o.reject(t)}e&&o.resolve(e)},i.onerror=i.ontimeout=function(){var e={responseText:JSON.stringify({code:t.Error.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};o.reject(e)},i.onprogress=function(){},i.open(e,n),i.send(r),o},t._useXDomainRequest=function(){return"undefined"!=typeof XDomainRequest?"withCredentials"in new XMLHttpRequest?!1:!0:!1},t._ajax=function(e,n,r,o,i){var a={success:o,error:i};if(t._useXDomainRequest())return t._ajaxIE8(e,n,r)._thenRunCallbacks(a);var s=new t.Promise,u=0,c=function(){var o=!1,i=new t.XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(o)return;if(o=!0,i.status>=200&&i.status<300){var e;try{e=JSON.parse(i.responseText)}catch(t){s.reject(t)}e&&s.resolve(e,i.status,i)}else if(i.status>=500)if(++u<5){var n=Math.round(125*Math.random()*Math.pow(2,u));setTimeout(c,n)}else s.reject(i);else s.reject(i)}},i.open(e,n,!0),i.setRequestHeader("Content-Type","text/plain"),t._isNode&&i.setRequestHeader("User-Agent","Parse/"+t.VERSION+" (NodeJS "+process.versions.node+")"),i.send(r)};return c(),s._thenRunCallbacks(a)},t._extend=function(e,t){var n=r(this,e,t);return n.extend=this.extend,n},t._request=function(e){var n=e.route,r=e.className,o=e.objectId,i=e.method,a=e.useMasterKey,s=e.sessionToken,u=e.data;if(!t.applicationId)throw"You must specify your applicationId using Parse.initialize.";if(!t.javaScriptKey&&!t.masterKey)throw"You must specify a key using Parse.initialize.";if("batch"!==n&&"classes"!==n&&"events"!==n&&"files"!==n&&"functions"!==n&&"login"!==n&&"logout"!==n&&"push"!==n&&"requestPasswordReset"!==n&&"rest_verify_analytics"!==n&&"users"!==n&&"jobs"!==n&&"config"!==n&&"sessions"!==n&&"upgradeToRevocableSession"!==n)throw"Bad route: '"+n+"'.";var c=t.serverURL;if("/"!==c.charAt(c.length-1)&&(c+="/"),c+="1/"+n,r&&(c+="/"+r),o&&(c+="/"+o),u=t._.clone(u||{}),"POST"!==i&&(u._method=i,i="POST"),t._.isUndefined(a)&&(a=t._useMasterKey),u._ApplicationId=t.applicationId,a){if(!t.masterKey)throw new Error("Cannot use the Master Key, it has not been provided.");u._MasterKey=t.masterKey}else u._JavaScriptKey=t.javaScriptKey;return u._ClientVersion=t.VERSION,t._getInstallationId().then(function(e){return u._InstallationId=e,s?t.Promise.as({_sessionToken:s}):t.User._canUseCurrentUser()?t.User._currentAsync():t.Promise.as(null)}).then(function(e){e&&e._sessionToken&&(u._SessionToken=e._sessionToken),t.User._isRevocableSessionEnabled&&(u._RevocableSession="1");var n=JSON.stringify(u);return t._ajax(i,c,n)}).then(null,function(e){var n;if(e&&e.responseText)try{var r=JSON.parse(e.responseText);n=new t.Error(r.code,r.error)}catch(o){n=new t.Error(t.Error.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else n=new t.Error(t.Error.CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(e));return t.Promise.error(n)})},t._getValue=function(e,n){return e&&e[n]?t._.isFunction(e[n])?e[n]():e[n]:null},t._encode=function(e,n,r){var o=t._;if(e instanceof t.Object){if(r)throw"Parse.Objects not allowed here";if(!n||o.include(n,e)||!e._hasData)return e._toPointer();if(!e.dirty())return n=n.concat(e),t._encode(e._toFullJSON(n),n,r);throw"Tried to save an object with a pointer to a new, unsaved object."}if(e instanceof t.ACL)return e.toJSON();if(o.isDate(e)){if(isNaN(e))throw new Error("Cannot encode invalid Date");return{__type:"Date",iso:e.toJSON()}}if(e instanceof t.GeoPoint)return e.toJSON();if(o.isArray(e))return o.map(e,function(e){return t._encode(e,n,r)});if(o.isRegExp(e))return e.source;if(e instanceof t.Relation)return e.toJSON();if(e instanceof t.Op)return e.toJSON();if(e instanceof t.File){if(!e.url())throw"Tried to save an object containing an unsaved file.";return{__type:"File",name:e.name(),url:e.url()}}if(o.isObject(e)){var i={};return t._objectEach(e,function(e,o){i[o]=t._encode(e,n,r)}),i}return e},t._decode=function(e,n){var r=t._;if(!r.isObject(n))return n;if(r.isArray(n))return t._arrayEach(n,function(e,r){n[r]=t._decode(r,e)}),n;if(n instanceof t.Object)return n;if(n instanceof t.File)return n;if(n instanceof t.Op)return n;if(n.__op)return t.Op._decode(n);if("Pointer"===n.__type&&n.className){var o=t.Object._create(n.className);return o._finishFetch({objectId:n.objectId},!1),o}if("Object"===n.__type&&n.className){var i=n.className;delete n.__type,delete n.className;var a=t.Object._create(i);return a._finishFetch(n,!0),a}if("Date"===n.__type)return t._parseDate(n.iso);if("GeoPoint"===n.__type)return new t.GeoPoint({latitude:n.latitude,longitude:n.longitude});if("ACL"===e)return n instanceof t.ACL?n:new t.ACL(n);if("Relation"===n.__type){var s=new t.Relation(null,e);return s.targetClassName=n.className,s}if("File"===n.__type){var u=new t.File(n.name);return u._url=n.url,u}return t._objectEach(n,function(e,r){n[r]=t._decode(r,e)}),n},t._arrayEach=t._.each,t._traverse=function(e,n,r){if(e instanceof t.Object){if(r=r||[],t._.indexOf(r,e)>=0)return;return r.push(e),t._traverse(e.attributes,n,r),n(e)}return e instanceof t.Relation||e instanceof t.File?n(e):t._.isArray(e)?(t._.each(e,function(o,i){var a=t._traverse(o,n,r);a&&(e[i]=a)}),n(e)):t._.isObject(e)?(t._each(e,function(o,i){var a=t._traverse(o,n,r);a&&(e[i]=a)}),n(e)):n(e)},t._objectEach=t._each=function(e,n){var r=t._;r.isObject(e)?r.each(r.keys(e),function(t){n(e[t],t)}):r.each(e,n)},t._isNullOrUndefined=function(e){return t._.isNull(e)||t._.isUndefined(e)}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,Storage={async:!1},hasLocalStorage="undefined"!=typeof localStorage;if(hasLocalStorage)try{localStorage.setItem("supported",!0),localStorage.removeItem("supported")}catch(e){hasLocalStorage=!1}if(hasLocalStorage)Storage.getItem=function(e){return localStorage.getItem(e)},Storage.setItem=function(e,t){return localStorage.setItem(e,t)},Storage.removeItem=function(e){return localStorage.removeItem(e)},Storage.clear=function(){return localStorage.clear()};else{var AsyncStorage;try{AsyncStorage=eval("require('AsyncStorage')"),Storage.async=!0,Storage.getItemAsync=function(e){var t=new Parse.Promise;return AsyncStorage.getItem(e,function(e,n){e?t.reject(e):t.resolve(n)}),t},Storage.setItemAsync=function(e,t){var n=new Parse.Promise;return AsyncStorage.setItem(e,t,function(e){e?n.reject(e):n.resolve(t)}),n},Storage.removeItemAsync=function(e){var t=new Parse.Promise;return AsyncStorage.removeItem(e,function(e){e?t.reject(e):t.resolve()}),t},Storage.clear=function(){AsyncStorage.clear()}}catch(e){}}if(!Storage.async&&!Storage.getItem){var memMap=Storage.inMemoryMap={};Storage.getItem=function(e){return memMap.hasOwnProperty(e)?memMap[e]:null},Storage.setItem=function(e,t){memMap[e]=String(t)},Storage.removeItem=function(e){delete memMap[e]},Storage.clear=function(){for(var e in memMap)memMap.hasOwnProperty(e)&&delete memMap[e]}}Storage.async||(Storage.getItemAsync=function(e){return Parse.Promise.as(Storage.getItem(e))},Storage.setItemAsync=function(e,t){return Storage.setItem(e,t),Parse.Promise.as(t)},Storage.removeItemAsync=function(e){return Parse.Promise.as(Storage.removeItem(e))}),Parse.Storage=Storage}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Analytics=t.Analytics||{},n.extend(t.Analytics,{track:function(e,r,o){if(e=e||"",e=e.replace(/^\s*/,""),e=e.replace(/\s*$/,""),0===e.length)throw"A name for the custom event must be provided";return n.each(r,function(e,t){if(!n.isString(t)||!n.isString(e))throw'track() dimensions expects keys and values of type "string".'}),o=o||{},t._request({route:"events",className:e,method:"POST",data:{dimensions:r}})._thenRunCallbacks(o)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Config=function(){this.attributes={},this._escapedAttributes={}},t.Config.current=function(){if(t.Config._currentConfig)return t.Config._currentConfig;var e=new t.Config;if(t.Storage.async)return e;var n=t.Storage.getItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY));return n&&(e._finishFetch(JSON.parse(n)),t.Config._currentConfig=e),e},t.Config.get=function(e){e=e||{};var n=t._request({route:"config",method:"GET"});return n.then(function(e){if(!e||!e.params){var n=new t.Error(t.Error.INVALID_JSON,"Config JSON response invalid.");return t.Promise.error(n)}var r=new t.Config;return r._finishFetch(e),t.Config._currentConfig=r,r})._thenRunCallbacks(e)},t.Config.prototype={escape:function(e){var r=this._escapedAttributes[e];if(r)return r;var o,i=this.attributes[e];return o=t._isNullOrUndefined(i)?"":n.escape(i.toString()),this._escapedAttributes[e]=o,o},get:function(e){return this.attributes[e]},_finishFetch:function(e){this.attributes=t._decode(null,n.clone(e.params)),t.Storage.async||t.Storage.setItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY),JSON.stringify(e))}},t.Config._currentConfig=null,t.Config._CURRENT_CONFIG_KEY="currentConfig"}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Error=function(e,t){this.code=e,this.message=t},n.extend(t.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,FILE_DELETE_ERROR:153,REQUEST_LIMIT_EXCEEDED:155,INVALID_EVENT_NAME:160,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,INVALID_SESSION_TOKEN:209,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,AGGREGATE_ERROR:600,FILE_READ_ERROR:601,X_DOMAIN_REQUEST:602})}(this),function(){var e=this,t=e.Parse||(e.Parse={}),n=/\s+/,r=Array.prototype.slice;t.Events={on:function(e,t,r){var o,i,a,s,u;if(!t)return this;for(e=e.split(n),o=this._callbacks||(this._callbacks={}),i=e.shift();i;)u=o[i],a=u?u.tail:{},a.next=s={},a.context=r,a.callback=t,o[i]={tail:s,next:u?u.next:a},i=e.shift();return this},off:function(e,t,r){var o,i,a,s,u,c;if(i=this._callbacks){if(!(e||t||r))return delete this._callbacks,this;for(e=e?e.split(n):Object.keys(i),o=e.shift();o;)if(a=i[o],delete i[o],a&&(t||r)){for(s=a.tail,a=a.next;a!==s;)u=a.callback,c=a.context,(t&&u!==t||r&&c!==r)&&this.on(o,u,c),a=a.next;o=e.shift()}else o=e.shift();return this}},trigger:function(e){var t,o,i,a,s,u,c;if(!(i=this._callbacks))return this;for(u=i.all,e=e.split(n),c=r.call(arguments,1),t=e.shift();t;){if(o=i[t])for(a=o.tail;(o=o.next)!==a;)o.callback.apply(o.context||this,c);if(o=u)for(a=o.tail,s=[t].concat(c);(o=o.next)!==a;)o.callback.apply(o.context||this,s);t=e.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}.call(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.GeoPoint=function(e,r){n.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):n.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):n.isNumber(e)&&n.isNumber(r)?(t.GeoPoint._validate(e,r),this.latitude=e,this.longitude=r):(this.latitude=0,this.longitude=0);var o=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return o._latitude}),this.__defineGetter__("longitude",function(){return o._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,o.longitude),o._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(o.latitude,e),o._longitude=e}))},t.GeoPoint._validate=function(e,t){if(-90>e)throw"Parse.GeoPoint latitude "+e+" < -90.0.";if(e>90)throw"Parse.GeoPoint latitude "+e+" > 90.0.";if(-180>t)throw"Parse.GeoPoint longitude "+t+" < -180.0.";if(t>180)throw"Parse.GeoPoint longitude "+t+" > 180.0."},t.GeoPoint.current=function(e){var n=new t.Promise;return navigator.geolocation.getCurrentPosition(function(e){n.resolve(new t.GeoPoint({latitude:e.coords.latitude,longitude:e.coords.longitude}))},function(e){n.reject(e)}),n._thenRunCallbacks(e)},t.GeoPoint.prototype={toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var t=Math.PI/180,n=this.latitude*t,r=this.longitude*t,o=e.latitude*t,i=e.longitude*t,a=n-o,s=r-i,u=Math.sin(a/2),c=Math.sin(s/2),l=u*u+Math.cos(n)*Math.cos(o)*c*c;return l=Math.min(1,l),2*Math.asin(Math.sqrt(l))},kilometersTo:function(e){return 6371*this.radiansTo(e)},milesTo:function(e){return 3958.8*this.radiansTo(e)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,r="*";t.ACL=function(e){var r=this;if(r.permissionsById={},n.isObject(e))if(e instanceof t.User)r.setReadAccess(e,!0),r.setWriteAccess(e,!0);else{if(n.isFunction(e))throw"Parse.ACL() called with a function.  Did you forget ()?";t._objectEach(e,function(e,o){if(!n.isString(o))throw"Tried to create an ACL with an invalid userId.";r.permissionsById[o]={},t._objectEach(e,function(e,t){if("read"!==t&&"write"!==t)throw"Tried to create an ACL with an invalid permission type.";if(!n.isBoolean(e))throw"Tried to create an ACL with an invalid permission value.";r.permissionsById[o][t]=e})})}},t.ACL.prototype.toJSON=function(){return n.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,r,o){if(r instanceof t.User?r=r.id:r instanceof t.Role&&(r="role:"+r.getName()),!n.isString(r))throw"userId must be a string.";if(!n.isBoolean(o))throw"allowed must be either true or false.";var i=this.permissionsById[r];if(!i){if(!o)return;i={},this.permissionsById[r]=i}o?this.permissionsById[r][e]=!0:(delete i[e],n.isEmpty(i)&&delete i[r])},t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var r=this.permissionsById[n];return r&&r[e]?!0:!1},t.ACL.prototype.setReadAccess=function(e,t){this._setAccess("read",e,t)},t.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)},t.ACL.prototype.setWriteAccess=function(e,t){this._setAccess("write",e,t)},t.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)},t.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess(r,e)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(r)},t.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess(r,e)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(r)},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getReadAccess("role:"+e);throw"role must be a Parse.Role or a String"},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getWriteAccess("role:"+e);throw"role must be a Parse.Role or a String"},t.ACL.prototype.setRoleReadAccess=function(e,r){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return void this.setReadAccess("role:"+e,r);throw"role must be a Parse.Role or a String"},t.ACL.prototype.setRoleWriteAccess=function(e,r){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return void this.setWriteAccess("role:"+e,r);throw"role must be a Parse.Role or a String"}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Op=function(){this._initialize.apply(this,arguments)},t.Op.prototype={_initialize:function(){}},n.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var n=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),n=e._mergeWithPrevious(n)}),n}),t.Op.Set=t.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){
return t._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw"Op is invalid after previous op."}return this},_estimate:function(e){return e?e+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.Add=t.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){return e?e.concat(this.objects()):n.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(void 0,e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var r=n.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var o=n.find(r,function(n){return n instanceof t.Object&&n.id===e.id});if(o){var i=n.indexOf(r,o);r[i]=e}else r.push(e)}else n.contains(r,e)||r.push(e)}),r}return n.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(void 0,e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(n.union(e.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var r=n.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(r=n.reject(r,function(n){return n instanceof t.Object&&n.id===e.id}))}),r}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(void 0,e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,r){this._targetClassName=null;var o=this,i=function(e){if(e instanceof t.Object){if(!e.id)throw"You can't add an unsaved Parse.Object to a relation.";if(o._targetClassName||(o._targetClassName=e.className),o._targetClassName!==e.className)throw"Tried to create a Parse.Relation with 2 different types: "+o._targetClassName+" and "+e.className+".";return e.id}return e};this.relationsToAdd=n.uniq(n.map(e,i)),this.relationsToRemove=n.uniq(n.map(r,i))},added:function(){var e=this;return n.map(this.relationsToAdd,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},removed:function(){var e=this;return n.map(this.relationsToRemove,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},toJSON:function(){var e=null,t=null,r=this,o=function(e){return{__type:"Pointer",className:r._targetClassName,objectId:e}},i=null;return this.relationsToAdd.length>0&&(i=n.map(this.relationsToAdd,o),e={__op:"AddRelation",objects:i}),this.relationsToRemove.length>0&&(i=n.map(this.relationsToRemove,o),t={__op:"RemoveRelation",objects:i}),e&&t?{__op:"Batch",ops:[e,t]}:e||t||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw"You can't modify a relation after deleting it.";if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw"Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.";var r=n.union(n.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),o=n.union(n.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),i=new t.Op.Relation(r,o);return i._targetClassName=this._targetClassName,i}throw"Op is invalid after previous op."}return this},_estimate:function(e,n,r){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw"Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in."}else e.targetClassName=this._targetClassName;return e}throw"Op is invalid after previous op."}var o=new t.Relation(n,r);o.targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(void 0,e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(void 0,e.objects))})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Relation=function(e,t){this.parent=e,this.key=t,this.targetClassName=null},t.Relation.prototype={_ensureParentAndKey:function(e,t){if(this.parent=this.parent||e,this.key=this.key||t,this.parent!==e)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==t)throw"Internal Error. Relation retrieved from two different keys."},add:function(e){n.isArray(e)||(e=[e]);var r=new t.Op.Relation(e,[]);this.parent.set(this.key,r),this.targetClassName=r._targetClassName},remove:function(e){n.isArray(e)||(e=[e]);var r=new t.Op.Relation([],e);this.parent.set(this.key,r),this.targetClassName=r._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,n;return this.targetClassName?(e=t.Object._getSubclass(this.targetClassName),n=new t.Query(e)):(e=t.Object._getSubclass(this.parent.className),n=new t.Query(e),n._extraOptions.redirectClassNameForKey=this.key),n._addCondition("$relatedTo","object",this.parent._toPointer()),n._addCondition("$relatedTo","key",this.key),n}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Promise=function(){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]},n.extend(t.Promise,{_isPromisesAPlusCompliant:!1,is:function(e){return e&&e.then&&n.isFunction(e.then)},as:function(){var e=new t.Promise;return e.resolve.apply(e,arguments),e},error:function(){var e=new t.Promise;return e.reject.apply(e,arguments),e},when:function(e){var n;n=e&&t._isNullOrUndefined(e.length)?arguments:e;var r=n.length,o=!1,i=[],a=[];if(i.length=n.length,a.length=n.length,0===r)return t.Promise.as.apply(this,i);var s=new t.Promise,u=function(){r-=1,0===r&&(o?s.reject(a):s.resolve.apply(s,i))};return t._arrayEach(n,function(e,n){t.Promise.is(e)?e.then(function(e){i[n]=e,u()},function(e){a[n]=e,o=!0,u()}):(i[n]=e,u())}),s},_continueWhile:function(e,n){return e()?n().then(function(){return t.Promise._continueWhile(e,n)}):t.Promise.as()}}),n.extend(t.Promise.prototype,{resolve:function(e){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0,this._result=arguments;var n=arguments;t._arrayEach(this._resolvedCallbacks,function(e){e.apply(this,n)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},reject:function(e){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=e,t._arrayEach(this._rejectedCallbacks,function(t){t(e)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(e,n){var r=new t.Promise,o=function(){var n=arguments;if(e)if(t.Promise._isPromisesAPlusCompliant)try{n=[e.apply(this,n)]}catch(o){n=[t.Promise.error(o)]}else n=[e.apply(this,n)];1===n.length&&t.Promise.is(n[0])?n[0].then(function(){r.resolve.apply(r,arguments)},function(e){r.reject(e)}):r.resolve.apply(r,n)},i=function(e){var o=[];if(n){if(t.Promise._isPromisesAPlusCompliant)try{o=[n(e)]}catch(i){o=[t.Promise.error(i)]}else o=[n(e)];1===o.length&&t.Promise.is(o[0])?o[0].then(function(){r.resolve.apply(r,arguments)},function(e){r.reject(e)}):t.Promise._isPromisesAPlusCompliant?r.resolve.apply(r,o):r.reject(o[0])}else r.reject(e)},a=function(e){e.call()};t.Promise._isPromisesAPlusCompliant&&("undefined"!=typeof window&&window.setTimeout?a=function(e){window.setTimeout(e,0)}:"undefined"!=typeof process&&process.nextTick&&(a=function(e){process.nextTick(e)}));var s=this;return this._resolved?a(function(){o.apply(s,s._result)}):this._rejected?a(function(){i(s._error)}):(this._resolvedCallbacks.push(o),this._rejectedCallbacks.push(i)),r},always:function(e){return this.then(e,e)},done:function(e){return this.then(e)},fail:function(e){return this.then(null,e)},_thenRunCallbacks:function(e,r){var o;if(n.isFunction(e)){var i=e;o={success:function(e){i(e,null)},error:function(e){i(null,e)}}}else o=n.clone(e);return o=o||{},this.then(function(e){return o.success?o.success.apply(this,arguments):r&&r.trigger("sync",r,e,o),t.Promise.as.apply(t.Promise,arguments)},function(e){return o.error?n.isUndefined(r)?o.error(e):o.error(r,e):r&&r.trigger("error",r,e,o),t.Promise.error(e)})},_continueWith:function(e){return this.then(function(){return e(arguments,null)},function(t){return e(null,t)})}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,r=function(e){if(26>e)return String.fromCharCode(65+e);if(52>e)return String.fromCharCode(97+(e-26));if(62>e)return String.fromCharCode(48+(e-52));if(62===e)return"+";if(63===e)return"/";throw"Tried to encode large digit "+e+" in base64."},o=function(e){var t=[];return t.length=Math.ceil(e.length/3),n.times(t.length,function(n){var o=e[3*n],i=e[3*n+1]||0,a=e[3*n+2]||0,s=3*n+1<e.length,u=3*n+2<e.length;t[n]=[r(o>>2&63),r(o<<4&48|i>>4&15),s?r(i<<2&60|a>>6&3):"=",u?r(63&a):"="].join("")}),t.join("")},i=function(e,n){var r=new t.Promise;if("undefined"==typeof FileReader)return t.Promise.error(new t.Error(t.Error.FILE_READ_ERROR,"Attempted to use a FileReader on an unsupported browser."));var o=new FileReader;return o.onloadend=function(){if(2!==o.readyState)return void r.reject(new t.Error(t.Error.FILE_READ_ERROR,"Error reading file."));var e=o.result,i=/^data:([^;]*);base64,(.*)$/.exec(e);return i?void r.resolve(i[2],n||i[1]):void r.reject(new t.Error(t.Error.FILE_READ_ERROR,"Unable to interpret data URL: "+e))},o.readAsDataURL(e),r};t.File=function(e,r,a){this._name=e;var s=/\.([^.]*)$/.exec(e);s&&(s=s[1].toLowerCase());var u=a||"";if(n.isArray(r))this._source=t.Promise.as(o(r),u);else if(r&&r.base64){var c=/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,(\S+)/,l=c.exec(r.base64);l&&l.length>0?this._source=t.Promise.as(4===l.length?l[3]:l[2],l[1]):this._source=t.Promise.as(r.base64,u)}else if("undefined"!=typeof File&&r instanceof File)this._source=i(r,a);else if(n.isString(r))throw"Creating a Parse.File from a String is not yet supported."},t.File.prototype={name:function(){return this._name},url:function(){return this._url},save:function(e){e=e||{};var n=this;return n._previousSave||(n._previousSave=n._source.then(function(r,o){var i={base64:r,_ContentType:o};return t._request({route:"files",className:n._name,method:"POST",data:i,useMasterKey:e.useMasterKey})}).then(function(e){return n._name=e.name,n._url=e.url,n})),n._previousSave._thenRunCallbacks(e)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Object=function(e,r){if(n.isString(e))return t.Object._create.apply(this,arguments);e=e||{},r&&r.parse&&(e=this.parse(e));var o=t._getValue(this,"defaults");if(o&&(e=n.extend({},o,e)),r&&r.collection&&(this.collection=r.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=n.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(e,{silent:!0}))throw new Error("Can't create an invalid Parse.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=n.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,n){return n=n||{},t.Object._deepSaveAsync(e,{useMasterKey:n.useMasterKey,sessionToken:n.sessionToken})._thenRunCallbacks(n)},t.Object.destroyAll=function(e,r){r=r||{};var o=function(e){e.trigger("destroy",e,e.collection,r)},i=[],a=function(e){var a=t.Promise.as();return e.length>0&&(a=a.then(function(){return t._request({route:"batch",method:"POST",useMasterKey:r.useMasterKey,sessionToken:r.sessionToken,data:{requests:n.map(e,function(e){return{method:"DELETE",path:"/1/classes/"+e.className+"/"+e.id}})}})}).then(function(n,a,s){t._arrayEach(e,function(e,a){if(n[a].success&&r.wait)o(e);else if(n[a].error){var s=new t.Error(n[a].error.code,n[a].error.error);s.object=e,i.push(s)}})})),a},s=t.Promise.as(),u=[];return t._arrayEach(e,function(t,n){if(t.id&&r.wait||o(t),t.id&&u.push(t),20===u.length||n+1===e.length){var i=u;u=[],s=s.then(function(){return a(i)})}}),s.then(function(){if(0===i.length)return!0;var e=new t.Error(t.Error.AGGREGATE_ERROR,"Error deleting an object in destroyAll");return e.errors=i,t.Promise.error(e)})._thenRunCallbacks(r)},t.Object.fetchAll=function(e,n){return t.Object._fetchAll(e,!0)._thenRunCallbacks(n)},t.Object.fetchAllIfNeeded=function(e,n){return t.Object._fetchAll(e,!1)._thenRunCallbacks(n)},n.extend(t.Object.prototype,t.Events,{_existed:!1,initialize:function(){},toJSON:function(){var e=this._toFullJSON();return t._arrayEach(["__type","className"],function(t){delete e[t]}),e},_toFullJSON:function(e){var r=n.clone(this.attributes);return t._objectEach(r,function(n,o){r[o]=t._encode(n,e)}),t._objectEach(this._operations,function(e,t){r[t]=e}),n.has(this,"id")&&(r.objectId=this.id),n.has(this,"createdAt")&&(n.isDate(this.createdAt)?r.createdAt=this.createdAt.toJSON():r.createdAt=this.createdAt),n.has(this,"updatedAt")&&(n.isDate(this.updatedAt)?r.updatedAt=this.updatedAt.toJSON():r.updatedAt=this.updatedAt),r.__type="Object",r.className=this.className,r},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(r,o){if(r instanceof t.Object)r._refreshCache();else if(n.isObject(r)){var i=!1;n.isArray(r)&&n.each(r,function(e){e instanceof t.Object&&(i=!0,e._refreshCache())}),!i&&e._resetCacheForKey(o)&&e.set(o,new t.Op.Set(r),{silent:!0})}}),delete e._refreshingCache)},dirty:function(e){this._refreshCache();var t=n.last(this._opSetQueue);return e?t[e]?!0:!1:this.id?n.keys(t).length>0?!0:!1:!0},dirtyKeys:function(){return n.keys(n.last(this._opSetQueue))},_toPointer:function(){if(!this.id)throw new Error("Can't serialize an unsaved Parse.Object");return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){return this.attributes[e]},relation:function(e){var n=this.get(e);if(n){if(!(n instanceof t.Relation))throw"Called relation() on non-relation field "+e;return n._ensureParentAndKey(this,e),n}return new t.Relation(this,e)},escape:function(e){var r=this._escapedAttributes[e];if(r)return r;var o,i=this.attributes[e];return o=t._isNullOrUndefined(i)?"":n.escape(i.toString()),this._escapedAttributes[e]=o,o},has:function(e){return!t._isNullOrUndefined(this.attributes[e])},_mergeMagicFields:function(e){var r=this,o=["id","objectId","createdAt","updatedAt"];t._arrayEach(o,function(o){e[o]&&("objectId"===o?r.id=e[o]:"createdAt"!==o&&"updatedAt"!==o||n.isDate(e[o])?r[o]=e[o]:r[o]=t._parseDate(e[o]),delete e[o])})},_copyServerData:function(e){var n={};t._objectEach(e,function(e,r){n[r]=t._decode(r,e)}),this._serverData=n,this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._rebuildAllEstimatedData()},_mergeFromObject:function(e){e&&(this.id=e.id,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this._copyServerData(e._serverData),this._hasData=!0)},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue);var r=n.first(this._opSetQueue);t._objectEach(e,function(t,n){var o=e[n],i=r[n];o&&i?r[n]=i._mergeWithPrevious(o):o&&(r[n]=o)}),this._saving=this._saving-1},_finishSave:function(e){var r={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(r[e.id]=e)});var o=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue),this._applyOpSet(o,this._serverData),this._mergeMagicFields(e);var i=this;t._objectEach(e,function(e,n){i._serverData[n]=t._decode(n,e);var o=t._traverse(i._serverData[n],function(e){return e instanceof t.Object&&r[e.id]?r[e.id]:void 0});o&&(i._serverData[n]=o)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(e,t){this._opSetQueue=[{}],this._mergeMagicFields(e),this._copyServerData(e),this._hasData=t},_applyOpSet:function(e,n){var r=this;t._objectEach(e,function(e,o){n[o]=e._estimate(n[o],r,o),n[o]===t.Op._UNSET&&delete n[o]})},_resetCacheForKey:function(e){var r=this.attributes[e];if(n.isObject(r)&&!(r instanceof t.Object)&&!(r instanceof t.File)){r=r.toJSON?r.toJSON():r;var o=JSON.stringify(r);if(this._hashedJSON[e]!==o){var i=!!this._hashedJSON[e];return this._hashedJSON[e]=o,i}}return!1},_rebuildEstimatedDataForKey:function(e){var n=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(r){var o=r[e];o&&(n.attributes[e]=o._estimate(n.attributes[e],n,e),n.attributes[e]===t.Op._UNSET?delete n.attributes[e]:n._resetCacheForKey(e))})},_rebuildAllEstimatedData:function(){var e=this,r=n.clone(this.attributes);this.attributes=n.clone(this._serverData),t._arrayEach(this._opSetQueue,function(n){e._applyOpSet(n,e.attributes),t._objectEach(n,function(t,n){e._resetCacheForKey(n)})}),t._objectEach(r,function(t,n){e.attributes[n]!==t&&e.trigger("change:"+n,e,e.attributes[n],{})}),t._objectEach(this.attributes,function(t,o){n.has(r,o)||e.trigger("change:"+o,e,t,{})})},set:function(e,r,o){var i;if(n.isObject(e)||t._isNullOrUndefined(e)?(i=e,t._objectEach(i,function(e,n){i[n]=t._decode(n,e)}),o=r):(i={},i[e]=t._decode(e,r)),o=o||{},!i)return this;i instanceof t.Object&&(i=i.attributes);var a=this;t._objectEach(i,function(e,t){if(a.constructor.readOnlyAttributes&&a.constructor.readOnlyAttributes[t])throw new Error("Cannot modify readonly key: "+t)}),o.unset&&t._objectEach(i,function(e,n){i[n]=new t.Op.Unset});var s=n.clone(i);if(t._objectEach(s,function(e,n){e instanceof t.Op&&(s[n]=e._estimate(a.attributes[n],a,n),s[n]===t.Op._UNSET&&delete s[n])}),!this._validate(i,o))return!1;this._mergeMagicFields(i),o.changes={};var u=this._escapedAttributes;this._previousAttributes||{};return t._arrayEach(n.keys(i),function(e){var r=i[e];r instanceof t.Relation&&(r.parent=a),r instanceof t.Op||(r=new t.Op.Set(r));var s=!0;r instanceof t.Op.Set&&n.isEqual(a.attributes[e],r.value)&&(s=!1),s&&(delete u[e],o.silent?a._silent[e]=!0:o.changes[e]=!0);var c=n.last(a._opSetQueue);c[e]=r._mergeWithPrevious(c[e]),a._rebuildEstimatedDataForKey(e),s?(a.changed[e]=a.attributes[e],o.silent||(a._pending[e]=!0)):(delete a.changed[e],delete a._pending[e])}),o.silent||this.change(o),this},unset:function(e,t){return t=t||{},t.unset=!0,this.set(e,null,t)},increment:function(e,r){return(n.isUndefined(r)||n.isNull(r))&&(r=1),this.set(e,new t.Op.Increment(r))},add:function(e,n){return this.set(e,new t.Op.Add([n]))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique([n]))},remove:function(e,n){return this.set(e,new t.Op.Remove([n]))},op:function(e){return n.last(this._opSetQueue)[e]},clear:function(e){e=e||{},e.unset=!0;var t=n.extend(this.attributes,this._operations);return this.set(t,e)},_getSaveJSON:function(){var e=n.clone(n.first(this._opSetQueue));return t._objectEach(e,function(t,n){e[n]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(e){var n=this;e=e||{};var r=t._request({method:"GET",route:"classes",className:this.className,objectId:this.id,useMasterKey:e.useMasterKey,sessionToken:e.sessionToken});return r.then(function(e,t,r){return n._finishFetch(n.parse(e,t,r),!0),n})._thenRunCallbacks(e,this)},save:function(e,r,o){var i,a,s;if(n.isObject(e)||t._isNullOrUndefined(e)?(i=e,s=r):(i={},i[e]=r,s=o),!s&&i){var u=n.reject(i,function(e,t){return n.include(["success","error","wait"],t)});if(0===u.length){var c=!0;if(n.has(i,"success")&&!n.isFunction(i.success)&&(c=!1),n.has(i,"error")&&!n.isFunction(i.error)&&(c=!1),c)return this.save(null,i)}}s=n.clone(s)||{},s.wait&&(a=n.clone(this.attributes));var l=n.clone(s)||{};l.wait&&(l.silent=!0);var f;if(l.error=function(e,t){f=t},i&&!this.set(i,l))return t.Promise.error(f)._thenRunCallbacks(s,this);var p=this;p._refreshCache();var h=[],d=[];return t.Object._findUnsavedChildren(p.attributes,h,d),h.length+d.length>0?t.Object._deepSaveAsync(this.attributes,{useMasterKey:s.useMasterKey,sessionToken:s.sessionToken}).then(function(){return p.save(null,s)},function(e){return t.Promise.error(e)._thenRunCallbacks(s,p)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||t.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var e=p.id?"PUT":"POST",r=p._getSaveJSON(),o="classes",u=p.className;"_User"!==p.className||p.id||(o="users",u=null);var c=t._request({route:o,className:u,objectId:p.id,method:e,useMasterKey:s.useMasterKey,sessionToken:s.sessionToken,data:r});return c=c.then(function(e,t,r){var o=p.parse(e,t,r);return s.wait&&(o=n.extend(i||{},o)),p._finishSave(o),s.wait&&p.set(a,l),p},function(e){return p._cancelSave(),t.Promise.error(e)})._thenRunCallbacks(s,p)}),this._allPreviousSaves)},destroy:function(e){e=e||{};var n=this,r=function(){n.trigger("destroy",n,n.collection,e)};if(!this.id)return r();e.wait||r();var o=t._request({route:"classes",className:this.className,objectId:this.id,method:"DELETE",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken});return o.then(function(){return e.wait&&r(),n})._thenRunCallbacks(e,this)},parse:function(e,r,o){var i=n.clone(e);return n(["createdAt","updatedAt"]).each(function(e){i[e]&&(i[e]=t._parseDate(i[e]))}),i.updatedAt||(i.updatedAt=i.createdAt),r&&(this._existed=201!==r),i},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var r=this._changing;this._changing=!0;var o=this;t._objectEach(this._silent,function(e){o._pending[e]=!0});var i=n.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(i,function(t,n){o.trigger("change:"+n,o,o.get(n),e)}),r)return this;for(var a=function(e,t){o._pending[t]||o._silent[t]||delete o.changed[t]};!n.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,a),o._previousAttributes=n.clone(this.attributes);return this._changing=!1,this},existed:function(){return this._existed},hasChanged:function(e){return arguments.length?this.changed&&n.has(this.changed,e):!n.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var r={},o=this._previousAttributes;return t._objectEach(e,function(e,t){n.isEqual(o[t],e)||(r[t]=e)}),r},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(e,r){if(n.has(e,"ACL")&&!(e.ACL instanceof t.ACL))return new t.Error(t.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.");var o=!0;return t._objectEach(e,function(e,t){/^[A-Za-z][0-9A-Za-z_]*$/.test(t)||(o=!1)}),o?!1:new t.Error(t.Error.INVALID_KEY_NAME)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validate(e,t);return r?(t&&t.error?t.error(this,r,t):this.trigger("error",this,r,t),!1):!0},getACL:function(){return this.get("ACL")},setACL:function(e,t){return this.set("ACL",e,t)}}),t.Object._getSubclass=function(e){if(!n.isString(e))throw"Parse.Object._getSubclass requires a string argument.";var r=t.Object._classMap[e];return r||(r=t.Object.extend(e),t.Object._classMap[e]=r),r},t.Object._create=function(e,n,r){var o=t.Object._getSubclass(e);return new o(n,r)},t.Object._toObjectIdArray=function(e,n){if(0===e.length)return t.Promise.as(e);for(var r,o=e[0].className,i=[],a=0;a<e.length;a++){var s=e[a];if(o!==s.className)return r=new t.Error(t.Error.INVALID_CLASS_NAME,"All objects should be of the same class"),t.Promise.error(r);if(!s.id)return r=new t.Error(t.Error.MISSING_OBJECT_ID,"All objects must have an ID"),t.Promise.error(r);n&&s._hasData||i.push(s.id)}return t.Promise.as(i)},t.Object._updateWithFetchedResults=function(e,n,r){var o={};t._arrayEach(n,function(e,t){o[e.id]=e});for(var i=0;i<e.length;i++){var a=e[i],s=o[a.id];if(!s&&r){var u=new t.Error(t.Error.OBJECT_NOT_FOUND,"All objects must exist on the server");return t.Promise.error(u)}a._mergeFromObject(s)}return t.Promise.as(e)},t.Object._fetchAll=function(e,n){if(0===e.length)return t.Promise.as(e);var r=!n;return t.Object._toObjectIdArray(e,r).then(function(n){var r=e[0].className,o=new t.Query(r);return o.containedIn("objectId",n),o.limit=n.length,o.find()}).then(function(r){return t.Object._updateWithFetchedResults(e,r,n)})},t.Object._classMap={},t.Object._extend=t._extend,t.Object.extend=function(e,r,o){if(!n.isString(e)){if(e&&n.has(e,"className"))return t.Object.extend(e.className,e,r);throw new Error("Parse.Object.extend's first argument should be the className.")}"User"===e&&t.User._performUserRewrite&&(e="_User"),r=r||{},r.className=e;var i=null;if(n.has(t.Object._classMap,e)){var a=t.Object._classMap[e];i=a._extend(r,o)}else i=this._extend(r,o);return i.extend=function(r){if(n.isString(r)||r&&n.has(r,"className"))return t.Object.extend.apply(i,arguments);var o=[e].concat(t._.toArray(arguments));return t.Object.extend.apply(i,o)},i.createWithoutData=function(e){var t=new i;return t.id=e,t},t.Object._classMap[e]=i,i},t.Object._findUnsavedChildren=function(e,n,r){t._traverse(e,function(e){return e instanceof t.Object?(e._refreshCache(),void(e.dirty()&&n.push(e))):e instanceof t.File?void(e.url()||r.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){if(e instanceof t.Object)return!!e.id;if(e instanceof t.File)return!0;var r=!0;return n.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(r=!1)}):n.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(r=!1)}),r},t.Object._deepSaveAsync=function(e,r){var o=[],i=[];t.Object._findUnsavedChildren(e,o,i);var a=t.Promise.as();n.each(i,function(e){a=a.then(function(){return e.save(r)})});var s=n.uniq(o),u=n.uniq(s);return a.then(function(){return t.Promise._continueWhile(function(){return u.length>0},function(){var e=[],o=[];if(t._arrayEach(u,function(t){return e.length>20?void o.push(t):void(t._canBeSerialized()?e.push(t):o.push(t))}),u=o,0===e.length)return t.Promise.error(new t.Error(t.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."));var i=t.Promise.when(n.map(e,function(e){return e._allPreviousSaves||t.Promise.as()})),a=new t.Promise;return t._arrayEach(e,function(e){e._allPreviousSaves=a}),i._continueWith(function(){return t._request({route:"batch",method:"POST",useMasterKey:r.useMasterKey,sessionToken:r.sessionToken,data:{requests:n.map(e,function(e){var t=e._getSaveJSON(),n="POST",r="/1/classes/"+e.className;return e.id&&(r=r+"/"+e.id,n="PUT"),e._startSave(),{method:n,path:r,body:t}})}}).then(function(n,r,o){var i;return t._arrayEach(e,function(e,t){n[t].success?e._finishSave(e.parse(n[t].success,r,o)):(i=i||n[t].error,e._cancelSave())}),i?t.Promise.error(new t.Error(i.code,i.error)):void 0}).then(function(e){return a.resolve(e),e},function(e){return a.reject(e),t.Promise.error(e)})})})}).then(function(){return e})}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Role=t.Object.extend("_Role",{constructor:function(e,r){n.isString(e)&&r instanceof t.ACL?(t.Object.prototype.constructor.call(this,null,null),this.setName(e),this.setACL(r)):t.Object.prototype.constructor.call(this,e,r)},getName:function(){return this.get("name")},setName:function(e,t){return this.set("name",e,t)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,r){if("name"in e&&e.name!==this.getName()){var o=e.name;if(this.id&&this.id!==e.objectId)return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(o))return new t.Error(t.Error.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return t.Object.prototype.validate?t.Object.prototype.validate.call(this,e,r):!1}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Collection=function(e,t){t=t||{},t.comparator&&(this.comparator=t.comparator),t.model&&(this.model=t.model),t.query&&(this.query=t.query),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})},n.extend(t.Collection.prototype,t.Events,{model:t.Object,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(e,r){var o,i,a,s,u,c,l={},f={};for(r=r||{},e=n.isArray(e)?e.slice():[e],o=0,a=e.length;a>o;o++){if(e[o]=this._prepareModel(e[o],r),s=e[o],!s)throw new Error("Can't add an invalid model to a collection");if(u=s.cid,l[u]||this._byCid[u])throw new Error("Duplicate cid: can't add the same model to a collection twice");if(c=s.id,!t._isNullOrUndefined(c)&&(f[c]||this._byId[c]))throw new Error("Duplicate id: can't add the same model to a collection twice");f[c]=s,l[u]=s}for(o=0;a>o;o++)(s=e[o]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,s.id&&(this._byId[s.id]=s);if(this.length+=a,i=t._isNullOrUndefined(r.at)?this.models.length:r.at,this.models.splice.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0}),r.silent)return this;for(o=0,a=this.models.length;a>o;o++)s=this.models[o],l[s.cid]&&(r.index=o,s.trigger("add",s,this,r));return this},remove:function(e,t){var r,o,i,a;for(t=t||{},e=n.isArray(e)?e.slice():[e],r=0,o=e.length;o>r;r++)a=this.getByCid(e[r])||this.get(e[r]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],i=this.indexOf(a),this.models.splice(i,1),this.length--,t.silent||(t.index=i,a.trigger("remove",a,this,t)),this._removeReference(a));return this},get:function(e){return e&&this._byId[e.id||e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){if(e=e||{},!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=n.bind(this.comparator,this);return 1===this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return n.map(this.models,function(t){return t.get(e)})},reset:function(e,n){
var r=this;return e=e||[],n=n||{},t._arrayEach(this.models,function(e){r._removeReference(e)}),this._reset(),this.add(e,{silent:!0,parse:n.parse}),n.silent||this.trigger("reset",this,n),this},fetch:function(e){e=n.clone(e)||{},void 0===e.parse&&(e.parse=!0);var r=this,o=this.query||new t.Query(this.model);return o.find({useMasterKey:e.useMasterKey,sessionToken:e.sessionToken}).then(function(t){return e.add?r.add(t,e):r.reset(t,e),r})._thenRunCallbacks(e,this)},create:function(e,t){var r=this;if(t=t?n.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||r.add(e,t);var o=t.success;return t.success=function(n,i,a){t.wait&&r.add(n,t),o?o(n,i):n.trigger("sync",e,i,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return n(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,n){if(e instanceof t.Object)e.collection||(e.collection=this);else{var r=e;n.collection=this,e=new this.model(r,n),e._validate(e.attributes,n)||(e=!1)}return e},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&"change:objectId"===e&&(delete this._byId[t.previous("objectId")],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];t._arrayEach(r,function(e){t.Collection.prototype[e]=function(){return n[e].apply(n,[this.models].concat(n.toArray(arguments)))}}),t.Collection.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.View=function(e){this.cid=n.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var r=/^(\S+)\s*(.*)$/,o=["model","collection","el","id","attributes","className","tagName"];n.extend(t.View.prototype,t.Events,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,n,r){var o=document.createElement(e);return n&&t.$(o).attr(n),r&&t.$(o).html(r),o},setElement:function(e,n){return this.$el=t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e=e||t._getValue(this,"events")){this.undelegateEvents();var o=this;t._objectEach(e,function(t,i){if(n.isFunction(t)||(t=o[e[i]]),!t)throw new Error('Event "'+e[i]+'" does not exist');var a=i.match(r),s=a[1],u=a[2];t=n.bind(t,o),s+=".delegateEvents"+o.cid,""===u?o.$el.bind(s,t):o.$el.delegate(u,s,t)})}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=n.extend({},this.options,e));var t=this;n.each(o,function(n){e[n]&&(t[n]=e[n])}),this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=t._getValue(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}}),t.View.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeFromObject:function(e){e.getSessionToken()&&(this._sessionToken=e.getSessionToken()),t.User.__super__._mergeFromObject.call(this,e)},_mergeMagicFields:function(e){e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,n){e[n]||delete e[n]})}},_synchronizeAllAuthData:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(e,t){n._synchronizeAuthData(t)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var r;n.isString(e)?(r=e,e=t.User._authProviders[r]):r=e.getAuthType();var o=this.get("authData");if(o&&e){var i=e.restoreAuthentication(o[r]);i||this._unlinkFrom(e)}}},_handleSaveResult:function(e){e&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(e||this.isCurrent())&&t.User._saveCurrentUser(this)},_linkWith:function(e,r){var o;if(n.isString(e)?(o=e,e=t.User._authProviders[e]):o=e.getAuthType(),n.has(r,"authData")){var i=this.get("authData")||{};i[o]=r.authData,this.set("authData",i);var a=n.clone(r)||{};return a.success=function(e){e._handleSaveResult(!0),r.success&&r.success.apply(this,arguments)},this.save({authData:i},a)}var s=this,u=new t.Promise;return e.authenticate({success:function(e,t){s._linkWith(e,{authData:t,success:r.success,error:r.error}).then(function(){u.resolve(s)})},error:function(e,t){r.error&&r.error(s,t),u.reject(t)}}),u},_unlinkFrom:function(e,r){var o;n.isString(e)?(o=e,e=t.User._authProviders[e]):o=e.getAuthType();var i=n.clone(r),a=this;return i.authData=null,i.success=function(t){a._synchronizeAuthData(e),r.success&&r.success.apply(this,arguments)},this._linkWith(e,i)},_isLinked:function(e){var t;t=n.isString(e)?e:e.getAuthType();var r=this.get("authData")||{};return!!r[t]},_logOutWithAll:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(e,t){n._logOutWith(t)})}},_logOutWith:function(e){this.isCurrent()&&(n.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(e,r){var o;r=r||{};var i=e&&e.username||this.get("username");if(!i||""===i)return o=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty name."),r&&r.error&&r.error(this,o),t.Promise.error(o);var a=e&&e.password||this.get("password");if(!a||""===a)return o=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty password."),r&&r.error&&r.error(this,o),t.Promise.error(o);var s=n.clone(r);return s.success=function(e){e._handleSaveResult(t.User._canUseCurrentUser()),r.success&&r.success.apply(this,arguments)},this.save(e,s)},logIn:function(e){if(!t.User._canUseCurrentUser())throw new Error("It is not possible to log in on a server environment.");var n=this;e=e||{};var r=t._request({route:"login",method:"GET",useMasterKey:e.useMasterKey,data:this.toJSON()});return r.then(function(e,t,r){var o=n.parse(e,t,r);return n._finishFetch(o),n._handleSaveResult(!0),n})._thenRunCallbacks(e,this)},save:function(e,r,o){var i,a;n.isObject(e)||n.isNull(e)||n.isUndefined(e)?(i=e,a=r):(i={},i[e]=r,a=o),a=a||{};var s=n.clone(a);return s.success=function(e){e._handleSaveResult(!1),a.success&&a.success.apply(this,arguments)},t.Object.prototype.save.call(this,i,s)},fetch:function(e){var r=e?n.clone(e):{};return r.success=function(t){t._handleSaveResult(!1),e&&e.success&&e.success.apply(this,arguments)},t.Object.prototype.fetch.call(this,r)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(e,t){return this.set("username",e,t)},setPassword:function(e,t){return this.set("password",e,t)},getEmail:function(){return this.get("email")},setEmail:function(e,t){return this.set("email",e,t)},authenticated:function(){return!!this._sessionToken&&t.User.current()&&t.User.current().id===this.id},getSessionToken:function(){return this._sessionToken},_upgradeToRevocableSession:function(e){if(e=e||{},!t.User.current())return t.Promise.as()._thenRunCallbacks(e);var n=t.User.current().getSessionToken();return t.Session._isRevocable(n)?t.Promise.as()._thenRunCallbacks(e):t._request({route:"upgradeToRevocableSession",method:"POST",useMasterKey:e.useMasterKey,sessionToken:n}).then(function(e){var n=new t.Session;n._finishFetch(e);var r=t.User.current();r._sessionToken=n.getSessionToken(),t.User._saveCurrentUser(r)})._thenRunCallbacks(e)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},_performUserRewrite:!0,_isRevocableSessionEnabled:!1,_enableUnsafeCurrentUser:!1,signUp:function(e,n,r,o){r=r||{},r.username=e,r.password=n;var i=t.Object._create("_User");return i.signUp(r,o)},logIn:function(e,n,r){var o=t.Object._create("_User");return o._finishFetch({username:e,password:n}),o.logIn(r)},become:function(e,n){if(!t.User._canUseCurrentUser())throw new Error("It is not secure to become a user on a node.js server environment.");n=n||{};var r=t.Object._create("_User");return t._request({route:"users",className:"me",method:"GET",useMasterKey:n.useMasterKey,sessionToken:e}).then(function(e,t,n){var o=r.parse(e,t,n);return r._finishFetch(o),r._handleSaveResult(!0),r})._thenRunCallbacks(n,r)},logOut:function(){if(!t.User._canUseCurrentUser())throw new Error("There is no current user user on a node.js server environment.");return t.User._currentAsync().then(function(e){var n=t.Storage.removeItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY));if(null!==e){var r=e.getSessionToken();t.Session._isRevocable(r)&&n.then(function(){return t._request({route:"logout",method:"POST",sessionToken:r})}),e._logOutWithAll(),e._isCurrentUser=!1}return t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,n})},requestPasswordReset:function(e,n){n=n||{};var r=t._request({route:"requestPasswordReset",method:"POST",useMasterKey:n.useMasterKey,data:{email:e}});return r._thenRunCallbacks(n)},current:function(){if(!t.User._canUseCurrentUser())throw new Error("There is no current user user on a node.js server environment.");if(t.Storage.async)return t.User._currentAsync(),t.User._currentUser;if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.Storage.getItem(t._getParsePath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_currentAsync:function(){return t.User._currentUser?t.Promise.as(t.User._currentUser):t.User._currentUserMatchesDisk?t.Promise.as(t.User._currentUser):t.Storage.getItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},allowCustomUserClass:function(e){this._performUserRewrite=!e},enableRevocableSession:function(e){return e=e||{},t.User._isRevocableSessionEnabled=!0,t.User._canUseCurrentUser()&&t.User.current()?t.User.current()._upgradeToRevocableSession(e):t.Promise.as()._thenRunCallbacks(e)},enableUnsafeCurrentUser:function(){t.User._enableUnsafeCurrentUser=!0},_canUseCurrentUser:function(){return!t._isNode||t.User._enableUnsafeCurrentUser},_saveCurrentUser:function(e){null!==t.User._currentUser&&t.User._currentUser!==e&&t.User.logOut(),e._isCurrentUser=!0,t.User._currentUser=e,t.User._currentUserMatchesDisk=!0;var n=e.toJSON();n._id=e.id,n._sessionToken=e._sessionToken,t.Storage.async?t.Storage.setItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(n)):t.Storage.setItem(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(n))},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n){var r=t.Object._create("_User");return r._linkWith(e,n)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Session=t.Object.extend("_Session",{getSessionToken:function(){return this._sessionToken},_mergeMagicFields:function(e){e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.Session.__super__._mergeMagicFields.call(this,e)}},{readOnlyAttributes:{createdWith:!0,expiresAt:!0,installationId:!0,restricted:!0,sessionToken:!0,user:!0},current:function(e){e=e||{};var n=t.Object._create("_Session"),r=t.User.current().getSessionToken();return t._request({route:"sessions",className:"me",method:"GET",useMasterKey:e.useMasterKey,sessionToken:r}).then(function(e,t,r){var o=n.parse(e,t,r);return n._finishFetch(o),n})._thenRunCallbacks(e,n)},_isRevocable:function(e){return e.indexOf("r:")>-1},isCurrentSessionRevocable:function(){return null!==t.User.current()?t.Session._isRevocable(t.User.current().getSessionToken()):void 0}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Query=function(e){n.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},t.Query.or=function(){var e=n.toArray(arguments),r=null;t._arrayEach(e,function(e){if(n.isNull(r)&&(r=e.className),r!==e.className)throw"All queries must be for the same class"});var o=new t.Query(r);return o._orQuery(e),o},t.Query.prototype={get:function(e,r){var o=this;o.equalTo("objectId",e);var i={};return r&&n.has(r,"useMasterKey")&&(i={useMasterKey:r.useMasterKey}),r&&n.has(r,"sessionToken")&&(i.sessionToken=r.sessionToken),o.first(i).then(function(e){if(e)return e;var n=new t.Error(t.Error.OBJECT_NOT_FOUND,"Object not found.");return t.Promise.error(n)})._thenRunCallbacks(r,null)},toJSON:function(){var e={where:this._where};return this._include.length>0&&(e.include=this._include.join(",")),this._select&&(e.keys=this._select.join(",")),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order.join(",")),t._objectEach(this._extraOptions,function(t,n){e[n]=t}),e},find:function(e){var r=this;e=e||{};var o=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken,data:this.toJSON()});return o.then(function(e){return n.map(e.results,function(n){var o;return o=e.className?new t.Object(e.className):new r.objectClass,o._finishFetch(n,!0),o})})._thenRunCallbacks(e)},count:function(e){var n=this;e=e||{};var r=this.toJSON();r.limit=0,r.count=1;var o=t._request({route:"classes",className:n.className,method:"GET",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken,data:r});return o.then(function(e){return e.count})._thenRunCallbacks(e)},first:function(e){var r=this;e=e||{};var o=this.toJSON();o.limit=1;var i=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,sessionToken:e.sessionToken,data:o});return i.then(function(e){return n.map(e.results,function(n){var o;return o=e.className?new t.Object(e.className):new r.objectClass,o._finishFetch(n,!0),o})[0]})._thenRunCallbacks(e)},collection:function(e,r){return r=r||{},new t.Collection(e,n.extend(r,{model:this.objectClass,query:this}))},skip:function(e){return this._skip=e,this},limit:function(e){return this._limit=e,this},equalTo:function(e,r){return n.isUndefined(r)?this.doesNotExist(e):(this._where[e]=t._encode(r),this)},_addCondition:function(e,n,r){return this._where[e]||(this._where[e]={}),this._where[e][n]=t._encode(r),this},notEqualTo:function(e,t){return this._addCondition(e,"$ne",t),this},lessThan:function(e,t){return this._addCondition(e,"$lt",t),this},greaterThan:function(e,t){return this._addCondition(e,"$gt",t),this},lessThanOrEqualTo:function(e,t){return this._addCondition(e,"$lte",t),this},greaterThanOrEqualTo:function(e,t){return this._addCondition(e,"$gte",t),this},containedIn:function(e,t){return this._addCondition(e,"$in",t),this},notContainedIn:function(e,t){return this._addCondition(e,"$nin",t),this},containsAll:function(e,t){return this._addCondition(e,"$all",t),this},exists:function(e){return this._addCondition(e,"$exists",!0),this},doesNotExist:function(e){return this._addCondition(e,"$exists",!1),this},matches:function(e,t,n){return this._addCondition(e,"$regex",t),n||(n=""),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n&&n.length&&this._addCondition(e,"$options",n),this},matchesQuery:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$inQuery",n),this},doesNotMatchQuery:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$notInQuery",n),this},matchesKeyInQuery:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$select",{key:t,query:r}),this},doesNotMatchKeyInQuery:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$dontSelect",{key:t,query:r}),this},_orQuery:function(e){var t=n.map(e,function(e){return e.toJSON().where});return this._where.$or=t,this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,t){return this._addCondition(e,"$regex",this._quote(t)),this},startsWith:function(e,t){return this._addCondition(e,"$regex","^"+this._quote(t)),this},endsWith:function(e,t){return this._addCondition(e,"$regex",this._quote(t)+"$"),this},ascending:function(){return this._order=[],this.addAscending.apply(this,arguments)},addAscending:function(e){var n=this;return this._order||(this._order=[]),t._arrayEach(arguments,function(e){Array.isArray(e)&&(e=e.join()),n._order=n._order.concat(e.replace(/\s/g,"").split(","))}),this},descending:function(e){return this._order=[],this.addDescending.apply(this,arguments)},addDescending:function(e){var r=this;return this._order||(this._order=[]),t._arrayEach(arguments,function(e){Array.isArray(e)&&(e=e.join()),r._order=r._order.concat(n.map(e.replace(/\s/g,"").split(","),function(e){return"-"+e}))}),this},near:function(e,n){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$nearSphere",n),this},withinRadians:function(e,t,n){return this.near(e,t),this._addCondition(e,"$maxDistance",n),this},withinMiles:function(e,t,n){return this.withinRadians(e,t,n/3958.8)},withinKilometers:function(e,t,n){return this.withinRadians(e,t,n/6371)},withinGeoBox:function(e,n,r){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),r instanceof t.GeoPoint||(r=new t.GeoPoint(r)),this._addCondition(e,"$within",{$box:[n,r]}),this},include:function(){var e=this;return t._arrayEach(arguments,function(t){n.isArray(t)?e._include=e._include.concat(t):e._include.push(t)}),this},select:function(){var e=this;return this._select=this._select||[],t._arrayEach(arguments,function(t){n.isArray(t)?e._select=e._select.concat(t):e._select.push(t)}),this},each:function(e,r){if(r=r||{},this._order||this._skip||this._limit>=0){var o="Cannot iterate on a query with sort, skip, or limit.";return t.Promise.error(o)._thenRunCallbacks(r)}var i=(new t.Promise,new t.Query(this.objectClass));i._limit=r.batchSize||100,i._where=n.clone(this._where),i._include=n.clone(this._include),this._select&&(i._select=n.clone(this._select)),i.ascending("objectId");var a={};n.has(r,"useMasterKey")&&(a.useMasterKey=r.useMasterKey),n.has(r,"sessionToken")&&(a.sessionToken=r.sessionToken);var s=!1;return t.Promise._continueWhile(function(){return!s},function(){return i.find(a).then(function(n){var r=t.Promise.as();return t._.each(n,function(t){r=r.then(function(){return e(t)})}),r.then(function(){n.length>=i._limit?i.greaterThan("objectId",n[n.length-1].id):s=!0})})})._thenRunCallbacks(r)}}}(this),function(e){e.Parse=e.Parse||{};var t,n,r=e.Parse,o=r._,i=!1,a={authenticate:function(e){var n=this;FB.login(function(t){t.authResponse?e.success&&e.success(n,{id:t.authResponse.userID,access_token:t.authResponse.accessToken,expiration_date:new Date(1e3*t.authResponse.expiresIn+(new Date).getTime()).toJSON()}):e.error&&e.error(n,t)},{scope:t})},restoreAuthentication:function(e){if(e){var t={userID:e.id,accessToken:e.access_token,expiresIn:(r._parseDate(e.expiration_date).getTime()-(new Date).getTime())/1e3},i=o.clone(n);i.authResponse=t,i.status=!1;var a=FB.getAuthResponse();a&&a.userID!==t.userID&&FB.logout(),FB.init(i)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}};r.FacebookUtils={init:function(e){if("undefined"==typeof FB)throw"The Facebook JavaScript SDK must be loaded before calling init.";if(n=o.clone(e)||{},n.status&&"undefined"!=typeof console){var t=console.warn||console.log||function(){};t.call(console,"The 'status' flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.")}n.status=!1,FB.init(n),r.User._registerAuthenticationProvider(a),i=!0},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,n){if(!e||o.isString(e)){if(!i)throw"You must initialize FacebookUtils before calling logIn.";return t=e,r.User._logInWith("facebook",n)}var a=o.clone(n)||{};return a.authData=e,r.User._logInWith("facebook",a)},link:function(e,n,r){if(!n||o.isString(n)){if(!i)throw"You must initialize FacebookUtils before calling link.";return t=n,e._linkWith("facebook",r)}var a=o.clone(r)||{};return a.authData=n,e._linkWith("facebook",a)},unlink:function(e,t){if(!i)throw"You must initialize FacebookUtils before calling unlink.";return e._unlinkFrom("facebook",t)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl")};var r=/^[#\/]/,o=/msie [\w.]+/;t.History.started=!1,n.extend(t.History.prototype,t.Events,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,n){if(t._isNullOrUndefined(e))if(this._hasPushState||n){e=window.location.pathname;var o=window.location.search;o&&(e+=o)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(r,"")},start:function(e){if(t.History.started)throw new Error("Parse.history has already been started");t.History.started=!0,this.options=n.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var i=this.getFragment(),a=document.documentMode,s=o.exec(navigator.userAgent.toLowerCase())&&(!a||7>=a);s&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)),this.fragment=i;var u=window.location,c=u.pathname===this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&c&&u.hash&&(this.fragment=this.getHash().replace(r,""),window.history.replaceState({},document.title,u.protocol+"//"+u.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),window.clearInterval(this._checkUrlInterval),t.History.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),r=n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return r},navigate:function(e,n){if(!t.History.started)return!1;n&&n!==!0||(n={trigger:n});var o=(e||"").replace(r,"");if(this.fragment!==o){if(this._hasPushState){0!==o.indexOf(this.options.root)&&(o=this.options.root+o),this.fragment=o;var i=n.replace?"replaceState":"pushState";window.history[i]({},document.title,o)}else this._wantsHashChange?(this.fragment=o,this._updateHash(window.location,o,n.replace),this.iframe&&o!==this.getFragment(this.getHash(this.iframe))&&(n.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,o,n.replace))):window.location.assign(this.options.root+e);n.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var r=e.toString().replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash=t}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Router=function(e){e=e||{},e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var r=/:\w+/g,o=/\*\w+/g,i=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;n.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,r,o){return t.history=t.history||new t.History,n.isRegExp(e)||(e=this._routeToRegExp(e)),o||(o=this[r]),t.history.route(e,n.bind(function(n){var i=this._extractParameters(e,n);o&&o.apply(this,i),this.trigger.apply(this,["route:"+r].concat(i)),t.history.trigger("route",this,r,i)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)this.routes.hasOwnProperty(t)&&e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;r>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(i,"\\$&").replace(r,"([^/]+)").replace(o,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}}),t.Router.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Cloud=t.Cloud||{},n.extend(t.Cloud,{run:function(e,n,r){r=r||{};var o=t._request({route:"functions",className:e,method:"POST",useMasterKey:r.useMasterKey,sessionToken:r.sessionToken,data:t._encode(n,null,!0)});return o.then(function(e){return t._decode(null,e).result})._thenRunCallbacks(r)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(e,n){if(n=n||{},e.where&&(e.where=e.where.toJSON().where),e.push_time&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw"Both expiration_time and expiration_interval can't be set";var r=t._request({route:"push",method:"POST",data:e,useMasterKey:n.useMasterKey});return r._thenRunCallbacks(n)}}(this)}).call(exports,__webpack_require__(1))},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case A.topCompositionStart:return k.compositionStart;case A.topCompositionEnd:return k.compositionEnd;case A.topCompositionUpdate:return k.compositionUpdate}}function a(e,t){return e===A.topKeyDown&&t.keyCode===w}function s(e,t){switch(e){case A.topKeyUp:return-1!==_.indexOf(t.keyCode);case A.topKeyDown:return t.keyCode!==w;case A.topKeyPress:case A.topMouseDown:case A.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r){var o,c;if(x?o=i(e):P?s(e,r)&&(o=k.compositionEnd):a(e,r)&&(o=k.compositionStart),!o)return null;C&&(P||o!==k.compositionStart?o===k.compositionEnd&&P&&(c=P.getData()):P=m.getPooled(t));var l=g.getPooled(o,n,r);if(c)l.data=c;else{var f=u(r);null!==f&&(l.data=f)}return d.accumulateTwoPhaseDispatches(l),l}function l(e,t){switch(e){case A.topCompositionEnd:return u(t);case A.topKeyPress:var n=t.which;return n!==T?null:(j=!0,O);case A.topTextInput:var r=t.data;return r===O&&j?null:r;default:return null}}function f(e,t){if(P){if(e===A.topCompositionEnd||s(e,t)){var n=P.getData();return m.release(P),P=null,n}return null}switch(e){case A.topPaste:return null;case A.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case A.topCompositionEnd:return C?null:t.data;default:return null}}function p(e,t,n,r){var o;if(o=S?l(e,r):f(e,r),!o)return null;var i=y.getPooled(k.beforeInput,n,r);return i.data=o,d.accumulateTwoPhaseDispatches(i),i}var h=n(13),d=n(41),v=n(10),m=n(243),g=n(279),y=n(282),b=n(25),_=[9,13,27,32],w=229,x=v.canUseDOM&&"CompositionEvent"in window,E=null;v.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var S=v.canUseDOM&&"TextEvent"in window&&!E&&!r(),C=v.canUseDOM&&(!x||E&&E>8&&11>=E),T=32,O=String.fromCharCode(T),A=h.topLevelTypes,k={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[A.topCompositionEnd,A.topKeyPress,A.topTextInput,A.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[A.topBlur,A.topCompositionEnd,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[A.topBlur,A.topCompositionStart,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[A.topBlur,A.topCompositionUpdate,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]}},j=!1,P=null,N={eventTypes:k,extractEvents:function(e,t,n,r){return[c(e,t,n,r),p(e,t,n,r)]}};e.exports=N},function(e,t,n){"use strict";function r(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function o(e){var t=E.getPooled(A.change,j,e);_.accumulateTwoPhaseDispatches(t),x.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue()}function a(e,t){k=e,j=t,k.attachEvent("onchange",o)}function s(){k&&(k.detachEvent("onchange",o),k=null,j=null)}function u(e,t,n){return e===O.topChange?n:void 0}function c(e,t,n){e===O.topFocus?(s(),a(t,n)):e===O.topBlur&&s()}function l(e,t){k=e,j=t,P=e.value,N=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(k,"value",D),k.attachEvent("onpropertychange",p)}function f(){k&&(delete k.value,k.detachEvent("onpropertychange",p),k=null,j=null,P=null,N=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==P&&(P=t,o(e))}}function h(e,t,n){return e===O.topInput?n:void 0}function d(e,t,n){e===O.topFocus?(f(),l(t,n)):e===O.topBlur&&f()}function v(e,t,n){return e!==O.topSelectionChange&&e!==O.topKeyUp&&e!==O.topKeyDown||!k||k.value===P?void 0:(P=k.value,j)}function m(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===O.topClick?n:void 0}var y=n(13),b=n(40),_=n(41),w=n(10),x=n(16),E=n(27),S=n(86),C=n(127),T=n(25),O=y.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[O.topBlur,O.topChange,O.topClick,O.topFocus,O.topInput,O.topKeyDown,O.topKeyUp,O.topSelectionChange]}},k=null,j=null,P=null,N=null,M=!1;w.canUseDOM&&(M=S("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;w.canUseDOM&&(R=S("input")&&(!("documentMode"in document)||document.documentMode>9));var D={get:function(){return N.get.call(this)},set:function(e){P=""+e,N.set.call(this,e)}},I={eventTypes:A,extractEvents:function(e,t,n,o){var i,a;if(r(t)?M?i=u:a=c:C(t)?R?i=h:(i=v,a=d):m(t)&&(i=g),i){var s=i(e,t,n);if(s){var l=E.getPooled(A.change,s,o);
return _.accumulateTwoPhaseDispatches(l),l}}a&&a(e,t,n)}};e.exports=I},function(e,t){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var o=n(239),i=n(114),a=n(307),s=n(2),u={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(e,n){for(var u,c=null,l=null,f=0;f<e.length;f++)if(u=e[f],u.type===i.MOVE_EXISTING||u.type===i.REMOVE_NODE){var p=u.fromIndex,h=u.parentNode.childNodes[p],d=u.parentID;"production"!==t.env.NODE_ENV?s(h,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,d):s(h),c=c||{},c[d]=c[d]||[],c[d][p]=h,l=l||[],l.push(h)}var v=o.dangerouslyRenderMarkup(n);if(l)for(var m=0;m<l.length;m++)l[m].parentNode.removeChild(l[m]);for(var g=0;g<e.length;g++)switch(u=e[g],u.type){case i.INSERT_MARKUP:r(u.parentNode,v[u.markupIndex],u.toIndex);break;case i.MOVE_EXISTING:r(u.parentNode,c[u.parentID][u.fromIndex],u.toIndex);break;case i.TEXT_CONTENT:a(u.parentNode,u.textContent);break;case i.REMOVE_NODE:}}};e.exports=u}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=n(10),i=n(291),a=n(24),s=n(124),u=n(2),c=/^(<[^ \/>]+)/,l="data-danger-index",f={dangerouslyRenderMarkup:function(e){"production"!==t.env.NODE_ENV?u(o.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(o.canUseDOM);for(var n,f={},p=0;p<e.length;p++)"production"!==t.env.NODE_ENV?u(e[p],"dangerouslyRenderMarkup(...): Missing markup."):u(e[p]),n=r(e[p]),n=s(n)?n:"*",f[n]=f[n]||[],f[n][p]=e[p];var h=[],d=0;for(n in f)if(f.hasOwnProperty(n)){var v,m=f[n];for(v in m)if(m.hasOwnProperty(v)){var g=m[v];m[v]=g.replace(c,"$1 "+l+'="'+v+'" ')}for(var y=i(m.join(""),a),b=0;b<y.length;++b){var _=y[b];_.hasAttribute&&_.hasAttribute(l)?(v=+_.getAttribute(l),_.removeAttribute(l),"production"!==t.env.NODE_ENV?u(!h.hasOwnProperty(v),"Danger: Assigning to an already-occupied result index."):u(!h.hasOwnProperty(v)),h[v]=_,d+=1):"production"!==t.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",_)}}return"production"!==t.env.NODE_ENV?u(d===h.length,"Danger: Did not assign to every index of resultList."):u(d===h.length),"production"!==t.env.NODE_ENV?u(h.length===e.length,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,h.length):u(h.length===e.length),h},dangerouslyReplaceNodeWithMarkup:function(e,n){"production"!==t.env.NODE_ENV?u(o.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."):u(o.canUseDOM),"production"!==t.env.NODE_ENV?u(n,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):u(n),"production"!==t.env.NODE_ENV?u("html"!==e.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString()."):u("html"!==e.tagName.toLowerCase());var r=i(n,a)[0];e.parentNode.replaceChild(r,e)}};e.exports=f}).call(t,n(1))},function(e,t,n){"use strict";var r=n(25),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];e.exports=o},function(e,t,n){"use strict";var r=n(13),o=n(41),i=n(52),a=n(15),s=n(25),u=r.topLevelTypes,c=a.getFirstReactDOM,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},f=[null,null],p={eventTypes:l,extractEvents:function(e,t,n,r){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var s;if(t.window===t)s=t;else{var p=t.ownerDocument;s=p?p.defaultView||p.parentWindow:window}var h,d;if(e===u.topMouseOut?(h=t,d=c(r.relatedTarget||r.toElement)||s):(h=s,d=t),h===d)return null;var v=h?a.getID(h):"",m=d?a.getID(d):"",g=i.getPooled(l.mouseLeave,v,r);g.type="mouseleave",g.target=h,g.relatedTarget=d;var y=i.getPooled(l.mouseEnter,m,r);return y.type="mouseenter",y.target=d,y.relatedTarget=h,o.accumulateEnterLeaveDispatches(g,y,v,m),f[0]=g,f[1]=y,f}};e.exports=p},function(e,t,n){(function(t){var r=n(24),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,n,o){return e.addEventListener?(e.addEventListener(n,o,!0),{remove:function(){e.removeEventListener(n,o,!0)}}):("production"!==t.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=n(18),i=n(5),a=n(125);i(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r,o=n(26),i=n(10),a=o.injection.MUST_USE_ATTRIBUTE,s=o.injection.MUST_USE_PROPERTY,u=o.injection.HAS_BOOLEAN_VALUE,c=o.injection.HAS_SIDE_EFFECTS,l=o.injection.HAS_NUMERIC_VALUE,f=o.injection.HAS_POSITIVE_NUMERIC_VALUE,p=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var h=document.implementation;r=h&&h.hasFeature&&h.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,cellPadding:null,cellSpacing:null,charSet:a,checked:s|u,classID:a,className:r?a:s,cols:a|f,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,defer:u,dir:null,disabled:a|u,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,multiple:s|u,muted:s|u,name:null,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,role:a,rows:a|f,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|f,sizes:a,span:f,spellCheck:null,src:null,srcDoc:s,srcSet:a,start:l,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:a,wmode:a,autoCapitalize:null,autoCorrect:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,property:null,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=d},function(e,t,n){"use strict";var r=n(13),o=n(24),i=r.topLevelTypes,a={eventTypes:null,extractEvents:function(e,t,n,r){if(e===i.topTouchStart){var a=r.target;a&&!a.onclick&&(a.onclick=o)}}};e.exports=a},function(e,t,n){(function(t){"use strict";var r=n(69),o=n(248),i=n(109),a=n(14),s=n(74),u=n(20),c=n(6),l=n(42),f=n(250),p=n(111),h=n(261),d=n(30),v=n(15),m=n(23),g=n(115),y=n(32),b=n(272),_=n(5),w=n(120),x=n(303);h.inject();var E=c.createElement,S=c.createFactory,C=c.cloneElement;"production"!==t.env.NODE_ENV&&(E=l.createElement,S=l.createFactory,C=l.cloneElement);var T=m.measure("React","render",v.render),O={Children:{map:o.map,forEach:o.forEach,count:o.count,only:x},Component:i,DOM:f,PropTypes:g,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:a.createClass,createElement:E,cloneElement:C,createFactory:S,createMixin:function(e){return e},constructAndRenderComponent:v.constructAndRenderComponent,constructAndRenderComponentByID:v.constructAndRenderComponentByID,findDOMNode:w,render:T,renderToString:b.renderToString,renderToStaticMarkup:b.renderToStaticMarkup,unmountComponentAtNode:v.unmountComponentAtNode,isValidElement:c.isValidElement,withContext:s.withContext,__spread:_};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:u,InstanceHandles:d,Mount:v,Reconciler:y,TextComponent:p}),"production"!==t.env.NODE_ENV){var A=n(10);if(A.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var k=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],j=0;j<k.length;j++)if(!k[j]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}O.version="0.13.3",e.exports=O}).call(t,n(1))},function(e,t,n){"use strict";var r=n(32),o=n(293),i=n(85),a=n(88),s={instantiateChildren:function(e,t,n){var r=o(e);for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=i(s,null);r[a]=u}return r},updateChildren:function(e,t,n,s){var u=o(t);if(!u&&!e)return null;var c;for(c in u)if(u.hasOwnProperty(c)){var l=e&&e[c],f=l&&l._currentElement,p=u[c];if(a(f,p))r.receiveComponent(l,p,n,s),u[c]=l;else{l&&r.unmountComponent(l,c);var h=i(p,null);u[c]=h}}for(c in e)!e.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||r.unmountComponent(e[c]);return u},unmountChildren:function(e){for(var t in e){var n=e[t];r.unmountComponent(n)}}};e.exports=s},function(e,t,n){(function(t){"use strict";function r(e,t){this.forEachFunction=e,this.forEachContext=t}function o(e,t,n,r){var o=e;o.forEachFunction.call(o.forEachContext,t,r)}function i(e,t,n){if(null==e)return e;var i=r.getPooled(t,n);h(e,o,i),r.release(i)}function a(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function s(e,n,r,o){var i=e,a=i.mapResult,s=!a.hasOwnProperty(r);if("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?d(s,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),s){var u=i.mapFunction.call(i.mapContext,n,o);a[r]=u}}function u(e,t,n){if(null==e)return e;var r={},o=a.getPooled(r,t,n);return h(e,s,o),a.release(o),p.create(r)}function c(e,t,n,r){return null}function l(e,t){return h(e,c,null)}var f=n(18),p=n(49),h=n(128),d=n(8),v=f.twoArgumentPooler,m=f.threeArgumentPooler;f.addPoolingTo(r,v),f.addPoolingTo(a,m);var g={forEach:i,map:u,count:l};e.exports=g}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var o=n(73),i=n(74),a=n(20),s=n(6),u=n(42),c=n(31),l=n(77),f=n(50),p=n(23),h=n(78),d=n(51),v=n(32),m=n(16),g=n(5),y=n(54),b=n(2),_=n(88),w=n(8),x=1,E={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,n,r){this._context=r,this._mountOrder=x++,this._rootNodeID=e;var o=this._processProps(this._currentElement.props),i=this._processContext(this._currentElement._context),a=f.getComponentClassForElement(this._currentElement),s=new a(o,i);"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?w(null!=s.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",a.displayName||a.name||"Component"):null),s.props=o,s.context=i,s.refs=y,this._instance=s,c.set(s,this),"production"!==t.env.NODE_ENV&&this._warnIfContextsDiffer(this._currentElement._context,r),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?w(!s.getInitialState||s.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):null,"production"!==t.env.NODE_ENV?w(!s.getDefaultProps||s.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):null,"production"!==t.env.NODE_ENV?w(!s.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):null,"production"!==t.env.NODE_ENV?w(!s.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):null,"production"!==t.env.NODE_ENV?w("function"!=typeof s.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):null);var u=s.state;void 0===u&&(s.state=u=null),"production"!==t.env.NODE_ENV?b("object"==typeof u&&!Array.isArray(u),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):b("object"==typeof u&&!Array.isArray(u)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var p,h,d=l.currentlyMountingInstance;l.currentlyMountingInstance=this;try{s.componentWillMount&&(s.componentWillMount(),this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))),p=this._getValidatedChildContext(r),h=this._renderValidatedComponent(p)}finally{l.currentlyMountingInstance=d}this._renderedComponent=this._instantiateReactComponent(h,this._currentElement.type);var m=v.mountComponent(this._renderedComponent,e,n,this._mergeChildContext(r,p));return s.componentDidMount&&n.getReactMountReady().enqueue(s.componentDidMount,s),m},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var t=l.currentlyUnmountingInstance;l.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{l.currentlyUnmountingInstance=t}}v.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,c.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=s.cloneAndReplaceProps(n,g({},n.props,e)),m.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return y;var n=this._currentElement.type.contextTypes;if(!n)return y;t={};for(var r in n)t[r]=e[r];return t},_processContext:function(e){var n=this._maskContext(e);if("production"!==t.env.NODE_ENV){var r=f.getComponentClassForElement(this._currentElement);r.contextTypes&&this._checkPropTypes(r.contextTypes,n,h.context)}return n},_getValidatedChildContext:function(e){var n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"production"!==t.env.NODE_ENV?b("object"==typeof n.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):b("object"==typeof n.constructor.childContextTypes),"production"!==t.env.NODE_ENV&&this._checkPropTypes(n.constructor.childContextTypes,r,h.childContext);for(var o in r)"production"!==t.env.NODE_ENV?b(o in n.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",o):b(o in n.constructor.childContextTypes);return r}return null},_mergeChildContext:function(e,t){return t?g({},e,t):e},_processProps:function(e){if("production"!==t.env.NODE_ENV){var n=f.getComponentClassForElement(this._currentElement);n.propTypes&&this._checkPropTypes(n.propTypes,e,h.prop)}return e},_checkPropTypes:function(e,n,o){var i=this.getName();for(var a in e)if(e.hasOwnProperty(a)){var s;try{"production"!==t.env.NODE_ENV?b("function"==typeof e[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",i||"React class",d[o],a):b("function"==typeof e[a]),s=e[a](n,a,i,o)}catch(u){s=u}if(s instanceof Error){var c=r(this);o===h.prop?"production"!==t.env.NODE_ENV?w(!1,"Failed Composite propType: %s%s",s.message,c):null:"production"!==t.env.NODE_ENV?w(!1,"Failed Context Types: %s%s",s.message,c):null}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&v.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&("production"!==t.env.NODE_ENV&&u.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(e,n){e=this._maskContext(e),n=this._maskContext(n);for(var r=Object.keys(n).sort(),o=this.getName()||"ReactCompositeComponent",i=0;i<r.length;i++){var a=r[i];"production"!==t.env.NODE_ENV?w(e[a]===n[a],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",e[a],n[a],a,o):null}},updateComponent:function(e,n,r,o,i){var a=this._instance,s=a.context,u=a.props;n!==r&&(s=this._processContext(r._context),u=this._processProps(r.props),"production"!==t.env.NODE_ENV&&null!=i&&this._warnIfContextsDiffer(r._context,i),a.componentWillReceiveProps&&a.componentWillReceiveProps(u,s));var c=this._processPendingState(u,s),l=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(u,c,s);"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?w("undefined"!=typeof l,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):null),l?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,u,c,s,e,i)):(this._currentElement=r,this._context=i,a.props=u,a.state=c,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=g({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];g(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a=this._instance,s=a.props,u=a.state,c=a.context;a.componentWillUpdate&&a.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,a.props=t,a.state=n,a.context=r,this._updateRenderedComponent(o,i),a.componentDidUpdate&&o.getReactMountReady().enqueue(a.componentDidUpdate.bind(a,s,u,c),a)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._getValidatedChildContext(),i=this._renderValidatedComponent(o);if(_(r,i))v.receiveComponent(n,i,e,this._mergeChildContext(t,o));else{var a=this._rootNodeID,s=n._rootNodeID;v.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i,this._currentElement.type);var u=v.mountComponent(this._renderedComponent,a,e,this._mergeChildContext(t,o));this._replaceNodeWithMarkupByID(s,u)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,n=e.render();return"production"!==t.env.NODE_ENV&&"undefined"==typeof n&&e.render._isMockFunction&&(n=null),n},_renderValidatedComponent:function(e){var n,r=i.current;i.current=this._mergeChildContext(this._currentElement._context,e),a.current=this;try{n=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=r,a.current=null}return"production"!==t.env.NODE_ENV?b(null===n||n===!1||s.isValidElement(n),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):b(null===n||n===!1||s.isValidElement(n)),n},attachRef:function(e,t){var n=this.getPublicInstance(),r=n.refs===y?n.refs={}:n.refs;r[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};p.measureMethods(E,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var S={Mixin:E};e.exports=S}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function r(e){return"production"!==t.env.NODE_ENV?i.createFactory(e):o.createFactory(e)}var o=n(6),i=n(42),a=n(301),s=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=s}).call(t,n(1))},function(e,t,n){"use strict";var r=n(48),o=n(19),i=n(14),a=n(6),s=n(44),u=a.createFactory("button"),c=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),l=i.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,o],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&c[t]||(e[t]=this.props[t]);return u(e,this.props.children)}});e.exports=l},function(e,t,n){"use strict";var r=n(13),o=n(71),i=n(19),a=n(14),s=n(6),u=s.createFactory("form"),c=a.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[i,o],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});e.exports=c},function(e,t,n){"use strict";var r=n(13),o=n(71),i=n(19),a=n(14),s=n(6),u=s.createFactory("iframe"),c=a.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[i,o],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});e.exports=c},function(e,t,n){"use strict";var r=n(13),o=n(71),i=n(19),a=n(14),s=n(6),u=s.createFactory("img"),c=a.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[i,o],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});e.exports=c},function(e,t,n){(function(t){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var o=n(48),i=n(39),a=n(70),s=n(19),u=n(14),c=n(6),l=n(15),f=n(16),p=n(5),h=n(2),d=c.createFactory("input"),v={},m=u.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[o,a.Mixin,s],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=p({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=a.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=a.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,d(e,this.props.children)},componentDidMount:function(){var e=l.getID(this.getDOMNode());v[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=l.getID(e);delete v[t]},componentDidUpdate:function(e,t,n){var r=this.getDOMNode();null!=this.props.checked&&i.setValueForProperty(r,"checked",this.props.checked||!1);var o=a.getValue(this);null!=o&&i.setValueForProperty(r,"value",""+o)},_handleChange:function(e){var n,o=a.getOnChange(this);o&&(n=o.call(this,e)),f.asap(r,this);var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var s=this.getDOMNode(),u=s;u.parentNode;)u=u.parentNode;for(var c=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0,d=c.length;d>p;p++){var m=c[p];if(m!==s&&m.form===s.form){var g=l.getID(m);"production"!==t.env.NODE_ENV?h(g,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):h(g);var y=v[g];"production"!==t.env.NODE_ENV?h(y,"ReactDOMInput: Unknown radio button ID %s.",g):h(y),f.asap(r,y)}}}return n}});e.exports=m}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var r=n(19),o=n(14),i=n(6),a=n(8),s=i.createFactory("option"),u=o.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?a(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return s(this.props,this.props.children)}});e.exports=u}).call(t,n(1))},function(e,t,n){"use strict";function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=s.getValue(this);null!=e&&this.isMounted()&&i(this,e)}}function o(e,t,n){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function i(e,t){var n,r,o,i=e.getDOMNode().options;if(e.props.multiple){for(n={},r=0,o=t.length;o>r;r++)n[""+t[r]]=!0;for(r=0,o=i.length;o>r;r++){var a=n.hasOwnProperty(i[r].value);i[r].selected!==a&&(i[r].selected=a)}}else{for(n=""+t,r=0,o=i.length;o>r;r++)if(i[r].value===n)return void(i[r].selected=!0);i.length&&(i[0].selected=!0)}}var a=n(48),s=n(70),u=n(19),c=n(14),l=n(6),f=n(16),p=n(5),h=l.createFactory("select"),d=c.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[a,s.Mixin,u],propTypes:{defaultValue:o,value:o},render:function(){var e=p({},this.props);return e.onChange=this._handleChange,e.value=null,h(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=s.getValue(this);null!=e?i(this,e):null!=this.props.defaultValue&&i(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=s.getValue(this);null!=t?(this._pendingUpdate=!1,i(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?i(this,this.props.defaultValue):i(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,n=s.getOnChange(this);return n&&(t=n.call(this,e)),this._pendingUpdate=!0,f.asap(r,this),t}});e.exports=d},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0),u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:s.toString().length,l=s.cloneRange();l.selectNodeContents(e),l.setEnd(s.startContainer,s.startOffset);var f=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),p=f?0:l.toString().length,h=p+c,d=document.createRange();d.setStart(n,o),d.setEnd(i,a);var v=d.collapsed;return{start:v?h:p,end:v?p:h}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,o=Math.min(t.start,r),i="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=c(e,o),u=c(e,i);if(s&&u){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(f),n.extend(u.node,u.offset)):(f.setEnd(u.node,u.offset),n.addRange(f))}}}var u=n(10),c=n(295),l=n(125),f=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:f?o:i,setOffsets:f?a:s
};e.exports=p},function(e,t,n){(function(t){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var o=n(48),i=n(39),a=n(70),s=n(19),u=n(14),c=n(6),l=n(16),f=n(5),p=n(2),h=n(8),d=c.createFactory("textarea"),v=u.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[o,a.Mixin,s],getInitialState:function(){var e=this.props.defaultValue,n=this.props.children;null!=n&&("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?h(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==t.env.NODE_ENV?p(null==e,"If you supply `defaultValue` on a <textarea>, do not pass children."):p(null==e),Array.isArray(n)&&("production"!==t.env.NODE_ENV?p(n.length<=1,"<textarea> can only have at most one child."):p(n.length<=1),n=n[0]),e=""+n),null==e&&(e="");var r=a.getValue(this);return{initialValue:""+(null!=r?r:e)}},render:function(){var e=f({},this.props);return"production"!==t.env.NODE_ENV?p(null==e.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):p(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,d(e,this.state.initialValue)},componentDidUpdate:function(e,t,n){var r=a.getValue(this);if(null!=r){var o=this.getDOMNode();i.setValueForProperty(o,"value",""+r)}},_handleChange:function(e){var t,n=a.getOnChange(this);return n&&(t=n.call(this,e)),l.asap(r,this),t}});e.exports=v}).call(t,n(1))},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(16),i=n(53),a=n(5),s=n(24),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:o.flushBatchedUpdates.bind(o)},l=[c,u];a(r.prototype,i.Mixin,{getTransactionWrappers:function(){return l}});var f=new r,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o){var i=p.isBatchingUpdates;p.isBatchingUpdates=!0,i?e(t,n,r,o):f.perform(e,null,t,n,r,o)}};e.exports=p},function(e,t,n){(function(t){"use strict";function r(e){return d.createClass({tagName:e.toUpperCase(),render:function(){return new A(e,null,null,null,null,this.props)}})}function o(){if(j.EventEmitter.injectReactEventListener(k),j.EventPluginHub.injectEventPluginOrder(u),j.EventPluginHub.injectInstanceHandle(P),j.EventPluginHub.injectMount(N),j.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:I,EnterLeaveEventPlugin:c,ChangeEventPlugin:a,MobileSafariClickEventPlugin:p,SelectEventPlugin:R,BeforeInputEventPlugin:i}),j.NativeComponent.injectGenericComponentClass(g),j.NativeComponent.injectTextComponentClass(O),j.NativeComponent.injectAutoWrapper(r),j.Class.injectMixin(h),j.NativeComponent.injectComponentClasses({button:y,form:b,iframe:x,img:_,input:E,option:S,select:C,textarea:T,html:L("html"),head:L("head"),body:L("body")}),j.DOMProperty.injectDOMPropertyConfig(f),j.DOMProperty.injectDOMPropertyConfig(F),j.EmptyComponent.injectEmptyComponent("noscript"),j.Updates.injectReconcileTransaction(M),j.Updates.injectBatchingStrategy(m),j.RootIndex.injectCreateReactRootIndex(l.canUseDOM?s.createReactRootIndex:D.createReactRootIndex),j.Component.injectEnvironment(v),j.DOMComponent.injectIDOperations(w),"production"!==t.env.NODE_ENV){var e=l.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(e)){var o=n(262);o.start()}}}var i=n(235),a=n(236),s=n(237),u=n(240),c=n(241),l=n(10),f=n(244),p=n(245),h=n(19),d=n(14),v=n(72),m=n(260),g=n(75),y=n(251),b=n(252),_=n(254),w=n(110),x=n(253),E=n(255),S=n(256),C=n(257),T=n(259),O=n(111),A=n(6),k=n(266),j=n(267),P=n(30),N=n(15),M=n(270),R=n(275),D=n(276),I=n(277),F=n(274),L=n(290);e.exports={inject:o}}).call(t,n(1))},function(e,t,n){"use strict";function r(e){return Math.floor(100*e)/100}function o(e,t,n){e[t]=(e[t]||0)+n}var i=n(26),a=n(263),s=n(15),u=n(23),c=n(305),l={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){l._injected||u.injection.injectMeasure(l.measure),l._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return l._allMeasurements},printExclusive:function(e){e=e||l._allMeasurements;var t=a.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":r(e.inclusive),"Exclusive mount time (ms)":r(e.exclusive),"Exclusive render time (ms)":r(e.render),"Mount time per instance (ms)":r(e.exclusive/e.count),"Render time per instance (ms)":r(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||l._allMeasurements;var t=a.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":r(e.time),Instances:e.count}})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=a.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||l._allMeasurements,console.table(l.getMeasurementsSummaryMap(e)),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||l._allMeasurements;var t=a.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[i.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var o=l._allMeasurements[l._allMeasurements.length-1].writes;o[e]=o[e]||[],o[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=[],i=0,a=arguments.length;a>i;i++)r.push(arguments[i]);var u,f,p;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return l._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),p=c(),f=n.apply(this,r),l._allMeasurements[l._allMeasurements.length-1].totalTime=c()-p,f;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e){if(p=c(),f=n.apply(this,r),u=c()-p,"_mountImageIntoNode"===t){var h=s.getID(r[1]);l._recordWrite(h,t,u,r[0])}else"dangerouslyProcessChildrenUpdates"===t?r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),l._recordWrite(e.parentID,e.type,u,t)}):l._recordWrite(r[0],t,u,Array.prototype.slice.call(r,1));return f}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var d="mountComponent"===t?r[0]:this._rootNodeID,v="_renderValidatedComponent"===t,m="mountComponent"===t,g=l._mountStack,y=l._allMeasurements[l._allMeasurements.length-1];if(v?o(y.counts,d,1):m&&g.push(0),p=c(),f=n.apply(this,r),u=c()-p,v)o(y.render,d,u);else if(m){var b=g.pop();g[g.length-1]+=u,o(y.exclusive,d,u-b),o(y.inclusive,d,u)}else o(y.inclusive,d,u);return y.displayNames[d]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},f}}};e.exports=l},function(e,t,n){function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function o(e){for(var t=[],n=0;n<e.length;n++){var r,o=e[n];for(r in o.writes)o.writes[r].forEach(function(e){t.push({id:r,type:l[e.type]||e.type,args:e.args})})}return t}function i(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r],i=u({},o.exclusive,o.inclusive);for(var a in i)t=o.displayNames[a].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[a]&&(n[t].render+=o.render[a]),o.exclusive[a]&&(n[t].exclusive+=o.exclusive[a]),o.inclusive[a]&&(n[t].inclusive+=o.inclusive[a]),o.counts[a]&&(n[t].count+=o.counts[a])}var s=[];for(t in n)n[t].exclusive>=c&&s.push(n[t]);return s.sort(function(e,t){return t.exclusive-e.exclusive}),s}function a(e,t){for(var n,r={},o=0;o<e.length;o++){var i,a=e[o],l=u({},a.exclusive,a.inclusive);t&&(i=s(a));for(var f in l)if(!t||i[f]){var p=a.displayNames[f];n=p.owner+" > "+p.current,r[n]=r[n]||{componentName:n,time:0,count:0},a.inclusive[f]&&(r[n].time+=a.inclusive[f]),a.counts[f]&&(r[n].count+=a.counts[f])}}var h=[];for(n in r)r[n].time>=c&&h.push(r[n]);return h.sort(function(e,t){return t.time-e.time}),h}function s(e){var t={},n=Object.keys(e.writes),r=u({},e.exclusive,e.inclusive);for(var o in r){for(var i=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(o)){i=!0;break}!i&&e.counts[o]>0&&(t[o]=!0)}return t}var u=n(5),c=1.2,l={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},f={getExclusiveSummary:i,getInclusiveSummary:a,getDOMSummary:o,getTotalTime:r};e.exports=f},function(e,t){"use strict";var n={guard:function(e,t){return e}};e.exports=n},function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue()}var o=n(40),i={handleTopLevel:function(e,t,n,i){var a=o.extractEvents(e,t,n,i);r(a)}};e.exports=i},function(e,t,n){"use strict";function r(e){var t=f.getID(e),n=l.getReactRootIDFromNodeID(t),r=f.findReactContainerForID(n),o=f.getFirstReactDOM(r);return o}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){for(var t=f.getFirstReactDOM(d(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0,i=e.ancestors.length;i>o;o++){t=e.ancestors[o];var a=f.getID(t)||"";m._handleTopLevel(e.topLevelType,t,a,e.nativeEvent)}}function a(e){var t=v(window);e(t)}var s=n(242),u=n(10),c=n(18),l=n(30),f=n(15),p=n(16),h=n(5),d=n(84),v=n(297);h(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?s.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?s.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{p.batchedUpdates(i,n)}finally{o.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(26),o=n(40),i=n(73),a=n(14),s=n(76),u=n(29),c=n(50),l=n(75),f=n(23),p=n(117),h=n(16),d={Component:i.injection,Class:a.injection,DOMComponent:l.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:f.injection,RootIndex:p.injection,Updates:h.injection};e.exports=d},function(e,t,n){"use strict";function r(e,t,n){d.push({parentID:e,parentNode:null,type:l.INSERT_MARKUP,markupIndex:v.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function o(e,t,n){d.push({parentID:e,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function i(e,t){d.push({parentID:e,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function a(e,t){d.push({parentID:e,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function s(){d.length&&(c.processChildrenUpdates(d,v),u())}function u(){d.length=0,v.length=0}var c=n(73),l=n(114),f=n(32),p=n(247),h=0,d=[],v=[],m={Mixin:{mountChildren:function(e,t,n){var r=p.instantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=this._rootNodeID+a,c=f.mountComponent(s,u,t,n);s._mountIndex=i,o.push(c),i++}return o},updateTextContent:function(e){h++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(e),t=!1}finally{h--,h||(t?u():s())}},updateChildren:function(e,t,n){h++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{h--,h||(r?u():s())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=p.updateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var i,a=0,s=0;for(i in o)if(o.hasOwnProperty(i)){var u=r&&r[i],c=o[i];u===c?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChildByName(u,i)),this._mountChildByNameAtIndex(c,i,s,t,n)),s++}for(i in r)!r.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||this._unmountChildByName(r[i],i)}},unmountChildren:function(){var e=this._renderedChildren;p.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&o(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){i(this._rootNodeID,e._mountIndex)},setTextContent:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var i=this._rootNodeID+t,a=f.mountComponent(e,i,r,o);e._mountIndex=n,this.createChild(e,a)},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null}}};e.exports=m},function(e,t,n){(function(t){"use strict";var r=n(2),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,n,i){"production"!==t.env.NODE_ENV?r(o.isValidOwner(i),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(o.isValidOwner(i)),i.attachRef(n,e)},removeComponentAsRefFrom:function(e,n,i){"production"!==t.env.NODE_ENV?r(o.isValidOwner(i),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):r(o.isValidOwner(i)),i.getPublicInstance().refs[n]===e.getPublicInstance()&&i.detachRef(n)}};e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.putListenerQueue=u.getPooled()}var o=n(68),i=n(18),a=n(29),s=n(112),u=n(116),c=n(53),l=n(5),f={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},v=[d,f,p,h],m={getTransactionWrappers:function(){return v},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,u.release(this.putListenerQueue),this.putListenerQueue=null}};l(r.prototype,c.Mixin,m),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=n(269),a={};a.attachRefs=function(e,t){var n=t.ref;null!=n&&r(n,e,t._owner)},a.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){var n=t.ref;null!=n&&o(n,e,t._owner)},e.exports=a},function(e,t,n){(function(t){"use strict";function r(e){"production"!==t.env.NODE_ENV?f(i.isValidElement(e),"renderToString(): You must pass a valid ReactElement."):f(i.isValidElement(e));var n;try{var r=a.createReactRootID();return n=u.getPooled(!1),n.perform(function(){var t=l(e,null),o=t.mountComponent(r,n,c);return s.addChecksumToMarkup(o)},null)}finally{u.release(n)}}function o(e){"production"!==t.env.NODE_ENV?f(i.isValidElement(e),"renderToStaticMarkup(): You must pass a valid ReactElement."):f(i.isValidElement(e));var n;try{var r=a.createReactRootID();return n=u.getPooled(!0),n.perform(function(){var t=l(e,null);return t.mountComponent(r,n,c)},null)}finally{u.release(n)}}var i=n(6),a=n(30),s=n(113),u=n(273),c=n(54),l=n(85),f=n(2);e.exports={renderToString:r,renderToStaticMarkup:o}}).call(t,n(1))},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.putListenerQueue=a.getPooled()}var o=n(18),i=n(68),a=n(116),s=n(53),u=n(5),c=n(24),l={initialize:function(){this.reactMountReady.reset()},close:c},f={initialize:function(){this.putListenerQueue.reset()},close:c},p=[f,l],h={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};u(r.prototype,s.Mixin,h),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(26),o=r.injection.MUST_USE_ATTRIBUTE,i={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,y1:o,y2:o,y:o},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=i},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e){if(y||null==v||v!==c())return null;var t=r(v);if(!g||!p(g,t)){g=t;var n=u.getPooled(d.select,m,e);return n.type="select",n.target=v,a.accumulateTwoPhaseDispatches(n),n}}var i=n(13),a=n(41),s=n(112),u=n(27),c=n(122),l=n(127),f=n(25),p=n(308),h=i.topLevelTypes,d={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},v=null,m=null,g=null,y=!1,b={eventTypes:d,extractEvents:function(e,t,n,r){switch(e){case h.topFocus:(l(t)||"true"===t.contentEditable)&&(v=t,m=n,g=null);break;case h.topBlur:v=null,m=null,g=null;break;case h.topMouseDown:y=!0;break;case h.topContextMenu:case h.topMouseUp:return y=!1,o(r);case h.topSelectionChange:case h.topKeyDown:case h.topKeyUp:return o(r)}}};e.exports=b},function(e,t){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};e.exports=r},function(e,t,n){(function(t){"use strict";var r=n(13),o=n(69),i=n(41),a=n(278),s=n(27),u=n(281),c=n(283),l=n(52),f=n(280),p=n(284),h=n(43),d=n(285),v=n(82),m=n(2),g=n(25),y=n(8),b=r.topLevelTypes,_={blur:{phasedRegistrationNames:{bubbled:g({onBlur:!0}),captured:g({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:g({onClick:!0}),captured:g({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:g({onContextMenu:!0}),captured:g({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:g({onCopy:!0}),captured:g({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:g({onCut:!0}),captured:g({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:g({onDoubleClick:!0}),captured:g({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:g({onDrag:!0}),captured:g({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:g({onDragEnd:!0}),captured:g({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:g({onDragEnter:!0}),captured:g({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:g({onDragExit:!0}),captured:g({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:g({onDragLeave:!0}),captured:g({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:g({onDragOver:!0}),captured:g({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:g({onDragStart:!0}),captured:g({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:g({onDrop:!0}),captured:g({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:g({onFocus:!0}),captured:g({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:g({onInput:!0}),captured:g({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:g({onKeyDown:!0}),captured:g({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:g({onKeyPress:!0}),captured:g({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:g({onKeyUp:!0}),captured:g({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:g({onLoad:!0}),captured:g({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:g({onError:!0}),captured:g({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:g({onMouseDown:!0}),captured:g({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:g({onMouseMove:!0}),captured:g({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:g({onMouseOut:!0}),captured:g({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:g({onMouseOver:!0}),captured:g({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:g({onMouseUp:!0}),captured:g({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:g({onPaste:!0}),captured:g({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:g({onReset:!0}),captured:g({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:g({onScroll:!0}),captured:g({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:g({onSubmit:!0}),captured:g({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:g({onTouchCancel:!0}),captured:g({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:g({onTouchEnd:!0}),captured:g({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:g({onTouchMove:!0}),captured:g({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:g({onTouchStart:!0}),captured:g({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:g({onWheel:!0}),captured:g({onWheelCapture:!0})}}},w={topBlur:_.blur,topClick:_.click,topContextMenu:_.contextMenu,topCopy:_.copy,topCut:_.cut,topDoubleClick:_.doubleClick,topDrag:_.drag,topDragEnd:_.dragEnd,topDragEnter:_.dragEnter,topDragExit:_.dragExit,topDragLeave:_.dragLeave,topDragOver:_.dragOver,topDragStart:_.dragStart,topDrop:_.drop,topError:_.error,topFocus:_.focus,topInput:_.input,topKeyDown:_.keyDown,topKeyPress:_.keyPress,topKeyUp:_.keyUp,topLoad:_.load,topMouseDown:_.mouseDown,topMouseMove:_.mouseMove,topMouseOut:_.mouseOut,topMouseOver:_.mouseOver,topMouseUp:_.mouseUp,topPaste:_.paste,topReset:_.reset,topScroll:_.scroll,topSubmit:_.submit,topTouchCancel:_.touchCancel,topTouchEnd:_.touchEnd,topTouchMove:_.touchMove,topTouchStart:_.touchStart,topWheel:_.wheel};for(var x in w)w[x].dependencies=[x];var E={eventTypes:_,executeDispatch:function(e,n,r){var i=o.executeDispatch(e,n,r);"production"!==t.env.NODE_ENV?y("boolean"!=typeof i,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."):null,i===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,n,r,o){var g=w[e];if(!g)return null;var y;switch(e){case b.topInput:case b.topLoad:case b.topError:case b.topReset:case b.topSubmit:y=s;break;case b.topKeyPress:if(0===v(o))return null;case b.topKeyDown:case b.topKeyUp:y=c;break;case b.topBlur:case b.topFocus:y=u;break;case b.topClick:if(2===o.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:y=l;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:y=f;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:y=p;break;case b.topScroll:y=h;break;case b.topWheel:y=d;break;case b.topCopy:case b.topCut:case b.topPaste:y=a}"production"!==t.env.NODE_ENV?m(y,"SimpleEventPlugin: Unhandled event type, `%s`.",e):m(y);var _=y.getPooled(g,r,o);return i.accumulateTwoPhaseDispatches(_),_}};e.exports=E}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(27),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(27),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(52),i={dataTransfer:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(43),i={relatedTarget:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(27),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(43),i=n(82),a=n(294),s=n(83),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(43),i=n(83),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=n(52),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,o=0;o<e.length;o++)t=(t+e.charCodeAt(o))%r,n=(n+t)%r;return t|n<<16}var r=65521;e.exports=n},function(e,t){function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=n(287),i=/^-ms-/;e.exports=r},function(e,t,n){function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():i(e):[e]}var i=n(309);e.exports=o},function(e,t,n){(function(t){"use strict";function r(e){var n=i.createFactory(e),r=o.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){"production"!==t.env.NODE_ENV?a(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):a(!1)},render:function(){return n(this.props)}});return r}var o=n(14),i=n(6),a=n(2);e.exports=r}).call(t,n(1))},function(e,t,n){(function(t){function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function o(e,n){var o=c;"production"!==t.env.NODE_ENV?u(!!c,"createNodesFromMarkup dummy not initialized"):u(!!c);var i=r(e),l=i&&s(i);if(l){o.innerHTML=l[1]+e+l[2];for(var f=l[0];f--;)o=o.lastChild}else o.innerHTML=e;var p=o.getElementsByTagName("script");p.length&&("production"!==t.env.NODE_ENV?u(n,"createNodesFromMarkup(...): Unexpected <script> element rendered."):u(n),a(p).forEach(n));for(var h=a(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return h}var i=n(10),a=n(289),s=n(124),u=n(2),c=i.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=n(106),i=o.isUnitlessNumber;e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,n,r){var o=e,i=!o.hasOwnProperty(r);"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?a(i,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",r):null),i&&null!=n&&(o[r]=n)}function o(e){if(null==e)return e;var t={};return i(e,r,t),t}var i=n(128),a=n(8);e.exports=o}).call(t,n(1))},function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=n(82),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var o=n(e),i=0,a=0;o;){if(3===o.nodeType){if(a=i+o.textContent.length,t>=i&&a>=t)return{node:o,offset:t-i};i=a}o=n(r(o))}}e.exports=o},function(e,t){"use strict";function n(e){return e?e.nodeType===r?e.documentElement:e.firstChild:null}var r=9;e.exports=n},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=n(298),i=/^ms-/;e.exports=r;
},function(e,t,n){function r(e){return o(e)&&3==e.nodeType}var o=n(126);e.exports=r},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var o={};for(var i in e)r.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){return"production"!==t.env.NODE_ENV?i(o.isValidElement(e),"onlyChild must be passed a children with exactly one child."):i(o.isValidElement(e)),e}var o=n(6),i=n(2);e.exports=r}).call(t,n(1))},function(e,t,n){"use strict";var r,o=n(10);o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){var r=n(304);r&&r.now||(r=Date);var o=r.now.bind(r);e.exports=o},function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=n(55);e.exports=r},function(e,t,n){"use strict";var r=n(10),o=n(55),i=n(87),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),e.exports=a},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}e.exports=n},function(e,t,n){(function(t){function r(e){var n=e.length;if("production"!==t.env.NODE_ENV?o(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e),"toArray: Array-like object expected"):o(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),"production"!==t.env.NODE_ENV?o("number"==typeof n,"toArray: Object needs a length property"):o("number"==typeof n),"production"!==t.env.NODE_ENV?o(0===n||n-1 in e,"toArray: Object should have keys for indices"):o(0===n||n-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(r){}for(var i=Array(n),a=0;n>a;a++)i[a]=e[a];return i}var o=n(2);e.exports=r}).call(t,n(1))},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(515);var o=n(3),i=r(o);t["default"]=i["default"].createClass({displayName:"options-button",render:function(){return i["default"].createElement("button",{className:"options-button",onClick:this.props.onClick},this.props.children)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return 1-(n-e)/(t-e)}function a(e){return e.position}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(17),c=r(u),l=function(){function e(t,n){o(this,e),this._notes=c["default"].sortBy(t,a),this._barLines=c["default"](n).pluck("position").sortBy().value()}return s(e,[{key:"getVisibleNotes",value:function(e,t,n){var r=[],o=this._notes;n||(n=0);for(var a=0;a<o.length;a++){var s=o[a],u=s.end?!(s.position>t||s.end.position<e-n):!(s.position>t||s.position<e-n);if(u){var c={note:s};if(s.end){var l=i(e,t,s.position),f=i(e,t,s.end.position);c.y=Math.min(l,f),c.height=Math.abs(l-f)}else c.y=i(e,t,s.position);r.push(c)}}return r}},{key:"getVisibleBarLines",value:function(e,t,n){return n||(n=0),this._barLines.filter(function(r){return r>=e-n&&t>=r}).map(function(n){return{id:n,y:i(e,t,n)}})}}]),e}();t.NoteArea=l,t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(312),s=r(a),u=n(64),c=function(){function e(t){o(this,e);var n=t.notechart;this._currentSpeed=1,this._player=t,this._noteArea=new s["default"](n.notes,n.barLines),this._stateful={},this._defaultData={placement:t.options.placement,scratch:t.options.scratch}}return i(e,[{key:"update",value:function(e,t,n){function r(){b.beat=m}function o(e){return n.stats.counts&&n.stats.counts[e]}function i(){return(100*(n.stats.currentAccuracy||0)).toFixed(2)+"%"}function a(){var e=d.getVisibleNotes(g,p(),1),t=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value,c=s.note,l=c.column;if(s.height){var f=n.getNoteJudgment(c),h=n.getNoteStatus(c);_("longnote_"+l,{key:c.id,y:s.y,height:s.height,active:0!==f&&f!==u.MISSED,missed:"judged"===h&&f===u.MISSED})}else"judged"!==n.getNoteStatus(c)&&_("note_"+l,{key:c.id,y:s.y})}}catch(v){r=!0,o=v}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw o}}}function s(){var e=d.getVisibleBarLines(g,p(),1),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;_("barlines",{key:a.id,y:a.y})}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}function c(){var t=n.input,r=!0,o=!1,i=void 0;try{for(var a,s=h.columns[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=t.get(u);b[u+"_active"]=0!==c.value?1:0,c.changed&&(0!==c.value?v[u+"_down"]=e:v[u+"_up"]=e)}}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}}function l(){var t=n.notifications.judgments,r=t[t.length-1];if(r){var o=-1===r.judgment?"missed":""+r.judgment;v["judge_"+o]=e,v.combo=r.combo}b.score=n.stats.score}function f(){for(var t=n.notifications.judgments,r=0;r<t.length;r++){var o=t[r];u.breaksCombo(o.judgment)||(v[o.column+"_explode"]=e)}}function p(){return g+5/w}var h=this._player,d=this._noteArea,v=this._stateful,m=h.notechart.secondsToBeat(t),g=h.notechart.beatToPosition(m),y=h.notechart.spacingAtBeat(m),b=Object.assign({},this._defaultData),_=function(e,t){return(b[e]||(b[e]=[])).push(t)};this._currentSpeed+=(n.speed-this._currentSpeed)/3;var w=this._currentSpeed*y;return r(),a(),s(),c(),l(),f(),b.speed=n.speed.toFixed(1)+"x",b.stat_1=o(1),b.stat_2=o(2),b.stat_3=o(3),b.stat_4=o(4),b.stat_missed=o(u.MISSED),b.stat_acc=i(),b.bpm=Math.round(h.notechart.bpmAtBeat(m)),Object.assign(b,v),b}}]),e}();t.PlayerDisplay=c,t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(149),s=r(a),u=n(17),c=r(u),l=n(97),f=r(l),p=n(152),h=r(p),d=n(349),v=r(d),m=n(356),g=r(m),y=function(){function e(t){var n=this,r=(arguments.length<=1||void 0===arguments[1]?1:arguments[1],arguments.length<=2||void 0===arguments[2]?{}:arguments[2]);o(this,e);var i=s["default"].Notes.fromBMSChart(t).all(),a=s["default"].Timing.fromBMSChart(t),u=s["default"].Keysounds.fromBMSChart(t),c=s["default"].SongInfo.fromBMSChart(t),l=s["default"].Positioning.fromBMSChart(t),f=s["default"].Spacing.fromBMSChart(t);i=this._preTransform(t,i,r),this._timing=a,this._positioning=l,this._spacing=f,this._keysounds=u,this._duration=0,this._notes=this._generatePlayableNotesFromBMS(i),this._autos=this._generateAutoKeysoundEventsFromBMS(i),this._barLines=this._generateBarLines(i,t),this._samples=this._generateKeysoundFiles(u),this._infos=new Map(this._notes.map(function(e){return[e,n._getNoteInfo(e)]})),this._songInfo=c}return i(e,[{key:"info",value:function(e){return this._infos.get(e)}},{key:"beatToSeconds",value:function(e){return this._timing.beatToSeconds(e)}},{key:"beatToPosition",value:function(e){return this._positioning.position(e)}},{key:"secondsToBeat",value:function(e){return this._timing.secondsToBeat(e)}},{key:"secondsToPosition",value:function(e){return this.beatToPosition(this.secondsToBeat(e))}},{key:"bpmAtBeat",value:function(e){return this._timing.bpmAtBeat(e)}},{key:"scrollSpeedAtBeat",value:function(e){return this._positioning.speed(e)}},{key:"spacingAtBeat",value:function(e){return this._spacing.factor(e)}},{key:"_preTransform",value:function(e,t,n){var r=c["default"].chain(t),o=g["default"](e);return"off"===n.scratch&&(r=r.map(function(e){return e.column&&"SC"===e.column?Object.assign({},e,{column:null}):e})),"5K"===o&&!function(){var e=["1","2","3","4","5","6","7"],t=function(t){return function(n){if(n.column){var r=e.indexOf(n.column);if(r>-1){var o=r+t;f["default"](o<e.length,"Weird. Columns must not shift beyond available column");var i=e[o];return Object.assign({},n,{column:i})}}return n}};"off"===n.scratch?r=r.map(t(1)):"right"===n.scratch&&(r=r.map(t(2)))}(),r.value()}},{key:"_generatePlayableNotesFromBMS",value:function(e){var t=this,n=1;return e.filter(function(e){return e.column}).map(function(e){var r=t._generateEvent(e.beat);return r.id=n++,r.column=e.column,r.keysound=e.keysound,t._updateDuration(r),void 0!==e.endBeat?(r.end=t._generateEvent(e.endBeat),t._updateDuration(r.end)):r.end=void 0,new v["default"](r)})}},{key:"_updateDuration",value:function(e){e.time>this._duration&&(this._duration=e.time)}},{key:"_generateAutoKeysoundEventsFromBMS",value:function(e){var t=this;return e.filter(function(e){return!e.column}).map(function(e){var n=t._generateEvent(e.beat);return n.keysound=e.keysound,new h["default"](n)})}},{key:"_generateBarLines",value:function(e,t){var n=c["default"].max(e.map(function(e){return e.endBeat||e.beat})),r=[{beat:0,position:0}],o=0,i=0,a=0;do o+=t.timeSignatures.getBeats(i),i+=1,a=this.beatToPosition(o),r.push({beat:o,position:a});while(n>=o);return r}},{key:"_generateKeysoundFiles",value:function(e){for(var t=new Set,n=[this.notes,this.autos],r=0;r<n.length;r++){var o=n[r],i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value,f=e.get(l.keysound);f&&t.add(f)}}catch(p){a=!0,s=p}finally{try{!i&&c["return"]&&c["return"]()}finally{if(a)throw s}}}return Array.from(t)}},{key:"_generateEvent",value:function(e){return{beat:e,time:this.beatToSeconds(e),position:this.beatToPosition(e)}}},{key:"_getNoteInfo",value:function(e){var t=e.end?2:1;return{combos:t}}},{key:"notes",get:function(){return this._notes}},{key:"autos",get:function(){return this._autos}},{key:"samples",get:function(){return this._samples}},{key:"keysounds",get:function(){return this._keysounds.all()}},{key:"barLines",get:function(){return this._barLines}},{key:"columns",get:function(){return["SC","1","2","3","4","5","6","7"]}},{key:"duration",get:function(){return this._duration}},{key:"songInfo",get:function(){return this._songInfo}}],[{key:"fromBMSChart",value:function(t,n,r){return new e(t,n,r)}}]),e}();t.Notechart=y,t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return function(t){var n=0;return Object.defineProperties({notes:t,update:function(){for(;n<t.length&&"judged"===e.getNoteStatus(t[n]);)n+=1}},{startIndex:{get:function(){return n},configurable:!0,enumerable:!0}})}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(17),u=r(s),c=n(64),l=n(316),f=r(l),p=function(){function e(t){o(this,e),this._player=t,this._columns=t.columns,this._noteBufferByColumn=u["default"](t.notechart.notes).sortBy("time").groupBy("column").mapValues(i(this)).value(),this._noteResult=new Map,this._duration=t.notechart.duration,this.stats=new f["default"](t.notechart),this.notifications={},this.speed=t.options.speed,this.finished=!1}return a(e,[{key:"update",value:function(e,t){this._gameTime=e,this._rawInput=t,this.notifications={},this.notifications.sounds=[],this.notifications.judgments=[],this._updateInputColumnMap(),this._judgeNotes(),this._updateSpeed(),e>this._duration+1&&(this.finished=!0)}},{key:"getNoteStatus",value:function(e){var t=this._noteResult.get(e);return t?t.status:"unjudged"}},{key:"getNoteJudgment",value:function(e){var t=this._noteResult.get(e);return t?t.judgment:0}},{key:"getPlayerInput",value:function(e){return this._rawInput.get("p"+this._player.number+"_"+e)}},{key:"_updateInputColumnMap",value:function(){var e=this;this.input=new Map(this._columns.map(function(t){return[t,e.getPlayerInput(t)]}))}},{key:"_judgeNotes",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this._columns[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=this._noteBufferByColumn[i];if(a){var s=this.input.get(i);this._judgeColumn(a,s),a.update()}}}catch(u){t=!0,n=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}},{key:"_updateSpeed",value:function(){this.getPlayerInput("speedup").justPressed&&this._modifySpeed(1),this.getPlayerInput("speeddown").justPressed&&this._modifySpeed(-1);var e=this.getPlayerInput("pinch").value;if(e&&!this._pinching?this._pinching={start:e,speed:this.speed}:e||(this._pinching=null),e){var t=this._pinching,n=t.speed*e/t.start;this.speed=Math.max(.2,Math.round(10*n)/10)}}},{key:"_modifySpeed",value:function(e){var t=this._rawInput.get("select").value?.1:this.speed<.5?.3:.5;this.speed+=e*t,this.speed<.2&&(this.speed=.2)}},{key:"_judgeColumn",value:function(e,t){for(var n=void 0,r=void 0,o=e.notes,i=e.startIndex;i<o.length;i++){var a=o[i];if(this._shouldJudge(a,t,e)){var s="active"!==this.getNoteStatus(a);if(n=a,r=this._judge(a),s)break}}if(t.justPressed)if(n)this.notifications.sounds.push({note:n,type:"hit",judgment:r});else{var u=this._getFreestyleNote(o);u&&this.notifications.sounds.push({note:u,type:"free"})}}},{key:"_getClosestNote",value:function(e){var t=this;return u["default"].min(e,function(e){return Math.abs(t._gameTime-e.time)})}},{key:"_getFreestyleNote",value:function(e){var t=this;return u["default"].min(e,function(e){var n=Math.abs(t._gameTime-e.time),r=t._gameTime<e.time-1?1e6:0;return n+r})}},{key:"_shouldJudge",value:function(e,t,n){var r=this.getNoteStatus(e);if("unjudged"===r){var o=c.judgeTime(this._gameTime,e.time),i=o===c.MISSED,a=o>0&&t.changed&&t.value;return c.isBad(o)&&this._getClosestNote(n.notes)!==e&&(a=!1),i||a}if("active"===r){var o=c.judgeEndTime(this._gameTime,e.end.time),i=o===c.MISSED,s=t.changed;return i||s}return!1}},{key:"_judge",value:function(e){var t=this._gameTime-e.time,n=c.judgeTime(this._gameTime,e.time),r=this._noteResult.get(e);if(e.end)if(r&&"unjudged"!==r.status){if("active"===r.status){var o="SC"===e.column;t=this._gameTime-e.end.time,n=c.judgeEndTime(this._gameTime,e.end.time)||c.MISSED,o&&t>0&&(n=1),r={status:"judged",judgment:n,delta:t}}}else{var i=n===c.MISSED?"judged":"active";r={status:i,judgment:n,delta:t}}else r={status:"judged",judgment:n,delta:t};return n===c.MISSED&&this.notifications.sounds.push({note:e,type:"break"}),this._noteResult.set(e,r),this._setJudgment(n,t,e.column),n}},{key:"_setJudgment",value:function(e,t,n){this.stats.handleJudgment(e);var r={judgment:e,combo:this.stats.combo,delta:t,column:n};this.notifications.judgments.push(r)}},{key:"player",get:function(){return this._player}}]),e}();t.PlayerState=p,t["default"]=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(17),c=o(u),l=n(64),f=r(l),p=function(){function e(t){var n;a(this,e),this.totalCombo=c["default"](t.notes).map(function(e){return t.info(e).combos}).sum(),this.combo=0,this.maxCombo=0,this.rawSumJudgmentWeight=0,this.rawTotalComboScore=this._calculateRawTotalComboScore(),this.rawSumComboScore=0,this.counts=(n={},i(n,f.MISSED,0),i(n,"1",0),i(n,"2",0),i(n,"3",0),i(n,"4",0),n),this.numJudgments=0,this.poor=!1,this._log=[]}return s(e,[{key:"handleJudgment",value:function(e){f.breaksCombo(e)?(this.combo=0,this.poor=!0):(this.combo+=1,this.rawSumComboScore+=this._calculateRawComboScore(this.combo),this.poor=!1),this.rawSumJudgmentWeight+=f.weight(e),this.combo>this.maxCombo&&(this.maxCombo=this.combo),this.counts[e]+=1,this.numJudgments+=1,this._recordLog(e)}},{key:"_calculateRawTotalComboScore",value:function(){for(var e=0,t=1;t<=this.totalCombo;t++)e+=this._calculateRawComboScore(t);return e}},{key:"_calculateRawComboScore",value:function(e){return 0===e?0:23>e?1:51>e?2:92>e?3:161>e?4:5}},{key:"_recordLog",value:function(e){var t=this._getLogCharacter(e);t&&(0===this._log.length||this._log[this._log.length-1].character!==t?this._log.push({character:t,count:1}):this._log[this._log.length-1].count+=1)}},{key:"_getLogCharacter",value:function(e){switch(e){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";case f.MISSED:return"M"}}},{key:"score",get:function(){var e=Math.floor(5e5*this.accuracy),t=Math.floor(55555*this.rawSumComboScore/this.rawTotalComboScore);return e+t}},{key:"accuracy",get:function(){return this.rawSumJudgmentWeight/(f.weight(1)*this.totalCombo)}},{key:"currentAccuracy",get:function(){return this.rawSumJudgmentWeight/(f.weight(1)*this.numJudgments||1)}},{key:"log",get:function(){return this._log.map(function(e){var t=e.character,n=e.count;return""+(n>1?n:"")+t}).join("")}}]),e}();t.PlayerStats=p,t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.match(/^(\d+)x(\d+)\+(\d+)\+(\d+)$/);return t?new a["default"].Rectangle(+t[3],+t[4],+t[1],+t[2]):null}Object.defineProperty(t,"__esModule",{value:!0}),t.parseFrame=o;var i=n(33),a=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o);t["default"]=i["default"].createClass({displayName:"flex",render:function(){var e={};return void 0!==this.props.grow&&(e.flex=this.props.grow),i["default"].createElement("div",{style:e})}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(531);var o=n(3),i=r(o),a=n(34),s=r(a);t["default"]=i["default"].createClass({displayName:"scene-heading",render:function(){return i["default"].createElement("div",{className:s["default"]("scene-heading",this.props.className)},this.props.children)}}),e.exports=t["default"]},function(e,t,n){e.exports=n.p+"7d6d69a86d70e4e52079c5ce873435c6.jpg"},function(e,t,n){var r=n(501);e.exports=function(e,t,n,o){if("number"==typeof e&&"number"==typeof t)return r(e,t,n);var i=Math.min(e.length,t.length);o=o||new Array(i);for(var a=0;i>a;a++)o[a]=r(e[a],t[a],n);return o}},function(e,t,n){"use strict";var r=n(3),o=r.createClass({displayName:"Overlay",propTypes:{children:r.PropTypes.node},componentDidMount:function(){this.updateOverlay()},componentDidUpdate:function(){this.updateOverlay()},componentWillUnmount:function(){this._element&&(r.unmountComponentAtNode(this._element),this._element.parentNode&&this._element.parentNode.removeChild(this._element))},updateOverlay:function(){this._element||(this._element=document.createElement("div"),this._element.className=o.CONTAINER_CLASS_NAME,document.body.appendChild(this._element));var e=r.createElement("div",{className:o.OVERLAY_CLASS_NAME},this.props.children);r.render(e,this._element)},render:function(){return r.createElement("tw-overlay",{style:{display:"none"}})}});o.CONTAINER_CLASS_NAME="tw-overlay-container",o.OVERLAY_CLASS_NAME="tw-overlay",e.exports=o},function(e,t){"use strict";t.getName=function(e){var t=e.displayName||e.name;if(!t){var n=e.toString().match(/function ([^\s\(]+)/);t=n&&n[1]}return t},t.toString=function(){if(this.getCall&&this.callCount)for(var e,t,n=this.callCount;n--;){e=this.getCall(n).thisValue;for(t in e)if(e[t]===this)return t}return this.displayName||"sinon fake"},t.create=function(e){var t=function(){};return t.prototype=e,new t}},function(e,t,n){var r,o;(function(n,i){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function a(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(s,arguments)}}var s,u,c={};s=this,null!=s&&(u=s.async),c.noConflict=function(){return s.async=u,c};var l=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===l.call(e)},p=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},h=function(e,t){if(e.map)return e.map(t);var n=[];return p(e,function(e,r,o){n.push(t(e,r,o))}),n},d=function(e,t,n){return e.reduce?e.reduce(t,n):(p(e,function(e,r,o){n=t(n,e,r,o)}),n)},v=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof n&&n.nextTick?(c.nextTick=n.nextTick,"undefined"!=typeof i?c.setImmediate=function(e){i(e)}:c.setImmediate=c.nextTick):"function"==typeof i?(c.nextTick=function(e){i(e)},c.setImmediate=c.nextTick):(c.nextTick=function(e){setTimeout(e,0)},c.setImmediate=c.nextTick),c.each=function(e,t,n){function r(t){t?(n(t),n=function(){}):(o+=1,o>=e.length&&n())}if(n=n||function(){},!e.length)return n();var o=0;p(e,function(e){t(e,a(r))})},c.forEach=c.each,c.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,o=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n():o())})};o()},c.forEachSeries=c.eachSeries,c.eachLimit=function(e,t,n,r){var o=m(t);o.apply(null,[e,n,r])},c.forEachLimit=c.eachLimit;var m=function(e){return function(t,n,r){if(r=r||function(){},!t.length||0>=e)return r();var o=0,i=0,a=0;!function s(){if(o>=t.length)return r();for(;e>a&&i<t.length;)i+=1,a+=1,n(t[i-1],function(e){e?(r(e),r=function(){}):(o+=1,a-=1,o>=t.length?r():s())})}()}},g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.each].concat(t))}},y=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[m(e)].concat(n))}},b=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.eachSeries].concat(t))}},_=function(e,t,n,r){if(t=h(t,function(e,t){return{index:t,value:e}}),r){var o=[];e(t,function(e,t){n(e.value,function(n,r){o[e.index]=r,t(n)})},function(e){r(e,o)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};c.map=g(_),c.mapSeries=b(_),c.mapLimit=function(e,t,n,r){return w(t)(e,n,r)};var w=function(e){return y(e,_)};c.reduce=function(e,t,n,r){c.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(e,t,n,r){var o=h(e,function(e){return e}).reverse();c.reduce(o,t,n,r)},c.foldr=c.reduceRight;var x=function(e,t,n,r){var o=[];t=h(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&o.push(e),t()})},function(e){r(h(o.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};c.filter=g(x),c.filterSeries=b(x),c.select=c.filter,c.selectSeries=c.filterSeries;var E=function(e,t,n,r){var o=[];t=h(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||o.push(e),t()})},function(e){r(h(o.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};c.reject=g(E),c.rejectSeries=b(E);var S=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};c.detect=g(S),c.detectSeries=b(S),c.some=function(e,t,n){c.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(e){n(!1)})},c.any=c.some,c.every=function(e,t,n){c.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(e){n(!0)})},c.all=c.every,c.sortBy=function(e,t,n){c.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0};n(null,h(t.sort(r),function(e){return e.value}))})},c.auto=function(e,t){t=t||function(){};var n=v(e),r=n.length;if(!r)return t();var o={},i=[],a=function(e){i.unshift(e)},s=function(e){for(var t=0;t<i.length;t+=1)if(i[t]===e)return void i.splice(t,1)},u=function(){r--,p(i.slice(0),function(e){e()})};a(function(){if(!r){var e=t;t=function(){},e(null,o)}}),p(n,function(n){var r=f(e[n])?e[n]:[e[n]],i=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var i={};p(v(o),function(e){i[e]=o[e]}),i[n]=r,t(e,i),t=function(){}}else o[n]=r,c.setImmediate(u)},l=r.slice(0,Math.abs(r.length-1))||[],h=function(){return d(l,function(e,t){return e&&o.hasOwnProperty(t)},!0)&&!o.hasOwnProperty(n)};if(h())r[r.length-1](i,o);else{var m=function(){h()&&(s(m),r[r.length-1](i,o))};a(m)}})},c.retry=function(e,t,n){var r=5,o=[];"function"==typeof e&&(n=t,t=e,e=r),e=parseInt(e,10)||r;var i=function(r,i){for(var a=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},i)}};e;)o.push(a(t,!(e-=1)));c.series(o,function(e,t){t=t[t.length-1],(r||n)(t.err,t.result)})};return n?i():i},c.waterfall=function(e,t){if(t=t||function(){},!f(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),i=e.next();i?o.push(r(i)):o.push(t),c.setImmediate(function(){e.apply(null,o)})}}};r(c.iterator(e))()};var C=function(e,t,n){if(n=n||function(){},f(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(v(t),function(e,n){t[e](function(t){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),r[e]=o,n(t)})},function(e){n(e,r)})}};c.parallel=function(e,t){C({map:c.map,each:c.each},e,t)},c.parallelLimit=function(e,t,n){C({map:w(t),each:m(t)},e,n)},c.series=function(e,t){if(t=t||function(){},f(e))c.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};c.eachSeries(v(e),function(t,r){e[t](function(e){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),n[t]=o,r(e)})},function(e){t(e,n)})}},c.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},c.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var T=function(e,t,n,r){var o=[];e(t,function(e,t){n(e,function(e,n){o=o.concat(n||[]),t(e)})},function(e){r(e,o)})};c.concat=g(T),c.concatSeries=b(T),c.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void c.whilst(e,t,n)}):n()},c.doWhilst=function(e,t,n){e(function(r){if(r)return n(r);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?c.doWhilst(e,t,n):n()})},c.until=function(e,t,n){e()?n():t(function(r){return r?n(r):void c.until(e,t,n)})},c.doUntil=function(e,t,n){e(function(r){if(r)return n(r);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?n():c.doUntil(e,t,n)})},c.queue=function(e,t){function n(e,t,n,r){return e.started||(e.started=!0),f(t)||(t=[t]),0==t.length?c.setImmediate(function(){e.drain&&e.drain()}):void p(t,function(t){var o={data:t,callback:"function"==typeof r?r:null};n?e.tasks.unshift(o):e.tasks.push(o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)})}void 0===t&&(t=1);var r=0,o={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(o,e,!1,t)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(e,t){n(o,e,!0,t)},process:function(){if(!o.paused&&r<o.concurrency&&o.tasks.length){var t=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),r+=1;var n=function(){r-=1,t.callback&&t.callback.apply(t,arguments),o.drain&&o.tasks.length+r===0&&o.drain(),o.process()},i=a(n);e(t.data,i)}},length:function(){return o.tasks.length},running:function(){return r},idle:function(){return o.tasks.length+r===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var e=1;e<=o.concurrency;e++)c.setImmediate(o.process)}}};return o},c.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function r(e,t,n){for(var r=-1,o=e.length-1;o>r;){var i=r+(o-r+1>>>1);n(t,e[i])>=0?r=i:o=i-1}return r}function o(e,t,o,i){return e.started||(e.started=!0),f(t)||(t=[t]),0==t.length?c.setImmediate(function(){e.drain&&e.drain()}):void p(t,function(t){var a={data:t,priority:o,callback:"function"==typeof i?i:null};e.tasks.splice(r(e.tasks,a,n)+1,0,a),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)})}var i=c.queue(e,t);return i.push=function(e,t,n){o(i,e,t,n)},delete i.unshift,i},c.cargo=function(e,t){var n=!1,r=[],o={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){f(e)||(e=[e]),p(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),o.drained=!1,o.saturated&&r.length===t&&o.saturated()}),c.setImmediate(o.process)},process:function i(){if(!n){if(0===r.length)return o.drain&&!o.drained&&o.drain(),void(o.drained=!0);var a="number"==typeof t?r.splice(0,t):r.splice(0,r.length),s=h(a,function(e){return e.data});o.empty&&o.empty(),n=!0,e(s,function(){n=!1;var e=arguments;p(a,function(t){t.callback&&t.callback.apply(null,e)}),i()})}},length:function(){return r.length},running:function(){return n}};return o};var O=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&p(n,function(t){console[e](t)}))}]))}};c.log=O("log"),c.dir=O("dir"),c.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var o=function(){var o=Array.prototype.slice.call(arguments),i=o.pop(),a=t.apply(null,o);a in n?c.nextTick(function(){i.apply(null,n[a])}):a in r?r[a].push(i):(r[a]=[i],e.apply(null,o.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,o=e.length;o>t;t++)e[t].apply(null,arguments)}])))};return o.memo=n,o.unmemoized=e,o},c.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},c.times=function(e,t,n){for(var r=[],o=0;e>o;o++)r.push(o);return c.map(r,t,n)},c.timesSeries=function(e,t,n){for(var r=[],o=0;e>o;o++)r.push(o);return c.mapSeries(r,t,n)},c.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();c.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}},c.compose=function(){return c.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),o=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},o)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};c.applyEach=g(A),c.applyEachSeries=b(A),c.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},"undefined"!=typeof e&&e.exports?e.exports=c:(r=[],o=function(){return c}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()}).call(t,n(1),n(231).setImmediate)},function(e,t,n){function r(){a.call(this),this.position=new o.Point,this.scale=new o.Point(1,1),this.pivot=new o.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new o.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new o.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cachedObject=null}var o=n(21),i=n(164),a=n(58),s=n(12),u=new o.Matrix;r.prototype=Object.create(a.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},worldVisible:{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},mask:{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}}),r.prototype.updateTransform=function(){var e,t,n,r,o,i,a=this.parent.worldTransform,u=this.worldTransform;this.rotation%s.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),e=this._cr*this.scale.x,t=this._sr*this.scale.x,n=-this._sr*this.scale.y,r=this._cr*this.scale.y,o=this.position.x,i=this.position.y,(this.pivot.x||this.pivot.y)&&(o-=this.pivot.x*e+this.pivot.y*n,i-=this.pivot.x*t+this.pivot.y*r),u.a=e*a.a+t*a.c,u.b=e*a.b+t*a.d,u.c=n*a.a+r*a.c,u.d=n*a.b+r*a.d,u.tx=o*a.a+i*a.c+a.tx,u.ty=o*a.b+i*a.d+a.ty):(e=this.scale.x,r=this.scale.y,o=this.position.x-this.pivot.x*e,i=this.position.y-this.pivot.y*r,u.a=e*a.a,u.b=e*a.b,u.c=r*a.c,u.d=r*a.d,u.tx=o*a.a+i*a.c+a.tx,u.ty=o*a.b+i*a.d+a.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},r.prototype.displayObjectUpdateTransform=r.prototype.updateTransform,r.prototype.getBounds=function(e){return o.Rectangle.EMPTY},r.prototype.getLocalBounds=function(){return this.getBounds(o.Matrix.IDENTITY)},r.prototype.toGlobal=function(e){return this.displayObjectUpdateTransform(),this.worldTransform.apply(e)},r.prototype.toLocal=function(e,t){return t&&(e=t.toGlobal(e)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(e)},r.prototype.renderWebGL=function(e){},r.prototype.renderCanvas=function(e){},r.prototype.generateTexture=function(e,t,n){var r=this.getLocalBounds(),o=new i(e,0|r.width,0|r.height,t,n);return u.tx=-r.x,u.ty=-r.y,o.render(this,u),o},r.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},function(e,t){function n(e,t,n,r,o,i,a){this.lineWidth=e,this.lineColor=t,this.lineAlpha=n,this._lineTint=t,this.fillColor=r,this.fillAlpha=o,this._fillTint=r,this.fill=i,this.shape=a,this.type=a.type}n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},n.prototype.destroy=function(){this.shape=null}},function(e,t,n){function r(e,t,n,r){if(s.call(this),o.sayHello(e),r)for(var u in a.DEFAULT_RENDER_OPTIONS)"undefined"==typeof r[u]&&(r[u]=a.DEFAULT_RENDER_OPTIONS[u]);else r=a.DEFAULT_RENDER_OPTIONS;this.type=a.RENDERER_TYPE.UNKNOWN,this.width=t||800,this.height=n||600,this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new i.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var o=n(22),i=n(21),a=n(12),s=n(58);r.prototype=Object.create(s.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=o.hex2string(e),o.hex2rgb(e,this._backgroundColorRgb)}}}),r.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},r.prototype.destroy=function(e){e&&this.view.parent&&this.view.parent.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},function(e,t,n){function r(){o.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var o=n(162);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n){var r=e.filterManager,o=this.getShader(e);r.applyFilter(o,t,n)}},function(e,t,n){function r(e){var t=new i.Matrix;o.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:e._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:t.toArray(!0)}}),this.maskSprite=e,this.maskMatrix=t}var o=n(162),i=n(21);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n){var r=e.filterManager;this.uniforms.mask.value=this.maskSprite._texture,r.calculateMappedMatrix(t.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var o=this.getShader(e);r.applyFilter(o,t,n)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(e){this.uniforms.mask.value=e}},offset:{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}}})},function(e,t,n){function r(e){o.call(this,e),this.filterStack=[],this.filterStack.push({renderTarget:e.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new u.Rectangle(0,0,e.width,e.height),this.currentFrame=null}var o=n(65),i=n(134),a=n(12),s=n(560),u=n(21);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.onContextChange=function(){this.texturePool.length=0;var e=this.renderer.gl;this.quad=new s(e)},r.prototype.setFilterStack=function(e){this.filterStack=e},r.prototype.pushFilter=function(e,t){var n=e.filterArea?e.filterArea.clone():e.getBounds();n.x=0|n.x,n.y=0|n.y,n.width=0|n.width,n.height=0|n.height;var r=0|t[0].padding;if(n.x-=r,n.y-=r,n.width+=2*r,n.height+=2*r,this.renderer.currentRenderTarget.transform){var o=this.renderer.currentRenderTarget.transform;n.x+=o.tx,n.y+=o.ty,this.capFilterArea(n),n.x-=o.tx,n.y-=o.ty}else this.capFilterArea(n);if(n.width>0&&n.height>0){this.currentFrame=n;var i=this.getRenderTarget();this.renderer.setRenderTarget(i),i.clear(),this.filterStack.push({renderTarget:i,filter:t})}else this.filterStack.push({renderTarget:null,filter:t})},r.prototype.popFilter=function(){var e=this.filterStack.pop(),t=this.filterStack[this.filterStack.length-1],n=e.renderTarget;if(e.renderTarget){var r=t.renderTarget,o=this.renderer.gl;this.currentFrame=n.frame,this.quad.map(this.textureSize,n.frame),o.bindBuffer(o.ARRAY_BUFFER,this.quad.vertexBuffer),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var i=e.filter;if(o.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,o.FLOAT,!1,0,0),o.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,o.FLOAT,!1,0,32),o.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,o.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(a.BLEND_MODES.NORMAL),1===i.length)i[0].uniforms.dimensions&&(i[0].uniforms.dimensions.value[0]=this.renderer.width,i[0].uniforms.dimensions.value[1]=this.renderer.height,i[0].uniforms.dimensions.value[2]=this.quad.vertices[0],i[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),i[0].applyFilter(this.renderer,n,r),this.returnRenderTarget(n);else{for(var s=n,u=this.getRenderTarget(!0),c=0;c<i.length-1;c++){var l=i[c];l.uniforms.dimensions&&(l.uniforms.dimensions.value[0]=this.renderer.width,l.uniforms.dimensions.value[1]=this.renderer.height,l.uniforms.dimensions.value[2]=this.quad.vertices[0],l.uniforms.dimensions.value[3]=this.quad.vertices[5]),l.applyFilter(this.renderer,s,u);var f=s;s=u,u=f}i[i.length-1].applyFilter(this.renderer,s,r),this.returnRenderTarget(s),this.returnRenderTarget(u)}return e.filter}},r.prototype.getRenderTarget=function(e){var t=this.texturePool.pop()||new i(this.renderer.gl,this.textureSize.width,this.textureSize.height,a.SCALE_MODES.LINEAR,this.renderer.resolution*a.FILTER_RESOLUTION);return t.frame=this.currentFrame,e&&t.clear(!0),t},r.prototype.returnRenderTarget=function(e){this.texturePool.push(e)},r.prototype.applyFilter=function(e,t,n,r){var o=this.renderer.gl;this.renderer.setRenderTarget(n),r&&n.clear(),this.renderer.shaderManager.setShader(e),e.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),e.syncUniforms(),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)},r.prototype.calculateMappedMatrix=function(e,t,n){var r=t.worldTransform.copy(u.Matrix.TEMP_MATRIX),o=t._texture.baseTexture,i=n.identity(),a=this.textureSize.height/this.textureSize.width;i.translate(e.x/this.textureSize.width,e.y/this.textureSize.height),i.scale(1,a);var s=this.textureSize.width/o.width,c=this.textureSize.height/o.height;return r.tx/=o.width*s,r.ty/=o.width*s,r.invert(),i.prepend(r),i.scale(1,1/a),i.scale(s,c),i.translate(t.anchor.x,t.anchor.y),i},r.prototype.capFilterArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.textureSize.width&&(e.width=this.textureSize.width-e.x),e.y+e.height>this.textureSize.height&&(e.height=this.textureSize.height-e.y)},r.prototype.resize=function(e,t){this.textureSize.width=e,this.textureSize.height=t;for(var n=0;n<this.texturePool.length;n++)this.texturePool[n].resize(e,t)},r.prototype.destroy=function(){this.filterStack=null,this.offsetY=0;for(var e=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null}},function(e,t,n){function r(e){o.call(this,e),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var o=n(65),i=n(163),a=n(558),s=n(559),u=n(22);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,u.pluginTarget.mixin(r),e.exports=r,r.prototype.onContextChange=function(){this.initPlugins();var e=this.renderer.gl;this.maxAttibs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.defaultShader=new i(this),this.primitiveShader=new s(this),this.complexPrimitiveShader=new a(this)},r.prototype.setAttribs=function(e){var t;for(t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(var n in e)this.tempAttribState[e[n]]=!0;var r=this.renderer.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.attribState[t]?r.enableVertexAttribArray(t):r.disableVertexAttribArray(t))},r.prototype.setShader=function(e){return this._currentId===e.uid?!1:(this._currentId=e.uid,this.currentShader=e,this.renderer.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},r.prototype.destroy=function(){o.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},function(e,t,n){function r(e){a.call(this),this.anchor=new o.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=c.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=e||i.EMPTY}var o=n(21),i=n(95),a=n(131),s=n(554),u=n(22),c=n(12),l=new o.Point;r.prototype=Object.create(a.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this.scale.x*this.texture._frame.width},set:function(e){this.scale.x=e/this.texture._frame.width,this._width=e}},height:{get:function(){return this.scale.y*this.texture._frame.height},set:function(e){this.scale.y=e/this.texture._frame.height,this._height=e}},texture:{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,this.cachedTint=16777215,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}}),r.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},r.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this)},r.prototype.getBounds=function(e){if(!this._currentBounds){var t,n,r,o,i=this._texture._frame.width,a=this._texture._frame.height,s=i*(1-this.anchor.x),u=i*-this.anchor.x,c=a*(1-this.anchor.y),l=a*-this.anchor.y,f=e||this.worldTransform,p=f.a,h=f.b,d=f.c,v=f.d,m=f.tx,g=f.ty;if(0===h&&0===d)0>p&&(p*=-1),
0>v&&(v*=-1),t=p*u+m,n=p*s+m,r=v*l+g,o=v*c+g;else{var y=p*u+d*l+m,b=v*l+h*u+g,_=p*s+d*l+m,w=v*l+h*s+g,x=p*s+d*c+m,E=v*c+h*s+g,S=p*u+d*c+m,C=v*c+h*u+g;t=y,t=t>_?_:t,t=t>x?x:t,t=t>S?S:t,r=b,r=r>w?w:r,r=r>E?E:r,r=r>C?C:r,n=y,n=_>n?_:n,n=x>n?x:n,n=S>n?S:n,o=b,o=w>o?w:o,o=E>o?E:o,o=C>o?C:o}if(this.children.length){var T=this.containerGetBounds();s=T.x,u=T.x+T.width,c=T.y,l=T.y+T.height,t=s>t?t:s,r=c>r?r:c,n=n>u?n:u,o=o>l?o:l}var O=this._bounds;O.x=t,O.width=n-t,O.y=r,O.height=o-r,this._currentBounds=O}return this._currentBounds},r.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,l);var t,n=this._texture._frame.width,r=this._texture._frame.height,o=-n*this.anchor.x;return l.x>o&&l.x<o+n&&(t=-r*this.anchor.y,l.y>t&&l.y<t+r)?!0:!1},r.prototype._renderCanvas=function(e){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)&&(this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,e.context.globalCompositeOperation=e.blendModes[e.currentBlendMode]),this.texture.valid)){var t,n,r,o,i=this._texture,a=this.worldTransform;if(e.context.globalAlpha=this.worldAlpha,e.smoothProperty&&e.currentScaleMode!==i.baseTexture.scaleMode&&(e.currentScaleMode=i.baseTexture.scaleMode,e.context[e.smoothProperty]=e.currentScaleMode===c.SCALE_MODES.LINEAR),i.rotate){var u=a.a,l=a.b;a.a=-a.c,a.b=-a.d,a.c=u,a.d=l,r=i.crop.height,o=i.crop.width,t=i.trim?i.trim.y-this.anchor.y*i.trim.height:this.anchor.y*-i._frame.height,n=i.trim?i.trim.x-this.anchor.x*i.trim.width:this.anchor.x*-i._frame.width}else r=i.crop.width,o=i.crop.height,t=i.trim?i.trim.x-this.anchor.x*i.trim.width:this.anchor.x*-i._frame.width,n=i.trim?i.trim.y-this.anchor.y*i.trim.height:this.anchor.y*-i._frame.height;e.roundPixels?(e.context.setTransform(a.a,a.b,a.c,a.d,a.tx*e.resolution|0,a.ty*e.resolution|0),t=0|t,n=0|n):e.context.setTransform(a.a,a.b,a.c,a.d,a.tx*e.resolution,a.ty*e.resolution);var f=i.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),e.context.drawImage(this.tintedTexture,0,0,r*f,o*f,t*e.resolution,n*e.resolution,r*e.resolution,o*e.resolution)):e.context.drawImage(i.baseTexture.source,i.crop.x*f,i.crop.y*f,r*f,o*f,t*e.resolution,n*e.resolution,r*e.resolution,o*e.resolution)}},r.prototype.destroy=function(e,t){a.prototype.destroy.call(this),this.anchor=null,e&&this._texture.destroy(t),this._texture=null,this.shader=null},r.fromFrame=function(e){var t=u.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new r(t)},r.fromImage=function(e,t,n){return new r(i.fromImage(e,t,n))}},function(e,t){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=n,n.prototype.set=function(e,t,n){var r=t.width,o=t.height;n?(this.x0=(e.x+e.height)/r,this.y0=e.y/o,this.x1=(e.x+e.height)/r,this.y1=(e.y+e.width)/o,this.x2=e.x/r,this.y2=(e.y+e.width)/o,this.x3=e.x/r,this.y3=e.y/o):(this.x0=e.x/r,this.y0=e.y/o,this.x1=(e.x+e.width)/r,this.y1=e.y/o,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/o,this.x3=e.x/r,this.y3=(e.y+e.height)/o)}},function(e,t,n){function r(e,t){if(!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),i.call(this,e,t),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),e.complete||(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function o(e,t){t||(t="video/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=t,n}var i=n(135),a=n(22);r.prototype=Object.create(i.prototype),r.prototype.constructor=r,e.exports=r,r.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},r.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},r.prototype._onPlayStop=function(){this.autoUpdate=!1},r.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},r.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete a.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),i.prototype.destroy.call(this)},r.fromVideo=function(e,t){e._pixiId||(e._pixiId="video_"+a.uid());var n=a.BaseTextureCache[e._pixiId];return n||(n=new r(e,t),a.BaseTextureCache[e._pixiId]=n),n},r.fromUrl=function(e,t){var n=document.createElement("video");if(Array.isArray(e))for(var i=0;i<e.length;++i)n.appendChild(o(e.src||e,e.mime));else n.appendChild(o(e.src||e,e.mime));return n.load(),n.play(),r.fromVideo(n,t)},r.fromUrls=r.fromUrl},function(e,t,n){/**
	 * @file        Main export of the PIXI filters library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
e.exports={AsciiFilter:n(574),BloomFilter:n(575),BlurFilter:n(577),BlurXFilter:n(136),BlurYFilter:n(166),BlurDirFilter:n(576),ColorMatrixFilter:n(579),ColorStepFilter:n(580),ConvolutionFilter:n(581),CrossHatchFilter:n(582),DisplacementFilter:n(583),DotScreenFilter:n(584),GrayFilter:n(587),DropShadowFilter:n(586),InvertFilter:n(588),NoiseFilter:n(589),NormalMapFilter:n(590),PixelateFilter:n(591),RGBSplitFilter:n(592),ShockwaveFilter:n(594),SepiaFilter:n(593),SmartBlurFilter:n(578),TiltShiftFilter:n(595),TiltShiftXFilter:n(337),TiltShiftYFilter:n(338),TwistFilter:n(596)}},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(r.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(e){this.uniforms.blur.value=e}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(e){this.uniforms.gradientBlur.value=e}},start:{get:function(){return this.uniforms.start.value},set:function(e){this.uniforms.start.value=e,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(e){this.uniforms.end.value=e,this.updateDelta()}}})},function(e,t,n){function r(){o.call(this)}var o=n(336);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.updateDelta=function(){var e=this.uniforms.end.value.x-this.uniforms.start.value.x,t=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.value.x=e/n,this.uniforms.delta.value.y=t/n}},function(e,t,n){function r(){o.call(this)}var o=n(336);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.updateDelta=function(){var e=this.uniforms.end.value.x-this.uniforms.start.value.x,t=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.value.x=-t/n,this.uniforms.delta.value.y=e/n}},function(e,t,n){function r(){this.global=new o.Point,this.target=null,this.originalEvent=null}var o=n(4);r.prototype.constructor=r,e.exports=r,r.prototype.getLocalPosition=function(e,t,n){var r=e.worldTransform,i=n?n:this.global,a=r.a,s=r.c,u=r.tx,c=r.b,l=r.d,f=r.ty,p=1/(a*l+s*-c);return t=t||new o.Point,t.x=l*p*i.x+-s*p*i.x+(f*s-u*l)*p,t.y=a*p*i.y+-c*p*i.y+(-f*a+u*c)*p,t}},function(e,t){var n={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};e.exports=n},function(e,t,n){function r(e,t){var n={},r=e.data.getElementsByTagName("info")[0],o=e.data.getElementsByTagName("common")[0];n.font=r.getAttribute("face"),n.size=parseInt(r.getAttribute("size"),10),n.lineHeight=parseInt(o.getAttribute("lineHeight"),10),n.chars={};for(var s=e.data.getElementsByTagName("char"),u=0;u<s.length;u++){var c=parseInt(s[u].getAttribute("id"),10),l=new i.Rectangle(parseInt(s[u].getAttribute("x"),10)+t.frame.x,parseInt(s[u].getAttribute("y"),10)+t.frame.y,parseInt(s[u].getAttribute("width"),10),parseInt(s[u].getAttribute("height"),10));n.chars[c]={xOffset:parseInt(s[u].getAttribute("xoffset"),10),yOffset:parseInt(s[u].getAttribute("yoffset"),10),xAdvance:parseInt(s[u].getAttribute("xadvance"),10),kerning:{},texture:new i.Texture(t.baseTexture,l)}}var f=e.data.getElementsByTagName("kerning");for(u=0;u<f.length;u++){var p=parseInt(f[u].getAttribute("first"),10),h=parseInt(f[u].getAttribute("second"),10),d=parseInt(f[u].getAttribute("amount"),10);n.chars[h].kerning[p]=d}e.bitmapFont=n,a.BitmapText.fonts[n.font]=n}var o=n(130).Resource,i=n(4),a=n(165),s=n(150);e.exports=function(){return function(e,t){if(!e.data||!e.isXml)return t();if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))return t();var n=s.dirname(e.url);"."===n&&(n=""),this.baseUrl&&n&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/"),n=n.replace(this.baseUrl,"")),n&&"/"!==n.charAt(n.length-1)&&(n+="/");var a=n+e.data.getElementsByTagName("page")[0].getAttribute("file");if(i.utils.TextureCache[a])r(e,i.utils.TextureCache[a]),t();else{var u={crossOrigin:e.crossOrigin,loadType:o.LOAD_TYPE.IMAGE};this.add(e.name+"_image",a,u,function(n){r(e,n.texture),t()})}}}},function(e,t,n){var r=n(130).Resource,o=n(150),i=n(4);e.exports=function(){return function(e,t){if(!e.data||!e.isJson||!e.data.frames)return t();var n={crossOrigin:e.crossOrigin,loadType:r.LOAD_TYPE.IMAGE},a=o.dirname(e.url.replace(this.baseUrl,"")),s=i.utils.getResolutionOfUrl(e.url);this.add(e.name+"_image",a+"/"+e.data.meta.image,n,function(n){e.textures={};var r=e.data.frames;for(var o in r){var a=r[o].frame;if(a){var u=null,c=null;if(u=r[o].rotated?new i.Rectangle(a.x,a.y,a.h,a.w):new i.Rectangle(a.x,a.y,a.w,a.h),r[o].trimmed&&(c=new i.Rectangle(r[o].spriteSourceSize.x/s,r[o].spriteSourceSize.y/s,r[o].sourceSize.w/s,r[o].sourceSize.h/s)),r[o].rotated){var l=u.width;u.width=u.height,u.height=l}u.x/=s,u.y/=s,u.width/=s,u.height/=s,e.textures[o]=new i.Texture(n.texture.baseTexture,u,u.clone(),c,r[o].rotated),i.utils.TextureCache[o]=e.textures[o]}}t()})}}},function(e,t,n){var r=n(4);e.exports=function(){return function(e,t){e.data&&e.isImage&&(e.texture=new r.Texture(new r.BaseTexture(e.data,null,r.utils.getResolutionOfUrl(e.url))),r.utils.TextureCache[e.url]=e.texture),t()}}},function(e,t,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
e.exports={Mesh:n(167),Rope:n(601),MeshRenderer:n(602),MeshShader:n(603)}},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(372);var o=n(3),i=r(o);t["default"]=i["default"].createClass({displayName:"benchmark-panel",render:function(){return i["default"].createElement("div",{className:"benchmark-panel",onClick:this.handleInteraction,onTouchStart:this.handleInteraction},this.state.show?i["default"].createElement("article",null,i["default"].createElement("b",null,"Benchmark Stats"),i["default"].createElement("br",null),this.renderTable()):"Show Benchmark Stats")},componentDidMount:function(){var e=this;setInterval(function(){return e.forceUpdate()},1e3)},renderTable:function(){var e=this.props.bench.stats;return i["default"].createElement("table",null,i["default"].createElement("tbody",null,Object.keys(e).map(function(t){var n=e[t];return i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement("strong",null,t)),i["default"].createElement("td",{align:"right"},""+n))})))},getInitialState:function(){return{show:!1,text:"wow"}},handleInteraction:function(e){e.preventDefault(),e.stopPropagation(),this.setState({show:!this.state.show})}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),i=r(o),a=n(152),s=r(a),u=new i["default"](s["default"],{id:Number,end:i["default"].maybe(s["default"]),column:String});t.GameNote=u,t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(313),u=r(s);n(373);var c=n(36),l=r(c),f=function(){function e(t){var n=t.game,r=t.context;o(this,e),this._game=n,this._context=r,this._players=new Map(n.players.map(function(e){return[e,new u["default"](e)]})),this._stateful={},this._wrapper=this._createWrapper()}return a(e,[{key:"start",value:function(){this._started=(new Date).getTime();var e=this._game.players[0],t=e.notechart.songInfo;this._stateful.song_title=t.title,this._stateful.song_artist=t.artist,this._duration=e.notechart.duration}},{key:"destroy",value:function(){this._context.destroy()}},{key:"update",value:function(e,t){var n=((new Date).getTime()-this._started)/1e3,r=this._getData(n,e,t);this._updateStatefulData(n,e,t),this._context.render(Object.assign({},this._stateful,r))}},{key:"_getData",value:function(e,t,n){var r={};r.tutorial=this._game.options.tutorial?"yes":"no",r.t=e,r.gameTime=t,r.ready=this._getReady(n),r.song_time=this._getSongTime(t);var o=!0,a=!1,s=void 0;try{for(var u,c=this._players[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=i(u.value,2),f=l[0],p=l[1],h=n.player(f),d=p.update(e,t,h);for(var v in d)r["p"+f.number+"_"+v]=d[v]}}catch(m){a=!0,s=m}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw s}}return r}},{key:"_updateStatefulData",value:function(e,t,n){var r=this._stateful;void 0===r.started&&n.started&&(r.started=e),void 0===r.gettingStarted&&n.gettingStarted&&(r.gettingStarted=e)}},{key:"_getSongTime",value:function(e){return this._formatTime(Math.min(this._duration,Math.max(0,e)))+" / "+this._formatTime(this._duration)}},{key:"_getReady",value:function(e){var t=e.readyFraction;return t>.5?Math.pow(1-(t-.5)/.5,2):0}},{key:"_createWrapper",value:function(){var e=l["default"]('<div class="game-display"></div>').append('<div class="game-display--bg"></div>').append(this.view);return e[0]}},{key:"_formatTime",value:function(e){var t=Math.floor(e%60);return Math.floor(e/60)+":"+(10>t?"0":"")+t}},{key:"context",get:function(){return this._context}},{key:"view",get:function(){return this._context.view}},{key:"wrapper",get:function(){return this._wrapper}}]),e}();t.GameDisplay=f,t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(314),s=r(a),u=n(179),c=r(u),l=function(){function e(t,n){o(this,e),this.options=n,this.players=n.players.map(function(e,r){e=Object.assign({},e,{autosound:n.audioInputLatency>=.01});var o=s["default"].fromBMSChart(t,r+1,e);return new c["default"](o,r+1,e)})}return i(e,[{key:"samples",get:function(){var e=new Set,t=!0,n=!1,r=void 0;try{for(var o,i=this.players[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!0,u=!1,c=void 0;try{for(var l,f=a.notechart.samples[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value;e.add(p)}}catch(h){u=!0,c=h}finally{try{!s&&f["return"]&&f["return"]()}finally{if(u)throw c}}}}catch(h){n=!0,r=h}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}return Array.from(e)}}]),e}();t.Game=l,t["default"]=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.value=0,this.changed=!1}return r(e,[{key:"justPressed",get:function(){return this.changed&&this.value}}]),e}();t.Control=o,t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(315),u=r(s),c=function(){function e(t){o(this,e),this._game=t,this._players=new Map(t.players.map(function(e){return[e,new u["default"](e)]}))}return a(e,[{key:"update",value:function(e,t,n){var r=!0,o=!0,a=!1,s=void 0;try{for(var u,c=this._players[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=i(u.value,2),f=(l[0],l[1]);f.update(e,t),f.finished||(r=!1)}}catch(p){a=!0,s=p}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw s}}this.readyFraction=n.readyFraction,this.gettingStarted=n.gettingStarted,this.started=n.started,this.finished=r}},{key:"player",value:function(e){return this._players.get(e)}},{key:"game",get:function(){return this._game}}]),e}();t.GameState=c,t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(527);var o=n(3),i=r(o),a=n(394),s=r(a),u=n(424),c=r(u);t["default"]=i["default"].createClass({displayName:"authentication-popup",render:function(){return i["default"].createElement(s["default"],this.props,i["default"].createElement("div",{className:"authentication-popup"},i["default"].createElement(c["default"],{onFinish:this.props.onFinish})))}}),e.exports=t["default"]},,function(e,t){function n(e){function t(e){return e>=20&&29>=e}for(var n=e.objects.all(),r={},o=0;o<n.length;o++){var i=n[o],a=+i.channel;a>=50&&69>=a&&(a-=40),10>a||a>29||(r[a]=(r[a]||0)+1)}var s=Object.keys(r).map(function(e){return+e});return 0===s.length?"empty":s.some(t)?r[18]||r[19]||r[28]||r[29]?"14K":"10K":r[18]||r[19]?"7K":"5K"}e.exports=n},function(e,t,n){function r(e){this._map=e}var o=n(63);r.prototype.get=function(e){return this._map[e.toLowerCase()]},r.prototype.files=function(){return o.uniq(o.values(this._map))},r.prototype.all=function(){return this._map},r.fromBMSChart=function(e){var t={};return e.headers.each(function(e,n){var r=e.match(/^wav(\S\S)$/i);r&&(t[r[1].toLowerCase()]=n)}),new r(t)},e.exports=r},function(e,t,n){function r(e){this._speedcore=new o(e)}var o=n(62);n(63);e.exports=r,r.prototype.speed=function(e){return this._speedcore.dx(e)},r.prototype.position=function(e){return this._speedcore.x(e)},r.fromBMSChart=function(e){var t=[],n=0;return t.push({t:0,x:n,dx:1,inclusive:!0}),e.objects.allSorted().forEach(function(r){if("SC"===r.channel){var o=e.measureToBeat(r.measure,r.fraction),i=+e.headers.get("scroll"+r.value);if(isNaN(i))return;var a=t[t.length-1];n+=(o-a.t)*a.dx,0===o&&1===t.length?t[0].dx=i:t.push({t:o,x:n,dx:i,inclusive:!0})}}),new r(t)}},function(e,t,n){function r(e){e.length>0&&(this._speedcore=new o(e))}var o=n(62);n(63);e.exports=r,r.prototype.factor=function(e){return this._speedcore?this._speedcore.x(e):1},r.fromBMSChart=function(e){var t=[];return e.objects.allSorted().forEach(function(n){if("SP"===n.channel){var r=e.measureToBeat(n.measure,n.fraction),o=+e.headers.get("speed"+n.value);if(isNaN(o))return;if(t.length>0){var i=t[t.length-1];i.dx=(o-i.x)/(r-i.t)}t.push({t:r,x:o,dx:0,inclusive:!0})}}),t.length>0&&t.unshift({t:0,x:t[0].x,dx:0,inclusive:!0}),new r(t)}},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.benchmark-panel{background:#449;border:2px solid #66e;padding:4px}.benchmark-panel table{font-size:10px}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,".game-display{display:block;margin:0 auto;overflow:hidden;position:relative}.game-display--bg{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10;background:url("+n(363)+") center no-repeat;background-size:cover;-webkit-animation:1.5s game-display--bg-default;animation:1.5s game-display--bg-default;-webkit-animation-fill-mode:both;animation-fill-mode:both}.game-display>canvas{position:relative;z-index:100}@-webkit-keyframes game-display--bg-default{0%{-webkit-transform:translate(0, 0);transform:translate(0, 0);opacity:0}to{-webkit-transform:translate(0, -35px);transform:translate(0, -35px);opacity:1}}@keyframes game-display--bg-default{0%{-webkit-transform:translate(0, 0);transform:translate(0, 0);opacity:0}to{-webkit-transform:translate(0, -35px);transform:translate(0, -35px);opacity:1}}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.scene{top:0;bottom:0;overflow:hidden;font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.scene,.scene>.scene-heading{position:absolute;right:0;left:0}.scene>.scene-heading{top:5vmin}.scene>.scene-toolbar{position:absolute;right:0;bottom:0;left:0}",""])},function(e,t,n){e.exports=n.p+"ea410328703171d8f693d3a404a11a8f.jpg"},function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===f?62:t===s||t===p?63:u>t?-1:u+10>t?t-u+26+26:l+26>t?t-l:c+26>t?t-c+26:void 0}function n(e){function n(e){c[f++]=e}var r,o,a,s,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new i(3*e.length/4-u),a=u>0?e.length-4:e.length;var f=0;for(r=0,o=0;a>r;r+=4,o+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function o(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,a,s=e.length%3,u="";for(o=0,a=e.length-s;a>o;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],u+=n(i);switch(s){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),p="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=o}(t)},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,p=n?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,v=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?p/u:p*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=d,a/=256,c-=8);e[n+h-d]|=128*v}},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},function(e,t,n){var r;(function(e,o){!function(i){function a(e){throw RangeError(N[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(P,".");var o=e.split("."),i=s(o,t).join(".");return r+i}function c(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function f(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:w}function p(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?R(e/C):e>>1,e+=R(e/t);e>M*E>>1;r+=w)e=R(e/M);return R(r+(M+1)*e/(e+S))}function d(e){var t,n,r,o,i,s,u,c,p,d,v=[],m=e.length,g=0,y=O,b=T;for(n=e.lastIndexOf(A),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&a("not-basic"),v.push(e.charCodeAt(r));for(o=n>0?n+1:0;m>o;){for(i=g,s=1,u=w;o>=m&&a("invalid-input"),c=f(e.charCodeAt(o++)),(c>=w||c>R((_-g)/s))&&a("overflow"),g+=c*s,p=b>=u?x:u>=b+E?E:u-b,!(p>c);u+=w)d=w-p,s>R(_/d)&&a("overflow"),s*=d;t=v.length+1,b=h(g-i,t,0==i),R(g/t)>_-y&&a("overflow"),y+=R(g/t),g%=t,v.splice(g++,0,y)}return l(v)}function v(e){var t,n,r,o,i,s,u,l,f,d,v,m,g,y,b,S=[];for(e=c(e),m=e.length,t=O,n=0,i=T,s=0;m>s;++s)v=e[s],128>v&&S.push(D(v));for(r=o=S.length,o&&S.push(A);m>r;){for(u=_,s=0;m>s;++s)v=e[s],v>=t&&u>v&&(u=v);for(g=r+1,u-t>R((_-n)/g)&&a("overflow"),n+=(u-t)*g,t=u,s=0;m>s;++s)if(v=e[s],t>v&&++n>_&&a("overflow"),v==t){for(l=n,f=w;d=i>=f?x:f>=i+E?E:f-i,!(d>l);f+=w)b=l-d,y=w-d,S.push(D(p(d+b%y,0))),l=R(b/y);S.push(D(p(l,0))),i=h(n,g,r==o),n=0,++r}++n,++t}return S.join("")}function m(e){return u(e,function(e){return k.test(e)?d(e.slice(4).toLowerCase()):e})}function g(e){return u(e,function(e){return j.test(e)?"xn--"+v(e):e})}var y=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof o&&o);(y.global===y||y.window===y||y.self===y)&&(i=y);var b,_=2147483647,w=36,x=1,E=26,S=38,C=700,T=72,O=128,A="-",k=/^xn--/,j=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=w-x,R=Math.floor,D=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:v,toASCII:g,toUnicode:m},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(98)(e),function(){return this}())},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;u>c;++c){var l,f,p,h,d=e[c].replace(a,"%20"),v=d.indexOf(r);v>=0?(l=d.substr(0,v),f=d.substr(v+1)):(l=d,f=""),p=decodeURIComponent(l),h=decodeURIComponent(f),n(i,p)?Array.isArray(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var i=encodeURIComponent(n(o))+r;return Array.isArray(e[o])?e[o].map(function(e){return i+encodeURIComponent(n(e))}).join(t):i+encodeURIComponent(n(e[o]))}).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""}},function(e,t,n){"use strict";t.decode=t.parse=n(368),t.encode=t.stringify=n(369)},function(e,t){"use strict";var n=function(){var e={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},t=[];for(var n in e)t.push(e[n]());return"0123456789"!==t.join("")}();e.exports=function(e){var t,r,o,i=Array.prototype.slice.call(arguments,1);for(r=0;r<i.length;r++){t=i[r];for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n&&t.hasOwnProperty("toString")&&t.toString!==e.toString&&(e.toString=t.toString)}return e}},function(e,t,n){var r=n(360);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(361);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(362);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){(function(t){function r(e,t,n){function r(){try{a.send(""+(new Date).getTime())}catch(e){}}function i(e){var t=e.split(","),r=+t[0],i=+t[1],a=(new Date).getTime();a>=r&&s.push(o.convert([r,i,i,a])),s.length>=8&&n&&n(o.offset(s))}var a=new WebSocket(e),s=[];a.onmessage=function(e){"k"==e.data&&r(),e.data.indexOf(",")>=0&&(i(e.data),r())},a.onclose=function(){return s.length<1?t(new Error("no offset received")):t(null,o.offset(s))}}var o=n(376);e.exports=r}).call(t,n(1))},function(e,t){t.convert=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];return{offset:(n-t+(r-o))/2,delay:o-t-(r-n)}},t.offset=function(e){e=e.slice(),e.sort(function(e,t){return e.offset-t.offset}),e=e.slice(1,e.length-1),e.sort(function(e,t){return e.delay-t.delay});for(var t=0,n=0,r=Math.ceil(e.length/8),o=0;o<e.length&&(e[o].delay>e[0].delay&&r--,0!==r);o++)t+=e[o].offset,n+=1;return t/n}},function(e,t){(function(t){e.exports=t}).call(t,{})},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){h.push({url:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadCollection=o;var i=n(61),a=r(i),s=n(37),u=n(140),c=r(u),l=new s.Action;t.startLoading=l;var f=new s.Action;t.finishLoading=f;var p=new s.Action;t.errorLoading=p;var h=new a["default"].Bus;h.flatMapLatest(function(e){var t=new a["default"].Bus;return setTimeout(function(){t.push(function(){return l(e)}),Promise.resolve(c["default"](e.url+"/index.json").as("text")).then(JSON.parse).then(function(e){t.push(function(){return f(e)})})["catch"](function(e){t.push(function(){return p(e)})})}),t}).onValue(function(e){return e()})},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(513);var o=n(3),i=r(o);t["default"]=i["default"].createClass({displayName:"music-chart-info",render:function(){var e=this.props.info;return i["default"].createElement("section",{className:"music-chart-info"},i["default"].createElement("div",{className:"music-chart-info--genre"},e.genre),i["default"].createElement("div",{className:"music-chart-info--title"},e.title),e.subtitles.map(function(e){return i["default"].createElement("div",{className:"music-chart-info--subtitle"},e)}),i["default"].createElement("div",{className:"music-chart-info--artist"},e.artist,e.subartists.length?i["default"].createElement("small",null,"  "+e.subartists.join("  ")):null))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(514);var o=n(3),i=r(o),a=n(34),s=r(a),u=n(395),c=r(u);t["default"]=i["default"].createClass({displayName:"music-chart-selector-item",render:function(){var e=s["default"]("music-chart-selector-item",{"is-active":this.props.isSelected,"is-tutorial":this.props.isTutorial,"is-insane":this.props.chart.info.difficulty>=5,"is-5keys":"5K"===this.props.chart.keys});return i["default"].createElement("li",{className:e,onClick:this.handleClick},this.props.isTutorial?"Start Tutorial":i["default"].createElement("span",{className:"music-chart-selector-item--level"},this.props.chart.info.level),i["default"].createElement("span",{className:"music-chart-selector-item--play"},i["default"].createElement(c["default"],{name:"play"})))},handleClick:function(){this.props.onChartClick(this.props.chart)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),a=n(386),s=r(a),u=n(180),c=r(u);t["default"]=i["default"].createClass({displayName:"ranking-container",getInitialState:function(){return{data:null,meta:{scoreboard:{status:"loading"},submission:{status:"loading"}}}},getParams:function(e){var t={};Object.assign(t,{md5:e.chart.md5,playMode:e.playMode});var n=e.result;return n&&Object.assign(t,{score:n.score,combo:n.maxCombo,total:n.totalCombo,count:[n[1],n[2],n[3],n[4],n.missed],log:n.log}),t},componentDidMount:function(){this.model=c["default"].Ranking(this.getParams(this.props)),this.unsubscribe=this.model.state.onValue(this.onStoreTrigger)},componentWillReceiveProps:function(e){(this.props.chart.md5!==e.chart.md5||this.props.playMode!==e.playMode)&&(this.unsubscribe(),this.model=c["default"].Ranking(this.getParams(e)),this.unsubscribe=this.model.state.onValue(this.onStoreTrigger))},onStoreTrigger:function(e){this.setState(e)},onReloadScoreboardRequest:function(){this.model.reloadScoreboard()},onResubmitScoreRequest:function(){this.model.resubmit()},render:function(){return i["default"].createElement(s["default"],{state:this.state,onReloadScoreboardRequest:this.onReloadScoreboardRequest,onResubmitScoreRequest:this.onResubmitScoreRequest})}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(517);var o=n(3),i=r(o),a=n(406),s=r(a),u=n(354),c=r(u);t["default"]=i["default"].createClass({displayName:"ranking",getInitialState:function(){return{authenticationPopupVisible:!1}},handleAuthenticate:function(){this.setState({authenticationPopupVisible:!0})},handleAuthenticationClose:function(){this.setState({authenticationPopupVisible:!1})},handleAuthenticationFinish:function(){this.setState({authenticationPopupVisible:!1})},render:function(){return i["default"].createElement("div",{className:"ranking"},i["default"].createElement(c["default"],{visible:this.state.authenticationPopupVisible,onFinish:this.handleAuthenticationFinish,onBackdropClick:this.handleAuthenticationClose}),this.renderYours(),this.renderLeaderboard())},renderYours:function(){var e=this.props.state,t=e.meta.submission;return i["default"].createElement("div",{className:"ranking--yours"},i["default"].createElement("div",{className:"ranking--title"},"Your Ranking"),i["default"].createElement(s["default"],null,t.record?i["default"].createElement(s["default"].Row,{record:t.record,rank:t.rank}):"unauthenticated"===t.status?i["default"].createElement(s["default"].Message,null,"Please ",i["default"].createElement("a",{href:"javascript://online/auth",onClick:this.handleAuthenticate},"log in or create an account")," to submit scores."):"error"===t.status?i["default"].createElement(s["default"].Message,null,this.renderError("Unable to submit score",t.error,this.props.onResubmitScoreRequest)):"loading"===t.status?i["default"].createElement(s["default"].Message,null,"Please wait..."):i["default"].createElement(s["default"].Message,null,"No record. Lets play!")))},renderLeaderboard:function(){var e=this.props.state;return i["default"].createElement("div",{className:"ranking--leaderboard"},i["default"].createElement("div",{className:"ranking--title"},"Leaderboard"),i["default"].createElement(s["default"],null,e.data&&e.data.length?e.data.map(function(e,t){return i["default"].createElement(s["default"].Row,{key:t,record:e,rank:t+1})}):"loading"===e.meta.scoreboard.status?i["default"].createElement(s["default"].Message,null,"Loading..."):"error"===e.meta.scoreboard.status?i["default"].createElement(s["default"].Message,null,this.renderError("Sorry, we are unable to fetch the scoreboard.",e.meta.scoreboard.error,this.props.onReloadScoreboardRequest)):i["default"].createElement(s["default"].Message,null,"No Data")))},renderError:function(e,t,n){return i["default"].createElement("span",{className:"ranking--error"},i["default"].createElement("strong",null,e," ",i["default"].createElement("a",{onClick:n,className:"ranking--error-retry",href:"javascript://retry"},"(click to retry)")),i["default"].createElement("br",null),i["default"].createElement("span",{className:"ranking--error-description"},t&&t.message?""+t.message:"(unknown error)"))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){e=u["default"].sortBy(e,"time");var t=0;return{next:function(n){for(var r=[];t<e.length&&n>=e[t].time;t++)r.push(e[t]);return r}}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(17),u=r(s),c=n(388),l=r(c),f=n(64),p=function(){function e(t){var n=t.player,r=t.samples,a=t.master,s=t.waveFactory;o(this,e);var u=n.notechart;this._waveFactory=s||new l["default"](a,r,u.keysounds),this._autos=i(u.autos),this._notes=i(u.notes),this._played=new Map,this._autosound=!!n.options.autosound}return a(e,[{key:"update",value:function(e,t){this._playAutokeysounds(e),this._playAutosounds(e,t),this._handleSoundNotifications(t&&t.notifications.sounds||[])}},{key:"_playAutokeysounds",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this._autos.next(e+1/30)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._waveFactory.playAuto(a.keysound,a.time-e)}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"_playAutosounds",value:function(e,t){var n=this._notes.next(e+1/30),r=t&&t.stats.poor,o=this._autosound&&!r;if(o){var i=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;this._hitNote(l,l.time-e)}}catch(f){a=!0,s=f}finally{try{!i&&c["return"]&&c["return"]()}finally{if(a)throw s}}}}},{key:"_handleSoundNotifications",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.type,u=a.note;"hit"===s?this._hitNote(u,0,a.judgment):"break"===s?this._breakNote(u):"free"===s&&this._waveFactory.playFree(u.keysound,0)}}catch(c){n=!0,r=c}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"_hitNote",value:function(e,t,n){var r=this._played.get(e);r||(r=this._waveFactory.playNote(e.keysound,t),this._played.set(e,r)),r&&f.isBad(n)&&r.bad()}},{key:"_breakNote",value:function(e){var t=this._played.get(e);t&&(console.log(t),t.stop())}}]),e}();t.PlayerAudio=p,t["default"]=p},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o){n(this,e),this._master=t,this._samples=r,this._map=o,this._exclusiveInstances=new Map}return r(e,[{key:"playAuto",value:function(e,t){return this._play({keysound:e,delay:t,exclusive:!0})}},{key:"playNote",value:function(e,t){return this._play({keysound:e,delay:t,exclusive:!0})}},{key:"playFree",value:function(e){return this._play({keysound:e,delay:0,exclusive:!1})}},{key:"_play",value:function(e){var t=e.keysound,n=e.delay,r=e.exclusive;r&&this._stopOldExclusiveSound(t,n);var o=this._map[t.toLowerCase()];if(!o)return null;var i=this._samples[o];if(!i)return null;var a=i.play(n);return r&&this._exclusiveInstances.set(t,a),a}},{key:"_stopOldExclusiveSound",value:function(e,t){var n=this._exclusiveInstances.get(e);n&&(setTimeout(function(){return n.stop()},1e3*t),this._exclusiveInstances["delete"](e))}}]),e}();t.WaveFactory=o,t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(){return e.input}function n(t,n){var r=e.refs[n];if(r){var o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=c.getBounds(),f=!0,p=!1,h=void 0;try{for(var d,v=t[Symbol.iterator]();!(f=(d=v.next()).done);f=!0){var m=d.value;if(l.contains(m.x,m.y))return 1}}catch(g){p=!0,h=g}finally{try{!f&&v["return"]&&v["return"]()}finally{if(p)throw h}}}}catch(g){i=!0,a=g}finally{try{!o&&u["return"]&&u["return"]()}finally{if(i)throw a}}}return 0}function r(t){var n=e.refs.p1_SC;if(!n)return 0;u=null;var r=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,f=!0,p=!1,h=void 0;try{for(var d,v=n[Symbol.iterator]();!(f=(d=v.next()).done);f=!0){var m=d.value;if(m.getBounds().contains(l.x,l.y)){u=l.y;break}}}catch(g){p=!0,h=g}finally{try{!f&&v["return"]&&v["return"]()}finally{if(p)throw h}}if(null!==u)break}}catch(g){o=!0,a=g}finally{try{!r&&c["return"]&&c["return"]()}finally{if(o)throw a}}return null===u?(i=null,0):(null===i&&(i=u),u>i+16?i=u-16:i-16>u&&(i=u+16),u>i+4?-1:i-4>u?1:0)}function o(e){var t=null,n=null,r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.y<550)if(null===t)t=u.y;else{if(null!==n)return 0;
n=u.y}}}catch(c){o=!0,i=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return null!==t&&null!==n?Math.abs(t-n):0}var i=null,u=null,c=a["default"].wrap("input:touch:I",t),l=a["default"].wrap("input:touch:SC",r),f=a["default"].wrap("input:touch:B",n),p=a["default"].wrap("input:touch:P",o);return{name:"TouchPlugin",get:function(){var e=c(),t={};a["default"].enabled&&(a["default"].stats["input:touch:n"]=""+e.length),t.p1_SC=l(e);var n=!0,r=!1,o=void 0;try{for(var i,u=s[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var h=i.value;t[h]=f(e,h)}}catch(d){r=!0,o=d}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw o}}return t.p1_pinch=p(e),t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.TouchPlugin=o;var i=n(137),a=r(i),s=["p1_1","p1_2","p1_3","p1_4","p1_5","p1_6","p1_7","start"];t["default"]=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(17),u=o(s),c=n(101),l=r(c),f=n(60),p=n(104),h=function(){function e(t,n){i(this,e),this._assets=t,this._master=n}return a(e,[{key:"loadFiles",value:function(e,t,n){var r=this,o=l.fixed(e.length,t),i=l.fixed(e.length,n),a=function(e){return r._loadSample(e,o,i)};return n&&(n.formatter=f.EXTRA_FORMATTER),Promise.map(e,a).then(function(e){return u["default"](e).filter().object().value()})}},{key:"_loadSample",value:function(e,t,n){var r=this;return this._getFile(e).then(function(o){return o.read().tap(function(){return t(e)}).then(function(e){return r._decode(e)}).tap(function(){return n(e)}).then(function(t){return[e,t]})["catch"](function(t){return console.error("Unable to decode: "+e,t),null})},function(t){return console.error("Unable to read: "+e,t),null})}},{key:"_decode",value:function(e){return this._master.sample(e)}},{key:"_getFile",value:function(e){var t=this;return Promise["try"](function(){if(!p.canPlay('audio/ogg; codecs="vorbis"'))throw new Error("cannot play OGG");return t._assets.file(e.replace(/\.\w+$/,".ogg"))})["catch"](function(){return t._assets.file(e.replace(/\.\w+$/,".m4a"))})["catch"](function(){return t._assets.file(e.replace(/\.\w+$/,".mp3"))})["catch"](function(){return t._assets.file(e)})}}]),e}();t.SamplesLoader=h,t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e.subscribe(function(){})}function a(){function e(e){return Promise.resolve(e)["catch"](function(e){throw e instanceof Error?e:new Error("Parse Error "+e.code+": "+e.message)})}function t(e){return e?{username:e.get("username"),email:e.get("email")}:null}function n(e){return Object.assign({},e.attributes,{id:e.id})}function r(t){var n=t.username,r=t.password,o=t.email;return p["default"]("string"==typeof n,"username must be a string"),p["default"]("string"==typeof r,"password must be a string"),p["default"]("string"==typeof o,"email must be a string"),e(l.Parse.User.signUp(n,r,{email:o})).tap(function(e){return w.push(e)})}function o(t){var n=t.username,r=t.password;return p["default"]("string"==typeof n,"username must be a string"),p["default"]("string"==typeof r,"password must be a string"),e(l.Parse.User.logIn(n,r)).tap(function(e){return w.push(e)})}function a(){return e(l.Parse.User.logOut()).then(function(){}).tap(function(){return w.push(null)})}function s(t){return e(l.Parse.Cloud.run("submitScore",t)).then(function(e){var t=e.data,r=e.meta;return{data:n(t),meta:r}})}function u(t){var n=t.md5,r=t.playMode,o=new l.Parse.Query("GameScore");return o.equalTo("md5",n),o.equalTo("playMode",r),o.equalTo("user",l.Parse.User.current()),e(o.first()).tap(function(e){_.set(t.recordCacheKey(),e)})}function f(t,n){var r=t.md5,o=t.playMode,i=new l.Parse.Query("GameScore");return i.equalTo("md5",r),i.equalTo("playMode",o),i.greaterThan("score",n.get("score")),e(i.count())}function h(e){var t=e.recordCacheKey(),r=_.get(t);return r?Promise.resolve(r):u(e).then(function(t){return t?f(e,t).then(function(e){return e+1},function(){return null}).then(function(e){return{data:n(t),meta:{rank:e}}}):{data:null,meta:{rank:null}}}).tap(function(e){_.set(t,e)})}function m(e,t){var n=t.flatMapLatest(function(){return c["default"].fromPromise(Promise.resolve(e())).map(function(e){return function(t){return Object.assign({},t,{status:"completed",value:e,error:null})}}).mapError(function(e){return function(t){return Object.assign({},t,{status:"error",error:e})}}).startWith(function(e){return Object.assign({},e,{status:"loading",error:null})})}).scan({status:"loading",value:null,error:null},function(e,t){return t(e)});return n}function g(t){var r=t.scoreboardCacheKey(),o=_.get(r);if(o)return Promise.resolve(o);var i=t.md5,a=t.playMode,s=new l.Parse.Query("GameScore");return s.equalTo("md5",i),s.equalTo("playMode",a),s.descending("score"),s.limit(100),e(s.find()).then(function(e){return{data:e.map(n)}}).tap(function(e){_.set(r,e)})}function y(e){if(l.Parse.User.current())return e.score?(_.reset(),s(e)):h(new v(e));var t=new Error("Unauthenticated!");return t.isUnauthenticated=!0,Promise.reject(t)}function b(e){var t=new v(e),n=new c["default"].Bus,r=new c["default"].Bus,o=m(function(){return y(e)},c["default"].once().merge(n).merge(x.changes().filter(function(e){return!!e}).first())).map(function(e){return"completed"===e.status?{status:"completed",error:null,record:e.value.data,rank:e.value.meta.rank}:"error"===e.status&&e.error.isUnauthenticated?{status:"unauthenticated",error:null,record:null,rank:null}:{status:e.status,error:e.error,record:null,rank:null}}),i=m(function(){return g(t)},o.filter(function(e){var t=e.status;return"unauthenticated"===t||"completed"===t})),a=c["default"].combineWith(function(e,t){return{data:t.value&&t.value.data,meta:{scoreboard:{status:t.status,error:t.error},submission:e}}},o,i);return{"state":a,resubmit:function(){n.push()},reloadScoreboard:function(){r.push()}}}var _=new d["default"],w=new c["default"].Bus,x=w.toProperty(l.Parse.User.current()).map(t);return i(x),x.onValue(function(){_.reset()}),{"user":x,signUp:r,logIn:o,logOut:a,submitScore:s,scoreboard:function(e){return g(new v(e))},Ranking:b}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Online=a;var u=n(61),c=r(u),l=n(234),f=n(97),p=r(f),h=n(505),d=r(h),v=function(){function e(t){var n=t.md5,r=t.playMode;o(this,e),p["default"]("string"==typeof n,"md5 must be a string"),p["default"]("string"==typeof r,"playMode must be a string"),this.md5=n,this.playMode=r}return s(e,[{key:"recordCacheKey",value:function(){return"record/"+this.md5+"/"+this.playMode}},{key:"scoreboardCacheKey",value:function(){return"scoreboard/"+this.md5+"/"+this.playMode}}]),e}();t["default"]=a},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return v["default"](e.slice(0,10)).as("text").then(function(t){if("BEMUSEPACK"!==t)throw new Error("Invalid magic number");return v["default"](e.slice(10,14)).as("arraybuffer")}).then(function(e){var t=new Uint8Array(e),n=t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24);return n}).then(function(t){return e.slice(14+t)})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(91),l=n(504),f=o(l),p=n(140),h=o(p),d=n(90),v=o(d),m=n(533),g=o(m),y=n(138),b=o(y),_=n(101),w=r(_),x=function(){function e(t){var n=this;i(this,e);var r=f["default"].bind(null,this);this._url=t,r("metadata",function(){return h["default"](c.resolve(n._url,"metadata.json")).as("text").then(function(e){return JSON.parse(e)})}),r("refs",function(){return n.metadata.then(function(e){return e.refs.map(function(e){return new S(n,e)})})}),r("_fileMap",function(){return n.metadata.then(function(e){var t=new Map,n=!0,r=!1,o=void 0;try{for(var i,a=e.files[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.set(s.name.toLowerCase(),s)}}catch(u){r=!0,o=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return t})}),this.progress={all:new b["default"],current:new b["default"]},this._loadPayload=w.wrapPromise(this.progress.all,g["default"](1,function(e){return h["default"](e).as("blob",n.progress.current).then(a)}))}return u(e,[{key:"file",value:function(e){var t=this;return this._fileMap.then(function(n){var r=n.get(e.toLowerCase());if(!r)throw new Error("Unable to find: "+e);return new E(t,r.ref,r.name)})}},{key:"getBlob",value:function(e){var t=s(e,3),n=t[0],r=t[1],o=t[2];return this.refs.then(function(e){return e[n]}).then(function(e){return e.load()}).then(function(e){return e.slice(r,o)})}},{key:"url",get:function(){return this._url}}]),e}();t.BemusePackageResources=x;var E=function(){function e(t,n,r){i(this,e),this._resources=t,this._ref=n,this._name=r}return u(e,[{key:"read",value:function(e){return w.atomic(e,this._resources.getBlob(this._ref).then(function(e){return v["default"](e).as("arraybuffer")}))}},{key:"name",get:function(){return this._name}}]),e}(),S=function(){function e(t,n){i(this,e),this._resources=t,this._url=c.resolve(t.url,n.path)}return u(e,[{key:"load",value:function(){return this._promise||(this._promise=this._resources._loadPayload(this._url))}}]),e}();t["default"]=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=f["default"].map(Array.from(e.children("keyframe")),u),n={},r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var l=a.value,p=+l.t,h=l.ease||"linear";if(isNaN(p))throw new Error('Expected keyframe to have "t" attribute');for(var d in l)if("t"!==d&&"ease"!==d){var v=+l[d],m=n[d]||(n[d]=s(d));m.keyframes.push({time:p,value:v,ease:h})}}}catch(g){o=!0,i=g}finally{try{!r&&c["return"]&&c["return"]()}finally{if(o)throw i}}return{on:e.attr("on")||"",data:f["default"].values(n)}}function s(e){return{name:e,keyframes:[]}}function u(e){return f["default"](e.attributes).map(function(e){return[e.name.toLowerCase(),e.value]}).object().value()}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t._compile=a,t._attrs=u;var l=n(17),f=r(l),p=n(36),h=r(p),d=n(465),v=r(d),m=function(e){return Object.assign({},e,{data:v["default"](e.data)})},g=function(){function e(t,n){i(this,e),this._timeKey=n||"t",this._properties=f["default"](t).map(function(e){return f["default"].pluck(e.data,"name")}).flatten().thru(function(e){return new Set(e)}).value(),this._animations=f["default"].map(t,m),this._events=f["default"].uniq(f["default"].pluck(t,"on"))}return c(e,[{key:"prop",value:function(e,t){var n=this;return this._properties.has(e)?function(r){var o=n._getAnimation(r);return o.hasOwnProperty(e)?o[e]:t(r)}:t}},{key:"_getAnimation",value:function(e){var t=f["default"](this._events).filter(function(t){return""===t||t in e}).max(function(t){return e[t]||0}),n=e[this._timeKey]-(e[t]||0),r=this._animations.filter(function(e){return e.on===t}),i=r.map(function(e){return e.data.values(n)});return Object.assign.apply(Object,[{}].concat(o(i)))}}],[{key:"compile",value:function(t,n){var r=Array.from(n.children("animation")),o=f["default"].map(r,function(e){return a(h["default"](e))}),i=n.attr("t")||"t";return new e(o,i)}}]),e}();t.Animation=g,t["default"]=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(528);var o=n(3),i=r(o),a=n(34),s=r(a),u=n(508);t["default"]=i["default"].createClass({displayName:"modal-popup",render:function(){return this.props.visible===!1?null:i["default"].createElement(u.Overlay,null,i["default"].createElement("div",{className:s["default"]("modal-popup",{"is-visible":this.props.visible!==!1})},i["default"].createElement("div",{className:"modal-popup--backdrop",onClick:this.props.onBackdropClick}),i["default"].createElement("div",{className:"modal-popup--contents"},this.props.children)))}}),e.exports=t["default"]},function(e,t,n){"use strict";n(512),e.exports=n(507)},function(e,t,n){"use strict";function r(e,t,n){var r=s(e);if(r!==t)throw new TypeError("Expected type of "+n+" to be "+t+", but was "+r)}function o(e){return c.isPrototypeOf(e)}function i(e,t){if(null===t||void 0===t)return!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o=t[n];if(l.isMatcher(r)){if(!r.test(o))return!1}else if("object"===s(r)){if(!i(r,o))return!1}else if(!l.equal(r,o))return!1}return!0}function a(e,t){return function(n,o){r(n,"string","property");var i=1===arguments.length,a=t+'("'+n+'"';return i||(a+=", "+o),a+=")",l(function(t){return void 0!==t&&null!==t&&e(t,n)?i||l.equal(o,t[n]):!1},a)}}var s=n(714),u=n(323),c={toString:function(){return this.message}};c.or=function(e){if(!arguments.length)throw new TypeError("Matcher expected");o(e)||(e=l(e));var t=this,n=u.create(c);return n.test=function(n){return t.test(n)||e.test(n)},n.message=t.message+".or("+e.message+")",n},c.and=function(e){if(!arguments.length)throw new TypeError("Matcher expected");o(e)||(e=l(e));var t=this,n=u.create(c);return n.test=function(n){return t.test(n)&&e.test(n)},n.message=t.message+".and("+e.message+")",n};var l=function(e,t){var n=u.create(c),r=s(e);switch(r){case"object":if("function"==typeof e.test)return n.test=function(t){return e.test(t)===!0},n.message="match("+u.getName(e.test)+")",n;var o=[];for(var a in e)e.hasOwnProperty(a)&&o.push(a+": "+e[a]);n.test=function(t){return i(e,t)},n.message="match("+o.join(", ")+")";break;case"number":n.test=function(t){return e==t};break;case"string":n.test=function(t){return"string"!=typeof t?!1:-1!==t.indexOf(e)},n.message='match("'+e+'")';break;case"regexp":n.test=function(t){return"string"!=typeof t?!1:e.test(t)};break;case"function":n.test=e,t?n.message=t:n.message="match("+u.getName(e)+")";break;default:n.test=function(t){return l.equal(e,t)}}return n.message||(n.message="match("+e+")"),n};l.isMatcher=o,l.any=l(function(){return!0},"any"),l.defined=l(function(e){return null!==e&&void 0!==e},"defined"),l.truthy=l(function(e){return!!e},"truthy"),l.falsy=l(function(e){return!e},"falsy"),l.same=function(e){return l(function(t){return e===t},"same("+e+")")},l.typeOf=function(e){return r(e,"string","type"),l(function(t){return s(t)===e},'typeOf("'+e+'")')},l.instanceOf=function(e){return r(e,"function","type"),l(function(t){return t instanceof e},"instanceOf("+u.getName(e)+")")},l.has=a(function(e,t){return"object"==typeof e?t in e:void 0!==e[t]},"has"),l.hasOwn=a(function(e,t){return e.hasOwnProperty(t)},"hasOwn"),l.bool=l.typeOf("boolean"),l.number=l.typeOf("number"),l.string=l.typeOf("string"),l.object=l.typeOf("object"),l.func=l.typeOf("function"),l.array=l.typeOf("array"),l.regexp=l.typeOf("regexp"),l.date=l.typeOf("date"),l.equal=function(e,t){return e==t},e.exports=l},function(e,t,n){e.exports=n.p+"ad5c8959ea47d80c4de028b26525ac67.png"},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return u["default"].Compiler.compile(e).chart}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return l["default"].fromBMSChart(o(e),1,t)}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new p["default"](i(e,1,t),1,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.chart=o,t.notechart=i,t.playerWithBMS=a;var s=n(149),u=r(s),c=n(314),l=r(c),f=n(179),p=r(f),h=n(17),d=r(h),v=d["default"].tap;t.tap=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),o=new r.Action;t.selectSong=o;var i=new r.Action;t.selectChart=i;var a=new r.Action;t.launchGame=a;var s=new r.Action;t.setFilterText=s;var u=new r.Action;t.setCustomSong=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.onMessage||function(){};return n("Examining dropped items..."),e.fileList.then(function(e){return e.filter(function(e){return/\.(bms|bme|bml)$/i.test(e)})}).then(function(t){return n(t.length+" file(s) found. Reading them..."),Promise.map(t,function(t){return e.file(t).then(function(e){return e.read()}).then(function(e){return{name:t,data:e}})})}).then(function(e){return new Promise(function(t,r){var o=new a["default"];o.onmessage=function(e){var r=e.data;"result"===r.type?(t(r.song),o.terminate()):"started"===r.type?n("Analyzing BMS files..."):"progress"===r.type&&n("Loaded "+r.file+" ("+r.current+"/"+r.total+").")},o.onerror=function(e){r(e)},o.postMessage({files:e})})}).then(function(t){return t.resources=e,t})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadSongFromResources=o;var i=n(615),a=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(516);var o=n(3),i=r(o),a=i["default"].createClass({displayName:"RankingTable",render:function(){return i["default"].createElement("table",{className:"ranking-table"},i["default"].createElement("tbody",null,this.props.children))}});t.RankingTable=a;var s=i["default"].createClass({displayName:"Row",render:function(){return i["default"].createElement("tr",null,i["default"].createElement("td",{className:"ranking-table--rank"},this.props.rank||i["default"].createElement("span",{title:"Unable to determine your rank"},"??")),i["default"].createElement("td",{className:"ranking-table--name"},this.props.record.playerName),i["default"].createElement("td",{className:"ranking-table--score"},this.props.record.score),i["default"].createElement("td",{className:"ranking-table--accuracy"},this.renderAccuracy(this.props.record.count,this.props.record.total),"%"))},renderAccuracy:function(e,t){var n=(e[0]+.8*e[1]+.5*e[2])/t;return(100*n).toFixed(2)}});t.Row=s;var u=i["default"].createClass({displayName:"Message",render:function(){return i["default"].createElement("tr",null,i["default"].createElement("td",{colSpan:4,className:"ranking-table--message"},this.props.children))}});t.Message=u,a.Row=s,a.Message=u,t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(518);var o=n(3),i=r(o);t["default"]=i["default"].createClass({displayName:"result-grade",render:function(){return i["default"].createElement("div",{className:"result-grade"},i["default"].createElement("div",{className:"result-grade--label"},"GRADE"),i["default"].createElement("div",{className:"result-grade--grade"},this.props.grade))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(519);var o=n(3),i=r(o),a=n(103),s=r(a),u=n(319),c=r(u),l=n(182),f=r(l),p=n(383),h=r(p),d=n(384),v=r(d),m=n(409),g=r(m),y=n(407),b=r(y),_=n(385),w=r(_),x=n(318),E=r(x);t["default"]=i["default"].createClass({displayName:"result-scene",render:function(){return i["default"].createElement(s["default"],{className:"result-scene"},i["default"].createElement(c["default"],null,"Play Result"),i["default"].createElement("div",{className:"result-scene--report"},i["default"].createElement(g["default"],{result:this.props.result})),i["default"].createElement(b["default"],{grade:this.props.result.grade}),i["default"].createElement("div",{className:"result-scene--information"},i["default"].createElement("div",{className:"result-scene--information-header"},i["default"].createElement("div",{className:"result-scene--chart"},i["default"].createElement(v["default"],{chart:this.props.chart,onChartClick:this.noop})),i["default"].createElement(h["default"],{info:this.props.chart.info})),i["default"].createElement("div",{className:"result-scene--information-body"},i["default"].createElement(w["default"],{result:this.props.result,chart:this.props.chart,playMode:this.props.playMode})),i["default"].createElement("div",{className:"result-scene--information-footer"},i["default"].createElement("a",{href:this.getTweetLink(),className:"result-scene--tweet",onClick:this.onTweet},i["default"].createElement("i",{className:"fa fa-twitter"})),i["default"].createElement(E["default"],{grow:1}),i["default"].createElement("div",{className:"result-scene--exit",onClick:this.props.onExit},"Continue"))),i["default"].createElement("div",{className:"result-scene--mode"},"KB"===this.props.playMode?"Keyboard":"BMS"," Mode"),i["default"].createElement(f["default"],null,i["default"].createElement(f["default"].Spacer,null),i["default"].createElement("a",{onClick:this.props.onExit,href:"javascript://"},"Continue")))},getTweetLink:function(){var e=this.props.chart.info.title,t=this.props.chart.info.subtitles[0]||"",n=this.props.result.score;if(""===t){var r=this.props.chart.info.genre.match(/\[([^\]]+)\]$/);r&&(t=r[1])}t=t.trim(),""===t||/^[\[\(]/.test(t)||(t="["+t+"]"),""!==t&&(t=" "+t);var o="Played: "+e+t+" on #Bemuse (Score:"+n+")\n https://bemuse.ninja/";return"https://twitter.com/intent/tweet?related=bemusegame&text="+encodeURIComponent(o)},onTweet:function(e){e.preventDefault(),e.stopPropagation(),window.open(this.getTweetLink(),"intent","width=550,height=420")},noop:function(){}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(520);var o=n(3),i=r(o),a=n(436),s=r(a);t["default"]=i["default"].createClass({displayName:"result-table",render:function(){var e=this.props.result;return i["default"].createElement("div",{className:"result-table"},i["default"].createElement("table",null,i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{value:e[1]})),i["default"].createElement("th",null,"Meticulous")),i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{value:e[2]})),i["default"].createElement("th",null,"Precise")),i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{value:e[3]})),i["default"].createElement("th",null,"Good")),i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{value:e[4]})),i["default"].createElement("th",null,"Offbeat")),i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{value:e.missed})),i["default"].createElement("th",null,"Missed"))),i["default"].createElement("table",null,i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{value:e.maxCombo})),i["default"].createElement("th",null,"Max Combo")),i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{formatter:this.formatAccuracy,value:e.accuracy})),i["default"].createElement("th",null,"Accurate"))),i["default"].createElement("table",{className:"result-table--total"},i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement(s["default"],{value:e.score})),i["default"].createElement("th",null,"Total Score"))))},formatAccuracy:function(e){return(100*e).toFixed(2)+"%"}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(387),u=r(s),c=function(){function e(t){var n=t.game,r=t.samples,i=t.master;o(this,e),this._master=i,this._context=i.audioContext,this._players=new Map(n.players.map(function(e){return[e,new u["default"]({player:e,samples:r,master:i})]}))}return a(e,[{key:"destroy",value:function(){this._master.destroy()}},{key:"unmute",value:function(){this._master.unmute()}},{key:"update",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,s=this._players[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=i(a.value,2),c=u[0],l=u[1];l.update(e,t.player(c))}}catch(f){r=!0,o=f}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}}},{key:"context",get:function(){return this._context}}]),e}();t.GameAudio=c,t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(93),s=r(a),u=function(){function e(t){o(this,e),t.unmute(),this._context=t.context,this._offset=[],this._sum=0,this.update()}return i(e,[{key:"update",value:function(){var e=s["default"]()/1e3,t=e-this._context.currentTime;for(this._offset.push(t),this._sum+=t;this._offset.length>60;)this._sum-=this._offset.shift();this.time=e-this._sum/this._offset.length}}]),e}();t.Clock=u,t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(414),s=r(a),u=n(353),c=r(u),l=n(178),f=r(l),p=n(411),h=r(p),d=n(137),v=r(d),m=n(416),g=r(m),y=n(389),b=r(y),_=n(415),w=r(_),x=function(){function e(t){var n=this,r=t.game,i=t.display,a=t.audio;o(this,e),this._audioInputLatency=r.options.audioInputLatency,this._game=r,this._display=i,this._audio=a,this._clock=new h["default"](this._audio),this._input=new f["default"],this._timer=new s["default"](this._clock,this._input),this._state=new c["default"](r),this._promise=new Promise(function(e){return n._resolvePromise=e}),v["default"].enabled&&this.enableBenchmark()}return i(e,[{key:"start",value:function(){var e=this;this._handleEscape(),this._display.start(),this._input.use(new g["default"]),this._input.use(new w["default"](this._game)),this._input.use(new b["default"](this._display.context)),/Mobile.*?Safari/.test(navigator.userAgent)?!function(){var t=setInterval(function(){return e._update()},10);e._endGameLoop=function(){return clearInterval(t)}}():!function(){var t=!1,n=function r(){t||(e._update(),requestAnimationFrame(r))};requestAnimationFrame(n),e._endGameLoop=function(){return t=!0}}()}},{key:"_handleEscape",value:function(){var e=this,t=function(t){27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e._resolvePromise(e._state))};window.addEventListener("keydown",t,!0),this._promise["finally"](function(){window.removeEventListener("keydown",t,!0)}).done()}},{key:"destroy",value:function(){this._endGameLoop(),this._audio.destroy(),this._input.destroy(),this._display.destroy()}},{key:"_update",value:function(){this._clock.update(),this._input.update(),this._timer.update();var e=this._timer.time,t=this._audioInputLatency;this._state.update(e-t,this._input,this._timer),this._audio.update(e,this._state),this._display.update(e,this._state),this._state.finished&&this._resolvePromise&&(this._resolvePromise(this._state),this._resolvePromise=null)}},{key:"enableBenchmark",value:function(){v["default"].benchmark("update",this,"_update"),v["default"].benchmark("input_update",this._input,"update"),v["default"].benchmark("state_update",this._state,"update"),v["default"].benchmark("audio_update",this._audio,"update"),v["default"].benchmark("display_update",this._display,"update"),v["default"].benchmark("display_compute",this._display,"_getData"),v["default"].benchmark("display_push",this._display._context._instance,"push"),v["default"].benchmark("display_render",this._display._context._renderer,"render")}},{key:"game",get:function(){return this._game}},{key:"display",get:function(){return this._display}},{key:"audio",get:function(){return this._audio}},{key:"promise",get:function(){return this._promise}}]),e}();t.GameController=x,t["default"]=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(t){var n=function(){return!1};return s["default"](window).on("touchstart",n),i(e,t),{teardown:function(){s["default"](window).off("touchstart",n)}}}}function i(e,t){function n(){var e=Math.min(window.innerWidth/i,window.innerHeight/a);r.style.width=Math.round(i*e)+"px",r.style.height=Math.round(a*e)+"px",o.style.width=Math.round(i*e)+"px",o.style.height=Math.round(a*e)+"px";var t=(window.innerHeight-a*e)/2;o.style.marginTop=Math.round(t)+"px"}var r=e.view,o=e.wrapper,i=r.width,a=r.height;return t.appendChild(o),n(),s["default"](window).on("resize",n),o}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(36),s=r(a);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(93),s=r(a),u=function(){function e(t,n){o(this,e),this._clock=t,this._input=n,this._now=s["default"]["synchronized"](),this.startTime=null,this.readyFraction=0}return i(e,[{key:"update",value:function(){this._checkStartGame(),this.time=this._calculateTime()}},{key:"_checkStartGame",value:function(){this.started||(this._input.get("start").value&&(this.gettingStarted=!0),this.gettingStarted&&!this._input.get("start").value&&(this.startTime=this._clock.time+this._getWait()),this.started||(this.readyFraction=1-this._getWait()))}},{key:"_getWait",value:function(){var e=this._now()/1e3;return Math.ceil(e)-e}},{key:"_calculateTime",value:function(){var e=null===this.startTime?0:this._clock.time-this.startTime;return 0>e&&(e=0),1>e?(Math.pow(e,6)-1)/6-1/30:e-31/30}},{key:"started",get:function(){return null!==this.startTime}}]),e}();t.GameTimer=u,t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(e){o[e.which]=1,e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation())}function n(e){o[e.which]=0,e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation())}var r=e.players[0].options.input.keyboard,o={};return a["default"](window).on("keydown",t).on("keyup",n),{name:"GameKBPlugin",get:function(){return{p1_1:o[r[1]||83],p1_2:o[r[2]||68],p1_3:o[r[3]||70],p1_4:o[r[4]||32],p1_5:o[r[5]||74],p1_6:o[r[6]||75],p1_7:o[r[7]||76],p1_SC:o[r.SC||65]||-o[r.SC2||0],p1_speedup:o[38],p1_speeddown:o[40],start:o[13],select:o[18]}},destroy:function(){a["default"](window).off("keydown",t).off("keyup",n)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),a=r(i);t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(){function e(e){return r.some(function(t){return t&&t.buttons[e]&&t.buttons[e].pressed})}function t(e){for(var t=0;t<r.length;t++){var n=r[t];if(n&&Math.abs(n.axes[e])>.01)return n.axes[e]}return 0}return{name:"GamepadPlugin",get:function(){var n={p1_1:e(3),p1_2:e(6),p1_3:e(2),p1_4:e(7),p1_5:e(1),p1_6:e(4),p1_7:t(3)||t(0),p1_SC:t(4)||t(1),start:e(9),select:e(8)};return n.p1_speedup=(n.start||n.select)&&(n.p1_2||n.p1_4||n.p1_6),n.p1_speeddown=(n.start||n.select)&&(n.p1_1||n.p1_3||n.p1_5||n.p1_7),n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.GamepadPlugin=n;var r=[];window.addEventListener("gamepadconnected",function(e){r.push(e.gamepad)}),t["default"]=n},function(e,t,n){(function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(t){var r=t.assets,o=t.bms;return b.start(function(i,a){i("Scintillator","Loading game engine",[],function(e){return new Promise(function(t){var r=new v["default"](e);r.use(function(){n.e(6,function(e){return t(n(173))})})})}),i("Skin","Loading skin",["Scintillator"],function(e,t){return e.load(e.getSkinUrl(),t)}),i("SkinContext",null,["Scintillator","Skin"],function(e,t){return new e.Context(t)}),r.progress&&(r.progress.current&&i.bar("Loading package",r.progress.current),r.progress.all&&i.bar("Loading song packages",r.progress.all)),i("BMSChart","Loading "+t.bms.name,[],s["default"].wrap(regeneratorRuntime.mark(function p(t){var n,r,i,a,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,o.read(t);case 2:return n=u.sent,r=new e(new Uint8Array(n)),u.next=6,Promise.promisify(c["default"].Reader.readAsync)(r);case 6:return i=u.sent,a=c["default"].Compiler.compile(i),s=a.chart,u.abrupt("return",s);case 10:case"end":return u.stop()}},p,this)})));var u=new f["default"],l=new f["default"];return i.bar("Loading audio",u),i.bar("Decoding audio",l),i("SamplingMaster",null,[],function(){return new h["default"]}),i("Game",null,["BMSChart"],function(e){return new w["default"](e,t.options)}),i("GameDisplay",null,["Game","Skin","SkinContext"],function(e,t,n){return new O["default"]({game:e,skin:t,context:n})}),i("Samples",null,["SamplingMaster","Game"],function(e,t){var n=new g["default"](r,e);return n.loadFiles(t.samples,u,l)}),i("GameAudio",null,["Game","Samples","SamplingMaster"],function(e,t,n){return new C["default"]({game:e,samples:t,master:n})}),i("GameController",null,["Game","GameDisplay","GameAudio"],function(e,t,n){return new E["default"]({game:e,display:t,audio:n})}),a("GameController")})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=i;var a=n(45),s=o(a),u=n(149),c=o(u),l=n(138),f=o(l),p=n(104),h=o(p),d=n(632),v=o(d),m=n(390),g=o(m),y=n(418),b=r(y),_=n(351),w=o(_),x=n(412),E=o(x),S=n(410),C=o(S),T=n(350),O=o(T)}).call(t,n(146).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){function t(e,t,n,i){var s=new c["default"];t&&f.push({text:t,progress:s}),a[e]=function(){return Promise.all(n.map(r)).then(function(e){return i.apply(void 0,o(e.concat([s])))})}}function n(e,t){f.push({text:e,progress:t})}function r(e){return u[e]||(u[e]=a[e]())}function i(){return f.map(function(e){return{text:e.text,progress:e.progress.progress,progressText:e.progress.toString()}})}var a={},u={},f=[];t.bar=n;var p=e(t,r),h=new s["default"](i()),d=l.throttle(function(){h.value=i()},16),v=!0,m=!1,g=void 0;try{for(var y,b=f[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var _=y.value;_.progress.watch(d)}}catch(w){m=!0,g=w}finally{try{!v&&b["return"]&&b["return"]()}finally{if(m)throw g}}return{tasks:h,promise:p}}Object.defineProperty(t,"__esModule",{value:!0}),t.start=i;var a=n(438),s=r(a),u=n(138),c=r(u),l=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(521);var o=n(3),i=r(o);t["default"]=i["default"].createClass({displayName:"loading-scene-progress-bar",render:function(){return i["default"].createElement("div",{className:"loading-scene-progress-bar"},i["default"].createElement("div",{className:"loading-scene-progress-bar--bar",style:{width:this.props.width}}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(522);var o=n(3),i=r(o),a=n(419),s=r(a);t["default"]=i["default"].createClass({displayName:"loading-scene-progress",render:function(){var e=this;return i["default"].createElement("div",{className:"loading-scene-progress"},this.props.tasks.value.map(function(t){return e.renderItem(t)}))},renderItem:function(e){var t=e.text,n=e.progressText,r=e.progress,o=Math.round(100*r||0)+"%",a=n?" ("+n+")":"";return i["default"].createElement("div",{className:"loading-scene-progress--item"},i["default"].createElement(s["default"],{width:o}),t,i["default"].createElement("span",{className:"loading-scene-progress--extra"},a))},componentDidMount:function(){var e=this;this._unsubscribe=this.props.tasks.watch(function(){return e.forceUpdate()})},componentWillUnmount:function(){this._unsubscribe()}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(523);var o=n(3),i=r(o);t["default"]=i["default"].createClass({displayName:"loading-scene-song-info",render:function(){var e=this.props.song;return i["default"].createElement("div",{className:"loading-scene-song-info"},i["default"].createElement("div",{className:"loading-scene-song-info--genre"},e.genre),i["default"].createElement("div",{className:"loading-scene-song-info--title"},e.title),e.subtitles.map(function(e){return i["default"].createElement("div",{className:"loading-scene-song-info--subtitle"},e)}),i["default"].createElement("div",{className:"loading-scene-song-info--artist"},e.artist),e.subartists.map(function(e){return i["default"].createElement("div",{className:"loading-scene-song-info--subartist"},e)}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(524);var o=n(3),i=r(o),a=n(103),s=r(a),u=n(421),c=r(u),l=n(420),f=r(l);t["default"]=i["default"].createClass({displayName:"loading-scene",render:function(){return i["default"].createElement(s["default"],{className:"loading-scene",ref:"scene"},i["default"].createElement("div",{className:"loading-scene--info"},i["default"].createElement(c["default"],{song:this.props.song})),i["default"].createElement(f["default"],{tasks:this.props.tasks}),i["default"].createElement("div",{className:"loading-scene--flash"}),i["default"].createElement("div",{className:"loading-scene--cover"}))},teardown:function(){return i["default"].findDOMNode(this.refs.scene).classList.add("is-exiting"),Promise.delay(500)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(525);var o=n(3),i=r(o),a=n(311),s=r(a),u=n(36),c=r(u);t["default"]=i["default"].createClass({displayName:"authentication-form",onButtonClick:function(e){e.preventDefault(),this.props.onSubmit({username:i["default"].findDOMNode(this.refs.username).value,password:i["default"].findDOMNode(this.refs.password).value,passwordConfirmation:i["default"].findDOMNode(this.refs.passwordConfirmation).value,email:i["default"].findDOMNode(this.refs.email).value})},componentDidMount:function(){c["default"](i["default"].findDOMNode(this)).on("keydown keyup keypress",function(e){e.stopPropagation()})},render:function(){return i["default"].createElement("form",{className:"authentication-form"},i["default"].createElement("div",{className:"authentication-form--group"},i["default"].createElement("label",null,i["default"].createElement("span",{className:"authentication-form--label"},"Username"),i["default"].createElement("span",{className:"authentication-form--control"},i["default"].createElement("input",{type:"text",defaultValue:"",ref:"username"}))),i["default"].createElement("label",{hidden:"signUp"!==this.props.mode},i["default"].createElement("span",{className:"authentication-form--label"},"Email"),i["default"].createElement("span",{className:"authentication-form--control"},i["default"].createElement("input",{type:"email",defaultValue:"",ref:"email"}))),i["default"].createElement("label",null,i["default"].createElement("span",{className:"authentication-form--label"},"Password"),i["default"].createElement("span",{className:"authentication-form--control"},i["default"].createElement("input",{type:"password",defaultValue:"",ref:"password"}))),i["default"].createElement("label",{hidden:"signUp"!==this.props.mode},i["default"].createElement("span",{className:"authentication-form--label"},"Confirm Password"),i["default"].createElement("span",{className:"authentication-form--control"},i["default"].createElement("input",{type:"password",defaultValue:"",ref:"passwordConfirmation"}))),i["default"].createElement("div",{className:"authentication-form--buttons"},i["default"].createElement(s["default"],{onClick:this.onButtonClick},this.renderSubmitText()))))},renderSubmitText:function(){return"signUp"===this.props.mode?"Sign Me Up":"Log In"}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(526);var o=n(3),i=r(o),a=n(34),s=r(a),u=n(181),c=r(u),l=n(318),f=r(l),p=n(180),h=r(p),d=n(423),v=r(d);t["default"]=i["default"].createClass({displayName:"authentication-panel",getInitialState:function(){return{mode:"logIn",authentication:{status:"idle",message:""}}},onSubmit:function(e){"signUp"===this.state.mode?this.runPromise(this.doSignUp(e)):this.runPromise(this.doLogIn(e))},runPromise:function(e){var t=this;this.setState({authentication:{status:"loading",message:"Omachi kudasai..."}}),e.then(function(e){t.setState({authentication:{status:"completed",message:e}})},function(e){t.setState({authentication:{status:"error",message:e.message}})}).done()},doSignUp:function(e){var t=this;return Promise["try"](function(){if(!e.username.trim())throw new Error("Please enter a username.");if(!e.username.match(/^\S+$/))throw new Error("Username may not contain spaces.");if(e.username.length<2)throw new Error("Username must be at least 2 characters long.");if(e.username.length>24)throw new Error("Username must be at most 24 characters long.");if(!e.password)throw new Error("Please enter a password.");if(e.password.length<6)throw new Error("Password must be at least 6 characters long.");if(!e.passwordConfirmation)throw new Error("Please confirm your password.");if(e.password!==e.passwordConfirmation)throw new Error("Passwords do not match.");return h["default"].signUp(e).then(function(){return t.props.onFinish&&t.props.onFinish(),"Welcome to Bemuse!"})})},doLogIn:function(e){var t=this;return Promise["try"](function(){if(!e.username.trim())throw new Error("Please enter your username.");if(!e.password.trim())throw new Error("Please enter your password.");return h["default"].logIn(e).then(function(){return t.props.onFinish&&t.props.onFinish(),"Welcome back!"})})},onSwitchToLogin:function(){this.setState({mode:"logIn"})},onSwitchToSignup:function(){this.setState({mode:"signUp"})},render:function(){return i["default"].createElement("div",{className:"authentication-panel"},i["default"].createElement(c["default"],{title:"Bemuse Online Ranking"},i["default"].createElement("div",{className:"authentication-panel--layout"},i["default"].createElement("div",{className:"authentication-panel--title"},i["default"].createElement("img",{src:n(397),alt:"DJ Bemuse"}),i["default"].createElement("div",{className:"authentication-panel--identification"},"Bemuse",i["default"].createElement("br",null),"Online",i["default"].createElement("br",null),"Ranking")),i["default"].createElement("div",{className:"authentication-panel--content"},i["default"].createElement("div",{className:"authentication-panel--mode-switcher"},i["default"].createElement("a",{href:"javascript://online/logIn",onClick:this.onSwitchToLogin,className:this.renderModeActiveClass("logIn")},"Log In")," ",""," ",i["default"].createElement("a",{href:"javascript://online/signUp",onClick:this.onSwitchToSignup,className:this.renderModeActiveClass("signUp")},"Create an Account")),i["default"].createElement(f["default"],{grow:"2"}),this.renderMessage(),i["default"].createElement(v["default"],{mode:this.state.mode,onSubmit:this.onSubmit}),i["default"].createElement(f["default"],{grow:"3"})))))},renderMessage:function(){var e=this.state.authentication;return"idle"!==e.status&&e.message?i["default"].createElement("div",{className:s["default"]("authentication-panel--message","is-"+e.status)},e.message):null},renderModeActiveClass:function(e){return e===this.state.mode?"is-active":""}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(140),s=r(a),u=n(150),c=function(){function e(t){o(this,e),this._url=t}return i(e,[{key:"read",value:function(e){return s["default"](this._url).as("arraybuffer",e)}},{key:"name",get:function(){return u.basename(this._url)}}]),e}();t.URLResource=c,t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(174),s=r(a),u=n(36),c=r(u),l=n(432),f=r(l),p=n(433),h=r(p),d=n(429),v=r(d),m=n(431),g=r(m),y=n(434),b=r(y),_=n(430),w=r(_),x=s["default"]("scintillator:compiler"),E={skin:f["default"],sprite:h["default"],group:v["default"],object:g["default"],text:b["default"],"if":w["default"]},S=function(){function e(t){o(this,e),Object.assign(this,t),this._defs=new Map}return i(e,[{key:"compile",value:function(t){var n=t[0].nodeName;x("compiling",t[0]);var r=e.getNodeClass(n);if(!r)throw new Error("Invalid node name: "+n);return r.compile(this,t)}},{key:"compileChildren",value:function(t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=Array.from(t.children())[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=u.nodeName;if("defs"===l)this.compileDefs(c["default"](u));else if("use"===l)n.push(this.getDef(u.getAttribute("def")));else{var f=e.getNodeClass(l);f&&n.push(this.compile(c["default"](u)))}}}catch(p){o=!0,i=p}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}},{key:"compileDefs",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Array.from(e.children())[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.getAttribute("id");if(!s)throw new Error("A def should have an id: "+a.nodeName);this._defs.set(s,this.compile(c["default"](a)))}}catch(u){n=!0,r=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"getDef",value:function(e){var t=this._defs.get(e);if(!t)throw new Error("Cannot find def: "+e);return t}}],[{key:"getNodeClass",value:function(e){return E[e]}}]),e}();t["default"]=S,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return navigator.userAgent.match(/Gecko\//)?new u["default"].autoDetectRenderer(e,t,{transparent:!0}):new u["default"].CanvasRenderer(e,t,{transparent:!0})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(33),u=r(s),c=function(){function e(t){o(this,e),this.refs={},this._skin=t,this._instance=t.instantiate(this),this._renderer=i(t.width,t.height),this.stage=this._instance.object,this.view=this._renderer.view,this._setupInteractivity()}return a(e,[{key:"render",value:function(e){this._instance.push(e),this._renderer.render(this.stage)}},{key:"destroy",value:function(){this._instance.destroy(),this._instance=null,this._teardownInteractivity()}},{key:"ref",value:function(e,t){var n=this.refs[e]||(this.refs[e]=new Set);n.add(t)}},{key:"unref",value:function(e,t){var n=this.refs[e];n&&n["delete"](t)}},{key:"_setupInteractivity",value:function(){function e(e,t,n){return{x:(t.clientX-n.left)/n.width*c,y:(t.clientY-n.top)/n.height*l,id:e}}var t=this,n=null,r=[],o=function(e){n=e},i=function(e){n=n&&e},a=function(){n=null},s=function(e){r=[].slice.call(e.touches)},u=this.view,c=this._skin.width,l=this._skin.height;u.addEventListener("mousedown",o,!1),u.addEventListener("mousemove",i,!1),u.addEventListener("mouseup",a,!1),u.addEventListener("touchstart",s,!1),u.addEventListener("touchmove",s,!1),u.addEventListener("touchend",s,!1),this._teardownInteractivity=function(){u.removeEventListener("mousedown",o,!1),u.removeEventListener("mousemove",i,!1),u.removeEventListener("mouseup",a,!1),u.removeEventListener("touchstart",s,!1),u.removeEventListener("touchmove",s,!1),u.removeEventListener("touchend",s,!1)},this._input={get:function(){var o=[],i=t.view.getBoundingClientRect();n&&o.push(e("mouse",n,i));for(var a=0;a<r.length;a++){var s=r[a];o.push(e("touch"+s.identifier,s,i))}return o}}}},{key:"input",get:function(){return this._input.get()}}]),e}();t.Context=c,t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return d["default"](regeneratorRuntime.mark(function n(){var r,o,s,u,c,f,h,d,v,m,g,y,_,E,S,C,T,O,A,k,j,P;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return x("load XML from %s",e),n.next=3,i(e);case 3:for(r=n.sent,o=new b["default"],s=new Set,u=!0,c=!1,f=void 0,n.prev=9,h=Array.from(r.find("[image]"))[Symbol.iterator]();!(u=(d=h.next()).done);u=!0)v=d.value,s.add(l["default"](v).attr("image"));n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](9),c=!0,f=n.t0;case 17:n.prev=17,n.prev=18,!u&&h["return"]&&h["return"]();case 20:if(n.prev=20,!c){n.next=23;break}throw f;case 23:return n.finish(20);case 24:return n.finish(17);case 25:for(m=!0,g=!1,y=void 0,n.prev=28,_=Array.from(r.find("[font-src]"))[Symbol.iterator]();!(m=(E=_.next()).done);m=!0)v=E.value,s.add(l["default"](v).attr("font-src"));n.next=36;break;case 32:n.prev=32,n.t1=n["catch"](28),g=!0,y=n.t1;case 36:n.prev=36,n.prev=37,!m&&_["return"]&&_["return"]();case 39:if(n.prev=39,!g){n.next=42;break}throw y;case 42:return n.finish(39);case 43:return n.finish(36);case 44:for(S=!0,C=!1,T=void 0,n.prev=47,O=s[Symbol.iterator]();!(S=(A=O.next()).done);S=!0)k=A.value,j=p["default"].resolve(e,k),o.add(k,j);n.next=55;break;case 51:n.prev=51,n.t2=n["catch"](47),C=!0,T=n.t2;case 55:n.prev=55,n.prev=56,!S&&O["return"]&&O["return"]();case 58:if(n.prev=58,!C){n.next=61;break}throw T;case 61:return n.finish(58);case 62:return n.finish(55);case 63:return n.next=65,a(o,t);case 65:return x("compiling"),P=new w["default"]({resources:o}).compile(r),n.abrupt("return",P);case 68:case"end":return n.stop()}},n,this,[[9,13,17,25],[18,,20,24],[28,32,36,44],[37,,39,43],[47,51,55,63],[56,,58,62]])}))}function i(e){return Promise.resolve(l["default"].ajax({url:e,dataType:"xml"})).then(function(e){return l["default"](e.documentElement)})}function a(e,t){return x("loading resources"),new Promise(function(n){if(0===e.urls.length)return n();var r=new m["default"].loaders.Loader,o=!0,i=!1,a=void 0;try{for(var s,u=e.urls[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;r.add(c,c)}}catch(l){i=!0,a=l}finally{try{!o&&u["return"]&&u["return"]()}finally{if(i)throw a}}r.once("complete",function(){x("resources finished loading"),n()}),t&&(t.formatter=g.PERCENTAGE_FORMATTER,r.once("complete",function(){t.report(100,100)}),r.on("progress",function(){t.report(r.progress,100)})),r.load()})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=o;var s=n(174),u=r(s),c=n(36),l=r(c),f=n(91),p=r(f),h=n(45),d=r(h),v=n(33),m=r(v),g=n(60),y=n(435),b=r(y),_=n(426),w=r(_),x=u["default"]("scintillator:loader")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(33),c=r(u),l=n(56),f=r(l),p=n(57),h=r(p),d=n(153),v=r(d),m=n(317),g=function(){function e(t){i(this,e),this._frame=t}return s(e,[{key:"instantiate",value:function(e,t){var n=new c["default"].Graphics;return n.beginFill(),n.drawShape(this._frame),n.endFill(),t.object.mask=n,new h["default"]({context:e,object:n,parent:t.object})}}]),e}();t.Mask=g;var y=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),s(t,[{key:"compile",value:function(e,t){this.children=e.compileChildren(t),this.display=v["default"].compile(e,t);var n=m.parseFrame(t.attr("mask")||"");n&&(this.mask=new g(n))}},{key:"instantiate",value:function(e,t){var n=new c["default"].Container,r=[this.display];return this.mask&&r.push(this.mask),new h["default"]({context:e,object:n,parent:t,concerns:r,children:this.children})}}]),t}(f["default"]);t.GroupNode=y,t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=n(33),c=r(u),l=n(56),f=r(l),p=n(57),h=r(p),d=n(102),v=r(d),m=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"compile",value:function(e,t){var n=e.compileChildren(t);if(1!==n.length)throw new Error("Expected exactly 1 children, "+n.length+" found");this.child=n[0],this.key=new v["default"](t.attr("key")),this.value=String(t.attr("value"))}},{key:"instantiate",value:function(e,t){var n=new c["default"].Container,r=this.key,o=this.value,i=this.child,a=null;return new h["default"]({context:e,parent:t,object:n,onData:function(t){String(r(t))===o?(null===a&&(a=i.instantiate(e,n)),a.push(t)):null!==a&&(a.destroy(),a=null)}})}}]),t}(f["default"]);t.IfNode=m,t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){return{instantiate:function(r,o){function i(){var e;console.log("init i"+n);for(var i=0;n>i;i++)e=t.instantiate(r,o.object),e.detach(),c.push(e)}function a(e){var t,n,r,o=new Set(u.keys());e||(e=[]);for(var i=0;i<e.length;i++)n=e[i],t=n.key,u.has(t)?r=u.get(t):(r=s(),u.set(t,r)),r.push(n),o["delete"](t);var a=!0,l=!1,f=void 0;try{for(var p,h=o[Symbol.iterator]();!(a=(p=h.next()).done);a=!0)t=p.value,r=u.get(t),r.detach(),u["delete"](t),c.push(r)}catch(d){l=!0,f=d}finally{try{!a&&h["return"]&&h["return"]()}finally{if(l)throw f}}}function s(){var e=c.pop();return e?e.attachTo(o.object):e=t.instantiate(r,o.object),e}var u=new Map,c=[];return i(),new d["default"]({context:r,onData:function(t){a(e(t))}})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=n(33),l=r(c),f=n(56),p=r(f),h=n(57),d=r(h),v=n(102),m=r(v),g=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"compile",value:function(e,t){if(this.children=e.compileChildren(t),1!==this.children.length)throw new Error("Expected exactly 1 children, "+this.children.length+" given");this.pool=+t.attr("pool")||1,this.key=new m["default"](t.attr("key"))}},{key:"instantiate",value:function(e,t){var n=new l["default"].ParticleContainer,r=new a(this.key,this.children[0],this.pool);return new d["default"]({context:e,parent:t,object:n,concerns:[r]})}}]),t}(p["default"]);t.ObjectNode=g,t["default"]=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=n(33),c=r(u),l=n(56),f=r(l),p=n(57),h=r(p),d=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"compile",value:function(e,t){this.children=e.compileChildren(t),this.width=+t.attr("width"),this.height=+t.attr("height")}},{key:"instantiate",value:function(e){var t=new c["default"].Stage(591879);return new h["default"]({context:e,object:t,children:this.children})}}]),t}(f["default"]);t.SkinRootNode=d,t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;
return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=n(33),c=r(u),l=n(56),f=r(l),p=n(57),h=r(p),d=n(317),v=n(153),m=r(v),g=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"compile",value:function(e,t){this.url=e.resources.get(t.attr("image")),this.display=m["default"].compile(e,t),this.frame=d.parseFrame(t.attr("frame")||"")}},{key:"instantiate",value:function(e,t){var n=new c["default"].Sprite(this.getTexture());return new h["default"]({context:e,object:n,parent:t,concerns:[this.display]})}},{key:"getTexture",value:function(){if(this._texture)return this._texture;var e=c["default"].SCALE_MODES.NEAREST,t=c["default"].BaseTexture.fromImage(this.url,void 0,e),n=new c["default"].Texture(t,this.frame);return this._texture=n,n}}]),t}(f["default"]);t.SpriteNode=g,t["default"]=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=n(33),c=r(u),l=n(56),f=r(l),p=n(57),h=r(p),d=n(153),v=r(d),m=n(102),g=r(m),y=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"compile",value:function(e,t){this.font=t.attr("font"),this.text=t.attr("text"),this.data=new g["default"](t.attr("data")||"0"),this.display=v["default"].compile(e,t),this.ttf=!t.attr("font-src"),this.fill=t.attr("fill"),this.align="left"===t.attr("align")?0:"right"===t.attr("align")?1:.5}},{key:"instantiate",value:function(e,t){var n=this,r=void 0;r=this.ttf?new c["default"].Text(this.text,{font:this.font,fill:this.fill}):new c["default"].extras.BitmapText(this.text,{font:this.font});var o=new c["default"].Container;return o.addChild(r),new h["default"]({context:e,parent:t,object:o,concerns:[this.display],bindings:[[this.data,function(e){r.text=n.text.replace("%s",e),r.updateText(),r.x=r.width*-n.align}]]})}}]),t}(f["default"]);t.TextNode=y,t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(17),s=r(a),u=function(){function e(){o(this,e),this._map={}}return i(e,[{key:"add",value:function(e,t){this._map[e]=t}},{key:"get",value:function(e){if(!(e in this._map))throw new Error("Not registered: "+e);return this._map[e]}},{key:"urls",get:function(){return s["default"].values(this._map)}}]),e}();t.Resources=u,t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(530);var o=n(3),i=r(o),a=n(93),s=r(a);t["default"]=i["default"].createClass({displayName:"running-number",render:function(){return i["default"].createElement("span",{className:"running-number"})},componentDidMount:function(){var e=this,t=this.getDOMNode(),n=document.createTextNode("");t.appendChild(n),n.nodeValue=this._getText(0);var r=s["default"](),o=setInterval(function(){var t=Math.min(1,Math.max(0,(s["default"]()-r)/2e3));n.nodeValue=e._getText(e.props.value*t),1===t&&clearInterval(o)},16)},_getText:function(e){return this.props.formatter?this.props.formatter(e):e.toFixed(0)}}),e.exports=t["default"]},,,function(e,t){e.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},function(e,t){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));return 3!==arguments.length?r[t]:void(r[t]=n)}},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"/*!\n *  Font Awesome 4.3.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:FontAwesome;src:url("+n(608)+");src:url("+n(607)+"?#iefix&v=4.3.0) format('embedded-opentype'),url("+n(611)+") format('woff2'),url("+n(612)+") format('woff'),url("+n(610)+") format('truetype'),url("+n(609)+'#fontawesomeregular) format(\'svg\');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transform:translate(0, 0);transform:translate(0, 0)}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0,mirror=1);-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2,mirror=1);-webkit-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{-webkit-filter:none;filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\F000"}.fa-music:before{content:"\\F001"}.fa-search:before{content:"\\F002"}.fa-envelope-o:before{content:"\\F003"}.fa-heart:before{content:"\\F004"}.fa-star:before{content:"\\F005"}.fa-star-o:before{content:"\\F006"}.fa-user:before{content:"\\F007"}.fa-film:before{content:"\\F008"}.fa-th-large:before{content:"\\F009"}.fa-th:before{content:"\\F00A"}.fa-th-list:before{content:"\\F00B"}.fa-check:before{content:"\\F00C"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\\F00D"}.fa-search-plus:before{content:"\\F00E"}.fa-search-minus:before{content:"\\F010"}.fa-power-off:before{content:"\\F011"}.fa-signal:before{content:"\\F012"}.fa-cog:before,.fa-gear:before{content:"\\F013"}.fa-trash-o:before{content:"\\F014"}.fa-home:before{content:"\\F015"}.fa-file-o:before{content:"\\F016"}.fa-clock-o:before{content:"\\F017"}.fa-road:before{content:"\\F018"}.fa-download:before{content:"\\F019"}.fa-arrow-circle-o-down:before{content:"\\F01A"}.fa-arrow-circle-o-up:before{content:"\\F01B"}.fa-inbox:before{content:"\\F01C"}.fa-play-circle-o:before{content:"\\F01D"}.fa-repeat:before,.fa-rotate-right:before{content:"\\F01E"}.fa-refresh:before{content:"\\F021"}.fa-list-alt:before{content:"\\F022"}.fa-lock:before{content:"\\F023"}.fa-flag:before{content:"\\F024"}.fa-headphones:before{content:"\\F025"}.fa-volume-off:before{content:"\\F026"}.fa-volume-down:before{content:"\\F027"}.fa-volume-up:before{content:"\\F028"}.fa-qrcode:before{content:"\\F029"}.fa-barcode:before{content:"\\F02A"}.fa-tag:before{content:"\\F02B"}.fa-tags:before{content:"\\F02C"}.fa-book:before{content:"\\F02D"}.fa-bookmark:before{content:"\\F02E"}.fa-print:before{content:"\\F02F"}.fa-camera:before{content:"\\F030"}.fa-font:before{content:"\\F031"}.fa-bold:before{content:"\\F032"}.fa-italic:before{content:"\\F033"}.fa-text-height:before{content:"\\F034"}.fa-text-width:before{content:"\\F035"}.fa-align-left:before{content:"\\F036"}.fa-align-center:before{content:"\\F037"}.fa-align-right:before{content:"\\F038"}.fa-align-justify:before{content:"\\F039"}.fa-list:before{content:"\\F03A"}.fa-dedent:before,.fa-outdent:before{content:"\\F03B"}.fa-indent:before{content:"\\F03C"}.fa-video-camera:before{content:"\\F03D"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\\F03E"}.fa-pencil:before{content:"\\F040"}.fa-map-marker:before{content:"\\F041"}.fa-adjust:before{content:"\\F042"}.fa-tint:before{content:"\\F043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\F044"}.fa-share-square-o:before{content:"\\F045"}.fa-check-square-o:before{content:"\\F046"}.fa-arrows:before{content:"\\F047"}.fa-step-backward:before{content:"\\F048"}.fa-fast-backward:before{content:"\\F049"}.fa-backward:before{content:"\\F04A"}.fa-play:before{content:"\\F04B"}.fa-pause:before{content:"\\F04C"}.fa-stop:before{content:"\\F04D"}.fa-forward:before{content:"\\F04E"}.fa-fast-forward:before{content:"\\F050"}.fa-step-forward:before{content:"\\F051"}.fa-eject:before{content:"\\F052"}.fa-chevron-left:before{content:"\\F053"}.fa-chevron-right:before{content:"\\F054"}.fa-plus-circle:before{content:"\\F055"}.fa-minus-circle:before{content:"\\F056"}.fa-times-circle:before{content:"\\F057"}.fa-check-circle:before{content:"\\F058"}.fa-question-circle:before{content:"\\F059"}.fa-info-circle:before{content:"\\F05A"}.fa-crosshairs:before{content:"\\F05B"}.fa-times-circle-o:before{content:"\\F05C"}.fa-check-circle-o:before{content:"\\F05D"}.fa-ban:before{content:"\\F05E"}.fa-arrow-left:before{content:"\\F060"}.fa-arrow-right:before{content:"\\F061"}.fa-arrow-up:before{content:"\\F062"}.fa-arrow-down:before{content:"\\F063"}.fa-mail-forward:before,.fa-share:before{content:"\\F064"}.fa-expand:before{content:"\\F065"}.fa-compress:before{content:"\\F066"}.fa-plus:before{content:"\\F067"}.fa-minus:before{content:"\\F068"}.fa-asterisk:before{content:"\\F069"}.fa-exclamation-circle:before{content:"\\F06A"}.fa-gift:before{content:"\\F06B"}.fa-leaf:before{content:"\\F06C"}.fa-fire:before{content:"\\F06D"}.fa-eye:before{content:"\\F06E"}.fa-eye-slash:before{content:"\\F070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\\F071"}.fa-plane:before{content:"\\F072"}.fa-calendar:before{content:"\\F073"}.fa-random:before{content:"\\F074"}.fa-comment:before{content:"\\F075"}.fa-magnet:before{content:"\\F076"}.fa-chevron-up:before{content:"\\F077"}.fa-chevron-down:before{content:"\\F078"}.fa-retweet:before{content:"\\F079"}.fa-shopping-cart:before{content:"\\F07A"}.fa-folder:before{content:"\\F07B"}.fa-folder-open:before{content:"\\F07C"}.fa-arrows-v:before{content:"\\F07D"}.fa-arrows-h:before{content:"\\F07E"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\F080"}.fa-twitter-square:before{content:"\\F081"}.fa-facebook-square:before{content:"\\F082"}.fa-camera-retro:before{content:"\\F083"}.fa-key:before{content:"\\F084"}.fa-cogs:before,.fa-gears:before{content:"\\F085"}.fa-comments:before{content:"\\F086"}.fa-thumbs-o-up:before{content:"\\F087"}.fa-thumbs-o-down:before{content:"\\F088"}.fa-star-half:before{content:"\\F089"}.fa-heart-o:before{content:"\\F08A"}.fa-sign-out:before{content:"\\F08B"}.fa-linkedin-square:before{content:"\\F08C"}.fa-thumb-tack:before{content:"\\F08D"}.fa-external-link:before{content:"\\F08E"}.fa-sign-in:before{content:"\\F090"}.fa-trophy:before{content:"\\F091"}.fa-github-square:before{content:"\\F092"}.fa-upload:before{content:"\\F093"}.fa-lemon-o:before{content:"\\F094"}.fa-phone:before{content:"\\F095"}.fa-square-o:before{content:"\\F096"}.fa-bookmark-o:before{content:"\\F097"}.fa-phone-square:before{content:"\\F098"}.fa-twitter:before{content:"\\F099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\F09A"}.fa-github:before{content:"\\F09B"}.fa-unlock:before{content:"\\F09C"}.fa-credit-card:before{content:"\\F09D"}.fa-rss:before{content:"\\F09E"}.fa-hdd-o:before{content:"\\F0A0"}.fa-bullhorn:before{content:"\\F0A1"}.fa-bell:before{content:"\\F0F3"}.fa-certificate:before{content:"\\F0A3"}.fa-hand-o-right:before{content:"\\F0A4"}.fa-hand-o-left:before{content:"\\F0A5"}.fa-hand-o-up:before{content:"\\F0A6"}.fa-hand-o-down:before{content:"\\F0A7"}.fa-arrow-circle-left:before{content:"\\F0A8"}.fa-arrow-circle-right:before{content:"\\F0A9"}.fa-arrow-circle-up:before{content:"\\F0AA"}.fa-arrow-circle-down:before{content:"\\F0AB"}.fa-globe:before{content:"\\F0AC"}.fa-wrench:before{content:"\\F0AD"}.fa-tasks:before{content:"\\F0AE"}.fa-filter:before{content:"\\F0B0"}.fa-briefcase:before{content:"\\F0B1"}.fa-arrows-alt:before{content:"\\F0B2"}.fa-group:before,.fa-users:before{content:"\\F0C0"}.fa-chain:before,.fa-link:before{content:"\\F0C1"}.fa-cloud:before{content:"\\F0C2"}.fa-flask:before{content:"\\F0C3"}.fa-cut:before,.fa-scissors:before{content:"\\F0C4"}.fa-copy:before,.fa-files-o:before{content:"\\F0C5"}.fa-paperclip:before{content:"\\F0C6"}.fa-floppy-o:before,.fa-save:before{content:"\\F0C7"}.fa-square:before{content:"\\F0C8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\\F0C9"}.fa-list-ul:before{content:"\\F0CA"}.fa-list-ol:before{content:"\\F0CB"}.fa-strikethrough:before{content:"\\F0CC"}.fa-underline:before{content:"\\F0CD"}.fa-table:before{content:"\\F0CE"}.fa-magic:before{content:"\\F0D0"}.fa-truck:before{content:"\\F0D1"}.fa-pinterest:before{content:"\\F0D2"}.fa-pinterest-square:before{content:"\\F0D3"}.fa-google-plus-square:before{content:"\\F0D4"}.fa-google-plus:before{content:"\\F0D5"}.fa-money:before{content:"\\F0D6"}.fa-caret-down:before{content:"\\F0D7"}.fa-caret-up:before{content:"\\F0D8"}.fa-caret-left:before{content:"\\F0D9"}.fa-caret-right:before{content:"\\F0DA"}.fa-columns:before{content:"\\F0DB"}.fa-sort:before,.fa-unsorted:before{content:"\\F0DC"}.fa-sort-desc:before,.fa-sort-down:before{content:"\\F0DD"}.fa-sort-asc:before,.fa-sort-up:before{content:"\\F0DE"}.fa-envelope:before{content:"\\F0E0"}.fa-linkedin:before{content:"\\F0E1"}.fa-rotate-left:before,.fa-undo:before{content:"\\F0E2"}.fa-gavel:before,.fa-legal:before{content:"\\F0E3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\F0E4"}.fa-comment-o:before{content:"\\F0E5"}.fa-comments-o:before{content:"\\F0E6"}.fa-bolt:before,.fa-flash:before{content:"\\F0E7"}.fa-sitemap:before{content:"\\F0E8"}.fa-umbrella:before{content:"\\F0E9"}.fa-clipboard:before,.fa-paste:before{content:"\\F0EA"}.fa-lightbulb-o:before{content:"\\F0EB"}.fa-exchange:before{content:"\\F0EC"}.fa-cloud-download:before{content:"\\F0ED"}.fa-cloud-upload:before{content:"\\F0EE"}.fa-user-md:before{content:"\\F0F0"}.fa-stethoscope:before{content:"\\F0F1"}.fa-suitcase:before{content:"\\F0F2"}.fa-bell-o:before{content:"\\F0A2"}.fa-coffee:before{content:"\\F0F4"}.fa-cutlery:before{content:"\\F0F5"}.fa-file-text-o:before{content:"\\F0F6"}.fa-building-o:before{content:"\\F0F7"}.fa-hospital-o:before{content:"\\F0F8"}.fa-ambulance:before{content:"\\F0F9"}.fa-medkit:before{content:"\\F0FA"}.fa-fighter-jet:before{content:"\\F0FB"}.fa-beer:before{content:"\\F0FC"}.fa-h-square:before{content:"\\F0FD"}.fa-plus-square:before{content:"\\F0FE"}.fa-angle-double-left:before{content:"\\F100"}.fa-angle-double-right:before{content:"\\F101"}.fa-angle-double-up:before{content:"\\F102"}.fa-angle-double-down:before{content:"\\F103"}.fa-angle-left:before{content:"\\F104"}.fa-angle-right:before{content:"\\F105"}.fa-angle-up:before{content:"\\F106"}.fa-angle-down:before{content:"\\F107"}.fa-desktop:before{content:"\\F108"}.fa-laptop:before{content:"\\F109"}.fa-tablet:before{content:"\\F10A"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\F10B"}.fa-circle-o:before{content:"\\F10C"}.fa-quote-left:before{content:"\\F10D"}.fa-quote-right:before{content:"\\F10E"}.fa-spinner:before{content:"\\F110"}.fa-circle:before{content:"\\F111"}.fa-mail-reply:before,.fa-reply:before{content:"\\F112"}.fa-github-alt:before{content:"\\F113"}.fa-folder-o:before{content:"\\F114"}.fa-folder-open-o:before{content:"\\F115"}.fa-smile-o:before{content:"\\F118"}.fa-frown-o:before{content:"\\F119"}.fa-meh-o:before{content:"\\F11A"}.fa-gamepad:before{content:"\\F11B"}.fa-keyboard-o:before{content:"\\F11C"}.fa-flag-o:before{content:"\\F11D"}.fa-flag-checkered:before{content:"\\F11E"}.fa-terminal:before{content:"\\F120"}.fa-code:before{content:"\\F121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\F122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\F123"}.fa-location-arrow:before{content:"\\F124"}.fa-crop:before{content:"\\F125"}.fa-code-fork:before{content:"\\F126"}.fa-chain-broken:before,.fa-unlink:before{content:"\\F127"}.fa-question:before{content:"\\F128"}.fa-info:before{content:"\\F129"}.fa-exclamation:before{content:"\\F12A"}.fa-superscript:before{content:"\\F12B"}.fa-subscript:before{content:"\\F12C"}.fa-eraser:before{content:"\\F12D"}.fa-puzzle-piece:before{content:"\\F12E"}.fa-microphone:before{content:"\\F130"}.fa-microphone-slash:before{content:"\\F131"}.fa-shield:before{content:"\\F132"}.fa-calendar-o:before{content:"\\F133"}.fa-fire-extinguisher:before{content:"\\F134"}.fa-rocket:before{content:"\\F135"}.fa-maxcdn:before{content:"\\F136"}.fa-chevron-circle-left:before{content:"\\F137"}.fa-chevron-circle-right:before{content:"\\F138"}.fa-chevron-circle-up:before{content:"\\F139"}.fa-chevron-circle-down:before{content:"\\F13A"}.fa-html5:before{content:"\\F13B"}.fa-css3:before{content:"\\F13C"}.fa-anchor:before{content:"\\F13D"}.fa-unlock-alt:before{content:"\\F13E"}.fa-bullseye:before{content:"\\F140"}.fa-ellipsis-h:before{content:"\\F141"}.fa-ellipsis-v:before{content:"\\F142"}.fa-rss-square:before{content:"\\F143"}.fa-play-circle:before{content:"\\F144"}.fa-ticket:before{content:"\\F145"}.fa-minus-square:before{content:"\\F146"}.fa-minus-square-o:before{content:"\\F147"}.fa-level-up:before{content:"\\F148"}.fa-level-down:before{content:"\\F149"}.fa-check-square:before{content:"\\F14A"}.fa-pencil-square:before{content:"\\F14B"}.fa-external-link-square:before{content:"\\F14C"}.fa-share-square:before{content:"\\F14D"}.fa-compass:before{content:"\\F14E"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\\F150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\\F151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\\F152"}.fa-eur:before,.fa-euro:before{content:"\\F153"}.fa-gbp:before{content:"\\F154"}.fa-dollar:before,.fa-usd:before{content:"\\F155"}.fa-inr:before,.fa-rupee:before{content:"\\F156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\\F157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\\F158"}.fa-krw:before,.fa-won:before{content:"\\F159"}.fa-bitcoin:before,.fa-btc:before{content:"\\F15A"}.fa-file:before{content:"\\F15B"}.fa-file-text:before{content:"\\F15C"}.fa-sort-alpha-asc:before{content:"\\F15D"}.fa-sort-alpha-desc:before{content:"\\F15E"}.fa-sort-amount-asc:before{content:"\\F160"}.fa-sort-amount-desc:before{content:"\\F161"}.fa-sort-numeric-asc:before{content:"\\F162"}.fa-sort-numeric-desc:before{content:"\\F163"}.fa-thumbs-up:before{content:"\\F164"}.fa-thumbs-down:before{content:"\\F165"}.fa-youtube-square:before{content:"\\F166"}.fa-youtube:before{content:"\\F167"}.fa-xing:before{content:"\\F168"}.fa-xing-square:before{content:"\\F169"}.fa-youtube-play:before{content:"\\F16A"}.fa-dropbox:before{content:"\\F16B"}.fa-stack-overflow:before{content:"\\F16C"}.fa-instagram:before{content:"\\F16D"}.fa-flickr:before{content:"\\F16E"}.fa-adn:before{content:"\\F170"}.fa-bitbucket:before{content:"\\F171"}.fa-bitbucket-square:before{content:"\\F172"}.fa-tumblr:before{content:"\\F173"}.fa-tumblr-square:before{content:"\\F174"}.fa-long-arrow-down:before{content:"\\F175"}.fa-long-arrow-up:before{content:"\\F176"}.fa-long-arrow-left:before{content:"\\F177"}.fa-long-arrow-right:before{content:"\\F178"}.fa-apple:before{content:"\\F179"}.fa-windows:before{content:"\\F17A"}.fa-android:before{content:"\\F17B"}.fa-linux:before{content:"\\F17C"}.fa-dribbble:before{content:"\\F17D"}.fa-skype:before{content:"\\F17E"}.fa-foursquare:before{content:"\\F180"}.fa-trello:before{content:"\\F181"}.fa-female:before{content:"\\F182"}.fa-male:before{content:"\\F183"}.fa-gittip:before,.fa-gratipay:before{content:"\\F184"}.fa-sun-o:before{content:"\\F185"}.fa-moon-o:before{content:"\\F186"}.fa-archive:before{content:"\\F187"}.fa-bug:before{content:"\\F188"}.fa-vk:before{content:"\\F189"}.fa-weibo:before{content:"\\F18A"}.fa-renren:before{content:"\\F18B"}.fa-pagelines:before{content:"\\F18C"}.fa-stack-exchange:before{content:"\\F18D"}.fa-arrow-circle-o-right:before{content:"\\F18E"}.fa-arrow-circle-o-left:before{content:"\\F190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\\F191"}.fa-dot-circle-o:before{content:"\\F192"}.fa-wheelchair:before{content:"\\F193"}.fa-vimeo-square:before{content:"\\F194"}.fa-try:before,.fa-turkish-lira:before{content:"\\F195"}.fa-plus-square-o:before{content:"\\F196"}.fa-space-shuttle:before{content:"\\F197"}.fa-slack:before{content:"\\F198"}.fa-envelope-square:before{content:"\\F199"}.fa-wordpress:before{content:"\\F19A"}.fa-openid:before{content:"\\F19B"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\\F19C"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\\F19D"}.fa-yahoo:before{content:"\\F19E"}.fa-google:before{content:"\\F1A0"}.fa-reddit:before{content:"\\F1A1"}.fa-reddit-square:before{content:"\\F1A2"}.fa-stumbleupon-circle:before{content:"\\F1A3"}.fa-stumbleupon:before{content:"\\F1A4"}.fa-delicious:before{content:"\\F1A5"}.fa-digg:before{content:"\\F1A6"}.fa-pied-piper:before{content:"\\F1A7"}.fa-pied-piper-alt:before{content:"\\F1A8"}.fa-drupal:before{content:"\\F1A9"}.fa-joomla:before{content:"\\F1AA"}.fa-language:before{content:"\\F1AB"}.fa-fax:before{content:"\\F1AC"}.fa-building:before{content:"\\F1AD"}.fa-child:before{content:"\\F1AE"}.fa-paw:before{content:"\\F1B0"}.fa-spoon:before{content:"\\F1B1"}.fa-cube:before{content:"\\F1B2"}.fa-cubes:before{content:"\\F1B3"}.fa-behance:before{content:"\\F1B4"}.fa-behance-square:before{content:"\\F1B5"}.fa-steam:before{content:"\\F1B6"}.fa-steam-square:before{content:"\\F1B7"}.fa-recycle:before{content:"\\F1B8"}.fa-automobile:before,.fa-car:before{content:"\\F1B9"}.fa-cab:before,.fa-taxi:before{content:"\\F1BA"}.fa-tree:before{content:"\\F1BB"}.fa-spotify:before{content:"\\F1BC"}.fa-deviantart:before{content:"\\F1BD"}.fa-soundcloud:before{content:"\\F1BE"}.fa-database:before{content:"\\F1C0"}.fa-file-pdf-o:before{content:"\\F1C1"}.fa-file-word-o:before{content:"\\F1C2"}.fa-file-excel-o:before{content:"\\F1C3"}.fa-file-powerpoint-o:before{content:"\\F1C4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\\F1C5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\\F1C6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\\F1C7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\F1C8"}.fa-file-code-o:before{content:"\\F1C9"}.fa-vine:before{content:"\\F1CA"}.fa-codepen:before{content:"\\F1CB"}.fa-jsfiddle:before{content:"\\F1CC"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\\F1CD"}.fa-circle-o-notch:before{content:"\\F1CE"}.fa-ra:before,.fa-rebel:before{content:"\\F1D0"}.fa-empire:before,.fa-ge:before{content:"\\F1D1"}.fa-git-square:before{content:"\\F1D2"}.fa-git:before{content:"\\F1D3"}.fa-hacker-news:before{content:"\\F1D4"}.fa-tencent-weibo:before{content:"\\F1D5"}.fa-qq:before{content:"\\F1D6"}.fa-wechat:before,.fa-weixin:before{content:"\\F1D7"}.fa-paper-plane:before,.fa-send:before{content:"\\F1D8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\\F1D9"}.fa-history:before{content:"\\F1DA"}.fa-circle-thin:before,.fa-genderless:before{content:"\\F1DB"}.fa-header:before{content:"\\F1DC"}.fa-paragraph:before{content:"\\F1DD"}.fa-sliders:before{content:"\\F1DE"}.fa-share-alt:before{content:"\\F1E0"}.fa-share-alt-square:before{content:"\\F1E1"}.fa-bomb:before{content:"\\F1E2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\\F1E3"}.fa-tty:before{content:"\\F1E4"}.fa-binoculars:before{content:"\\F1E5"}.fa-plug:before{content:"\\F1E6"}.fa-slideshare:before{content:"\\F1E7"}.fa-twitch:before{content:"\\F1E8"}.fa-yelp:before{content:"\\F1E9"}.fa-newspaper-o:before{content:"\\F1EA"}.fa-wifi:before{content:"\\F1EB"}.fa-calculator:before{content:"\\F1EC"}.fa-paypal:before{content:"\\F1ED"}.fa-google-wallet:before{content:"\\F1EE"}.fa-cc-visa:before{content:"\\F1F0"}.fa-cc-mastercard:before{content:"\\F1F1"}.fa-cc-discover:before{content:"\\F1F2"}.fa-cc-amex:before{content:"\\F1F3"}.fa-cc-paypal:before{content:"\\F1F4"}.fa-cc-stripe:before{content:"\\F1F5"}.fa-bell-slash:before{content:"\\F1F6"}.fa-bell-slash-o:before{content:"\\F1F7"}.fa-trash:before{content:"\\F1F8"}.fa-copyright:before{content:"\\F1F9"}.fa-at:before{content:"\\F1FA"}.fa-eyedropper:before{content:"\\F1FB"}.fa-paint-brush:before{content:"\\F1FC"}.fa-birthday-cake:before{content:"\\F1FD"}.fa-area-chart:before{content:"\\F1FE"}.fa-pie-chart:before{content:"\\F200"}.fa-line-chart:before{content:"\\F201"}.fa-lastfm:before{content:"\\F202"}.fa-lastfm-square:before{content:"\\F203"}.fa-toggle-off:before{content:"\\F204"}.fa-toggle-on:before{content:"\\F205"}.fa-bicycle:before{content:"\\F206"}.fa-bus:before{content:"\\F207"}.fa-ioxhost:before{content:"\\F208"}.fa-angellist:before{content:"\\F209"}.fa-cc:before{content:"\\F20A"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\\F20B"}.fa-meanpath:before{content:"\\F20C"}.fa-buysellads:before{content:"\\F20D"}.fa-connectdevelop:before{content:"\\F20E"}.fa-dashcube:before{content:"\\F210"}.fa-forumbee:before{content:"\\F211"}.fa-leanpub:before{content:"\\F212"}.fa-sellsy:before{content:"\\F213"}.fa-shirtsinbulk:before{content:"\\F214"}.fa-simplybuilt:before{content:"\\F215"}.fa-skyatlas:before{content:"\\F216"}.fa-cart-plus:before{content:"\\F217"}.fa-cart-arrow-down:before{content:"\\F218"}.fa-diamond:before{content:"\\F219"}.fa-ship:before{content:"\\F21A"}.fa-user-secret:before{content:"\\F21B"}.fa-motorcycle:before{content:"\\F21C"}.fa-street-view:before{content:"\\F21D"}.fa-heartbeat:before{content:"\\F21E"}.fa-venus:before{content:"\\F221"}.fa-mars:before{content:"\\F222"}.fa-mercury:before{content:"\\F223"}.fa-transgender:before{content:"\\F224"}.fa-transgender-alt:before{content:"\\F225"}.fa-venus-double:before{content:"\\F226"}.fa-mars-double:before{content:"\\F227"}.fa-venus-mars:before{content:"\\F228"}.fa-mars-stroke:before{content:"\\F229"}.fa-mars-stroke-v:before{content:"\\F22A"}.fa-mars-stroke-h:before{content:"\\F22B"}.fa-neuter:before{content:"\\F22C"}.fa-facebook-official:before{content:"\\F230"}.fa-pinterest-p:before{content:"\\F231"}.fa-whatsapp:before{content:"\\F232"}.fa-server:before{content:"\\F233"}.fa-user-plus:before{content:"\\F234"}.fa-user-times:before{content:"\\F235"}.fa-bed:before,.fa-hotel:before{content:"\\F236"}.fa-viacoin:before{content:"\\F237"}.fa-train:before{content:"\\F238"}.fa-subway:before{content:"\\F239"}.fa-medium:before{content:"\\F23A"}',""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,'body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.music-chart-info{font:2.5vmin "Source Sans Pro",Segoe UI,Helvetica Neue,sans-serif}.music-chart-info--title{font-size:2em;font-weight:700}.music-chart-info--subtitle{font-size:1.5em;color:rgba(0,0,0,.6);font-weight:700}.music-chart-info--artist>small{font-size:1em;color:rgba(0,0,0,.6)}',""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.music-chart-selector-item{list-style:none;height:12vmin;line-height:12vmin;font-size:5vmin;text-align:center;background:hsla(0,0%,100%,.8);border-radius:2vmin;cursor:pointer;position:relative}.music-chart-selector-item.is-active{color:#fff}.music-chart-selector-item--level{opacity:1;transition:.3s opacity}.music-chart-selector-item--play{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);opacity:0;transition:.3s opacity}.music-chart-selector-item:not(.is-tutorial).is-active:hover .music-chart-selector-item--play{opacity:1}.music-chart-selector-item:not(.is-tutorial).is-active:hover .music-chart-selector-item--level{opacity:0}.music-chart-selector-item{border:2px solid #8ac}.music-chart-selector-item.is-active{background:#8ac;-webkit-animation:3s music-chart-selector-item--active-normal infinite;animation:3s music-chart-selector-item--active-normal infinite}@-webkit-keyframes music-chart-selector-item--active-normal{0%{background:#acc3db}50%{background:#6491bd}}@keyframes music-chart-selector-item--active-normal{0%,to{background:#acc3db}50%{background:#6491bd}to{background:#acc3db}}.music-chart-selector-item.is-5keys{border:2px solid #ac8}.music-chart-selector-item.is-5keys.is-active{background:#8ac;-webkit-animation:3s music-chart-selector-item--active-5k infinite;animation:3s music-chart-selector-item--active-5k infinite}@-webkit-keyframes music-chart-selector-item--active-5k{0%{background:#c3dbac}50%{background:#91bd64}}@keyframes music-chart-selector-item--active-5k{0%,to{background:#c3dbac}50%{background:#91bd64}to{background:#c3dbac}}.music-chart-selector-item.is-insane{border:2px solid #c66}.music-chart-selector-item.is-insane.is-active{background:#8ac;-webkit-animation:3s music-chart-selector-item--active-insane infinite;animation:3s music-chart-selector-item--active-insane infinite}@-webkit-keyframes music-chart-selector-item--active-insane{0%{background:#d98c8c}50%{background:#bf4040}}@keyframes music-chart-selector-item--active-insane{0%,to{background:#d98c8c}50%{background:#bf4040}to{background:#d98c8c}}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.options-button{font:inherit;background:#252423 linear-gradient(to bottom,#454443,#151413);border:1px solid #555453;padding:.5ex 1.3ex;color:#fff;border-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.5)}.options-button:hover{border-color:#656463}.options-button:focus{border-color:#8b8685;outline:0}.options-button:active{background:#252423 linear-gradient(to top,#353433,#151413);border-color:#454443}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.ranking-table{width:100%;border-spacing:0}.ranking-table td{padding:.36em .5em;border-bottom:1px solid rgba(0,0,0,.1)}.ranking-table--rank{width:2em;text-align:right}.ranking-table td.ranking-table--name{padding-left:1em}.ranking-table td.ranking-table--score{width:6em;text-align:right}.ranking-table td.ranking-table--accuracy{width:5em;text-align:right;padding-right:1em}.ranking-table td.ranking-table--message{text-align:center}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.ranking{color:#111}.ranking--title{padding:.4em 1em 0;font-weight:700}.ranking--error{color:#d55}.ranking--error-retry{font-weight:400;color:#369;text-decoration:none}.ranking--error-description{color:#888}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.result-grade{display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;border:2px dashed hsla(0,0%,100%,.5);border-radius:1em;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.result-grade--label{position:absolute;right:0;bottom:0;left:0;color:hsla(0,0%,100%,.5);text-align:center}.result-grade--grade{font-weight:700;font-size:18vh;color:#ff9;position:relative;top:-.2ex;text-shadow:3px 3px 0 rgba(0,0,0,.3);-webkit-animation:.3s result-grade--animation linear;animation:.3s result-grade--animation linear;-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards}@-webkit-keyframes result-grade--animation{0%{opacity:0;-webkit-transform:scale(2);transform:scale(2)}80%{-webkit-transform:scale(0.85);transform:scale(0.85)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes result-grade--animation{0%{opacity:0;-webkit-transform:scale(2);transform:scale(2)}80%{-webkit-transform:scale(0.85);transform:scale(0.85)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.result-scene{background:url("+n(462)+") center no-repeat;background-size:cover;color:#000}.result-scene--report{position:absolute;top:25vmin;right:52vw;bottom:3vmin;left:5vw}.result-scene--information{background:hsla(0,0%,100%,.8);position:absolute;top:0;right:5vw;bottom:0;left:52vw;padding-top:25vmin;padding-bottom:calc(2pc + 4vh);display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.result-scene--information-header{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.result-scene--information-body{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:4vh 0;background:hsla(0,0%,100%,.6);overflow-y:auto;overflow-x:hidden}.result-scene--information-footer{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;padding:0 2vw;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.result-scene .music-chart-info{margin:0 2vw}.result-scene .ranking{font-size:2.5vmin}.result-scene .result-grade{position:absolute;bottom:calc(2pc + 4vh);right:52vw;width:20vh;height:20vh}.result-scene--chart{float:right;margin-right:2vw;text-align:center}.result-scene--mode{opacity:.5;position:absolute;right:8vw;top:5vmin;line-height:16vmin;font-size:5vmin;text-align:right}.result-scene .music-chart-selector-item{width:12vmin}.result-scene--exit{background:#5a5;border:2px solid #4d994d;border-radius:2vmin}.result-scene--exit,.result-scene--tweet{display:block;text-align:center;font-size:3vmin;color:#fff;padding:1ex 2ex;cursor:pointer}.result-scene--tweet{background:#54abee;border:2px solid #3da0ec;border-radius:2vmin}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.result-table table{width:100%;margin-bottom:1ex;text-shadow:2px 2px 0 rgba(0,0,0,.2)}.result-table td,.result-table th{font-size:4vmin;font-weight:400}.result-table td{text-align:right;width:36%;color:#fff}.result-table th{text-align:left;padding-left:1ex;color:hsla(0,0%,100%,.7)}.result-table table.result-table--total td,.result-table table.result-table--total th{font-weight:700}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,".loading-scene-progress-bar{border:1px solid rgba(0,0,0,.6);padding:1px}.loading-scene-progress-bar--bar{height:8px;background:rgba(0,0,0,.6);width:0}",""]);
},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,".loading-scene-progress{color:#333;font-size:11px}.loading-scene-progress .loading-scene-progress-bar{display:inline-block;vertical-align:middle;width:3pc;margin-right:4px;position:relative;top:-1px}.loading-scene-progress--extra{font-size:83%;opacity:.7}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,".loading-scene-song-info{background:hsla(0,0%,100%,.96);color:#191817;text-align:center;padding:25px 0;box-shadow:0 2px 18px rgba(0,0,0,.2)}.loading-scene-song-info--genre{font-size:3vmin}.loading-scene-song-info--title{font-size:8vmin;font-weight:700}.loading-scene-song-info--subtitle{font-size:6vmin}.loading-scene-song-info--artist{font-size:4vmin;margin-top:.8ex}.loading-scene-song-info--subartist{font-size:2.5vmin}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.loading-scene{background:url("+n(320)+") center no-repeat;background-size:cover}.loading-scene--info{position:absolute;top:40%;left:0;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.loading-scene .loading-scene-song-info{-webkit-animation:loading-scene--loading-scene-song-info--animation 1s ease;animation:loading-scene--loading-scene-song-info--animation 1s ease}.loading-scene .loading-scene-progress{position:absolute;bottom:10px;left:10px}.loading-scene--flash{background:#fff;-webkit-animation:loading-scene--flash-animation .8s ease-out;animation:loading-scene--flash-animation .8s ease-out}.loading-scene--cover,.loading-scene--flash{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;pointer-events:none}.loading-scene--cover{background:#000}.scene.is-exiting .loading-scene--info{-webkit-animation:loading-scene--info-exit .3s linear;animation:loading-scene--info-exit .3s linear}.scene.is-exiting .loading-scene--flash{-webkit-animation:loading-scene--flash-exit .3s ease;animation:loading-scene--flash-exit .3s ease}.scene.is-exiting .loading-scene--cover{-webkit-animation:loading-scene--cover-exit .3s linear;animation:loading-scene--cover-exit .3s linear;opacity:1}@-webkit-keyframes loading-scene--loading-scene-song-info--animation{0%{-webkit-transform:scale(1.5,0.02);transform:scale(1.5,0.02)}to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes loading-scene--loading-scene-song-info--animation{0%{-webkit-transform:scale(1.5,0.02);transform:scale(1.5,0.02)}to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%) scale(1,1);transform:translateY(-50%) scale(1,1)}to{-webkit-transform:translateY(-50%) scale(2,2);transform:translateY(-50%) scale(2,2)}}@keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%) scale(1,1);transform:translateY(-50%) scale(1,1)}to{-webkit-transform:translateY(-50%) scale(2,2);transform:translateY(-50%) scale(2,2)}}@-webkit-keyframes loading-scene--cover-exit{0%{opacity:0}to{opacity:1}}@keyframes loading-scene--cover-exit{0%{opacity:0}to{opacity:1}}@-webkit-keyframes loading-scene--flash-animation{0%{opacity:1}to{opacity:0}}@keyframes loading-scene--flash-animation{0%{opacity:1}to{opacity:0}}@-webkit-keyframes loading-scene--flash-exit{0%{opacity:.5}to{opacity:0}}@keyframes loading-scene--flash-exit{0%{opacity:.5}to{opacity:0}}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.authentication-form label{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:8px 0}.authentication-form label[hidden]{display:none}.authentication-form--label{width:90pt;text-align:right}.authentication-form--control{margin-left:9pt}.authentication-form input{font:inherit;background:#252423 linear-gradient(to top,#454443,#151413);border:1px solid #555453;padding:.5ex 1.3ex;color:#fff;border-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.5);width:12em}.authentication-form--buttons{margin-top:24px;text-align:center}.authentication-form .options-button{font-size:1.4em}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.authentication-panel--layout{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}.authentication-panel--title{padding:9pt 9pt 24px}.authentication-panel--title img{width:143px;height:143px}.authentication-panel--identification{color:#8b8685;font-size:2pc;padding-left:10px}.authentication-panel--content{padding:1pc 26px 1pc 0;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.authentication-panel--mode-switcher{text-align:center;margin-bottom:1pc;color:#8b8685}.authentication-panel--mode-switcher a{color:#8b8685}.authentication-panel--mode-switcher a.is-active{color:#bef;font-weight:700;cursor:default;text-decoration:none}.authentication-panel--message{color:#ff6}.authentication-panel--message.is-error{color:#f88}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.modal-popup{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:10000}.modal-popup,.modal-popup--backdrop{position:absolute;top:0;right:0;bottom:0;left:0}.modal-popup--backdrop{background:hsla(0,0%,7%,.5);z-index:1}.modal-popup--contents{position:relative;z-index:2}.modal-popup:not(.is-visible){display:none}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.panel{border:1px solid #151413;border-radius:4px 4px 0 0;box-shadow:0 2px 20px rgba(0,0,0,.3);background:#353433}.panel--title{background:#252423 linear-gradient(to bottom,#353433 0%,#252423 50%,#151413 50%,#252423 100%);border-bottom:0;text-align:center;color:#8b8685;padding:.5ex 1em}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.scene-heading{box-shadow:0 .1vh 3vh rgba(0,0,0,.1);background:#fff;margin:0;padding:0 5vw;font:bold 9vmin\\/16vmin Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif;color:#000}",""])},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.scene-toolbar{background:rgba(0,0,0,.7);overflow:hidden;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 1vw;font-size:15px}.scene-toolbar>a,.scene-toolbar>span{display:block;padding:.8ex 1.3ex}.scene-toolbar>a{color:hsla(0,0%,100%,.8);text-decoration:none;background:transparent;transition:.1s background,.1s color}.scene-toolbar>a:hover{background:rgba(0,0,0,.5);color:#fff}.scene-toolbar>a[data-position=right]{float:right}.scene-toolbar>span{color:hsla(0,0%,100%,.6)}.scene-toolbar--spacer{-webkit-flex:1;-ms-flex:1;flex:1}",""])},function(e,t,n){e.exports=n.p+"0cfe6fe9284bd4c4fcc04d66ee85c398.jpg"},function(e,t){e.exports={name:"pixi.js",version:"3.0.7",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:{name:"Mat Groves"},contributors:[{name:"Chad Engler",email:"chad@pantherdev.com"},{name:"Richard Davey",email:"rdavey@gmail.com"}],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:{url:"https://github.com/GoodBoyDigital/pixi.js/issues"},license:"MIT",repository:{type:"git",url:"https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/"],dependencies:{async:"^0.9.0",brfs:"^1.4.0",earcut:"^2.0.1",eventemitter3:"^1.1.0","object-assign":"^2.0.0","resource-loader":"^1.6.1"},devDependencies:{browserify:"^10.2.3",chai:"^3.0.0",del:"^1.2.0",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.11.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.5","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.0","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.5","require-dir":"^0.3.0","run-sequence":"^1.1.0",testem:"^0.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.2.1"},browserify:{transform:["brfs"]},gitHead:"34cd01eb0f204848972de325b1b85c0b6f7b8c8e",_id:"pixi.js@3.0.7",_shasum:"8908990cd86c6bd1d04ca8708757857c69282751",_from:"pixi.js@>=3.0.7 <4.0.0",_npmVersion:"2.7.1",_nodeVersion:"0.12.4",_npmUser:{name:"englercj",email:"englercj@live.com"},maintainers:[{name:"englercj",email:"englercj@live.com"}],dist:{shasum:"8908990cd86c6bd1d04ca8708757857c69282751",tarball:"http://registry.npmjs.org/pixi.js/-/pixi.js-3.0.7.tgz"},directories:{},_resolved:"https://registry.npmjs.org/pixi.js/-/pixi.js-3.0.7.tgz"}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n;return-1}function o(e){return this instanceof o?(this.properties=[],void(e&&this.load(e))):new o(e)}var i=n(321),a=n(503);o.prototype.dispose=function(){this.properties.forEach(function(e){e.dispose()}),this.properties.length=0},o.prototype.addProperty=function(e){this.properties.push(new a(e))},o.prototype.duration=function(){for(var e=0,t=0;t<this.properties.length;t++)for(var n=this.properties[t],r=n.keyframes.frames,o=0;o<r.length;o++)e=Math.max(r[o].time,e);return e},o.prototype.property=function(e){var t="number"==typeof e?e:r(this.properties,e);return 0>t?void 0:this.properties[t]},o.prototype.load=function(e){this.dispose(),e&&(this.properties=e.map(function(e){return new a(e)}))},o.prototype["export"]=function(){return this.properties.map(function(e){return e["export"]()})},o.prototype.ease=function(e,t){return t},o.prototype.interpolate=function(e,t,n,r){return i(t.value,n.value,r)},o.prototype.valueOf=function(e,t){var n=t.keyframes,r=n.interpolation(e),o=r[0],i=r[1],a=r[2];if(-1===o||-1===i)return t.value;var s=n.frames[o],u=n.frames[i];if(o===i)return s.value;var c=u.ease;return c&&(a=this.ease(c,a)),this.interpolate(t,s,u,a)},o.prototype.values=function(e,t){t||(t={});for(var n=0;n<this.properties.length;n++){var r=this.properties[n];t[r.name]=this.valueOf(e,r)}return t},e.exports=o},function(e,t,n){function r(e){return this instanceof r?void a.call(this,e):new r(e)}var o=n(483),i=n(497),a=n(464);i(r,a),r.prototype.ease=function(e,t){return o[e](t)},e.exports=r},function(e,t){function n(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}e.exports=n},function(e,t){function n(e){var t=1.70158;return e*e*((t+1)*e-t)}e.exports=n},function(e,t){function n(e){var t=1.70158;return--e*e*((t+1)*e+t)+1}e.exports=n},function(e,t,n){function r(e){return.5>e?.5*(1-o(1-2*e)):.5*o(2*e-1)+.5}var o=n(156);e.exports=r},function(e,t,n){function r(e){return 1-o(1-e)}var o=n(156);e.exports=r},function(e,t){function n(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}e.exports=n},function(e,t){function n(e){return 1-Math.sqrt(1-e*e)}e.exports=n},function(e,t){function n(e){return Math.sqrt(1- --e*e)}e.exports=n},function(e,t){function n(e){return.5>e?4*e*e*e:.5*Math.pow(2*e-2,3)+1}e.exports=n},function(e,t){function n(e){return e*e*e}e.exports=n},function(e,t){function n(e){var t=e-1;return t*t*t+1}e.exports=n},function(e,t){function n(e){return.5>e?.5*Math.sin(13*Math.PI/2*2*e)*Math.pow(2,10*(2*e-1)):.5*Math.sin(-13*Math.PI/2*(2*e-1+1))*Math.pow(2,-10*(2*e-1))+1}e.exports=n},function(e,t){function n(e){return Math.sin(13*e*Math.PI/2)*Math.pow(2,10*(e-1))}e.exports=n},function(e,t){function n(e){return Math.sin(-13*(e+1)*Math.PI/2)*Math.pow(2,-10*e)+1}e.exports=n},function(e,t){function n(e){return 0===e||1===e?e:.5>e?.5*Math.pow(2,20*e-10):-.5*Math.pow(2,10-20*e)+1}e.exports=n},function(e,t){function n(e){return 0===e?e:Math.pow(2,10*(e-1))}e.exports=n},function(e,t){function n(e){return 1===e?e:1-Math.pow(2,-10*e)}e.exports=n},function(e,t,n){e.exports={backInOut:n(466),backIn:n(467),backOut:n(468),bounceInOut:n(469),bounceIn:n(470),bounceOut:n(156),circInOut:n(471),circIn:n(472),circOut:n(473),cubicInOut:n(474),cubicIn:n(475),cubicOut:n(476),elasticInOut:n(477),elasticIn:n(478),elasticOut:n(479),expoInOut:n(480),expoIn:n(481),expoOut:n(482),linear:n(484),quadInOut:n(485),quadIn:n(486),quadOut:n(487),quartInOut:n(488),quartIn:n(489),quartOut:n(490),quintInOut:n(491),quintIn:n(492),quintOut:n(493),sineInOut:n(494),sineIn:n(495),sineOut:n(496)}},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){return e/=.5,1>e?.5*e*e:(e--,-.5*(e*(e-2)-1))}e.exports=n},function(e,t){function n(e){return e*e}e.exports=n},function(e,t){function n(e){return-e*(e-2)}e.exports=n},function(e,t){function n(e){return.5>e?8*Math.pow(e,4):-8*Math.pow(e-1,4)+1}e.exports=n},function(e,t){function n(e){return Math.pow(e,4)}e.exports=n},function(e,t){function n(e){return Math.pow(e-1,3)*(1-e)+1}e.exports=n},function(e,t){function n(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}e.exports=n},function(e,t){function n(e){return e*e*e*e*e}e.exports=n},function(e,t){function n(e){return--e*e*e*e*e+1}e.exports=n},function(e,t){function n(e){return-.5*(Math.cos(Math.PI*e)-1)}e.exports=n},function(e,t){function n(e){return 1-Math.cos(e*Math.PI/2)}e.exports=n},function(e,t){function n(e){return Math.sin(e*Math.PI/2)}e.exports=n},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){function r(e,t){return e.time-t.time}function o(e,t){return this instanceof o?(this.frames=e||[],void(t||this.sort())):new o(e,t)}var i=n(321),a=n(500),s=n(499),u=[0,0,0];o.prototype.nearestIndex=function(e,t){t="number"==typeof t?t:Number.MAX_VALUE;for(var n=Number.MAX_VALUE,r=-1,o=0;o<this.frames.length;o++){var i=Math.abs(this.frames[o].time-e);n>i&&t>=i&&(n=i,r=o)}return r},o.prototype.nearest=function(e,t){var n=this.nearestIndex(e,t);return-1===n?null:this.frames[n]},o.prototype.get=function(e){return this.nearest(e,0)},o.prototype.getIndex=function(e){return this.nearestIndex(e,0)},o.prototype.value=function(e,t){var n=this.interpolation(e);if(-1===n[0]||-1===n[1])return null;var r=this.frames[n[0]],o=this.frames[n[1]],a=n[2];return"function"==typeof t?t(r,o,a):i(r.value,o.value,a)},o.prototype.interpolation=function(e){if(0===this.frames.length)return s(u,-1,-1,0);for(var t=-1,n=this.frames.length-1;n>=0;n--)if(e>=this.frames[n].time){t=n;break}if(-1===t||t===this.frames.length-1)return 0>t&&(t=0),s(u,t,t,0);var r=this.frames[t],o=this.frames[t+1];e=Math.max(r.time,Math.min(e,o.time));var i=a(r.time,o.time,e);return s(u,t,t+1,i)},o.prototype.next=function(e){if(this.frames.length<1)return null;for(var t=-1,n=0;n<this.frames.length;n++)if(e<this.frames[n].time){t=n;break}return-1===t?null:this.frames[t]},o.prototype.previous=function(e){if(this.frames.length<1)return null;for(var t=-1,n=this.frames.length-1;n>=0;n--)if(e>this.frames[n].time){t=n;break}return-1===t?null:this.frames[t]},o.prototype.add=function(e){this.frames.push(e),this.sort()},o.prototype.splice=function(e,t,n){this.frames.splice.apply(this.frames,arguments),arguments.length>2&&this.sort()},o.prototype.sort=function(){this.frames.sort(r)},o.prototype.clear=function(){this.frames.length=0},Object.defineProperty(o.prototype,"count",{get:function(){return this.frames.length}}),e.exports=o},function(e,t){function n(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}e.exports=n},function(e,t){e.exports=function(e,t,n){return(n-e)/(t-e)}},function(e,t){function n(e,t,n){return e*(1-n)+t*n}e.exports=n},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}e.exports=n},function(e,t,n){function r(e){return this instanceof r?(this.keyframes=o(),this.value=null,this.name="",void(e&&this.load(e))):new r(e)}var o=n(498),i=n(502);r.prototype.dispose=function(){this.keyframes.clear()},r.prototype["export"]=function(){return i(this,{keyframes:this.keyframes.frames})},r.prototype.load=function(e){if(this.dispose(),e)for(var t in e)e.hasOwnProperty(t)&&("keyframes"===t?this.keyframes.frames=e.keyframes:this[t]=e[t])},e.exports=r},function(e,t){"use strict";function n(e,t,n,r){Object.defineProperty(e,t,{get:function(){var e=n.call(this);return Object.defineProperty(this,t,{value:e,enumerable:!!r,writable:!0}),e},set:function(e){return Object.defineProperty(this,t,{value:e,enumerable:!!r,writable:!0}),e},enumerable:!!r,configurable:!0})}e.exports=n},function(e,t){!function(){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(){return 1}function r(e){return this instanceof r?("number"==typeof e&&(e={max:e}),e||(e={}),this._max=e.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=e.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=e.stale||!1,this._maxAge=e.maxAge||null,this._dispose=e.dispose,void this.reset()):new r(e)}function o(e,t,n){var r=e._cache[t];return r&&(i(e,r)?(c(e,r),e._allowStale||(r=void 0)):n&&a(e,r),r&&(r=r.value)),r}function i(e,t){if(!t||!t.maxAge&&!e._maxAge)return!1;var n=!1,r=Date.now()-t.now;return n=t.maxAge?r>t.maxAge:e._maxAge&&r>e._maxAge}function a(e,t){u(e,t),t.lu=e._mru++,e._lruList[t.lu]=t}function s(e){for(;e._lru<e._mru&&e._length>e._max;)c(e,e._lruList[e._lru])}function u(e,t){for(delete e._lruList[t.lu];e._lru<e._mru&&!e._lruList[e._lru];)e._lru++}function c(e,t){t&&(e._dispose&&e._dispose(t.key,t.value),e._length-=t.length,e._itemCount--,delete e._cache[t.key],u(e,t))}function l(e,t,n,r,o,i){this.key=e,this.value=t,this.lu=n,this.length=r,this.now=o,i&&(this.maxAge=i)}"object"==typeof e&&e.exports?e.exports=r:this.LRUCache=r,Object.defineProperty(r.prototype,"max",{set:function(e){(!e||"number"!=typeof e||0>=e)&&(e=1/0),this._max=e,this._length>this._max&&s(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(r.prototype,"lengthCalculator",{set:function(e){if("function"!=typeof e){this._lengthCalculator=n,this._length=this._itemCount;for(var t in this._cache)this._cache[t].length=1}else{this._lengthCalculator=e,this._length=0;for(var t in this._cache)this._cache[t].length=this._lengthCalculator(this._cache[t].value),this._length+=this._cache[t].length}this._length>this._max&&s(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),r.prototype.forEach=function(e,t){t=t||this;for(var n=0,r=this._itemCount,o=this._mru-1;o>=0&&r>n;o--)if(this._lruList[o]){n++;var a=this._lruList[o];i(this,a)&&(c(this,a),this._allowStale||(a=void 0)),a&&e.call(t,a.value,a.key,this)}},r.prototype.keys=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];e[t++]=r.key}return e},r.prototype.values=function(){for(var e=new Array(this._itemCount),t=0,n=this._mru-1;n>=0&&t<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];e[t++]=r.value}return e},r.prototype.reset=function(){if(this._dispose&&this._cache)for(var e in this._cache)this._dispose(e,this._cache[e].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},r.prototype.dump=function(){return this._cache},r.prototype.dumpLru=function(){return this._lruList},r.prototype.set=function(e,n,r){r=r||this._maxAge;var o=r?Date.now():0;if(t(this._cache,e))return this._dispose&&this._dispose(e,this._cache[e].value),this._cache[e].now=o,this._cache[e].maxAge=r,this._cache[e].value=n,this.get(e),!0;var i=this._lengthCalculator(n),a=new l(e,n,this._mru++,i,o,r);return a.length>this._max?(this._dispose&&this._dispose(e,n),!1):(this._length+=a.length,this._lruList[a.lu]=this._cache[e]=a,this._itemCount++,this._length>this._max&&s(this),!0)},r.prototype.has=function(e){if(!t(this._cache,e))return!1;var n=this._cache[e];return i(this,n)?!1:!0},r.prototype.get=function(e){return o(this,e,!0)},r.prototype.peek=function(e){return o(this,e,!1)},r.prototype.pop=function(){var e=this._lruList[this._lru];return c(this,e),e||null},r.prototype.del=function(e){c(this,this._cache[e])}}()},function(e,t){e.exports=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,o,i){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=o,this.column=i,this.name="SyntaxError"}function n(e){function n(){return e.substring(ge,me)}function r(t){function n(t,n,r){var o,i;for(o=n;r>o;o++)i=e.charAt(o),"\n"===i?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return ye!==t&&(ye>t&&(ye=0,be={line:1,column:1,seenCR:!1}),n(be,ye,t),ye=t),be}function o(e){_e>me||(me>_e&&(_e=me,we=[]),we.push(e))}function i(n,o,i){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function s(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,o,i,a=new Array(e.length);for(i=0;i<e.length;i++)a[i]=e[i].description;return r=e.length>1?a.slice(0,-1).join(", ")+" or "+a[e.length-1]:a[0],o=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+o+" found."}var u=r(i),c=i<e.length?e.charAt(i):null;return null!==o&&a(o),new t(null!==n?n:s(o,c),o,c,i,u.line,u.column)}function a(){var e;return e=s()}function s(){var t,n,r,i,a,s,c,l;if(t=me,n=u(),n!==x){for(r=[],i=me,a=g(),a!==x?(e.substr(me,2)===T?(s=T,me+=2):(s=x,0===xe&&o(O)),s!==x?(c=g(),c!==x?(l=u(),l!==x?(a=[a,s,c,l],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);i!==x;)r.push(i),i=me,a=g(),a!==x?(e.substr(me,2)===T?(s=T,me+=2):(s=x,0===xe&&o(O)),s!==x?(c=g(),c!==x?(l=u(),l!==x?(a=[a,s,c,l],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);r!==x?(ge=t,n=A(n,r),t=n):(me=t,t=C)}else me=t,t=C;return t}function u(){var t,n,r,i,a,s,u,l;if(t=me,n=c(),n!==x){for(r=[],i=me,a=g(),a!==x?(e.substr(me,2)===k?(s=k,me+=2):(s=x,0===xe&&o(j)),s!==x?(u=g(),u!==x?(l=c(),l!==x?(a=[a,s,u,l],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);i!==x;)r.push(i),i=me,a=g(),a!==x?(e.substr(me,2)===k?(s=k,me+=2):(s=x,0===xe&&o(j)),s!==x?(u=g(),u!==x?(l=c(),l!==x?(a=[a,s,u,l],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);r!==x?(ge=t,n=A(n,r),t=n):(me=t,t=C)}else me=t,t=C;return t}function c(){var t,n,r,i,a,s,u,c;if(t=me,n=l(),n!==x){for(r=[],i=me,a=g(),a!==x?(43===e.charCodeAt(me)?(s=P,me++):(s=x,0===xe&&o(N)),s===x&&(45===e.charCodeAt(me)?(s=M,me++):(s=x,0===xe&&o(R))),s!==x?(u=g(),u!==x?(c=l(),c!==x?(a=[a,s,u,c],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);i!==x;)r.push(i),i=me,a=g(),a!==x?(43===e.charCodeAt(me)?(s=P,me++):(s=x,0===xe&&o(N)),s===x&&(45===e.charCodeAt(me)?(s=M,me++):(s=x,0===xe&&o(R))),s!==x?(u=g(),u!==x?(c=l(),c!==x?(a=[a,s,u,c],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);r!==x?(ge=t,n=A(n,r),t=n):(me=t,t=C)}else me=t,t=C;return t}function l(){var t,n,r,i,a,s,u,c;if(t=me,n=f(),n!==x){for(r=[],i=me,a=g(),a!==x?(42===e.charCodeAt(me)?(s=D,me++):(s=x,0===xe&&o(I)),s===x&&(47===e.charCodeAt(me)?(s=F,me++):(s=x,0===xe&&o(L)),s===x&&(37===e.charCodeAt(me)?(s=B,me++):(s=x,0===xe&&o(U)))),s!==x?(u=g(),u!==x?(c=f(),c!==x?(a=[a,s,u,c],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);i!==x;)r.push(i),i=me,a=g(),a!==x?(42===e.charCodeAt(me)?(s=D,me++):(s=x,0===xe&&o(I)),s===x&&(47===e.charCodeAt(me)?(s=F,me++):(s=x,0===xe&&o(L)),s===x&&(37===e.charCodeAt(me)?(s=B,me++):(s=x,0===xe&&o(U)))),s!==x?(u=g(),u!==x?(c=f(),c!==x?(a=[a,s,u,c],i=a):(me=i,i=C)):(me=i,i=C)):(me=i,i=C)):(me=i,i=C);r!==x?(ge=t,n=A(n,r),t=n):(me=t,t=C)}else me=t,t=C;return t}function f(){var t,n,r,i,a,u;return t=me,40===e.charCodeAt(me)?(n=q,me++):(n=x,0===xe&&o(V)),n!==x?(r=g(),r!==x?(i=s(),i!==x?(a=g(),a!==x?(41===e.charCodeAt(me)?(u=z,me++):(u=x,0===xe&&o(W)),u!==x?(ge=t,n=H(i),t=n):(me=t,t=C)):(me=t,t=C)):(me=t,t=C)):(me=t,t=C)):(me=t,t=C),t===x&&(t=me,33===e.charCodeAt(me)?(n=G,me++):(n=x,0===xe&&o(Y)),n!==x?(r=f(),r!==x?(ge=t,n=$(r),t=n):(me=t,t=C)):(me=t,t=C),t===x&&(t=p(),t===x&&(t=m()))),t}function p(){var t,n,r,i,a;return xe++,t=me,45===e.charCodeAt(me)?(n=M,me++):(n=x,0===xe&&o(R)),n===x&&(n=K),n!==x?(r=v(),r!==x?(i=d(),i===x&&(i=K),i!==x?(a=h(),a===x&&(a=K),a!==x?(ge=t,n=J(),t=n):(me=t,t=C)):(me=t,t=C)):(me=t,t=C)):(me=t,t=C),xe--,t===x&&(n=x,0===xe&&o(X)),t}function h(){var t,n,r,i,a;if(t=me,Q.test(e.charAt(me))?(n=e.charAt(me),me++):(n=x,0===xe&&o(Z)),n!==x)if(45===e.charCodeAt(me)?(r=M,me++):(r=x,0===xe&&o(R)),r===x&&(43===e.charCodeAt(me)?(r=P,me++):(r=x,0===xe&&o(N))),r===x&&(r=K),r!==x){if(i=[],ee.test(e.charAt(me))?(a=e.charAt(me),me++):(a=x,0===xe&&o(te)),a!==x)for(;a!==x;)i.push(a),ee.test(e.charAt(me))?(a=e.charAt(me),me++):(a=x,0===xe&&o(te));else i=C;i!==x?(n=[n,r,i],t=n):(me=t,t=C)}else me=t,t=C;else me=t,t=C;return t}function d(){var t,n,r,i;if(t=me,46===e.charCodeAt(me)?(n=ne,me++):(n=x,0===xe&&o(re)),n!==x){if(r=[],ee.test(e.charAt(me))?(i=e.charAt(me),me++):(i=x,0===xe&&o(te)),i!==x)for(;i!==x;)r.push(i),ee.test(e.charAt(me))?(i=e.charAt(me),me++):(i=x,0===xe&&o(te));else r=C;r!==x?(n=[n,r],t=n):(me=t,t=C)}else me=t,t=C;return t}function v(){var t,n,r,i;if(48===e.charCodeAt(me)?(t=oe,me++):(t=x,0===xe&&o(ie)),t===x)if(t=me,ae.test(e.charAt(me))?(n=e.charAt(me),me++):(n=x,0===xe&&o(se)),n!==x){for(r=[],ee.test(e.charAt(me))?(i=e.charAt(me),me++):(i=x,0===xe&&o(te));i!==x;)r.push(i),ee.test(e.charAt(me))?(i=e.charAt(me),me++):(i=x,0===xe&&o(te));r!==x?(n=[n,r],t=n):(me=t,t=C)}else me=t,t=C;return t}function m(){var t,n,r,i;if(t=me,n=[],ue.test(e.charAt(me))?(r=e.charAt(me),me++):(r=x,0===xe&&o(ce)),r!==x)for(;r!==x;)n.push(r),ue.test(e.charAt(me))?(r=e.charAt(me),me++):(r=x,0===xe&&o(ce));else n=C;if(n!==x){for(r=[],le.test(e.charAt(me))?(i=e.charAt(me),me++):(i=x,0===xe&&o(fe));i!==x;)r.push(i),le.test(e.charAt(me))?(i=e.charAt(me),me++):(i=x,0===xe&&o(fe));r!==x?(ge=t,n=pe(),t=n):(me=t,t=C)}else me=t,t=C;return t}function g(){var t,n;for(xe++,t=[],de.test(e.charAt(me))?(n=e.charAt(me),me++):(n=x,0===xe&&o(ve));n!==x;)t.push(n),de.test(e.charAt(me))?(n=e.charAt(me),me++):(n=x,0===xe&&o(ve));return xe--,t===x&&(n=x,0===xe&&o(he)),t}function y(e){var t=e[1],n=e[3];return" "+t+" "+n}function b(e,t){return e+t.map(y).join("")}var _,w=arguments.length>1?arguments[1]:{},x={},E={expr:a},S=a,C=x,T="||",O={type:"literal",value:"||",description:'"||"'},A=function(e,t){return b(e,t)},k="&&",j={type:"literal",value:"&&",description:'"&&"'},P="+",N={type:"literal",value:"+",description:'"+"'},M="-",R={type:"literal",value:"-",description:'"-"'},D="*",I={type:"literal",value:"*",description:'"*"'},F="/",L={type:"literal",value:"/",description:'"/"'},B="%",U={type:"literal",value:"%",description:'"%"'},q="(",V={type:"literal",value:"(",description:'"("'},z=")",W={type:"literal",value:")",description:'")"'},H=function(e){return"("+e+")"},G="!",Y={type:"literal",value:"!",description:'"!"'},$=function(e){return"!"+e},X={type:"other",description:"number"},K=null,J=function(){return n()},Q=/^[eE]/,Z={type:"class",value:"[eE]",description:"[eE]"},ee=/^[0-9]/,te={type:"class",value:"[0-9]",description:"[0-9]"},ne=".",re={type:"literal",value:".",description:'"."'},oe="0",ie={type:"literal",value:"0",description:'"0"'},ae=/^[1-9]/,se={type:"class",value:"[1-9]",description:"[1-9]"},ue=/^[a-zA-Z]/,ce={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},le=/^[a-zA-Z0-9_]/,fe={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},pe=function(){return"get("+JSON.stringify(n())+")"},he={type:"other",description:"whitespace"},de=/^[ \t\n\r]/,ve={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},me=0,ge=0,ye=0,be={line:1,column:1,seenCR:!1},_e=0,we=[],xe=0;if("startRule"in w){if(!(w.startRule in E))throw new Error("Can't start parsing from rule \""+w.startRule+'".');S=E[w.startRule]}if(_=S(),_!==x&&me===e.length)return _;throw _!==x&&me<e.length&&o({type:"end",description:"end of input"}),i(null,we,_e)}return e(t,Error),{SyntaxError:t,parse:n}}()},function(e,t,n){"use strict";var r=n(3),o=r.PropTypes,i=r.createClass({displayName:"Icon",propTypes:{name:o.string.isRequired,size:o.oneOf(["lg","2x","3x","4x","5x"]),rotate:o.oneOf(["45","90","135","180","225","270","315"]),flip:o.oneOf(["horizontal","vertical"]),fixedWidth:o.bool,spin:o.bool,stack:r.PropTypes.oneOf(["1x","2x"]),inverse:r.PropTypes.bool},render:function(){var e=this.props,t=e.name,n=e.size,o=e.rotate,i=e.flip,a=e.spin,s=e.fixedWidth,u=e.stack,c=e.inverse,l=e.className,f=function(e,t){var n={},r=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var o in e)r.call(e,o)&&!r.call(t,o)&&(n[o]=e[o]);return n}(e,{name:1,size:1,rotate:1,flip:1,spin:1,fixedWidth:1,stack:1,inverse:1,className:1}),p="fa fa-"+t;return n&&(p+=" fa-"+n),o&&(p+=" fa-rotate-"+o),i&&(p+=" fa-flip-"+i),s&&(p+=" fa-fw"),a&&(p+=" fa-spin"),u&&(p+=" fa-stack-"+u),c&&(p+=" fa-inverse"),l&&(p+=" "+l),r.createElement("span",r.__spread({},f,{className:p}))}});e.exports=i},function(e,t,n){e.exports={Overlay:n(322),Popup:n(509)}},function(e,t,n){"use strict";function r(e,t,n,r,o,i){return e+r*t-o*n+i}function o(e,t,n,o,i,a,s){var u=o!==i,c=r(e,t,n,o,i,s);return u?o>.5&&c+n>a||.5>o&&0>c?r(e,t,n,1-o,1-i,-s):c:0>c?r(e,t,n,0,0,s):c+n>a?r(e,t,n,1,1,s):c}function i(e,t,n,r,i,a){return function(s,u,c){var l=s.getBoundingClientRect(),f=u.offsetWidth,p=u.offsetHeight,h=o(l.left,l.width,f,e,t,window.innerWidth,i*c.gap),d=o(l.top,l.height,p,n,r,window.innerHeight,a*c.gap);u.style.visibility="visible",u.style.left=h+"px",u.style.top=d+"px"}}var a=n(3),s=n(2),u=n(322),c={};c["top left"]=i(0,0,0,1,0,-1),c.top=c["top center"]=i(.5,.5,0,1,0,-1),c["top right"]=i(1,1,0,1,0,-1),c["bottom left"]=i(0,0,1,0,0,1),c.bottom=c["bottom center"]=i(.5,.5,1,0,0,1),c["bottom right"]=i(1,1,1,0,0,1),c["left top"]=i(0,1,0,0,-1,0),c.left=c["left center"]=i(0,1,.5,.5,-1,0),c["left bottom"]=i(0,1,1,1,-1,0),c["right top"]=i(1,0,0,0,1,0),c.right=c["right center"]=i(1,0,.5,.5,1,0),c["right bottom"]=i(1,0,1,1,1,0);var l=a.createClass({displayName:"Popup",propTypes:{strategy:a.PropTypes.string.isRequired,children:a.PropTypes.node,gap:a.PropTypes.number},componentDidMount:function(){this.reposition(),window.addEventListener("resize",this.reposition,!0)},componentDidUpdate:function(){this.reposition()},componentWillUnmount:function(){window.removeEventListener("resize",this.reposition,!0)},reposition:function(){var e=a.findDOMNode(this).parentNode,t=a.findDOMNode(this.refs.popup);if(e&&t){var n;"string"==typeof this.props.strategy&&(s(c.hasOwnProperty(this.props.strategy),"The strategy %s must exist.",this.props.strategy),
n=c[this.props.strategy]),s("function"==typeof n,"Strategy must be a function."),n(e,t,{gap:this.props.gap||0})}},render:function(){return a.createElement(u,null,a.createElement("div",{className:l.POPUP_CLASS_NAME,ref:"popup",style:{visibility:"hidden",position:"fixed"}},this.props.children))}});l.POPUP_CLASS_NAME="tw-popup",e.exports=l},function(e,t,n){"use strict";function r(e){var t=!1;try{e.appendChild(s),t=s.parentNode==e}catch(n){return!1}finally{try{e.removeChild(s)}catch(n){}}return t}function o(e){return"number"==typeof e&&isNaN(e)}function i(e){return s&&e&&1===e.nodeType&&r(e)}var a=n(396),s="undefined"!=typeof document&&document.createElement("div");e.exports=function u(e,t){if(a.isMatcher(e))return e.test(t);if("object"!=typeof e||"object"!=typeof t)return o(e)&&o(t)?!0:e===t;if(i(e)||i(t))return e===t;if(e===t)return!0;if(null===e&&null!==t||null!==e&&null===t)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline;var n=Object.prototype.toString.call(e);if(n!==Object.prototype.toString.call(t))return!1;if("[object Date]"===n)return e.valueOf()===t.valueOf();var r,s=0,c=0;if("[object Array]"==n&&e.length!==t.length)return!1;for(r in e){if(s+=1,!(r in t))return!1;if(!u(e[r],t[r]))return!1}for(r in t)c+=1;return s==c}},function(e,t,n){"use strict";var r=n(1026),o=r.configure({quoteStrings:!1,limitChildrenCount:250});e.exports=function(){return o.ascii.apply(o,arguments)}},function(e,t,n){var r=n(441);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(442);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(443);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(444);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(445);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(446);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(447);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(448);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(449);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(450);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(451);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(452);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(453);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(454);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(455);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(456);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(457);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(458);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(459);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(460);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(461);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t){"use strict";function n(e,t,n,r){this.resolve=e,this.fn=t,this.self=n||null,this.args=r}e.exports=function(t){function r(e,t){function r(t,r,s){if(e){e--;var u=new o(function(e){e(t.apply(r,s))});return u.then(i,i),u}return new o(function(e){a.push(new n(e,t,r,s))})}function i(){if(e++,a.length){var t=a.shift();t.resolve(r(t.fn,t.self,t.args))}}var a=[];if("function"==typeof e&&"number"==typeof t){var s=t;t=e,e=s}return"function"==typeof t?function(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);return r(t,this,e)}:function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);return r(e,this,t)}}var o;if("number"==typeof arguments[0]||"number"==typeof arguments[1]){if(o=e.exports.Promise,"function"!=typeof o)throw new Error("You must provide a Promise polyfill for this library to work in older environments");return r(arguments[0],arguments[1])}return o=t,r},"function"==typeof Promise&&(e.exports.Promise=Promise)},function(e,t){"use strict";function n(e,t,n){n=n||2;var a=t&&t.length,s=a?t[0]*n:e.length,u=o(e,r(e,0,s,n,!0)),l=[];if(!u)return l;var f,p,h,d,v,m,g;if(a&&(u=c(e,t,u,n)),e.length>80*n){f=h=e[0],p=d=e[1];for(var y=n;s>y;y+=n)v=e[y],m=e[y+1],f>v&&(f=v),p>m&&(p=m),v>h&&(h=v),m>d&&(d=m);g=Math.max(h-f,d-p)}return i(e,u,l,n,f,p,g),l}function r(e,t,n,r,o){var i,a,s,u=0;for(i=t,a=n-r;n>i;i+=r)u+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;if(o===u>0)for(i=t;n>i;i+=r)s=S(i,s);else for(i=n-r;i>=t;i-=r)s=S(i,s);return s}function o(e,t,n){n||(n=t);var r,o=t;do if(r=!1,o.steiner||!y(e,o.i,o.next.i)&&0!==g(e,o.prev.i,o.i,o.next.i))o=o.next;else{if(o.prev.next=o.next,o.next.prev=o.prev,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ),o=n=o.prev,o===o.next)return null;r=!0}while(r||o!==n);return n}function i(e,t,n,r,c,l,f,h){if(t){h||void 0===c||p(e,t,c,l,f);for(var d,v,m=t;t.prev!==t.next;)if(d=t.prev,v=t.next,a(e,t,c,l,f))n.push(d.i/r),n.push(t.i/r),n.push(v.i/r),v.prev=d,d.next=v,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ),t=v.next,m=v.next;else if(t=v,t===m){h?1===h?(t=s(e,t,n,r),i(e,t,n,r,c,l,f,2)):2===h&&u(e,t,n,r,c,l,f):i(e,o(e,t),n,r,c,l,f,1);break}}}function a(e,t,n,r,o){var i=t.prev.i,a=t.i,s=t.next.i,u=e[i],c=e[i+1],l=e[a],f=e[a+1],p=e[s],h=e[s+1],v=u*f-c*l,m=u*h-c*p,g=p*f-h*l,y=v-m-g;if(0>=y)return!1;var b,_,w,x,E,S,C,T=h-c,O=u-p,A=c-f,k=l-u;if(void 0!==n){var j=l>u?p>u?u:p:p>l?l:p,P=f>c?h>c?c:h:h>f?f:h,N=u>l?u>p?u:p:l>p?l:p,M=c>f?c>h?c:h:f>h?f:h,R=d(j,P,n,r,o),D=d(N,M,n,r,o);for(C=t.nextZ;C&&C.z<=D;)if(b=C.i,C=C.nextZ,b!==i&&b!==s&&(_=e[b],w=e[b+1],x=T*_+O*w-m,x>=0&&(E=A*_+k*w+v,E>=0&&(S=y-x-E,S>=0&&(x&&E||x&&S||E&&S)))))return!1;for(C=t.prevZ;C&&C.z>=R;)if(b=C.i,C=C.prevZ,b!==i&&b!==s&&(_=e[b],w=e[b+1],x=T*_+O*w-m,x>=0&&(E=A*_+k*w+v,E>=0&&(S=y-x-E,S>=0&&(x&&E||x&&S||E&&S)))))return!1}else for(C=t.next.next;C!==t.prev;)if(b=C.i,C=C.next,_=e[b],w=e[b+1],x=T*_+O*w-m,x>=0&&(E=A*_+k*w+v,E>=0&&(S=y-x-E,S>=0&&(x&&E||x&&S||E&&S))))return!1;return!0}function s(e,t,n,r){var o=t;do{var i=o.prev,a=o.next.next;if(i.i!==a.i&&b(e,i.i,o.i,o.next.i,a.i)&&w(e,i,a)&&w(e,a,i)){n.push(i.i/r),n.push(o.i/r),n.push(a.i/r),i.next=a,a.prev=i;var s=o.prevZ,u=o.nextZ&&o.nextZ.nextZ;s&&(s.nextZ=u),u&&(u.prevZ=s),o=t=a}o=o.next}while(o!==t);return o}function u(e,t,n,r,a,s,u){var c=t;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&m(e,c,l)){var f=E(c,l);return c=o(e,c,c.next),f=o(e,f,f.next),i(e,c,n,r,a,s,u),void i(e,f,n,r,a,s,u)}l=l.next}c=c.next}while(c!==t)}function c(e,t,n,i){var a,s,u,c,f,p=[];for(a=0,s=t.length;s>a;a++)u=t[a]*i,c=s-1>a?t[a+1]*i:e.length,f=r(e,u,c,i,!1),f===f.next&&(f.steiner=!0),f=o(e,f),f&&p.push(v(e,f));for(p.sort(function(t,n){return e[t.i]-e[n.i]}),a=0;a<p.length;a++)l(e,p[a],n),n=o(e,n,n.next);return n}function l(e,t,n){if(n=f(e,t,n)){var r=E(n,t);o(e,r,r.next)}}function f(e,t,n){var r,o,i,a=n,s=t.i,u=e[s],c=e[s+1],l=-(1/0);do{if(o=a.i,i=a.next.i,c<=e[o+1]&&c>=e[i+1]){var f=e[o]+(c-e[o+1])*(e[i]-e[o])/(e[i+1]-e[o+1]);u>=f&&f>l&&(l=f,r=e[o]<e[i]?a:a.next)}a=a.next}while(a!==n);if(!r)return null;var p,h,d,v,m,g,y=e[r.i],b=e[r.i+1],_=u*b-c*y,x=u*c-c*l,E=c-c,S=u-l,C=c-b,T=y-u,O=_-x-(l*b-c*y),A=0>=O?-1:1,k=r,j=1/0;for(a=r.next;a!==k;)p=e[a.i],h=e[a.i+1],d=u-p,d>=0&&p>=y&&(v=(E*p+S*h-x)*A,v>=0&&(m=(C*p+T*h+_)*A,m>=0&&O*A-v-m>=0&&(g=Math.abs(c-h)/d,j>g&&w(e,a,t)&&(r=a,j=g)))),a=a.next;return r}function p(e,t,n,r,o){var i=t;do null===i.z&&(i.z=d(e[i.i],e[i.i+1],n,r,o)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,h(i)}function h(e){var t,n,r,o,i,a,s,u,c=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;c>t&&(s++,r=r.nextZ,r);t++);for(u=c;s>0||u>0&&r;)0===s?(o=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,s--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(a>1);return e}function d(e,t,n,r,o){return e=1e3*(e-n)/o,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=1e3*(t-r)/o,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function v(e,t){var n=t,r=t;do e[n.i]<e[r.i]&&(r=n),n=n.next;while(n!==t);return r}function m(e,t,n){return t.next.i!==n.i&&t.prev.i!==n.i&&!_(e,t,t.i,n.i)&&w(e,t,n)&&w(e,n,t)&&x(e,t,t.i,n.i)}function g(e,t,n,r){var o=(e[n+1]-e[t+1])*(e[r]-e[n])-(e[n]-e[t])*(e[r+1]-e[n+1]);return o>0?1:0>o?-1:0}function y(e,t,n){return e[t]===e[n]&&e[t+1]===e[n+1]}function b(e,t,n,r,o){return g(e,t,n,r)!==g(e,t,n,o)&&g(e,r,o,t)!==g(e,r,o,n)}function _(e,t,n,r){var o=t;do{var i=o.i,a=o.next.i;if(i!==n&&a!==n&&i!==r&&a!==r&&b(e,i,a,n,r))return!0;o=o.next}while(o!==t);return!1}function w(e,t,n){return-1===g(e,t.prev.i,t.i,t.next.i)?-1!==g(e,t.i,n.i,t.next.i)&&-1!==g(e,t.i,t.prev.i,n.i):-1===g(e,t.i,n.i,t.prev.i)||-1===g(e,t.i,t.next.i,n.i)}function x(e,t,n,r){var o=t,i=!1,a=(e[n]+e[r])/2,s=(e[n+1]+e[r+1])/2;do{var u=o.i,c=o.next.i;e[u+1]>s!=e[c+1]>s&&a<(e[c]-e[u])*(s-e[u+1])/(e[c+1]-e[u+1])+e[u]&&(i=!i),o=o.next}while(o!==t);return i}function E(e,t){var n=new C(e.i),r=new C(t.i),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function S(e,t){var n=new C(e);return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function C(e){this.i=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.exports=n},function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var r,o,i=n(e),a=1;a<arguments.length;a++){r=arguments[a],o=Object.keys(Object(r));for(var s=0;s<o.length;s++)i[o[s]]=r[o[s]]}return i}},function(e,t,n){function r(e,t){s.call(this),t=t||10,this.baseUrl=e||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=o.queue(this._boundLoadResource,t),this.resources={}}var o=n(324),i=n(91),a=n(157),s=n(58);r.prototype=Object.create(s.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.add=r.prototype.enqueue=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;++o)this.add(e[o]);return this}if("object"==typeof e&&(r=t||e.callback||e.onComplete,n=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.resources[e])throw new Error('Resource with name "'+e+'" already exists.');return t=this._handleBaseUrl(t),this.resources[e]=new a(e,t,n),"function"==typeof r&&this.resources[e].once("afterMiddleware",r),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[e]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[e]),this._progressChunk=100/this._buffer.length),this},r.prototype._handleBaseUrl=function(e){var t=i.parse(e);return t.protocol||0===t.pathname.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.lastIndexOf("/")!==e.length-1?this.baseUrl+"/"+e:this.baseUrl+e},r.prototype.before=r.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},r.prototype.after=r.prototype.use=function(e){return this._afterMiddleware.push(e),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},r.prototype.load=function(e){if("function"==typeof e&&this.once("complete",e),this._queue.started)return this;this.emit("start",this);for(var t=0;t<this._buffer.length;++t)this._queue.push(this._buffer[t]);return this._buffer.length=0,this},r.prototype._loadResource=function(e,t){var n=this;e._dequeue=t,this._runMiddleware(e,this._beforeMiddleware,function(){e.load(n._boundOnLoad)})},r.prototype._onComplete=function(){this.emit("complete",this,this.resources)},r.prototype._onLoad=function(e){this.progress+=this._progressChunk,this.emit("progress",this,e),e.error?this.emit("error",e.error,this,e):this.emit("load",this,e),this._runMiddleware(e,this._afterMiddleware,function(){e.emit("afterMiddleware",e),this._numToLoad--,0===this._numToLoad&&this._onComplete()}),e._dequeue()},r.prototype._runMiddleware=function(e,t,n){var r=this;o.eachSeries(t,function(t,n){t.call(r,e,n)},n.bind(this,e))},r.LOAD_TYPE=a.LOAD_TYPE,r.XHR_READY_STATE=a.XHR_READY_STATE,r.XHR_RESPONSE_TYPE=a.XHR_RESPONSE_TYPE},function(e,t){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(e){for(var t,n="",r=new Array(4),o=0,i=0,a=0;o<e.length;){for(t=new Array(3),i=0;i<t.length;i++)o<e.length?t[i]=255&e.charCodeAt(o++):t[i]=0;switch(r[0]=t[0]>>2,r[1]=(3&t[0])<<4|t[1]>>4,r[2]=(15&t[1])<<2|t[2]>>6,r[3]=63&t[2],a=o-(e.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(i=0;i<r.length;i++)n+=this._keyStr.charAt(r[i])}return n}}},function(e,t){var n={};e.exports=function(){return function(e,t){n[e.url]?(e.data=n[e.url],e.complete()):(e.once("complete",function(){n[this.url]=this.data}),t())}}},function(e,t,n){var r=n(157),o=n(537);window.URL=window.URL||window.webkitURL,e.exports=function(){return function(e,t){if(!e.data)return t();if(e.xhr&&e.xhrType===r.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=URL.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=n,e.isImage=!0,e.data.onload=function(){URL.revokeObjectURL(n),e.data.onload=null,t()}}}else{var i=e.xhr.getResponseHeader("content-type");i&&0===i.indexOf("image")&&(e.data=new Image,e.data.src="data:"+i+";base64,"+o.encodeBinary(e.xhr.responseText),e.isImage=!0,e.data.onload=function(){e.data.onload=null,t()})}else t()}}},function(e,t,n){function r(){o.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new c.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var o=n(131),i=n(95),a=n(160),s=n(161),u=n(326),c=n(21),l=n(12),f=new c.Point;r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{}),r.prototype.clone=function(){var e=new r;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=this.dirty,e.glDirty=this.glDirty,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var t=0;t<this.graphicsData.length;++t)e.graphicsData.push(this.graphicsData[t].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},r.prototype.lineStyle=function(e,t,n){return this.lineWidth=e||0,this.lineColor=t||0,this.lineAlpha=void 0===n?1:n,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new c.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},r.prototype.moveTo=function(e,t){return this.drawShape(new c.Polygon([e,t])),this},r.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty=!0,this},r.prototype.quadraticCurveTo=function(e,t,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o,i,a=20,s=this.currentPath.shape.points;0===s.length&&this.moveTo(0,0);for(var u=s[s.length-2],c=s[s.length-1],l=0,f=1;a>=f;++f)l=f/a,o=u+(e-u)*l,i=c+(t-c)*l,s.push(o+(e+(n-e)*l-o)*l,i+(t+(r-t)*l-i)*l);return this.dirty=this.boundsDirty=!0,this},r.prototype.bezierCurveTo=function(e,t,n,r,o,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var a,s,u,c,l,f=20,p=this.currentPath.shape.points,h=p[p.length-2],d=p[p.length-1],v=0,m=1;f>=m;++m)v=m/f,a=1-v,s=a*a,u=s*a,c=v*v,l=c*v,p.push(u*h+3*s*v*e+3*a*c*n+l*o,u*d+3*s*v*t+3*a*c*r+l*i);return this.dirty=this.boundsDirty=!0,this},r.prototype.arcTo=function(e,t,n,r,o){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var i=this.currentPath.shape.points,a=i[i.length-2],s=i[i.length-1],u=s-t,c=a-e,l=r-t,f=n-e,p=Math.abs(u*f-c*l);if(1e-8>p||0===o)(i[i.length-2]!==e||i[i.length-1]!==t)&&i.push(e,t);else{var h=u*u+c*c,d=l*l+f*f,v=u*l+c*f,m=o*Math.sqrt(h)/p,g=o*Math.sqrt(d)/p,y=m*v/h,b=g*v/d,_=m*f+g*c,w=m*l+g*u,x=c*(g+y),E=u*(g+y),S=f*(m+b),C=l*(m+b),T=Math.atan2(E-w,x-_),O=Math.atan2(C-w,S-_);this.arc(_+e,w+t,o,T,O,c*l>f*u)}return this.dirty=this.boundsDirty=!0,this},r.prototype.arc=function(e,t,n,r,o,i){if(i=i||!1,r===o)return this;!i&&r>=o?o+=2*Math.PI:i&&o>=r&&(r+=2*Math.PI);var a=i?-1*(r-o):o-r,s=40*Math.ceil(Math.abs(a)/(2*Math.PI));if(0===a)return this;var u=e+Math.cos(r)*n,c=t+Math.sin(r)*n;this.currentPath?i&&this.filling?this.currentPath.shape.points.push(e,t):this.currentPath.shape.points.push(u,c):i&&this.filling?this.moveTo(e,t):this.moveTo(u,c);for(var l=this.currentPath.shape.points,f=a/(2*s),p=2*f,h=Math.cos(f),d=Math.sin(f),v=s-1,m=v%1/v,g=0;v>=g;g++){var y=g+m*g,b=f+r+p*y,_=Math.cos(b),w=-Math.sin(b);l.push((h*_+d*w)*n+e,(h*-w+d*_)*n+t)}return this.dirty=this.boundsDirty=!0,this},r.prototype.beginFill=function(e,t){return this.filling=!0,this.fillColor=e||0,this.fillAlpha=void 0===t?1:t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},r.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},r.prototype.drawRect=function(e,t,n,r){return this.drawShape(new c.Rectangle(e,t,n,r)),this},r.prototype.drawRoundedRect=function(e,t,n,r,o){return this.drawShape(new c.RoundedRectangle(e,t,n,r,o)),this},r.prototype.drawCircle=function(e,t,n){return this.drawShape(new c.Circle(e,t,n)),this},r.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new c.Ellipse(e,t,n,r)),this},r.prototype.drawPolygon=function(e){var t=e;if(!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n]}return this.drawShape(new c.Polygon(t)),this},r.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},r.prototype.generateTexture=function(e,t,n){t=t||1;var r=this.getLocalBounds(),o=new a(r.width*t,r.height*t),u=i.fromCanvas(o.canvas,n);return u.baseTexture.resolution=t,o.context.scale(t,t),o.context.translate(-r.x,-r.y),s.renderGraphics(this,o.context),u},r.prototype._renderWebGL=function(e){this.glDirty&&(this.dirty=!0,this.glDirty=!1),e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this)},r.prototype._renderCanvas=function(e){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint);var t=e.context,n=this.worldTransform;this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,t.globalCompositeOperation=e.blendModes[e.currentBlendMode]);var r=e.resolution;t.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),s.renderGraphics(this,t)}},r.prototype.getBounds=function(e){if(!this._currentBounds){if(!this.renderable)return c.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var t=this._localBounds,n=t.x,r=t.width+t.x,o=t.y,i=t.height+t.y,a=e||this.worldTransform,s=a.a,u=a.b,l=a.c,f=a.d,p=a.tx,h=a.ty,d=s*r+l*i+p,v=f*i+u*r+h,m=s*n+l*i+p,g=f*i+u*n+h,y=s*n+l*o+p,b=f*o+u*n+h,_=s*r+l*o+p,w=f*o+u*r+h,x=d,E=v,S=d,C=v;S=S>m?m:S,S=S>y?y:S,S=S>_?_:S,C=C>g?g:C,C=C>b?b:C,C=C>w?w:C,x=m>x?m:x,x=y>x?y:x,x=_>x?_:x,E=g>E?g:E,E=b>E?b:E,E=w>E?w:E,this._bounds.x=S,this._bounds.width=x-S,this._bounds.y=C,this._bounds.height=E-C,this._currentBounds=this._bounds}return this._currentBounds},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,f);for(var t=this.graphicsData,n=0;n<t.length;n++){var r=t[n];if(r.fill&&r.shape&&r.shape.contains(f.x,f.y))return!0}return!1},r.prototype.updateLocalBounds=function(){var e=1/0,t=-(1/0),n=1/0,r=-(1/0);if(this.graphicsData.length)for(var o,i,a,s,u,c,f=0;f<this.graphicsData.length;f++){var p=this.graphicsData[f],h=p.type,d=p.lineWidth;if(o=p.shape,h===l.SHAPES.RECT||h===l.SHAPES.RREC)a=o.x-d/2,s=o.y-d/2,u=o.width+d,c=o.height+d,e=e>a?a:e,t=a+u>t?a+u:t,n=n>s?s:n,r=s+c>r?s+c:r;else if(h===l.SHAPES.CIRC)a=o.x,s=o.y,u=o.radius+d/2,c=o.radius+d/2,e=e>a-u?a-u:e,t=a+u>t?a+u:t,n=n>s-c?s-c:n,r=s+c>r?s+c:r;else if(h===l.SHAPES.ELIP)a=o.x,s=o.y,u=o.width+d/2,c=o.height+d/2,e=e>a-u?a-u:e,t=a+u>t?a+u:t,n=n>s-c?s-c:n,r=s+c>r?s+c:r;else{i=o.points;for(var v=0;v<i.length;v+=2)a=i[v],s=i[v+1],e=e>a-d?a-d:e,t=a+d>t?a+d:t,n=n>s-d?s-d:n,r=s+d>r?s+d:r}}else e=0,t=0,n=0,r=0;var m=this.boundsPadding;this._localBounds.x=e-m,this._localBounds.width=t-e+2*m,this._localBounds.y=n-m,this._localBounds.height=r-n+2*m},r.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(t),t.type===l.SHAPES.POLY&&(t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty=this.boundsDirty=!0,t},r.prototype.destroy=function(){o.prototype.destroy.apply(this,arguments);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var t in this._webgl)for(var n=0;n<this._webgl[t].data.length;++n)this._webgl[t].data[n].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},function(e,t,n){function r(e){s.call(this,e),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var o=n(22),i=n(21),a=n(12),s=n(94),u=n(132),c=n(542),l=n(534);r.prototype=Object.create(s.prototype),r.prototype.constructor=r,e.exports=r,u.registerPlugin("graphics",r),r.prototype.onContextChange=function(){},r.prototype.destroy=function(){s.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},r.prototype.render=function(e){var t,n=this.renderer,r=n.gl,i=n.shaderManager.plugins.primitiveShader;e.dirty&&this.updateGraphics(e,r);var a=e._webGL[r.id];n.blendModeManager.setBlendMode(e.blendMode);for(var s=0;s<a.data.length;s++)1===a.data[s].mode?(t=a.data[s],n.stencilManager.pushStencil(e,t,n),r.uniform1f(n.shaderManager.complexPrimitiveShader.uniforms.alpha._location,e.worldAlpha*t.alpha),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(t.indices.length-4)),n.stencilManager.popStencil(e,t,n)):(t=a.data[s],i=n.shaderManager.primitiveShader,n.shaderManager.setShader(i),r.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),r.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,n.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(i.uniforms.tint._location,o.hex2rgb(e.tint)),r.uniform1f(i.uniforms.alpha._location,e.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(i.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(i.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer),r.drawElements(r.TRIANGLE_STRIP,t.indices.length,r.UNSIGNED_SHORT,0))},r.prototype.updateGraphics=function(e){var t=this.renderer.gl,n=e._webGL[t.id];n||(n=e._webGL[t.id]={lastIndex:0,data:[],gl:t}),e.dirty=!1;var r;if(e.clearDirty){for(e.clearDirty=!1,r=0;r<n.data.length;r++){var o=n.data[r];o.reset(),this.graphicsDataPool.push(o)}n.data=[],n.lastIndex=0}var i;for(r=n.lastIndex;r<e.graphicsData.length;r++){var s=e.graphicsData[r];if(s.type===a.SHAPES.POLY){if(s.points=s.shape.points.slice(),s.shape.closed&&(s.points[0]!==s.points[s.points.length-2]||s.points[1]!==s.points[s.points.length-1])&&s.points.push(s.points[0],s.points[1]),s.fill&&s.points.length>=6)if(s.points.length<2*this.maximumSimplePolySize){i=this.switchMode(n,0);var u=this.buildPoly(s,i);u||(i=this.switchMode(n,1),this.buildComplexPoly(s,i))}else i=this.switchMode(n,1),this.buildComplexPoly(s,i);s.lineWidth>0&&(i=this.switchMode(n,0),this.buildLine(s,i))}else i=this.switchMode(n,0),s.type===a.SHAPES.RECT?this.buildRectangle(s,i):s.type===a.SHAPES.CIRC||s.type===a.SHAPES.ELIP?this.buildCircle(s,i):s.type===a.SHAPES.RREC&&this.buildRoundedRectangle(s,i);n.lastIndex++}for(r=0;r<n.data.length;r++)i=n.data[r],i.dirty&&i.upload()},r.prototype.switchMode=function(e,t){var n;return e.data.length?(n=e.data[e.data.length-1],(n.points.length>32e4||n.mode!==t||1===t)&&(n=this.graphicsDataPool.pop()||new c(e.gl),n.mode=t,e.data.push(n))):(n=this.graphicsDataPool.pop()||new c(e.gl),n.mode=t,e.data.push(n)),n.dirty=!0,n},r.prototype.buildRectangle=function(e,t){var n=e.shape,r=n.x,i=n.y,a=n.width,s=n.height;if(e.fill){var u=o.hex2rgb(e.fillColor),c=e.fillAlpha,l=u[0]*c,f=u[1]*c,p=u[2]*c,h=t.points,d=t.indices,v=h.length/6;h.push(r,i),h.push(l,f,p,c),h.push(r+a,i),h.push(l,f,p,c),h.push(r,i+s),h.push(l,f,p,c),h.push(r+a,i+s),h.push(l,f,p,c),d.push(v,v,v+1,v+2,v+3,v+3)}if(e.lineWidth){var m=e.points;e.points=[r,i,r+a,i,r+a,i+s,r,i+s,r,i],this.buildLine(e,t),e.points=m}},r.prototype.buildRoundedRectangle=function(e,t){var n=e.shape,r=n.x,i=n.y,a=n.width,s=n.height,u=n.radius,c=[];if(c.push(r,i+u),this.quadraticBezierCurve(r,i+s-u,r,i+s,r+u,i+s,c),this.quadraticBezierCurve(r+a-u,i+s,r+a,i+s,r+a,i+s-u,c),this.quadraticBezierCurve(r+a,i+u,r+a,i,r+a-u,i,c),this.quadraticBezierCurve(r+u,i,r,i,r,i+u+1e-10,c),e.fill){var f=o.hex2rgb(e.fillColor),p=e.fillAlpha,h=f[0]*p,d=f[1]*p,v=f[2]*p,m=t.points,g=t.indices,y=m.length/6,b=l(c,null,2),_=0;for(_=0;_<b.length;_+=3)g.push(b[_]+y),g.push(b[_]+y),g.push(b[_+1]+y),g.push(b[_+2]+y),g.push(b[_+2]+y);for(_=0;_<c.length;_++)m.push(c[_],c[++_],h,d,v,p)}if(e.lineWidth){var w=e.points;e.points=c,this.buildLine(e,t),e.points=w}},r.prototype.quadraticBezierCurve=function(e,t,n,r,o,i,a){function s(e,t,n){var r=t-e;return e+r*n}for(var u,c,l,f,p,h,d=20,v=a||[],m=0,g=0;d>=g;g++)m=g/d,u=s(e,n,m),c=s(t,r,m),l=s(n,o,m),f=s(r,i,m),p=s(u,l,m),h=s(c,f,m),v.push(p,h);return v},r.prototype.buildCircle=function(e,t){var n,r,i=e.shape,s=i.x,u=i.y;e.type===a.SHAPES.CIRC?(n=i.radius,r=i.radius):(n=i.width,r=i.height);var c=40,l=2*Math.PI/c,f=0;if(e.fill){var p=o.hex2rgb(e.fillColor),h=e.fillAlpha,d=p[0]*h,v=p[1]*h,m=p[2]*h,g=t.points,y=t.indices,b=g.length/6;for(y.push(b),f=0;c+1>f;f++)g.push(s,u,d,v,m,h),g.push(s+Math.sin(l*f)*n,u+Math.cos(l*f)*r,d,v,m,h),y.push(b++,b++);y.push(b-1)}if(e.lineWidth){var _=e.points;for(e.points=[],f=0;c+1>f;f++)e.points.push(s+Math.sin(l*f)*n,u+Math.cos(l*f)*r);this.buildLine(e,t),e.points=_}},r.prototype.buildLine=function(e,t){var n=0,r=e.points;if(0!==r.length){if(e.lineWidth%2)for(n=0;n<r.length;n++)r[n]+=.5;var a=new i.Point(r[0],r[1]),s=new i.Point(r[r.length-2],r[r.length-1]);if(a.x===s.x&&a.y===s.y){r=r.slice(),r.pop(),r.pop(),s=new i.Point(r[r.length-2],r[r.length-1]);var u=s.x+.5*(a.x-s.x),c=s.y+.5*(a.y-s.y);r.unshift(u,c),r.push(u,c)}var l,f,p,h,d,v,m,g,y,b,_,w,x,E,S,C,T,O,A,k,j,P,N,M=t.points,R=t.indices,D=r.length/2,I=r.length,F=M.length/6,L=e.lineWidth/2,B=o.hex2rgb(e.lineColor),U=e.lineAlpha,q=B[0]*U,V=B[1]*U,z=B[2]*U;for(p=r[0],h=r[1],d=r[2],v=r[3],y=-(h-v),b=p-d,N=Math.sqrt(y*y+b*b),y/=N,b/=N,y*=L,b*=L,M.push(p-y,h-b,q,V,z,U),M.push(p+y,h+b,q,V,z,U),n=1;D-1>n;n++)p=r[2*(n-1)],h=r[2*(n-1)+1],d=r[2*n],v=r[2*n+1],m=r[2*(n+1)],g=r[2*(n+1)+1],y=-(h-v),b=p-d,N=Math.sqrt(y*y+b*b),y/=N,b/=N,y*=L,b*=L,_=-(v-g),w=d-m,N=Math.sqrt(_*_+w*w),_/=N,w/=N,_*=L,w*=L,S=-b+h-(-b+v),C=-y+d-(-y+p),T=(-y+p)*(-b+v)-(-y+d)*(-b+h),O=-w+g-(-w+v),A=-_+d-(-_+m),k=(-_+m)*(-w+v)-(-_+d)*(-w+g),j=S*A-O*C,Math.abs(j)<.1?(j+=10.1,M.push(d-y,v-b,q,V,z,U),M.push(d+y,v+b,q,V,z,U)):(l=(C*k-A*T)/j,f=(O*T-S*k)/j,P=(l-d)*(l-d)+(f-v)+(f-v),P>19600?(x=y-_,E=b-w,N=Math.sqrt(x*x+E*E),x/=N,E/=N,x*=L,E*=L,M.push(d-x,v-E),M.push(q,V,z,U),M.push(d+x,v+E),M.push(q,V,z,U),M.push(d-x,v-E),M.push(q,V,z,U),I++):(M.push(l,f),M.push(q,V,z,U),M.push(d-(l-d),v-(f-v)),M.push(q,V,z,U)));for(p=r[2*(D-2)],h=r[2*(D-2)+1],d=r[2*(D-1)],v=r[2*(D-1)+1],y=-(h-v),b=p-d,N=Math.sqrt(y*y+b*b),y/=N,b/=N,y*=L,b*=L,M.push(d-y,v-b),M.push(q,V,z,U),M.push(d+y,v+b),M.push(q,V,z,U),R.push(F),n=0;I>n;n++)R.push(F++);R.push(F-1)}},r.prototype.buildComplexPoly=function(e,t){var n=e.points.slice();if(!(n.length<6)){var r=t.indices;t.points=n,t.alpha=e.fillAlpha,t.color=o.hex2rgb(e.fillColor);for(var i,a,s=1/0,u=-(1/0),c=1/0,l=-(1/0),f=0;f<n.length;f+=2)i=n[f],a=n[f+1],s=s>i?i:s,u=i>u?i:u,c=c>a?a:c,l=a>l?a:l;n.push(s,c,u,c,u,l,s,l);var p=n.length/2;for(f=0;p>f;f++)r.push(f)}},r.prototype.buildPoly=function(e,t){var n=e.points;if(!(n.length<6)){var r=t.points,i=t.indices,a=n.length/2,s=o.hex2rgb(e.fillColor),u=e.fillAlpha,c=s[0]*u,f=s[1]*u,p=s[2]*u,h=l(n,null,2);if(!h)return!1;var d=r.length/6,v=0;for(v=0;v<h.length;v+=3)i.push(h[v]+d),i.push(h[v]+d),i.push(h[v+1]+d),i.push(h[v+2]+d),i.push(h[v+2]+d);for(v=0;a>v;v++)r.push(n[2*v],n[2*v+1],c,f,p,u);return!0}}},function(e,t){function n(e){this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}n.prototype.constructor=n,e.exports=n,n.prototype.reset=function(){this.points.length=0,this.indices.length=0},n.prototype.upload=function(){var e=this.gl;this.glPoints=new Float32Array(this.points),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.glPoints,e.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.glIndices,e.STATIC_DRAW),this.dirty=!1},n.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},function(e,t,n){function r(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var o=n(158);r.prototype.constructor=r,e.exports=r,r.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},r.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},r.prototype.apply=function(e,t){t=t||new o;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},r.prototype.applyInverse=function(e,t){t=t||new o;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},r.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},r.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},r.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,o=this.c,i=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=o*t-this.d*n,this.d=o*n+this.d*t,this.tx=i*t-this.ty*n,this.ty=i*n+this.ty*t,this},r.prototype.append=function(e){
var t=this.a,n=this.b,r=this.c,o=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*o,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*o,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this},r.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},r.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,o=this.tx,i=e*r-t*n;return this.a=r/i,this.b=-t/i,this.c=-n/i,this.d=e/i,this.tx=(n*this.ty-r*o)/i,this.ty=-(e*this.ty-t*o)/i,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var e=new r;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.IDENTITY=new r,r.TEMP_MATRIX=new r},function(e,t,n){function r(e,t,n){this.x=e||0,this.y=t||0,this.radius=n||0,this.type=i.SHAPES.CIRC}var o=n(159),i=n(12);r.prototype.constructor=r,e.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.x-e,r=this.y-t,o=this.radius*this.radius;return n*=n,r*=r,o>=n+r},r.prototype.getBounds=function(){return new o(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},function(e,t,n){function r(e,t,n,r){this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this.type=i.SHAPES.ELIP}var o=n(159),i=n(12);r.prototype.constructor=r,e.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return n*=n,r*=r,1>=n+r},r.prototype.getBounds=function(){return new o(this.x-this.width,this.y-this.height,this.width,this.height)}},function(e,t,n){function r(e){var t=e;if(!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n]}if(t[0]instanceof o){for(var r=[],a=0,s=t.length;s>a;a++)r.push(t[a].x,t[a].y);t=r}this.closed=!0,this.points=t,this.type=i.SHAPES.POLY}var o=n(158),i=n(12);r.prototype.constructor=r,e.exports=r,r.prototype.clone=function(){return new r(this.points.slice())},r.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,o=0,i=r-1;r>o;i=o++){var a=this.points[2*o],s=this.points[2*o+1],u=this.points[2*i],c=this.points[2*i+1],l=s>t!=c>t&&(u-a)*(t-s)/(c-s)+a>e;l&&(n=!n)}return n}},function(e,t,n){function r(e,t,n,r,i){this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this.radius=i||20,this.type=o.SHAPES.RREC}var o=n(12);r.prototype.constructor=r,e.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height?!0:!1}},function(e,t,n){function r(e,t){o.call(this),this._properties=[!1,!0,!1,!1,!1],this._size=e||15e3,this._buffers=null,this._updateStatic=!1,this.interactiveChildren=!1,this.blendMode=i.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(t)}var o=n(131),i=n(12);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.setProperties=function(e){e&&(this._properties[0]="scale"in e?!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="alpha"in e?!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.prototype.renderWebGL=function(e){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.addChildAt=function(e,t){if(e===this)return e;if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),this._updateStatic=!0,e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},r.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,this.children.splice(e,1),this._updateStatic=!0,t},r.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,n=this.worldTransform,r=!0,o=0,i=0,a=0,s=0;t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var c=this.children[u];if(c.visible){var l=c.texture.frame;if(t.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)===0)r&&(t.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),r=!1),o=c.anchor.x*(-l.width*c.scale.x)+c.position.x+.5,i=c.anchor.y*(-l.height*c.scale.y)+c.position.y+.5,a=l.width*c.scale.x,s=l.height*c.scale.y;else{r||(r=!0),c.displayObjectUpdateTransform();var f=c.worldTransform;e.roundPixels?t.setTransform(f.a,f.b,f.c,f.d,0|f.tx,0|f.ty):t.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty),o=c.anchor.x*-l.width+.5,i=c.anchor.y*-l.height+.5,a=l.width,s=l.height}t.drawImage(c.texture.baseTexture.source,l.x,l.y,l.width,l.height,o,i,a,s)}}}},r.prototype.destroy=function(){if(o.prototype.destroy.apply(this,arguments),this._buffers)for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._properties=null,this._buffers=null}},function(e,t){function n(e,t,n){this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;r++){var o=t[r];o.dynamic?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}n.prototype.constructor=n,e.exports=n,n.prototype.initBuffers=function(){var e,t,n=this.gl,r=0;for(this.dynamicStride=0,e=0;e<this.dynamicProperties.length;e++)t=this.dynamicProperties[e],t.offset=r,r+=t.size,this.dynamicStride+=t.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferData(n.ARRAY_BUFFER,this.dynamicData,n.DYNAMIC_DRAW);var o=0;for(this.staticStride=0,e=0;e<this.staticProperties.length;e++)t=this.staticProperties[e],t.offset=o,o+=t.size,this.staticStride+=t.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferData(n.ARRAY_BUFFER,this.staticData,n.DYNAMIC_DRAW)},n.prototype.uploadDynamic=function(e,t,n){for(var r=this.gl,o=0;o<this.dynamicProperties.length;o++){var i=this.dynamicProperties[o];i.uploadFunction(e,t,n,this.dynamicData,this.dynamicStride,i.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.dynamicData)},n.prototype.uploadStatic=function(e,t,n){for(var r=this.gl,o=0;o<this.staticProperties.length;o++){var i=this.staticProperties[o];i.uploadFunction(e,t,n,this.staticData,this.staticStride,i.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.staticData)},n.prototype.bind=function(){var e,t,n=this.gl;for(n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),e=0;e<this.dynamicProperties.length;e++)t=this.dynamicProperties[e],n.vertexAttribPointer(t.attribute,t.size,n.FLOAT,!1,4*this.dynamicStride,4*t.offset);for(n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),e=0;e<this.staticProperties.length;e++)t=this.staticProperties[e],n.vertexAttribPointer(t.attribute,t.size,n.FLOAT,!1,4*this.staticStride,4*t.offset)},n.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},function(e,t,n){function r(e){o.call(this,e),this.size=15e3;var t=6*this.size;this.indices=new Uint16Array(t);for(var n=0,r=0;t>n;n+=6,r+=4)this.indices[n+0]=r+0,this.indices[n+1]=r+1,this.indices[n+2]=r+2,this.indices[n+3]=r+0,this.indices[n+4]=r+2,this.indices[n+5]=r+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new u.Matrix}var o=n(94),i=n(132),a=n(551),s=n(549),u=n(21);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,i.registerPlugin("particle",r),r.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new a(this.renderer.shaderManager),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,dynamic:!1,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,dynamic:!0,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,dynamic:!1,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,dynamic:!1,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,dynamic:!1,size:1,uploadFunction:this.uploadAlpha,offset:0}]},r.prototype.start=function(){var e=this.renderer.gl;e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.shader;this.renderer.shaderManager.setShader(t)},r.prototype.render=function(e){var t=e.children,n=t.length,r=e._size;if(0!==n){n>r&&(n=r),e._buffers||(e._buffers=this.generateBuffers(e)),this.renderer.blendModeManager.setBlendMode(e.blendMode);var o=this.renderer.gl,i=e.worldTransform.copy(this.tempMatrix);i.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,i.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,e.worldAlpha);var a=e._updateStatic,s=t[0]._texture.baseTexture;if(s._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,s._glTextures[o.id]);else{if(!this.renderer.updateTexture(s))return;this.properties[0].dynamic&&this.properties[3].dynamic||(a=!0)}for(var u=0,c=0;n>c;c+=this.size){var l=n-c;l>this.size&&(l=this.size);var f=e._buffers[u++];f.uploadDynamic(t,c,l),a&&f.uploadStatic(t,c,l),f.bind(this.shader),o.drawElements(o.TRIANGLES,6*l,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}e._updateStatic=!1}},r.prototype.generateBuffers=function(e){var t,n=this.renderer.gl,r=[],o=e._size;for(t=0;t<e._properties.length;t++)this.properties[t].dynamic=e._properties[t];for(t=0;o>t;t+=this.size)r.push(new s(n,this.properties,this.size,this.shader));return r},r.prototype.uploadVertices=function(e,t,n,r,o,i){for(var a,s,u,c,l,f,p,h,d,v=0;n>v;v++)a=e[t+v],s=a._texture,c=a.scale.x,l=a.scale.y,s.trim?(u=s.trim,p=u.x-a.anchor.x*u.width,f=p+s.crop.width,d=u.y-a.anchor.y*u.height,h=d+s.crop.height):(f=s._frame.width*(1-a.anchor.x),p=s._frame.width*-a.anchor.x,h=s._frame.height*(1-a.anchor.y),d=s._frame.height*-a.anchor.y),r[i]=p*c,r[i+1]=d*l,r[i+o]=f*c,r[i+o+1]=d*l,r[i+2*o]=f*c,r[i+2*o+1]=h*l,r[i+3*o]=p*c,r[i+3*o+1]=h*l,i+=4*o},r.prototype.uploadPosition=function(e,t,n,r,o,i){for(var a=0;n>a;a++){var s=e[t+a].position;r[i]=s.x,r[i+1]=s.y,r[i+o]=s.x,r[i+o+1]=s.y,r[i+2*o]=s.x,r[i+2*o+1]=s.y,r[i+3*o]=s.x,r[i+3*o+1]=s.y,i+=4*o}},r.prototype.uploadRotation=function(e,t,n,r,o,i){for(var a=0;n>a;a++){var s=e[t+a].rotation;r[i]=s,r[i+o]=s,r[i+2*o]=s,r[i+3*o]=s,i+=4*o}},r.prototype.uploadUvs=function(e,t,n,r,o,i){for(var a=0;n>a;a++){var s=e[t+a]._texture._uvs;s?(r[i]=s.x0,r[i+1]=s.y0,r[i+o]=s.x1,r[i+o+1]=s.y1,r[i+2*o]=s.x2,r[i+2*o+1]=s.y2,r[i+3*o]=s.x3,r[i+3*o+1]=s.y3,i+=4*o):(r[i]=0,r[i+1]=0,r[i+o]=0,r[i+o+1]=0,r[i+2*o]=0,r[i+2*o+1]=0,r[i+3*o]=0,r[i+3*o+1]=0,i+=4*o)}},r.prototype.uploadAlpha=function(e,t,n,r,o,i){for(var a=0;n>a;a++){var s=e[t+a].alpha;r[i]=s,r[i+o]=s,r[i+2*o]=s,r[i+3*o]=s,i+=4*o}},r.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),o.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},function(e,t,n){function r(e){o.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var o=n(163);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){function r(e,t,n){o.call(this,"Canvas",e,t,n),this.type=u.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new i,this.roundPixels=!1,this.currentScaleMode=u.SCALE_MODES.DEFAULT,this.currentBlendMode=u.BLEND_MODES.NORMAL,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new s.Matrix,worldAlpha:1},this.resize(e,t)}var o=n(327),i=n(553),a=n(22),s=n(21),u=n(12);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,a.pluginTarget.mixin(r),r.prototype.render=function(e){var t=e.parent;this._lastObjectRendered=e,e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.currentBlendMode=u.BLEND_MODES.NORMAL,this.context.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e,this.context)},r.prototype.destroy=function(e){this.destroyPlugins(),o.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.roundPixels=!1,this.currentScaleMode=0,this.currentBlendMode=0,this.smoothProperty=null},r.prototype.renderDisplayObject=function(e,t){var n=this.context;this.context=t,e.renderCanvas(this),this.context=n},r.prototype.resize=function(e,t){o.prototype.resize.call(this,e,t),this.currentScaleMode=u.SCALE_MODES.DEFAULT,this.smoothProperty&&(this.context[this.smoothProperty]=this.currentScaleMode===u.SCALE_MODES.LINEAR)},r.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},a.canUseNewCanvasBlendModes()?(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[u.BLEND_MODES.SCREEN]="screen",this.blendModes[u.BLEND_MODES.OVERLAY]="overlay",this.blendModes[u.BLEND_MODES.DARKEN]="darken",this.blendModes[u.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[u.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[u.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[u.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[u.BLEND_MODES.HUE]="hue",this.blendModes[u.BLEND_MODES.SATURATION]="saturate",this.blendModes[u.BLEND_MODES.COLOR]="color",this.blendModes[u.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[u.BLEND_MODES.SCREEN]="source-over",this.blendModes[u.BLEND_MODES.OVERLAY]="source-over",this.blendModes[u.BLEND_MODES.DARKEN]="source-over",this.blendModes[u.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[u.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[u.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[u.BLEND_MODES.HUE]="source-over",this.blendModes[u.BLEND_MODES.SATURATION]="source-over",this.blendModes[u.BLEND_MODES.COLOR]="source-over",this.blendModes[u.BLEND_MODES.LUMINOSITY]="source-over"))}},function(e,t,n){function r(){}var o=n(161);r.prototype.constructor=r,e.exports=r,r.prototype.pushMask=function(e,t){t.context.save();var n=e.alpha,r=e.worldTransform,i=t.resolution;t.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.texture||(o.renderGraphicsMask(e,t.context),t.context.clip()),e.worldAlpha=n},r.prototype.popMask=function(e){e.context.restore()},r.prototype.destroy=function(){}},function(e,t,n){var r=n(22),o={};e.exports=o,o.getTintedTexture=function(e,t){var n=e.texture;t=o.roundColor(t);var r="#"+("00000"+(0|t).toString(16)).substr(-6);if(n.tintCache=n.tintCache||{},n.tintCache[r])return n.tintCache[r];var i=o.canvas||document.createElement("canvas");if(o.tintMethod(n,t,i),o.convertTintToImage){var a=new Image;a.src=i.toDataURL(),n.tintCache[r]=a}else n.tintCache[r]=i,o.canvas=null;return i},o.tintWithMultiply=function(e,t,n){var r=n.getContext("2d"),o=e.crop;n.width=o.width,n.height=o.height,r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,o.width,o.height),r.globalCompositeOperation="multiply",r.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},o.tintWithOverlay=function(e,t,n){var r=n.getContext("2d"),o=e.crop;n.width=o.width,n.height=o.height,r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,o.width,o.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},o.tintWithPerPixel=function(e,t,n){var o=n.getContext("2d"),i=e.crop;n.width=i.width,n.height=i.height,o.globalCompositeOperation="copy",o.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height);for(var a=r.hex2rgb(t),s=a[0],u=a[1],c=a[2],l=o.getImageData(0,0,i.width,i.height),f=l.data,p=0;p<f.length;p+=4)f[p+0]*=s,f[p+1]*=u,f[p+2]*=c;o.putImageData(l,0,0)},o.roundColor=function(e){var t=o.cacheStepsPerColorChannel,n=r.hex2rgb(e);return n[0]=Math.min(255,n[0]/t*t),n[1]=Math.min(255,n[1]/t*t),n[2]=Math.min(255,n[2]/t*t),r.rgb2hex(n)},o.cacheStepsPerColorChannel=8,o.convertTintToImage=!1,o.canUseMultiply=r.canUseNewCanvasBlendModes(),o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel},function(e,t,n){function r(e){o.call(this,e),this.currentBlendMode=99999}var o=n(65);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var t=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(t[0],t[1]),!0}},function(e,t,n){function r(e){o.call(this,e),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var o=n(65),i=n(329);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.pushMask=function(e,t){t.texture?this.pushSpriteMask(e,t):this.pushStencilMask(e,t)},r.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.popStencilMask(e,t)},r.prototype.pushSpriteMask=function(e,t){var n=this.alphaMaskPool.pop();n||(n=[new i(t)]),n[0].maskSprite=t,this.renderer.filterManager.pushFilter(e,n)},r.prototype.popSpriteMask=function(){var e=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(e)},r.prototype.pushStencilMask=function(e,t){this.renderer.stencilManager.pushMask(t)},r.prototype.popStencilMask=function(e,t){this.renderer.stencilManager.popMask(t)}},function(e,t,n){function r(e){o.call(this,e),this.stencilMaskStack=null}var o=n(65),i=n(22);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.stencilStack.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},r.prototype.pushStencil=function(e,t){this.renderer.currentRenderTarget.attachStencilBuffer();var n=this.renderer.gl,r=this.stencilMaskStack;this.bindGraphics(e,t,this.renderer),0===r.stencilStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),r.reverse=!0,r.count=0),r.stencilStack.push(t);var o=r.count;n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),1===t.mode?(n.drawElements(n.TRIANGLE_FAN,t.indices.length-4,n.UNSIGNED_SHORT,0),r.reverse?(n.stencilFunc(n.EQUAL,255-o,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,o,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(t.indices.length-4)),r.reverse?n.stencilFunc(n.EQUAL,255-(o+1),255):n.stencilFunc(n.EQUAL,o+1,255),r.reverse=!r.reverse):(r.reverse?(n.stencilFunc(n.EQUAL,o,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,255-o,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_STRIP,t.indices.length,n.UNSIGNED_SHORT,0),r.reverse?n.stencilFunc(n.EQUAL,o+1,255):n.stencilFunc(n.EQUAL,255-(o+1),255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),r.count++},r.prototype.bindGraphics=function(e,t){this._currentGraphics=e;var n,r=this.renderer.gl;1===t.mode?(n=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(n),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(n.uniforms.tint._location,i.hex2rgb(e.tint)),r.uniform3fv(n.uniforms.color._location,t.color),r.uniform1f(n.uniforms.alpha._location,e.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,8,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer)):(n=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(n),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(n.uniforms.tint._location,i.hex2rgb(e.tint)),r.uniform1f(n.uniforms.alpha._location,e.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(n.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer))},r.prototype.popStencil=function(e,t){var n=this.renderer.gl,r=this.stencilMaskStack;if(r.stencilStack.pop(),r.count--,0===r.stencilStack.length)n.disable(n.STENCIL_TEST);else{var o=r.count;this.bindGraphics(e,t,this.renderer),n.colorMask(!1,!1,!1,!1),1===t.mode?(r.reverse=!r.reverse,r.reverse?(n.stencilFunc(n.EQUAL,255-(o+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,o+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(t.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,t.indices.length-4,n.UNSIGNED_SHORT,0),r.reverse?n.stencilFunc(n.EQUAL,o,255):n.stencilFunc(n.EQUAL,255-o,255)):(r.reverse?(n.stencilFunc(n.EQUAL,o+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(o+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,t.indices.length,n.UNSIGNED_SHORT,0),r.reverse?n.stencilFunc(n.EQUAL,o,255):n.stencilFunc(n.EQUAL,255-o,255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},r.prototype.destroy=function(){o.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r.prototype.pushMask=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),e.dirty&&this.renderer.plugins.graphics.updateGraphics(e,this.renderer.gl),e._webGL[this.renderer.gl.id].data.length&&this.pushStencil(e,e._webGL[this.renderer.gl.id].data[0],this.renderer)},r.prototype.popMask=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(e,e._webGL[this.renderer.gl.id].data[0],this.renderer)}},function(e,t,n){function r(e){o.call(this,e,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var o=n(133);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){function r(e){o.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var o=n(133);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t){function n(e){this.gl=e,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,128,e.DYNAMIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),this.upload()}n.prototype.constructor=n,n.prototype.map=function(e,t){var n=0,r=0;this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.upload()},n.prototype.upload=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.bufferSubData(e.ARRAY_BUFFER,32,this.uvs),e.bufferSubData(e.ARRAY_BUFFER,64,this.colors)},e.exports=n},function(e,t){function n(){this.stencilStack=[],this.reverse=!0,this.count=0}n.prototype.constructor=n,e.exports=n},function(e,t,n){function r(e){o.call(this,e),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=a.SPRITE_BATCH_SIZE;var t=4*this.size*this.vertByteSize,n=6*this.size;this.vertices=new ArrayBuffer(t),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(n);for(var r=0,i=0;n>r;r+=6,i+=4)this.indices[r+0]=i+0,this.indices[r+1]=i+1,this.indices[r+2]=i+2,this.indices[r+3]=i+0,this.indices[r+4]=i+2,this.indices[r+5]=i+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var o=n(94),i=n(132),a=n(12);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,i.registerPlugin("sprite",r),r.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999},r.prototype.render=function(e){var t=e._texture;this.currentBatchSize>=this.size&&this.flush();var n=t._uvs;if(n){var r,o,i,a,s=e.anchor.x,u=e.anchor.y;if(t.trim){var c=t.trim;o=c.x-s*c.width,r=o+t.crop.width,a=c.y-u*c.height,i=a+t.crop.height}else r=t._frame.width*(1-s),o=t._frame.width*-s,i=t._frame.height*(1-u),a=t._frame.height*-u;var l=this.currentBatchSize*this.vertByteSize,f=e.worldTransform,p=f.a,h=f.b,d=f.c,v=f.d,m=f.tx,g=f.ty,y=this.colors,b=this.positions;this.renderer.roundPixels?(b[l]=p*o+d*a+m|0,b[l+1]=v*a+h*o+g|0,b[l+5]=p*r+d*a+m|0,b[l+6]=v*a+h*r+g|0,b[l+10]=p*r+d*i+m|0,b[l+11]=v*i+h*r+g|0,b[l+15]=p*o+d*i+m|0,b[l+16]=v*i+h*o+g|0):(b[l]=p*o+d*a+m,b[l+1]=v*a+h*o+g,b[l+5]=p*r+d*a+m,b[l+6]=v*a+h*r+g,b[l+10]=p*r+d*i+m,b[l+11]=v*i+h*r+g,b[l+15]=p*o+d*i+m,b[l+16]=v*i+h*o+g),b[l+2]=n.x0,b[l+3]=n.y0,b[l+7]=n.x1,b[l+8]=n.y1,b[l+12]=n.x2,b[l+13]=n.y2,b[l+17]=n.x3,b[l+18]=n.y3;var _=e.tint;y[l+4]=y[l+9]=y[l+14]=y[l+19]=(_>>16)+(65280&_)+((255&_)<<16)+(255*e.worldAlpha<<24),this.sprites[this.currentBatchSize++]=e}},r.prototype.flush=function(){if(0!==this.currentBatchSize){var e,t=this.renderer.gl;if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var n=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);t.bufferSubData(t.ARRAY_BUFFER,0,n)}for(var r,o,i,a,s=0,u=0,c=null,l=this.renderer.blendModeManager.currentBlendMode,f=null,p=!1,h=!1,d=0,v=this.currentBatchSize;v>d;d++)a=this.sprites[d],r=a._texture.baseTexture,o=a.blendMode,i=a.shader||this.shader,p=l!==o,h=f!==i,(c!==r||p||h)&&(this.renderBatch(c,s,u),u=d,s=0,c=r,p&&(l=o,this.renderer.blendModeManager.setBlendMode(l)),h&&(f=i,e=f.shaders?f.shaders[t.id]:f,e||(e=f.getShader(this.renderer)),this.renderer.shaderManager.setShader(e),e.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),e.syncUniforms(),t.activeTexture(t.TEXTURE0))),s++;this.renderBatch(c,s,u),this.currentBatchSize=0}},r.prototype.renderBatch=function(e,t,n){if(0!==t){var r=this.renderer.gl;e._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,e._glTextures[r.id]):this.renderer.updateTexture(e),
r.drawElements(r.TRIANGLES,6*t,r.UNSIGNED_SHORT,6*n*2),this.renderer.drawCount++}},r.prototype.start=function(){var e=this.renderer.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.vertByteSize;e.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,e.FLOAT,!1,t,0),e.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,e.FLOAT,!1,t,8),e.vertexAttribPointer(this.shader.attributes.aColor,4,e.UNSIGNED_BYTE,!0,t,16)},r.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},function(e,t,n){function r(e,t,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||u.RESOLUTION,this._text=null,this._style=null;var r=i.fromCanvas(this.canvas);r.trim=new a.Rectangle,o.call(this,r),this.text=e,this.style=t}var o=n(332),i=n(95),a=n(21),s=n(22),u=n(12);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.fontPropertiesCache={},r.fontPropertiesCanvas=document.createElement("canvas"),r.fontPropertiesContext=r.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(r.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(e){this.scale.x=e/this._texture._frame.width,this._width=e}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(e){this.scale.y=e/this._texture._frame.height,this._height=e}},style:{get:function(){return this._style},set:function(e){e=e||{},"number"==typeof e.fill&&(e.fill=s.hex2string(e.fill)),"number"==typeof e.stroke&&(e.stroke=s.hex2string(e.stroke)),"number"==typeof e.dropShadowColor&&(e.dropShadowColor=s.hex2string(e.dropShadowColor)),e.font=e.font||"bold 20pt Arial",e.fill=e.fill||"black",e.align=e.align||"left",e.stroke=e.stroke||"black",e.strokeThickness=e.strokeThickness||0,e.wordWrap=e.wordWrap||!1,e.wordWrapWidth=e.wordWrapWidth||100,e.dropShadow=e.dropShadow||!1,e.dropShadowColor=e.dropShadowColor||"#000000",e.dropShadowAngle=e.dropShadowAngle||Math.PI/6,e.dropShadowDistance=e.dropShadowDistance||5,e.padding=e.padding||0,e.textBaseline=e.textBaseline||"alphabetic",e.lineJoin=e.lineJoin||"miter",e.miterLimit=e.miterLimit||10,this._style=e,this.dirty=!0}},text:{get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}}}),r.prototype.updateText=function(){var e=this._style;this.context.font=e.font;for(var t=e.wordWrap?this.wordWrap(this._text):this._text,n=t.split(/(?:\r\n|\r|\n)/),r=new Array(n.length),o=0,i=this.determineFontProperties(e.font),a=0;a<n.length;a++){var s=this.context.measureText(n[a]).width;r[a]=s,o=Math.max(o,s)}var u=o+e.strokeThickness;e.dropShadow&&(u+=e.dropShadowDistance),this.canvas.width=(u+this.context.lineWidth)*this.resolution;var c=this.style.lineHeight||i.fontSize+e.strokeThickness,l=c*n.length;e.dropShadow&&(l+=e.dropShadowDistance),this.canvas.height=(l+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=e.font,this.context.strokeStyle=e.stroke,this.context.lineWidth=e.strokeThickness,this.context.textBaseline=e.textBaseline,this.context.lineJoin=e.lineJoin,this.context.miterLimit=e.miterLimit;var f,p;if(e.dropShadow){this.context.fillStyle=e.dropShadowColor;var h=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,d=Math.sin(e.dropShadowAngle)*e.dropShadowDistance;for(a=0;a<n.length;a++)f=e.strokeThickness/2,p=e.strokeThickness/2+a*c+i.ascent,"right"===e.align?f+=o-r[a]:"center"===e.align&&(f+=(o-r[a])/2),e.fill&&this.context.fillText(n[a],f+h,p+d+this._style.padding)}for(this.context.fillStyle=e.fill,a=0;a<n.length;a++)f=e.strokeThickness/2,p=e.strokeThickness/2+a*c+i.ascent,"right"===e.align?f+=o-r[a]:"center"===e.align&&(f+=(o-r[a])/2),e.stroke&&e.strokeThickness&&this.context.strokeText(n[a],f,p+this._style.padding),e.fill&&this.context.fillText(n[a],f,p+this._style.padding);this.updateTexture()},r.prototype.updateTexture=function(){var e=this._texture;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.crop.width=e._frame.width=this.canvas.width/this.resolution,e.crop.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=0,e.trim.y=-this._style.padding,e.trim.width=e._frame.width,e.trim.height=e._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},r.prototype.renderWebGL=function(e){this.dirty&&this.updateText(),o.prototype.renderWebGL.call(this,e)},r.prototype._renderCanvas=function(e){this.dirty&&this.updateText(),o.prototype._renderCanvas.call(this,e)},r.prototype.determineFontProperties=function(e){var t=r.fontPropertiesCache[e];if(!t){t={};var n=r.fontPropertiesCanvas,o=r.fontPropertiesContext;o.font=e;var i=Math.ceil(o.measureText("|Mq").width),a=Math.ceil(o.measureText("M").width),s=2*a;a=1.4*a|0,n.width=i,n.height=s,o.fillStyle="#f00",o.fillRect(0,0,i,s),o.font=e,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText("|Mq",0,a);var u,c,l=o.getImageData(0,0,i,s).data,f=l.length,p=4*i,h=0,d=!1;for(u=0;a>u;u++){for(c=0;p>c;c+=4)if(255!==l[h+c]){d=!0;break}if(d)break;h+=p}for(t.ascent=a-u,h=f-p,d=!1,u=s;u>a;u--){for(c=0;p>c;c+=4)if(255!==l[h+c]){d=!0;break}if(d)break;h-=p}t.descent=u-a,t.fontSize=t.ascent+t.descent,r.fontPropertiesCache[e]=t}return t},r.prototype.wordWrap=function(e){for(var t="",n=e.split("\n"),r=this._style.wordWrapWidth,o=0;o<n.length;o++){for(var i=r,a=n[o].split(" "),s=0;s<a.length;s++){var u=this.context.measureText(a[s]).width,c=u+this.context.measureText(" ").width;0===s||c>i?(s>0&&(t+="\n"),t+=a[s],i=r-u):(i-=c,t+=" "+a[s])}o<n.length-1&&(t+="\n")}return t},r.prototype.getBounds=function(e){return this.dirty&&this.updateText(),o.prototype.getBounds.call(this,e)},r.prototype.destroy=function(e){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===e?!0:e)}},function(e,t,n){function r(){var e=this;this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._emitter.listeners(a,!0)&&(e._requestId=requestAnimationFrame(e._tick)))},this._emitter=new i,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var o=n(12),i=n(58),a="tick";Object.defineProperties(r.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,o.TARGET_FPMS);this._maxElapsedMS=1/t}}}),r.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(a,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(e,t){return this._emitter.on(a,e,t),this._startIfPossible(),this},r.prototype.addOnce=function(e,t){return this._emitter.once(a,e,t),this._startIfPossible(),this},r.prototype.remove=function(e,t){return this._emitter.off(a,e,t),this._emitter.listeners(a,!0)||this._cancelIfNeeded(),this},r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.update=function(e){var t;e=e||performance.now(),t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*o.TARGET_FPMS*this.speed,this._emitter.emit(a,this.deltaTime),this.lastTime=e},e.exports=r},function(e,t,n){/**
	 * @file        Main export of the PIXI extras library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
var r=n(564),o=new r;o.autoStart=!0,e.exports={shared:o,Ticker:r}},function(e,t){function n(e){e.__plugins={},e.registerPlugin=function(t,n){e.__plugins[t]=n},e.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var t in e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}e.exports={mixin:function(e){n(e)}}},function(e,t,n){var r=n(4),o=n(344),i=n(165),a=n(335);r.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},r.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(r,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),r.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),r.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),o.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),o.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),i.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),r.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),r.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),r.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),r.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),r}}}),r.Sprite.prototype.setTexture=function(e){this.texture=e,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText.prototype.setText=function(e){this.text=e,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},r.Text.prototype.setText=function(e){this.text=e,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},r.Text.prototype.setStyle=function(e){this.style=e,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},r.Texture.prototype.setFrame=function(e){this.frame=e,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(a,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),r.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),r.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),r.SpriteMaskFilter}}}),r.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),r.utils.uid()}},function(e,t,n){function r(e,t){o.Container.call(this),t=t||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==t.tint?t.tint:16777215,align:t.align||"left",name:null,size:0},this.font=t.font,this._text=e,this.maxWidth=0,this.dirty=!1,this.updateText()}var o=n(4);r.prototype=Object.create(o.Container.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{tint:{get:function(){return this._font.tint},set:function(e){this._font.tint="number"==typeof e&&e>=0?e:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(e){e&&("string"==typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=e.length>=2?parseInt(e[0],10):r.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}}}),r.prototype.updateText=function(){for(var e=r.fonts[this._font.name],t=new o.Point,n=null,i=[],a=0,s=0,u=[],c=0,l=this._font.size/e.size,f=-1,p=0;p<this.text.length;p++){var h=this.text.charCodeAt(p);if(f=/(\s)/.test(this.text.charAt(p))?p:f,/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))u.push(a),s=Math.max(s,a),c++,t.x=0,t.y+=e.lineHeight,n=null;else if(-1!==f&&this.maxWidth>0&&t.x*l>this.maxWidth)i.splice(f,p-f),p=f,f=-1,u.push(a),s=Math.max(s,a),c++,t.x=0,t.y+=e.lineHeight,n=null;else{var d=e.chars[h];d&&(n&&d.kerning[n]&&(t.x+=d.kerning[n]),i.push({texture:d.texture,line:c,charCode:h,position:new o.Point(t.x+d.xOffset,t.y+d.yOffset)}),a=t.x+(d.texture.width+d.xOffset),t.x+=d.xAdvance,n=h)}}u.push(a),s=Math.max(s,a);var v=[];for(p=0;c>=p;p++){var m=0;"right"===this._font.align?m=s-u[p]:"center"===this._font.align&&(m=(s-u[p])/2),v.push(m)}var g=i.length,y=this.tint;for(p=0;g>p;p++){var b=this._glyphs[p];b?b.texture=i[p].texture:(b=new o.Sprite(i[p].texture),this._glyphs.push(b)),b.position.x=(i[p].position.x+v[i[p].line])*l,b.position.y=i[p].position.y*l,b.scale.x=b.scale.y=l,b.tint=y,b.parent||this.addChild(b)}for(p=g;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);this.textWidth=s*l,this.textHeight=(t.y+e.lineHeight)*l},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype.getLocalBounds=function(){return this.validate(),o.Container.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.fonts={}},function(e,t,n){function r(e){o.Sprite.call(this,e[0]),this._textures=e,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var o=n(4);r.prototype=Object.create(o.Sprite.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(e){this._textures=e,this.texture=this._textures[Math.floor(this._currentTime)%this._textures.length]}},currentFrame:{get:function(){return Math.floor(this._currentTime)%this._textures.length}}}),r.prototype.stop=function(){this.playing&&(this.playing=!1,o.ticker.shared.remove(this.update,this))},r.prototype.play=function(){this.playing||(this.playing=!0,o.ticker.shared.add(this.update,this))},r.prototype.gotoAndStop=function(e){this.stop(),this._currentTime=e;var t=Math.floor(this._currentTime);this._texture=this._textures[t%this._textures.length]},r.prototype.gotoAndPlay=function(e){this._currentTime=e,this.play()},r.prototype.update=function(e){this._currentTime+=this.animationSpeed*e;var t=Math.floor(this._currentTime);0>t?this.loop?this._texture=this._textures[this._textures.length-1+t%this._textures.length]:(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this.loop||t<this._textures.length?this._texture=this._textures[t%this._textures.length]:t>=this._textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())},r.prototype.destroy=function(){this.stop(),o.Sprite.prototype.destroy.call(this)},r.fromFrames=function(e){for(var t=[],n=0;n<e.length;++n)t.push(new o.Texture.fromFrame(e[n]));return new r(t)},r.fromImages=function(e){for(var t=[],n=0;n<e.length;++n)t.push(new o.Texture.fromImage(e[n]));return new r(t)}},function(e,t,n){function r(e,t,n){o.Sprite.call(this,e),this.tileScale=new o.Point(1,1),this.tilePosition=new o.Point(0,0),this._width=t||100,this._height=n||100,this._uvs=new o.TextureUvs,this._canvasPattern=null,this.shader=new o.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var o=n(4),i=new o.Point;r.prototype=Object.create(o.Sprite.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this._width},set:function(e){this._width=e}},height:{get:function(){return this._height},set:function(e){this._height=e}}}),r.prototype._onTextureUpdate=function(){},r.prototype._renderWebGL=function(e){var t=this._texture;if(t&&t._uvs){var n=t._uvs,r=t._frame.width,o=t._frame.height,i=t.baseTexture.width,a=t.baseTexture.height;t._uvs=this._uvs,t._frame.width=this.width,t._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/i,this.shader.uniforms.uPixelSize.value[1]=1/a,this.shader.uniforms.uFrame.value[0]=n.x0,this.shader.uniforms.uFrame.value[1]=n.y0,this.shader.uniforms.uFrame.value[2]=n.x1-n.x0,this.shader.uniforms.uFrame.value[3]=n.y2-n.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(r*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(o*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=i/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=a/this._height*this.tileScale.y,e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this),t._uvs=n,t._frame.width=r,t._frame.height=o}},r.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var n=e.context,r=this.worldTransform,i=e.resolution,a=t.baseTexture,s=this.tilePosition.x%(t._frame.width*this.tileScale.x),u=this.tilePosition.y%(t._frame.height*this.tileScale.y);if(!this._canvasPattern){var c=new o.CanvasBuffer(t._frame.width,t._frame.height);c.context.drawImage(a.source,-t._frame.x,-t._frame.y),this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),n.scale(this.tileScale.x,this.tileScale.y),n.translate(s+this.anchor.x*-this._width,u+this.anchor.y*-this._height),this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,n.globalCompositeOperation=e.blendModes[e.currentBlendMode]),n.fillStyle=this._canvasPattern,n.fillRect(-s,-u,this._width/this.tileScale.x,this._height/this.tileScale.y)}},r.prototype.getBounds=function(){var e,t,n,r,o=this._width,i=this._height,a=o*(1-this.anchor.x),s=o*-this.anchor.x,u=i*(1-this.anchor.y),c=i*-this.anchor.y,l=this.worldTransform,f=l.a,p=l.b,h=l.c,d=l.d,v=l.tx,m=l.ty,g=f*s+h*c+v,y=d*c+p*s+m,b=f*a+h*c+v,_=d*c+p*a+m,w=f*a+h*u+v,x=d*u+p*a+m,E=f*s+h*u+v,S=d*u+p*s+m;e=g,e=e>b?b:e,e=e>w?w:e,e=e>E?E:e,n=y,n=n>_?_:n,n=n>x?x:n,n=n>S?S:n,t=g,t=b>t?b:t,t=w>t?w:t,t=E>t?E:t,r=y,r=_>r?_:r,r=x>r?x:r,r=S>r?S:r;var C=this._bounds;return C.x=e,C.width=t-e,C.y=n,C.height=r-n,this._currentBounds=C,C},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,i);var t,n=this._width,r=this._height,o=-n*this.anchor.x;return i.x>o&&i.x<o+n&&(t=-r*this.anchor.y,i.y>t&&i.y<t+r)?!0:!1},r.prototype.destroy=function(){o.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},r.fromFrame=function(e,t,n){var i=o.utils.TextureCache[e];if(!i)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new r(i,t,n)},r.fromImage=function(e,t,n,i,a){return new r(o.Texture.fromImage(e,i,a),t,n)}},function(e,t,n){var r=n(4),o=r.DisplayObject,i=new r.Matrix;o.prototype._cacheAsBitmap=!1,o.prototype._originalRenderWebGL=null,o.prototype._originalRenderCanvas=null,o.prototype._originalUpdateTransform=null,o.prototype._originalHitTest=null,o.prototype._originalDestroy=null,o.prototype._cachedSprite=null,Object.defineProperties(o.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),o.prototype._renderCachedWebGL=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cachedSprite.worldAlpha=this.worldAlpha,e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this._cachedSprite))},o.prototype._initCachedDisplayObject=function(e){if(!this._cachedSprite){e.currentRenderer.flush();var t=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;t.x-=n,t.y-=n,t.width+=2*n,t.height+=2*n}var o=e.currentRenderTarget,a=e.filterManager.filterStack,s=new r.RenderTexture(e,0|t.width,0|t.height),u=i;u.tx=-t.x,u.ty=-t.y,this.renderWebGL=this._originalRenderWebGL,s.render(this,u,!0,!0),e.setRenderTarget(o),e.filterManager.filterStack=a,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(s),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},o.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(e))},o.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cachedSprite){var t=this.getLocalBounds(),n=e.context,o=new r.RenderTexture(e,0|t.width,0|t.height),a=i;a.tx=-t.x,a.ty=-t.y,this.renderCanvas=this._originalRenderCanvas,o.render(this,a,!0),e.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(o),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},o.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},o.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},o.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},function(e,t,n){var r=n(4);r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},function(e,t,n){var r=n(4);r.DisplayObject.prototype.getGlobalPosition=function(e){return e=e||new r.Point,this.parent?(this.displayObjectUpdateTransform(),e.x=this.worldTransform.tx,e.y=this.worldTransform.ty):(e.x=this.position.x,e.y=this.position.y),e}},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.uniforms.pixelSize.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this),this.blurXFilter=new i,this.blurYFilter=new a,this.defaultFilter=new o.AbstractFilter}var o=n(4),i=n(136),a=n(166);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n){var r=e.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(e,t,n),this.blurXFilter.applyFilter(e,t,r),e.blendModeManager.setBlendMode(o.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(e,r,n),e.blendModeManager.setBlendMode(o.BLEND_MODES.NORMAL),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}})},function(e,t,n){function r(e,t){o.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:e||0},dirY:{type:"1f",value:t||0}}),this.defaultFilter=new o.AbstractFilter,this.passes=1,this.dirX=e||0,this.dirY=t||0,this.strength=4}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n,r){var o=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.width/t.size.width),1===this.passes)e.filterManager.applyFilter(o,t,n,r);else{var i=e.filterManager.getRenderTarget(!0);e.filterManager.applyFilter(o,t,i,r);for(var a=0;a<this.passes-2;a++)e.filterManager.applyFilter(o,i,i,r);e.filterManager.applyFilter(o,i,n,r),e.filterManager.returnRenderTarget(i)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*e,this.strength=e}},dirX:{get:function(){return this.dirX},set:function(e){this.uniforms.dirX.value=e}},dirY:{get:function(){return this.dirY},set:function(e){this.uniforms.dirY.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this),this.blurXFilter=new i,this.blurYFilter=new a}var o=n(4),i=n(136),a=n(166);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n){var r=e.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(e,t,r),this.blurYFilter.applyFilter(e,r,n),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.padding=.5*Math.abs(e),this.blurXFilter.blur=this.blurYFilter.blur=e}},passes:{get:function(){return this.blurXFilter.passes},set:function(e){this.blurXFilter.passes=this.blurYFilter.passes=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype._loadMatrix=function(e,t){t=!!t;var n=e;t&&(this._multiply(n,this.uniforms.m.value,e),n=this._colorMatrix(n)),this.uniforms.m.value=n},r.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19],e},r.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},r.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.grayscale=r.prototype.greyscale,r.prototype.blackAndWhite=function(e){var t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),o=.213,i=.715,a=.072,s=[o+n*(1-o)+r*-o,i+n*-i+r*-i,a+n*-a+r*(1-a),0,0,o+n*-o+.143*r,i+n*(1-i)+.14*r,a+n*-a+r*-.283,0,0,o+n*-o+r*-(1-o),i+n*-i+r*i,a+n*(1-a)+r*a,0,0,0,0,0,1,0];this._loadMatrix(s,t)},r.prototype.contrast=function(e,t){var n=(e||0)+1,r=-128*(n-1),o=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(o,t)},r.prototype.saturate=function(e,t){var n=2*(e||0)/3+1,r=(n-1)*-.5,o=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(o,t)},r.prototype.desaturate=function(e){this.saturate(-1)},r.prototype.negative=function(e){var t=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.sepia=function(e){var t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.technicolor=function(e){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.polaroid=function(e){var t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.toBGR=function(e){var t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.kodachrome=function(e){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.browni=function(e){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.vintage=function(e){var t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.colorTone=function(e,t,n,r,o){e=e||.2,t=t||.15,n=n||16770432,r=r||3375104;var i=(n>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=(r>>16&255)/255,c=(r>>8&255)/255,l=(255&r)/255,f=[.3,.59,.11,0,0,i,a,s,e,0,u,c,l,t,0,i-u,a-c,s-l,0,0];this._loadMatrix(f,o)},r.prototype.night=function(e,t){e=e||.1;var n=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.lsd=function(e){var t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(e){this.uniforms.m.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(e){this.uniforms.step.value=e}}})},function(e,t,n){function r(e,t,n){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{
matrix:{type:"1fv",value:new Float32Array(e)},texelSize:{type:"v2",value:{x:1/t,y:1/n}}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(e){this.uniforms.matrix.value=new Float32Array(e)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(e){this.uniforms.texelSize.value.x=1/e}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(e){this.uniforms.texelSize.value.y=1/e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){function r(e){var t=new o.Matrix;e.renderable=!1,o.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 original =  texture2D(uSampler, vTextureCoord);\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:e.texture},otherMatrix:{type:"mat3",value:t.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=e,this.maskMatrix=t,this.scale=new o.Point(20,20)}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n){var r=e.filterManager;r.calculateMappedMatrix(t.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/t.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/t.frame.height);var o=this.getShader(e);r.applyFilter(o,t,n)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(e){this.uniforms.mapSampler.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},angle:{get:function(){return this.uniforms.angle.value},set:function(e){this.uniforms.angle.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n,r){var o=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.height/t.size.height),1===this.passes)e.filterManager.applyFilter(o,t,n,r);else{for(var i=e.filterManager.getRenderTarget(!0),a=t,s=i,u=0;u<this.passes-1;u++){e.filterManager.applyFilter(o,a,s,r);var c=s;s=a,a=c}e.filterManager.applyFilter(o,a,n,r),e.filterManager.returnRenderTarget(i)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*e,this.strength=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this),this.blurXFilter=new i,this.blurYTintFilter=new a,this.defaultFilter=new o.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=o.BLEND_MODES.MULTIPLY}var o=n(4),i=n(136),a=n(585);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n){var r=e.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(e,t,r),e.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(e,r,n),e.blendModeManager.setBlendMode(o.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(e,t,n),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYTintFilter.blur=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(e){this.blurYTintFilter.blur=e}},color:{get:function(){return o.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(e){this.blurYTintFilter.uniforms.color.value=o.utils.hex2rgb(e)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(e){this.blurYTintFilter.uniforms.alpha.value=e}},distance:{get:function(){return this._distance},set:function(e){this._dirtyPosition=!0,this._distance=e}},angle:{get:function(){return this._angle},set:function(e){this._dirtyPosition=!0,this._angle=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(e){this.uniforms.gray.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(e){this.uniforms.invert.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(e){this.uniforms.noise.value=e}}})},function(e,t,n){function r(e){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D displacementMap;\nuniform sampler2D uSampler;\n\nuniform vec4 dimensions;\n\nconst vec2 Resolution = vec2(1.0,1.0);      //resolution of screen\nuniform vec3 LightPos;    //light position, normalized\nconst vec4 LightColor = vec4(1.0, 1.0, 1.0, 1.0);      //light RGBA -- alpha is intensity\nconst vec4 AmbientColor = vec4(1.0, 1.0, 1.0, 0.5);    //ambient RGBA -- alpha is intensity\nconst vec3 Falloff = vec3(0.0, 1.0, 0.2);         //attenuation coefficients\n\nuniform vec3 LightDir; // = vec3(1.0, 0.0, 1.0);\n\nuniform vec2 mapDimensions; // = vec2(256.0, 256.0);\n\n\nvoid main(void)\n{\n    vec2 mapCords = vTextureCoord.xy;\n\n    vec4 color = texture2D(uSampler, vTextureCoord.st);\n    vec3 nColor = texture2D(displacementMap, vTextureCoord.st).rgb;\n\n\n    mapCords *= vec2(dimensions.x/512.0, dimensions.y/512.0);\n\n    mapCords.y *= -1.0;\n    mapCords.y += 1.0;\n\n    // RGBA of our diffuse color\n    vec4 DiffuseColor = texture2D(uSampler, vTextureCoord);\n\n    // RGB of our normal map\n    vec3 NormalMap = texture2D(displacementMap, mapCords).rgb;\n\n    // The delta position of light\n    // vec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\n    vec3 LightDir = vec3(LightPos.xy - (mapCords.xy), LightPos.z);\n\n    // Correct for aspect ratio\n    // LightDir.x *= Resolution.x / Resolution.y;\n\n    // Determine distance (used for attenuation) BEFORE we normalize our LightDir\n    float D = length(LightDir);\n\n    // normalize our vectors\n    vec3 N = normalize(NormalMap * 2.0 - 1.0);\n    vec3 L = normalize(LightDir);\n\n    // Pre-multiply light color with intensity\n    // Then perform 'N dot L' to determine our diffuse term\n    vec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\n\n    // pre-multiply ambient color with intensity\n    vec3 Ambient = AmbientColor.rgb * AmbientColor.a;\n\n    // calculate attenuation\n    float Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\n\n    // the calculation which brings it all together\n    vec3 Intensity = Ambient + Diffuse * Attenuation;\n    vec3 FinalColor = DiffuseColor.rgb * Intensity;\n    gl_FragColor = vColor * vec4(FinalColor, DiffuseColor.a);\n\n    // gl_FragColor = vec4(1.0, 0.0, 0.0, Attenuation); // vColor * vec4(FinalColor, DiffuseColor.a);\n\n/*\n    // normalise color\n    vec3 normal = normalize(nColor * 2.0 - 1.0);\n\n    vec3 deltaPos = vec3( (light.xy - gl_FragCoord.xy) / resolution.xy, light.z );\n\n    float lambert = clamp(dot(normal, lightDir), 0.0, 1.0);\n\n    float d = sqrt(dot(deltaPos, deltaPos));\n    float att = 1.0 / ( attenuation.x + (attenuation.y*d) + (attenuation.z*d*d) );\n\n    vec3 result = (ambientColor * ambientIntensity) + (lightColor.rgb * lambert) * att;\n    result *= color.rgb;\n\n    gl_FragColor = vec4(result, 1.0);\n*/\n}\n",{displacementMap:{type:"sampler2D",value:e},scale:{type:"2f",value:{x:15,y:15}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:1}},dimensions:{type:"4f",value:[0,0,0,0]},LightPos:{type:"3f",value:[0,1,0]}}),e.baseTexture._powerOf2=!0,e.baseTexture.hasLoaded?this.onTextureLoaded():e.baseTexture.once("loaded",this.onTextureLoaded,this)}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.displacementMap.value},set:function(e){this.uniforms.displacementMap.value=e}},scale:{get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},offset:{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.uniforms.pixelSize.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(e){this.uniforms.red.value=e}},green:{get:function(){return this.uniforms.green.value},set:function(e){this.uniforms.green.value=e}},blue:{get:function(){return this.uniforms.blue.value},set:function(e){this.uniforms.blue.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(e){this.uniforms.sepia.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(e){this.uniforms.center.value=e}},params:{get:function(){return this.uniforms.params.value},set:function(e){this.uniforms.params.value=e}},time:{get:function(){return this.uniforms.time.value},set:function(e){this.uniforms.time.value=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this),this.tiltShiftXFilter=new i,this.tiltShiftYFilter=new a}var o=n(4),i=n(337),a=n(338);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.applyFilter=function(e,t,n){var r=e.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(e,t,r),this.tiltShiftYFilter.applyFilter(e,r,n),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e}}})},function(e,t,n){function r(){o.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var o=n(4);r.prototype=Object.create(o.AbstractFilter.prototype),r.prototype.constructor=r,e.exports=r,Object.defineProperties(r.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}},radius:{get:function(){return this.uniforms.radius.value},set:function(e){this.uniforms.radius.value=e}},angle:{get:function(){return this.uniforms.angle.value},set:function(e){this.uniforms.angle.value=e}}})},function(e,t,n){function r(e,t){t=t||{},this.renderer=e,this.autoPreventDefault=void 0!==t.autoPreventDefault?t.autoPreventDefault:!0,this.interactionFrequency=t.interactionFrequency||10,this.mouse=new i,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new o.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var o=n(4),i=n(339);Object.assign(o.DisplayObject.prototype,n(340)),r.prototype.constructor=r,e.exports=r,r.prototype.setTargetElement=function(e,t){this.removeEvents(),this.interactionDOMElement=e,this.resolution=t||1,this.addEvents()},r.prototype.addEvents=function(){this.interactionDOMElement&&(o.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},r.prototype.removeEvents=function(){this.interactionDOMElement&&(o.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},r.prototype.update=function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},r.prototype.dispatchEvent=function(e,t,n){n.stopped||(n.target=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},r.prototype.mapPositionToPoint=function(e,t,n){var r=this.interactionDOMElement.getBoundingClientRect();e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)/this.resolution,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)/this.resolution},r.prototype.processInteractive=function(e,t,n,r,o){if(!t.visible)return!1;var i=t.children,a=!1;if(o=o||t.interactive,t.interactiveChildren)for(var s=i.length-1;s>=0;s--)!a&&r?a=this.processInteractive(e,i[s],n,!0,o):this.processInteractive(e,i[s],n,!1,!1);return o&&(r&&(t.hitArea?(t.worldTransform.applyInverse(e,this._tempPoint),a=t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):t.containsPoint&&(a=t.containsPoint(e))),t.interactive&&n(t,a)),a},r.prototype.onMouseDown=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},r.prototype.processMouseDown=function(e,t){var n=this.mouse.originalEvent,r=2===n.button||3===n.which;t&&(e[r?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",this.eventData))},r.prototype.onMouseUp=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},r.prototype.processMouseUp=function(e,t){var n=this.mouse.originalEvent,r=2===n.button||3===n.which,o=r?"_isRightDown":"_isLeftDown";t?(this.dispatchEvent(e,r?"rightup":"mouseup",this.eventData),e[o]&&(e[o]=!1,this.dispatchEvent(e,r?"rightclick":"click",this.eventData))):e[o]&&(e[o]=!1,this.dispatchEvent(e,r?"rightupoutside":"mouseupoutside",this.eventData))},r.prototype.onMouseMove=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},r.prototype.processMouseMove=function(e,t){this.dispatchEvent(e,"mousemove",this.eventData),this.processMouseOverOut(e,t)},r.prototype.onMouseOut=function(e){this.mouse.originalEvent=e,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},r.prototype.processMouseOverOut=function(e,t){t?(e._over||(e._over=!0,this.dispatchEvent(e,"mouseover",this.eventData)),e.buttonMode&&(this.cursor=e.defaultCursor)):e._over&&(e._over=!1,this.dispatchEvent(e,"mouseout",this.eventData))},r.prototype.onTouchStart=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,n=t.length,r=0;n>r;r++){var o=t[r],i=this.getTouchData(o);i.originalEvent=e,this.eventData.data=i,this.eventData.stopped=!1,this.processInteractive(i.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(i)}},r.prototype.processTouchStart=function(e,t){t&&(e._touchDown=!0,this.dispatchEvent(e,"touchstart",this.eventData))},r.prototype.onTouchEnd=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,n=t.length,r=0;n>r;r++){var o=t[r],i=this.getTouchData(o);i.originalEvent=e,this.eventData.data=i,this.eventData.stopped=!1,this.processInteractive(i.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(i)}},r.prototype.processTouchEnd=function(e,t){t?(this.dispatchEvent(e,"touchend",this.eventData),e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"tap",this.eventData))):e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"touchendoutside",this.eventData))},r.prototype.onTouchMove=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,n=t.length,r=0;n>r;r++){var o=t[r],i=this.getTouchData(o);i.originalEvent=e,this.eventData.data=i,this.eventData.stopped=!1,this.processInteractive(i.global,this.renderer._lastObjectRendered,this.processTouchMove,!1),this.returnTouchData(i)}},r.prototype.processTouchMove=function(e,t){t=t,this.dispatchEvent(e,"touchmove",this.eventData)},r.prototype.getTouchData=function(e){var t=this.interactiveDataPool.pop();return t||(t=new i),t.identifier=e.identifier,this.mapPositionToPoint(t.global,e.clientX,e.clientY),navigator.isCocoonJS&&(t.global.x=t.global.x/this.resolution,t.global.y=t.global.y/this.resolution),e.globalX=t.global.x,e.globalY=t.global.y,t},r.prototype.returnTouchData=function(e){this.interactiveDataPool.push(e)},r.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},o.WebGLRenderer.registerPlugin("interaction",r),o.CanvasRenderer.registerPlugin("interaction",r)},function(e,t,n){/**
	 * @file        Main export of the PIXI interactions library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
e.exports={InteractionData:n(339),InteractionManager:n(597),interactiveTarget:n(340)}},function(e,t,n){/**
	 * @file        Main export of the PIXI loaders library
	 * @author      Mat Groves <mat@goodboydigital.com>
	 * @copyright   2013-2015 GoodBoyDigital
	 * @license     {@link https://github.com/GoodBoyDigital/pixi.js/blob/master/LICENSE|MIT License}
	 */
e.exports={Loader:n(600),bitmapFontParser:n(341),spritesheetParser:n(342),textureParser:n(343),Resource:n(130).Resource}},function(e,t,n){function r(e,t){o.call(this,e,t);for(var n=0;n<r._pixiMiddleware.length;++n)this.use(r._pixiMiddleware[n]())}var o=n(130),i=n(343),a=n(342),s=n(341);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r._pixiMiddleware=[o.middleware.parsing.blob,i,a,s],r.addPixiMiddleware=function(e){r._pixiMiddleware.push(e)};var u=o.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,n){function r(e,t){o.call(this,e),this.points=t,this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length),this._ready=!0,this.refresh()}var o=n(167),i=n(4);r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e.exports=r,r.prototype.refresh=function(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){var t=this.uvs,n=this.indices,r=this.colors,o=this._texture._uvs,a=new i.Point(o.x0,o.y0),s=new i.Point(o.x2-o.x0,o.y2-o.y0);t[0]=0+a.x,t[1]=0+a.y,t[2]=0+a.x,t[3]=1*s.y+a.y,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var u,c,l,f=e.length,p=1;f>p;p++)u=e[p],c=4*p,l=p/(f-1),t[c]=l*s.x+a.x,t[c+1]=0+a.y,t[c+2]=l*s.x+a.x,t[c+3]=1*s.y+a.y,c=2*p,r[c]=1,r[c+1]=1,c=2*p,n[c]=c,n[c+1]=c+1;this.dirty=!0}},r.prototype._onTextureUpdate=function(){o.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},r.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){for(var t,n,r,o,i,a,s=e[0],u=0,c=0,l=this.vertices,f=e.length,p=0;f>p;p++)n=e[p],r=4*p,t=p<e.length-1?e[p+1]:n,c=-(t.x-s.x),u=t.y-s.y,o=10*(1-p/(f-1)),o>1&&(o=1),i=Math.sqrt(u*u+c*c),a=this._texture.height/2,u/=i,c/=i,u*=a,c*=a,l[r]=n.x+u,l[r+1]=n.y+c,l[r+2]=n.x-u,l[r+3]=n.y-c,s=n;this.containerUpdateTransform()}}},function(e,t,n){function r(e){o.ObjectRenderer.call(this,e),this.indices=new Uint16Array(15e3);for(var t=0,n=0;15e3>t;t+=6,n+=4)this.indices[t+0]=n+0,this.indices[t+1]=n+1,this.indices[t+2]=n+2,this.indices[t+3]=n+0,this.indices[t+4]=n+2,this.indices[t+5]=n+3}var o=n(4),i=n(167);r.prototype=Object.create(o.ObjectRenderer.prototype),r.prototype.constructor=r,e.exports=r,o.WebGLRenderer.registerPlugin("mesh",r),r.prototype.onContextChange=function(){},r.prototype.render=function(e){e._vertexBuffer||this._initWebGL(e);var t=this.renderer,n=t.gl,r=e._texture.baseTexture,o=t.shaderManager.plugins.meshShader,a=e.drawMode===i.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;t.blendModeManager.setBlendMode(e.blendMode),n.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),n.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,t.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform1f(o.uniforms.alpha._location,e.worldAlpha),e.dirty?(e.dirty=!1,n.bindBuffer(n.ARRAY_BUFFER,e._vertexBuffer),n.bufferData(n.ARRAY_BUFFER,e.vertices,n.STATIC_DRAW),n.vertexAttribPointer(o.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,e._uvBuffer),n.bufferData(n.ARRAY_BUFFER,e.uvs,n.STATIC_DRAW),n.vertexAttribPointer(o.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),r._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,r._glTextures[n.id]):this.renderer.updateTexture(r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e._indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.indices,n.STATIC_DRAW)):(n.bindBuffer(n.ARRAY_BUFFER,e._vertexBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,e.vertices),n.vertexAttribPointer(o.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,e._uvBuffer),n.vertexAttribPointer(o.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),r._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,r._glTextures[n.id]):this.renderer.updateTexture(r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e._indexBuffer),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.indices)),n.drawElements(a,e.indices.length,n.UNSIGNED_SHORT,0)},r.prototype._initWebGL=function(e){var t=this.renderer.gl;e._vertexBuffer=t.createBuffer(),e._indexBuffer=t.createBuffer(),e._uvBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,e.vertices,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e._uvBuffer),t.bufferData(t.ARRAY_BUFFER,e.uvs,t.STATIC_DRAW),e.colors&&(e._colorBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._colorBuffer),t.bufferData(t.ARRAY_BUFFER,e.colors,t.STATIC_DRAW)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e.indices,t.STATIC_DRAW)},r.prototype.flush=function(){},r.prototype.start=function(){var e=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(e)},r.prototype.destroy=function(){}},function(e,t,n){function r(e){o.Shader.call(this,e,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var o=n(4);r.prototype=Object.create(o.Shader.prototype),r.prototype.constructor=r,e.exports=r,o.ShaderManager.registerPlugin("meshShader",r)},function(e,t,n){Object.assign||(Object.assign=n(535))},function(e,t,n){n(604),n(606)},function(e,t){(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var n=Date.now(),r=["ms","moz","webkit","o"],o=0;o<r.length&&!e.requestAnimationFrame;++o)e.requestAnimationFrame=e[r[o]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[o]+"CancelAnimationFrame"]||e[r[o]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=16+n-t;return 0>r&&(r=0),n=t,setTimeout(function(){n=Date.now(),e(performance.now())},r)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}).call(t,function(){return this}())},function(e,t,n){e.exports=n.p+"f7c2b4b747b1a225eb8dee034134a1b0.eot"},function(e,t,n){e.exports=n.p+"f7c2b4b747b1a225eb8dee034134a1b0.eot"},function(e,t,n){e.exports=n.p+"2980083682e94d33a66eef2e7d612519.svg"},function(e,t,n){e.exports=n.p+"706450d7bba6374ca02fe167d86685cb.ttf"},function(e,t,n){e.exports=n.p+"97493d3f11c0a3bd5cbd959f5d19b699.woff2"},function(e,t,n){e.exports=n.p+"d9ee23d59d0e0e727b51368b458a0bff.woff"},function(e,t){e.exports={PARSE_APP_ID:"JPhEf2EisJuKiuSOD50p6De7ZW7iwKVPakcbMo0h",PARSE_API_KEY:"jd0W1cM8Kpn5jTBUp8emJJSimjfYmpP5o0tSpH71"}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){e.exports=function(){return new Worker(n.p+"48dd198961e359ea9435.worker.js")}},,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){a.setOptions(r({},"input.P1.keyboard."+e+"."+t,n)),c(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.setKeyCode=o;var i=n(37),a=n(172),s=new i.Action;t.selectKey=s;var u=new i.Action;t.deselectKey=u;var c=new i.Action;t.selectNextKey=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="/music";t.OFFICIAL_SERVER_URL=n},function(e,t){"use strict";function n(){return Object.keys(u)}function r(e){return s.getItem(e)||u[e]}function o(e,t){s.setItem(e,t)}function i(){return s}function a(e){s=e}Object.defineProperty(t,"__esModule",{value:!0}),t.keys=n,t.get=r,t.set=o,t.getStorage=i,t.setStorage=a;var s=localStorage,u={"player.P1.mode":"KB","input.P1.keyboard.BM.SC":"16","input.P1.keyboard.BM.SC2":"-1","input.P1.keyboard.BM.1":"90","input.P1.keyboard.BM.2":"83","input.P1.keyboard.BM.3":"88","input.P1.keyboard.BM.4":"68","input.P1.keyboard.BM.5":"67","input.P1.keyboard.BM.6":"70","input.P1.keyboard.BM.7":"86","input.P1.keyboard.KB.1":"83","input.P1.keyboard.KB.2":"68","input.P1.keyboard.KB.3":"70","input.P1.keyboard.KB.4":"32","input.P1.keyboard.KB.5":"74","input.P1.keyboard.KB.6":"75","input.P1.keyboard.KB.7":"76","player.P1.speed":"1.0","player.P1.scratch":"left","player.P1.panel":"center","player.P1.notes.mirror":"0","player.P1.notes.balance":"0","system.offset.audio-input":"0","system.offset.audio-visual":"0"};"off"===r("player.P1.scratch")&&o("player.P1.scratch","left")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(61),a=o(i),s=n(37),u=n(381),c=r(u),l=n(627),f=a["default"].update(null,[c.startLoading.bus],function(e,t){return t}),p=f.map(function(e){return e&&e.url!==l.OFFICIAL_SERVER_URL}),h=a["default"].update({loading:!0},[c.startLoading.bus],function(){return{loading:!0}},[c.finishLoading.bus],function(e,t){return{loading:!1,collection:t}},[c.errorLoading.bus],function(e,t){return{loading:!1,error:t}});t["default"]=new s.Store({server:f,collection:h,unofficial:p}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=e.map(function(e){return e.server}),n=e.map(function(e){return e.collection}),r=e.map(function(e){return e.unofficial}),o=n.map(function(e){var t=e.loading;return t}),a=function(e){return"7K"===e.keys||"5K"===e.keys},u=d["default"].constant([{title:"Custom Song",criteria:function(e){return e.custom}},{title:"Tutorial",criteria:function(e){return e.tutorial}},{title:"New Songs",criteria:function(e){return e.added&&Date.now()-Date.parse(e.added)<12096e5},sort:function(e){return e.added},reverse:!0},{title:"",criteria:function(){return!0}}]),f=d["default"].update("",[b.setFilterText.bus],function(e,t){return t}),h=d["default"].update([],[b.setCustomSong.bus],function(e,t){return[t]}),m=n.map(function(e){var t=e.collection;return p["default"](t&&t.songs||[]).sortByAll([function(e){return p["default"](e.charts).filter(a).filter(function(e){return e.info.difficulty<5}).filter(function(e){return e.info.level>0}).map(function(e){return e.info.level}).min()},function(e){return e.bpm},function(e){return e.title.toLowerCase()}]).value()}).combine(h,function(e,t){return[].concat(i(t),i(e))}).combine(f,function(e,t){return e.filter(function(e){return s(e,t)})}),y=m.combine(u,function(e,t){return l(e,t)}),_=y.map(function(e){return p["default"](e).map("songs").flatten().value()}),w=d["default"].update(0,[b.selectChart.bus],function(e,t){return t.info.level}),x=d["default"].update(null,[b.selectSong.bus],function(e,t){return t},[b.setCustomSong.bus],function(e,t){return t},[_.changes()],c),S=x.map(function(e){return e&&e.charts||[]}),C=S.map(function(e){return p["default"](e).filter(a).sortByAll(function(e){return e.info.difficulty>=5?1:0},function(e){return e.info.level}).value()}),T=w.map(function(e){return function(t){return p["default"].min(t,function(t){return Math.abs(t.info.level-e)})}}),O=d["default"].update(null,[b.selectChart.bus],function(e,t){return t},[C.changes(),T],c),A=E["default"].map(function(e){return e.mode});return d["default"].when([b.launchGame.bus,t,x,O],function(e,t,n,r){return{server:t,song:n,chart:r}}).onValue(function(e){return g.launch(e).done()}),new v.Store({loading:o,server:t,songs:_,groups:y,song:x,charts:C,chart:O,filterText:f,unofficial:r,playMode:A})}function s(e,t){return t?u(e.title,t)||u(e.artist,t)||u(e.genre,t):!0}function u(e,t){return String(e.toLowerCase()).indexOf(t.toLowerCase())>=0}function c(e,t,n){return t&&t.length&&-1===t.indexOf(e)?n?n(t):t[0]:e}function l(e,t){var n=t.map(function(e){return{input:e,output:{title:e.title,songs:[]}}}),r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=!0,l=!1,f=void 0;try{for(var h,d=n[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var v=h.value,m=v.input,g=v.output;if(m.criteria(u)){g.songs.push(u);break}}}catch(y){l=!0,f=y}finally{try{!c&&d["return"]&&d["return"]()}finally{if(l)throw f}}}}catch(y){o=!0,i=y}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}var b=!0,_=!1,w=void 0;try{for(var x,E=n[Symbol.iterator]();!(b=(x=E.next()).done);b=!0){var S=x.value,m=S.input,g=S.output;m.sort&&(g.songs=p["default"].sortBy(g.songs,m.sort)),m.reverse&&g.songs.reverse()}}catch(y){_=!0,w=y}finally{try{!b&&E["return"]&&E["return"]()}finally{if(_)throw w}}return p["default"](n).pluck("output").filter(function(e){return e.songs.length>0}).value()}Object.defineProperty(t,"__esModule",{value:!0}),t.MusicSelectStoreFactory=a;var f=n(17),p=o(f),h=n(61),d=o(h),v=n(37),m=n(650),g=r(m),y=n(404),b=r(y),_=n(629),w=o(_),x=n(177),E=o(x);t["default"]=a(w["default"])},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){return"left"===e.scratch?["SC","1","2","3","4","5","6","7"]:"right"===e.scratch?["1","2","3","4","5","6","7","SC"]:["1","2","3","4","5","6","7"]}function a(e){for(var t={},n=["1","2","3","4","5","6","7","SC","SC2"],r=0;r<n.length;r++){var o=n[r],i="input.P1.keyboard."+e.mode+"."+o;t[o]=+e.options[i]||-1}return t}function s(e){return c["default"].capitalize(d["default"](e))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(17),c=o(u),l=n(61),f=o(l),p=n(37),h=n(655),d=o(h),v=n(177),m=o(v),g=n(626),y=r(g),b=m["default"].map(i),_=m["default"].map(a),w=m["default"].map(function(e){return e.mode}),x=m["default"].map(function(e){return e.scratch}),E=_.map(function(e){return c["default"].mapValues(e,s)}),S=f["default"].update(null,[y.selectKey.bus],function(e,t){return t},[y.deselectKey.bus],function(){return null},[y.selectNextKey.bus,b],function(e,t,n){var r=n.indexOf(t);return r+1>=n.length?null:n[r+1]});t["default"]=new p.Store({mode:w,texts:E,editing:S,scratch:x,keyCodes:_}),e.exports=t["default"]},,,,,function(e,t,n){"use strict";function r(e,t,n){var r=i.getName(e)+t;throw n.length&&(r+=" Received ["+c.call(n).join(", ")+"]"),new Error(r)}function o(e,t,n,r,o,a){if("number"!=typeof a)throw new TypeError("Call id is not a number");var s=i.create(l);return s.proxy=e,s.thisValue=t,s.args=n,s.returnValue=r,s.exception=o,s.callId=a,s}var i=n(323),a=n(396),s=n(510),u=n(511),c=Array.prototype.slice,l={calledOn:function(e){return a.isMatcher(e)?e.test(this.thisValue):this.thisValue===e},calledWith:function(){for(var e=0,t=arguments.length;t>e;e+=1)if(!s(arguments[e],this.args[e]))return!1;return!0},calledWithMatch:function(){for(var e=0,t=arguments.length;t>e;e+=1){var n=this.args[e],r=arguments[e];if(!a(r).test(n))return!1}return!0},calledWithExactly:function(){return arguments.length==this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(e){return s(e,this.returnValue)},threw:function(e){return"undefined"!=typeof e&&this.exception?this.exception===e||this.exception.name===e:!!this.exception},calledWithNew:function(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(e){return this.callId<e.callId},calledAfter:function(e){return this.callId>e.callId},callArg:function(e){this.args[e]()},callArgOn:function(e,t){this.args[e].apply(t)},callArgWith:function(e){this.callArgOnWith.apply(this,[e,null].concat(c.call(arguments,1)))},callArgOnWith:function(e,t){var n=c.call(arguments,2);this.args[e].apply(t,n)},"yield":function(){this.yieldOn.apply(this,[null].concat(c.call(arguments,0)))},yieldOn:function(e){for(var t=this.args,n=0,o=t.length;o>n;++n)if("function"==typeof t[n])return void t[n].apply(e,c.call(arguments,1));r(this.proxy," cannot yield since no callback was passed.",t)},yieldTo:function(e){this.yieldToOn.apply(this,[e,null].concat(c.call(arguments,1)))},yieldToOn:function(e,t){for(var n=this.args,o=0,i=n.length;i>o;++o)if(n[o]&&"function"==typeof n[o][e])return void n[o][e].apply(t,c.call(arguments,2));r(this.proxy," cannot yield to '"+e+"' since no callback was passed.",n)},toString:function(){for(var e=this.proxy.toString()+"(",t=[],n=0,r=this.args.length;r>n;++n)t.push(u(this.args[n]));return e=e+t.join(", ")+")","undefined"!=typeof this.returnValue&&(e+=" => "+u(this.returnValue)),this.exception&&(e+=" !"+this.exception.name,this.exception.message&&(e+="("+this.exception.message+")")),e}};l.invokeCallback=l["yield"],o.toString=l.toString,e.exports=o},function(module,exports,__webpack_require__){"use strict";function spy(e,t){if(!t&&"function"==typeof e)return spy.create(e);if(!e&&!t)return spy.create(function(){});var n=e[t];return wrapMethod(e,t,spy.create(n))}function matchingFake(e,t,n){if(e)for(var r=0,o=e.length;o>r;r++)if(e[r].matches(t,n))return e[r]}function incrementCallCount(){this.called=!0,this.callCount+=1,this.notCalled=!1,this.calledOnce=1==this.callCount,this.calledTwice=2==this.callCount,this.calledThrice=3==this.callCount}function createCallProperties(){this.firstCall=this.getCall(0),this.secondCall=this.getCall(1),this.thirdCall=this.getCall(2),this.lastCall=this.getCall(this.callCount-1),this.calledWithNew=!!(this.calledWithNew||this.lastCall&&this.lastCall.calledWithNew())}function createProxy(func){var p;return func.length?eval("p = (function proxy("+vars.substring(0,2*func.length-1)+") { return p.invoke(func, this, slice.call(arguments)); });"):p=function(){return p.invoke(func,this,slice.call(arguments))},p}function delegateToCalls(e,t,n,r){spyApi[e]=function(){if(!this.called)return r?r.apply(this,arguments):!1;for(var o,i=0,a=0,s=this.callCount;s>a;a+=1)if(o=this.getCall(a),o[n||e].apply(o,arguments)&&(i+=1,t))return!0;return i===this.callCount}}var timesInWords=__webpack_require__(639),wrapMethod=__webpack_require__(640),fn=__webpack_require__(323),extend=__webpack_require__(371),spyCall=__webpack_require__(636),deepEqual=__webpack_require__(510),format=__webpack_require__(511),push=Array.prototype.push,slice=Array.prototype.slice,callId=0,vars="a,b,c,d,e,f,g,h,i,j,k,l",uuid=0,spyApi={reset:function(){if(this.invoking){var e=new Error("Cannot reset Sinon function while invoking it. Move the call to .reset outside of the callback.");throw e.name="InvalidResetException",e}if(this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.calledWithNew=!1,this.args=[],this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.fakes)for(var t=0;t<this.fakes.length;t++)this.fakes[t].reset()},create:function(e){var t;"function"!=typeof e?e=function(){}:t=fn.getName(e);var n=createProxy(e);return extend(n,spy),delete n.create,extend(n,e),n.reset(),n.prototype=e.prototype,n.displayName=t||"spy",n.toString=fn.toString,n.instantiateFake=spy.create,n.id="spy#"+uuid++,n},invoke:function(e,t,n){var r,o,i=matchingFake(this.fakes,n);incrementCallCount.call(this),push.call(this.thisValues,t),push.call(this.args,n),push.call(this.callIds,callId++),createCallProperties.call(this);try{this.invoking=!0,o=i?i.invoke(e,t,n):(this.func||e).apply(t,n);var a=this.getCall(this.callCount-1);a.calledWithNew()&&"object"!=typeof o&&(o=t)}catch(s){r=s}finally{delete this.invoking}if(push.call(this.exceptions,r),push.call(this.returnValues,o),createCallProperties.call(this),void 0!==r)throw r;return o},named:function(e){return this.displayName=e,this},getCall:function(e){return 0>e||e>=this.callCount?null:spyCall(this,this.thisValues[e],this.args[e],this.returnValues[e],this.exceptions[e],this.callIds[e])},getCalls:function(){var e,t=[];for(e=0;e<this.callCount;e++)t.push(this.getCall(e));return t},calledBefore:function(e){return this.called?e.called?this.callIds[0]<e.callIds[e.callIds.length-1]:!0:!1},calledAfter:function(e){return this.called&&e.called?this.callIds[this.callCount-1]>e.callIds[e.callCount-1]:!1},withArgs:function(){var e=slice.call(arguments);if(this.fakes){var t=matchingFake(this.fakes,e,!0);if(t)return t}else this.fakes=[];var n=this,r=this.instantiateFake();r.matchingAguments=e,r.parent=this,push.call(this.fakes,r),r.withArgs=function(){return n.withArgs.apply(n,arguments)};for(var o=0;o<this.args.length;o++)r.matches(this.args[o])&&(incrementCallCount.call(r),push.call(r.thisValues,this.thisValues[o]),push.call(r.args,this.args[o]),push.call(r.returnValues,this.returnValues[o]),push.call(r.exceptions,this.exceptions[o]),push.call(r.callIds,this.callIds[o]));return createCallProperties.call(r),r},matches:function(e,t){var n=this.matchingAguments;return n.length<=e.length&&deepEqual(n,e.slice(0,n.length))?!t||n.length==e.length:void 0},printf:function(e){var t,n=this,r=slice.call(arguments,1);return(e||"").replace(/%(.)/g,function(e,o){if(t=spyApi.formatters[o],"function"==typeof t)return t.call(null,n,r);if(!isNaN(parseInt(o,10))){var i=r[o-1];return format(i)}return"%"+o})}};delegateToCalls("calledOn",!0),delegateToCalls("alwaysCalledOn",!1,"calledOn"),delegateToCalls("calledWith",!0),delegateToCalls("calledWithMatch",!0),delegateToCalls("alwaysCalledWith",!1,"calledWith"),delegateToCalls("alwaysCalledWithMatch",!1,"calledWithMatch"),delegateToCalls("calledWithExactly",!0),delegateToCalls("alwaysCalledWithExactly",!1,"calledWithExactly"),delegateToCalls("neverCalledWith",!1,"notCalledWith",function(){return!0}),delegateToCalls("neverCalledWithMatch",!1,"notCalledWithMatch",function(){return!0}),delegateToCalls("threw",!0),delegateToCalls("alwaysThrew",!1,"threw"),delegateToCalls("returned",!0),delegateToCalls("alwaysReturned",!1,"returned"),delegateToCalls("alwaysCalledWithNew",!1,"calledWithNew"),delegateToCalls("callArg",!1,"callArgWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgWith=spyApi.callArg,delegateToCalls("callArgOn",!1,"callArgOnWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgOnWith=spyApi.callArgOn,delegateToCalls("yield",!1,"yield",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),spyApi.invokeCallback=spyApi["yield"],delegateToCalls("yieldOn",!1,"yieldOn",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),delegateToCalls("yieldTo",!1,"yieldTo",function(e){throw new Error(this.toString()+" cannot yield to '"+e+"' since it was not yet invoked.")}),delegateToCalls("yieldToOn",!1,"yieldToOn",function(e){throw new Error(this.toString()+" cannot yield to '"+e+"' since it was not yet invoked.")}),spyApi.formatters={c:function(e){return timesInWords(e.callCount)},n:function(e){return e.toString()},C:function(e){for(var t=[],n=0,r=e.callCount;r>n;++n){var o="    "+e.getCall(n).toString();/\n/.test(t[n-1])&&(o="\n"+o),push.call(t,o)}return t.length>0?"\n"+t.join("\n"):""},t:function(e){for(var t=[],n=0,r=e.callCount;r>n;++n)push.call(t,format(e.thisValues[n]));return t.join(", ")},"*":function(e,t){for(var n=[],r=0,o=t.length;o>r;++r)push.call(n,format(t[r]));return n.join(", ")}},extend(spy,spyApi),module.exports=spy},function(e,t,n){"use strict";function r(e,t,n){if(n&&"function"!=typeof n)throw new TypeError("Custom stub should be function");var o;if(o=n?s(n):r.create(),!e&&void 0===t)return r.create();if(void 0===t&&"object"==typeof e){for(var i in e)"function"==typeof e[i]&&r(e,i);return e}return u(e,t,o)}function o(e){return e.defaultBehavior||i(e)||c.create(e)}function i(e){return e.parent&&a(e.parent)}function a(e){var t=e.behaviors[e.callCount-1];return t&&t.isPresent()?t:o(e)}var s=n(637),u=n(640),c=n(1020),l=n(371),f=n(323),p=0,h={create:function(){var e=function(){return a(e).invoke(this,arguments)};e.id="stub#"+p++;var t=e;return e=s(e),e.func=t,l(e,r),e.instantiateFake=r.create,e.displayName="stub",e.toString=f.toString,e.defaultBehavior=null,e.behaviors=[],e},resetBehavior:function(){var e;if(this.defaultBehavior=null,this.behaviors=[],delete this.returnValue,delete this.returnArgAt,this.returnThis=!1,this.fakes)for(e=0;e<this.fakes.length;e++)this.fakes[e].resetBehavior()},onCall:function(e){return this.behaviors[e]||(this.behaviors[e]=c.create(this)),this.behaviors[e]},onFirstCall:function(){return this.onCall(0)},onSecondCall:function(){return this.onCall(1)},onThirdCall:function(){return this.onCall(2)}};for(var d in c)c.hasOwnProperty(d)&&!h.hasOwnProperty(d)&&"create"!=d&&"withArgs"!=d&&"invoke"!=d&&(h[d]=function(e){return function(){return this.defaultBehavior=this.defaultBehavior||c.create(this),this.defaultBehavior[e].apply(this.defaultBehavior,arguments),this}}(d));l(r,h),e.exports=r},function(e,t){"use strict";e.exports=function(e){switch(e){case 1:return"once";case 2:return"twice";case 3:return"thrice";default:return(e||0)+" times"}}},function(e,t){"use strict";function n(e,t){for(var n in t)o.call(e,n)||(e[n]=t[n])}function r(e){return"function"==typeof e||!!(e&&e.constructor&&e.call&&e.apply)}var o=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){if(!e)throw new TypeError("Should wrap property of object");if("function"!=typeof i)throw new TypeError("Method wrapper should be function");var a,s=e[t];if(r(s)){if(s.restore&&s.restore.sinon)a=new TypeError("Attempted to wrap "+t+" which is already wrapped");else if(s.calledBefore){var u=s.returns?"stubbed":"spied on";a=new TypeError("Attempted to wrap "+t+" which is already "+u)}}else a=new TypeError("Attempted to wrap "+typeof s+" property "+t+" as function");if(a)throw s&&s.stackTrace&&(a.stack+="\n--------------\n"+s.stackTrace),a;var c=e.hasOwnProperty?e.hasOwnProperty(t):o.call(e,t);return e[t]=i,i.displayName=t,i.stackTrace=new Error("Stack Trace for original").stack,i.restore=function(){c||delete e[t],e[t]===i&&(e[t]=s)},i.restore.sinon=!0,n(i,s),i}},,,,,,,,,function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return e.md5+" "+[e.info.title].concat(n(e.info.subtitles)).join(" ")}function o(e,t){a("send","event","song","play",e.title),a("send","event","game","start",r(t),t.info.level)}function i(e,t,n){var o=n.player(n.game.players[0]);a("send","event","song","finish",e.title),a("send","event","game","finish",r(t),o.stats.score)}Object.defineProperty(t,"__esModule",{value:!0}),t.gameStart=o,t.gameFinish=i;var a=window.ga||function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];console.log.apply(console,["[log]"].concat(t))}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.server,n=e.song,r=e.chart;return c["default"](regeneratorRuntime.mark(function o(){var e,i,s,u,c,f,h,v,g,b,w,E,C;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(p["default"].enabled&&!U.shouldDisableFullScreen()&&(e=/Safari/.test(navigator.userAgent)&&!/Chrom/.test(navigator.userAgent),e||p["default"].request()),i=I["default"].get(),s=i.options,u={},!n.resources){o.next=11;break}return u.assets=n.resources,o.next=8,n.resources.file(r.file);case 8:u.bms=o.sent,o.next=15;break;case 11:c=t.url+"/"+n.path+"/"+encodeURIComponent(r.file),f=l.resolve(c,"assets/"),u.bms=new _["default"](c),u.assets=new x["default"](f);case 15:return u.options={audioInputLatency:+m["default"].latency||0,tutorial:n.tutorial,players:[{speed:+s["player.P1.speed"]||1,autoplay:!1,placement:s["player.P1.panel"],scratch:i.scratch,input:{keyboard:L["default"].get().keyCodes}}]},h=S.load(u),v=h.tasks,g=h.promise,b=d["default"].createElement(A["default"],{tasks:v,song:r.info}),o.next=22,y["default"].push(b);case 22:return N.gameStart(n,r),o.next=25,g;case 25:return w=o.sent,o.next=28,y["default"].display(new T["default"](w.display));case 28:return w.start(),o.next=31,w.promise;case 31:if(E=o.sent,N.gameFinish(n,r,E),C=E.player(E.game.players[0]),R.setOptions({"player.P1.speed":C.speed}),!E.finished){o.next=38;break}return o.next=38,a(C,r);case 38:return w.destroy(),o.next=41,y["default"].pop();case 41:case"end":return o.stop()}},o,this)}))}function a(e,t){return new Promise(function(n){var r=e.stats,o="off"===e.player.options.scratch?"KB":"BM",i={result:{1:r.counts[1],2:r.counts[2],3:r.counts[3],4:r.counts[4],missed:r.counts[B.MISSED],score:r.score,maxCombo:r.maxCombo,accuracy:r.accuracy,totalCombo:r.totalCombo,log:r.log,grade:s(r)},chart:t,playMode:o,onExit:n};y["default"].display(d["default"].createElement(j["default"],i)).done()})}function s(e){var t=e.score;return 3e5>t?"F":35e4>t?"D":4e5>t?"C":45e4>t?"B":5e5>t?"A":"S"}Object.defineProperty(t,"__esModule",{value:!0}),t.launch=i;var u=n(45),c=o(u),l=n(91),f=n(657),p=o(f),h=n(3),d=o(h),v=n(154),m=o(v),g=n(139),y=o(g),b=n(425),_=o(b),w=n(392),x=o(w),E=n(417),S=r(E),C=n(413),T=o(C),O=n(422),A=o(O),k=n(408),j=o(k),P=n(649),N=r(P),M=n(172),R=r(M),D=n(177),I=o(D),F=n(631),L=o(F),B=n(64),U=n(151)},,,function(e,t,n){function r(e,t,n,r){var i={showHidden:t,seen:[],stylize:function(e){return e}};return o(i,e,"undefined"==typeof n?2:n)}function o(e,n,r){if(n&&"function"==typeof n.inspect&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var d=n.inspect(r);return"string"!=typeof d&&(d=o(e,d,r)),d}var b=i(e,n);if(b)return b;if(y(n)){if("outerHTML"in n)return n.outerHTML;try{if(document.xmlVersion){var _=new XMLSerializer;return _.serializeToString(n)}var w="http://www.w3.org/1999/xhtml",x=document.createElementNS(w,"_");return x.appendChild(n.cloneNode(!1)),html=x.innerHTML.replace("><",">"+n.innerHTML+"<"),x.innerHTML="",html}catch(E){}}var S=g(n),C=e.showHidden?m(n):S;if(0===C.length||h(n)&&(1===C.length&&"stack"===C[0]||2===C.length&&"description"===C[0]&&"stack"===C[1])){if("function"==typeof n){var T=v(n),O=T?": "+T:"";return e.stylize("[Function"+O+"]","special")}if(f(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(p(n))return e.stylize(Date.prototype.toUTCString.call(n),"date");if(h(n))return a(n)}var A="",k=!1,j=["{","}"];if(l(n)&&(k=!0,j=["[","]"]),"function"==typeof n){var T=v(n),O=T?": "+T:"";A=" [Function"+O+"]"}if(f(n)&&(A=" "+RegExp.prototype.toString.call(n)),p(n)&&(A=" "+Date.prototype.toUTCString.call(n)),h(n))return a(n);if(0===C.length&&(!k||0==n.length))return j[0]+A+j[1];if(0>r)return f(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var P;return P=k?s(e,n,r,S,C):C.map(function(t){return u(e,n,r,S,t,k)}),e.seen.pop(),c(P,A,j)}function i(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");
case"number":return 0===t&&1/t===-(1/0)?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean")}return null===t?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function s(e,t,n,r,o){for(var i=[],a=0,s=t.length;s>a;++a)Object.prototype.hasOwnProperty.call(t,String(a))?i.push(u(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(u(e,t,n,r,o,!0))}),i}function u(e,t,n,r,i,a){var s,u;if(t.__lookupGetter__&&(t.__lookupGetter__(i)?u=t.__lookupSetter__(i)?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.__lookupSetter__(i)&&(u=e.stylize("[Setter]","special"))),r.indexOf(i)<0&&(s="["+i+"]"),u||(e.seen.indexOf(t[i])<0?(u=null===n?o(e,t[i],null):o(e,t[i],n-1),u.indexOf("\n")>-1&&(u=a?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),"undefined"==typeof s){if(a&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function c(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function l(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===d(e)}function f(e){return"object"==typeof e&&"[object RegExp]"===d(e)}function p(e){return"object"==typeof e&&"[object Date]"===d(e)}function h(e){return"object"==typeof e&&"[object Error]"===d(e)}function d(e){return Object.prototype.toString.call(e)}var v=n(697),m=n(895),g=n(892);e.exports=r;var y=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}},,function(e,t){t=e.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return i[e];var o=String(e),a=n[o.toLowerCase()];if(a)return a;var a=r[o.toLowerCase()];return a?a:1===o.length?o.charCodeAt(0):void 0};var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(o=97;123>o;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;58>o;o++)n[o-48]=o;for(o=1;13>o;o++)n["f"+o]=o+111;for(o=0;10>o;o++)n["numpad "+o]=o+96;var i=t.names=t.title={};for(o in n)i[n[o]]=o;for(var a in r)n[a]=r[a]},,function(e,t){/*!
	* screenfull
	* v2.0.0 - 2014-12-22
	* (c) Sindre Sorhus; MIT License
	*/
!function(){"use strict";var t="undefined"!=typeof e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};o>r;r++)if(e=n[r],e&&e[1]in document){for(r=0,t=e.length;t>r;r++)i[n[0][r]]=e[r];return i}return!1}(),o={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:r};return r?(Object.defineProperties(o,{isFullscreen:{get:function(){return!!document[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[r.fullscreenEnabled]}}}),void(t?e.exports=o:window.screenfull=o)):void(t?e.exports=!1:window.screenfull=!1)}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){i(),a(),s()}function i(){var t=document.createElement("div");t.id="mocha",document.body.appendChild(t),mocha.setup("bdd"),c["default"].use(f["default"]),c["default"].use(h["default"]),e.expect=c["default"].expect,e.sinon=v["default"]}function a(){var e=n(1070),t=!0,r=!1,o=void 0;try{for(var i,a=e.keys()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;e(s)}}catch(u){r=!0,o=u}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw o}}}function s(){var e=[];mocha.run().on("test end",function(e){e.err&&(console.log("%cFailed Spec: %c%s\n %c%s","color: black; font: 16px sans-serif","color: black; font: bold 16px sans-serif",e.title,"color: red; font: bold 1em sans-serif",e.err.message),console.error(e.err.stack))}).on("test end",function(t){"passed"===t.state?e.push({fullName:t.title,status:"passed"}):t.pending?e.push({fullName:t.title,status:"pending"}):e.push({fullName:t.title,status:"failed",failedExpectations:[{message:t.err.message,stack:t.err.stack}]})}).on("suite end",function(t){if(t.root){var n=window.__coverage__||null,r=JSON.stringify({specs:e,coverage:n}),o=new XMLHttpRequest;o.open("POST","/api/test",!0),o.setRequestHeader("Content-Type","application/json"),o.send(r)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.main=o,n(1015),n(1062),n(1064);var u=n(882),c=r(u),l=n(881),f=r(l),p=n(1017),h=r(p),d=n(1018),v=r(d)}).call(t,function(){return this}())},,function(e,t){/*!
	 * Chai - getActual utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t){return t.length>4?t[4]:e._obj}},function(e,t){/*!
	 * Chai - getName utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e){if(e.name)return e.name;var t=/^\s?function ([^(]*)\(/.exec(e);return t&&t[1]?t[1]:""}},function(e,t,n){/*!
	 * ## parsePath(path)
	 *
	 * Helper function used to parse string object
	 * paths. Use in conjunction with `_getPathValue`.
	 *
	 *      var parsed = parsePath('myobject.property.subprop');
	 *
	 * ### Paths:
	 *
	 * * Can be as near infinitely deep and nested
	 * * Arrays are also valid using the formal `myobject.document[3].property`.
	 * * Literal dots and brackets (not delimiter) must be backslash-escaped.
	 *
	 * @param {String} path
	 * @returns {Object} parsed
	 * @api private
	 */
function r(e){var t=e.replace(/([^\\])\[/g,"$1.["),n=t.match(/(\\\.|[^.]+?)+/g);return n.map(function(e){var t=/^\[(\d+)\]$/,n=t.exec(e);return n?{i:parseFloat(n[1])}:{p:e.replace(/\\([.\[\]])/g,"$1")}})}/*!
	 * ## _getPathValue(parsed, obj)
	 *
	 * Helper companion function for `.parsePath` that returns
	 * the value located at the parsed address.
	 *
	 *      var value = getPathValue(parsed, obj);
	 *
	 * @param {Object} parsed definition from `parsePath`.
	 * @param {Object} object to search against
	 * @param {Number} object to search against
	 * @returns {Object|Undefined} value
	 * @api private
	 */
function o(e,t,n){var r,o=t;n=void 0===n?e.length:n;for(var i=0,a=n;a>i;i++){var s=e[i];o?("undefined"!=typeof s.p?o=o[s.p]:"undefined"!=typeof s.i&&(o=o[s.i]),i==a-1&&(r=o)):r=void 0}return r}/*!
	 * Chai - getPathInfo utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var i=n(699);e.exports=function(e,t){var n=r(e),a=n[n.length-1],s={parent:n.length>1?o(n,t,n.length-1):t,name:a.p||a.i,value:o(n,t)};return s.exists=i(s.name,s.parent),s}},function(e,t,n){/*!
	 * Chai - hasProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=n(702),o={number:Number,string:String};e.exports=function(e,t){var n=r(t);return"null"===n||"undefined"===n?!1:(o[n]&&"object"!=typeof t&&(t=new o[n](t)),e in t)}},function(e,t,n){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=n(653),o=n(439);e.exports=function(e){var t=r(e),n=Object.prototype.toString.call(e);if(o.truncateThreshold&&t.length>=o.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){var i=Object.keys(e),a=i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", ");return"{ Object ("+a+") }"}return t}return t}},function(e,t){/*!
	 * Chai - transferFlags utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var o in r)(n||"object"!==o&&"ssfi"!==o&&"message"!=o)&&(t.__flags[o]=r[o])}},function(e,t,n){e.exports=n(906)},,,,,,function(e,t,n){"use strict";function r(e){return e.fakes||(e.fakes=[]),e.fakes}function o(e,t){for(var n=r(e),o=0,i=n.length;i>o;o+=1)"function"==typeof n[o][t]&&n[o][t]()}function i(e){for(var t=r(e),n=0;n<t.length;)t.splice(n,1)}var a=n(637),s=n(638),u=n(711),c=[].push,l=Object.prototype.hasOwnProperty;e.exports={verify:function(){o(this,"verify")},restore:function(){o(this,"restore"),i(this)},reset:function(){o(this,"reset")},verifyAndRestore:function(){var e;try{this.verify()}catch(t){e=t}if(this.restore(),e)throw e},add:function(e){return c.call(r(this),e),e},spy:function(){return this.add(a.apply(null,arguments))},stub:function(e,t,n){if(t){var r=e[t];if("function"!=typeof r){if(!l.call(e,t))throw new TypeError("Cannot stub non-existent own property "+t);return e[t]=n,this.add({restore:function(){e[t]=r}})}}if(!t&&e&&"object"==typeof e){var o=s.apply(null,arguments);for(var i in o)"function"==typeof o[i]&&this.add(o[i]);return o}return this.add(s.apply(null,arguments))},mock:function(){return this.add(u.apply(null,arguments))},inject:function(e){var t=this;return e.spy=function(){return t.spy.apply(t,arguments)},e.stub=function(){return t.stub.apply(t,arguments)},e.mock=function(){return t.mock.apply(t,arguments)},e}}},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;t.defaultConfig={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},t.getConfig=function(e){var r={};e=e||{};var o=t.defaultConfig;for(var i in o)n.call(o,i)&&(r[i]=n.call(e,i)?e[i]:o[i]);return r}},function(e,t,n){"use strict";function r(e){var t="number"==typeof e.minCalls;return!t||e.callCount>=e.minCalls}function o(e){return"number"!=typeof e.maxCalls?!1:e.callCount===e.maxCalls}function i(e,t){return d&&d.isMatcher(e)?e.test(t):!0}function a(e){return 0==e?"never called":"called "+v(e)}function s(e){var t=e.minCalls,n=e.maxCalls;if("number"==typeof t&&"number"==typeof n){var r=v(t);return t!==n&&(r="at least "+r+" and at most "+v(n)),r}return"number"==typeof t?"at least "+v(t):"at most "+v(n)}var u=n(371),c=n(638),l=n(637),f=n(511),p=n(510),h=n(636),d=n(396),v=n(639),m=Array.prototype.push,g=Array.prototype.slice;e.exports={minCalls:1,maxCalls:1,create:function(t){var n=u(c(),e.exports);return delete n.create,n.method=t,n},invoke:function(e,t,n){return this.verifyCallAllowed(t,n),l.invoke.apply(this,arguments)},atLeast:function(e){if("number"!=typeof e)throw new TypeError("'"+e+"' is not number");return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=e,this},atMost:function(e){if("number"!=typeof e)throw new TypeError("'"+e+"' is not number");return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=e,this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(e){if("number"!=typeof e)throw new TypeError("'"+e+"' is not a number");return this.atLeast(e),this.atMost(e)},met:function(){return!this.failed&&r(this)},verifyCallAllowed:function(t,n){if(o(this)&&(this.failed=!0,e.exports.fail(this.method+" already called "+v(this.maxCalls))),"expectedThis"in this&&this.expectedThis!==t&&e.exports.fail(this.method+" called with "+t+" as thisValue, expected "+this.expectedThis),"expectedArguments"in this){n||e.exports.fail(this.method+" received no arguments, expected "+f(this.expectedArguments)),n.length<this.expectedArguments.length&&e.exports.fail(this.method+" received too few arguments ("+f(n)+"), expected "+f(this.expectedArguments)),this.expectsExactArgCount&&n.length!==this.expectedArguments.length&&e.exports.fail(this.method+" received too many arguments ("+f(n)+"), expected "+f(this.expectedArguments));for(var r=0,a=this.expectedArguments.length;a>r;r+=1)i(this.expectedArguments[r],n[r])||e.exports.fail(this.method+" received wrong arguments "+f(n)+", didn't match "+this.expectedArguments.toString()),p(this.expectedArguments[r],n[r])||e.exports.fail(this.method+" received wrong arguments "+f(n)+", expected "+f(this.expectedArguments))}},allowsCall:function(e,t){if(this.met()&&o(this))return!1;if("expectedThis"in this&&this.expectedThis!==e)return!1;if(!("expectedArguments"in this))return!0;if(t=t||[],t.length<this.expectedArguments.length)return!1;if(this.expectsExactArgCount&&t.length!=this.expectedArguments.length)return!1;for(var n=0,r=this.expectedArguments.length;r>n;n+=1){if(!i(this.expectedArguments[n],t[n]))return!1;if(!p(this.expectedArguments[n],t[n]))return!1}return!0},withArgs:function(){return this.expectedArguments=g.call(arguments),this},withExactArgs:function(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function(e){return this.expectedThis=e,this},toString:function(){var e=(this.expectedArguments||[]).slice();this.expectsExactArgCount||m.call(e,"[...]");var t=h.toString.call({proxy:this.method||"anonymous mock expectation",args:e}),n=t.replace(", [...","[, ...")+" "+s(this);return this.met()?"Expectation met: "+n:"Expected "+n+" ("+a(this.callCount)+")"},verify:function(){return this.met()?e.exports.pass(this.toString()):e.exports.fail(this.toString()),!0},pass:function(e){},fail:function(e){var t=new Error(e);throw t.name="ExpectationError",t}}},function(e,t,n){"use strict";function r(e){return e?r.create(e):i.create("Anonymous mock")}function o(e,t){if(e)for(var n=0,r=e.length;r>n;n+=1)t(e[n])}var i=n(710),a=n(371),s=n(640),u=n(636),c=Array.prototype.push;e.exports=a(r,{create:function(e){if(!e)throw new TypeError("object is null");var t=a({},r);return t.object=e,delete t.create,t},expects:function(e){if(!e)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[]),!this.expectations[e]){this.expectations[e]=[];var t=this;s(this.object,e,function(){return t.invokeMethod(e,this,arguments)}),c.call(this.proxies,e)}var n=i.create(e);return c.call(this.expectations[e],n),n},restore:function(){var e=this.object;o(this.proxies,function(t){"function"==typeof e[t].restore&&e[t].restore()})},verify:function(){var e=this.expectations||{},t=[],n=[];return o(this.proxies,function(r){o(e[r],function(e){e.met()?c.call(n,e.toString()):c.call(t,e.toString())})}),this.restore(),t.length>0?i.fail(t.concat(n).join("\n")):n.length>0&&i.pass(t.concat(n).join("\n")),!0},invokeMethod:function(e,t,n){var r,o=this.expectations&&this.expectations[e],a=o&&o.length||0;for(r=0;a>r;r+=1)if(!o[r].met()&&o[r].allowsCall(t,n))return o[r].apply(t,n);var s,l=[],f=0;for(r=0;a>r;r+=1)o[r].allowsCall(t,n)?s=s||o[r]:f+=1,c.call(l,"    "+o[r].toString());return 0===f?s.apply(t,n):(l.unshift("Unexpected call: "+u.toString.call({proxy:e,args:n})),void i.fail(l.join("\n")))}})},function(e,t,n){"use strict";function r(e,t,n,r){r&&(!t.injectInto||n in t.injectInto?l.call(e.args,r):(t.injectInto[n]=r,e.injectedKeys.push(n)))}function o(t){var n=i.create(e.exports);return t.useFakeServer&&("object"==typeof t.useFakeServer&&(n.serverPrototype=t.useFakeServer),n.useFakeServer()),t.useFakeTimers&&("object"==typeof t.useFakeTimers?n.useFakeTimers.apply(n,t.useFakeTimers):n.useFakeTimers()),n}var i=n(323),a=n(371),s=n(708),u=n(1025),c=n(396),l=[].push;e.exports=a(i.create(s),{useFakeTimers:function(){return this.clock=u.apply(null,arguments),this.add(this.clock)},serverPrototype:{},useFakeServer:function(){var e=this.serverPrototype||sinon.fakeServer;return e&&e.create?(this.server=e.create(),this.add(this.server)):null},inject:function(e){return s.inject.call(this,e),this.clock&&(e.clock=this.clock),this.server&&(e.server=this.server,e.requests=this.server.requests),e.match=c,e},restore:function(){s.restore.apply(this,arguments),this.restoreContext()},restoreContext:function(){if(this.injectedKeys){for(var e=0,t=this.injectedKeys.length;t>e;e++)delete this.injectInto[this.injectedKeys[e]];this.injectedKeys=[]}},create:function(t){if(!t)return i.create(e.exports);var n=o(t);n.args=n.args||[],n.injectedKeys=[],n.injectInto=t.injectInto;var a,s,u=n.inject({});if(t.properties)for(var c=0,l=t.properties.length;l>c;c++)a=t.properties[c],s=u[a]||"sandbox"==a&&n,r(n,t,a,s);else r(n,t,"sandbox",s);return n},match:c})},function(e,t,n){"use strict";function r(e){function t(){var t=o.getConfig(o.config);t.injectInto=t.injectIntoThis&&this||t.injectInto;var n,r,a=i(t),s=!1,u=Array.prototype.slice.call(arguments);if(u.length>0&&"function"==typeof u[arguments.length-1]){var c=u[arguments.length-1];u[arguments.length-1]=function(e){if(e)throw a.restore(),n;a.verifyAndRestore(),c(e)},s=!0}var l=u.concat(a.args);try{r=e.apply(this,l)}catch(f){n=f}if(!s){if("undefined"!=typeof n)throw a.restore(),n;a.verifyAndRestore()}return r}var n=typeof e;if("function"!==n)throw new TypeError("sinon.test needs to wrap a test function, got "+n);return e.length?function(e){return t.apply(this,arguments)}:t}var o=n(709),i=n(712).create;r.config={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},e.exports=r},function(e,t){"use strict";e.exports=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1).toLowerCase()}},function(e,t,n){var r,o;(n(377)&&function(i){r=i,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}||"object"==typeof e&&function(t){e.exports=t()}||function(e){this.samsam=e()})(function(){function e(e){var t=e;return"number"==typeof e&&e!==t}function t(e){return f.toString.call(e).split(/[ \]]/)[1]}function n(e){if("Arguments"===t(e))return!0;if("object"!=typeof e||"number"!=typeof e.length||"Array"===t(e))return!1;if("function"==typeof e.callee)return!0;try{e[e.length]=6,delete e[e.length]}catch(n){return!0}return!1}function r(e){if(!e||1!==e.nodeType||!p)return!1;try{e.appendChild(p),e.removeChild(p)}catch(t){return!1}return!0}function o(e){var t,n=[];for(t in e)f.hasOwnProperty.call(e,t)&&n.push(t);return n}function i(e){return"function"==typeof e.getTime&&e.getTime()==e.valueOf()}function a(e){return 0===e&&1/e===-(1/0)}function s(t,n){return t===n||e(t)&&e(n)?0!==t||a(t)===a(n):void 0}function u(a,u){function c(e){return"object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String?!1:!0}function l(e,t){var n;for(n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var p=[],h=[],d=[],v=[],m={};return function g(a,u,y,b){var _=typeof a,w=typeof u;if(a===u||e(a)||e(u)||null==a||null==u||"object"!==_||"object"!==w)return s(a,u);if(r(a)||r(u))return!1;var x=i(a),E=i(u);if((x||E)&&(!x||!E||a.getTime()!==u.getTime()))return!1;if(a instanceof RegExp&&u instanceof RegExp&&a.toString()!==u.toString())return!1;var S=t(a),C=t(u),T=o(a),O=o(u);if(n(a)||n(u)){if(a.length!==u.length)return!1}else if(_!==w||S!==C||T.length!==O.length)return!1;var A,k,j,P,N,M,R,D,I,F,L;for(k=0,j=T.length;j>k;k++){if(A=T[k],!f.hasOwnProperty.call(u,A))return!1;if(P=a[A],N=u[A],M=c(P),R=c(N),D=M?l(p,P):-1,I=R?l(h,N):-1,F=-1!==D?d[D]:y+"["+JSON.stringify(A)+"]",L=-1!==I?v[I]:b+"["+JSON.stringify(A)+"]",m[F+L])return!0;if(-1===D&&M&&(p.push(P),d.push(F)),-1===I&&R&&(h.push(N),v.push(L)),M&&R&&(m[F+L]=!0),!g(P,N,F,L))return!1}return!0}(a,u,"$1","$2")}function c(e,t){if(0===t.length)return!0;var n,r,o,i;for(n=0,r=e.length;r>n;++n)if(l(e[n],t[0])){for(o=0,i=t.length;i>o;++o)if(!l(e[n+o],t[o]))return!1;return!0}return!1}var l,f=Object.prototype,p="undefined"!=typeof document&&document.createElement("div");return l=function h(e,n){if(n&&"function"==typeof n.test)return n.test(e);if("function"==typeof n)return n(e)===!0;if("string"==typeof n){n=n.toLowerCase();var r="string"==typeof e||!!e;return r&&String(e).toLowerCase().indexOf(n)>=0}if("number"==typeof n)return n===e;if("boolean"==typeof n)return n===e;if("undefined"==typeof n)return"undefined"==typeof e;if(null===n)return null===e;if("Array"===t(e)&&"Array"===t(n))return c(e,n);if(n&&"object"==typeof n){if(n===e)return!0;var o;for(o in n){var i=e[o];if("undefined"==typeof i&&"function"==typeof e.getAttribute&&(i=e.getAttribute(o)),null===n[o]||"undefined"==typeof n[o]){if(i!==n[o])return!1}else if("undefined"==typeof i||!h(i,n[o]))return!1}return!0}throw new Error("Matcher was not a string, a number, a function, a boolean or an object")},{isArguments:n,isElement:r,isDate:i,isNegZero:a,identical:s,deepEqual:u,match:l,keys:o}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){return new Promise(function(t){var n=e.bus.onValue(function(e){n(),t({value:e})})})}var a=n(45),s=o(a),u=n(381),c=r(u);describe("CollectionActions",function(){describe("loadCollection(url)",function(){it("should load the collection",s["default"].wrap(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.loadCollection("/spec/app/fixtures"),t=i(c.startLoading),n=i(c.finishLoading),e.next=5,t;case 5:return e.t0=e.sent.value,e.t1={url:"/spec/app/fixtures"},expect(e.t0).to.deep.equal(e.t1),e.next=10,n;case 10:e.t2=e.sent.value.songs,e.t3=Array,expect(e.t2).to.be.an["instanceof"](e.t3);case 13:case"end":return e.stop()}},e,this)}))),it("should call errorLoading when cannot load",s["default"].wrap(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.loadCollection("/spec/app/fixtures/nonexistant"),e.next=3,i(c.errorLoading);case 3:case"end":return e.stop()}},t,this)})))})})},function(e,t,n){(function(e){"use strict";var t=n(405);describe("SongLoader",function(){function n(t){return Promise.resolve(new e(t).buffer)}var r={"01.bme":{read:function(){return n("#TITLE meow [NORMAL]\n#BPM 90\n#00111:01")}},"02.bms":{read:function(){return n("#TITLE meow [HYPER]\n#BPM 90\n#00111:01")}},"03.bml":{read:function(){return n("#TITLE meow [ANOTHER]\n#BPM 100\n#00111:01")}}},o={fileList:Promise.resolve(["01.bme","02.bms","03.bml"]),file:function(e){return Promise.resolve(r[e])}},i=void 0;before(function(){var e={onMessage:function(e){return console.log(e)}};return Promise.resolve(t.loadSongFromResources(o,e)).tap(function(e){return i=e})}),it("should have correct title",function(){expect(i.title).to.equal("meow")}),it("should have correct number of charts",function(){expect(i.charts).to.have.length(3)}),it("should have resources key pointing to the resources",function(){expect(i.resources).to.equal(o)})})}).call(t,n(146).Buffer)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(36),a=o(i),s=n(17),u=o(s),c=n(45),l=o(c),f=n(630),p=n(629),h=o(p),d=n(381),v=r(d),m=n(404),g=r(m);describe("MusicSelectStore",function(){var e=void 0,t=void 0,n="/spec/app/fixtures/index.json";before(l["default"].wrap(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(a["default"].get(n));case 2:t=e.sent;case 3:case"end":return e.stop()}},r,this)}))),beforeEach(function(){e=f.MusicSelectStoreFactory(h["default"])}),describe("during loading",function(){beforeEach(function(){v.startLoading({url:n})}),it("loading should be true",function(){void expect(e.get().loading).to.be["true"]}),it("songs should be empty array",function(){expect(e.get().songs).to.deep.equal([])})}),describe("after loading",function(){beforeEach(function(){v.startLoading({url:n}),v.finishLoading(t)}),it("loading should be false",function(){void expect(e.get().loading).to.be["false"]}),describe("songs",function(){it("should be list of all songs",function(){expect(e.get().songs).to.have.length(t.songs.length)}),it("first song should be tutorial",function(){void expect(!!e.get().songs[0].tutorial).to.be["true"]}),it("selected song should be tutorial",function(){void expect(!!e.get().song.tutorial).to.be["true"]})}),it("should select first matching song+chart when filtered",function(){g.setFilterText("toki"),expect(e.get().songs[0].title).to.equal("Toki"),expect(e.get().song).to.equal(e.get().songs[0]),expect(e.get().chart.file).to.equal("toki_beginner7.bms")}),it("should set song when selected",function(){g.selectSong(u["default"].find(e.get().songs,{title:"mom"})),expect(e.get().song.artist).to.equal("w_tre"),expect(e.get().chart.file).to.equal("mom_s1.bme")}),it("should select and set chart with nearby level",function(){g.selectSong(u["default"].find(e.get().songs,{title:"mom"})),g.selectChart(u["default"].find(e.get().song.charts,{file:"mom_s4.bme"})),expect(e.get().chart.info.level).to.equal(12),g.selectSong(u["default"].find(e.get().songs,{title:"L"})),expect(e.get().chart.file).to.equal("L_[SPA](XEIR).bme")}),describe("groups",function(){it("there should be more than 1 group",function(){expect(e.get().groups.length).to.be.at.least(2)}),it("first group should be tutorial, having only one song",function(){expect(e.get().groups[0].title).to.equal("Tutorial"),expect(e.get().groups[0].songs).to.have.length(1)}),it("should eliminate empty groups",function(){g.setFilterText("wowwwwwwww"),void expect(e.get().groups).to.be.empty})}),describe("custom songs",function(){beforeEach(function(){g.setCustomSong({id:"meow",title:"meow!",artist:"lol",genre:"keyboard cat",bpm:123,custom:!0,charts:[{file:"01.bme",md5:"d41d8cd98f00b204e9800998ecf8427e",info:{title:"meow!",artist:"lol",genre:"keyboard cat",difficulty:2,level:1},noteCount:1,scratch:!0,keys:"7K"}]})}),it("should select the custom song",function(){expect(e.get().song.id).to.equal("meow")}),it("should display custom song at the top",function(){expect(e.get().songs[0].id).to.equal("meow")})})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var i=n(628),a=o(i),s=n(177),u=r(s),c=n(172),l=o(c);describe("OptionsStore",function(){var e=void 0,t=void 0;beforeEach(function(){e=a.getStorage(),t={},a.setStorage({getItem:function(e){return t[e]},setItem:function(e,n){t[e]=String(n)}}),l.reload()}),afterEach(function(){a.setStorage(e)}),it("should contains options",function(){t["player.P1.mode"]="KB",l.reload(),expect(u["default"].get().options["player.P1.mode"]).to.equal("KB"),t["player.P1.mode"]="BM",l.reload(),expect(u["default"].get().options["player.P1.mode"]).to.equal("BM")}),it("should allow setting options",function(){t["player.P1.mode"]="KB",l.reload(),expect(u["default"].get().options["player.P1.mode"]).to.equal("KB"),l.setOptions({"player.P1.mode":"BM"}),expect(t["player.P1.mode"]).to.equal("BM"),expect(u["default"].get().options["player.P1.mode"]).to.equal("BM")}),it("should allow setting mode",function(){l.setMode("BM"),expect(t["player.P1.mode"]).to.equal("BM"),l.setMode("KB"),expect(t["player.P1.mode"]).to.equal("KB")}),it("should allow setting scratch position",function(){l.setScratch("left"),expect(t["player.P1.mode"]).to.equal("BM"),expect(t["player.P1.scratch"]).to.equal("left"),expect(u["default"].get().scratch).to.equal("left"),l.setScratch("right"),expect(t["player.P1.mode"]).to.equal("BM"),expect(t["player.P1.scratch"]).to.equal("right"),expect(u["default"].get().scratch).to.equal("right"),l.setScratch("off"),expect(t["player.P1.mode"]).to.equal("KB"),expect(t["player.P1.scratch"]).to.equal("right"),expect(u["default"].get().scratch).to.equal("off")})})},function(e,t,n){"use strict";var r=n(868);describe("Cachier",function(){var e=void 0,t=0,n=function(e){return function(t){return function(){var n=function r(n){var o=Promise.resolve().then(t);return n>=e?o:o["catch"](function(){return Promise.delay(100).then(function(){return r(n+1)})})};return n(1)}}};beforeEach(function(){return e=new r.Cachier("test."+(new Date).getTime()+"."+ ++t)}),afterEach(n(3)(function(){return e.destroyDatabase()})),describe(".connection",function(){it("should be a promise which fullfill with the db connection",function(){return e.connection.then(function(e){expect(e.constructor+"").to.match(/DBDatabase/)})})}),describe("#save",function(){it("stores a blob",function(){var t=new Blob(["hello"]);return expect(e.save("wow",t)).to.eventually.be.ok}),it("rejects when key is invalid",function(){var t=new Blob(["hello"]);return expect(e.save(void 0,t)).to.be.rejected})}),describe("with a blob saved",function(){beforeEach(function(){var t=new Blob(["hello"]);return e.save("wow2",t,{name:"example1"}).delay(10)}),describe("#load",function(){it("should return the blob value",function(){return e.load("wow2").then(function(e){var t=e.blob,n=e.metadata;expect(t.size).to.equal(5),expect(n).to.deep.equal({name:"example1"})})})}),describe("#save",function(){it("should replace content with a new blob",function(){var t=new Blob(["world!"]);return e.save("wow2",t).delay(10).then(function(){return e.load("wow2")}).then(function(e){var t=e.blob,n=e.metadata;expect(t.size).to.equal(6),expect(n).to.equal(void 0)})})}),describe("#delete",function(){it("should remove the blob",function(){return e["delete"]("wow3").then(function(){return expect(e.load("wow3")).to.be.rejected})})})}),describe("#destroyDatabase",function(){it("may be called twice",function(){return e.destroyDatabase()})}),describe("without blob support in IndexedDB",function(){it("still works",function(){var t=new Blob(["hello"],{type:"text/plain"});return e._NO_BLOB=!0,e.save("wow4",t).delay(10).then(function(){return e.load("wow4")}).then(function(e){var t=e.blob;expect(t.size).to.equal(5),expect(t.type).to.equal("text/plain")})})})})},function(e,t){"use strict";describe("The specs",function(){it("runs",function(){expect({runs:!0}.runs).to.equal(!0)})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(387),i=r(o),a=n(403);describe("PlayerAudio",function(){function e(e){t=e,r={playAuto:sinon.stub().returns({}),playNote:sinon.stub().returns({}),playFree:sinon.stub().returns({})},n=new i["default"]({player:t,waveFactory:r})}var t=void 0,n=void 0,r=void 0;it("should play autokeysounds on correct time",function(){e({notechart:{autos:[{time:1,keysound:"0x"},{time:2,keysound:"0y"},{time:2,keysound:"0z"}],notes:[]},options:{autosound:!1}}),n.update(0),expect(r.playAuto).to.have.callCount(0),n.update(1),expect(r.playAuto).to.have.callCount(1),expect(r.playAuto).to.have.been.calledWith("0x"),n.update(2),expect(r.playAuto).to.have.callCount(3)}),it("should play notes automatically when autosound is on",function(){e({notechart:{autos:[],notes:[{time:1,keysound:"0x"}]},options:{autosound:!0}}),n.update(1),expect(r.playNote).to.have.been.calledWith("0x")}),it("should not play notes automatically when autosound is off",function(){e({notechart:{autos:[],notes:[{time:1,keysound:"0x"}]},options:{}}),n.update(1),void expect(r.playNote).to.not.have.been.called}),it("should play notes ahead of time",function(){e({notechart:{autos:[{time:1,keysound:"0x"}],notes:[]},options:{}}),n.update(.999),expect(r.playAuto).to.have.been.calledWith("0x"),expect(r.playAuto.getCall(0).args[1]).to.be.closeTo(.001,1e-5)}),it("should play hit notes",function(){e(a.playerWithBMS()),n.update(.999,{notifications:{sounds:[{note:{keysound:"0x"},type:"hit",judgment:1}]},stats:{}}),expect(r.playNote).to.have.been.calledWith("0x")}),it("badly hit note should sound off-pitch",function(){e(a.playerWithBMS());var t={bad:sinon.stub()};r.playNote.returns(t),n.update(.999,{notifications:{sounds:[{note:{keysound:"0x"},type:"hit",judgment:4}]},stats:{}}),void expect(t.bad).to.have.been.called}),it("should work even without audio",function(){e(a.playerWithBMS()),r.playNote.returns(null),n.update(.999,{notifications:{sounds:[{note:{keysound:"0x"},type:"hit",judgment:4}]},stats:{}})}),it("should stop sound when broken",function(){e(a.playerWithBMS());var t={keysound:"0x"},o={stop:sinon.spy()};r.playNote.returns(o),n.update(.999,{notifications:{sounds:[{note:t,type:"hit"}]},stats:{}}),n.update(1.1,{notifications:{sounds:[{note:t,type:"break"}]},stats:{}}),void expect(o.stop).to.have.been.called}),it("should play sounds when hitting blank space",function(){e(a.playerWithBMS()),n.update(.999,{notifications:{sounds:[{note:{keysound:"0x"},type:"free"}]},stats:{}}),expect(r.playFree).to.have.been.calledWith("0x")}),it("should play hit note once",function(){e(a.playerWithBMS());var t={keysound:"0x"};n.update(.999,{notifications:{sounds:[{note:t,type:"hit"}]},stats:{}}),n.update(1,{notifications:{sounds:[{note:t,type:"hit"}]},stats:{}}),expect(r.playNote).to.have.callCount(1)})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(388),i=r(o);describe("WaveFactory",function(){var e=void 0,t=void 0,n=void 0,r=void 0,o=void 0;beforeEach(function(){e={},t={play:sinon.stub()},n={"wow.wav":t},r={"0z":"wow.wav"},o=new i["default"](e,n,r)}),describe("playAuto",function(){it("should play an autokeysound",function(){o.playAuto("0z",.1),expect(t.play).to.have.been.calledWith(.1)})}),describe("playNote",function(){it("should play the keysound",function(){o.playNote("0z",.1),expect(t.play).to.have.been.calledWith(.1)}),it("should stop old sound",function(){var e={stop:sinon.spy()};return t.play.returns(e),o.playNote("0z",0),o.playNote("0z",0),Promise.delay(0).then(function(){return expect(e.stop).to.have.callCount(1)})})}),describe("playFree",function(){it("should play the keysound",function(){o.playFree("0z"),void expect(t.play).to.have.been.called})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(312),i=r(o);describe("NoteArea",function(){it("allows querying the visible note from a list of notes",function(){var e=[{position:1,column:"A"},{position:2,column:"A"},{position:3,column:"A"},{position:4,column:"A"},{position:5,column:"A"},{position:6,column:"A"},{position:10,end:{position:12},column:"B"},{position:11,column:"C"}],t=new i["default"](e,[]);expect(t.getVisibleNotes(1.5,3.5)).to.have.length(2),expect(t.getVisibleNotes(2.5,3.5,1)).to.have.length(2),expect(t.getVisibleNotes(-1,7)).to.have.length(6),expect(t.getVisibleNotes(8,10.1)).to.have.length(1),expect(t.getVisibleNotes(8,10.1)).to.have.length(1),expect(t.getVisibleNotes(8,14)).to.have.length(2),expect(t.getVisibleNotes(11.5,14)).to.have.length(1),expect(t.getVisibleNotes(12.5,14)).to.have.length(0)}),it("allows querying barlines",function(){var e=new i["default"]([],[{beat:0,position:0},{beat:4,position:4},{beat:7,position:7}]);expect(e.getVisibleBarLines(1.5,4.5)).to.have.length(1)})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(313),i=r(o),a=n(403);describe("PlayerDisplay",function(){function e(e){o=new i["default"](e)}function t(e,t,n){s=o.update(e,t,n)}function n(){return{speed:1,input:{get:function(){return{value:0,changed:!1}}},notifications:{judgments:[]},getNoteStatus:sinon.stub().returns("unjudged"),getNoteJudgment:sinon.stub().returns(0),stats:{score:0}}}function r(e){return Object.assign(n(),e)}var o=void 0,s=void 0;it("reacts to input",function(){var n=function(e){return r({input:new Map(e)})};e({notechart:a.notechart(),columns:["wow"],options:{placement:"center",scratch:"left"}}),t(555,.5,n([["wow",{value:0,changed:!1}]])),expect(s.wow_active).to.equal(0),t(557,2.5,n([["wow",{value:1,changed:!0}]])),expect(s.wow_active).to.equal(1),expect(s.wow_down).to.equal(557),t(558,3.5,n([["wow",{value:0,changed:!0}]])),expect(s.wow_active).to.equal(0),expect(s.wow_up).to.equal(558)}),describe("with note",function(){beforeEach(function(){e(a.playerWithBMS("#BPM 60\n#00111:11"))}),it("displays unjudged notes",function(){t(3.95,3.95,n()),expect(s.note_1).to.have.length(1)}),it("hides judged notes",function(){var e=a.tap(n(),function(e){return e.getNoteStatus.returns("judged")});t(3.95,3.95,e),void expect(s.note_1).to.be.empty})}),describe("with long note",function(){beforeEach(function(){e(a.playerWithBMS("#BPM 60\n#00151:1111"))}),it("displays unjudged long notes",function(){t(3.95,3.95,n()),expect(s.longnote_1).to.have.length(1),void expect(s.longnote_1[0].active).to.be["false"],void expect(s.longnote_1[0].missed).to.be["false"]}),it("displays holding long notes",function(){var e=a.tap(n(),function(e){return e.getNoteJudgment.returns(1)});t(3.95,3.95,e),void expect(s.longnote_1[0].active).to.be["true"]}),it("displays holding long notes event it is bad",function(){var e=a.tap(n(),function(e){return e.getNoteJudgment.returns(4)});t(3.95,3.95,e),void expect(s.longnote_1[0].active).to.be["true"]}),it("displays missed long notes",function(){var e=n();e.getNoteJudgment.returns(-1),e.getNoteStatus.returns("judged"),t(3.95,3.95,e),void expect(s.longnote_1[0].missed).to.be["true"]})}),describe("with notification",function(){beforeEach(function(){e(a.playerWithBMS())}),it("sets judgment time",function(){var e={judgment:1,delta:0,combo:123,column:"SC"};t(12,34,r({notifications:{judgments:[e]}})),expect(s.judge_1).to.equal(12)}),it("sets judgment missed time",function(){var e={judgment:-1,delta:0,combo:0,column:"SC"};t(12,34,r({notifications:{judgments:[e]}})),expect(s.judge_missed).to.equal(12)}),it("sets combo",function(){var e={judgment:1,delta:0,combo:123,column:"SC"};t(12,34,r({notifications:{judgments:[e]}})),expect(s.combo).to.equal(123)}),it("sets note explode time",function(){var e={judgment:1,delta:0,combo:123,column:"SC"};t(12,34,r({notifications:{judgments:[e]}})),expect(s.SC_explode).to.equal(12)}),it("does not set note explode time if missed",function(){var e={judgment:-1,delta:0,combo:123,column:"SC"};t(12,34,r({notifications:{judgments:[e]}})),void expect(s.SC_explode).to.be.empty})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(178),i=r(o);describe("GameInput",function(){var e=void 0,t=void 0;beforeEach(function(){e=new i["default"],t={out:{},get:function(){return this.out}},e.use(t)}),it("should return control with default value of 0",function(){expect(e.get("wow").value).to.equal(0)}),describe("Control#value",function(){it("should return control with correct value",function(){t.out={wow:-1},e.update(),expect(e.get("wow").value).to.equal(-1)})}),describe("Control#changed",function(){it("should return changed state between last update",function(){e.update(),expect(e.get("wow").changed).to.equal(!1),t.out={wow:0},e.update(),expect(e.get("wow").changed).to.equal(!1),t.out={wow:-1},e.update(),expect(e.get("wow").changed).to.equal(!0),t.out={wow:1},e.update(),expect(e.get("wow").changed).to.equal(!0),t.out={wow:1},e.update(),expect(e.get("wow").changed).to.equal(!1),e.update(),expect(e.get("wow").changed).to.equal(!1),t.out={wow:0},e.update(),expect(e.get("wow").changed).to.equal(!0)})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(33),i=r(o),a=n(389),s=r(a);describe("TouchPlugin",function(){it("should get value when touching",function(){var e=new s["default"]({refs:{p1_1:new Set([{getBounds:function(){return new i["default"].Rectangle(64,64,64,64)}}]),p1_2:new Set([{getBounds:function(){return new i["default"].Rectangle(128,64,64,64)}}])},input:[{x:72,y:72,id:"touch1"},{x:32,y:32,id:"touch2"}]}),t=e.get();expect(t.p1_1).to.equal(1),expect(t.p1_2).to.equal(0)})});
},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(390),i=r(o);xdescribe("SamplesLoader",function(){var e,t,n;beforeEach(function(){e={file:sinon.stub()},t={sample:sinon.stub()},n=new i["default"](e,t)}),describe("#loadFiles",function(){it("should not include undecodable audio",function(){return e.file.returns(Promise.reject()),e.file.withArgs("a.wav").returns(Promise.resolve({read:function(){return Promise.resolve("ok1")}})),t.sample.withArgs("ok1").returns(Promise.reject(new Error(".."))),expect(n.loadFiles(["a.wav"])).to.eventually.deep.eq({})}),it("should try mp3",function(){return e.file.returns(Promise.reject()),e.file.withArgs("a.mp3").returns(Promise.resolve({read:function(){return Promise.resolve("ok1")}})),t.sample.withArgs("ok1").returns(Promise.resolve("ok2")),expect(n.loadFiles(["a.wav"])).to.eventually.deep.eq({"a.wav":"ok2"})}),it("should not include failed matches",function(){return e.file.returns(Promise.reject()),expect(n.loadFiles(["a.wav"])).to.eventually.deep.eq({})})})})},function(e,t,n){"use strict";var r=n(403);describe("Notechart",function(){describe(".fromBMSChart",function(){it("should work",function(){var e=r.notechart("#00116:01\n#00101:02");expect(e.notes).to.have.length(1),expect(e.autos).to.have.length(1),expect(e.notes[0].beat).to.equal(4)}),it("should work with long notes",function(){var e=r.notechart("#00151:0101");expect(e.notes).to.have.length(1),expect(e.notes[0].beat).to.equal(4),expect(e.notes[0].end.beat).to.equal(6)})}),describe("scratch off",function(){it("should move scratch to autokeysounds",function(){var e=r.notechart("#00116:01\n#00101:02",{scratch:"off"});expect(e.notes).to.have.length(0),expect(e.autos).to.have.length(2)})}),describe("5K",function(){function e(e){return function(t){return t.column===e}}var t="\n      #00116:01\n      #00111:01\n      #00112:01\n      #00113:01\n      #00114:01\n      #00115:01\n    ";describe("scratch left",function(){it("should keep notes intact",function(){var n=r.notechart(t,{scratch:"left"});expect(n.notes).to.have.length(6),void expect(n.notes.filter(e("1"))).not.to.be.empty,void expect(n.notes.filter(e("2"))).not.to.be.empty,void expect(n.notes.filter(e("3"))).not.to.be.empty,void expect(n.notes.filter(e("4"))).not.to.be.empty,void expect(n.notes.filter(e("5"))).not.to.be.empty,void expect(n.notes.filter(e("6"))).to.be.empty,void expect(n.notes.filter(e("7"))).to.be.empty})}),describe("scratch off",function(){it("should shift columns by 1",function(){var n=r.notechart(t,{scratch:"off"});expect(n.notes).to.have.length(5),void expect(n.notes.filter(e("6"))).not.to.be.empty,void expect(n.notes.filter(e("1"))).to.be.empty})}),describe("scratch right",function(){it("should shift columns by 2",function(){var n=r.notechart(t,{scratch:"right"});expect(n.notes).to.have.length(6),void expect(n.notes.filter(e("6"))).not.to.be.empty,void expect(n.notes.filter(e("7"))).not.to.be.empty,void expect(n.notes.filter(e("1"))).to.be.empty,void expect(n.notes.filter(e("2"))).to.be.empty})})}),describe("#samples",function(){it("should return an array of all used samples",function(){var e=r.notechart("#WAV0X wow.wav\n#00101:0x0x");expect(e.samples).to.deep.equal(["wow.wav"])})}),describe("#duration",function(){it("should return the duration of notechart",function(){var e=r.notechart("#00111:0101");expect(e.duration).to.equal(6)}),it("should work with long notes",function(){var e=r.notechart("#00151:0101");expect(e.duration).to.equal(6)})}),describe("#keysounds",function(){it("should return an object of all keysounds",function(){var e=r.notechart("#WAV0X wow.wav\n#WAV0Y wow.wav\n#WAV0Z foon.wav\n#00101:0x0x0y0y0Z0Z");expect(e.keysounds).to.deep.equal({"0x":"wow.wav","0y":"wow.wav","0z":"foon.wav"})})}),describe("#barLines",function(){it("should return the list of beat with barlines",function(){var e=r.notechart("#00111:0001\n#00102:0.75");expect(e.barLines).to.deep.equal([{beat:0,position:0},{beat:4,position:4},{beat:7,position:7}])}),it("should consider long notes",function(){var e=r.notechart("#00151:0001\n#00251:0001");expect(e.barLines).to.deep.equal([{beat:0,position:0},{beat:4,position:4},{beat:8,position:8},{beat:12,position:12}])})}),describe("#secondsToBeat",function(){it("should convert seconds to beat",function(){var e=r.notechart("#BPM 120");expect(e.secondsToBeat(1)).to.equal(2)})}),describe("#secondsToPosition",function(){it("should convert seconds to position",function(){var e=r.notechart("#BPM 120");expect(e.secondsToPosition(1)).to.equal(2)})}),describe("#columns",function(){it("should return columns in notechart",function(){var e=r.notechart("#00111:11");expect(e.columns).to.deep.equal(["SC","1","2","3","4","5","6","7"])})}),describe("#info",function(){it("normal note should have 1 combo",function(){var e=r.notechart("#00111:11");expect(e.info(e.notes[0]).combos).to.equal(1)}),it("long note should have 2 combos",function(){var e=r.notechart("#00151:1111");expect(e.info(e.notes[0]).combos).to.equal(2)})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(315),i=r(o),a=n(179),s=r(a),u=n(178),c=r(u),l=n(403);describe("PlayerState",function(){it("updates the input",function(){var e=new i["default"]({number:1,columns:["wow"],notechart:l.notechart(""),options:{speed:1}}),t={get:function(e){return{name:e}}};e.update(0,t),expect(e.input.get("wow").name).to.equal("p1_wow")}),describe("with player and chart",function(){function e(e){var t=arguments.length<=1||void 0===arguments[1]?{speed:1}:arguments[1];n=l.notechart(e),r=new s["default"](n,1,t),o=new i["default"](r),a=new c["default"],u={},a.use({get:function(){return u}})}function t(e,t){u=t,a.update(),o.update(e,a)}var n=void 0,r=void 0,o=void 0,a=void 0,u=void 0;describe("node judging",function(){it("judges notes",function(){e("\n          #BPM 120\n          #00111:0101\n        ");var r=n.notes[0].column;expect(o.getNoteStatus(n.notes[0])).to.equal("unjudged"),expect(o.stats.combo).to.equal(0),expect(o.stats.poor).to.equal(!1),expect(o.stats.totalCombo).to.equal(2),void expect(o.notifications.judgments).to.be.empty,t(1.999,{}),expect(o.getNoteStatus(n.notes[0])).to.equal("unjudged"),t(2,{p1_1:1}),expect(o.getNoteStatus(n.notes[0])).to.equal("judged"),expect(o.getNoteJudgment(n.notes[0])).to.equal(1),expect(o.getNoteStatus(n.notes[1])).to.equal("unjudged"),expect(o.notifications.judgments[0]).to.deep.equal({judgment:1,combo:1,delta:0,column:r}),expect(o.stats.poor).to.equal(!1),t(2.1,{p1_1:0}),t(5,{p1_1:0}),expect(o.getNoteStatus(n.notes[1])).to.equal("judged"),expect(o.getNoteJudgment(n.notes[1])).to.equal(-1),expect(o.notifications.judgments[0]).to.deep.equal({judgment:-1,combo:0,delta:2,column:r}),expect(o.stats.poor).to.equal(!0)}),it("judges multiple notes in different column",function(){e("\n          #BPM 120\n          #00111:01\n          #00112:01\n        "),t(2,{p1_1:1,p1_2:1}),expect(o.getNoteStatus(n.notes[0])).to.equal("judged"),expect(o.getNoteStatus(n.notes[1])).to.equal("judged")}),it("judges single note from one column at a time",function(){e("\n          #BPM 480\n          #00111:01010100000000000000000000000000\n        "),t(.531,{p1_1:1}),expect(o.getNoteStatus(n.notes[0])).to.equal("judged"),expect(o.getNoteStatus(n.notes[1])).to.equal("unjudged"),expect(o.getNoteStatus(n.notes[2])).to.equal("unjudged"),t(.531,{p1_1:0}),t(.531,{p1_1:1}),expect(o.getNoteStatus(n.notes[0])).to.equal("judged"),expect(o.getNoteStatus(n.notes[1])).to.equal("judged"),expect(o.getNoteStatus(n.notes[2])).to.equal("unjudged"),t(.531,{p1_1:0}),t(.531,{p1_1:1}),expect(o.getNoteStatus(n.notes[0])).to.equal("judged"),expect(o.getNoteStatus(n.notes[1])).to.equal("judged"),expect(o.getNoteStatus(n.notes[2])).to.equal("judged"),expect(o.getNoteJudgment(n.notes[0])).to.gt(1),expect(o.getNoteJudgment(n.notes[1])).to.eq(1),expect(o.getNoteJudgment(n.notes[2])).to.gt(1)}),it("leaves note unjudged when bad and there are closer note",function(){e("\n          #BPM 120\n          #00111:01010100000000000000000000000000\n        "),t(2.125,{p1_1:1}),expect(o.getNoteStatus(n.notes[0])).to.equal("unjudged"),expect(o.getNoteStatus(n.notes[1])).to.equal("judged"),expect(o.getNoteStatus(n.notes[2])).to.equal("unjudged")}),describe("with long note",function(){var r=void 0;beforeEach(function(){e("\n            #BPM 120\n            #00151:0101\n          "),r=n.notes[0]}),it("judges long note",function(){t(2,{p1_1:1}),expect(o.getNoteStatus(r)).to.equal("active"),expect(o.getNoteJudgment(r)).to.equal(1),expect(o.notifications.judgments[0].judgment).to.equal(1),t(3,{p1_1:0}),expect(o.getNoteStatus(r)).to.equal("judged"),expect(o.getNoteJudgment(r)).to.equal(1),expect(o.notifications.judgments[0].judgment).to.equal(1)}),it("judges missed long note",function(){t(2.3,{p1_1:1}),expect(o.getNoteStatus(r)).to.equal("judged"),expect(o.getNoteJudgment(r)).to.equal(-1)}),it("judges long note lifted too fast as missed",function(){t(2,{p1_1:1}),t(2.01,{p1_1:0}),expect(o.getNoteStatus(r)).to.equal("judged"),expect(o.getNoteJudgment(r)).to.equal(-1)}),it("judges long note lifted too slow as missed",function(){t(2,{p1_1:1}),t(4,{p1_1:1}),expect(o.getNoteStatus(r)).to.equal("judged"),expect(o.getNoteJudgment(r)).to.equal(-1),expect(o.notifications.judgments[0]).to.deep.equal({judgment:-1,combo:0,delta:1,column:r.column})})}),describe("with long scratch note",function(){var r=void 0;beforeEach(function(){e("\n            #BPM 120\n            #00156:0101\n          "),r=n.notes[0]}),it("ends automatically",function(){t(2,{p1_SC:1}),expect(o.getNoteStatus(r)).to.equal("active"),expect(o.getNoteJudgment(r)).to.equal(1),expect(o.notifications.judgments[0].judgment).to.equal(1),t(4,{p1_SC:1}),expect(o.getNoteStatus(r)).to.equal("judged"),expect(o.getNoteJudgment(r)).to.equal(1),expect(o.notifications.judgments[0].judgment).to.equal(1)})}),describe("with long scratch note next to each other",function(){beforeEach(function(){e("\n#BPM 120\n#00156:0100000000000000000000000000000000000000000000000000000000000001\n#00256:0100000000000000000000000000000000000000000000000000000000000001\n          ")}),it("should switch to next one on change",function(){t(2,{p1_SC:1}),t(4,{p1_SC:-1}),expect(o.getNoteStatus(n.notes[0])).to.equal("judged"),expect(o.getNoteStatus(n.notes[1])).to.equal("active")})}),describe("sound notifications",function(){it("notifies of note hit",function(){e("\n            #BPM 120\n            #00111:0102\n          "),t(2,{p1_1:1}),expect(o.notifications.sounds[0].note).to.equal(n.notes[0]),expect(o.notifications.sounds[0].type).to.equal("hit")}),it("should notify missed notes as break",function(){e("\n            #BPM 120\n            #00111:01\n          "),t(5,{p1_1:0}),expect(o.notifications.sounds[0].note).to.equal(n.notes[0]),expect(o.notifications.sounds[0].type).to.equal("break")}),it("notifies of free keysound hit",function(){e("\n            #BPM 60\n            #00111:01\n            #00211:02\n          "),t(4,{p1_1:1}),t(4,{p1_1:0}),t(4,{p1_1:1}),expect(o.notifications.sounds[0].note).to.equal(n.notes[0]),expect(o.notifications.sounds[0].type).to.equal("free"),t(4,{p1_1:0}),void expect(o.notifications.sounds).to.be.empty,t(5,{p1_1:1}),expect(o.notifications.sounds[0].note).to.equal(n.notes[0]),t(5,{p1_1:0}),t(6.5,{p1_1:1}),expect(o.notifications.sounds[0].note).to.equal(n.notes[0]),t(6.5,{p1_1:0}),t(7.5,{p1_1:1}),expect(o.notifications.sounds[0].note).to.equal(n.notes[1])})})}),describe("speed",function(){it("infers speed from player",function(){e("",{speed:2}),expect(o.speed).to.equal(2)}),it("updates speed on dedicated buttons",function(){e("",{speed:2}),t(1,{p1_speedup:1}),expect(o.speed).to.equal(2.5),t(1.2,{p1_speedup:0,p1_speeddown:1}),expect(o.speed).to.equal(2)}),it("supports fine-grained speed modifications",function(){e("",{speed:2}),t(1,{p1_speedup:1,select:1}),expect(o.speed).to.equal(2.1)}),it("supports pinching to zoom",function(){e("",{speed:2}),t(1,{p1_pinch:300}),t(1.2,{p1_pinch:450}),expect(o.speed).to.equal(3)})}),describe("finish",function(){it("should become true when song is finished",function(){e("#00111:0101"),expect(o.finished).to.equal(!1),t(4,{}),expect(o.finished).to.equal(!1),t(16,{}),expect(o.finished).to.equal(!0)})})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(316),i=r(o),a=n(403);describe("PlayerStats",function(){describe("#score",function(){it("returns the score",function(){var e=new i["default"](a.notechart("#00111:1111111111"));expect(e.score).to.equal(0),e.handleJudgment(1),e.handleJudgment(1),e.handleJudgment(1),e.handleJudgment(1),e.handleJudgment(1),expect(e.score).to.equal(555555)})}),describe("#log",function(){it("returns the log",function(){var e=new i["default"](a.notechart("#00111:11111111111111"));expect(e.score).to.equal(0),e.handleJudgment(1),e.handleJudgment(1),e.handleJudgment(1),e.handleJudgment(2),e.handleJudgment(3),e.handleJudgment(-1),e.handleJudgment(-1),expect(e.log).to.equal("3ABC2M")})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){describe("Online",function(){function n(){return{username:f(),password:"wow_bemuse_test",email:"test+"+f()+"@bemuse.ninja"}}this.timeout(1e4),before(function(){a.Parse.initialize(e,t)}),describe("signup",function(){var e=void 0,t=void 0;before(function(){e=new l["default"]}),after(function(){e=null}),before(function(){t=n()}),it("should succeed",function(){return expect(e.signUp(t)).to.be.fulfilled}),it("should not allow duplicate signup",function(){return expect(e.signUp(t)).to.be.rejectedWith(Error)})}),describe("initially",function(){var e=void 0;beforeEach(function(){return e=new l["default"],e.logOut()}),beforeEach(function(){e=new l["default"]}),describe("user",function(){it("should be null",function(){return expect(e.user.first().toPromise()).to.eventually.be["null"]})})}),describe("when signed up",function(){var e=void 0;before(function(){e=new l["default"]}),describe("user",function(){it("should change to signed-up user, and also start with it",function(){var t=n(),r=e.user.take(2).toPromise().then(function(e){expect(e.username).to.equal(t.username)}).tap(function(){return(new l["default"]).user.first().toPromise().then(function(e){expect(e.username).to.equal(t.username)})});return Promise.resolve(e.signUp(t)).done(),r})})}),describe("with an active user",function(){var e=void 0,t=n();before(function(){e=new l["default"]}),before(function(){return e.signUp(t)}),beforeEach(function(){return e.logIn(t)}),describe("when log out",function(){it("should change user back to null",function(){var t=e.user.take(2).toPromise().then(function(e){void expect(e).to.be["null"]});return Promise.resolve(e.logOut()).done(),t})})}),describe("submitting high scores",function(){var e=void 0;before(function(){e=new l["default"]});var t=f()+"_",r=n(),o=n();i(function(n){var i=void 0;n("sign up...",function(){return e.signUp(r)}),n("records data successfully",function(){return Promise.resolve(e.submitScore({md5:t+"song",playMode:"BM",score:123456,combo:123,total:456,count:[122,1,0,0,333],log:""})).tap(function(e){var t=e.data;expect(t.playNumber).to.equal(1),expect(t.playCount).to.equal(1),expect(t.recordedAt).to.be.an["instanceof"](Date),expect(e.meta.rank).to.equal(1),i=t.recordedAt})}),n("does not update if old score is better, but update play count",function(){return Promise.resolve(e.submitScore({md5:t+"song",playMode:"BM",score:123210,combo:124,total:456,count:[123,1,0,0,332],log:""})).tap(function(e){var t=e.data;expect(t.score).to.equal(123456),expect(t.combo).to.equal(123),expect(t.playNumber).to.equal(1),expect(t.playCount).to.equal(2),expect(t.recordedAt).not.to.be.above(i),i=t.recordedAt})}),n("updates data if new score is better",function(){return Promise.resolve(e.submitScore({md5:t+"song",playMode:"BM",score:555555,combo:456,total:456,count:[456,0,0,0,0],log:""})).tap(function(e){var t=e.data;expect(t.score).to.equal(555555),expect(t.combo).to.equal(456),expect(t.playNumber).to.equal(3),expect(t.playCount).to.equal(3),expect(t.recordedAt).to.be.above(i),expect(t.playerName).to.equal(r.username),i=t.recordedAt})}),n("different mode have different score board",function(){return Promise.resolve(e.submitScore({md5:t+"song",playMode:"KB",score:123210,combo:124,total:456,count:[123,1,0,0,332],log:""})).tap(function(e){var t=e.data;expect(t.score).to.equal(123210),expect(e.meta.rank).to.equal(1)})}),n("as another user...",function(){return e.signUp(o)}),n("saves a separate data",function(){return Promise.resolve(e.submitScore({md5:t+"song",playMode:"BM",score:123210,combo:124,total:456,count:[123,1,0,0,332],log:""})).tap(function(e){var t=e.data;expect(t.score).to.equal(123210),expect(t.playNumber).to.equal(1),expect(t.playCount).to.equal(1),expect(e.meta.rank).to.equal(2)})})})}),describe("the scoreboard",function(){var e=void 0;before(function(){return e=new l["default"],e.logOut()});var t=f()+"_",r=n(),o=n(),a=n();i(function(n){n("sign up user1...",function(){return e.signUp(r)}),n("submit score1...",function(){return e.submitScore({md5:t+"song1",playMode:"BM",score:222222,combo:456,total:456,count:[0,0,456,0,0],log:""})}),n("sign up user2...",function(){return e.signUp(o)}),n("submit score2...",function(){return e.submitScore({md5:t+"song1",playMode:"BM",score:555555,combo:456,total:456,count:[456,0,0,0,0],log:""})}),n("scoreboard should return the top score",function(){return Promise.resolve(e.scoreboard({md5:t+"song1",playMode:"BM"})).tap(function(e){console.log(e),expect(e.data).to.have.length(2)})}),n("log out...",function(){return e.logOut()});var i,s,u;n("subscribe to scoreboard...",function(){i=e.Ranking({md5:t+"song1",playMode:"BM",score:111111,combo:123,total:456,count:[0,123,0,0,333],log:""}),s=i.state,u=s.subscribe(function(){})}),n("should have scoreboard loading status",function(){return Promise.resolve(s.first().toPromise()).then(function(e){expect(e.meta.scoreboard.status).to.equal("loading")})}),n("no new score should be submitted",function(){return Promise.resolve(s.filter(function(e){return"completed"===e.meta.scoreboard.status&&"unauthenticated"===e.meta.submission.status}).first().toPromise()).then(function(e){expect(e.data).to.have.length(2)})}),n("sign up user3...",function(){return e.signUp(a)}),n("should start sending score",function(){return Promise.resolve(s.filter(function(e){return"loading"===e.meta.submission.status}).first().toPromise())}),n("should finish sending score",function(){return Promise.resolve(s.take(2).toPromise()).then(function(e){expect(e.meta.submission.status).to.equal("completed"),expect(e.meta.scoreboard.status).to.equal("loading"),expect(e.meta.submission.rank).to.equal(3)})}),n("should finish reloading scoreboard",function(){return Promise.resolve(s.take(2).toPromise()).then(function(e){expect(e.meta.scoreboard.status).to.equal("completed"),expect(e.data).to.have.length(3)})}),n("resubscribe with read only",function(){u&&u(),i=e.Ranking({md5:t+"song1",playMode:"BM"}),s=i.state,u=s.subscribe(function(){})}),n("should not submit new score",function(){return Promise.resolve(s.filter(function(e){var t=e.meta,n=t.scoreboard.status,r=t.submission.status;return"completed"===n&&"completed"===r}).first().toPromise()).then(function(e){expect(e.data).to.have.length(3),expect(e.meta.submission.record.playCount).to.equal(1)})}),after(function(){e.logOut(),u&&u()})})})})}function i(e){var t,n=new Promise(function(e){return t=e}),r=0;return before(function(){return void t()}),e(function(e,t){n=n.then(t,function(){throw new Error("Previous steps errored")});var o=n;it(++r+". "+e,function(){return o})})}var a=n(234),s=n(154),u=r(s),c=n(391),l=r(c),f=function(){var e=Math.floor(65536*Math.random()).toString(16),t=0;return function(){var n=Math.floor(65536*Math.random()).toString(16),r=Date.now().toString(16);return"bemuse."+r+"."+e+"."+n+"."+(++t).toString(16)}}();u["default"].PARSE_APP_ID&&u["default"].PARSE_API_KEY?o(u["default"].PARSE_APP_ID,u["default"].PARSE_API_KEY):describe("Online",function(){xit("Set PARSE_APP_ID and PARSE_API_KEY to test")})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(138),a=o(i),s=n(60),u=r(s);describe("ProgressFormatters",function(){describe("BYTES_FORMATTER",function(){it("should return blank for indeterminate",function(){var e=new a["default"];expect(u.BYTES_FORMATTER(e)).to.equal("")}),it("should format as human readable size",function(){var e=new a["default"];e.report(1,1024),expect(u.BYTES_FORMATTER(e)).to.equal("1B / 1kB")})}),describe("EXTRA_FORMATTER",function(){it("should just use the extra",function(){var e=new a["default"];e.report(1,1024,"one.wav"),expect(u.EXTRA_FORMATTER(e)).to.equal("one.wav")})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(138),i=r(o);describe("Progress",function(){describe("#watch",function(){it("should report current progress when watched",function(){var e=new i["default"],t=sinon.spy();e.report(1,10),e.watch(t),expect(t).to.have.callCount(1),expect(t).to.have.been.calledWith(e)})}),describe("#toString",function(){it("should return blank string when no progress",function(){var e=new i["default"];expect(e.toString()).to.equal("")}),it("should return a string representation of the progress",function(){var e=new i["default"];e.report(1,10),expect(e.toString()).to.equal("1 / 10")}),it("should use a formatter",function(){var e=new i["default"];e.report(1,10),e.formatter=function(e){return e.progress+""},expect(e.toString()).to.equal("0.1")})}),describe("#report",function(){it("should fire to all watchers",function(){var e=new i["default"],t=sinon.spy();e.report(1,10),e.report(2,10),e.watch(t),e.report(3,10),e.report(4,10),expect(t).to.have.callCount(3)}),it("should return a function to unsubscribe",function(){var e=new i["default"],t=sinon.spy();e.report(1,10),e.report(2,10);var n=e.watch(t);e.report(3,10),n(),e.report(4,10),expect(t).to.have.callCount(2)})}),describe("#progress",function(){it("returns progress in fraction",function(){var e=new i["default"];e.report(1,10),expect(e.progress).to.equal(.1)}),it("returns null in unavailable",function(){var e=new i["default"];expect(e.progress).to.equal(null)})})})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(138),a=o(i),s=n(101),u=r(s);describe("ProgressUtils",function(){describe(".fixed",function(){it("should report for fixed number of items",function(){var e=new a["default"],t=u.fixed(10,e);expect(e.current).to.equal(0),expect(e.total).to.equal(10),t("wow"),expect(e.current).to.equal(1),expect(e.total).to.equal(10),expect(e.extra).to.equal("wow")})}),describe(".wrapPromise",function(){it("should report number of fulfilled promises",function(){var e=new a["default"],t=u.wrapPromise(e,function(e){return e}),n=(t(new Promise(function(){})),t(Promise.resolve(1))),r=(t(Promise.reject(new Error("no"))),t(Promise.resolve(3)));return Promise.all([n,r]).then(function(){expect(e.current).to.equal(2),expect(e.total).to.equal(4)})})}),describe(".bind",function(){it("should bind from one progress to another",function(){var e=new a["default"],t=new a["default"];e.report(10,20),u.bind(e,t),expect(t.current).to.equal(10),expect(t.total).to.equal(20),e.report(15,25),expect(t.current).to.equal(15),expect(t.total).to.equal(25)})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(392),i=r(o);describe("BemusePackageResources",function(){describe("#file",function(){var e;beforeEach(function(){e=new i["default"]("/spec/resources/fixtures/a/")}),it("returns a file",function(){return expect(e.file("do.mp3")).to.be.fulfilled}),it("rejects if file not found",function(){return expect(e.file("wow.mp3")).to.be.rejected}),it("can be read",function(){return expect(e.file("mi.mp3").then(function(e){return e.read()}).then(function(e){return e.byteLength})).to.eventually.eq(30093)}),it("cannot read if not bemuse file",function(){return e=new i["default"]("/spec/resources/fixtures/b/"),expect(e.file("do.mp3").then(function(e){return e.read()})).to.be.rejected}),it("data is correct",function(){return e.file("mi.mp3").then(function(e){return e.read()}).then(function(e){return new Uint8Array(e)}).then(function(e){expect([e[0],e[1],e[2]]).to.deep.equal([255,251,144])})})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(104),i=r(o);n(1069),describe("SamplingMaster",function(){var e=void 0,t=void 0;before(function(){WebAudioTestAPI.use()}),beforeEach(function(){e=new AudioContext,t=new i["default"](e)}),describe("#unmute",function(){it("unmutes the audio",function(){var n=e.createGain();sinon.stub(e,"createGain").returns(n),sinon.spy(n,"connect"),sinon.spy(n,"disconnect"),t.unmute(),void expect(e.createGain).to.have.been.called,void expect(n.connect).to.have.been.called,void expect(n.disconnect).to.have.been.called})}),describe("#sample",function(){it("should coerce blob",function(){return t.sample(new Blob([]))}),it("should coerce array buffer",function(){return t.sample(new ArrayBuffer(0))}),it("should reject when decoding failed",function(){return e.DECODE_AUDIO_DATA_FAILED=!0,expect(t.sample(new ArrayBuffer(0))["finally"](function(){return e.DECODE_AUDIO_DATA_FAILED=!1})).to.be.rejected}),describe("#play",function(){var n=void 0,r=void 0,o=void 0;beforeEach(function(){return r=e.createBufferSource(),o=e.createBuffer(1,44100,44100),r.buffer=o,sinon.stub(e,"createBufferSource").returns(r),sinon.spy(r,"start"),t.sample(new Blob([])).then(function(e){return n=e})}),it("should play a buffer source",function(){n.play(),void expect(e.createBufferSource).to.have.been.called,expect(r.start).to.have.been.calledWith(0)}),it("should play a buffer source with delay",function(){e.$processTo(1),n.play(20),void expect(e.createBufferSource).to.have.been.called,expect(r.start).to.have.been.calledWith(21)}),void function(){try{return new Event("wat").type="customevent",it}catch(e){return it.skip}}()("should call #stop when playing finished",function(){var t=n.play();sinon.spy(t,"stop"),e.$processTo(1.5),void expect(t.stop).to.have.been.called}),describe("#stop",function(){it("should stop the buffer source",function(){var e=n.play();sinon.spy(r,"stop"),e.stop(),void expect(r.stop).to.have.been.called}),it("can be called multiple times",function(){var e=n.play();sinon.spy(r,"stop"),e.stop(),e.stop(),e.stop(),void expect(r.stop).to.have.been.calledOnce}),it("should call #onstop",function(){var e=n.play();e.onstop=sinon.spy(),e.stop(),void expect(e.onstop).to.have.been.called})}),describe("#bad",function(){it("should change pitch of sound",function(){var e=n.play();e.bad(),expect(r.playbackRate.value).not.to.equal(1)})})})}),describe("#destroy",function(){var e=void 0;beforeEach(function(){return t.sample(new Blob([])).then(function(t){return e=t})}),it("should stop all samples",function(){var n=e.play(),r=e.play(),o=e.play();sinon.spy(n,"stop"),sinon.spy(r,"stop"),sinon.spy(o,"stop"),t.destroy(),void expect(n.stop).to.have.been.called,void expect(r.stop).to.have.been.called,void expect(o.stop).to.have.been.called}),it("can no longer create samples",function(){return t.destroy(),expect(t.sample(new Blob([]))).to.be.rejected}),it("only destroys once",function(){var n=e.play();sinon.spy(n,"destroy"),t.destroy(),t.destroy(),expect(n.destroy).to.have.callCount(1)})}),after(function(){WebAudioTestAPI.unuse()})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(102),i=r(o);describe("Scintillator Expression",function(){describe("()",function(){it("should parse",function(){var e=new i["default"]("a+b");expect(e({a:1,b:5})).to.equal(6)})}),describe("#constant",function(){it("should be false when containing variables",function(){var e=new i["default"]("a+b");void expect(e.constant).to.be["false"]}),it("should be true when only contains number",function(){var e=new i["default"]("-1.25");void expect(e.constant).to.be["true"]})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(393),i=n(36),a=r(i),s=function(e){return a["default"](a["default"].parseXML(e).documentElement)};describe("Scintillator::Animation",function(){describe("_attrs",function(){it("lists all attributes of an element",function(){var e=s('<keyframe t="0" x="10" y="30" />')[0];expect(o._attrs(e)).to.deep.equal({t:"0",x:"10",y:"30"})})}),describe("_compile",function(){it("compiles animation into keyframes",function(){var e=s('<animation>\n        <keyframe t="0" x="10" y="30" />\n        <keyframe t="2" x="20" />\n        <keyframe t="5" x="15" y="20" />\n      </animation>');expect(o._compile(e)).to.deep.equal({on:"",data:[{name:"x",keyframes:[{time:0,value:10,ease:"linear"},{time:2,value:20,ease:"linear"},{time:5,value:15,ease:"linear"}]},{name:"y",keyframes:[{time:0,value:30,ease:"linear"},{time:5,value:20,ease:"linear"}]}]})}),it("throws when there is no time",function(){var e=s("<animation>\n        <keyframe />\n      </animation>");expect(function(){return o._compile(e)}).to["throw"](Error)})}),describe("#_properties",function(){it("should return a set of properties",function(){var e=o.Animation.compile(null,s('<group>\n        <animation>\n          <keyframe t="0" x="10" />\n          <keyframe t="1" x="20" />\n        </animation>\n        <animation>\n          <keyframe t="0" y="10" />\n          <keyframe t="1" y="20" />\n        </animation>\n      </group>'));expect(Array.from(e._properties)).to.deep.equal(["x","y"])})}),describe("#_events",function(){it("list distinct events",function(){var e=o.Animation.compile(null,s('<group>\n        <animation />\n        <animation />\n        <animation on="exit" />\n        <animation on="exit" />\n      </group>'));expect(e._events).to.deep.equal(["","exit"])})})})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(45),a=o(i),s=n(173),u=r(s),c=function(e){return"/spec/scintillator/fixtures/"+e};describe("Scintillator",function(){describe("#load",function(){it("should load skin and return skin node",a["default"].wrap(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("bare.xml"));case 2:t=e.sent,expect(t.width).to.equal(123),expect(t.height).to.equal(456);case 5:case"end":return e.stop()}},e,this)}))),it("should reject if invalid",function(){return expect(u.load(c("invalid_tag.xml"))).to.be.rejected})}),describe("Context",function(){it("should instantiate and able to destroy",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("bare.xml"));case 2:t=e.sent,n=new u.Context(t),n.render({}),n.destroy();case 6:case"end":return e.stop()}},e,this)}))),describe("#input",function(){function e(e,t,n){r.view.dispatchEvent(new MouseEvent("mouse"+e,{clientX:t,clientY:n}))}function t(e,t,n){var o=new Event("touch"+e);o.touches=t,o.changedTouches=n,r.view.dispatchEvent(o)}var n=void 0,r=void 0;beforeEach(a["default"].wrap(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("bare.xml"));case 2:n=e.sent,r=new u.Context(n),r.render({}),r.view.style.position="fixed",r.view.style.top="0",r.view.style.left="0",document.body.appendChild(r.view);
case 9:case"end":return e.stop()}},o,this)}))),afterEach(function(){r.destroy(),document.body.removeChild(r.view)}),it("should report touches/mouse inside the region",function(){e("move",10,10),e("down",10,10),expect(r.input).to.deep.equal([{x:10,y:10,id:"mouse"}]);var n={identifier:1,clientX:80,clientY:80};t("start",[n],[n]),expect(r.input).to.deep.equal([{x:10,y:10,id:"mouse"},{x:80,y:80,id:"touch1"}]),e("move",20,20),expect(r.input).to.deep.equal([{x:20,y:20,id:"mouse"},{x:80,y:80,id:"touch1"}]),e("up",10,10),expect(r.input).to.deep.equal([{x:80,y:80,id:"touch1"}]),t("end",[],[n]),expect(r.input).to.deep.equal([])})}),describe("#refs",function(){it("should be a set of refs to the display object",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("refs.xml"));case 2:t=e.sent,n=new u.Context(t),n.render({}),expect(Array.from(n.refs.a)[0]).to.equal(n.stage.children[0]),n.destroy();case 7:case"end":return e.stop()}},e,this)})))})}),describe("Expressions",function(){it("should be parsed and processed",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("expr_basic.xml"));case 2:t=e.sent,n=new u.Context(t),n.render({}),r=n.stage,expect(r.children[0].x).to.equal(6),expect(r.children[0].y).to.equal(7),n.destroy();case 9:case"end":return e.stop()}},e,this)}))),it("should support variables",a["default"].wrap(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load(c("expr_variables.xml"));case 2:e=t.sent,n=new u.Context(e),r=n.stage,n.render({a:4,b:3}),expect(r.children[0].x).to.equal(7),expect(r.children[0].y).to.equal(12),n.render({a:10,b:20}),expect(r.children[0].x).to.equal(30),expect(r.children[0].y).to.equal(200),n.destroy();case 12:case"end":return t.stop()}},t,this)})))}),describe("SpriteNode",function(){it("should allow setting sprite frame",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("sprite_attrs.xml"));case 2:t=e.sent,n=new u.Context(t),r=n.stage,n.render({}),o=r.children[0].texture.frame,expect(o.width).to.equal(10),expect(o.height).to.equal(11),expect(o.x).to.equal(12),expect(o.y).to.equal(13),n.destroy();case 12:case"end":return e.stop()}},e,this)}))),it("should allow setting visibility, width, height",a["default"].wrap(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load(c("sprite_attrs.xml"));case 2:e=t.sent,n=new u.Context(e),r=n.stage,n.render({}),o=r.children[0],expect(o.width).to.equal(3),expect(o.height).to.equal(1),expect(o.visible).to.equal(!1),n.destroy();case 11:case"end":return t.stop()}},t,this)}))),it("should reject if blend mode is invalid",function(){return expect(u.load(c("sprite_invalid_blend.xml"))).to.be.rejected})}),describe("TextNode",function(){it("should display text",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("text.xml"));case 2:t=e.sent,n=new u.Context(t),r=n.stage,n.render({}),o=r.children[0].children[0],expect(o.text).to.equal("Hello world"),n.destroy();case 9:case"end":return e.stop()}},e,this)}))),it("should center text",a["default"].wrap(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load(c("text_center.xml"));case 2:e=t.sent,n=new u.Context(e),r=n.stage,n.render({}),o=r.children[0].children[0],expect(o.x).to.be.lessThan(0),n.destroy();case 9:case"end":return t.stop()}},t,this)}))),it("should support data interpolation",a["default"].wrap(regeneratorRuntime.mark(function n(){var e,t,r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.load(c("text_interpolation.xml"));case 2:e=n.sent,t=new u.Context(e),r=t.stage,t.render({lol:"wow"}),o=r.children[0].children[0],expect(o.text).to.equal("Hello world wow"),t.destroy();case 9:case"end":return n.stop()}},n,this)})))}),describe("IfNode",function(){it("should display child when correct value",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("expr_if.xml"));case 2:t=e.sent,n=new u.Context(t),r=n.stage,n.render({a:"b"}),expect(r.children[0].children).to.have.length(1),n.destroy();case 8:case"end":return e.stop()}},e,this)}))),it("should not display child when correct value",a["default"].wrap(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load(c("expr_if.xml"));case 2:e=t.sent,n=new u.Context(e),r=n.stage,n.render({a:"x"}),expect(r.children[0].children).to.have.length(0),n.destroy();case 8:case"end":return t.stop()}},t,this)})))}),describe("ObjectNode",function(){it("should display children",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("expr_object.xml"));case 2:t=e.sent,n=new u.Context(t),r=n.stage,n.render({notes:[]}),expect(r.children[0].children).to.have.length(0),n.render({notes:[{key:"a",y:20}]}),expect(r.children[0].children).to.have.length(1),n.render({notes:[{key:"a",y:20},{key:"b",y:10}]}),expect(r.children[0].children).to.have.length(2),n.render({notes:[{key:"b",y:10}]}),expect(r.children[0].children).to.have.length(1),n.destroy();case 14:case"end":return e.stop()}},e,this)}))),it("should update same array with content changed",a["default"].wrap(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load(c("expr_object.xml"));case 2:e=t.sent,n=new u.Context(e),r=n.stage,o=[],n.render({notes:o}),expect(r.children[0].children).to.have.length(0),o.push({key:"a",y:20}),n.render({notes:o}),expect(r.children[0].children).to.have.length(1),n.destroy();case 12:case"end":return t.stop()}},t,this)}))),it("should let children get value from item",a["default"].wrap(regeneratorRuntime.mark(function n(){var e,t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.load(c("expr_object_var.xml"));case 2:e=n.sent,t=new u.Context(e),r=t.stage,t.render({notes:[]}),t.render({notes:[{key:"a",y:20}]}),expect(r.children[0].children[0].y).to.equal(20),t.render({notes:[{key:"a",y:20},{key:"b",y:10}]}),expect(r.children[0].children[0].y).to.equal(20),t.render({notes:[{key:"b",y:10}]}),expect(r.children[0].children[0].y).to.equal(10),t.destroy();case 13:case"end":return n.stop()}},n,this)})))}),describe("GroupNode",function(){it("should allow masking",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("group_mask.xml"));case 2:t=e.sent,n=new u.Context(t),r=n.stage,o=r.children[0].mask,expect(o).not.to.equal(null),n.destroy();case 8:case"end":return e.stop()}},e,this)})))}),describe("AnimationNode",function(){it("should allow animations",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("animation.xml"));case 2:t=e.sent,n=new u.Context(t),r=n.stage.children[0],n.render({t:0}),expect(r.x).to.equal(10),expect(r.y).to.equal(0),n.render({t:.5}),expect(r.x).to.equal(15),expect(r.y).to.equal(1),n.render({t:1}),expect(r.x).to.equal(20),expect(r.y).to.equal(2),n.destroy();case 15:case"end":return e.stop()}},e,this)}))),it("should allow animations on different events",a["default"].wrap(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load(c("animation.xml"));case 2:e=t.sent,n=new u.Context(e),r=n.stage.children[0],n.render({t:.5,exitEvent:.5}),expect(r.x).to.equal(50),expect(r.y).to.equal(0),n.render({t:1,exitEvent:.5}),expect(r.x).to.equal(60),expect(r.y).to.equal(50),n.render({t:1.5,exitEvent:.5}),expect(r.x).to.equal(70),expect(r.y).to.equal(100),n.destroy();case 15:case"end":return t.stop()}},t,this)}))),it("should allow animations on different value",a["default"].wrap(regeneratorRuntime.mark(function n(){var e,t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.load(c("animation_timekey.xml"));case 2:e=n.sent,t=new u.Context(e),r=t.stage.children[0],t.render({t:0,x:.5}),expect(r.x).to.equal(15);case 7:case"end":return n.stop()}},n,this)})))}),describe("defs",function(){it("should allow reuse of skin nodes",a["default"].wrap(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load(c("defs.xml"));case 2:t=e.sent,n=new u.Context(t),n.render({}),r=n.stage,expect(r.children[0].x).to.equal(6),expect(r.children[0].y).to.equal(7),expect(r.children[1].x).to.equal(6),expect(r.children[1].y).to.equal(7),n.destroy();case 11:case"end":return e.stop()}},e,this)})))})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(140),i=r(o);describe("download",function(){it("resolves with correct type",function(){return expect(i["default"]("/spec/utils/fixtures/download/hello.txt").as("text")).to.eventually.match(/hello world/)}),it("rejects for 404",function(){return expect(i["default"]("/nonexistant").as("blob")).to.be.rejected}),it("rejects for bad url",function(){return expect(i["default"]("file:///nonexistant").as("blob")).to.be.rejected}),it("rejects for XHR error",function(){var e=sinon.stub(XMLHttpRequest.prototype,"send",function(){this.onerror(new Error("..."))});return expect(i["default"]("/spec/download/fixtures/hello.txt").as("blob")["finally"](function(){return e.restore()})).to.be.rejected})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(438),i=r(o);describe("Observable",function(){describe("stateless mode",function(){it("should call watchers",function(){var e=sinon.spy(),t=sinon.spy(),n=new i["default"],r=n.watch(e);void expect(e).not.to.have.been.called,n.notify("1"),expect(e).to.have.been.calledWith("1"),n.watch(t),void expect(t).not.to.have.been.called,n.notify("2"),expect(e).to.have.been.calledWith("2"),expect(t).to.have.been.calledWith("2"),r(),n.notify("3"),expect(e).not.to.have.been.calledWith("3"),expect(t).to.have.been.calledWith("3")})}),describe("stateful mode",function(){it("should have value",function(){var e=new i["default"]("0");expect(e.value).to.equal("0")}),it("should call watchers",function(){var e=sinon.spy(),t=sinon.spy(),n=new i["default"]("0"),r=n.watch(e);expect(e).to.have.been.calledWith("0"),n.value="1",expect(e).to.have.been.calledWith("1"),n.watch(t),expect(t).to.have.been.calledWith("1"),n.value="2",expect(e).to.have.been.calledWith("2"),expect(t).to.have.been.calledWith("2"),r(),n.value="3",expect(e).not.to.have.been.calledWith("3"),expect(t).to.have.been.calledWith("3")})})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(90),i=r(o);describe("readBlob",function(){it("rejects when cannot read blob",function(){var e=new Blob(["hello world"]),t=sinon.stub(FileReader.prototype,"readAsText",function(){this.onerror(new Error("..."))});return expect(i["default"](e).as("text")["finally"](function(){return t.restore()})).to.be.rejected}),it("resolves with correct type",function(){var e=new Blob(["hello world"]);return expect(i["default"](e).as("text")).to.eventually.equal("hello world")})})},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e){function t(){return new Promise(function(t,n){var r=i.open(e,1);r.onupgradeneeded=function(e){var r=e.target.result,o=r.createObjectStore("cachier",{keyPath:"_id"});o.transaction.oncomplete=function(){t(r)},o.transaction.onerror=function(){n(new Error("Cannot upgrade database!"))}},r.onerror=function(){n(new Error("Cannot request database!"))},r.onsuccess=function(e){var n=e.target.result;t(n)}})}function n(e){return new Promise(function(t,n){e.onerror=function(){n(new Error("IndexedDB Error: "+e.error))},e.onblocked=function(){console.log(e),n(new Error("IndexedDB Blocked: "+e))},e.onsuccess=function(e){t(e)}})}function r(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t({buffer:r.result,type:e.type})},r.onerror=function(){n(new Error("Unable to convert blob to object!"))},r.readAsArrayBuffer(e)})}function o(e){return e instanceof Blob?e:e.buffer?new Blob([e.buffer],{type:e.type}):void 0}var i=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,a=t();return e=e||"cachier",{connection:a,save:function(e,t,o){var i=!!this._NO_BLOB;return a.then(function(a){return Promise.resolve().then(function(){if(i)throw new Error("Requested non-Blob storing mode");var r=a.transaction("cachier","readwrite").objectStore("cachier").put({_id:e,blob:t,metadata:o});return n(r)})["catch"](function(){return console.log("Cannot store as blob, store as data-URL instead."),r(t).then(function(t){var r=a.transaction("cachier","readwrite").objectStore("cachier").put({_id:e,blob:t,metadata:o});return n(r)})})})},load:function(e){return a.then(function(t){var r=t.transaction("cachier").objectStore("cachier").get(e);return n(r).then(function(){var e=r.result;return{blob:o(e.blob),metadata:e.metadata}})})},"delete":function(e){return a.then(function(t){var r=t.transaction("cachier","readwrite").objectStore("cachier")["delete"](e);return n(r)})},destroyDatabase:function(){return a?a.then(function(e){e.close()}).then(function(){var t=i.deleteDatabase(e);return n(t)}).tap(function(){a=null}):Promise.resolve()}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=new n,t.Cachier=n},,,,,,,,,,,,,function(e,t,n){!function(){"use strict";function t(e,n){function r(e){return"function"==typeof e.always&&"function"==typeof e.done&&"function"==typeof e.fail&&"function"==typeof e.pipe&&"function"==typeof e.progress&&"function"==typeof e.state}function o(e){if("function"!=typeof e._obj.then)throw new TypeError(n.inspect(e._obj)+" is not a thenable.");if(r(e._obj))throw new TypeError("Chai as Promised is incompatible with jQuery's thenables, sorry! Please use a Promises/A+ compatible library (see http://promisesaplus.com/).")}function i(e,t){n.addMethod(p.prototype,e,function(){return o(this),t.apply(this,arguments)})}function a(e,t){n.addProperty(p.prototype,e,function(){return o(this),t.apply(this,arguments)})}function s(e,t){e.then(function(){t()},t)}function u(e,t,n){e.assert(!0,null,t,n.expected,n.actual)}function c(e,t,n){e.assert(!1,t,null,n.expected,n.actual)}function l(e){return"function"==typeof e.then?e:e._obj}function f(e,r,o){if(!n.flag(r,"eventually"))return e.apply(r,o);var i=l(r).then(function(e){return r._obj=e,n.flag(r,"eventually",!1),o?t.transformAsserterArgs(o):o}).then(function(t){return e.apply(r,t),r._obj});t.transferPromiseness(r,i)}var p=e.Assertion,h=e.assert,d=Object.getOwnPropertyNames(p.prototype),v={};d.forEach(function(e){v[e]=Object.getOwnPropertyDescriptor(p.prototype,e)}),a("fulfilled",function(){var e=this,n=l(e).then(function(t){return e._obj=t,u(e,"expected promise not to be fulfilled but it was fulfilled with #{act}",{actual:t}),t},function(t){c(e,"expected promise to be fulfilled but it was rejected with #{act}",{actual:t})});t.transferPromiseness(e,n)}),a("rejected",function(){var e=this,n=l(e).then(function(t){return e._obj=t,c(e,"expected promise to be rejected but it was fulfilled with #{act}",{actual:t}),t},function(t){return u(e,"expected promise not to be rejected but it was rejected with #{act}",{actual:t}),t});t.transferPromiseness(e,n)}),i("rejectedWith",function(e,r){var o=null,i=null;e instanceof RegExp||"string"==typeof e?(r=e,e=null):e&&e instanceof Error?(o=e,e=null,r=null):"function"==typeof e?i=(new e).name:e=null;var a=this,s=l(a).then(function(t){var n=null,s=null;if(e)n="expected promise to be rejected with #{exp} but it was fulfilled with #{act}",s=i;else if(r){var u=r instanceof RegExp?"matching":"including";n="expected promise to be rejected with an error "+u+" #{exp} but it was fulfilled with #{act}",s=r}else o&&(n="expected promise to be rejected with #{exp} but it was fulfilled with #{act}",s=o);a._obj=t,c(a,n,{expected:s,actual:t})},function(t){e&&a.assert(t instanceof e,"expected promise to be rejected with #{exp} but it was rejected with #{act}","expected promise not to be rejected with #{exp} but it was rejected with #{act}",i,t);var s="object"===n.type(t)&&"message"in t?t.message:""+t;r&&null!==s&&void 0!==s&&(r instanceof RegExp&&a.assert(r.test(s),"expected promise to be rejected with an error matching #{exp} but got #{act}","expected promise not to be rejected with an error matching #{exp}",r,s),"string"==typeof r&&a.assert(-1!==s.indexOf(r),"expected promise to be rejected with an error including #{exp} but got #{act}","expected promise not to be rejected with an error including #{exp}",r,s)),o&&a.assert(t===o,"expected promise to be rejected with #{exp} but it was rejected with #{act}","expected promise not to be rejected with #{exp}",o,t)});t.transferPromiseness(a,s)}),a("eventually",function(){n.flag(this,"eventually",!0)}),i("notify",function(e){s(l(this),e)}),i("become",function(e){return this.eventually.deep.equal(e)});var m=d.filter(function(e){return"assert"!==e&&"function"==typeof v[e].value});m.forEach(function(e){p.overwriteMethod(e,function(e){return function(){f(e,this,arguments)}})});var g=d.filter(function(e){return"_obj"!==e&&"function"==typeof v[e].get});g.forEach(function(e){var t=p.prototype.__methods.hasOwnProperty(e);t?p.overwriteChainableMethod(e,function(e){return function(){f(e,this,arguments)}},function(e){return function(){f(e,this)}}):p.overwriteProperty(e,function(e){return function(){f(e,this)}})});var y=Object.getOwnPropertyNames(h).filter(function(e){return"function"==typeof h[e]});h.isFulfilled=function(e,t){return new p(e,t).to.be.fulfilled},h.isRejected=function(e,t,n){"string"==typeof t&&(n=t,t=void 0);var r=new p(e,n);return void 0!==t?r.to.be.rejectedWith(t):r.to.be.rejected},h.becomes=function(e,t,n){return h.eventually.deepEqual(e,t,n)},h.doesNotBecome=function(e,t,n){return h.eventually.notDeepEqual(e,t,n)},h.eventually={},y.forEach(function(t){h.eventually[t]=function(r){var o,i=Array.prototype.slice.call(arguments,1),a=arguments[h[t].length-1];"string"==typeof a&&(o=function(t){throw new e.AssertionError(a+"\n\nOriginal reason: "+n.inspect(t))});var u=r.then(function(e){return h[t].apply(h,[e].concat(i))},o);return u.notify=function(e){s(u,e)},u}})}e.exports=t,t.transferPromiseness=function(e,t){e.then=t.then.bind(t)},t.transformAsserterArgs=function(e){return e}}()},function(e,t,n){e.exports=n(883)},function(e,t,n){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=[],t=e.exports={};/*!
	 * Chai version
	 */
t.version="3.2.0",/*!
	 * Assertion Error
	 */
t.AssertionError=n(901);/*!
	 * Utils for plugins (not exported)
	 */
var o=n(896);t.use=function(e){return~r.indexOf(e)||(e(this,o),r.push(e)),this},/*!
	 * Utility Functions
	 */
t.util=o;/*!
	 * Configuration
	 */
var i=n(439);t.config=i;/*!
	 * Primary `Assertion` prototype
	 */
var a=n(884);t.use(a);/*!
	 * Core Assertions
	 */
var s=n(885);t.use(s);/*!
	 * Expect interface
	 */
var u=n(887);t.use(u);/*!
	 * Should interface
	 */
var c=n(888);t.use(c);/*!
	 * Assert interface
	 */
var l=n(886);t.use(l)},function(e,t,n){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=n(439);e.exports=function(e,t){/*!
	   * Assertion Constructor
	   *
	   * Creates object for chaining.
	   *
	   * @api private
	   */
function n(e,t,n){i(this,"ssfi",n||arguments.callee),i(this,"object",e),i(this,"message",t)}/*!
	   * Module dependencies.
	   */
var o=e.AssertionError,i=t.flag;/*!
	   * Module export.
	   */
e.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=e}}),Object.defineProperty(n,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=e}}),n.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},n.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},n.addChainableMethod=function(e,n,r){t.addChainableMethod(this.prototype,e,n,r)},n.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},n.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},n.overwriteChainableMethod=function(e,n,r){t.overwriteChainableMethod(this.prototype,e,n,r)},n.prototype.assert=function(e,n,a,s,u,c){var l=t.test(this,arguments);if(!0!==c&&(c=!1),!0!==r.showDiff&&(c=!1),!l){var n=t.getMessage(this,arguments),f=t.getActual(this,arguments);throw new o(n,{actual:f,expected:s,showDiff:c},r.includeStack?this.assert:i(this,"ssfi"))}},/*!
	   * ### ._obj
	   *
	   * Quick reference to stored `actual` value for plugin developers.
	   *
	   * @api private
	   */
Object.defineProperty(n.prototype,"_obj",{get:function(){return i(this,"object")},set:function(e){i(this,"object",e)}})}},function(e,t){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t){function n(e,n){n&&O(this,"message",n),e=e.toLowerCase();var r=O(this,"object"),o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(r),"expected #{this} to be "+o+e,"expected #{this} not to be "+o+e)}function r(){O(this,"contains",!0)}function o(e,n){n&&O(this,"message",n);var r=O(this,"object"),o=!1;if("array"===t.type(r)&&"object"===t.type(e)){for(var i in r)if(t.eql(r[i],e)){o=!0;break}}else if("object"===t.type(e)){if(!O(this,"negate")){for(var a in e)new T(r).property(a,e[a]);return}var s={};for(var a in e)s[a]=r[a];o=t.eql(s,e)}else o=r&&~r.indexOf(e);this.assert(o,"expected #{this} to include "+t.inspect(e),"expected #{this} to not include "+t.inspect(e))}function i(){var e=O(this,"object"),t=Object.prototype.toString.call(e);this.assert("[object Arguments]"===t,"expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}function a(e,t){t&&O(this,"message",t);var n=O(this,"object");return O(this,"deep")?this.eql(e):void this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function s(e,n){n&&O(this,"message",n),this.assert(t.eql(e,O(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function u(e,t){t&&O(this,"message",t);var n=O(this,"object");if(O(this,"doLength")){new T(n,t).to.have.property("length");var r=n.length;this.assert(r>e,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",e,r)}else this.assert(n>e,"expected #{this} to be above "+e,"expected #{this} to be at most "+e)}function c(e,t){t&&O(this,"message",t);var n=O(this,"object");if(O(this,"doLength")){new T(n,t).to.have.property("length");var r=n.length;this.assert(r>=e,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",e,r)}else this.assert(n>=e,"expected #{this} to be at least "+e,"expected #{this} to be below "+e)}function l(e,t){t&&O(this,"message",t);var n=O(this,"object");if(O(this,"doLength")){new T(n,t).to.have.property("length");var r=n.length;this.assert(e>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",e,r)}else this.assert(e>n,"expected #{this} to be below "+e,"expected #{this} to be at least "+e)}function f(e,t){t&&O(this,"message",t);var n=O(this,"object");if(O(this,"doLength")){new T(n,t).to.have.property("length");var r=n.length;this.assert(e>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",e,r)}else this.assert(e>=n,"expected #{this} to be at most "+e,"expected #{this} to be above "+e)}function p(e,n){n&&O(this,"message",n);var r=t.getName(e);this.assert(O(this,"object")instanceof e,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function h(e,n){n&&O(this,"message",n);var r=O(this,"object");this.assert(r.hasOwnProperty(e),"expected #{this} to have own property "+t.inspect(e),"expected #{this} to not have own property "+t.inspect(e))}function d(e,n,r){"string"==typeof n&&(r=n,n=null),r&&O(this,"message",r);var o=O(this,"object"),i=Object.getOwnPropertyDescriptor(Object(o),e);i&&n?this.assert(t.eql(n,i),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to match "+t.inspect(n)+", got "+t.inspect(i),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to not match "+t.inspect(n),n,i,!0):this.assert(i,"expected #{this} to have an own property descriptor for "+t.inspect(e),"expected #{this} to not have an own property descriptor for "+t.inspect(e)),O(this,"object",i)}function v(){O(this,"doLength",!0)}function m(e,t){t&&O(this,"message",t);var n=O(this,"object");new T(n,t).to.have.property("length");var r=n.length;this.assert(r==e,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",e,r)}function g(e,t){t&&O(this,"message",t);var n=O(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function y(e){var n,r=O(this,"object"),o=!0,i="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(t.type(e)){case"array":if(arguments.length>1)throw new Error(i);break;case"object":if(arguments.length>1)throw new Error(i);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}if(!e.length)throw new Error("keys required");var a=Object.keys(r),s=e,u=e.length,c=O(this,"any"),l=O(this,"all");if(c||l||(l=!0),c){var f=s.filter(function(e){return~a.indexOf(e)});o=f.length>0}if(l&&(o=e.every(function(e){return~a.indexOf(e)}),O(this,"negate")||O(this,"contains")||(o=o&&e.length==a.length)),u>1){e=e.map(function(e){return t.inspect(e)});var p=e.pop();l&&(n=e.join(", ")+", and "+p),c&&(n=e.join(", ")+", or "+p)}else n=t.inspect(e[0]);n=(u>1?"keys ":"key ")+n,n=(O(this,"contains")?"contain ":"have ")+n,this.assert(o,"expected #{this} to "+n,"expected #{this} to not "+n,s.slice(0).sort(),a.sort(),!0)}function b(e,n,r){r&&O(this,"message",r);var o=O(this,"object");new T(o,r).is.a("function");var i=!1,a=null,s=null,u=null;0===arguments.length?(n=null,e=null):e&&(e instanceof RegExp||"string"==typeof e)?(n=e,e=null):e&&e instanceof Error?(a=e,e=null,n=null):"function"==typeof e?(s=e.prototype.name||e.name,"Error"===s&&e!==Error&&(s=(new e).name)):e=null;try{o()}catch(c){if(a)return this.assert(c===a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",a instanceof Error?a.toString():a,c instanceof Error?c.toString():c),O(this,"object",c),this;if(e&&(this.assert(c instanceof e,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",s,c instanceof Error?c.toString():c),!n))return O(this,"object",c),this;var l="error"===t.type(c)&&"message"in c?c.message:""+c;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),O(this,"object",c),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),O(this,"object",c),this;i=!0,u=c}var f="",p=null!==s?s:a?"#{exp}":"an error";i&&(f=" but #{act} was thrown"),this.assert(i===!0,"expected #{this} to throw "+p+f,"expected #{this} to not throw "+p+f,a instanceof Error?a.toString():a,u instanceof Error?u.toString():u),O(this,"object",u)}function _(e,n){n&&O(this,"message",n);var r=O(this,"object"),o=O(this,"itself"),i="function"!==t.type(r)||o?r[e]:r.prototype[e];this.assert("function"==typeof i,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}function w(e,n){n&&O(this,"message",n);var r=O(this,"object"),o=e(r);this.assert(o,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),this.negate?!1:!0,o)}function x(e,t,n){return e.every(function(e){return n?t.some(function(t){return n(e,t)}):-1!==t.indexOf(e)})}function E(e,t,n){n&&O(this,"message",n);var r=O(this,"object");new T(e,n).to.have.property(t),new T(r).is.a("function");var o=e[t];r(),this.assert(o!==e[t],"expected ."+t+" to change","expected ."+t+" to not change")}function S(e,t,n){n&&O(this,"message",n);var r=O(this,"object");new T(e,n).to.have.property(t),new T(r).is.a("function");var o=e[t];r(),this.assert(e[t]-o>0,"expected ."+t+" to increase","expected ."+t+" to not increase")}function C(e,t,n){n&&O(this,"message",n);var r=O(this,"object");new T(e,n).to.have.property(t),new T(r).is.a("function");var o=e[t];r(),this.assert(e[t]-o<0,"expected ."+t+" to decrease","expected ."+t+" to not decrease")}var T=e.Assertion,O=(Object.prototype.toString,t.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(e){T.addProperty(e,function(){return this})}),T.addProperty("not",function(){O(this,"negate",!0)}),T.addProperty("deep",function(){O(this,"deep",!0)}),T.addProperty("any",function(){O(this,"any",!0),O(this,"all",!1)}),T.addProperty("all",function(){O(this,"all",!0),O(this,"any",!1)}),T.addChainableMethod("an",n),T.addChainableMethod("a",n),T.addChainableMethod("include",o,r),T.addChainableMethod("contain",o,r),T.addChainableMethod("contains",o,r),T.addChainableMethod("includes",o,r),T.addProperty("ok",function(){this.assert(O(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),T.addProperty("true",function(){this.assert(!0===O(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),T.addProperty("false",function(){this.assert(!1===O(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),T.addProperty("null",function(){this.assert(null===O(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),T.addProperty("undefined",function(){this.assert(void 0===O(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),T.addProperty("NaN",function(){this.assert(isNaN(O(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),T.addProperty("exist",function(){this.assert(null!=O(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),T.addProperty("empty",function(){var e=O(this,"object"),t=e;Array.isArray(e)||"string"==typeof object?t=e.length:"object"==typeof e&&(t=Object.keys(e).length),this.assert(!t,"expected #{this} to be empty","expected #{this} not to be empty")}),T.addProperty("arguments",i),T.addProperty("Arguments",i),T.addMethod("equal",a),T.addMethod("equals",a),T.addMethod("eq",a),T.addMethod("eql",s),T.addMethod("eqls",s),T.addMethod("above",u),T.addMethod("gt",u),T.addMethod("greaterThan",u),T.addMethod("least",c),T.addMethod("gte",c),T.addMethod("below",l),T.addMethod("lt",l),T.addMethod("lessThan",l),T.addMethod("most",f),T.addMethod("lte",f),T.addMethod("within",function(e,t,n){n&&O(this,"message",n);var r=O(this,"object"),o=e+".."+t;if(O(this,"doLength")){new T(r,n).to.have.property("length");var i=r.length;this.assert(i>=e&&t>=i,"expected #{this} to have a length within "+o,"expected #{this} to not have a length within "+o)}else this.assert(r>=e&&t>=r,"expected #{this} to be within "+o,"expected #{this} to not be within "+o)}),T.addMethod("instanceof",p),T.addMethod("instanceOf",p),T.addMethod("property",function(e,n,r){r&&O(this,"message",r);var o=!!O(this,"deep"),i=o?"deep property ":"property ",a=O(this,"negate"),s=O(this,"object"),u=o?t.getPathInfo(e,s):null,c=o?u.exists:t.hasProperty(e,s),l=o?u.value:s[e];if(a&&arguments.length>1){if(void 0===l)throw r=null!=r?r+": ":"",new Error(r+t.inspect(s)+" has no "+i+t.inspect(e))}else this.assert(c,"expected #{this} to have a "+i+t.inspect(e),"expected #{this} to not have "+i+t.inspect(e));arguments.length>1&&this.assert(n===l,"expected #{this} to have a "+i+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have a "+i+t.inspect(e)+" of #{act}",n,l),O(this,"object",l)}),T.addMethod("ownProperty",h),T.addMethod("haveOwnProperty",h),T.addMethod("ownPropertyDescriptor",d),T.addMethod("haveOwnPropertyDescriptor",d),T.addChainableMethod("length",m,v),T.addMethod("lengthOf",m),T.addMethod("match",g),T.addMethod("matches",g),T.addMethod("string",function(e,n){n&&O(this,"message",n);var r=O(this,"object");new T(r,n).is.a("string"),this.assert(~r.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))}),T.addMethod("keys",y),T.addMethod("key",y),T.addMethod("throw",b),T.addMethod("throws",b),T.addMethod("Throw",b),T.addMethod("respondTo",_),T.addMethod("respondsTo",_),T.addProperty("itself",function(){O(this,"itself",!0)}),T.addMethod("satisfy",w),T.addMethod("satisfies",w),T.addMethod("closeTo",function(e,n,r){r&&O(this,"message",r);var o=O(this,"object");if(new T(o,r).is.a("number"),"number"!==t.type(e)||"number"!==t.type(n))throw new Error("the arguments to closeTo must be numbers");this.assert(Math.abs(o-e)<=n,"expected #{this} to be close to "+e+" +/- "+n,"expected #{this} not to be close to "+e+" +/- "+n)}),T.addMethod("members",function(e,n){n&&O(this,"message",n);var r=O(this,"object");new T(r).to.be.an("array"),new T(e).to.be.an("array");var o=O(this,"deep")?t.eql:void 0;return O(this,"contains")?this.assert(x(e,r,o),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,e):void this.assert(x(r,e,o)&&x(e,r,o),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,e)}),T.addChainableMethod("change",E),T.addChainableMethod("changes",E),T.addChainableMethod("increase",S),T.addChainableMethod("increases",S),T.addChainableMethod("decrease",C),T.addChainableMethod("decreases",C),T.addProperty("extensible",function(){var e=O(this,"object");this.assert(Object.isExtensible(e),"expected #{this} to be extensible","expected #{this} to not be extensible")}),T.addProperty("sealed",function(){var e=O(this,"object");this.assert(Object.isSealed(e),"expected #{this} to be sealed","expected #{this} to not be sealed")}),T.addProperty("frozen",function(){var e=O(this,"object");this.assert(Object.isFrozen(e),"expected #{this} to be frozen","expected #{this} to not be frozen")})}},function(e,t){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t){/*!
	   * Chai dependencies.
	   */
var n=e.Assertion,r=t.flag,o=e.assert=function(t,r){var o=new n(null,null,e.assert);o.assert(t,r,"[ negation message unavailable ]")};o.fail=function(t,n,r,i){throw r=r||"assert.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:i},o.fail)},o.isOk=function(e,t){new n(e,t).is.ok},o.isNotOk=function(e,t){new n(e,t).is.not.ok},o.equal=function(e,t,i){var a=new n(e,i,o.equal);a.assert(t==r(a,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e)},o.notEqual=function(e,t,i){var a=new n(e,i,o.notEqual);a.assert(t!=r(a,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e)},o.strictEqual=function(e,t,r){new n(e,r).to.equal(t)},o.notStrictEqual=function(e,t,r){new n(e,r).to.not.equal(t)},o.deepEqual=function(e,t,r){new n(e,r).to.eql(t)},o.notDeepEqual=function(e,t,r){new n(e,r).to.not.eql(t)},o.isAbove=function(e,t,r){new n(e,r).to.be.above(t)},o.isBelow=function(e,t,r){new n(e,r).to.be.below(t)},o.isTrue=function(e,t){new n(e,t).is["true"]},o.isFalse=function(e,t){new n(e,t).is["false"]},o.isNull=function(e,t){new n(e,t).to.equal(null)},o.isNotNull=function(e,t){new n(e,t).to.not.equal(null)},o.isNaN=function(e,t){new n(e,t).to.be.NaN},o.isNotNaN=function(e,t){new n(e,t).not.to.be.NaN},o.isUndefined=function(e,t){new n(e,t).to.equal(void 0)},o.isDefined=function(e,t){new n(e,t).to.not.equal(void 0)},o.isFunction=function(e,t){new n(e,t).to.be.a("function")},o.isNotFunction=function(e,t){new n(e,t).to.not.be.a("function")},o.isObject=function(e,t){new n(e,t).to.be.a("object")},o.isNotObject=function(e,t){new n(e,t).to.not.be.a("object")},o.isArray=function(e,t){new n(e,t).to.be.an("array")},o.isNotArray=function(e,t){new n(e,t).to.not.be.an("array")},o.isString=function(e,t){new n(e,t).to.be.a("string")},o.isNotString=function(e,t){new n(e,t).to.not.be.a("string")},o.isNumber=function(e,t){new n(e,t).to.be.a("number")},o.isNotNumber=function(e,t){new n(e,t).to.not.be.a("number")},o.isBoolean=function(e,t){new n(e,t).to.be.a("boolean")},o.isNotBoolean=function(e,t){new n(e,t).to.not.be.a("boolean")},o.typeOf=function(e,t,r){new n(e,r).to.be.a(t)},o.notTypeOf=function(e,t,r){new n(e,r).to.not.be.a(t)},o.instanceOf=function(e,t,r){new n(e,r).to.be.instanceOf(t)},o.notInstanceOf=function(e,t,r){new n(e,r).to.not.be.instanceOf(t)},o.include=function(e,t,r){new n(e,r,o.include).include(t)},o.notInclude=function(e,t,r){new n(e,r,o.notInclude).not.include(t)},o.match=function(e,t,r){new n(e,r).to.match(t)},o.notMatch=function(e,t,r){new n(e,r).to.not.match(t)},o.property=function(e,t,r){new n(e,r).to.have.property(t)},o.notProperty=function(e,t,r){new n(e,r).to.not.have.property(t)},o.deepProperty=function(e,t,r){new n(e,r).to.have.deep.property(t)},o.notDeepProperty=function(e,t,r){new n(e,r).to.not.have.deep.property(t)},o.propertyVal=function(e,t,r,o){new n(e,o).to.have.property(t,r)},o.propertyNotVal=function(e,t,r,o){new n(e,o).to.not.have.property(t,r)},o.deepPropertyVal=function(e,t,r,o){new n(e,o).to.have.deep.property(t,r)},o.deepPropertyNotVal=function(e,t,r,o){new n(e,o).to.not.have.deep.property(t,r)},o.lengthOf=function(e,t,r){new n(e,r).to.have.length(t)},o["throws"]=function(e,t,o,i){("string"==typeof t||t instanceof RegExp)&&(o=t,t=null);var a=new n(e,i).to["throw"](t,o);return r(a,"object")},o.doesNotThrow=function(e,t,r){"string"==typeof t&&(r=t,t=null),new n(e,r).to.not.Throw(t)},o.operator=function(e,o,i,a){var s;switch(o){case"==":s=e==i;break;case"===":s=e===i;break;case">":s=e>i;break;case">=":s=e>=i;break;case"<":s=i>e;break;case"<=":s=i>=e;break;case"!=":s=e!=i;break;case"!==":s=e!==i;break;default:throw new Error('Invalid operator "'+o+'"')}var u=new n(s,a);u.assert(!0===r(u,"object"),"expected "+t.inspect(e)+" to be "+o+" "+t.inspect(i),"expected "+t.inspect(e)+" to not be "+o+" "+t.inspect(i))},o.closeTo=function(e,t,r,o){new n(e,o).to.be.closeTo(t,r)},o.sameMembers=function(e,t,r){new n(e,r).to.have.same.members(t)},o.sameDeepMembers=function(e,t,r){new n(e,r).to.have.same.deep.members(t)},o.includeMembers=function(e,t,r){new n(e,r).to.include.members(t)},o.changes=function(e,t,r){new n(e).to.change(t,r)},o.doesNotChange=function(e,t,r){new n(e).to.not.change(t,r)},o.increases=function(e,t,r){new n(e).to.increase(t,r)},o.doesNotIncrease=function(e,t,r){new n(e).to.not.increase(t,r)},o.decreases=function(e,t,r){new n(e).to.decrease(t,r)},o.doesNotDecrease=function(e,t,r){new n(e).to.not.decrease(t,r)},/*!
	   * ### .ifError(object)
	   *
	   * Asserts if value is not a false value, and throws if it is a true value.
	   * This is added to allow for chai to be a drop-in replacement for Node's
	   * assert class.
	   *
	   *     var err = new Error('I am a custom error');
	   *     assert.ifError(err); // Rethrows err!
	   *
	   * @name ifError
	   * @param {Object} object
	   * @api public
	   */
o.ifError=function(e){if(e)throw e},o.isExtensible=function(e,t){new n(e,t).to.be.extensible},o.isNotExtensible=function(e,t){new n(e,t).to.not.be.extensible},o.isSealed=function(e,t){new n(e,t).to.be.sealed},o.isNotSealed=function(e,t){new n(e,t).to.not.be.sealed},o.isFrozen=function(e,t){new n(e,t).to.be.frozen},o.isNotFrozen=function(e,t){new n(e,t).to.not.be.frozen},/*!
	   * Aliases.
	   */
function i(e,t){return o[t]=o[e],i}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")}},function(e,t){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,r,o){throw r=r||"expect.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:o},e.expect.fail)}}},function(e,t){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t){function n(){function t(){return this instanceof String||this instanceof Number||this instanceof Boolean?new r(this.valueOf(),null,t):new r(this,null,t)}function n(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:n,get:t,configurable:!0});var o={};return o.fail=function(t,n,r,i){throw r=r||"should.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:i},o.fail)},o.equal=function(e,t,n){new r(e,n).to.equal(t)},o.Throw=function(e,t,n,o){new r(e,o).to.Throw(t,n)},o.exist=function(e,t){new r(e,t).to.exist},o.not={},o.not.equal=function(e,t,n){new r(e,n).to.not.equal(t)},o.not.Throw=function(e,t,n,o){new r(e,o).to.not.Throw(t,n)},o.not.exist=function(e,t){new r(e,t).to.not.exist},o["throw"]=o.Throw,o.not["throw"]=o.not.Throw,o}var r=e.Assertion;e.should=n,e.Should=n}},function(e,t,n){/*!
	 * Chai - addChainingMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var r=n(701),o=n(440),i=n(439),a="__proto__"in Object,s=/^(?:length|name|arguments|caller)$/,u=Function.prototype.call,c=Function.prototype.apply;e.exports=function(e,t,n,l){"function"!=typeof l&&(l=function(){});var f={method:n,chainingBehavior:l};e.__methods||(e.__methods={}),e.__methods[t]=f,Object.defineProperty(e,t,{get:function(){f.chainingBehavior.call(this);var t=function p(){var e=o(this,"ssfi");e&&i.includeStack===!1&&o(this,"ssfi",p);var t=f.method.apply(this,arguments);return void 0===t?this:t};if(a){var n=t.__proto__=Object.create(this);n.call=u,n.apply=c}else{var l=Object.getOwnPropertyNames(e);l.forEach(function(n){if(!s.test(n)){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}})}return r(this,t),t},configurable:!0})}},function(e,t,n){/*!
	 * Chai - addMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=n(439),o=n(440);e.exports=function(e,t,n){e[t]=function(){var i=o(this,"ssfi");i&&r.includeStack===!1&&o(this,"ssfi",e[t]);var a=n.apply(this,arguments);return void 0===a?this:a}}},function(e,t){/*!
	 * Chai - addProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t,n){Object.defineProperty(e,t,{get:function(){var e=n.call(this);return void 0===e?this:e},configurable:!0})}},function(e,t){/*!
	 * Chai - getEnumerableProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e){var t=[];for(var n in e)t.push(n);return t}},function(e,t,n){/*!
	 * Chai - message composition utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=n(440),o=n(696),i=(n(653),n(700));e.exports=function(e,t){var n=r(e,"negate"),a=r(e,"object"),s=t[3],u=o(e,t),c=n?t[2]:t[1],l=r(e,"message");return"function"==typeof c&&(c=c()),c=c||"",c=c.replace(/#{this}/g,i(a)).replace(/#{act}/g,i(u)).replace(/#{exp}/g,i(s)),l?l+": "+c:c}},function(e,t,n){/*!
	 * Chai - getPathValue utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * @see https://github.com/logicalparadox/filtr
	 * MIT Licensed
	 */
var r=n(698);e.exports=function(e,t){var n=r(e,t);return n.value}},function(e,t){/*!
	 * Chai - getProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e){function t(e){-1===n.indexOf(e)&&n.push(e)}for(var n=Object.getOwnPropertyNames(e),r=Object.getPrototypeOf(e);null!==r;)Object.getOwnPropertyNames(r).forEach(t),r=Object.getPrototypeOf(r);return n}},function(e,t,n){/*!
	 * chai
	 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Main exports
	 */
var t=e.exports={};/*!
	 * test utility
	 */
t.test=n(900),/*!
	 * type utility
	 */
t.type=n(702),/*!
	 * message utility
	 */
t.getMessage=n(893),/*!
	 * actual utility
	 */
t.getActual=n(696),/*!
	 * Inspect util
	 */
t.inspect=n(653),/*!
	 * Object Display util
	 */
t.objDisplay=n(700),/*!
	 * Flag utility
	 */
t.flag=n(440),/*!
	 * Flag transferring utility
	 */
t.transferFlags=n(701),/*!
	 * Deep equal utility
	 */
t.eql=n(902),/*!
	 * Deep path value
	 */
t.getPathValue=n(894),/*!
	 * Deep path info
	 */
t.getPathInfo=n(698),/*!
	 * Check if a property exists
	 */
t.hasProperty=n(699),/*!
	 * Function name
	 */
t.getName=n(697),/*!
	 * add Property
	 */
t.addProperty=n(891),/*!
	 * add Method
	 */
t.addMethod=n(890),/*!
	 * overwrite Property
	 */
t.overwriteProperty=n(899),/*!
	 * overwrite Method
	 */
t.overwriteMethod=n(898),/*!
	 * Add a chainable method
	 */
t.addChainableMethod=n(889),/*!
	 * Overwrite chainable method
	 */
t.overwriteChainableMethod=n(897)},function(e,t){/*!
	 * Chai - overwriteChainableMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t,n,r){var o=e.__methods[t],i=o.chainingBehavior;o.chainingBehavior=function(){var e=r(i).call(this);return void 0===e?this:e};var a=o.method;o.method=function(){var e=n(a).apply(this,arguments);return void 0===e?this:e}}},function(e,t){/*!
	 * Chai - overwriteMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t,n){var r=e[t],o=function(){return this};r&&"function"==typeof r&&(o=r),e[t]=function(){var e=n(o).apply(this,arguments);return void 0===e?this:e}}},function(e,t){/*!
	 * Chai - overwriteProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
e.exports=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t),o=function(){};r&&"function"==typeof r.get&&(o=r.get),Object.defineProperty(e,t,{get:function(){var e=n(o).call(this);return void 0===e?this:e},configurable:!0})}},function(e,t,n){/*!
	 * Chai - test utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=n(440);e.exports=function(e,t){var n=r(e,"negate"),o=t[0];return n?!o:o}},function(e,t){/*!
	 * assertion-error
	 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
	 * MIT Licensed
	 */
/*!
	 * Return a function that will copy properties from
	 * one object to another excluding any originally
	 * listed. Returned function will create a new `{}`.
	 *
	 * @param {String} excluded properties ...
	 * @return {Function}
	 */
function n(){function e(e,n){Object.keys(n).forEach(function(r){~t.indexOf(r)||(e[r]=n[r])})}var t=[].slice.call(arguments);return function(){for(var t=[].slice.call(arguments),n=0,r={};n<t.length;n++)e(r,t[n]);return r}}function r(e,t,r){var o=n("name","message","stack","constructor","toJSON"),i=o(t||{});this.message=e||"Unspecified AssertionError",this.showDiff=!1;for(var a in i)this[a]=i[a];r=r||arguments.callee,r&&Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack}/*!
	 * Primary Exports
	 */
e.exports=r,/*!
	 * Inherit from Error.prototype
	 */
r.prototype=Object.create(Error.prototype),/*!
	 * Statically set name
	 */
r.prototype.name="AssertionError",/*!
	 * Ensure correct constructor
	 */
r.prototype.constructor=r,r.prototype.toJSON=function(e){var t=n("constructor","toJSON","stack"),r=t({name:this.name},this);return!1!==e&&this.stack&&(r.stack=this.stack),r}},function(e,t,n){e.exports=n(903)},function(e,t,n){function r(e,t,n){return o(e,t)?!0:"date"===v(e)?a(e,t):"regexp"===v(e)?s(e,t):d.isBuffer(e)?f(e,t):"arguments"===v(e)?u(e,t,n):i(e,t)?"object"!==v(e)&&"object"!==v(t)&&"array"!==v(e)&&"array"!==v(t)?o(e,t):h(e,t,n):!1}/*!
	 * Strict (egal) equality test. Ensures that NaN always
	 * equals NaN and `-0` does not equal `+0`.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} equal match
	 */
function o(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}/*!
	 * Compare the types of two given objects and
	 * return if they are equal. Note that an Array
	 * has a type of `array` (not `object`) and arguments
	 * have a type of `arguments` (not `array`/`object`).
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function i(e,t){return v(e)===v(t)}/*!
	 * Compare two Date objects by asserting that
	 * the time values are equal using `saveValue`.
	 *
	 * @param {Date} a
	 * @param {Date} b
	 * @return {Boolean} result
	 */
function a(e,t){return"date"!==v(t)?!1:o(e.getTime(),t.getTime())}/*!
	 * Compare two regular expressions by converting them
	 * to string and checking for `sameValue`.
	 *
	 * @param {RegExp} a
	 * @param {RegExp} b
	 * @return {Boolean} result
	 */
function s(e,t){return"regexp"!==v(t)?!1:o(e.toString(),t.toString())}/*!
	 * Assert deep equality of two `arguments` objects.
	 * Unfortunately, these must be sliced to arrays
	 * prior to test to ensure no bad behavior.
	 *
	 * @param {Arguments} a
	 * @param {Arguments} b
	 * @param {Array} memoize (optional)
	 * @return {Boolean} result
	 */
function u(e,t,n){return"arguments"!==v(t)?!1:(e=[].slice.call(e),t=[].slice.call(t),r(e,t,n))}/*!
	 * Get enumerable properties of a given object.
	 *
	 * @param {Object} a
	 * @return {Array} property names
	 */
function c(e){var t=[];for(var n in e)t.push(n);return t}/*!
	 * Simple equality for flat iterable objects
	 * such as Arrays or Node.js buffers.
	 *
	 * @param {Iterable} a
	 * @param {Iterable} b
	 * @return {Boolean} result
	 */
function l(e,t){if(e.length!==t.length)return!1;for(var n=0,r=!0;n<e.length;n++)if(e[n]!==t[n]){r=!1;break}return r}/*!
	 * Extension to `iterableEqual` specifically
	 * for Node.js Buffers.
	 *
	 * @param {Buffer} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function f(e,t){return d.isBuffer(t)?l(e,t):!1}/*!
	 * Block for `objectEqual` ensuring non-existing
	 * values don't get in.
	 *
	 * @param {Mixed} object
	 * @return {Boolean} result
	 */
function p(e){return null!==e&&void 0!==e}/*!
	 * Recursively check the equality of two objects.
	 * Once basic sameness has been established it will
	 * defer to `deepEqual` for each enumerable key
	 * in the object.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function h(e,t,n){if(!p(e)||!p(t))return!1;if(e.prototype!==t.prototype)return!1;var o;if(n){for(o=0;o<n.length;o++)if(n[o][0]===e&&n[o][1]===t||n[o][0]===t&&n[o][1]===e)return!0}else n=[];try{var i=c(e),a=c(t)}catch(s){return!1}if(i.sort(),a.sort(),!l(i,a))return!1;n.push([e,t]);var u;for(o=i.length-1;o>=0;o--)if(u=i[o],!r(e[u],t[u],n))return!1;return!0}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var d,v=n(904);try{d=n(146).Buffer}catch(m){d={},d.isBuffer=function(){return!1}}/*!
	 * Primary Export
	 */
e.exports=r},function(e,t,n){e.exports=n(905)},function(e,t){function n(e){var t=Object.prototype.toString.call(e);return o[t]?o[t]:null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}function r(){this.tests={}}/*!
	 * type-detect
	 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Primary Exports
	 */
var t=e.exports=n,o={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};t.Library=r,r.prototype.of=n,r.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},r.prototype.test=function(e,t){if(t===n(e))return!0;var r=this.tests[t];if(r&&"regexp"===n(r))return r.test(e);if(r&&"function"===n(r))return r(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')}},function(e,t){function n(e){var t=Object.prototype.toString.call(e).match(o)[1].toLowerCase();return"function"==typeof Promise&&e instanceof Promise?"promise":null===e?"null":void 0===e?"undefined":t}function r(){return this instanceof r?void(this.tests={}):new r}/*!
	 * type-detect
	 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Primary Exports
	 */
var t=e.exports=n,o=/^\[object (.*)\]$/;t.Library=r,r.prototype.of=n,r.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},r.prototype.test=function(e,t){if(t===n(e))return!0;var r=this.tests[t];if(r&&"regexp"===n(r))return r.test(e);if(r&&"function"===n(r))return r(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')}},function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"@charset \"utf-8\";body{margin:0}#mocha{font:20px/1.5 \"Helvetica Neue\",Helvetica,Arial,sans-serif;margin:60px 50px}#mocha li,#mocha ul{margin:0;padding:0}#mocha ul{list-style:none}#mocha h1,#mocha h2{margin:0}#mocha h1{margin-top:15px;font-size:1em;font-weight:200}#mocha h1 a{text-decoration:none;color:inherit}#mocha h1 a:hover{text-decoration:underline}#mocha .suite .suite h1{margin-top:0;font-size:.8em}#mocha .hidden{display:none}#mocha h2{font-size:9pt;font-weight:400;cursor:pointer}#mocha .suite,#mocha .test{margin-left:15px}#mocha .test{overflow:hidden}#mocha .test.pending:hover h2:after{content:'(pending)';font-family:arial,sans-serif}#mocha .test.pass.medium .duration{background:#c09853}#mocha .test.pass.slow .duration{background:#b94a48}#mocha .test.pass:before{content:'\\2713';font-size:9pt;display:block;float:left;margin-right:5px;color:#00d6b2}#mocha .test.pass .duration{font-size:9px;margin-left:5px;padding:2px 5px;color:#fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.2);border-radius:5px}#mocha .test.pass.fast .duration{display:none}#mocha .test.pending{color:#0b97c4}#mocha .test.pending:before{content:'\\25E6';color:#0b97c4}#mocha .test.fail{color:#c00}#mocha .test.fail pre{color:#000}#mocha .test.fail:before{content:'\\2716';font-size:9pt;display:block;float:left;margin-right:5px;color:#c00}#mocha .test pre.error{color:#c00;max-height:300px;overflow:auto}#mocha .test pre{display:block;float:left;clear:left;font:9pt/1.5 monaco,monospace;margin:5px;padding:15px;border:1px solid #eee;max-width:85%;max-width:calc(100% - 42px);word-wrap:break-word;border-bottom-color:#ddd;-webkit-border-radius:3px;-webkit-box-shadow:0 1px 3px #eee;-moz-border-radius:3px;-moz-box-shadow:0 1px 3px #eee;border-radius:3px}#mocha .test h2{position:relative}#mocha .test a.replay{position:absolute;top:3px;right:0;text-decoration:none;vertical-align:middle;display:block;width:15px;height:15px;line-height:15px;text-align:center;background:#eee;font-size:15px;border-radius:15px;transition:opacity .2s;opacity:.3;color:#888}#mocha .test:hover a.replay{opacity:1}#mocha-report.fail .test.pass,#mocha-report.pass .test.fail,#mocha-report.pending .test.fail,#mocha-report.pending .test.pass{display:none}#mocha-report.pending .test.pass.pending{display:block}#mocha-error{color:#c00;font-size:1.5em;font-weight:100;letter-spacing:1px}#mocha-stats{position:fixed;top:15px;right:10px;font-size:9pt;margin:0;color:#888;z-index:1}#mocha-stats .progress{float:right;padding-top:0}#mocha-stats em{color:#000}#mocha-stats a{text-decoration:none;color:inherit}#mocha-stats a:hover{border-bottom:1px solid #eee}#mocha-stats li{display:inline-block;margin:0 5px;list-style:none;padding-top:11px}#mocha-stats canvas{width:40px;height:40px}#mocha code .comment{color:#ddd}#mocha code .init{color:#2f6fad}#mocha code .string{color:#5890ad}#mocha code .keyword{color:#8a6343}#mocha code .number{color:#2f6fad}@media screen and (max-device-width:480px){#mocha{margin:60px 0}#mocha #stats{position:absolute}}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){t=e.exports=n(9)(),t.push([e.id,"#mocha-stats em{color:#fff}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){"function"==typeof execScript?execScript(e):eval.call(null,e)}},function(e,t,n){n(1014)(n(1016))},function(e,t){e.exports=";(function(){\n\n// CommonJS require()\n\nfunction require(p){\n    var path = require.resolve(p)\n      , mod = require.modules[path];\n    if (!mod) throw new Error('failed to require \"' + p + '\"');\n    if (!mod.exports) {\n      mod.exports = {};\n      mod.call(mod.exports, mod, mod.exports, require.relative(path));\n    }\n    return mod.exports;\n  }\n\nrequire.modules = {};\n\nrequire.resolve = function (path){\n    var orig = path\n      , reg = path + '.js'\n      , index = path + '/index.js';\n    return require.modules[reg] && reg\n      || require.modules[index] && index\n      || orig;\n  };\n\nrequire.register = function (path, fn){\n    require.modules[path] = fn;\n  };\n\nrequire.relative = function (parent) {\n    return function(p){\n      if ('.' != p.charAt(0)) return require(p);\n\n      var path = parent.split('/')\n        , segs = p.split('/');\n      path.pop();\n\n      for (var i = 0; i < segs.length; i++) {\n        var seg = segs[i];\n        if ('..' == seg) path.pop();\n        else if ('.' != seg) path.push(seg);\n      }\n\n      return require(path.join('/'));\n    };\n  };\n\n\nrequire.register(\"browser/debug.js\", function(module, exports, require){\nmodule.exports = function(type){\n  return function(){\n  }\n};\n\n}); // module: browser/debug.js\n\nrequire.register(\"browser/diff.js\", function(module, exports, require){\n/* See LICENSE file for terms of use */\n\n/*\n * Text diff implementation.\n *\n * This library supports the following APIS:\n * JsDiff.diffChars: Character by character diff\n * JsDiff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\n * JsDiff.diffLines: Line based diff\n *\n * JsDiff.diffCss: Diff targeted at CSS content\n *\n * These methods are based on the implementation proposed in\n * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\n * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\n */\nvar JsDiff = (function() {\n  /*jshint maxparams: 5*/\n  function clonePath(path) {\n    return { newPos: path.newPos, components: path.components.slice(0) };\n  }\n  function removeEmpty(array) {\n    var ret = [];\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  }\n  function escapeHTML(s) {\n    var n = s;\n    n = n.replace(/&/g, '&amp;');\n    n = n.replace(/</g, '&lt;');\n    n = n.replace(/>/g, '&gt;');\n    n = n.replace(/\"/g, '&quot;');\n\n    return n;\n  }\n\n  var Diff = function(ignoreWhitespace) {\n    this.ignoreWhitespace = ignoreWhitespace;\n  };\n  Diff.prototype = {\n      diff: function(oldString, newString) {\n        // Handle the identity case (this is due to unrolling editLength == 0\n        if (newString === oldString) {\n          return [{ value: newString }];\n        }\n        if (!newString) {\n          return [{ value: oldString, removed: true }];\n        }\n        if (!oldString) {\n          return [{ value: newString, added: true }];\n        }\n\n        newString = this.tokenize(newString);\n        oldString = this.tokenize(oldString);\n\n        var newLen = newString.length, oldLen = oldString.length;\n        var maxEditLength = newLen + oldLen;\n        var bestPath = [{ newPos: -1, components: [] }];\n\n        // Seed editLength = 0\n        var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n        if (bestPath[0].newPos+1 >= newLen && oldPos+1 >= oldLen) {\n          return bestPath[0].components;\n        }\n\n        for (var editLength = 1; editLength <= maxEditLength; editLength++) {\n          for (var diagonalPath = -1*editLength; diagonalPath <= editLength; diagonalPath+=2) {\n            var basePath;\n            var addPath = bestPath[diagonalPath-1],\n                removePath = bestPath[diagonalPath+1];\n            oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n            if (addPath) {\n              // No one else is going to attempt to use this value, clear it\n              bestPath[diagonalPath-1] = undefined;\n            }\n\n            var canAdd = addPath && addPath.newPos+1 < newLen;\n            var canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n            if (!canAdd && !canRemove) {\n              bestPath[diagonalPath] = undefined;\n              continue;\n            }\n\n            // Select the diagonal that we want to branch from. We select the prior\n            // path whose position in the new string is the farthest from the origin\n            // and does not pass the bounds of the diff graph\n            if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n              basePath = clonePath(removePath);\n              this.pushComponent(basePath.components, oldString[oldPos], undefined, true);\n            } else {\n              basePath = clonePath(addPath);\n              basePath.newPos++;\n              this.pushComponent(basePath.components, newString[basePath.newPos], true, undefined);\n            }\n\n            var oldPos = this.extractCommon(basePath, newString, oldString, diagonalPath);\n\n            if (basePath.newPos+1 >= newLen && oldPos+1 >= oldLen) {\n              return basePath.components;\n            } else {\n              bestPath[diagonalPath] = basePath;\n            }\n          }\n        }\n      },\n\n      pushComponent: function(components, value, added, removed) {\n        var last = components[components.length-1];\n        if (last && last.added === added && last.removed === removed) {\n          // We need to clone here as the component clone operation is just\n          // as shallow array clone\n          components[components.length-1] =\n            {value: this.join(last.value, value), added: added, removed: removed };\n        } else {\n          components.push({value: value, added: added, removed: removed });\n        }\n      },\n      extractCommon: function(basePath, newString, oldString, diagonalPath) {\n        var newLen = newString.length,\n            oldLen = oldString.length,\n            newPos = basePath.newPos,\n            oldPos = newPos - diagonalPath;\n        while (newPos+1 < newLen && oldPos+1 < oldLen && this.equals(newString[newPos+1], oldString[oldPos+1])) {\n          newPos++;\n          oldPos++;\n\n          this.pushComponent(basePath.components, newString[newPos], undefined, undefined);\n        }\n        basePath.newPos = newPos;\n        return oldPos;\n      },\n\n      equals: function(left, right) {\n        var reWhitespace = /\\S/;\n        if (this.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right)) {\n          return true;\n        } else {\n          return left === right;\n        }\n      },\n      join: function(left, right) {\n        return left + right;\n      },\n      tokenize: function(value) {\n        return value;\n      }\n  };\n\n  var CharDiff = new Diff();\n\n  var WordDiff = new Diff(true);\n  var WordWithSpaceDiff = new Diff();\n  WordDiff.tokenize = WordWithSpaceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\s+|\\b)/));\n  };\n\n  var CssDiff = new Diff(true);\n  CssDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/([{}:;,]|\\s+)/));\n  };\n\n  var LineDiff = new Diff();\n  LineDiff.tokenize = function(value) {\n    var retLines = [],\n        lines = value.split(/^/m);\n\n    for(var i = 0; i < lines.length; i++) {\n      var line = lines[i],\n          lastLine = lines[i - 1];\n\n      // Merge lines that may contain windows new lines\n      if (line == '\\n' && lastLine && lastLine[lastLine.length - 1] === '\\r') {\n        retLines[retLines.length - 1] += '\\n';\n      } else if (line) {\n        retLines.push(line);\n      }\n    }\n\n    return retLines;\n  };\n\n  return {\n    Diff: Diff,\n\n    diffChars: function(oldStr, newStr) { return CharDiff.diff(oldStr, newStr); },\n    diffWords: function(oldStr, newStr) { return WordDiff.diff(oldStr, newStr); },\n    diffWordsWithSpace: function(oldStr, newStr) { return WordWithSpaceDiff.diff(oldStr, newStr); },\n    diffLines: function(oldStr, newStr) { return LineDiff.diff(oldStr, newStr); },\n\n    diffCss: function(oldStr, newStr) { return CssDiff.diff(oldStr, newStr); },\n\n    createPatch: function(fileName, oldStr, newStr, oldHeader, newHeader) {\n      var ret = [];\n\n      ret.push('Index: ' + fileName);\n      ret.push('===================================================================');\n      ret.push('--- ' + fileName + (typeof oldHeader === 'undefined' ? '' : '\\t' + oldHeader));\n      ret.push('+++ ' + fileName + (typeof newHeader === 'undefined' ? '' : '\\t' + newHeader));\n\n      var diff = LineDiff.diff(oldStr, newStr);\n      if (!diff[diff.length-1].value) {\n        diff.pop();   // Remove trailing newline add\n      }\n      diff.push({value: '', lines: []});   // Append an empty value to make cleanup easier\n\n      function contextLines(lines) {\n        return lines.map(function(entry) { return ' ' + entry; });\n      }\n      function eofNL(curRange, i, current) {\n        var last = diff[diff.length-2],\n            isLast = i === diff.length-2,\n            isLastOfType = i === diff.length-3 && (current.added !== last.added || current.removed !== last.removed);\n\n        // Figure out if this is the last line for the given file and missing NL\n        if (!/\\n$/.test(current.value) && (isLast || isLastOfType)) {\n          curRange.push('\\\\ No newline at end of file');\n        }\n      }\n\n      var oldRangeStart = 0, newRangeStart = 0, curRange = [],\n          oldLine = 1, newLine = 1;\n      for (var i = 0; i < diff.length; i++) {\n        var current = diff[i],\n            lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n        current.lines = lines;\n\n        if (current.added || current.removed) {\n          if (!oldRangeStart) {\n            var prev = diff[i-1];\n            oldRangeStart = oldLine;\n            newRangeStart = newLine;\n\n            if (prev) {\n              curRange = contextLines(prev.lines.slice(-4));\n              oldRangeStart -= curRange.length;\n              newRangeStart -= curRange.length;\n            }\n          }\n          curRange.push.apply(curRange, lines.map(function(entry) { return (current.added?'+':'-') + entry; }));\n          eofNL(curRange, i, current);\n\n          if (current.added) {\n            newLine += lines.length;\n          } else {\n            oldLine += lines.length;\n          }\n        } else {\n          if (oldRangeStart) {\n            // Close out any changes that have been output (or join overlapping)\n            if (lines.length <= 8 && i < diff.length-2) {\n              // Overlapping\n              curRange.push.apply(curRange, contextLines(lines));\n            } else {\n              // end the range and output\n              var contextSize = Math.min(lines.length, 4);\n              ret.push(\n                  '@@ -' + oldRangeStart + ',' + (oldLine-oldRangeStart+contextSize)\n                  + ' +' + newRangeStart + ',' + (newLine-newRangeStart+contextSize)\n                  + ' @@');\n              ret.push.apply(ret, curRange);\n              ret.push.apply(ret, contextLines(lines.slice(0, contextSize)));\n              if (lines.length <= 4) {\n                eofNL(ret, i, current);\n              }\n\n              oldRangeStart = 0;  newRangeStart = 0; curRange = [];\n            }\n          }\n          oldLine += lines.length;\n          newLine += lines.length;\n        }\n      }\n\n      return ret.join('\\n') + '\\n';\n    },\n\n    applyPatch: function(oldStr, uniDiff) {\n      var diffstr = uniDiff.split('\\n');\n      var diff = [];\n      var remEOFNL = false,\n          addEOFNL = false;\n\n      for (var i = (diffstr[0][0]==='I'?4:0); i < diffstr.length; i++) {\n        if(diffstr[i][0] === '@') {\n          var meh = diffstr[i].split(/@@ -(\\d+),(\\d+) \\+(\\d+),(\\d+) @@/);\n          diff.unshift({\n            start:meh[3],\n            oldlength:meh[2],\n            oldlines:[],\n            newlength:meh[4],\n            newlines:[]\n          });\n        } else if(diffstr[i][0] === '+') {\n          diff[0].newlines.push(diffstr[i].substr(1));\n        } else if(diffstr[i][0] === '-') {\n          diff[0].oldlines.push(diffstr[i].substr(1));\n        } else if(diffstr[i][0] === ' ') {\n          diff[0].newlines.push(diffstr[i].substr(1));\n          diff[0].oldlines.push(diffstr[i].substr(1));\n        } else if(diffstr[i][0] === '\\\\') {\n          if (diffstr[i-1][0] === '+') {\n            remEOFNL = true;\n          } else if(diffstr[i-1][0] === '-') {\n            addEOFNL = true;\n          }\n        }\n      }\n\n      var str = oldStr.split('\\n');\n      for (var i = diff.length - 1; i >= 0; i--) {\n        var d = diff[i];\n        for (var j = 0; j < d.oldlength; j++) {\n          if(str[d.start-1+j] !== d.oldlines[j]) {\n            return false;\n          }\n        }\n        Array.prototype.splice.apply(str,[d.start-1,+d.oldlength].concat(d.newlines));\n      }\n\n      if (remEOFNL) {\n        while (!str[str.length-1]) {\n          str.pop();\n        }\n      } else if (addEOFNL) {\n        str.push('');\n      }\n      return str.join('\\n');\n    },\n\n    convertChangesToXML: function(changes){\n      var ret = [];\n      for ( var i = 0; i < changes.length; i++) {\n        var change = changes[i];\n        if (change.added) {\n          ret.push('<ins>');\n        } else if (change.removed) {\n          ret.push('<del>');\n        }\n\n        ret.push(escapeHTML(change.value));\n\n        if (change.added) {\n          ret.push('</ins>');\n        } else if (change.removed) {\n          ret.push('</del>');\n        }\n      }\n      return ret.join('');\n    },\n\n    // See: http://code.google.com/p/google-diff-match-patch/wiki/API\n    convertChangesToDMP: function(changes){\n      var ret = [], change;\n      for ( var i = 0; i < changes.length; i++) {\n        change = changes[i];\n        ret.push([(change.added ? 1 : change.removed ? -1 : 0), change.value]);\n      }\n      return ret;\n    }\n  };\n})();\n\nif (typeof module !== 'undefined') {\n    module.exports = JsDiff;\n}\n\n}); // module: browser/diff.js\n\nrequire.register(\"browser/escape-string-regexp.js\", function(module, exports, require){\n'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  return str.replace(matchOperatorsRe,  '\\\\$&');\n};\n\n}); // module: browser/escape-string-regexp.js\n\nrequire.register(\"browser/events.js\", function(module, exports, require){\n/**\n * Module exports.\n */\n\nexports.EventEmitter = EventEmitter;\n\n/**\n * Check if `obj` is an array.\n */\n\nfunction isArray(obj) {\n  return '[object Array]' == {}.toString.call(obj);\n}\n\n/**\n * Event emitter constructor.\n *\n * @api public\n */\n\nfunction EventEmitter(){};\n\n/**\n * Adds a listener.\n *\n * @api public\n */\n\nEventEmitter.prototype.on = function (name, fn) {\n  if (!this.$events) {\n    this.$events = {};\n  }\n\n  if (!this.$events[name]) {\n    this.$events[name] = fn;\n  } else if (isArray(this.$events[name])) {\n    this.$events[name].push(fn);\n  } else {\n    this.$events[name] = [this.$events[name], fn];\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n/**\n * Adds a volatile listener.\n *\n * @api public\n */\n\nEventEmitter.prototype.once = function (name, fn) {\n  var self = this;\n\n  function on () {\n    self.removeListener(name, on);\n    fn.apply(this, arguments);\n  };\n\n  on.listener = fn;\n  this.on(name, on);\n\n  return this;\n};\n\n/**\n * Removes a listener.\n *\n * @api public\n */\n\nEventEmitter.prototype.removeListener = function (name, fn) {\n  if (this.$events && this.$events[name]) {\n    var list = this.$events[name];\n\n    if (isArray(list)) {\n      var pos = -1;\n\n      for (var i = 0, l = list.length; i < l; i++) {\n        if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {\n          pos = i;\n          break;\n        }\n      }\n\n      if (pos < 0) {\n        return this;\n      }\n\n      list.splice(pos, 1);\n\n      if (!list.length) {\n        delete this.$events[name];\n      }\n    } else if (list === fn || (list.listener && list.listener === fn)) {\n      delete this.$events[name];\n    }\n  }\n\n  return this;\n};\n\n/**\n * Removes all listeners for an event.\n *\n * @api public\n */\n\nEventEmitter.prototype.removeAllListeners = function (name) {\n  if (name === undefined) {\n    this.$events = {};\n    return this;\n  }\n\n  if (this.$events && this.$events[name]) {\n    this.$events[name] = null;\n  }\n\n  return this;\n};\n\n/**\n * Gets all listeners for a certain event.\n *\n * @api public\n */\n\nEventEmitter.prototype.listeners = function (name) {\n  if (!this.$events) {\n    this.$events = {};\n  }\n\n  if (!this.$events[name]) {\n    this.$events[name] = [];\n  }\n\n  if (!isArray(this.$events[name])) {\n    this.$events[name] = [this.$events[name]];\n  }\n\n  return this.$events[name];\n};\n\n/**\n * Emits an event.\n *\n * @api public\n */\n\nEventEmitter.prototype.emit = function (name) {\n  if (!this.$events) {\n    return false;\n  }\n\n  var handler = this.$events[name];\n\n  if (!handler) {\n    return false;\n  }\n\n  var args = [].slice.call(arguments, 1);\n\n  if ('function' == typeof handler) {\n    handler.apply(this, args);\n  } else if (isArray(handler)) {\n    var listeners = handler.slice();\n\n    for (var i = 0, l = listeners.length; i < l; i++) {\n      listeners[i].apply(this, args);\n    }\n  } else {\n    return false;\n  }\n\n  return true;\n};\n\n}); // module: browser/events.js\n\nrequire.register(\"browser/fs.js\", function(module, exports, require){\n\n}); // module: browser/fs.js\n\nrequire.register(\"browser/glob.js\", function(module, exports, require){\n\n}); // module: browser/glob.js\n\nrequire.register(\"browser/path.js\", function(module, exports, require){\n\n}); // module: browser/path.js\n\nrequire.register(\"browser/progress.js\", function(module, exports, require){\n/**\n * Expose `Progress`.\n */\n\nmodule.exports = Progress;\n\n/**\n * Initialize a new `Progress` indicator.\n */\n\nfunction Progress() {\n  this.percent = 0;\n  this.size(0);\n  this.fontSize(11);\n  this.font('helvetica, arial, sans-serif');\n}\n\n/**\n * Set progress size to `n`.\n *\n * @param {Number} n\n * @return {Progress} for chaining\n * @api public\n */\n\nProgress.prototype.size = function(n){\n  this._size = n;\n  return this;\n};\n\n/**\n * Set text to `str`.\n *\n * @param {String} str\n * @return {Progress} for chaining\n * @api public\n */\n\nProgress.prototype.text = function(str){\n  this._text = str;\n  return this;\n};\n\n/**\n * Set font size to `n`.\n *\n * @param {Number} n\n * @return {Progress} for chaining\n * @api public\n */\n\nProgress.prototype.fontSize = function(n){\n  this._fontSize = n;\n  return this;\n};\n\n/**\n * Set font `family`.\n *\n * @param {String} family\n * @return {Progress} for chaining\n */\n\nProgress.prototype.font = function(family){\n  this._font = family;\n  return this;\n};\n\n/**\n * Update percentage to `n`.\n *\n * @param {Number} n\n * @return {Progress} for chaining\n */\n\nProgress.prototype.update = function(n){\n  this.percent = n;\n  return this;\n};\n\n/**\n * Draw on `ctx`.\n *\n * @param {CanvasRenderingContext2d} ctx\n * @return {Progress} for chaining\n */\n\nProgress.prototype.draw = function(ctx){\n  try {\n    var percent = Math.min(this.percent, 100)\n      , size = this._size\n      , half = size / 2\n      , x = half\n      , y = half\n      , rad = half - 1\n      , fontSize = this._fontSize;\n\n    ctx.font = fontSize + 'px ' + this._font;\n\n    var angle = Math.PI * 2 * (percent / 100);\n    ctx.clearRect(0, 0, size, size);\n\n    // outer circle\n    ctx.strokeStyle = '#9f9f9f';\n    ctx.beginPath();\n    ctx.arc(x, y, rad, 0, angle, false);\n    ctx.stroke();\n\n    // inner circle\n    ctx.strokeStyle = '#eee';\n    ctx.beginPath();\n    ctx.arc(x, y, rad - 1, 0, angle, true);\n    ctx.stroke();\n\n    // text\n    var text = this._text || (percent | 0) + '%'\n      , w = ctx.measureText(text).width;\n\n    ctx.fillText(\n        text\n      , x - w / 2 + 1\n      , y + fontSize / 2 - 1);\n  } catch (ex) {} //don't fail if we can't render progress\n  return this;\n};\n\n}); // module: browser/progress.js\n\nrequire.register(\"browser/tty.js\", function(module, exports, require){\nexports.isatty = function(){\n  return true;\n};\n\nexports.getWindowSize = function(){\n  if ('innerHeight' in global) {\n    return [global.innerHeight, global.innerWidth];\n  } else {\n    // In a Web Worker, the DOM Window is not available.\n    return [640, 480];\n  }\n};\n\n}); // module: browser/tty.js\n\nrequire.register(\"context.js\", function(module, exports, require){\n/**\n * Expose `Context`.\n */\n\nmodule.exports = Context;\n\n/**\n * Initialize a new `Context`.\n *\n * @api private\n */\n\nfunction Context(){}\n\n/**\n * Set or get the context `Runnable` to `runnable`.\n *\n * @param {Runnable} runnable\n * @return {Context}\n * @api private\n */\n\nContext.prototype.runnable = function(runnable){\n  if (0 == arguments.length) return this._runnable;\n  this.test = this._runnable = runnable;\n  return this;\n};\n\n/**\n * Set test timeout `ms`.\n *\n * @param {Number} ms\n * @return {Context} self\n * @api private\n */\n\nContext.prototype.timeout = function(ms){\n  if (arguments.length === 0) return this.runnable().timeout();\n  this.runnable().timeout(ms);\n  return this;\n};\n\n/**\n * Set test timeout `enabled`.\n *\n * @param {Boolean} enabled\n * @return {Context} self\n * @api private\n */\n\nContext.prototype.enableTimeouts = function (enabled) {\n  this.runnable().enableTimeouts(enabled);\n  return this;\n};\n\n\n/**\n * Set test slowness threshold `ms`.\n *\n * @param {Number} ms\n * @return {Context} self\n * @api private\n */\n\nContext.prototype.slow = function(ms){\n  this.runnable().slow(ms);\n  return this;\n};\n\n/**\n * Mark a test as skipped.\n *\n * @return {Context} self\n * @api private\n */\n\nContext.prototype.skip = function(){\n    this.runnable().skip();\n    return this;\n};\n\n/**\n * Inspect the context void of `._runnable`.\n *\n * @return {String}\n * @api private\n */\n\nContext.prototype.inspect = function(){\n  return JSON.stringify(this, function(key, val){\n    if ('_runnable' == key) return;\n    if ('test' == key) return;\n    return val;\n  }, 2);\n};\n\n}); // module: context.js\n\nrequire.register(\"hook.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Runnable = require('./runnable');\n\n/**\n * Expose `Hook`.\n */\n\nmodule.exports = Hook;\n\n/**\n * Initialize a new `Hook` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n */\n\nfunction Hook(title, fn) {\n  Runnable.call(this, title, fn);\n  this.type = 'hook';\n}\n\n/**\n * Inherit from `Runnable.prototype`.\n */\n\nfunction F(){};\nF.prototype = Runnable.prototype;\nHook.prototype = new F;\nHook.prototype.constructor = Hook;\n\n\n/**\n * Get or set the test `err`.\n *\n * @param {Error} err\n * @return {Error}\n * @api public\n */\n\nHook.prototype.error = function(err){\n  if (0 == arguments.length) {\n    var err = this._error;\n    this._error = null;\n    return err;\n  }\n\n  this._error = err;\n};\n\n}); // module: hook.js\n\nrequire.register(\"interfaces/bdd.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test')\n  , utils = require('../utils')\n  , escapeRe = require('browser/escape-string-regexp');\n\n/**\n * BDD-style interface:\n *\n *      describe('Array', function(){\n *        describe('#indexOf()', function(){\n *          it('should return -1 when not present', function(){\n *\n *          });\n *\n *          it('should return the index when present', function(){\n *\n *          });\n *        });\n *      });\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha){\n\n    var common = require('./common')(suites, context);\n\n    context.before = common.before;\n    context.after = common.after;\n    context.beforeEach = common.beforeEach;\n    context.afterEach = common.afterEach;\n    context.run = mocha.options.delay && common.runWithSuite(suite);\n    /**\n     * Describe a \"suite\" with the given `title`\n     * and callback `fn` containing nested suites\n     * and/or tests.\n     */\n\n    context.describe = context.context = function(title, fn){\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n      return suite;\n    };\n\n    /**\n     * Pending describe.\n     */\n\n    context.xdescribe =\n    context.xcontext =\n    context.describe.skip = function(title, fn){\n      var suite = Suite.create(suites[0], title);\n      suite.pending = true;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n    };\n\n    /**\n     * Exclusive suite.\n     */\n\n    context.describe.only = function(title, fn){\n      var suite = context.describe(title, fn);\n      mocha.grep(suite.fullTitle());\n      return suite;\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.it = context.specify = function(title, fn){\n      var suite = suites[0];\n      if (suite.pending) fn = null;\n      var test = new Test(title, fn);\n      test.file = file;\n      suite.addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.it.only = function(title, fn){\n      var test = context.it(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n      return test;\n    };\n\n    /**\n     * Pending test case.\n     */\n\n    context.xit =\n    context.xspecify =\n    context.it.skip = function(title){\n      context.it(title);\n    };\n\n  });\n};\n\n}); // module: interfaces/bdd.js\n\nrequire.register(\"interfaces/common.js\", function(module, exports, require){\n/**\n * Functions common to more than one interface\n * @module lib/interfaces/common\n */\n\n'use strict';\n\nmodule.exports = function (suites, context) {\n\n  return {\n    /**\n     * This is only present if flag --delay is passed into Mocha.  It triggers\n     * root suite execution.  Returns a function which runs the root suite.\n     */\n    runWithSuite: function runWithSuite(suite) {\n      return function run() {\n        suite.run();\n      };\n    },\n\n    /**\n     * Execute before running tests.\n     */\n    before: function (name, fn) {\n      suites[0].beforeAll(name, fn);\n    },\n\n    /**\n     * Execute after running tests.\n     */\n    after: function (name, fn) {\n      suites[0].afterAll(name, fn);\n    },\n\n    /**\n     * Execute before each test case.\n     */\n    beforeEach: function (name, fn) {\n      suites[0].beforeEach(name, fn);\n    },\n\n    /**\n     * Execute after each test case.\n     */\n    afterEach: function (name, fn) {\n      suites[0].afterEach(name, fn);\n    },\n\n    test: {\n      /**\n       * Pending test case.\n       */\n      skip: function (title) {\n        context.test(title);\n      }\n    }\n  }\n};\n\n}); // module: interfaces/common.js\n\nrequire.register(\"interfaces/exports.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test');\n\n/**\n * TDD-style interface:\n *\n *     exports.Array = {\n *       '#indexOf()': {\n *         'should return -1 when the value is not present': function(){\n *\n *         },\n *\n *         'should return the correct index when the value is present': function(){\n *\n *         }\n *       }\n *     };\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('require', visit);\n\n  function visit(obj, file) {\n    var suite;\n    for (var key in obj) {\n      if ('function' == typeof obj[key]) {\n        var fn = obj[key];\n        switch (key) {\n          case 'before':\n            suites[0].beforeAll(fn);\n            break;\n          case 'after':\n            suites[0].afterAll(fn);\n            break;\n          case 'beforeEach':\n            suites[0].beforeEach(fn);\n            break;\n          case 'afterEach':\n            suites[0].afterEach(fn);\n            break;\n          default:\n            var test = new Test(key, fn);\n            test.file = file;\n            suites[0].addTest(test);\n        }\n      } else {\n        suite = Suite.create(suites[0], key);\n        suites.unshift(suite);\n        visit(obj[key]);\n        suites.shift();\n      }\n    }\n  }\n};\n\n}); // module: interfaces/exports.js\n\nrequire.register(\"interfaces/index.js\", function(module, exports, require){\nexports.bdd = require('./bdd');\nexports.tdd = require('./tdd');\nexports.qunit = require('./qunit');\nexports.exports = require('./exports');\n\n}); // module: interfaces/index.js\n\nrequire.register(\"interfaces/qunit.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test')\n  , escapeRe = require('browser/escape-string-regexp')\n  , utils = require('../utils');\n\n/**\n * QUnit-style interface:\n *\n *     suite('Array');\n *\n *     test('#length', function(){\n *       var arr = [1,2,3];\n *       ok(arr.length == 3);\n *     });\n *\n *     test('#indexOf()', function(){\n *       var arr = [1,2,3];\n *       ok(arr.indexOf(1) == 0);\n *       ok(arr.indexOf(2) == 1);\n *       ok(arr.indexOf(3) == 2);\n *     });\n *\n *     suite('String');\n *\n *     test('#length', function(){\n *       ok('foo'.length == 3);\n *     });\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha){\n\n    var common = require('./common')(suites, context);\n\n    context.before = common.before;\n    context.after = common.after;\n    context.beforeEach = common.beforeEach;\n    context.afterEach = common.afterEach;\n    context.run = mocha.options.delay && common.runWithSuite(suite);\n    /**\n     * Describe a \"suite\" with the given `title`.\n     */\n\n    context.suite = function(title){\n      if (suites.length > 1) suites.shift();\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      return suite;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.suite.only = function(title, fn){\n      var suite = context.suite(title, fn);\n      mocha.grep(suite.fullTitle());\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.test = function(title, fn){\n      var test = new Test(title, fn);\n      test.file = file;\n      suites[0].addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.test.only = function(title, fn){\n      var test = context.test(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n    };\n\n    context.test.skip = common.test.skip;\n\n  });\n};\n\n}); // module: interfaces/qunit.js\n\nrequire.register(\"interfaces/tdd.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test')\n  , escapeRe = require('browser/escape-string-regexp')\n  , utils = require('../utils');\n\n/**\n * TDD-style interface:\n *\n *      suite('Array', function(){\n *        suite('#indexOf()', function(){\n *          suiteSetup(function(){\n *\n *          });\n *\n *          test('should return -1 when not present', function(){\n *\n *          });\n *\n *          test('should return the index when present', function(){\n *\n *          });\n *\n *          suiteTeardown(function(){\n *\n *          });\n *        });\n *      });\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha){\n\n    var common = require('./common')(suites, context);\n\n    context.setup = common.beforeEach;\n    context.teardown = common.afterEach;\n    context.suiteSetup = common.before;\n    context.suiteTeardown = common.after;\n    context.run = mocha.options.delay && common.runWithSuite(suite);\n    /**\n     * Describe a \"suite\" with the given `title`\n     * and callback `fn` containing nested suites\n     * and/or tests.\n     */\n\n    context.suite = function(title, fn){\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n      return suite;\n    };\n\n    /**\n     * Pending suite.\n     */\n    context.suite.skip = function(title, fn) {\n      var suite = Suite.create(suites[0], title);\n      suite.pending = true;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.suite.only = function(title, fn){\n      var suite = context.suite(title, fn);\n      mocha.grep(suite.fullTitle());\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.test = function(title, fn){\n      var suite = suites[0];\n      if (suite.pending) fn = null;\n      var test = new Test(title, fn);\n      test.file = file;\n      suite.addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.test.only = function(title, fn){\n      var test = context.test(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n    };\n\n    context.test.skip = common.test.skip;\n  });\n};\n\n}); // module: interfaces/tdd.js\n\nrequire.register(\"mocha.js\", function(module, exports, require){\n/*!\n * mocha\n * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar path = require('browser/path')\n  , escapeRe = require('browser/escape-string-regexp')\n  , utils = require('./utils');\n\n/**\n * Expose `Mocha`.\n */\n\nexports = module.exports = Mocha;\n\n/**\n * To require local UIs and reporters when running in node.\n */\n\nif (typeof process !== 'undefined' && typeof process.cwd === 'function') {\n  var join = path.join\n    , cwd = process.cwd();\n  module.paths.push(cwd, join(cwd, 'node_modules'));\n}\n\n/**\n * Expose internals.\n */\n\nexports.utils = utils;\nexports.interfaces = require('./interfaces');\nexports.reporters = require('./reporters');\nexports.Runnable = require('./runnable');\nexports.Context = require('./context');\nexports.Runner = require('./runner');\nexports.Suite = require('./suite');\nexports.Hook = require('./hook');\nexports.Test = require('./test');\n\n/**\n * Return image `name` path.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction image(name) {\n  return __dirname + '/../images/' + name + '.png';\n}\n\n/**\n * Setup mocha with `options`.\n *\n * Options:\n *\n *   - `ui` name \"bdd\", \"tdd\", \"exports\" etc\n *   - `reporter` reporter instance, defaults to `mocha.reporters.spec`\n *   - `globals` array of accepted globals\n *   - `timeout` timeout in milliseconds\n *   - `bail` bail on the first test failure\n *   - `slow` milliseconds to wait before considering a test slow\n *   - `ignoreLeaks` ignore global leaks\n *   - `fullTrace` display the full stack-trace on failing\n *   - `grep` string or regexp to filter tests with\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Mocha(options) {\n  options = options || {};\n  this.files = [];\n  this.options = options;\n  if (options.grep) this.grep(new RegExp(options.grep));\n  if (options.fgrep) this.grep(options.fgrep);\n  this.suite = new exports.Suite('', new exports.Context);\n  this.ui(options.ui);\n  this.bail(options.bail);\n  this.reporter(options.reporter, options.reporterOptions);\n  if (null != options.timeout) this.timeout(options.timeout);\n  this.useColors(options.useColors);\n  if (options.enableTimeouts !== null) this.enableTimeouts(options.enableTimeouts);\n  if (options.slow) this.slow(options.slow);\n\n  this.suite.on('pre-require', function (context) {\n    exports.afterEach = context.afterEach || context.teardown;\n    exports.after = context.after || context.suiteTeardown;\n    exports.beforeEach = context.beforeEach || context.setup;\n    exports.before = context.before || context.suiteSetup;\n    exports.describe = context.describe || context.suite;\n    exports.it = context.it || context.test;\n    exports.setup = context.setup || context.beforeEach;\n    exports.suiteSetup = context.suiteSetup || context.before;\n    exports.suiteTeardown = context.suiteTeardown || context.after;\n    exports.suite = context.suite || context.describe;\n    exports.teardown = context.teardown || context.afterEach;\n    exports.test = context.test || context.it;\n    exports.run = context.run;\n  });\n}\n\n/**\n * Enable or disable bailing on the first failure.\n *\n * @param {Boolean} [bail]\n * @api public\n */\n\nMocha.prototype.bail = function(bail){\n  if (0 == arguments.length) bail = true;\n  this.suite.bail(bail);\n  return this;\n};\n\n/**\n * Add test `file`.\n *\n * @param {String} file\n * @api public\n */\n\nMocha.prototype.addFile = function(file){\n  this.files.push(file);\n  return this;\n};\n\n/**\n * Set reporter to `reporter`, defaults to \"spec\".\n *\n * @param {String|Function} reporter name or constructor\n * @param {Object} reporterOptions optional options\n * @api public\n */\nMocha.prototype.reporter = function(reporter, reporterOptions){\n  if ('function' == typeof reporter) {\n    this._reporter = reporter;\n  } else {\n    reporter = reporter || 'spec';\n    var _reporter;\n    try { _reporter = require('./reporters/' + reporter); } catch (err) {}\n    if (!_reporter) try { _reporter = require(reporter); } catch (err) {\n      err.message.indexOf('Cannot find module') !== -1\n        ? console.warn('\"' + reporter + '\" reporter not found')\n        : console.warn('\"' + reporter + '\" reporter blew up with error:\\n' + err.stack);\n    }\n    if (!_reporter && reporter === 'teamcity')\n      console.warn('The Teamcity reporter was moved to a package named ' +\n        'mocha-teamcity-reporter ' +\n        '(https://npmjs.org/package/mocha-teamcity-reporter).');\n    if (!_reporter) throw new Error('invalid reporter \"' + reporter + '\"');\n    this._reporter = _reporter;\n  }\n  this.options.reporterOptions = reporterOptions;\n  return this;\n};\n\n/**\n * Set test UI `name`, defaults to \"bdd\".\n *\n * @param {String} bdd\n * @api public\n */\n\nMocha.prototype.ui = function(name){\n  name = name || 'bdd';\n  this._ui = exports.interfaces[name];\n  if (!this._ui) try { this._ui = require(name); } catch (err) {}\n  if (!this._ui) throw new Error('invalid interface \"' + name + '\"');\n  this._ui = this._ui(this.suite);\n  return this;\n};\n\n/**\n * Load registered files.\n *\n * @api private\n */\n\nMocha.prototype.loadFiles = function(fn){\n  var self = this;\n  var suite = this.suite;\n  var pending = this.files.length;\n  this.files.forEach(function(file){\n    file = path.resolve(file);\n    suite.emit('pre-require', global, file, self);\n    suite.emit('require', require(file), file, self);\n    suite.emit('post-require', global, file, self);\n    --pending || (fn && fn());\n  });\n};\n\n/**\n * Enable growl support.\n *\n * @api private\n */\n\nMocha.prototype._growl = function(runner, reporter) {\n  var notify = require('growl');\n\n  runner.on('end', function(){\n    var stats = reporter.stats;\n    if (stats.failures) {\n      var msg = stats.failures + ' of ' + runner.total + ' tests failed';\n      notify(msg, { name: 'mocha', title: 'Failed', image: image('error') });\n    } else {\n      notify(stats.passes + ' tests passed in ' + stats.duration + 'ms', {\n          name: 'mocha'\n        , title: 'Passed'\n        , image: image('ok')\n      });\n    }\n  });\n};\n\n/**\n * Add regexp to grep, if `re` is a string it is escaped.\n *\n * @param {RegExp|String} re\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.grep = function(re){\n  this.options.grep = 'string' == typeof re\n    ? new RegExp(escapeRe(re))\n    : re;\n  return this;\n};\n\n/**\n * Invert `.grep()` matches.\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.invert = function(){\n  this.options.invert = true;\n  return this;\n};\n\n/**\n * Ignore global leaks.\n *\n * @param {Boolean} ignore\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.ignoreLeaks = function(ignore){\n  this.options.ignoreLeaks = !!ignore;\n  return this;\n};\n\n/**\n * Enable global leak checking.\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.checkLeaks = function(){\n  this.options.ignoreLeaks = false;\n  return this;\n};\n\n/**\n * Display long stack-trace on failing\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.fullTrace = function() {\n  this.options.fullStackTrace = true;\n  return this;\n};\n\n/**\n * Enable growl support.\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.growl = function(){\n  this.options.growl = true;\n  return this;\n};\n\n/**\n * Ignore `globals` array or string.\n *\n * @param {Array|String} globals\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.globals = function(globals){\n  this.options.globals = (this.options.globals || []).concat(globals);\n  return this;\n};\n\n/**\n * Emit color output.\n *\n * @param {Boolean} colors\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.useColors = function(colors){\n  if (colors !== undefined) {\n    this.options.useColors = colors;\n  }\n  return this;\n};\n\n/**\n * Use inline diffs rather than +/-.\n *\n * @param {Boolean} inlineDiffs\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.useInlineDiffs = function(inlineDiffs) {\n  this.options.useInlineDiffs = arguments.length && inlineDiffs != undefined\n  ? inlineDiffs\n  : false;\n  return this;\n};\n\n/**\n * Set the timeout in milliseconds.\n *\n * @param {Number} timeout\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.timeout = function(timeout){\n  this.suite.timeout(timeout);\n  return this;\n};\n\n/**\n * Set slowness threshold in milliseconds.\n *\n * @param {Number} slow\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.slow = function(slow){\n  this.suite.slow(slow);\n  return this;\n};\n\n/**\n * Enable timeouts.\n *\n * @param {Boolean} enabled\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.enableTimeouts = function(enabled) {\n  this.suite.enableTimeouts(arguments.length && enabled !== undefined\n    ? enabled\n    : true);\n  return this\n};\n\n/**\n * Makes all tests async (accepting a callback)\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.asyncOnly = function(){\n  this.options.asyncOnly = true;\n  return this;\n};\n\n/**\n * Disable syntax highlighting (in browser).\n * @returns {Mocha}\n * @api public\n */\nMocha.prototype.noHighlighting = function() {\n  this.options.noHighlighting = true;\n  return this;\n};\n\n/**\n * Delay root suite execution.\n * @returns {Mocha}\n * @api public\n */\nMocha.prototype.delay = function delay() {\n  this.options.delay = true;\n  return this;\n};\n\n/**\n * Run tests and invoke `fn()` when complete.\n *\n * @param {Function} fn\n * @return {Runner}\n * @api public\n */\nMocha.prototype.run = function(fn){\n  if (this.files.length) this.loadFiles();\n  var suite = this.suite;\n  var options = this.options;\n  options.files = this.files;\n  var runner = new exports.Runner(suite, options.delay);\n  var reporter = new this._reporter(runner, options);\n  runner.ignoreLeaks = false !== options.ignoreLeaks;\n  runner.fullStackTrace = options.fullStackTrace;\n  runner.asyncOnly = options.asyncOnly;\n  if (options.grep) runner.grep(options.grep, options.invert);\n  if (options.globals) runner.globals(options.globals);\n  if (options.growl) this._growl(runner, reporter);\n  if (options.useColors !== undefined) {\n    exports.reporters.Base.useColors = options.useColors;\n  }\n  exports.reporters.Base.inlineDiffs = options.useInlineDiffs;\n\n  function done(failures) {\n      if (reporter.done) {\n          reporter.done(failures, fn);\n      } else fn && fn(failures);\n  }\n\n  return runner.run(done);\n};\n\n}); // module: mocha.js\n\nrequire.register(\"ms.js\", function(module, exports, require){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options['long'] ? longFormat(val) : shortFormat(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 's':\n      return n * s;\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction shortFormat(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction longFormat(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n}); // module: ms.js\n\nrequire.register(\"pending.js\", function(module, exports, require){\n\n/**\n * Expose `Pending`.\n */\n\nmodule.exports = Pending;\n\n/**\n * Initialize a new `Pending` error with the given message.\n *\n * @param {String} message\n */\n\nfunction Pending(message) {\n    this.message = message;\n}\n\n}); // module: pending.js\n\nrequire.register(\"reporters/base.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar tty = require('browser/tty')\n  , diff = require('browser/diff')\n  , ms = require('../ms')\n  , utils = require('../utils')\n  , supportsColor = process.env ? require('supports-color') : null;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Check if both stdio streams are associated with a tty.\n */\n\nvar isatty = tty.isatty(1) && tty.isatty(2);\n\n/**\n * Expose `Base`.\n */\n\nexports = module.exports = Base;\n\n/**\n * Enable coloring by default, except in the browser interface.\n */\n\nexports.useColors = process.env\n  ? (supportsColor || (process.env.MOCHA_COLORS !== undefined))\n  : false;\n\n/**\n * Inline diffs instead of +/-\n */\n\nexports.inlineDiffs = false;\n\n/**\n * Default color map.\n */\n\nexports.colors = {\n    'pass': 90\n  , 'fail': 31\n  , 'bright pass': 92\n  , 'bright fail': 91\n  , 'bright yellow': 93\n  , 'pending': 36\n  , 'suite': 0\n  , 'error title': 0\n  , 'error message': 31\n  , 'error stack': 90\n  , 'checkmark': 32\n  , 'fast': 90\n  , 'medium': 33\n  , 'slow': 31\n  , 'green': 32\n  , 'light': 90\n  , 'diff gutter': 90\n  , 'diff added': 42\n  , 'diff removed': 41\n};\n\n/**\n * Default symbol map.\n */\n\nexports.symbols = {\n  ok: '',\n  err: '',\n  dot: ''\n};\n\n// With node.js on Windows: use symbols available in terminal default fonts\nif ('win32' == process.platform) {\n  exports.symbols.ok = '\\u221A';\n  exports.symbols.err = '\\u00D7';\n  exports.symbols.dot = '.';\n}\n\n/**\n * Color `str` with the given `type`,\n * allowing colors to be disabled,\n * as well as user-defined color\n * schemes.\n *\n * @param {String} type\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nvar color = exports.color = function(type, str) {\n  if (!exports.useColors) return String(str);\n  return '\\u001b[' + exports.colors[type] + 'm' + str + '\\u001b[0m';\n};\n\n/**\n * Expose term window size, with some\n * defaults for when stderr is not a tty.\n */\n\nexports.window = {\n  width: isatty\n    ? process.stdout.getWindowSize\n      ? process.stdout.getWindowSize(1)[0]\n      : tty.getWindowSize()[1]\n    : 75\n};\n\n/**\n * Expose some basic cursor interactions\n * that are common among reporters.\n */\n\nexports.cursor = {\n  hide: function(){\n    isatty && process.stdout.write('\\u001b[?25l');\n  },\n\n  show: function(){\n    isatty && process.stdout.write('\\u001b[?25h');\n  },\n\n  deleteLine: function(){\n    isatty && process.stdout.write('\\u001b[2K');\n  },\n\n  beginningOfLine: function(){\n    isatty && process.stdout.write('\\u001b[0G');\n  },\n\n  CR: function(){\n    if (isatty) {\n      exports.cursor.deleteLine();\n      exports.cursor.beginningOfLine();\n    } else {\n      process.stdout.write('\\r');\n    }\n  }\n};\n\n/**\n * Outut the given `failures` as a list.\n *\n * @param {Array} failures\n * @api public\n */\n\nexports.list = function(failures){\n  console.log();\n  failures.forEach(function(test, i){\n    // format\n    var fmt = color('error title', '  %s) %s:\\n')\n      + color('error message', '     %s')\n      + color('error stack', '\\n%s\\n');\n\n    // msg\n    var err = test.err\n      , message = err.message || ''\n      , stack = err.stack || message\n      , index = stack.indexOf(message)\n      , actual = err.actual\n      , expected = err.expected\n      , escape = true;\n    if (index === -1) {\n      msg = message;\n    } else {\n      index += message.length;\n      msg = stack.slice(0, index);\n      // remove msg from stack\n      stack = stack.slice(index + 1);\n    }\n\n    // uncaught\n    if (err.uncaught) {\n      msg = 'Uncaught ' + msg;\n    }\n    // explicitly show diff\n    if (err.showDiff !== false && sameType(actual, expected)\n        && expected !== undefined) {\n\n      if ('string' !== typeof actual) {\n        escape = false;\n        err.actual = actual = utils.stringify(actual);\n        err.expected = expected = utils.stringify(expected);\n      }\n\n      fmt = color('error title', '  %s) %s:\\n%s') + color('error stack', '\\n%s\\n');\n      var match = message.match(/^([^:]+): expected/);\n      msg = '\\n      ' + color('error message', match ? match[1] : msg);\n\n      if (exports.inlineDiffs) {\n        msg += inlineDiff(err, escape);\n      } else {\n        msg += unifiedDiff(err, escape);\n      }\n    }\n\n    // indent stack trace\n    stack = stack.replace(/^/gm, '  ');\n\n    console.log(fmt, (i + 1), test.fullTitle(), msg, stack);\n  });\n};\n\n/**\n * Initialize a new `Base` reporter.\n *\n * All other reporters generally\n * inherit from this reporter, providing\n * stats such as test duration, number\n * of tests passed / failed etc.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Base(runner) {\n  var self = this\n    , stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 }\n    , failures = this.failures = [];\n\n  if (!runner) return;\n  this.runner = runner;\n\n  runner.stats = stats;\n\n  runner.on('start', function(){\n    stats.start = new Date;\n  });\n\n  runner.on('suite', function(suite){\n    stats.suites = stats.suites || 0;\n    suite.root || stats.suites++;\n  });\n\n  runner.on('test end', function(test){\n    stats.tests = stats.tests || 0;\n    stats.tests++;\n  });\n\n  runner.on('pass', function(test){\n    stats.passes = stats.passes || 0;\n\n    var medium = test.slow() / 2;\n    test.speed = test.duration > test.slow()\n      ? 'slow'\n      : test.duration > medium\n        ? 'medium'\n        : 'fast';\n\n    stats.passes++;\n  });\n\n  runner.on('fail', function(test, err){\n    stats.failures = stats.failures || 0;\n    stats.failures++;\n    test.err = err;\n    failures.push(test);\n  });\n\n  runner.on('end', function(){\n    stats.end = new Date;\n    stats.duration = new Date - stats.start;\n  });\n\n  runner.on('pending', function(){\n    stats.pending++;\n  });\n}\n\n/**\n * Output common epilogue used by many of\n * the bundled reporters.\n *\n * @api public\n */\n\nBase.prototype.epilogue = function(){\n  var stats = this.stats;\n  var tests;\n  var fmt;\n\n  console.log();\n\n  // passes\n  fmt = color('bright pass', ' ')\n    + color('green', ' %d passing')\n    + color('light', ' (%s)');\n\n  console.log(fmt,\n    stats.passes || 0,\n    ms(stats.duration));\n\n  // pending\n  if (stats.pending) {\n    fmt = color('pending', ' ')\n      + color('pending', ' %d pending');\n\n    console.log(fmt, stats.pending);\n  }\n\n  // failures\n  if (stats.failures) {\n    fmt = color('fail', '  %d failing');\n\n    console.log(fmt, stats.failures);\n\n    Base.list(this.failures);\n    console.log();\n  }\n\n  console.log();\n};\n\n/**\n * Pad the given `str` to `len`.\n *\n * @param {String} str\n * @param {String} len\n * @return {String}\n * @api private\n */\n\nfunction pad(str, len) {\n  str = String(str);\n  return Array(len - str.length + 1).join(' ') + str;\n}\n\n\n/**\n * Returns an inline diff between 2 strings with coloured ANSI output\n *\n * @param {Error} Error with actual/expected\n * @return {String} Diff\n * @api private\n */\n\nfunction inlineDiff(err, escape) {\n  var msg = errorDiff(err, 'WordsWithSpace', escape);\n\n  // linenos\n  var lines = msg.split('\\n');\n  if (lines.length > 4) {\n    var width = String(lines.length).length;\n    msg = lines.map(function(str, i){\n      return pad(++i, width) + ' |' + ' ' + str;\n    }).join('\\n');\n  }\n\n  // legend\n  msg = '\\n'\n    + color('diff removed', 'actual')\n    + ' '\n    + color('diff added', 'expected')\n    + '\\n\\n'\n    + msg\n    + '\\n';\n\n  // indent\n  msg = msg.replace(/^/gm, '      ');\n  return msg;\n}\n\n/**\n * Returns a unified diff between 2 strings\n *\n * @param {Error} Error with actual/expected\n * @return {String} Diff\n * @api private\n */\n\nfunction unifiedDiff(err, escape) {\n  var indent = '      ';\n  function cleanUp(line) {\n    if (escape) {\n      line = escapeInvisibles(line);\n    }\n    if (line[0] === '+') return indent + colorLines('diff added', line);\n    if (line[0] === '-') return indent + colorLines('diff removed', line);\n    if (line.match(/\\@\\@/)) return null;\n    if (line.match(/\\\\ No newline/)) return null;\n    else return indent + line;\n  }\n  function notBlank(line) {\n    return line != null;\n  }\n  var msg = diff.createPatch('string', err.actual, err.expected);\n  var lines = msg.split('\\n').splice(4);\n  return '\\n      '\n         + colorLines('diff added',   '+ expected') + ' '\n         + colorLines('diff removed', '- actual')\n         + '\\n\\n'\n         + lines.map(cleanUp).filter(notBlank).join('\\n');\n}\n\n/**\n * Return a character diff for `err`.\n *\n * @param {Error} err\n * @return {String}\n * @api private\n */\n\nfunction errorDiff(err, type, escape) {\n  var actual   = escape ? escapeInvisibles(err.actual)   : err.actual;\n  var expected = escape ? escapeInvisibles(err.expected) : err.expected;\n  return diff['diff' + type](actual, expected).map(function(str){\n    if (str.added) return colorLines('diff added', str.value);\n    if (str.removed) return colorLines('diff removed', str.value);\n    return str.value;\n  }).join('');\n}\n\n/**\n * Returns a string with all invisible characters in plain text\n *\n * @param {String} line\n * @return {String}\n * @api private\n */\nfunction escapeInvisibles(line) {\n    return line.replace(/\\t/g, '<tab>')\n               .replace(/\\r/g, '<CR>')\n               .replace(/\\n/g, '<LF>\\n');\n}\n\n/**\n * Color lines for `str`, using the color `name`.\n *\n * @param {String} name\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction colorLines(name, str) {\n  return str.split('\\n').map(function(str){\n    return color(name, str);\n  }).join('\\n');\n}\n\n/**\n * Check that a / b have the same type.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Boolean}\n * @api private\n */\n\nfunction sameType(a, b) {\n  a = Object.prototype.toString.call(a);\n  b = Object.prototype.toString.call(b);\n  return a == b;\n}\n\n}); // module: reporters/base.js\n\nrequire.register(\"reporters/doc.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils');\n\n/**\n * Expose `Doc`.\n */\n\nexports = module.exports = Doc;\n\n/**\n * Initialize a new `Doc` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Doc(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , total = runner.total\n    , indents = 2;\n\n  function indent() {\n    return Array(indents).join('  ');\n  }\n\n  runner.on('suite', function(suite){\n    if (suite.root) return;\n    ++indents;\n    console.log('%s<section class=\"suite\">', indent());\n    ++indents;\n    console.log('%s<h1>%s</h1>', indent(), utils.escape(suite.title));\n    console.log('%s<dl>', indent());\n  });\n\n  runner.on('suite end', function(suite){\n    if (suite.root) return;\n    console.log('%s</dl>', indent());\n    --indents;\n    console.log('%s</section>', indent());\n    --indents;\n  });\n\n  runner.on('pass', function(test){\n    console.log('%s  <dt>%s</dt>', indent(), utils.escape(test.title));\n    var code = utils.escape(utils.clean(test.fn.toString()));\n    console.log('%s  <dd><pre><code>%s</code></pre></dd>', indent(), code);\n  });\n\n  runner.on('fail', function(test, err){\n    console.log('%s  <dt class=\"error\">%s</dt>', indent(), utils.escape(test.title));\n    var code = utils.escape(utils.clean(test.fn.toString()));\n    console.log('%s  <dd class=\"error\"><pre><code>%s</code></pre></dd>', indent(), code);\n    console.log('%s  <dd class=\"error\">%s</dd>', indent(), utils.escape(err));\n  });\n}\n\n}); // module: reporters/doc.js\n\nrequire.register(\"reporters/dot.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , color = Base.color;\n\n/**\n * Expose `Dot`.\n */\n\nexports = module.exports = Dot;\n\n/**\n * Initialize a new `Dot` matrix test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Dot(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , width = Base.window.width * .75 | 0\n    , n = -1;\n\n  runner.on('start', function(){\n    process.stdout.write('\\n');\n  });\n\n  runner.on('pending', function(test){\n    if (++n % width == 0) process.stdout.write('\\n  ');\n    process.stdout.write(color('pending', Base.symbols.dot));\n  });\n\n  runner.on('pass', function(test){\n    if (++n % width == 0) process.stdout.write('\\n  ');\n    if ('slow' == test.speed) {\n      process.stdout.write(color('bright yellow', Base.symbols.dot));\n    } else {\n      process.stdout.write(color(test.speed, Base.symbols.dot));\n    }\n  });\n\n  runner.on('fail', function(test, err){\n    if (++n % width == 0) process.stdout.write('\\n  ');\n    process.stdout.write(color('fail', Base.symbols.dot));\n  });\n\n  runner.on('end', function(){\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nDot.prototype = new F;\nDot.prototype.constructor = Dot;\n\n\n}); // module: reporters/dot.js\n\nrequire.register(\"reporters/html-cov.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar JSONCov = require('./json-cov')\n  , fs = require('browser/fs');\n\n/**\n * Expose `HTMLCov`.\n */\n\nexports = module.exports = HTMLCov;\n\n/**\n * Initialize a new `JsCoverage` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction HTMLCov(runner) {\n  var jade = require('jade')\n    , file = __dirname + '/templates/coverage.jade'\n    , str = fs.readFileSync(file, 'utf8')\n    , fn = jade.compile(str, { filename: file })\n    , self = this;\n\n  JSONCov.call(this, runner, false);\n\n  runner.on('end', function(){\n    process.stdout.write(fn({\n        cov: self.cov\n      , coverageClass: coverageClass\n    }));\n  });\n}\n\n/**\n * Return coverage class for `n`.\n *\n * @return {String}\n * @api private\n */\n\nfunction coverageClass(n) {\n  if (n >= 75) return 'high';\n  if (n >= 50) return 'medium';\n  if (n >= 25) return 'low';\n  return 'terrible';\n}\n\n}); // module: reporters/html-cov.js\n\nrequire.register(\"reporters/html.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils')\n  , Progress = require('../browser/progress')\n  , escape = utils.escape;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Expose `HTML`.\n */\n\nexports = module.exports = HTML;\n\n/**\n * Stats template.\n */\n\nvar statsTemplate = '<ul id=\"mocha-stats\">'\n  + '<li class=\"progress\"><canvas width=\"40\" height=\"40\"></canvas></li>'\n  + '<li class=\"passes\"><a href=\"#\">passes:</a> <em>0</em></li>'\n  + '<li class=\"failures\"><a href=\"#\">failures:</a> <em>0</em></li>'\n  + '<li class=\"duration\">duration: <em>0</em>s</li>'\n  + '</ul>';\n\n/**\n * Initialize a new `HTML` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction HTML(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , total = runner.total\n    , stat = fragment(statsTemplate)\n    , items = stat.getElementsByTagName('li')\n    , passes = items[1].getElementsByTagName('em')[0]\n    , passesLink = items[1].getElementsByTagName('a')[0]\n    , failures = items[2].getElementsByTagName('em')[0]\n    , failuresLink = items[2].getElementsByTagName('a')[0]\n    , duration = items[3].getElementsByTagName('em')[0]\n    , canvas = stat.getElementsByTagName('canvas')[0]\n    , report = fragment('<ul id=\"mocha-report\"></ul>')\n    , stack = [report]\n    , progress\n    , ctx\n    , root = document.getElementById('mocha');\n\n  if (canvas.getContext) {\n    var ratio = window.devicePixelRatio || 1;\n    canvas.style.width = canvas.width;\n    canvas.style.height = canvas.height;\n    canvas.width *= ratio;\n    canvas.height *= ratio;\n    ctx = canvas.getContext('2d');\n    ctx.scale(ratio, ratio);\n    progress = new Progress;\n  }\n\n  if (!root) return error('#mocha div missing, add it to your document');\n\n  // pass toggle\n  on(passesLink, 'click', function(){\n    unhide();\n    var name = /pass/.test(report.className) ? '' : ' pass';\n    report.className = report.className.replace(/fail|pass/g, '') + name;\n    if (report.className.trim()) hideSuitesWithout('test pass');\n  });\n\n  // failure toggle\n  on(failuresLink, 'click', function(){\n    unhide();\n    var name = /fail/.test(report.className) ? '' : ' fail';\n    report.className = report.className.replace(/fail|pass/g, '') + name;\n    if (report.className.trim()) hideSuitesWithout('test fail');\n  });\n\n  root.appendChild(stat);\n  root.appendChild(report);\n\n  if (progress) progress.size(40);\n\n  runner.on('suite', function(suite){\n    if (suite.root) return;\n\n    // suite\n    var url = self.suiteURL(suite);\n    var el = fragment('<li class=\"suite\"><h1><a href=\"%s\">%s</a></h1></li>', url, escape(suite.title));\n\n    // container\n    stack[0].appendChild(el);\n    stack.unshift(document.createElement('ul'));\n    el.appendChild(stack[0]);\n  });\n\n  runner.on('suite end', function(suite){\n    if (suite.root) return;\n    stack.shift();\n  });\n\n  runner.on('fail', function(test, err){\n    if ('hook' == test.type) runner.emit('test end', test);\n  });\n\n  runner.on('test end', function(test){\n    // TODO: add to stats\n    var percent = stats.tests / this.total * 100 | 0;\n    if (progress) progress.update(percent).draw(ctx);\n\n    // update stats\n    var ms = new Date - stats.start;\n    text(passes, stats.passes);\n    text(failures, stats.failures);\n    text(duration, (ms / 1000).toFixed(2));\n\n    // test\n    if ('passed' == test.state) {\n      var url = self.testURL(test);\n      var el = fragment('<li class=\"test pass %e\"><h2>%e<span class=\"duration\">%ems</span> <a href=\"%s\" class=\"replay\"></a></h2></li>', test.speed, test.title, test.duration, url);\n    } else if (test.pending) {\n      var el = fragment('<li class=\"test pass pending\"><h2>%e</h2></li>', test.title);\n    } else {\n      var el = fragment('<li class=\"test fail\"><h2>%e <a href=\"%e\" class=\"replay\"></a></h2></li>', test.title, self.testURL(test));\n      var str = test.err.stack || test.err.toString();\n\n      // FF / Opera do not add the message\n      if (!~str.indexOf(test.err.message)) {\n        str = test.err.message + '\\n' + str;\n      }\n\n      // <=IE7 stringifies to [Object Error]. Since it can be overloaded, we\n      // check for the result of the stringifying.\n      if ('[object Error]' == str) str = test.err.message;\n\n      // Safari doesn't give you a stack. Let's at least provide a source line.\n      if (!test.err.stack && test.err.sourceURL && test.err.line !== undefined) {\n        str += \"\\n(\" + test.err.sourceURL + \":\" + test.err.line + \")\";\n      }\n\n      el.appendChild(fragment('<pre class=\"error\">%e</pre>', str));\n    }\n\n    // toggle code\n    // TODO: defer\n    if (!test.pending) {\n      var h2 = el.getElementsByTagName('h2')[0];\n\n      on(h2, 'click', function(){\n        pre.style.display = 'none' == pre.style.display\n          ? 'block'\n          : 'none';\n      });\n\n      var pre = fragment('<pre><code>%e</code></pre>', utils.clean(test.fn.toString()));\n      el.appendChild(pre);\n      pre.style.display = 'none';\n    }\n\n    // Don't call .appendChild if #mocha-report was already .shift()'ed off the stack.\n    if (stack[0]) stack[0].appendChild(el);\n  });\n}\n\n/**\n * Makes a URL, preserving querystring (\"search\") parameters.\n * @param {string} s\n * @returns {string} your new URL\n */\nvar makeUrl = function makeUrl(s) {\n  var search = window.location.search;\n\n  // Remove previous grep query parameter if present\n  if (search) {\n    search = search.replace(/[?&]grep=[^&\\s]*/g, '').replace(/^&/, '?');\n  }\n\n  return window.location.pathname + (search ? search + '&' : '?' ) + 'grep=' + encodeURIComponent(s);\n};\n\n/**\n * Provide suite URL\n *\n * @param {Object} [suite]\n */\nHTML.prototype.suiteURL = function(suite){\n  return makeUrl(suite.fullTitle());\n};\n\n/**\n * Provide test URL\n *\n * @param {Object} [test]\n */\n\nHTML.prototype.testURL = function(test){\n  return makeUrl(test.fullTitle());\n};\n\n/**\n * Display error `msg`.\n */\n\nfunction error(msg) {\n  document.body.appendChild(fragment('<div id=\"mocha-error\">%s</div>', msg));\n}\n\n/**\n * Return a DOM fragment from `html`.\n */\n\nfunction fragment(html) {\n  var args = arguments\n    , div = document.createElement('div')\n    , i = 1;\n\n  div.innerHTML = html.replace(/%([se])/g, function(_, type){\n    switch (type) {\n      case 's': return String(args[i++]);\n      case 'e': return escape(args[i++]);\n    }\n  });\n\n  return div.firstChild;\n}\n\n/**\n * Check for suites that do not have elements\n * with `classname`, and hide them.\n */\n\nfunction hideSuitesWithout(classname) {\n  var suites = document.getElementsByClassName('suite');\n  for (var i = 0; i < suites.length; i++) {\n    var els = suites[i].getElementsByClassName(classname);\n    if (0 == els.length) suites[i].className += ' hidden';\n  }\n}\n\n/**\n * Unhide .hidden suites.\n */\n\nfunction unhide() {\n  var els = document.getElementsByClassName('suite hidden');\n  for (var i = 0; i < els.length; ++i) {\n    els[i].className = els[i].className.replace('suite hidden', 'suite');\n  }\n}\n\n/**\n * Set `el` text to `str`.\n */\n\nfunction text(el, str) {\n  if (el.textContent) {\n    el.textContent = str;\n  } else {\n    el.innerText = str;\n  }\n}\n\n/**\n * Listen on `event` with callback `fn`.\n */\n\nfunction on(el, event, fn) {\n  if (el.addEventListener) {\n    el.addEventListener(event, fn, false);\n  } else {\n    el.attachEvent('on' + event, fn);\n  }\n}\n\n}); // module: reporters/html.js\n\nrequire.register(\"reporters/index.js\", function(module, exports, require){\nexports.Base = require('./base');\nexports.Dot = require('./dot');\nexports.Doc = require('./doc');\nexports.TAP = require('./tap');\nexports.JSON = require('./json');\nexports.HTML = require('./html');\nexports.List = require('./list');\nexports.Min = require('./min');\nexports.Spec = require('./spec');\nexports.Nyan = require('./nyan');\nexports.XUnit = require('./xunit');\nexports.Markdown = require('./markdown');\nexports.Progress = require('./progress');\nexports.Landing = require('./landing');\nexports.JSONCov = require('./json-cov');\nexports.HTMLCov = require('./html-cov');\nexports.JSONStream = require('./json-stream');\n\n}); // module: reporters/index.js\n\nrequire.register(\"reporters/json-cov.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `JSONCov`.\n */\n\nexports = module.exports = JSONCov;\n\n/**\n * Initialize a new `JsCoverage` reporter.\n *\n * @param {Runner} runner\n * @param {Boolean} output\n * @api public\n */\n\nfunction JSONCov(runner, output) {\n  var self = this\n    , output = 1 == arguments.length ? true : output;\n\n  Base.call(this, runner);\n\n  var tests = []\n    , failures = []\n    , passes = [];\n\n  runner.on('test end', function(test){\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test){\n    passes.push(test);\n  });\n\n  runner.on('fail', function(test){\n    failures.push(test);\n  });\n\n  runner.on('end', function(){\n    var cov = global._$jscoverage || {};\n    var result = self.cov = map(cov);\n    result.stats = self.stats;\n    result.tests = tests.map(clean);\n    result.failures = failures.map(clean);\n    result.passes = passes.map(clean);\n    if (!output) return;\n    process.stdout.write(JSON.stringify(result, null, 2 ));\n  });\n}\n\n/**\n * Map jscoverage data to a JSON structure\n * suitable for reporting.\n *\n * @param {Object} cov\n * @return {Object}\n * @api private\n */\n\nfunction map(cov) {\n  var ret = {\n      instrumentation: 'node-jscoverage'\n    , sloc: 0\n    , hits: 0\n    , misses: 0\n    , coverage: 0\n    , files: []\n  };\n\n  for (var filename in cov) {\n    var data = coverage(filename, cov[filename]);\n    ret.files.push(data);\n    ret.hits += data.hits;\n    ret.misses += data.misses;\n    ret.sloc += data.sloc;\n  }\n\n  ret.files.sort(function(a, b) {\n    return a.filename.localeCompare(b.filename);\n  });\n\n  if (ret.sloc > 0) {\n    ret.coverage = (ret.hits / ret.sloc) * 100;\n  }\n\n  return ret;\n}\n\n/**\n * Map jscoverage data for a single source file\n * to a JSON structure suitable for reporting.\n *\n * @param {String} filename name of the source file\n * @param {Object} data jscoverage coverage data\n * @return {Object}\n * @api private\n */\n\nfunction coverage(filename, data) {\n  var ret = {\n    filename: filename,\n    coverage: 0,\n    hits: 0,\n    misses: 0,\n    sloc: 0,\n    source: {}\n  };\n\n  data.source.forEach(function(line, num){\n    num++;\n\n    if (data[num] === 0) {\n      ret.misses++;\n      ret.sloc++;\n    } else if (data[num] !== undefined) {\n      ret.hits++;\n      ret.sloc++;\n    }\n\n    ret.source[num] = {\n        source: line\n      , coverage: data[num] === undefined\n        ? ''\n        : data[num]\n    };\n  });\n\n  ret.coverage = ret.hits / ret.sloc * 100;\n\n  return ret;\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @param {Object} test\n * @return {Object}\n * @api private\n */\n\nfunction clean(test) {\n  return {\n      title: test.title\n    , fullTitle: test.fullTitle()\n    , duration: test.duration\n  }\n}\n\n}); // module: reporters/json-cov.js\n\nrequire.register(\"reporters/json-stream.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , color = Base.color;\n\n/**\n * Expose `List`.\n */\n\nexports = module.exports = List;\n\n/**\n * Initialize a new `List` test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction List(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , total = runner.total;\n\n  runner.on('start', function(){\n    console.log(JSON.stringify(['start', { total: total }]));\n  });\n\n  runner.on('pass', function(test){\n    console.log(JSON.stringify(['pass', clean(test)]));\n  });\n\n  runner.on('fail', function(test, err){\n    test = clean(test);\n    test.err = err.message;\n    console.log(JSON.stringify(['fail', test]));\n  });\n\n  runner.on('end', function(){\n    process.stdout.write(JSON.stringify(['end', self.stats]));\n  });\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @param {Object} test\n * @return {Object}\n * @api private\n */\n\nfunction clean(test) {\n  return {\n      title: test.title\n    , fullTitle: test.fullTitle()\n    , duration: test.duration\n  }\n}\n\n}); // module: reporters/json-stream.js\n\nrequire.register(\"reporters/json.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `JSON`.\n */\n\nexports = module.exports = JSONReporter;\n\n/**\n * Initialize a new `JSON` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction JSONReporter(runner) {\n  var self = this;\n  Base.call(this, runner);\n\n  var tests = []\n    , pending = []\n    , failures = []\n    , passes = [];\n\n  runner.on('test end', function(test){\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test){\n    passes.push(test);\n  });\n\n  runner.on('fail', function(test){\n    failures.push(test);\n  });\n\n  runner.on('pending', function(test){\n    pending.push(test);\n  });\n\n  runner.on('end', function(){\n    var obj = {\n      stats: self.stats,\n      tests: tests.map(clean),\n      pending: pending.map(clean),\n      failures: failures.map(clean),\n      passes: passes.map(clean)\n    };\n\n    runner.testResults = obj;\n\n    process.stdout.write(JSON.stringify(obj, null, 2));\n  });\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @param {Object} test\n * @return {Object}\n * @api private\n */\n\nfunction clean(test) {\n  return {\n    title: test.title,\n    fullTitle: test.fullTitle(),\n    duration: test.duration,\n    err: errorJSON(test.err || {})\n  }\n}\n\n/**\n * Transform `error` into a JSON object.\n * @param {Error} err\n * @return {Object}\n */\n\nfunction errorJSON(err) {\n  var res = {};\n  Object.getOwnPropertyNames(err).forEach(function(key) {\n    res[key] = err[key];\n  }, err);\n  return res;\n}\n\n}); // module: reporters/json.js\n\nrequire.register(\"reporters/landing.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `Landing`.\n */\n\nexports = module.exports = Landing;\n\n/**\n * Airplane color.\n */\n\nBase.colors.plane = 0;\n\n/**\n * Airplane crash color.\n */\n\nBase.colors['plane crash'] = 31;\n\n/**\n * Runway color.\n */\n\nBase.colors.runway = 90;\n\n/**\n * Initialize a new `Landing` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Landing(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , width = Base.window.width * .75 | 0\n    , total = runner.total\n    , stream = process.stdout\n    , plane = color('plane', '')\n    , crashed = -1\n    , n = 0;\n\n  function runway() {\n    var buf = Array(width).join('-');\n    return '  ' + color('runway', buf);\n  }\n\n  runner.on('start', function(){\n    stream.write('\\n\\n\\n  ');\n    cursor.hide();\n  });\n\n  runner.on('test end', function(test){\n    // check if the plane crashed\n    var col = -1 == crashed\n      ? width * ++n / total | 0\n      : crashed;\n\n    // show the crash\n    if ('failed' == test.state) {\n      plane = color('plane crash', '');\n      crashed = col;\n    }\n\n    // render landing strip\n    stream.write('\\u001b['+(width+1)+'D\\u001b[2A');\n    stream.write(runway());\n    stream.write('\\n  ');\n    stream.write(color('runway', Array(col).join('')));\n    stream.write(plane)\n    stream.write(color('runway', Array(width - col).join('') + '\\n'));\n    stream.write(runway());\n    stream.write('\\u001b[0m');\n  });\n\n  runner.on('end', function(){\n    cursor.show();\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nLanding.prototype = new F;\nLanding.prototype.constructor = Landing;\n\n\n}); // module: reporters/landing.js\n\nrequire.register(\"reporters/list.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `List`.\n */\n\nexports = module.exports = List;\n\n/**\n * Initialize a new `List` test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction List(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , n = 0;\n\n  runner.on('start', function(){\n    console.log();\n  });\n\n  runner.on('test', function(test){\n    process.stdout.write(color('pass', '    ' + test.fullTitle() + ': '));\n  });\n\n  runner.on('pending', function(test){\n    var fmt = color('checkmark', '  -')\n      + color('pending', ' %s');\n    console.log(fmt, test.fullTitle());\n  });\n\n  runner.on('pass', function(test){\n    var fmt = color('checkmark', '  '+Base.symbols.dot)\n      + color('pass', ' %s: ')\n      + color(test.speed, '%dms');\n    cursor.CR();\n    console.log(fmt, test.fullTitle(), test.duration);\n  });\n\n  runner.on('fail', function(test, err){\n    cursor.CR();\n    console.log(color('fail', '  %d) %s'), ++n, test.fullTitle());\n  });\n\n  runner.on('end', self.epilogue.bind(self));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nList.prototype = new F;\nList.prototype.constructor = List;\n\n\n}); // module: reporters/list.js\n\nrequire.register(\"reporters/markdown.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils');\n\n/**\n * Constants\n */\n\nvar SUITE_PREFIX = '$';\n\n/**\n * Expose `Markdown`.\n */\n\nexports = module.exports = Markdown;\n\n/**\n * Initialize a new `Markdown` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Markdown(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , level = 0\n    , buf = '';\n\n  function title(str) {\n    return Array(level).join('#') + ' ' + str;\n  }\n\n  function indent() {\n    return Array(level).join('  ');\n  }\n\n  function mapTOC(suite, obj) {\n    var ret = obj,\n        key = SUITE_PREFIX + suite.title;\n    obj = obj[key] = obj[key] || { suite: suite };\n    suite.suites.forEach(function(suite){\n      mapTOC(suite, obj);\n    });\n    return ret;\n  }\n\n  function stringifyTOC(obj, level) {\n    ++level;\n    var buf = '';\n    var link;\n    for (var key in obj) {\n      if ('suite' == key) continue;\n      if (key !== SUITE_PREFIX) {\n        link = ' - [' + key.substring(1) + ']';\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n        buf += Array(level).join('  ') + link;\n      }\n      buf += stringifyTOC(obj[key], level);\n    }\n    return buf;\n  }\n\n  function generateTOC(suite) {\n    var obj = mapTOC(suite, {});\n    return stringifyTOC(obj, 0);\n  }\n\n  generateTOC(runner.suite);\n\n  runner.on('suite', function(suite){\n    ++level;\n    var slug = utils.slug(suite.fullTitle());\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n    buf += title(suite.title) + '\\n';\n  });\n\n  runner.on('suite end', function(suite){\n    --level;\n  });\n\n  runner.on('pass', function(test){\n    var code = utils.clean(test.fn.toString());\n    buf += test.title + '.\\n';\n    buf += '\\n```js\\n';\n    buf += code + '\\n';\n    buf += '```\\n\\n';\n  });\n\n  runner.on('end', function(){\n    process.stdout.write('# TOC\\n');\n    process.stdout.write(generateTOC(runner.suite));\n    process.stdout.write(buf);\n  });\n}\n\n}); // module: reporters/markdown.js\n\nrequire.register(\"reporters/min.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `Min`.\n */\n\nexports = module.exports = Min;\n\n/**\n * Initialize a new `Min` minimal test reporter (best used with --watch).\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Min(runner) {\n  Base.call(this, runner);\n\n  runner.on('start', function(){\n    // clear screen\n    process.stdout.write('\\u001b[2J');\n    // set cursor position\n    process.stdout.write('\\u001b[1;3H');\n  });\n\n  runner.on('end', this.epilogue.bind(this));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nMin.prototype = new F;\nMin.prototype.constructor = Min;\n\n\n}); // module: reporters/min.js\n\nrequire.register(\"reporters/nyan.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `Dot`.\n */\n\nexports = module.exports = NyanCat;\n\n/**\n * Initialize a new `Dot` matrix test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction NyanCat(runner) {\n  Base.call(this, runner);\n  var self = this\n    , stats = this.stats\n    , width = Base.window.width * .75 | 0\n    , rainbowColors = this.rainbowColors = self.generateColors()\n    , colorIndex = this.colorIndex = 0\n    , numerOfLines = this.numberOfLines = 4\n    , trajectories = this.trajectories = [[], [], [], []]\n    , nyanCatWidth = this.nyanCatWidth = 11\n    , trajectoryWidthMax = this.trajectoryWidthMax = (width - nyanCatWidth)\n    , scoreboardWidth = this.scoreboardWidth = 5\n    , tick = this.tick = 0\n    , n = 0;\n\n  runner.on('start', function(){\n    Base.cursor.hide();\n    self.draw();\n  });\n\n  runner.on('pending', function(test){\n    self.draw();\n  });\n\n  runner.on('pass', function(test){\n    self.draw();\n  });\n\n  runner.on('fail', function(test, err){\n    self.draw();\n  });\n\n  runner.on('end', function(){\n    Base.cursor.show();\n    for (var i = 0; i < self.numberOfLines; i++) write('\\n');\n    self.epilogue();\n  });\n}\n\n/**\n * Draw the nyan cat\n *\n * @api private\n */\n\nNyanCat.prototype.draw = function(){\n  this.appendRainbow();\n  this.drawScoreboard();\n  this.drawRainbow();\n  this.drawNyanCat();\n  this.tick = !this.tick;\n};\n\n/**\n * Draw the \"scoreboard\" showing the number\n * of passes, failures and pending tests.\n *\n * @api private\n */\n\nNyanCat.prototype.drawScoreboard = function(){\n  var stats = this.stats;\n\n  function draw(type, n) {\n    write(' ');\n    write(Base.color(type, n));\n    write('\\n');\n  }\n\n  draw('green', stats.passes);\n  draw('fail', stats.failures);\n  draw('pending', stats.pending);\n  write('\\n');\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Append the rainbow.\n *\n * @api private\n */\n\nNyanCat.prototype.appendRainbow = function(){\n  var segment = this.tick ? '_' : '-';\n  var rainbowified = this.rainbowify(segment);\n\n  for (var index = 0; index < this.numberOfLines; index++) {\n    var trajectory = this.trajectories[index];\n    if (trajectory.length >= this.trajectoryWidthMax) trajectory.shift();\n    trajectory.push(rainbowified);\n  }\n};\n\n/**\n * Draw the rainbow.\n *\n * @api private\n */\n\nNyanCat.prototype.drawRainbow = function(){\n  var self = this;\n\n  this.trajectories.forEach(function(line, index) {\n    write('\\u001b[' + self.scoreboardWidth + 'C');\n    write(line.join(''));\n    write('\\n');\n  });\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Draw the nyan cat\n *\n * @api private\n */\n\nNyanCat.prototype.drawNyanCat = function() {\n  var self = this;\n  var startWidth = this.scoreboardWidth + this.trajectories[0].length;\n  var dist = '\\u001b[' + startWidth + 'C';\n  var padding = '';\n\n  write(dist);\n  write('_,------,');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? '  ' : '   ';\n  write('_|' + padding + '/\\\\_/\\\\ ');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? '_' : '__';\n  var tail = self.tick ? '~' : '^';\n  var face;\n  write(tail + '|' + padding + this.face() + ' ');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? ' ' : '  ';\n  write(padding + '\"\"  \"\" ');\n  write('\\n');\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Draw nyan cat face.\n *\n * @return {String}\n * @api private\n */\n\nNyanCat.prototype.face = function() {\n  var stats = this.stats;\n  if (stats.failures) {\n    return '( x .x)';\n  } else if (stats.pending) {\n    return '( o .o)';\n  } else if(stats.passes) {\n    return '( ^ .^)';\n  } else {\n    return '( - .-)';\n  }\n};\n\n/**\n * Move cursor up `n`.\n *\n * @param {Number} n\n * @api private\n */\n\nNyanCat.prototype.cursorUp = function(n) {\n  write('\\u001b[' + n + 'A');\n};\n\n/**\n * Move cursor down `n`.\n *\n * @param {Number} n\n * @api private\n */\n\nNyanCat.prototype.cursorDown = function(n) {\n  write('\\u001b[' + n + 'B');\n};\n\n/**\n * Generate rainbow colors.\n *\n * @return {Array}\n * @api private\n */\n\nNyanCat.prototype.generateColors = function(){\n  var colors = [];\n\n  for (var i = 0; i < (6 * 7); i++) {\n    var pi3 = Math.floor(Math.PI / 3);\n    var n = (i * (1.0 / 6));\n    var r = Math.floor(3 * Math.sin(n) + 3);\n    var g = Math.floor(3 * Math.sin(n + 2 * pi3) + 3);\n    var b = Math.floor(3 * Math.sin(n + 4 * pi3) + 3);\n    colors.push(36 * r + 6 * g + b + 16);\n  }\n\n  return colors;\n};\n\n/**\n * Apply rainbow to the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nNyanCat.prototype.rainbowify = function(str){\n  if (!Base.useColors)\n    return str;\n  var color = this.rainbowColors[this.colorIndex % this.rainbowColors.length];\n  this.colorIndex += 1;\n  return '\\u001b[38;5;' + color + 'm' + str + '\\u001b[0m';\n};\n\n/**\n * Stdout helper.\n */\n\nfunction write(string) {\n  process.stdout.write(string);\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nNyanCat.prototype = new F;\nNyanCat.prototype.constructor = NyanCat;\n\n\n}); // module: reporters/nyan.js\n\nrequire.register(\"reporters/progress.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `Progress`.\n */\n\nexports = module.exports = Progress;\n\n/**\n * General progress bar color.\n */\n\nBase.colors.progress = 90;\n\n/**\n * Initialize a new `Progress` bar test reporter.\n *\n * @param {Runner} runner\n * @param {Object} options\n * @api public\n */\n\nfunction Progress(runner, options) {\n  Base.call(this, runner);\n\n  var self = this\n    , options = options || {}\n    , stats = this.stats\n    , width = Base.window.width * .50 | 0\n    , total = runner.total\n    , complete = 0\n    , max = Math.max\n    , lastN = -1;\n\n  // default chars\n  options.open = options.open || '[';\n  options.complete = options.complete || '';\n  options.incomplete = options.incomplete || Base.symbols.dot;\n  options.close = options.close || ']';\n  options.verbose = false;\n\n  // tests started\n  runner.on('start', function(){\n    console.log();\n    cursor.hide();\n  });\n\n  // tests complete\n  runner.on('test end', function(){\n    complete++;\n    var incomplete = total - complete\n      , percent = complete / total\n      , n = width * percent | 0\n      , i = width - n;\n\n    if (lastN === n && !options.verbose) {\n      // Don't re-render the line if it hasn't changed\n      return;\n    }\n    lastN = n;\n\n    cursor.CR();\n    process.stdout.write('\\u001b[J');\n    process.stdout.write(color('progress', '  ' + options.open));\n    process.stdout.write(Array(n).join(options.complete));\n    process.stdout.write(Array(i).join(options.incomplete));\n    process.stdout.write(color('progress', options.close));\n    if (options.verbose) {\n      process.stdout.write(color('progress', ' ' + complete + ' of ' + total));\n    }\n  });\n\n  // tests are complete, output some stats\n  // and the failures if any\n  runner.on('end', function(){\n    cursor.show();\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nProgress.prototype = new F;\nProgress.prototype.constructor = Progress;\n\n\n}); // module: reporters/progress.js\n\nrequire.register(\"reporters/spec.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `Spec`.\n */\n\nexports = module.exports = Spec;\n\n/**\n * Initialize a new `Spec` test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Spec(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , indents = 0\n    , n = 0;\n\n  function indent() {\n    return Array(indents).join('  ')\n  }\n\n  runner.on('start', function(){\n    console.log();\n  });\n\n  runner.on('suite', function(suite){\n    ++indents;\n    console.log(color('suite', '%s%s'), indent(), suite.title);\n  });\n\n  runner.on('suite end', function(suite){\n    --indents;\n    if (1 == indents) console.log();\n  });\n\n  runner.on('pending', function(test){\n    var fmt = indent() + color('pending', '  - %s');\n    console.log(fmt, test.title);\n  });\n\n  runner.on('pass', function(test){\n    if ('fast' == test.speed) {\n      var fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s');\n      cursor.CR();\n      console.log(fmt, test.title);\n    } else {\n      var fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s')\n        + color(test.speed, ' (%dms)');\n      cursor.CR();\n      console.log(fmt, test.title, test.duration);\n    }\n  });\n\n  runner.on('fail', function(test, err){\n    cursor.CR();\n    console.log(indent() + color('fail', '  %d) %s'), ++n, test.title);\n  });\n\n  runner.on('end', self.epilogue.bind(self));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nSpec.prototype = new F;\nSpec.prototype.constructor = Spec;\n\n\n}); // module: reporters/spec.js\n\nrequire.register(\"reporters/tap.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `TAP`.\n */\n\nexports = module.exports = TAP;\n\n/**\n * Initialize a new `TAP` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction TAP(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , n = 1\n    , passes = 0\n    , failures = 0;\n\n  runner.on('start', function(){\n    var total = runner.grepTotal(runner.suite);\n    console.log('%d..%d', 1, total);\n  });\n\n  runner.on('test end', function(){\n    ++n;\n  });\n\n  runner.on('pending', function(test){\n    console.log('ok %d %s # SKIP -', n, title(test));\n  });\n\n  runner.on('pass', function(test){\n    passes++;\n    console.log('ok %d %s', n, title(test));\n  });\n\n  runner.on('fail', function(test, err){\n    failures++;\n    console.log('not ok %d %s', n, title(test));\n    if (err.stack) console.log(err.stack.replace(/^/gm, '  '));\n  });\n\n  runner.on('end', function(){\n    console.log('# tests ' + (passes + failures));\n    console.log('# pass ' + passes);\n    console.log('# fail ' + failures);\n  });\n}\n\n/**\n * Return a TAP-safe title of `test`\n *\n * @param {Object} test\n * @return {String}\n * @api private\n */\n\nfunction title(test) {\n  return test.fullTitle().replace(/#/g, '');\n}\n\n}); // module: reporters/tap.js\n\nrequire.register(\"reporters/xunit.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils')\n  , fs = require('browser/fs')\n  , escape = utils.escape;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Expose `XUnit`.\n */\n\nexports = module.exports = XUnit;\n\n/**\n * Initialize a new `XUnit` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction XUnit(runner, options) {\n  Base.call(this, runner);\n  var stats = this.stats\n    , tests = []\n    , self = this;\n\n  if (options.reporterOptions && options.reporterOptions.output) {\n      if (! fs.createWriteStream) {\n          throw new Error('file output not supported in browser');\n      }\n      self.fileStream = fs.createWriteStream(options.reporterOptions.output);\n  }\n\n  runner.on('pending', function(test){\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test){\n    tests.push(test);\n  });\n\n  runner.on('fail', function(test){\n    tests.push(test);\n  });\n\n  runner.on('end', function(){\n    self.write(tag('testsuite', {\n        name: 'Mocha Tests'\n      , tests: stats.tests\n      , failures: stats.failures\n      , errors: stats.failures\n      , skipped: stats.tests - stats.failures - stats.passes\n      , timestamp: (new Date).toUTCString()\n      , time: (stats.duration / 1000) || 0\n    }, false));\n\n    tests.forEach(function(t) { self.test(t); });\n    self.write('</testsuite>');\n  });\n}\n\n/**\n * Override done to close the stream (if it's a file).\n */\nXUnit.prototype.done = function(failures, fn) {\n    if (this.fileStream) {\n        this.fileStream.end(function() {\n            fn(failures);\n        });\n    } else {\n        fn(failures);\n    }\n};\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nXUnit.prototype = new F;\nXUnit.prototype.constructor = XUnit;\n\n\n/**\n * Write out the given line\n */\nXUnit.prototype.write = function(line) {\n    if (this.fileStream) {\n        this.fileStream.write(line + '\\n');\n    } else {\n        console.log(line);\n    }\n};\n\n/**\n * Output tag for the given `test.`\n */\n\nXUnit.prototype.test = function(test, ostream) {\n  var attrs = {\n      classname: test.parent.fullTitle()\n    , name: test.title\n    , time: (test.duration / 1000) || 0\n  };\n\n  if ('failed' == test.state) {\n    var err = test.err;\n    this.write(tag('testcase', attrs, false, tag('failure', {}, false, cdata(escape(err.message) + \"\\n\" + err.stack))));\n  } else if (test.pending) {\n    this.write(tag('testcase', attrs, false, tag('skipped', {}, true)));\n  } else {\n    this.write(tag('testcase', attrs, true) );\n  }\n};\n\n/**\n * HTML tag helper.\n */\n\nfunction tag(name, attrs, close, content) {\n  var end = close ? '/>' : '>'\n    , pairs = []\n    , tag;\n\n  for (var key in attrs) {\n    pairs.push(key + '=\"' + escape(attrs[key]) + '\"');\n  }\n\n  tag = '<' + name + (pairs.length ? ' ' + pairs.join(' ') : '') + end;\n  if (content) tag += content + '</' + name + end;\n  return tag;\n}\n\n/**\n * Return cdata escaped CDATA `str`.\n */\n\nfunction cdata(str) {\n  return '<![CDATA[' + escape(str) + ']]>';\n}\n\n}); // module: reporters/xunit.js\n\nrequire.register(\"runnable.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('browser/events').EventEmitter\n  , debug = require('browser/debug')('mocha:runnable')\n  , Pending = require('./pending')\n  , milliseconds = require('./ms')\n  , utils = require('./utils');\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Object#toString().\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Expose `Runnable`.\n */\n\nmodule.exports = Runnable;\n\n/**\n * Initialize a new `Runnable` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n */\n\nfunction Runnable(title, fn) {\n  this.title = title;\n  this.fn = fn;\n  this.async = fn && fn.length;\n  this.sync = ! this.async;\n  this._timeout = 2000;\n  this._slow = 75;\n  this._enableTimeouts = true;\n  this.timedOut = false;\n  this._trace = new Error('done() called multiple times')\n}\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\n\nfunction F(){};\nF.prototype = EventEmitter.prototype;\nRunnable.prototype = new F;\nRunnable.prototype.constructor = Runnable;\n\n\n/**\n * Set & get timeout `ms`.\n *\n * @param {Number|String} ms\n * @return {Runnable|Number} ms or self\n * @api private\n */\n\nRunnable.prototype.timeout = function(ms){\n  if (0 == arguments.length) return this._timeout;\n  if (ms === 0) this._enableTimeouts = false;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('timeout %d', ms);\n  this._timeout = ms;\n  if (this.timer) this.resetTimeout();\n  return this;\n};\n\n/**\n * Set & get slow `ms`.\n *\n * @param {Number|String} ms\n * @return {Runnable|Number} ms or self\n * @api private\n */\n\nRunnable.prototype.slow = function(ms){\n  if (0 === arguments.length) return this._slow;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('timeout %d', ms);\n  this._slow = ms;\n  return this;\n};\n\n/**\n * Set and & get timeout `enabled`.\n *\n * @param {Boolean} enabled\n * @return {Runnable|Boolean} enabled or self\n * @api private\n */\n\nRunnable.prototype.enableTimeouts = function(enabled){\n  if (arguments.length === 0) return this._enableTimeouts;\n  debug('enableTimeouts %s', enabled);\n  this._enableTimeouts = enabled;\n  return this;\n};\n\n/**\n * Halt and mark as pending.\n *\n * @api private\n */\n\nRunnable.prototype.skip = function(){\n    throw new Pending();\n};\n\n/**\n * Return the full title generated by recursively\n * concatenating the parent's full title.\n *\n * @return {String}\n * @api public\n */\n\nRunnable.prototype.fullTitle = function(){\n  return this.parent.fullTitle() + ' ' + this.title;\n};\n\n/**\n * Clear the timeout.\n *\n * @api private\n */\n\nRunnable.prototype.clearTimeout = function(){\n  clearTimeout(this.timer);\n};\n\n/**\n * Inspect the runnable void of private properties.\n *\n * @return {String}\n * @api private\n */\n\nRunnable.prototype.inspect = function(){\n  return JSON.stringify(this, function(key, val){\n    if ('_' == key[0]) return;\n    if ('parent' == key) return '#<Suite>';\n    if ('ctx' == key) return '#<Context>';\n    return val;\n  }, 2);\n};\n\n/**\n * Reset the timeout.\n *\n * @api private\n */\n\nRunnable.prototype.resetTimeout = function(){\n  var self = this;\n  var ms = this.timeout() || 1e9;\n\n  if (!this._enableTimeouts) return;\n  this.clearTimeout();\n  this.timer = setTimeout(function(){\n    if (!self._enableTimeouts) return;\n    self.callback(new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.'));\n    self.timedOut = true;\n  }, ms);\n};\n\n/**\n * Whitelist these globals for this test run\n *\n * @api private\n */\nRunnable.prototype.globals = function(arr){\n  var self = this;\n  this._allowedGlobals = arr;\n};\n\n/**\n * Run the test and invoke `fn(err)`.\n *\n * @param {Function} fn\n * @api private\n */\n\nRunnable.prototype.run = function(fn){\n  var self = this\n    , start = new Date\n    , ctx = this.ctx\n    , finished\n    , emitted;\n\n  // Some times the ctx exists but it is not runnable\n  if (ctx && ctx.runnable) ctx.runnable(this);\n\n  // called multiple times\n  function multiple(err) {\n    if (emitted) return;\n    emitted = true;\n    self.emit('error', err || new Error('done() called multiple times; stacktrace may be inaccurate'));\n  }\n\n  // finished\n  function done(err) {\n    var ms = self.timeout();\n    if (self.timedOut) return;\n    if (finished) return multiple(err || self._trace);\n\n    // Discard the resolution if this test has already failed asynchronously\n    if (self.state) return;\n\n    self.clearTimeout();\n    self.duration = new Date - start;\n    finished = true;\n    if (!err && self.duration > ms && self._enableTimeouts) err = new Error('timeout of ' + ms + 'ms exceeded. Ensure the done() callback is being called in this test.');\n    fn(err);\n  }\n\n  // for .resetTimeout()\n  this.callback = done;\n\n  // explicit async with `done` argument\n  if (this.async) {\n    this.resetTimeout();\n\n    try {\n      this.fn.call(ctx, function(err){\n        if (err instanceof Error || toString.call(err) === \"[object Error]\") return done(err);\n        if (null != err) {\n          if (Object.prototype.toString.call(err) === '[object Object]') {\n            return done(new Error('done() invoked with non-Error: ' + JSON.stringify(err)));\n          } else {\n            return done(new Error('done() invoked with non-Error: ' + err));\n          }\n        }\n        done();\n      });\n    } catch (err) {\n      done(utils.getError(err));\n    }\n    return;\n  }\n\n  if (this.asyncOnly) {\n    return done(new Error('--async-only option in use without declaring `done()`'));\n  }\n\n  // sync or promise-returning\n  try {\n    if (this.pending) {\n      done();\n    } else {\n      callFn(this.fn);\n    }\n  } catch (err) {\n    done(utils.getError(err));\n  }\n\n  function callFn(fn) {\n    var result = fn.call(ctx);\n    if (result && typeof result.then === 'function') {\n      self.resetTimeout();\n      result\n        .then(function() {\n          done()\n        },\n        function(reason) {\n          done(reason || new Error('Promise rejected with no or falsy reason'))\n        });\n    } else {\n      done();\n    }\n  }\n};\n\n}); // module: runnable.js\n\nrequire.register(\"runner.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('browser/events').EventEmitter\n  , debug = require('browser/debug')('mocha:runner')\n  , Pending = require('./pending')\n  , Test = require('./test')\n  , utils = require('./utils')\n  , filter = utils.filter\n  , keys = utils.keys\n  , type = utils.type\n  , stringify = utils.stringify\n  , stackFilter = utils.stackTraceFilter();\n\n/**\n * Non-enumerable globals.\n */\n\nvar globals = [\n  'setTimeout',\n  'clearTimeout',\n  'setInterval',\n  'clearInterval',\n  'XMLHttpRequest',\n  'Date',\n  'setImmediate',\n  'clearImmediate'\n];\n\n/**\n * Expose `Runner`.\n */\n\nmodule.exports = Runner;\n\n/**\n * Initialize a `Runner` for the given `suite`.\n *\n * Events:\n *\n *   - `start`  execution started\n *   - `end`  execution complete\n *   - `suite`  (suite) test suite execution started\n *   - `suite end`  (suite) all tests (and sub-suites) have finished\n *   - `test`  (test) test execution started\n *   - `test end`  (test) test completed\n *   - `hook`  (hook) hook execution started\n *   - `hook end`  (hook) hook complete\n *   - `pass`  (test) test passed\n *   - `fail`  (test, err) test failed\n *   - `pending`  (test) test pending\n *\n * @param {Suite} suite Root suite\n * @param {boolean} [delay] Whether or not to delay execution of root suite\n *   until ready.\n * @api public\n */\n\nfunction Runner(suite, delay) {\n  var self = this;\n  this._globals = [];\n  this._abort = false;\n  this._delay = delay;\n  this.suite = suite;\n  this.total = suite.total();\n  this.failures = 0;\n  this.on('test end', function(test){ self.checkGlobals(test); });\n  this.on('hook end', function(hook){ self.checkGlobals(hook); });\n  this.grep(/.*/);\n  this.globals(this.globalProps().concat(extraGlobals()));\n}\n\n/**\n * Wrapper for setImmediate, process.nextTick, or browser polyfill.\n *\n * @param {Function} fn\n * @api private\n */\n\nRunner.immediately = global.setImmediate || process.nextTick;\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\n\nfunction F(){};\nF.prototype = EventEmitter.prototype;\nRunner.prototype = new F;\nRunner.prototype.constructor = Runner;\n\n\n/**\n * Run tests with full titles matching `re`. Updates runner.total\n * with number of tests matched.\n *\n * @param {RegExp} re\n * @param {Boolean} invert\n * @return {Runner} for chaining\n * @api public\n */\n\nRunner.prototype.grep = function(re, invert){\n  debug('grep %s', re);\n  this._grep = re;\n  this._invert = invert;\n  this.total = this.grepTotal(this.suite);\n  return this;\n};\n\n/**\n * Returns the number of tests matching the grep search for the\n * given suite.\n *\n * @param {Suite} suite\n * @return {Number}\n * @api public\n */\n\nRunner.prototype.grepTotal = function(suite) {\n  var self = this;\n  var total = 0;\n\n  suite.eachTest(function(test){\n    var match = self._grep.test(test.fullTitle());\n    if (self._invert) match = !match;\n    if (match) total++;\n  });\n\n  return total;\n};\n\n/**\n * Return a list of global properties.\n *\n * @return {Array}\n * @api private\n */\n\nRunner.prototype.globalProps = function() {\n  var props = utils.keys(global);\n\n  // non-enumerables\n  for (var i = 0; i < globals.length; ++i) {\n    if (~utils.indexOf(props, globals[i])) continue;\n    props.push(globals[i]);\n  }\n\n  return props;\n};\n\n/**\n * Allow the given `arr` of globals.\n *\n * @param {Array} arr\n * @return {Runner} for chaining\n * @api public\n */\n\nRunner.prototype.globals = function(arr){\n  if (0 == arguments.length) return this._globals;\n  debug('globals %j', arr);\n  this._globals = this._globals.concat(arr);\n  return this;\n};\n\n/**\n * Check for global variable leaks.\n *\n * @api private\n */\n\nRunner.prototype.checkGlobals = function(test){\n  if (this.ignoreLeaks) return;\n  var ok = this._globals;\n\n  var globals = this.globalProps();\n  var leaks;\n\n  if (test) {\n    ok = ok.concat(test._allowedGlobals || []);\n  }\n\n  if(this.prevGlobalsLength == globals.length) return;\n  this.prevGlobalsLength = globals.length;\n\n  leaks = filterLeaks(ok, globals);\n  this._globals = this._globals.concat(leaks);\n\n  if (leaks.length > 1) {\n    this.fail(test, new Error('global leaks detected: ' + leaks.join(', ') + ''));\n  } else if (leaks.length) {\n    this.fail(test, new Error('global leak detected: ' + leaks[0]));\n  }\n};\n\n/**\n * Fail the given `test`.\n *\n * @param {Test} test\n * @param {Error} err\n * @api private\n */\n\nRunner.prototype.fail = function(test, err) {\n  ++this.failures;\n  test.state = 'failed';\n\n  if (!(err instanceof Error)) {\n    err = new Error('the ' + type(err) + ' ' + stringify(err) + ' was thrown, throw an Error :)');\n  }\n\n  err.stack = (this.fullStackTrace || !err.stack)\n    ? err.stack\n    : stackFilter(err.stack);\n\n  this.emit('fail', test, err);\n};\n\n/**\n * Fail the given `hook` with `err`.\n *\n * Hook failures work in the following pattern:\n * - If bail, then exit\n * - Failed `before` hook skips all tests in a suite and subsuites,\n *   but jumps to corresponding `after` hook\n * - Failed `before each` hook skips remaining tests in a\n *   suite and jumps to corresponding `after each` hook,\n *   which is run only once\n * - Failed `after` hook does not alter\n *   execution order\n * - Failed `after each` hook skips remaining tests in a\n *   suite and subsuites, but executes other `after each`\n *   hooks\n *\n * @param {Hook} hook\n * @param {Error} err\n * @api private\n */\n\nRunner.prototype.failHook = function(hook, err){\n  this.fail(hook, err);\n  if (this.suite.bail()) {\n    this.emit('end');\n  }\n};\n\n/**\n * Run hook `name` callbacks and then invoke `fn()`.\n *\n * @param {String} name\n * @param {Function} function\n * @api private\n */\n\nRunner.prototype.hook = function(name, fn){\n  var suite = this.suite\n    , hooks = suite['_' + name]\n    , self = this\n    , timer;\n\n  function next(i) {\n    var hook = hooks[i];\n    if (!hook) return fn();\n    self.currentRunnable = hook;\n\n    hook.ctx.currentTest = self.test;\n\n    self.emit('hook', hook);\n\n    hook.on('error', function(err){\n      self.failHook(hook, err);\n    });\n\n    hook.run(function(err){\n      hook.removeAllListeners('error');\n      var testError = hook.error();\n      if (testError) self.fail(self.test, testError);\n      if (err) {\n        if (err instanceof Pending) {\n          suite.pending = true;\n        } else {\n          self.failHook(hook, err);\n\n          // stop executing hooks, notify callee of hook err\n          return fn(err);\n        }\n      }\n      self.emit('hook end', hook);\n      delete hook.ctx.currentTest;\n      next(++i);\n    });\n  }\n\n  Runner.immediately(function(){\n    next(0);\n  });\n};\n\n/**\n * Run hook `name` for the given array of `suites`\n * in order, and callback `fn(err, errSuite)`.\n *\n * @param {String} name\n * @param {Array} suites\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.hooks = function(name, suites, fn){\n  var self = this\n    , orig = this.suite;\n\n  function next(suite) {\n    self.suite = suite;\n\n    if (!suite) {\n      self.suite = orig;\n      return fn();\n    }\n\n    self.hook(name, function(err){\n      if (err) {\n        var errSuite = self.suite;\n        self.suite = orig;\n        return fn(err, errSuite);\n      }\n\n      next(suites.pop());\n    });\n  }\n\n  next(suites.pop());\n};\n\n/**\n * Run hooks from the top level down.\n *\n * @param {String} name\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.hookUp = function(name, fn){\n  var suites = [this.suite].concat(this.parents()).reverse();\n  this.hooks(name, suites, fn);\n};\n\n/**\n * Run hooks from the bottom up.\n *\n * @param {String} name\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.hookDown = function(name, fn){\n  var suites = [this.suite].concat(this.parents());\n  this.hooks(name, suites, fn);\n};\n\n/**\n * Return an array of parent Suites from\n * closest to furthest.\n *\n * @return {Array}\n * @api private\n */\n\nRunner.prototype.parents = function(){\n  var suite = this.suite\n    , suites = [];\n  while (suite = suite.parent) suites.push(suite);\n  return suites;\n};\n\n/**\n * Run the current test and callback `fn(err)`.\n *\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.runTest = function(fn){\n  var test = this.test\n    , self = this;\n\n  if (this.asyncOnly) test.asyncOnly = true;\n\n  try {\n    test.on('error', function(err){\n      self.fail(test, err);\n    });\n    test.run(fn);\n  } catch (err) {\n    fn(err);\n  }\n};\n\n/**\n * Run tests in the given `suite` and invoke\n * the callback `fn()` when complete.\n *\n * @param {Suite} suite\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.runTests = function(suite, fn){\n  var self = this\n    , tests = suite.tests.slice()\n    , test;\n\n\n  function hookErr(err, errSuite, after) {\n    // before/after Each hook for errSuite failed:\n    var orig = self.suite;\n\n    // for failed 'after each' hook start from errSuite parent,\n    // otherwise start from errSuite itself\n    self.suite = after ? errSuite.parent : errSuite;\n\n    if (self.suite) {\n      // call hookUp afterEach\n      self.hookUp('afterEach', function(err2, errSuite2) {\n        self.suite = orig;\n        // some hooks may fail even now\n        if (err2) return hookErr(err2, errSuite2, true);\n        // report error suite\n        fn(errSuite);\n      });\n    } else {\n      // there is no need calling other 'after each' hooks\n      self.suite = orig;\n      fn(errSuite);\n    }\n  }\n\n  function next(err, errSuite) {\n    // if we bail after first err\n    if (self.failures && suite._bail) return fn();\n\n    if (self._abort) return fn();\n\n    if (err) return hookErr(err, errSuite, true);\n\n    // next test\n    test = tests.shift();\n\n    // all done\n    if (!test) return fn();\n\n    // grep\n    var match = self._grep.test(test.fullTitle());\n    if (self._invert) match = !match;\n    if (!match) return next();\n\n    // pending\n    if (test.pending) {\n      self.emit('pending', test);\n      self.emit('test end', test);\n      return next();\n    }\n\n    // execute test and hook(s)\n    self.emit('test', self.test = test);\n    self.hookDown('beforeEach', function(err, errSuite){\n\n      if (suite.pending) {\n        self.emit('pending', test);\n        self.emit('test end', test);\n        return next();\n      }\n      if (err) return hookErr(err, errSuite, false);\n\n      self.currentRunnable = self.test;\n      self.runTest(function(err){\n        test = self.test;\n\n        if (err) {\n          if (err instanceof Pending) {\n            self.emit('pending', test);\n          } else {\n            self.fail(test, err);\n          }\n          self.emit('test end', test);\n\n          if (err instanceof Pending) {\n            return next();\n          }\n\n          return self.hookUp('afterEach', next);\n        }\n\n        test.state = 'passed';\n        self.emit('pass', test);\n        self.emit('test end', test);\n        self.hookUp('afterEach', next);\n      });\n    });\n  }\n\n  this.next = next;\n  next();\n};\n\n/**\n * Run the given `suite` and invoke the\n * callback `fn()` when complete.\n *\n * @param {Suite} suite\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.runSuite = function(suite, fn){\n  var total = this.grepTotal(suite)\n    , self = this\n    , i = 0;\n\n  debug('run suite %s', suite.fullTitle());\n\n  if (!total) return fn();\n\n  this.emit('suite', this.suite = suite);\n\n  function next(errSuite) {\n    if (errSuite) {\n      // current suite failed on a hook from errSuite\n      if (errSuite == suite) {\n        // if errSuite is current suite\n        // continue to the next sibling suite\n        return done();\n      } else {\n        // errSuite is among the parents of current suite\n        // stop execution of errSuite and all sub-suites\n        return done(errSuite);\n      }\n    }\n\n    if (self._abort) return done();\n\n    var curr = suite.suites[i++];\n    if (!curr) return done();\n    self.runSuite(curr, next);\n  }\n\n  function done(errSuite) {\n    self.suite = suite;\n    self.hook('afterAll', function(){\n      self.emit('suite end', suite);\n      fn(errSuite);\n    });\n  }\n\n  this.hook('beforeAll', function(err){\n    if (err) return done();\n    self.runTests(suite, next);\n  });\n};\n\n/**\n * Handle uncaught exceptions.\n *\n * @param {Error} err\n * @api private\n */\n\nRunner.prototype.uncaught = function(err){\n  if (err) {\n    debug('uncaught exception %s', err !== function () {\n      return this;\n    }.call(err) ? err : ( err.message || err ));\n  } else {\n    debug('uncaught undefined exception');\n    err = utils.undefinedError();\n  }\n  err.uncaught = true;\n\n  var runnable = this.currentRunnable;\n  if (!runnable) return;\n\n  runnable.clearTimeout();\n\n  // Ignore errors if complete\n  if (runnable.state) return;\n  this.fail(runnable, err);\n\n  // recover from test\n  if ('test' == runnable.type) {\n    this.emit('test end', runnable);\n    this.hookUp('afterEach', this.next);\n    return;\n  }\n\n  // bail on hooks\n  this.emit('end');\n};\n\n/**\n * Run the root suite and invoke `fn(failures)`\n * on completion.\n *\n * @param {Function} fn\n * @return {Runner} for chaining\n * @api public\n */\n\nRunner.prototype.run = function(fn){\n  var self = this,\n    rootSuite = this.suite;\n\n  fn = fn || function(){};\n\n  function uncaught(err){\n    self.uncaught(err);\n  }\n\n  function start() {\n    self.emit('start');\n    self.runSuite(rootSuite, function(){\n      debug('finished running');\n      self.emit('end');\n    });\n  }\n\n  debug('start');\n\n  // callback\n  this.on('end', function(){\n    debug('end');\n    process.removeListener('uncaughtException', uncaught);\n    fn(self.failures);\n  });\n\n  // uncaught exception\n  process.on('uncaughtException', uncaught);\n\n  if (this._delay) {\n    // for reporters, I guess.\n    // might be nice to debounce some dots while we wait.\n    this.emit('waiting', rootSuite);\n    rootSuite.once('run', start);\n  }\n  else {\n    start();\n  }\n\n  return this;\n};\n\n/**\n * Cleanly abort execution\n *\n * @return {Runner} for chaining\n * @api public\n */\nRunner.prototype.abort = function(){\n  debug('aborting');\n  this._abort = true;\n};\n\n/**\n * Filter leaks with the given globals flagged as `ok`.\n *\n * @param {Array} ok\n * @param {Array} globals\n * @return {Array}\n * @api private\n */\n\nfunction filterLeaks(ok, globals) {\n  return filter(globals, function(key){\n    // Firefox and Chrome exposes iframes as index inside the window object\n    if (/^d+/.test(key)) return false;\n\n    // in firefox\n    // if runner runs in an iframe, this iframe's window.getInterface method not init at first\n    // it is assigned in some seconds\n    if (global.navigator && /^getInterface/.test(key)) return false;\n\n    // an iframe could be approached by window[iframeIndex]\n    // in ie6,7,8 and opera, iframeIndex is enumerable, this could cause leak\n    if (global.navigator && /^\\d+/.test(key)) return false;\n\n    // Opera and IE expose global variables for HTML element IDs (issue #243)\n    if (/^mocha-/.test(key)) return false;\n\n    var matched = filter(ok, function(ok){\n      if (~ok.indexOf('*')) return 0 == key.indexOf(ok.split('*')[0]);\n      return key == ok;\n    });\n    return matched.length == 0 && (!global.navigator || 'onerror' !== key);\n  });\n}\n\n/**\n * Array of globals dependent on the environment.\n *\n * @return {Array}\n * @api private\n */\n\nfunction extraGlobals() {\n if (typeof(process) === 'object' &&\n     typeof(process.version) === 'string') {\n\n   var nodeVersion = process.version.split('.').reduce(function(a, v) {\n     return a << 8 | v;\n   });\n\n   // 'errno' was renamed to process._errno in v0.9.11.\n\n   if (nodeVersion < 0x00090B) {\n     return ['errno'];\n   }\n }\n\n return [];\n}\n\n}); // module: runner.js\n\nrequire.register(\"suite.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('browser/events').EventEmitter\n  , debug = require('browser/debug')('mocha:suite')\n  , milliseconds = require('./ms')\n  , utils = require('./utils')\n  , Hook = require('./hook');\n\n/**\n * Expose `Suite`.\n */\n\nexports = module.exports = Suite;\n\n/**\n * Create a new `Suite` with the given `title`\n * and parent `Suite`. When a suite with the\n * same title is already present, that suite\n * is returned to provide nicer reporter\n * and more flexible meta-testing.\n *\n * @param {Suite} parent\n * @param {String} title\n * @return {Suite}\n * @api public\n */\n\nexports.create = function(parent, title){\n  var suite = new Suite(title, parent.ctx);\n  suite.parent = parent;\n  if (parent.pending) suite.pending = true;\n  title = suite.fullTitle();\n  parent.addSuite(suite);\n  return suite;\n};\n\n/**\n * Initialize a new `Suite` with the given\n * `title` and `ctx`.\n *\n * @param {String} title\n * @param {Context} ctx\n * @api private\n */\n\nfunction Suite(title, parentContext) {\n  this.title = title;\n  var context = function() {};\n  context.prototype = parentContext;\n  this.ctx = new context();\n  this.suites = [];\n  this.tests = [];\n  this.pending = false;\n  this._beforeEach = [];\n  this._beforeAll = [];\n  this._afterEach = [];\n  this._afterAll = [];\n  this.root = !title;\n  this._timeout = 2000;\n  this._enableTimeouts = true;\n  this._slow = 75;\n  this._bail = false;\n  this.delayed = false;\n}\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\n\nfunction F(){};\nF.prototype = EventEmitter.prototype;\nSuite.prototype = new F;\nSuite.prototype.constructor = Suite;\n\n\n/**\n * Return a clone of this `Suite`.\n *\n * @return {Suite}\n * @api private\n */\n\nSuite.prototype.clone = function(){\n  var suite = new Suite(this.title);\n  debug('clone');\n  suite.ctx = this.ctx;\n  suite.timeout(this.timeout());\n  suite.enableTimeouts(this.enableTimeouts());\n  suite.slow(this.slow());\n  suite.bail(this.bail());\n  return suite;\n};\n\n/**\n * Set timeout `ms` or short-hand such as \"2s\".\n *\n * @param {Number|String} ms\n * @return {Suite|Number} for chaining\n * @api private\n */\n\nSuite.prototype.timeout = function(ms){\n  if (0 == arguments.length) return this._timeout;\n  if (ms.toString() === '0') this._enableTimeouts = false;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('timeout %d', ms);\n  this._timeout = parseInt(ms, 10);\n  return this;\n};\n\n/**\n  * Set timeout `enabled`.\n  *\n  * @param {Boolean} enabled\n  * @return {Suite|Boolean} self or enabled\n  * @api private\n  */\n\nSuite.prototype.enableTimeouts = function(enabled){\n  if (arguments.length === 0) return this._enableTimeouts;\n  debug('enableTimeouts %s', enabled);\n  this._enableTimeouts = enabled;\n  return this;\n};\n\n/**\n * Set slow `ms` or short-hand such as \"2s\".\n *\n * @param {Number|String} ms\n * @return {Suite|Number} for chaining\n * @api private\n */\n\nSuite.prototype.slow = function(ms){\n  if (0 === arguments.length) return this._slow;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('slow %d', ms);\n  this._slow = ms;\n  return this;\n};\n\n/**\n * Sets whether to bail after first error.\n *\n * @param {Boolean} bail\n * @return {Suite|Number} for chaining\n * @api private\n */\n\nSuite.prototype.bail = function(bail){\n  if (0 == arguments.length) return this._bail;\n  debug('bail %s', bail);\n  this._bail = bail;\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` before running tests.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.beforeAll = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"before all\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._beforeAll.push(hook);\n  this.emit('beforeAll', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` after running tests.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.afterAll = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"after all\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._afterAll.push(hook);\n  this.emit('afterAll', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` before each test case.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.beforeEach = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"before each\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._beforeEach.push(hook);\n  this.emit('beforeEach', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` after each test case.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.afterEach = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"after each\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._afterEach.push(hook);\n  this.emit('afterEach', hook);\n  return this;\n};\n\n/**\n * Add a test `suite`.\n *\n * @param {Suite} suite\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.addSuite = function(suite){\n  suite.parent = this;\n  suite.timeout(this.timeout());\n  suite.enableTimeouts(this.enableTimeouts());\n  suite.slow(this.slow());\n  suite.bail(this.bail());\n  this.suites.push(suite);\n  this.emit('suite', suite);\n  return this;\n};\n\n/**\n * Add a `test` to this suite.\n *\n * @param {Test} test\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.addTest = function(test){\n  test.parent = this;\n  test.timeout(this.timeout());\n  test.enableTimeouts(this.enableTimeouts());\n  test.slow(this.slow());\n  test.ctx = this.ctx;\n  this.tests.push(test);\n  this.emit('test', test);\n  return this;\n};\n\n/**\n * Return the full title generated by recursively\n * concatenating the parent's full title.\n *\n * @return {String}\n * @api public\n */\n\nSuite.prototype.fullTitle = function(){\n  if (this.parent) {\n    var full = this.parent.fullTitle();\n    if (full) return full + ' ' + this.title;\n  }\n  return this.title;\n};\n\n/**\n * Return the total number of tests.\n *\n * @return {Number}\n * @api public\n */\n\nSuite.prototype.total = function(){\n  return utils.reduce(this.suites, function(sum, suite){\n    return sum + suite.total();\n  }, 0) + this.tests.length;\n};\n\n/**\n * Iterates through each suite recursively to find\n * all tests. Applies a function in the format\n * `fn(test)`.\n *\n * @param {Function} fn\n * @return {Suite}\n * @api private\n */\n\nSuite.prototype.eachTest = function(fn){\n  utils.forEach(this.tests, fn);\n  utils.forEach(this.suites, function(suite){\n    suite.eachTest(fn);\n  });\n  return this;\n};\n\n/**\n * This will run the root suite if we happen to be running in delayed mode.\n */\nSuite.prototype.run = function run() {\n  if (this.root) {\n    this.emit('run');\n  }\n};\n\n}); // module: suite.js\n\nrequire.register(\"test.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Runnable = require('./runnable');\n\n/**\n * Expose `Test`.\n */\n\nmodule.exports = Test;\n\n/**\n * Initialize a new `Test` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n */\n\nfunction Test(title, fn) {\n  Runnable.call(this, title, fn);\n  this.pending = !fn;\n  this.type = 'test';\n}\n\n/**\n * Inherit from `Runnable.prototype`.\n */\n\nfunction F(){};\nF.prototype = Runnable.prototype;\nTest.prototype = new F;\nTest.prototype.constructor = Test;\n\n\n}); // module: test.js\n\nrequire.register(\"utils.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar fs = require('browser/fs')\n  , path = require('browser/path')\n  , basename = path.basename\n  , exists = fs.existsSync || path.existsSync\n  , glob = require('browser/glob')\n  , join = path.join\n  , debug = require('browser/debug')('mocha:watch');\n\n/**\n * Ignored directories.\n */\n\nvar ignore = ['node_modules', '.git'];\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {String} html\n * @return {String}\n * @api private\n */\n\nexports.escape = function(html){\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\n/**\n * Array#forEach (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @param {Object} scope\n * @api private\n */\n\nexports.forEach = function(arr, fn, scope){\n  for (var i = 0, l = arr.length; i < l; i++)\n    fn.call(scope, arr[i], i);\n};\n\n/**\n * Array#map (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @param {Object} scope\n * @api private\n */\n\nexports.map = function(arr, fn, scope){\n  var result = [];\n  for (var i = 0, l = arr.length; i < l; i++)\n    result.push(fn.call(scope, arr[i], i, arr));\n  return result;\n};\n\n/**\n * Array#indexOf (<=IE8)\n *\n * @parma {Array} arr\n * @param {Object} obj to find index of\n * @param {Number} start\n * @api private\n */\n\nexports.indexOf = function(arr, obj, start){\n  for (var i = start || 0, l = arr.length; i < l; i++) {\n    if (arr[i] === obj)\n      return i;\n  }\n  return -1;\n};\n\n/**\n * Array#reduce (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @param {Object} initial value\n * @api private\n */\n\nexports.reduce = function(arr, fn, val){\n  var rval = val;\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    rval = fn(rval, arr[i], i, arr);\n  }\n\n  return rval;\n};\n\n/**\n * Array#filter (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @api private\n */\n\nexports.filter = function(arr, fn){\n  var ret = [];\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    var val = arr[i];\n    if (fn(val, i, arr)) ret.push(val);\n  }\n\n  return ret;\n};\n\n/**\n * Object.keys (<=IE8)\n *\n * @param {Object} obj\n * @return {Array} keys\n * @api private\n */\n\nexports.keys = Object.keys || function(obj) {\n  var keys = []\n    , has = Object.prototype.hasOwnProperty; // for `window` on <=IE8\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n\n  return keys;\n};\n\n/**\n * Watch the given `files` for changes\n * and invoke `fn(file)` on modification.\n *\n * @param {Array} files\n * @param {Function} fn\n * @api private\n */\n\nexports.watch = function(files, fn){\n  var options = { interval: 100 };\n  files.forEach(function(file){\n    debug('file %s', file);\n    fs.watchFile(file, options, function(curr, prev){\n      if (prev.mtime < curr.mtime) fn(file);\n    });\n  });\n};\n\n/**\n * Array.isArray (<=IE8)\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\nvar isArray = Array.isArray || function (obj) {\n  return '[object Array]' == {}.toString.call(obj);\n};\n\n/**\n * @description\n * Buffer.prototype.toJSON polyfill\n * @type {Function}\n */\nif(typeof Buffer !== 'undefined' && Buffer.prototype) {\n  Buffer.prototype.toJSON = Buffer.prototype.toJSON || function () {\n    return Array.prototype.slice.call(this, 0);\n  };\n}\n\n/**\n * Ignored files.\n */\n\nfunction ignored(path){\n  return !~ignore.indexOf(path);\n}\n\n/**\n * Lookup files in the given `dir`.\n *\n * @return {Array}\n * @api private\n */\n\nexports.files = function(dir, ext, ret){\n  ret = ret || [];\n  ext = ext || ['js'];\n\n  var re = new RegExp('\\\\.(' + ext.join('|') + ')$');\n\n  fs.readdirSync(dir)\n    .filter(ignored)\n    .forEach(function(path){\n      path = join(dir, path);\n      if (fs.statSync(path).isDirectory()) {\n        exports.files(path, ext, ret);\n      } else if (path.match(re)) {\n        ret.push(path);\n      }\n    });\n\n  return ret;\n};\n\n/**\n * Compute a slug from the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.slug = function(str){\n  return str\n    .toLowerCase()\n    .replace(/ +/g, '-')\n    .replace(/[^-\\w]/g, '');\n};\n\n/**\n * Strip the function definition from `str`,\n * and re-indent for pre whitespace.\n */\n\nexports.clean = function(str) {\n  str = str\n    .replace(/\\r\\n?|[\\n\\u2028\\u2029]/g, \"\\n\").replace(/^\\uFEFF/, '')\n    .replace(/^function *\\(.*\\)\\s*{|\\(.*\\) *=> *{?/, '')\n    .replace(/\\s+\\}$/, '');\n\n  var spaces = str.match(/^\\n?( *)/)[1].length\n    , tabs = str.match(/^\\n?(\\t*)/)[1].length\n    , re = new RegExp('^\\n?' + (tabs ? '\\t' : ' ') + '{' + (tabs ? tabs : spaces) + '}', 'gm');\n\n  str = str.replace(re, '');\n\n  return exports.trim(str);\n};\n\n/**\n * Trim the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.trim = function(str){\n  return str.replace(/^\\s+|\\s+$/g, '');\n};\n\n/**\n * Parse the given `qs`.\n *\n * @param {String} qs\n * @return {Object}\n * @api private\n */\n\nexports.parseQuery = function(qs){\n  return exports.reduce(qs.replace('?', '').split('&'), function(obj, pair){\n    var i = pair.indexOf('=')\n      , key = pair.slice(0, i)\n      , val = pair.slice(++i);\n\n    obj[key] = decodeURIComponent(val);\n    return obj;\n  }, {});\n};\n\n/**\n * Highlight the given string of `js`.\n *\n * @param {String} js\n * @return {String}\n * @api private\n */\n\nfunction highlight(js) {\n  return js\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\\/\\/(.*)/gm, '<span class=\"comment\">//$1</span>')\n    .replace(/('.*?')/gm, '<span class=\"string\">$1</span>')\n    .replace(/(\\d+\\.\\d+)/gm, '<span class=\"number\">$1</span>')\n    .replace(/(\\d+)/gm, '<span class=\"number\">$1</span>')\n    .replace(/\\bnew[ \\t]+(\\w+)/gm, '<span class=\"keyword\">new</span> <span class=\"init\">$1</span>')\n    .replace(/\\b(function|new|throw|return|var|if|else)\\b/gm, '<span class=\"keyword\">$1</span>')\n}\n\n/**\n * Highlight the contents of tag `name`.\n *\n * @param {String} name\n * @api private\n */\n\nexports.highlightTags = function(name) {\n  var code = document.getElementById('mocha').getElementsByTagName(name);\n  for (var i = 0, len = code.length; i < len; ++i) {\n    code[i].innerHTML = highlight(code[i].innerHTML);\n  }\n};\n\n/**\n * If a value could have properties, and has none, this function is called, which returns\n * a string representation of the empty value.\n *\n * Functions w/ no properties return `'[Function]'`\n * Arrays w/ length === 0 return `'[]'`\n * Objects w/ no properties return `'{}'`\n * All else: return result of `value.toString()`\n *\n * @param {*} value Value to inspect\n * @param {string} [type] The type of the value, if known.\n * @returns {string}\n */\nvar emptyRepresentation = function emptyRepresentation(value, type) {\n  type = type || exports.type(value);\n\n  switch(type) {\n    case 'function':\n      return '[Function]';\n    case 'object':\n      return '{}';\n    case 'array':\n      return '[]';\n    default:\n      return value.toString();\n  }\n};\n\n/**\n * Takes some variable and asks `{}.toString()` what it thinks it is.\n * @param {*} value Anything\n * @example\n * type({}) // 'object'\n * type([]) // 'array'\n * type(1) // 'number'\n * type(false) // 'boolean'\n * type(Infinity) // 'number'\n * type(null) // 'null'\n * type(new Date()) // 'date'\n * type(/foo/) // 'regexp'\n * type('type') // 'string'\n * type(global) // 'global'\n * @api private\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\n * @returns {string}\n */\nexports.type = function type(value) {\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n    return 'buffer';\n  }\n  return Object.prototype.toString.call(value)\n    .replace(/^\\[.+\\s(.+?)\\]$/, '$1')\n    .toLowerCase();\n};\n\n/**\n * @summary Stringify `value`.\n * @description Different behavior depending on type of value.\n * - If `value` is undefined or null, return `'[undefined]'` or `'[null]'`, respectively.\n * - If `value` is not an object, function or array, return result of `value.toString()` wrapped in double-quotes.\n * - If `value` is an *empty* object, function, or array, return result of function\n *   {@link emptyRepresentation}.\n * - If `value` has properties, call {@link exports.canonicalize} on it, then return result of\n *   JSON.stringify().\n *\n * @see exports.type\n * @param {*} value\n * @return {string}\n * @api private\n */\n\nexports.stringify = function(value) {\n  var type = exports.type(value);\n\n  if (!~exports.indexOf(['object', 'array', 'function'], type)) {\n    if(type != 'buffer') {\n      return jsonStringify(value);\n    }\n    var json = value.toJSON();\n    // Based on the toJSON result\n    return jsonStringify(json.data && json.type ? json.data : json, 2)\n      .replace(/,(\\n|$)/g, '$1');\n  }\n\n  for (var prop in value) {\n    if (Object.prototype.hasOwnProperty.call(value, prop)) {\n      return jsonStringify(exports.canonicalize(value), 2).replace(/,(\\n|$)/g, '$1');\n    }\n  }\n\n  return emptyRepresentation(value, type);\n};\n\n/**\n * @description\n * like JSON.stringify but more sense.\n * @param {Object}  object\n * @param {Number=} spaces\n * @param {number=} depth\n * @returns {*}\n * @private\n */\nfunction jsonStringify(object, spaces, depth) {\n  if(typeof spaces == 'undefined') return _stringify(object);  // primitive types\n\n  depth = depth || 1;\n  var space = spaces * depth\n    , str = isArray(object) ? '[' : '{'\n    , end = isArray(object) ? ']' : '}'\n    , length = object.length || exports.keys(object).length\n    , repeat = function(s, n) { return new Array(n).join(s); }; // `.repeat()` polyfill\n\n  function _stringify(val) {\n    switch (exports.type(val)) {\n      case 'null':\n      case 'undefined':\n        val = '[' + val + ']';\n        break;\n      case 'array':\n      case 'object':\n        val = jsonStringify(val, spaces, depth + 1);\n        break;\n      case 'boolean':\n      case 'regexp':\n      case 'number':\n        val = val === 0 && (1/val) === -Infinity // `-0`\n          ? '-0'\n          : val.toString();\n        break;\n      case 'date':\n        val = '[Date: ' + val.toISOString() + ']';\n        break;\n      case 'buffer':\n        var json = val.toJSON();\n        // Based on the toJSON result\n        json = json.data && json.type ? json.data : json;\n        val = '[Buffer: ' + jsonStringify(json, 2, depth + 1) + ']';\n        break;\n      default:\n        val = (val == '[Function]' || val == '[Circular]')\n          ? val\n          : '\"' + val + '\"'; //string\n    }\n    return val;\n  }\n\n  for(var i in object) {\n    if(!object.hasOwnProperty(i)) continue;        // not my business\n    --length;\n    str += '\\n ' + repeat(' ', space)\n      + (isArray(object) ? '' : '\"' + i + '\": ') // key\n      +  _stringify(object[i])                   // value\n      + (length ? ',' : '');                     // comma\n  }\n\n  return str + (str.length != 1                    // [], {}\n    ? '\\n' + repeat(' ', --space) + end\n    : end);\n}\n\n/**\n * Return if obj is a Buffer\n * @param {Object} arg\n * @return {Boolean}\n * @api private\n */\nexports.isBuffer = function (arg) {\n  return typeof Buffer !== 'undefined' && Buffer.isBuffer(arg);\n};\n\n/**\n * @summary Return a new Thing that has the keys in sorted order.  Recursive.\n * @description If the Thing...\n * - has already been seen, return string `'[Circular]'`\n * - is `undefined`, return string `'[undefined]'`\n * - is `null`, return value `null`\n * - is some other primitive, return the value\n * - is not a primitive or an `Array`, `Object`, or `Function`, return the value of the Thing's `toString()` method\n * - is a non-empty `Array`, `Object`, or `Function`, return the result of calling this function again.\n * - is an empty `Array`, `Object`, or `Function`, return the result of calling `emptyRepresentation()`\n *\n * @param {*} value Thing to inspect.  May or may not have properties.\n * @param {Array} [stack=[]] Stack of seen values\n * @return {(Object|Array|Function|string|undefined)}\n * @see {@link exports.stringify}\n * @api private\n */\n\nexports.canonicalize = function(value, stack) {\n  var canonicalizedObj,\n    type = exports.type(value),\n    prop,\n    withStack = function withStack(value, fn) {\n      stack.push(value);\n      fn();\n      stack.pop();\n    };\n\n  stack = stack || [];\n\n  if (exports.indexOf(stack, value) !== -1) {\n    return '[Circular]';\n  }\n\n  switch(type) {\n    case 'undefined':\n    case 'buffer':\n    case 'null':\n      canonicalizedObj = value;\n      break;\n    case 'array':\n      withStack(value, function () {\n        canonicalizedObj = exports.map(value, function (item) {\n          return exports.canonicalize(item, stack);\n        });\n      });\n      break;\n    case 'function':\n      for (prop in value) {\n        canonicalizedObj = {};\n        break;\n      }\n      if (!canonicalizedObj) {\n        canonicalizedObj = emptyRepresentation(value, type);\n        break;\n      }\n    /* falls through */\n    case 'object':\n      canonicalizedObj = canonicalizedObj || {};\n      withStack(value, function () {\n        exports.forEach(exports.keys(value).sort(), function (key) {\n          canonicalizedObj[key] = exports.canonicalize(value[key], stack);\n        });\n      });\n      break;\n    case 'date':\n    case 'number':\n    case 'regexp':\n    case 'boolean':\n      canonicalizedObj = value;\n      break;\n    default:\n      canonicalizedObj = value.toString();\n  }\n\n  return canonicalizedObj;\n};\n\n/**\n * Lookup file names at the given `path`.\n */\nexports.lookupFiles = function lookupFiles(path, extensions, recursive) {\n  var files = [];\n  var re = new RegExp('\\\\.(' + extensions.join('|') + ')$');\n\n  if (!exists(path)) {\n    if (exists(path + '.js')) {\n      path += '.js';\n    } else {\n      files = glob.sync(path);\n      if (!files.length) throw new Error(\"cannot resolve path (or pattern) '\" + path + \"'\");\n      return files;\n    }\n  }\n\n  try {\n    var stat = fs.statSync(path);\n    if (stat.isFile()) return path;\n  }\n  catch (ignored) {\n    return;\n  }\n\n  fs.readdirSync(path).forEach(function(file) {\n    file = join(path, file);\n    try {\n      var stat = fs.statSync(file);\n      if (stat.isDirectory()) {\n        if (recursive) {\n          files = files.concat(lookupFiles(file, extensions, recursive));\n        }\n        return;\n      }\n    }\n    catch (ignored) {\n      return;\n    }\n    if (!stat.isFile() || !re.test(file) || basename(file)[0] === '.') return;\n    files.push(file);\n  });\n\n  return files;\n};\n\n/**\n * Generate an undefined error with a message warning the user.\n *\n * @return {Error}\n */\n\nexports.undefinedError = function() {\n  return new Error('Caught undefined error, did you throw without specifying what?');\n};\n\n/**\n * Generate an undefined error if `err` is not defined.\n *\n * @param {Error} err\n * @return {Error}\n */\n\nexports.getError = function(err) {\n  return err || exports.undefinedError();\n};\n\n\n/**\n * @summary\n * This Filter based on `mocha-clean` module.(see: `github.com/rstacruz/mocha-clean`)\n * @description\n * When invoking this function you get a filter function that get the Error.stack as an input,\n * and return a prettify output.\n * (i.e: strip Mocha, node_modules, bower and componentJS from stack trace).\n * @returns {Function}\n */\n\nexports.stackTraceFilter = function() {\n  var slash = '/'\n    , is = typeof document === 'undefined'\n      ? { node: true }\n      : { browser: true }\n    , cwd = is.node\n      ? process.cwd() + slash\n      : location.href.replace(/\\/[^\\/]*$/, '/');\n\n  function isNodeModule (line) {\n    return (~line.indexOf('node_modules'));\n  }\n\n  function isMochaInternal (line) {\n    return (~line.indexOf('node_modules' + slash + 'mocha'))  ||\n      (~line.indexOf('components' + slash + 'mochajs'))       ||\n      (~line.indexOf('components' + slash + 'mocha'));\n  }\n\n  // node_modules, bower, componentJS\n  function isBrowserModule(line) {\n    return (~line.indexOf('node_modules')) ||\n      (~line.indexOf('components'));\n  }\n\n  function isNodeInternal (line) {\n    return (~line.indexOf('(timers.js:')) ||\n      (~line.indexOf('(events.js:'))      ||\n      (~line.indexOf('(node.js:'))        ||\n      (~line.indexOf('(module.js:'))      ||\n      (~line.indexOf('GeneratorFunctionPrototype.next (native)')) ||\n      false\n  }\n\n  return function(stack) {\n    stack = stack.split('\\n');\n\n    stack = exports.reduce(stack, function(list, line) {\n      if (is.node && (isNodeModule(line) ||\n        isMochaInternal(line) ||\n        isNodeInternal(line)))\n        return list;\n\n      if (is.browser && (isBrowserModule(line)))\n        return list;\n\n      // Clean up cwd(absolute)\n      list.push(line.replace(cwd, ''));\n      return list;\n    }, []);\n\n    return stack.join('\\n');\n  }\n};\n}); // module: utils.js\n// The global object is \"self\" in Web Workers.\nvar global = (function() { return this; })();\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n\n/**\n * Node shims.\n *\n * These are meant only to allow\n * mocha.js to run untouched, not\n * to allow running node code in\n * the browser.\n */\n\nvar process = {};\nprocess.exit = function(status){};\nprocess.stdout = {};\n\nvar uncaughtExceptionHandlers = [];\n\nvar originalOnerrorHandler = global.onerror;\n\n/**\n * Remove uncaughtException listener.\n * Revert to original onerror handler if previously defined.\n */\n\nprocess.removeListener = function(e, fn){\n  if ('uncaughtException' == e) {\n    if (originalOnerrorHandler) {\n      global.onerror = originalOnerrorHandler;\n    } else {\n      global.onerror = function() {};\n    }\n    var i = Mocha.utils.indexOf(uncaughtExceptionHandlers, fn);\n    if (i != -1) { uncaughtExceptionHandlers.splice(i, 1); }\n  }\n};\n\n/**\n * Implements uncaughtException listener.\n */\n\nprocess.on = function(e, fn){\n  if ('uncaughtException' == e) {\n    global.onerror = function(err, url, line){\n      fn(new Error(err + ' (' + url + ':' + line + ')'));\n      return true;\n    };\n    uncaughtExceptionHandlers.push(fn);\n  }\n};\n\n/**\n * Expose mocha.\n */\n\nvar Mocha = global.Mocha = require('mocha'),\n    mocha = global.mocha = new Mocha({ reporter: 'html' });\n\n// The BDD UI is registered by default, but no UI will be functional in the\n// browser without an explicit call to the overridden `mocha.ui` (see below).\n// Ensure that this default UI does not expose its methods to the global scope.\nmocha.suite.removeAllListeners('pre-require');\n\nvar immediateQueue = []\n  , immediateTimeout;\n\nfunction timeslice() {\n  var immediateStart = new Date().getTime();\n  while (immediateQueue.length && (new Date().getTime() - immediateStart) < 100) {\n    immediateQueue.shift()();\n  }\n  if (immediateQueue.length) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  } else {\n    immediateTimeout = null;\n  }\n}\n\n/**\n * High-performance override of Runner.immediately.\n */\n\nMocha.Runner.immediately = function(callback) {\n  immediateQueue.push(callback);\n  if (!immediateTimeout) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  }\n};\n\n/**\n * Function to allow assertion libraries to throw errors directly into mocha.\n * This is useful when running tests in a browser because window.onerror will\n * only receive the 'message' attribute of the Error.\n */\nmocha.throwError = function(err) {\n  Mocha.utils.forEach(uncaughtExceptionHandlers, function (fn) {\n    fn(err);\n  });\n  throw err;\n};\n\n/**\n * Override ui to ensure that the ui functions are initialized.\n * Normally this would happen in Mocha.prototype.loadFiles.\n */\n\nmocha.ui = function(ui){\n  Mocha.prototype.ui.call(this, ui);\n  this.suite.emit('pre-require', global, null, this);\n  return this;\n};\n\n/**\n * Setup mocha with the given setting options.\n */\n\nmocha.setup = function(opts){\n  if ('string' == typeof opts) opts = { ui: opts };\n  for (var opt in opts) this[opt](opts[opt]);\n  return this;\n};\n\n/**\n * Run mocha, returning the Runner.\n */\n\nmocha.run = function(fn){\n  var options = mocha.options;\n  mocha.globals('location');\n\n  var query = Mocha.utils.parseQuery(global.location.search || '');\n  if (query.grep) mocha.grep(new RegExp(query.grep));\n  if (query.fgrep) mocha.grep(query.fgrep);\n  if (query.invert) mocha.invert();\n\n  return Mocha.prototype.run.call(mocha, function(err){\n    // The DOM Document is not available in Web Workers.\n    var document = global.document;\n    if (document && document.getElementById('mocha') && options.noHighlighting !== true) {\n      Mocha.utils.highlightTags('code');\n    }\n    if (fn) fn(err);\n  });\n};\n\n/**\n * Expose the process shim.\n */\n\nMocha.process = process;\n})();\n";
},function(e,t,n){!function(t){"use strict";e.exports=t}(function(e,t){"use strict";function n(e){return"function"==typeof e&&"function"==typeof e.getCall&&"function"==typeof e.calledWithExactly}function r(e){return 1===e?"once":2===e?"twice":3===e?"thrice":(e||0)+" times"}function o(e){return e&&n(e.proxy)}function i(e){if(!n(e._obj)&&!o(e._obj))throw new TypeError(t.inspect(e._obj)+" is not a spy or a call to a spy!")}function a(e,t,r,o,i){function a(t){return e.printf.apply(e,t)}var s=o?"always have ":"have ";return r=r||"",n(e.proxy)&&(e=e.proxy),{affirmative:function(){return a(["expected %n to "+s+t+r].concat(i))},negative:function(){return a(["expected %n to not "+s+t].concat(i))}}}function s(n,r,o){t.addProperty(e.Assertion.prototype,n,function(){i(this);var e=a(this._obj,r,o,!1);this.assert(this._obj[n],e.affirmative,e.negative)})}function u(n,o,s){t.addMethod(e.Assertion.prototype,n,function(e){i(this);var t=a(this._obj,o,s,!1,[r(e)]);this.assert(this._obj[n]===e,t.affirmative,t.negative)})}function c(e,n,r){return function(){i(this);var o="always"+e[0].toUpperCase()+e.substring(1),s=t.flag(this,"always")&&"function"==typeof this._obj[o],u=s?o:e,c=a(this._obj,n,r,s,h.call(arguments));this.assert(this._obj[u].apply(this._obj,arguments),c.affirmative,c.negative)}}function l(n,r,o){var i=c(n,r,o);t.addProperty(e.Assertion.prototype,n,i)}function f(n,r,o,i){var a=c(r,o,i);t.addMethod(e.Assertion.prototype,n,a)}function p(e,t,n){f(e,e,t,n)}var h=Array.prototype.slice;t.addProperty(e.Assertion.prototype,"always",function(){t.flag(this,"always",!0)}),s("called","been called"," at least once, but it was never called"),u("callCount","been called exactly %1",", but it was called %c%C"),s("calledOnce","been called exactly once",", but it was called %c%C"),s("calledTwice","been called exactly twice",", but it was called %c%C"),s("calledThrice","been called exactly thrice",", but it was called %c%C"),l("calledWithNew","been called with new"),p("calledBefore","been called before %1"),p("calledAfter","been called after %1"),p("calledOn","been called with %1 as this",", but it was called with %t instead"),p("calledWith","been called with arguments %*","%C"),p("calledWithExactly","been called with exact arguments %*","%C"),p("calledWithMatch","been called with arguments matching %*","%C"),p("returned","returned %1"),f("thrown","threw","thrown %1")})},function(e,t,n){"use strict";t.spy=n(637),t.stub=n(638),t.spyCall=n(636),t.mock=n(711),t.expectation=n(710),t.collection=n(708),t.sandbox=n(712),t.createStubInstance=n(1021),t.match=n(396);var r=n(510);t.match.equal=r;var o=n(1022);t.log=o.log,t.logError=o.logError,t.restore=n(1023),t.format=n(511),t.assert=n(1019),t.test=n(713),t.testCase=n(1024);var i=n(323);t.wrapMethod=n(640),t.deepEqual=n(510),t.extend=n(371),t.functionToString=i.toString,t.create=i.create;var a=n(709);t.getConfig=a.getConfig,t.defaultConfig=a.defaultConfig,t.timesInWords=n(639),t.typeOf=n(714)},function(e,t,n){(function(t){"use strict";function r(e){for(var t=1,n=e.length;n>t;t++)if(!e[t-1].calledBefore(e[t])||!e[t].called)return!1;return!0}function o(e){return e.sort(function(e,t){var n=e.getCall(0),r=t.getCall(0),o=n&&n.callId||-1,i=r&&r.callId||-1;return i>o?-1:1})}function i(){for(var e,t=0,n=arguments.length;n>t;++t)e=arguments[t],e||c.fail("fake is not a spy"),"function"!=typeof e&&c.fail(e+" is not a function"),"function"!=typeof e.getCall&&c.fail(e+" is not stubbed")}function a(e,t){e=e||d;var n=e.fail||c.fail;n.call(e,t)}function s(e,t,n){2==arguments.length&&(n=t,t=e),c[e]=function(r){i(r);var o=h.call(arguments,1),s=!1;s="function"==typeof t?!t(r):"function"==typeof r[t]?!r[t].apply(r,o):!r[t],s?a(this,r.printf.apply(r,[n].concat(o))):c.pass(e)}}function u(e,t){return!e||/^fail/.test(t)?t:e+t.slice(0,1).toUpperCase()+t.slice(1)}var c,l=n(639),f=n(396),p=n(511),h=Array.prototype.slice,d="undefined"==typeof t?window:t;c={failException:"AssertError",fail:function(e){var t=new Error(e);throw t.name=this.failException||c.failException,t},pass:function(e){},callOrder:function(){i.apply(null,arguments);var e="",t="";if(r(arguments))c.pass("callOrder");else{try{e=[].join.call(arguments,", ");for(var n=h.call(arguments),s=n.length;s;)n[--s].called||n.splice(s,1);t=o(n).join(", ")}catch(u){}a(this,"expected "+e+" to be called in order but were called as "+t)}},callCount:function(e,t){if(i(e),e.callCount!=t){var n="expected %n to be called "+l(t)+" but was called %c%C";a(this,e.printf(n))}else c.pass("callCount")},expose:function(e,t){if(!e)throw new TypeError("target is null or undefined");var n=t||{},r="undefined"==typeof n.prefix&&"assert"||n.prefix,o="undefined"==typeof n.includeFail||!!n.includeFail;for(var i in this)"expose"==i||!o&&/^(fail)/.test(i)||(e[u(r,i)]=this[i]);return e},match:function(e,t){var n=f(t);if(n.test(e))c.pass("match");else{var r=["expected value to match","    expected = "+p(t),"    actual = "+p(e)];a(this,r.join("\n"))}}},s("called","expected %n to have been called at least once but was never called"),s("notCalled",function(e){return!e.called},"expected %n to not have been called but was called %c%C"),s("calledOnce","expected %n to be called once but was called %c%C"),s("calledTwice","expected %n to be called twice but was called %c%C"),s("calledThrice","expected %n to be called thrice but was called %c%C"),s("calledOn","expected %n to be called with %1 as this but was called with %t"),s("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),s("calledWithNew","expected %n to be called with new"),s("alwaysCalledWithNew","expected %n to always be called with new"),s("calledWith","expected %n to be called with arguments %*%C"),s("calledWithMatch","expected %n to be called with match %*%C"),s("alwaysCalledWith","expected %n to always be called with arguments %*%C"),s("alwaysCalledWithMatch","expected %n to always be called with match %*%C"),s("calledWithExactly","expected %n to be called with exact arguments %*%C"),s("alwaysCalledWithExactly","expected %n to always be called with exact arguments %*%C"),s("neverCalledWith","expected %n to never be called with arguments %*%C"),s("neverCalledWithMatch","expected %n to never be called with match %*%C"),s("threw","%n did not throw exception%C"),s("alwaysThrew","%n did not always throw exception%C"),e.exports=c}).call(t,function(){return this}())},function(e,t,n){(function(t,r){"use strict";function o(e,t){return"string"==typeof e?(this.exception=new Error(t||""),this.exception.name=e):e?this.exception=e:this.exception=new Error("Error"),this}function i(e,t){var n=e.callArgAt;if(0>n){for(var r=e.callArgProp,o=0,i=t.length;i>o;++o){if(!r&&"function"==typeof t[o])return t[o];if(r&&t[o]&&"function"==typeof t[o][r])return t[o][r]}return null}return t[n]}function a(e,t,n){if(e.callArgAt<0){var r;return r=e.callArgProp?u.getName(e.stub)+" expected to yield to '"+e.callArgProp+"', but no object with such a property was passed.":u.getName(e.stub)+" expected to yield, but no callback was passed.",n.length>0&&(r+=" Received ["+f.call(n,", ")+"]"),r}return"argument at index "+e.callArgAt+" is not a function: "+t}function s(e,t){if("number"==typeof e.callArgAt){var n=i(e,t);if("function"!=typeof n)throw new TypeError(a(e,n,t));e.callbackAsync?p(function(){n.apply(e.callbackContext,e.callbackArguments)}):n.apply(e.callbackContext,e.callbackArguments)}}var u=n(323),c=n(371),l=Array.prototype.slice,f=Array.prototype.join,p=function(){return"object"==typeof t&&"function"==typeof t.nextTick?t.nextTick:"function"==typeof r?r:function(e){setTimeout(e,0)}}(),h={create:function(e){var t=c({},h);return delete t.create,t.stub=e,t},isPresent:function(){return"number"==typeof this.callArgAt||this.exception||"number"==typeof this.returnArgAt||this.returnThis||this.returnValueDefined},invoke:function(e,t){if(s(this,t),this.exception)throw this.exception;return"number"==typeof this.returnArgAt?t[this.returnArgAt]:this.returnThis?e:this.returnValue},onCall:function(e){return this.stub.onCall(e)},onFirstCall:function(){return this.stub.onFirstCall()},onSecondCall:function(){return this.stub.onSecondCall()},onThirdCall:function(){return this.stub.onThirdCall()},withArgs:function(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')},callsArg:function(e){if("number"!=typeof e)throw new TypeError("argument index is not number");return this.callArgAt=e,this.callbackArguments=[],this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOn:function(e,t){if("number"!=typeof e)throw new TypeError("argument index is not number");if("object"!=typeof t)throw new TypeError("argument context is not an object");return this.callArgAt=e,this.callbackArguments=[],this.callbackContext=t,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgWith:function(e){if("number"!=typeof e)throw new TypeError("argument index is not number");return this.callArgAt=e,this.callbackArguments=l.call(arguments,1),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOnWith:function(e,t){if("number"!=typeof e)throw new TypeError("argument index is not number");if("object"!=typeof t)throw new TypeError("argument context is not an object");return this.callArgAt=e,this.callbackArguments=l.call(arguments,2),this.callbackContext=t,this.callArgProp=void 0,this.callbackAsync=!1,this},yields:function(){return this.callArgAt=-1,this.callbackArguments=l.call(arguments,0),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsOn:function(e){if("object"!=typeof e)throw new TypeError("argument context is not an object");return this.callArgAt=-1,this.callbackArguments=l.call(arguments,1),this.callbackContext=e,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsTo:function(e){return this.callArgAt=-1,this.callbackArguments=l.call(arguments,1),this.callbackContext=void 0,this.callArgProp=e,this.callbackAsync=!1,this},yieldsToOn:function(e,t){if("object"!=typeof t)throw new TypeError("argument context is not an object");return this.callArgAt=-1,this.callbackArguments=l.call(arguments,2),this.callbackContext=t,this.callArgProp=e,this.callbackAsync=!1,this},"throws":o,throwsException:o,returns:function(e){return this.returnValue=e,this.returnValueDefined=!0,this},returnsArg:function(e){if("number"!=typeof e)throw new TypeError("argument index is not number");return this.returnArgAt=e,this},returnsThis:function(){return this.returnThis=!0,this}};for(var d in h)h.hasOwnProperty(d)&&d.match(/^(callsArg|yields)/)&&!d.match(/Async/)&&(h[d+"Async"]=function(e){return function(){var t=this[e].apply(this,arguments);return this.callbackAsync=!0,t}}(d));e.exports=h}).call(t,n(1),n(231).setImmediate)},function(e,t,n){"use strict";var r=n(323),o=n(638);e.exports=function(e){if("function"!=typeof e)throw new TypeError("The constructor should be a function.");return o(r.create(e.prototype))}},function(e,t){"use strict";function n(){}function r(e,t){var o=e+" threw exception: ";n(o+"["+t.name+"] "+t.message),t.stack&&n(t.stack),r.setTimeout(function(){throw t.message=o+t.message,t},0)}var o=setTimeout;r.setTimeout=function(e,t){o(e,t)},t.log=n,t.logError=r},function(e,t){"use strict";function n(e){return"function"==typeof e&&"function"==typeof e.restore&&e.restore.sinon}e.exports=function(e){if(null!==e&&"object"==typeof e)for(var t in e)n(e[t])&&e[t].restore();else n(e)&&e.restore()}},function(e,t,n){"use strict";function r(e,t,n){return function(){t&&t.apply(this,arguments);var r,o;try{o=e.apply(this,arguments)}catch(i){r=i}if(n&&n.apply(this,arguments),r)throw r;return o}}function o(e,t){if(!e||"object"!=typeof e)throw new TypeError("sinon.testCase needs an object with test functions");t=t||"test";var n,o,a,s=new RegExp("^"+t),u={},c=e.setUp,l=e.tearDown;for(n in e)if(e.hasOwnProperty(n)){if(o=e[n],/^(setUp|tearDown)$/.test(n))continue;"function"==typeof o&&s.test(n)?(a=o,(c||l)&&(a=r(o,c,l)),u[n]=i(a)):u[n]=e[n]}return u}var i=n(713);e.exports=o},function(e,t,n){"use strict";var r=n(1027);e.exports=function(){var e,t=Array.prototype.slice.call(arguments);e="string"==typeof t[0]?0:t.shift();var n=r.install(e||0,t);return n.restore=n.uninstall,n}},function(e,t,n){var r,o,i;(function(a){(n(377)&&function(a){o=[n(715)],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}||"object"==typeof e&&function(t){e.exports=t(n(715))}||function(e){this.formatio=e(this.samsam)})(function(e){"use strict";function t(e){if(!e)return"";if(e.displayName)return e.displayName;if(e.name)return e.name;var t=e.toString().match(/function\s+([^\(]+)/m);return t&&t[1]||""}function n(e,n){var r,o,i=t(n&&n.constructor),a=e.excludeConstructors||s.excludeConstructors||[];for(r=0,o=a.length;o>r;++r){if("string"==typeof a[r]&&a[r]===i)return"";if(a[r].test&&a[r].test(i))return""}return i}function r(e,t){if("object"!=typeof e)return!1;var n,r;for(n=0,r=t.length;r>n;++n)if(t[n]===e)return!0;return!1}function o(t,n,i,a){if("string"==typeof n){if(0===n.length)return"(empty string)";var s=t.quoteStrings,c="boolean"!=typeof s||s;return i||c?'"'+n+'"':n}if("function"==typeof n&&!(n instanceof RegExp))return o.func(n);if(i=i||[],r(n,i))return"[Circular]";if("[object Array]"===Object.prototype.toString.call(n))return o.array.call(t,n,i);if(!n)return String(1/n===-(1/0)?"-0":n);if(e.isElement(n))return o.element(n);if("function"==typeof n.toString&&n.toString!==Object.prototype.toString)return n.toString();var l,f;for(l=0,f=u.length;f>l;l++)if(n===u[l].object)return u[l].value;return o.object.call(t,n,i,a)}function i(e){for(var t in e)this[t]=e[t]}var s={excludeConstructors:["Object",/^.$/],quoteStrings:!0,limitChildrenCount:0},u=(Object.prototype.hasOwnProperty,[]);return"undefined"!=typeof a&&u.push({object:a,value:"[object global]"}),"undefined"!=typeof document&&u.push({object:document,value:"[object HTMLDocument]"}),"undefined"!=typeof window&&u.push({object:window,value:"[object Window]"}),o.func=function(e){return"function "+t(e)+"() {}"},o.array=function(e,t){t=t||[],t.push(e);var n,r,i=[];for(r=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,e.length):e.length,n=0;r>n;++n)i.push(o(this,e[n],t));return r<e.length&&i.push("[... "+(e.length-r)+" more elements]"),"["+i.join(", ")+"]"},o.object=function(t,i,a){i=i||[],i.push(t),a=a||0;var s,u,c,l,f,p,h=[],d=e.keys(t).sort(),v=3;for(p=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,d.length):d.length,l=0;p>l;++l)s=d[l],c=t[s],u=r(c,i)?"[Circular]":o(this,c,i,a+2),u=(/\s/.test(s)?'"'+s+'"':s)+": "+u,v+=u.length,h.push(u);var m=n(this,t),g=m?"["+m+"] ":"",y="";for(l=0,f=a;f>l;++l)y+=" ";return p<d.length&&h.push("[... "+(d.length-p)+" more elements]"),v+a>80?g+"{\n  "+y+h.join(",\n  "+y)+"\n"+y+"}":g+"{ "+h.join(", ")+" }"},o.element=function(e){var t,n,r,o,i,a=e.tagName.toLowerCase(),s=e.attributes,u=[];for(r=0,o=s.length;o>r;++r)t=s.item(r),n=t.nodeName.toLowerCase().replace("html:",""),i=t.nodeValue,("contenteditable"!==n||"inherit"!==i)&&i&&u.push(n+'="'+i+'"');var c="<"+a+(u.length>0?" ":""),l=e.innerHTML||"";l.length>20&&(l=l.substr(0,20)+"[...]");var f=c+u.join(" ")+">"+l+"</"+a+">";return f.replace(/ contentEditable="inherit"/,"")},i.prototype={functionName:t,configure:function(e){return new i(e)},constructorName:function(e){return n(this,e)},ascii:function(e,t,n){return o(this,e,t,n)}},i.prototype})}).call(t,function(){return this}())},function(module,exports,__webpack_require__){(function(setImmediate,clearImmediate,global){/**
	 * @author Christian Johansen (christian@cjohansen.no) and contributors
	 * @license BSD
	 *
	 * Copyright (c) 2010-2014 Christian Johansen
	 */
"use strict";function parseTime(e){if(!e)return 0;var t,n=e.split(":"),r=n.length,o=r,i=0;if(r>3||!/^(\d\d:){0,2}\d\d?$/.test(e))throw new Error("tick only understands numbers and 'h:m:s'");for(;o--;){if(t=parseInt(n[o],10),t>=60)throw new Error("Invalid time "+e);i+=t*Math.pow(60,r-o-1)}return 1e3*i}function getEpoch(e){if(!e)return 0;if("function"==typeof e.getTime)return e.getTime();if("number"==typeof e)return e;throw new TypeError("now should be milliseconds since UNIX epoch")}function inRange(e,t,n){return n&&n.callAt>=e&&n.callAt<=t}function mirrorDateProperties(e,t){t.now?e.now=function(){return e.clock.now}:delete e.now,t.toSource?e.toSource=function(){return t.toSource()}:delete e.toSource,e.toString=function(){return t.toString()},e.prototype=t.prototype,e.parse=t.parse,e.UTC=t.UTC,e.prototype.toUTCString=t.prototype.toUTCString;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function createDate(){function e(t,n,r,o,i,a,s){switch(arguments.length){case 0:return new NativeDate(e.clock.now);case 1:return new NativeDate(t);case 2:return new NativeDate(t,n);case 3:return new NativeDate(t,n,r);case 4:return new NativeDate(t,n,r,o);case 5:return new NativeDate(t,n,r,o,i);case 6:return new NativeDate(t,n,r,o,i,a);default:return new NativeDate(t,n,r,o,i,a,s)}}return mirrorDateProperties(e,NativeDate)}function addTimer(e,t){if("undefined"==typeof t.func)throw new Error("Callback must be provided to timer calls");return e.timers||(e.timers={}),t.id=id++,t.createdAt=e.now,t.callAt=e.now+(t.delay||0),e.timers[t.id]=t,addTimerReturnsObject?{id:t.id,ref:function(){},unref:function(){}}:t.id}function firstTimerInRange(e,t,n){var r=e.timers,o=null;for(var i in r)inRange(t,n,r[i])&&(!o||~compareTimers(o,r[i]))&&(o=r[i]);return o}function compareTimers(e,t){return e.callAt<t.callAt?-1:e.callAt>t.callAt?1:e.immediate&&!t.immediate?-1:!e.immediate&&t.immediate?1:e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:e.id<t.id?-1:e.id>t.id?1:void 0}function callTimer(clock,timer){"number"==typeof timer.interval?clock.timers[timer.id].callAt+=timer.interval:delete clock.timers[timer.id];try{"function"==typeof timer.func?timer.func.apply(null,timer.args):eval(timer.func)}catch(e){var exception=e}if(clock.timers[timer.id]){if(exception)throw exception}else if(exception)throw exception}function uninstall(e,t){for(var n,r=0,o=e.methods.length;o>r;r++)if(n=e.methods[r],t[n].hadOwnProperty)t[n]=e["_"+n];else try{delete t[n]}catch(i){}e.methods=[]}function hijackMethod(e,t,n){if(n[t].hadOwnProperty=Object.prototype.hasOwnProperty.call(e,t),n["_"+t]=e[t],"Date"==t){var r=mirrorDateProperties(n[t],e[t]);e[t]=r}else{e[t]=function(){return n[t].apply(n,arguments)};for(var o in n[t])n[t].hasOwnProperty(o)&&(e[t][o]=n[t][o])}e[t].clock=n}var timeoutResult=setTimeout(function(){},0),addTimerReturnsObject="object"==typeof timeoutResult;clearTimeout(timeoutResult);var NativeDate=Date,id=1,timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:"undefined"!=typeof setImmediate?setImmediate:void 0,clearImmediate:"undefined"!=typeof clearImmediate?clearImmediate:void 0,setInterval:setInterval,clearInterval:clearInterval,Date:Date},keys=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};exports.timers=timers;var createClock=exports.createClock=function(e){var t={now:getEpoch(e),timeouts:{},Date:createDate()};return t.Date.clock=t,t.setTimeout=function(e,n){return addTimer(t,{func:e,args:Array.prototype.slice.call(arguments,2),delay:n})},t.clearTimeout=function(e){e&&(t.timers||(t.timers=[]),"object"==typeof e&&(e=e.id),e in t.timers&&delete t.timers[e])},t.setInterval=function(e,n){return addTimer(t,{func:e,args:Array.prototype.slice.call(arguments,2),delay:n,interval:n})},t.clearInterval=function(e){t.clearTimeout(e)},t.setImmediate=function(e){return addTimer(t,{func:e,args:Array.prototype.slice.call(arguments,1),immediate:!0})},t.clearImmediate=function(e){t.clearTimeout(e)},t.tick=function(e){e="number"==typeof e?e:parseTime(e);for(var n,r=t.now,o=t.now+e,i=t.now,a=firstTimerInRange(t,r,o);a&&o>=r;){if(t.timers[a.id]){r=t.now=a.callAt;try{callTimer(t,a)}catch(s){n=n||s}}a=firstTimerInRange(t,i,o),i=r}if(t.now=o,n)throw n;return t.now},t.reset=function(){t.timers={}},t};exports.install=function(e,t,n){"number"==typeof e&&(n=t,t=e,e=null),e||(e=global);var r=createClock(t);r.uninstall=function(){uninstall(r,e)},r.methods=n||[],0===r.methods.length&&(r.methods=keys(timers));for(var o=0,i=r.methods.length;i>o;o++)hijackMethod(e,r.methods[o],r);return r}}).call(exports,__webpack_require__(231).setImmediate,__webpack_require__(231).clearImmediate,function(){return this}())},function(e,t,n){var r=n(907);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(940);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},function(e,t,n){var r=n(1028);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},,function(e,t,n){var r=n(1061);"string"==typeof r&&(r=[[e.id,r,""]]);n(7)(r,{})},,,,,function(e,t,n){var r,r;(function(e){!function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=e("./utils"),l=r(c),f=e("./utils/Configuration"),p=r(f),h=e("./utils/Enumerator"),d=r(h),v=e("./AudioNode"),m=r(v),g=p["default"].getInstance(),y=function(e){function t(e,n){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"AnalyserNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers"}),this._.fftSize=2048,this._.minDecibels=-100,this._.maxDecibels=30,this._.smoothingTimeConstant=.8,this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),s(t,[{key:"getFloatFrequencyData",value:function(e){this._.inspector.describe("getFloatFrequencyData",function(t){t(l["default"].isInstanceOf(e,Float32Array),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"array","Float32Array")))})})}},{key:"getByteFrequencyData",value:function(e){this._.inspector.describe("getByteFrequencyData",function(t){t(l["default"].isInstanceOf(e,Uint8Array),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"array","Uint8Array")))})})}},{key:"getFloatTimeDomainData",value:function(e){this._.inspector.describe("getFloatTimeDomainData",function(t){t("enabled"===g.getState("AnalyserNode#getFloatTimeDomainData"),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          not enabled\n        "],["\n          ",";\n          not enabled\n        "]),e.form))}),t(l["default"].isInstanceOf(e,Float32Array),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"array","Float32Array")))})})}},{key:"getByteTimeDomainData",value:function(e){this._.inspector.describe("getByteTimeDomainData",function(t){t(l["default"].isInstanceOf(e,Uint8Array),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"array","Uint8Array")))})})}},{key:"fftSize",get:function(){return this._.fftSize},set:function(e){this._.inspector.describe("fftSize",function(t){var n=new d["default"]([32,64,128,256,512,1024,2048]);t(n.contains(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"fftSize",n.toString())))})}),this._.fftSize=e}},{key:"frequencyBinCount",get:function(){return this.fftSize>>1},set:function(e){this._.inspector.describe("frequencyBinCount",function(t){t.throwReadOnlyTypeError(e)})}},{key:"minDecibels",get:function(){return this._.minDecibels},set:function(e){this._.inspector.describe("minDecibels",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"minDecibels","number")))})}),this._.minDecibels=e}},{key:"maxDecibels",get:function(){return this._.maxDecibels},set:function(e){this._.inspector.describe("maxDecibels",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"maxDecibels","number")))})}),this._.maxDecibels=e}},{key:"smoothingTimeConstant",get:function(){return this._.smoothingTimeConstant},set:function(e){this._.inspector.describe("smoothingTimeConstant",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"smoothingTimeConstant","number")))})}),this._.smoothingTimeConstant=e}}]),t}(m["default"]);n["default"]=y,y.$JSONKeys=["fftSize","minDecibels","maxDecibels","smoothingTimeConstant"],t.exports=n["default"]},{"./AudioNode":7,"./utils":44,"./utils/Configuration":37,"./utils/Enumerator":38}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./utils"),u=r(s),c=e("./utils/Configuration"),l=r(c),f=e("./utils/Immigration"),p=r(f),h=e("./utils/Inspector"),d=r(h),v=l["default"].getInstance(),m=p["default"].getInstance(),g=function(){function e(t,n,r,a,s){o(this,e),m.check(t,function(){throw new TypeError("Illegal constructor")}),Object.defineProperty(this,"_",{value:{inspector:new d["default"](this)}}),this._.inspector.describe("constructor",function(e){e(u["default"].isPositiveInteger(r),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"numberOfChannels","positive integer")))}),e(u["default"].isPositiveInteger(a),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(a,"length","positive integer")))}),e(u["default"].isPositiveInteger(s),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(s,"sampleRate","positive integer")))})}),this._.context=n,this._.numberOfChannels=r,this._.length=a,this._.sampleRate=s,this._.data=new Array(r);for(var c=0;r>c;c++)this._.data[c]=new Float32Array(a)}return a(e,[{key:"getChannelData",value:function(e){var t=this;return this._.inspector.describe("getChannelData",function(n){n(u["default"].isPositiveInteger(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"channel","positive integer")))}),n(e<t._.data.length,function(n){throw new TypeError(n.plain(i(["\n          ",";\n          channel index (",") exceeds number of channels (",")\n        "],["\n          ",";\n          channel index (",") exceeds number of channels (",")\n        "]),n.form,e,t._.data.length))})}),this._.data[e]}},{key:"copyFromChannel",value:function(e,t,n){var r=this;arguments.length<3&&(n=0),this._.inspector.describe("copyFromChannel",function(o){o("enabled"===v.getState("AudioBuffer#copyFromChannel"),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          not enabled\n        "],["\n          ",";\n          not enabled\n        "]),e.form))}),o(u["default"].isInstanceOf(e,Float32Array),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"destination","Float32Array")))}),o(u["default"].isPositiveInteger(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"channelNumber","positive integer")))}),o(u["default"].isPositiveInteger(n),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"startInChannel","positive integer")))}),o(t>=0&&t<r._.data.length,function(e){throw new TypeError(e.plain(i(["\n          ",";\n          The channelNumber provided (",") is outside the range [0, ",")\n        "],["\n          ",";\n          The channelNumber provided (",") is outside the range [0, ",")\n        "]),e.form,t,r._.data.length))}),o(n>=0&&n<r._.length,function(e){throw new TypeError(e.plain(i(["\n          ",";\n          The startInChannel provided (",") is outside the range [0, ",").\n        "],["\n          ",";\n          The startInChannel provided (",") is outside the range [0, ",").\n        "]),e.form,n,r._.length))})});var o=this._.data[t].subarray(n);e.set(o.subarray(0,Math.min(o.length,e.length)))}},{key:"copyToChannel",value:function(e,t,n){var r=this;arguments.length<3&&(n=0),this._.inspector.describe("copyToChannel",function(o){o("enabled"===v.getState("AudioBuffer#copyToChannel"),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          not enabled\n        "],["\n          ",";\n          not enabled\n        "]),e.form))}),o(u["default"].isInstanceOf(e,Float32Array),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"destination","Float32Array")))}),o(u["default"].isPositiveInteger(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"channelNumber","positive integer")))}),o(u["default"].isPositiveInteger(n),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"startInChannel","positive integer")))}),o(t>=0&&t<r._.data.length,function(e){throw new TypeError(e.plain(i(["\n          ",";\n          The channelNumber provided (",") is outside the range [0, ",")\n        "],["\n          ",";\n          The channelNumber provided (",") is outside the range [0, ",")\n        "]),e.form,t,r._.data.length))}),o(n>=0&&n<r._.length,function(e){throw new TypeError(e.plain(i(["\n          ",";\n          The startInChannel provided (",") is outside the range [0, ",").\n        "],["\n          ",";\n          The startInChannel provided (",") is outside the range [0, ",").\n        "]),e.form,n,r._.length))})});var o=e.subarray(0,Math.min(e.length,this._.length-n));this._.data[t].set(o,n)}},{key:"toJSON",value:function(){var e={name:this.$name,sampleRate:this.sampleRate,length:this.length,duration:this.duration,numberOfChannels:this.numberOfChannels};return this.$context.VERBOSE_JSON&&(e.data=this._.data.map(function(e){return Array.prototype.slice.call(e)})),e}},{key:"sampleRate",get:function(){return this._.sampleRate},set:function(e){this._.inspector.describe("sampleRate",function(t){t.throwReadOnlyTypeError(e)})}},{key:"length",get:function(){return this._.length},set:function(e){this._.inspector.describe("length",function(t){t.throwReadOnlyTypeError(e)})}},{key:"duration",get:function(){return this.length/this.sampleRate},set:function(e){this._.inspector.describe("duration",function(t){t.throwReadOnlyTypeError(e)})}},{key:"numberOfChannels",get:function(){return this._.numberOfChannels},set:function(e){this._.inspector.describe("numberOfChannels",function(t){t.throwReadOnlyTypeError(e)})}},{key:"$name",get:function(){return"AudioBuffer"}},{key:"$context",get:function(){return this._.context}}]),e}();n["default"]=g,t.exports=n["default"]},{"./utils":44,"./utils/Configuration":37,"./utils/Immigration":40,"./utils/Inspector":41}],3:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},l=t("./utils"),f=o(l),p=t("./utils/Immigration"),h=o(p),d=t("./AudioNode"),v=o(d),m=t("./AudioParam"),g=o(m),y=t("./Event"),b=o(y),_=h["default"].getInstance(),w=function(t){function n(e,t){var r=this;i(this,n),c(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e,{name:"AudioBufferSourceNode",context:t,numberOfInputs:0,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.buffer=null,this._.playbackRate=_.apply(function(e){return new g["default"](e,r,"playbackRate",1,0,1024)}),this._.loop=!1,this._.loopStart=0,this._.loopEnd=0,this._.onended=null,this._.startTime=1/0,this._.stopTime=1/0,this._.firedOnEnded=!1,this._.JSONKeys=n.$JSONKeys.slice()}return a(n,t),u(n,[{key:"start",value:function(e,t,n){var r=this;arguments.length<3&&(n=0),arguments.length<2&&(t=0),arguments.length<1&&(e=0),this._.inspector.describe("start",["when","offset","duration"],function(o){o(f["default"].isPositiveNumber(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"when","positive number")))}),o(f["default"].isPositiveNumber(t),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"offset","positive number")))}),o(f["default"].isPositiveNumber(n),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"duration","positive number")))}),o(r._.startTime===1/0,function(e){throw new Error(e.plain(s(["\n          ",";\n          cannot start more than once\n        "],["\n          ",";\n          cannot start more than once\n        "]),e.form))})}),this._.startTime=e}},{key:"stop",value:function(e){var t=this;arguments.length<1&&(e=0),this._.inspector.describe("stop",["when"],function(n){n(f["default"].isPositiveNumber(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"when","positive number")))}),n(t._.startTime!==1/0,function(e){throw new Error(e.plain(s(["\n          ",";\n          cannot call stop without calling start first\n        "],["\n          ",";\n          cannot call stop without calling start first\n        "]),e.form))}),n(t._.stopTime===1/0,function(e){throw new Error(e.plain(s(["\n          ",";\n          cannot stop more than once\n        "],["\n          ",";\n          cannot stop more than once\n        "]),e.form))})}),this._.stopTime=e}},{key:"$stateAtTime",value:function(e){var t=f["default"].toSeconds(e);if(this._.startTime===1/0)return"UNSCHEDULED";if(t<this._.startTime)return"SCHEDULED";var n=this._.stopTime;return!this.loop&&this.buffer&&(n=Math.min(n,this._.startTime+this.buffer.duration)),n>t?"PLAYING":"FINISHED"}},{key:"_process",value:function(){this._.firedOnEnded||"FINISHED"!==this.$stateAtTime(this.context.currentTime)||(this.dispatchEvent(new b["default"]("ended",this)),this._.firedOnEnded=!0)}},{key:"buffer",get:function(){return this._.buffer},set:function(t){this._.inspector.describe("buffer",function(n){n(f["default"].isNullOrInstanceOf(t,e.AudioBuffer),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"buffer","AudioBuffer")))})}),this._.buffer=t}},{key:"playbackRate",get:function(){return this._.playbackRate},set:function(e){this._.inspector.describe("playbackRate",function(t){t.throwReadOnlyTypeError(e)})}},{key:"loop",get:function(){return this._.loop},set:function(e){this._.inspector.describe("loop",function(t){t(f["default"].isBoolean(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"loop","boolean")))})}),this._.loop=e}},{key:"loopStart",get:function(){return this._.loopStart},set:function(e){this._.inspector.describe("loopStart",function(t){t(f["default"].isPositiveNumber(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"loopStart","positive number")))})}),this._.loopStart=e}},{key:"loopEnd",get:function(){return this._.loopEnd},set:function(e){this._.inspector.describe("loopEnd",function(t){t(f["default"].isPositiveNumber(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"loopEnd","positive number")))})}),this._.loopEnd=e}},{key:"onended",get:function(){return this._.onended},set:function(e){this._.inspector.describe("onended",function(t){t(f["default"].isNullOrFunction(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"onended","function")))})}),this._.onended=e}},{key:"$state",get:function(){return this.$stateAtTime(this.context.currentTime)}},{key:"$startTime",get:function(){return this._.startTime}},{key:"$stopTime",get:function(){return this._.stopTime}}]),n}(v["default"]);r["default"]=w,w.$JSONKeys=["buffer","playbackRate","loop","loopStart","loopEnd"],n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AudioNode":7,"./AudioParam":9,"./Event":18,"./utils":44,"./utils/Immigration":40}],4:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(){return"enabled"===le.getState("AudioContext#suspend")||"enabled"===le.getState("AudioContext#resume")||"enabled"===le.getState("AudioContext#close")}function c(e,t){var n=this;return this._.inspector.describe(e,[],function(t){t("enabled"===le.getState("AudioContext#"+e),function(e){throw new TypeError(e.plain(s(["\n        ",";\n        not enabled\n      "],["\n        ",";\n        not enabled\n      "]),e.form))})}),new Promise(function(r,o){n._.inspector.describe(e,[],function(t){t("closed"!==n._.state,function(t){o(new Error(t.plain(s(["\n          ",";\n          Cannot "," a context that is being closed or has already been closed\n        "],["\n          ",";\n          Cannot "," a context that is being closed or has already been closed\n        "]),t.form,e)))})}),t(),r()})}Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},p=t("./utils"),h=o(p),d=t("./utils/Configuration"),v=o(d),m=t("./utils/Immigration"),g=o(m),y=t("./Event"),b=o(y),_=t("./EventTarget"),w=o(_),x=t("./AnalyserNode"),E=o(x),S=t("./AudioBuffer"),C=o(S),T=t("./AudioBufferSourceNode"),O=o(T),A=t("./AudioDestinationNode"),k=o(A),j=t("./AudioListener"),P=o(j),N=t("./BiquadFilterNode"),M=o(N),R=t("./ChannelMergerNode"),D=o(R),I=t("./ChannelSplitterNode"),F=o(I),L=t("./ConvolverNode"),B=o(L),U=t("./DelayNode"),q=o(U),V=t("./DynamicsCompressorNode"),z=o(V),W=t("./GainNode"),H=o(W),G=t("./MediaElementAudioSourceNode"),Y=o(G),$=t("./MediaStreamAudioDestinationNode"),X=o($),K=t("./MediaStreamAudioSourceNode"),J=o(K),Q=t("./OscillatorNode"),Z=o(Q),ee=t("./PannerNode"),te=o(ee),ne=t("./PeriodicWave"),re=o(ne),oe=t("./ScriptProcessorNode"),ie=o(oe),ae=t("./StereoPannerNode"),se=o(ae),ue=t("./WaveShaperNode"),ce=o(ue),le=v["default"].getInstance(),fe=g["default"].getInstance(),pe=function(t){function n(){var t=this;i(this,n),f(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this._.destination=fe.apply(function(e){return new k["default"](e,t)}),this._.sampleRate=e.WebAudioTestAPI.sampleRate,this._.listener=fe.apply(function(e){return new P["default"](e,t)}),this._.microCurrentTime=0,this._.processedSamples=0,this._.tick=0,this._.state="running",this._.onstatechange=null}return a(n,t),l(n,[{key:"suspend",value:function(){var e=this;return c.call(this,"suspend",function(){"running"===e._.state&&(e._.state="suspended",e.dispatchEvent(new b["default"]("statechange",e)))})}},{key:"resume",value:function(){var e=this;return c.call(this,"resume",function(){"suspended"===e._.state&&(e._.state="running",e.dispatchEvent(new b["default"]("statechange",e)))})}},{key:"close",value:function(){var e=this;return c.call(this,"close",function(){"closed"!==e._.state&&(e._.state="closed",e.$reset(),e.dispatchEvent(new b["default"]("statechange",e)))})}},{key:"createBuffer",value:function(e,t,n){var r=this;return fe.apply(function(o){return new C["default"](o,r,e,t,n)})}},{key:"decodeAudioData",value:function(t,n,r){function o(){o.done||(this._.inspector.describe("decodeAudioData",["audioData","successCallback","errorCallback"],function(n){n(h["default"].isInstanceOf(t,e.ArrayBuffer),function(e){throw new TypeError(e.plain(s(["\n            ",";\n            ","\n          "],["\n            ",";\n            ","\n          "]),e.form,e.butGot(t,"audioData","ArrayBuffer")))}),n(h["default"].isFunction(u),function(e){throw new TypeError(e.plain(s(["\n            ",";\n            ","\n          "],["\n            ",";\n            ","\n          "]),e.form,e.butGot(u,"successCallback","function")))}),n(h["default"].isFunction(c),function(e){throw new TypeError(e.plain(s(["\n            ",";\n            ","\n          "],["\n            ",";\n            ","\n          "]),e.form,e.butGot(c,"errorCallback","function")))})}),o.done=!0)}var i=this,a="promise"===le.getState("AudioContext#decodeAudioData"),u=void 0,c=void 0;a?(u=h["default"].defaults(n,function(){}),c=h["default"].defaults(r,function(){})):(u=n,c=h["default"].defaults(r,function(){}));var l=new Promise(function(e,t){o.call(i),i.DECODE_AUDIO_DATA_FAILED?t():e(i.DECODE_AUDIO_DATA_RESULT||fe.apply(function(e){return new C["default"](e,i,2,1024,i.sampleRate)}))});return l.then(u,c),a?l:void o.call(this)}},{key:"createBufferSource",value:function(){var e=this;return fe.apply(function(t){return new O["default"](t,e)})}},{key:"createMediaElementSource",value:function(e){var t=this;return fe.apply(function(n){return new Y["default"](n,t,e)})}},{key:"createMediaStreamSource",value:function(e){var t=this;return fe.apply(function(n){return new J["default"](n,t,e)})}},{key:"createMediaStreamDestination",value:function(){var e=this;return fe.apply(function(t){return new X["default"](t,e)})}},{key:"createAudioWorker",value:function(){this._.inspector.describe("createAudioWorker",function(e){e(!1,function(e){throw new TypeError(e.plain(s(["\n          ",";\n          not enabled\n        "],["\n          ",";\n          not enabled\n        "]),e.form))})})}},{key:"createScriptProcessor",value:function(e,t,n){var r=this;return arguments.length<3&&(n=2),arguments.length<2&&(t=2),fe.apply(function(o){return new ie["default"](o,r,e,t,n)})}},{key:"createAnalyser",value:function(){var e=this;return fe.apply(function(t){return new E["default"](t,e)})}},{key:"createGain",value:function(){var e=this;return fe.apply(function(t){return new H["default"](t,e)})}},{key:"createDelay",value:function(e){var t=this;return arguments.length<1&&(e=1),fe.apply(function(n){return new q["default"](n,t,e)})}},{key:"createBiquadFilter",value:function(){var e=this;return fe.apply(function(t){return new M["default"](t,e)})}},{key:"createWaveShaper",value:function(){var e=this;return fe.apply(function(t){return new ce["default"](t,e)})}},{key:"createPanner",value:function(){var e=this;return fe.apply(function(t){return new te["default"](t,e)})}},{key:"createStereoPanner",value:function(){var e=this;return this._.inspector.describe("createStereoPanner",function(e){e("enabled"===le.getState("AudioContext#createStereoPanner"),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          not enabled\n        "],["\n          ",";\n          not enabled\n        "]),e.form))})}),fe.apply(function(t){return new se["default"](t,e)})}},{key:"createConvolver",value:function(){var e=this;return fe.apply(function(t){return new B["default"](t,e)})}},{key:"createChannelSplitter",
value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?6:arguments[0];return fe.apply(function(n){return new F["default"](n,e,t)})}},{key:"createChannelMerger",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?6:arguments[0];return fe.apply(function(n){return new D["default"](n,e,t)})}},{key:"createDynamicsCompressor",value:function(){var e=this;return fe.apply(function(t){return new z["default"](t,e)})}},{key:"createOscillator",value:function(){var e=this;return fe.apply(function(t){return new Z["default"](t,e)})}},{key:"createPeriodicWave",value:function(e,t){var n=this;return fe.apply(function(r){return new re["default"](r,n,e,t)})}},{key:"toJSON",value:function(){return this.destination.toJSON([])}},{key:"$process",value:function(e){this._process(h["default"].toMicroseconds(e))}},{key:"$processTo",value:function(e){var t=h["default"].toMicroseconds(e);this._.microCurrentTime<t&&this._process(t-this._.microCurrentTime)}},{key:"$reset",value:function(){this._.microCurrentTime=0,this._.processedSamples=0,this.destination.$inputs.forEach(function(e){e.inputs.forEach(function(e){e.disconnectAll()})})}},{key:"_process",value:function(e){for(var t=this._.microCurrentTime+e;"running"===this._.state&&this._.microCurrentTime<t;){var n=Math.min(this._.microCurrentTime+1e3,t),r=Math.floor(n/1e6*this.sampleRate),o=r-this._.processedSamples;this._.microCurrentTime=n,this._.processedSamples=r,this.destination.$process(o,++this._.tick)}}},{key:"destination",get:function(){return this._.destination},set:function(e){this._.inspector.describe("destination",function(t){t.throwReadOnlyTypeError(e)})}},{key:"sampleRate",get:function(){return this._.sampleRate},set:function(e){this._.inspector.describe("sampleRate",function(t){t.throwReadOnlyTypeError(e)})}},{key:"currentTime",get:function(){return this._.microCurrentTime/1e6},set:function(e){this._.inspector.describe("currentTime",function(t){t.throwReadOnlyTypeError(e)})}},{key:"listener",get:function(){return this._.listener},set:function(e){this._.inspector.describe("listener",function(t){t.throwReadOnlyTypeError(e)})}},{key:"state",get:function(){return u()?this._.state:void 0},set:function(e){u()&&this._.inspector.describe("state",function(t){t.throwReadOnlyTypeError(e)})}},{key:"onstatechange",get:function(){return u()?this._.onstatechange:void 0},set:function(e){u()&&(this._.inspector.describe("onstatechange",function(t){t(h["default"].isNullOrFunction(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"onstatechange","function")))})}),this._.onstatechange=e)}},{key:"$name",get:function(){return"AudioContext"}},{key:"$context",get:function(){return this}}],[{key:"WEB_AUDIO_TEST_API_VERSION",get:function(){return h["default"].getAPIVersion()}}]),n}(w["default"]);r["default"]=pe,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AnalyserNode":1,"./AudioBuffer":2,"./AudioBufferSourceNode":3,"./AudioDestinationNode":5,"./AudioListener":6,"./BiquadFilterNode":11,"./ChannelMergerNode":12,"./ChannelSplitterNode":13,"./ConvolverNode":14,"./DelayNode":15,"./DynamicsCompressorNode":16,"./Event":18,"./EventTarget":19,"./GainNode":20,"./MediaElementAudioSourceNode":23,"./MediaStreamAudioDestinationNode":25,"./MediaStreamAudioSourceNode":26,"./OscillatorNode":29,"./PannerNode":30,"./PeriodicWave":31,"./ScriptProcessorNode":32,"./StereoPannerNode":33,"./WaveShaperNode":34,"./utils":44,"./utils/Configuration":37,"./utils/Immigration":40}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=e("./AudioNode"),c=r(u),l=function(e){function t(e,n){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"AudioDestinationNode",context:n,numberOfInputs:1,numberOfOutputs:0,channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"}),this._.maxChannelCount=2}return i(t,e),a(t,[{key:"maxChannelCount",get:function(){return this._.maxChannelCount},set:function(e){this._.inspector.describe("maxChannelCount",function(t){t.throwReadOnlyTypeError(e)})}}]),t}(c["default"]);n["default"]=l,t.exports=n["default"]},{"./AudioNode":7}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./utils"),u=r(s),c=e("./utils/Immigration"),l=r(c),f=e("./utils/Inspector"),p=r(f),h=l["default"].getInstance(),d=function(){function e(t,n){o(this,e),Object.defineProperty(this,"_",{value:{inspector:new p["default"](this)}}),this._.context=n,this._.dopplerFactor=1,this._.speedOfSound=343.3,h.check(t,function(){throw new TypeError("Illegal constructor")})}return a(e,[{key:"setPosition",value:function(e,t,n){this._.inspector.describe("setPosition",function(r){r(u["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"x","number")))}),r(u["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"y","number")))}),r(u["default"].isNumber(n),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"z","number")))})})}},{key:"setOrientation",value:function(e,t,n,r,o,a){this._.inspector.describe("setOrientation",function(s){s(u["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"x","number")))}),s(u["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"y","number")))}),s(u["default"].isNumber(n),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"z","number")))}),s(u["default"].isNumber(r),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"xUp","number")))}),s(u["default"].isNumber(o),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(o,"yUp","number")))}),s(u["default"].isNumber(a),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(a,"zUp","number")))})})}},{key:"setVelocity",value:function(e,t,n){this._.inspector.describe("setVelocity",function(r){r(u["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"x","number")))}),r(u["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"y","number")))}),r(u["default"].isNumber(n),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"z","number")))})})}},{key:"dopplerFactor",get:function(){return this._.dopplerFactor},set:function(e){this._.inspector.describe("dopplerFactor",function(t){t(u["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"dopplerFactor","number")))})}),this._.dopplerFactor=e}},{key:"speedOfSound",get:function(){return this._.speedOfSound},set:function(e){this._.inspector.describe("speedOfSound",function(t){t(u["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"speedOfSound","number")))})}),this._.speedOfSound=e}},{key:"$name",get:function(){return"AudioListener"}},{key:"$context",get:function(){return this._.context}}]),e}();n["default"]=d,t.exports=n["default"]},{"./utils":44,"./utils/Immigration":40,"./utils/Inspector":41}],7:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},l=t("./utils"),f=o(l),p=t("./utils/Configuration"),h=o(p),d=t("./utils/Enumerator"),v=o(d),m=t("./utils/Immigration"),g=o(m),y=t("./utils/Junction"),b=o(y),_=t("./EventTarget"),w=o(_),x=t("./AudioNodeDisconnectUtils"),E=o(x),S=h["default"].getInstance(),C=g["default"].getInstance(),T=function(t){function n(e,t){var r=this;i(this,n),c(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),C.check(e,function(){throw new TypeError("Illegal constructor")}),this._.context=t.context,this._.name=f["default"].defaults(t.name,"AudioNode"),this._.numberOfInputs=f["default"].defaults(t.numberOfInputs,1),this._.numberOfOutputs=f["default"].defaults(t.numberOfOutputs,1),this._.channelCount=f["default"].defaults(t.channelCount,2),this._.channelCountMode=f["default"].defaults(t.channelCountMode,"max"),this._.channelInterpretation=f["default"].defaults(t.channelInterpretation,"speakers"),this._.JSONKeys=[],this._.inputs=f["default"].fill(new Array(Math.max(0,0|this._.numberOfInputs)),function(e){return new b["default"](r,e)}),this._.outputs=f["default"].fill(new Array(Math.max(0,0|this._.numberOfOutputs)),function(e){return new b["default"](r,e)}),this._.tick=-1,this._.inspector.describe("create"+this._.name.replace(/Node$/,""),[],function(e){e("closed"!==r._.context.state,function(e){throw new TypeError(e.plain(s(["\n          ",";\n          AudioContext has been closed\n        "],["\n          ",";\n          AudioContext has been closed\n        "]),e.form))})})}return a(n,t),u(n,[{key:"connect",value:function(t){var n=this,r=arguments.length<=1||void 0===arguments[1]?0:arguments[1],o=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this._.inspector.describe("connect",function(i){i(f["default"].isInstanceOf(t,e.AudioNode)||f["default"].isInstanceOf(t,e.AudioParam),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"destination","AudioNode or an AudioParam")))}),i(n.$context===t.$context,function(e){throw new TypeError(e.plain(s(["\n          ",";\n          cannot connect to a destination belonging to a different audio context\n        "],["\n          ",";\n          cannot connect to a destination belonging to a different audio context\n        "]),e.form))}),i(f["default"].isPositiveInteger(r),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"output","positive integer")))}),i(f["default"].isPositiveInteger(o),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(o,"input","positive integer")))}),i(r<n.numberOfOutputs,function(e){throw new TypeError(e.plain(s(["\n          ",";\n          output index (",") exceeds number of outputs (",")\n        "],["\n          ",";\n          output index (",") exceeds number of outputs (",")\n        "]),e.form,r,n.numberOfOutputs))}),i(o<(t.numberOfInputs||1),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          input index (",") exceeds number of inputs (",")\n        "],["\n          ",";\n          input index (",") exceeds number of inputs (",")\n        "]),e.form,o,t.numberOfInputs))})}),this._.outputs[r].connect(t.$inputs[o])}},{key:"disconnect",value:function(e,t,n){var r="selective"===S.getState("AudioNode#disconnect"),o=f["default"].countArguments([e,t,n]);if(!r)return void E["default"].disconnectChannel.call(this,f["default"].defaults(e,0));switch(o){case 0:E["default"].disconnectAll.call(this);break;case 1:f["default"].isNumber(e)?E["default"].disconnectChannel.call(this,e):E["default"].disconnectSelective1.call(this,e);break;case 2:E["default"].disconnectSelective2.call(this,e,t);break;case 3:E["default"].disconnectSelective3.call(this,e,t,n)}}},{key:"toJSON",value:function r(e){function r(e,t){return e&&"function"==typeof e.toJSON?e.toJSON(t):e}return f["default"].toJSON(this,function(e,t){var n={};return n.name=f["default"].toNodeName(e),e._.JSONKeys.forEach(function(o){n[o]=r(e[o],t)}),e.$context.VERBOSE_JSON&&(n.numberOfInputs=e.numberOfInputs,n.numberOfOutputs=e.numberOfOutputs,n.channelCount=e.channelCount,n.channelCountMode=e.channelCountMode,n.channelInterpretation=e.channelInterpretation),1===e.$inputs.length?n.inputs=e.$inputs[0].toJSON(t):n.inputs=e.$inputs.map(function(e){return e.toJSON(t)}),n},e)}},{key:"$process",value:function(t,n){var r=this;this._.tick!==n&&(this._.tick=n,this.$inputs.forEach(function(e){e.process(t,n)}),Object.keys(this._).forEach(function(o){r[o]instanceof e.AudioParam&&r[o].$process(t,n)}),this._process&&this._process(t))}},{key:"$isConnectedTo",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(!(t instanceof e.AudioNode||t instanceof e.AudioParam))return!1;var o=this._.outputs[n],i=t._.inputs[r];return o&&i?o.outputs.some(function(e){return e===i}):!1}},{key:"$isConnectedFrom",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(!(t instanceof e.AudioNode))return!1;var o=t._.outputs[n],i=this._.inputs[r];return o&&i?i.inputs.some(function(e){return e===o}):!1}},{key:"context",get:function(){return this._.context},set:function(e){this._.inspector.describe("context",function(t){t.throwReadOnlyTypeError(e)})}},{key:"numberOfInputs",get:function(){return this._.numberOfInputs},set:function(e){this._.inspector.describe("numberOfInputs",function(t){t.throwReadOnlyTypeError(e)})}},{key:"numberOfOutputs",get:function(){return this._.numberOfOutputs},set:function(e){this._.inspector.describe("numberOfOutputs",function(t){t.throwReadOnlyTypeError(e)})}},{key:"channelCount",get:function(){return this._.channelCount},set:function(e){this._.inspector.describe("channelCount",function(t){t(f["default"].isPositiveInteger(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"channelCount","positive integer")))})}),this._.channelCount=e}},{key:"channelCountMode",get:function(){return this._.channelCountMode},set:function(e){this._.inspector.describe("channelCountMode",function(t){var n=new v["default"](["max","clamped-max","explicit"]);t(n.contains(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"channelCountMode",n.toString())))})}),this._.channelCountMode=e}},{key:"channelInterpretation",get:function(){return this._.channelInterpretation},set:function(e){this._.inspector.describe("channelInterpretation",function(t){var n=new v["default"](["speakers","discrete"]);t(n.contains(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"channelInterpretation",n.toString())))})}),this._.channelInterpretation=e}},{key:"$name",get:function(){return this._.name}},{key:"$context",get:function(){return this._.context}},{key:"$inputs",get:function(){return 0===this._.inputs.length?[new b["default"](this,0)]:this._.inputs}}]),n}(w["default"]);r["default"]=T,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AudioNodeDisconnectUtils":8,"./EventTarget":19,"./utils":44,"./utils/Configuration":37,"./utils/Enumerator":38,"./utils/Immigration":40,"./utils/Junction":42}],8:[function(t,n,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(t){return p["default"].isInstanceOf(t,e.AudioNode)||p["default"].isInstanceOf(t,e.AudioParam)}function a(){this._.outputs.forEach(function(e){e.disconnectAll()})}function s(e){var t=this;this._.inspector.describe("disconnect",["output"],function(n){n(p["default"].isPositiveInteger(e),function(t){throw new TypeError(t.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),t.form,t.butGot(e,"output","positive integer")))}),n(e<t.numberOfOutputs,function(n){throw new TypeError(n.plain(o(["\n        ",";\n        output index (",") exceeds number of outputs (",")\n      "],["\n        ",";\n        output index (",") exceeds number of outputs (",")\n      "]),n.form,e,t.numberOfOutputs))})}),this._.outputs[e].disconnectAll()}function u(e){var t=this;this._.inspector.describe("disconnect",["destination"],function(n){n(i(e),function(t){throw new TypeError(t.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),t.form,t.butGot(e,"destination","AudioNode or an AudioParam")))});var r=t._.outputs.some(function(t){return t.isConnected(e)});n(r,function(e){throw new TypeError(e.plain(o(["\n        ",";\n        the given destination is not connected\n      "],["\n        ",";\n        the given destination is not connected\n      "]),e.form))})}),this._.outputs.forEach(function(t){t.disconnectNode(e)})}function c(e,t){var n=this;this._.inspector.describe("disconnect",["destination","output"],function(r){r(i(e),function(t){throw new TypeError(t.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),t.form,t.butGot(e,"destination","AudioNode or an AudioParam")))});var a=n._.outputs.some(function(t){return t.isConnected(e)});r(a,function(e){throw new TypeError(e.plain(o(["\n        ",";\n        the given destination is not connected\n      "],["\n        ",";\n        the given destination is not connected\n      "]),e.form))}),r(p["default"].isInteger(t),function(e){throw new TypeError(e.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),e.form,e.butGot(t,"output","integer")))}),r(t>=0&&t<n.numberOfOutputs,function(e){throw new TypeError(e.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),e.form,e.outsideTheRange(t,"output",0,n.numberOfOutputs)))})}),this._.outputs[t].disconnectNode(e)}function l(e,t,n){var r=this;this._.inspector.describe("disconnect",["destination","output","input"],function(a){a(i(e),function(t){throw new TypeError(t.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),t.form,t.butGot(e,"destination","AudioNode or an AudioParam")))});var s=r._.outputs.some(function(t){return t.isConnected(e)});a(s,function(e){throw new TypeError(e.plain(o(["\n        ",";\n        the given destination is not connected\n      "],["\n        ",";\n        the given destination is not connected\n      "]),e.form))}),a(p["default"].isInteger(t),function(e){throw new TypeError(e.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),e.form,e.butGot(t,"output","integer")))}),a(p["default"].isInteger(n),function(e){throw new TypeError(e.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),e.form,e.butGot(n,"input","integer")))}),a(t>=0&&t<r.numberOfOutputs,function(e){throw new TypeError(e.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),e.form,e.outsideTheRange(t,"output",0,r.numberOfOutputs)))}),a(n>=0&&n<e.numberOfInputs,function(e){throw new TypeError(e.plain(o(["\n        ",";\n        ","\n      "],["\n        ",";\n        ","\n      "]),e.form,e.outsideTheRange(n,"input",0,r.numberOfOutputs)))})}),this._.outputs[t].disconnectChannel(e,n)}Object.defineProperty(r,"__esModule",{value:!0}),r.isConnectable=i,r.disconnectAll=a,r.disconnectChannel=s,r.disconnectSelective1=u,r.disconnectSelective2=c,r.disconnectSelective3=l;var f=t("./utils"),p=n(f);r["default"]={disconnectAll:a,disconnectChannel:s,disconnectSelective1:u,disconnectSelective2:c,disconnectSelective3:l}}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":44}],9:[function(t,n,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e,t){var n=t.time,r=e.$events,o=0,i=void 0,a=r.length;for(i=0;a>i;++i){if(r[i].time===n&&r[i].type===t.type){o=1;break}if(r[i].time>n)break}r.splice(i,o,t)}function s(e,t,n,r,o,i){if(o>=r)return t;if(r>=i)return n;var a=(r-o)/(i-o);return(1-a)*t+a*n}function u(e,t,n,r,o,i){if(o>=r)return t;if(r>=i)return n;if(t===n)return t;var a=(r-o)/(i-o);return t>0&&n>0||0>t&&0>n?t*Math.pow(n/t,a):e}function c(e,t,n,r,o){return r>=n?e:t+(e-t)*Math.exp((r-n)/o)}function l(e,t,n,r,o){var i=(t-n)/(r-n);return 0>=i?h["default"].defaults(o[0],e):i>=1?h["default"].defaults(o[o.length-1],e):h["default"].defaults(o[o.length*i|0],e)}Object.defineProperty(r,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();r.linTo=s,r.expTo=u,r.setTarget=c,r.setCurveValue=l;var p=t("./utils"),h=n(p),d=t("./utils/Immigration"),v=n(d),m=t("./utils/Inspector"),g=n(m),y=t("./utils/Junction"),b=n(y),_=v["default"].getInstance(),w=function(){function t(e,n,r,i,a,s){o(this,t),_.check(e,function(){throw new TypeError("Illegal constructor")}),Object.defineProperty(this,"_",{value:{inspector:new g["default"](this)}}),this._.value=i,this._.name=r,this._.defaultValue=i,this._.minValue=a,this._.maxValue=s,this._.context=n.context,this._.node=n,this._.inputs=[new b["default"](this,0)],this._.events=[],this._.tick=-1}return f(t,[{key:"setValueAtTime",value:function(e,t){this._.inspector.describe("setValueAtTime",function(n){n(h["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"value","number")))}),n(h["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"startTime","number")))})}),a(this,{type:"SetValue",value:e,time:t})}},{key:"linearRampToValueAtTime",value:function(e,t){this._.inspector.describe("linearRampToValueAtTime",function(n){n(h["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"value","number")))}),n(h["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"endTime","number")))})}),a(this,{type:"LinearRampToValue",value:e,time:t})}},{key:"exponentialRampToValueAtTime",value:function(e,t){this._.inspector.describe("exponentialRampToValueAtTime",function(n){n(h["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"value","number")))}),n(h["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"endTime","number")))})}),a(this,{type:"ExponentialRampToValue",value:e,time:t})}},{key:"setTargetAtTime",value:function(e,t,n){this._.inspector.describe("setTargetAtTime",function(r){r(h["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"target","number")))}),r(h["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"startTime","number")))}),r(h["default"].isNumber(n),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"timeConstant","number")))})}),a(this,{type:"SetTarget",value:e,time:t,timeConstant:n})}},{key:"setValueCurveAtTime",value:function(e,t,n){this._.inspector.describe("setValueCurveAtTime",function(r){r(h["default"].isInstanceOf(e,Float32Array),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"values","Float32Array")))}),r(h["default"].isNumber(t),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"startTime","number")))}),r(h["default"].isNumber(n),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"duration","number")))})}),a(this,{type:"SetValueCurve",time:t,duration:n,curve:e})}},{key:"cancelScheduledValues",value:function(e){this._.inspector.describe("cancelScheduledValues",function(t){t(h["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"startTime","number")))})});for(var t=this.$events,n=0,r=t.length;r>n;++n)if(t[n].time>=e)return t.splice(n)}},{key:"toJSON",value:function(e){return h["default"].toJSON(this,function(e,t){var n={};return n.value=e.value,n.inputs=e.$inputs[0].toJSON(t),n},e)}},{key:"$valueAtTime",value:function(e){for(var t=h["default"].toSeconds(e),n=this._.value,r=this.$events,o=void 0,i=0;i<r.length;i++){var a=r[i],f=r[i+1];if(t<a.time)break;if(o=Math.min(t,f?f.time:t),f&&"LinearRampToValue"===f.type)n=s(n,a.value,f.value,o,a.time,f.time);else if(f&&"ExponentialRampToValue"===f.type)n=u(n,a.value,f.value,o,a.time,f.time);else switch(a.type){case"SetValue":case"LinearRampToValue":case"ExponentialRampToValue":n=a.value;break;case"SetTarget":n=c(n,a.value,o,a.time,a.timeConstant);break;case"SetValueCurve":n=l(n,o,a.time,a.time+a.duration,a.curve)}}return n}},{key:"$process",value:function(e,t){this._.tick!==t&&(this._.tick=t,this.$inputs[0].process(e,t))}},{key:"$isConnectedFrom",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(!(t instanceof e.AudioNode))return!1;var r=t._.outputs[n],o=this._.inputs[0];return r&&o?o.inputs.some(function(e){return e===r}):!1}},{key:"value",get:function(){return this._.value=this.$valueAtTime(this.$context.currentTime),this._.value},set:function(e){this._.inspector.describe("value",function(t){t(h["default"].isNumber(e),function(t){throw new TypeError(t.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"value","number")))})}),this._.value=e}},{key:"name",get:function(){return this._.name},set:function(e){this._.inspector.describe("name",function(t){t.throwReadOnlyTypeError(e)})}},{key:"defaultValue",get:function(){return this._.defaultValue},set:function(e){this._.inspector.describe("defaultValue",function(t){t.throwReadOnlyTypeError(e)})}},{key:"$name",get:function(){return"AudioParam"}},{key:"$context",get:function(){return this._.context}},{key:"$node",get:function(){return this._.node}},{key:"$inputs",get:function(){return this._.inputs}},{key:"$events",get:function(){return this._.events}}]),t}();r["default"]=w}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":44,"./utils/Immigration":40,"./utils/Inspector":41,"./utils/Junction":42}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,
n=a,r=!0}},u=e("./utils/Immigration"),c=r(u),l=e("./Event"),f=r(l),p=c["default"].getInstance(),h=function(e){function t(e,n){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"audioprocess",n),p.check(e,function(){throw new TypeError("Illegal constructor")}),this._.node=n}return i(t,e),a(t,[{key:"$name",get:function(){return"AudioProcessingEvent"}},{key:"$node",get:function(){return this._.node}}]),t}(f["default"]);n["default"]=h,t.exports=n["default"]},{"./Event":18,"./utils/Immigration":40}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=e("./utils"),l=r(c),f=e("./utils/Enumerator"),p=r(f),h=e("./utils/Immigration"),d=r(h),v=e("./AudioNode"),m=r(v),g=e("./AudioParam"),y=r(g),b=d["default"].getInstance(),_=function(e){function t(e,n){var r=this;o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"BiquadFilterNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.type="lowpass",this._.frequency=b.apply(function(e){return new y["default"](e,r,"frequency",350,10,n.sampleRate/2)}),this._.detune=b.apply(function(e){return new y["default"](e,r,"detune",0,-4800,4800)}),this._.Q=b.apply(function(e){return new y["default"](e,r,"Q",1,1e-4,1e3)}),this._.gain=b.apply(function(e){return new y["default"](e,r,"gain",0,-40,40)}),this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),s(t,[{key:"getFrequencyResponse",value:function(e,t,n){this._.inspector.describe("getFrequencyResponse",function(r){r(l["default"].isInstanceOf(e,Float32Array),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"frequencyHz","Float32Array")))}),r(l["default"].isInstanceOf(t,Float32Array),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"magResponse","Float32Array")))}),r(l["default"].isInstanceOf(n,Float32Array),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"phaseResponse","Float32Array")))})})}},{key:"type",get:function(){return this._.type},set:function(e){this._.inspector.describe("type",function(t){var n=new p["default"](["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]);t(n.contains(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"type",n.toString())))})}),this._.type=e}},{key:"frequency",get:function(){return this._.frequency},set:function(e){this._.inspector.describe("frequency",function(t){t.throwReadOnlyTypeError(e)})}},{key:"detune",get:function(){return this._.detune},set:function(e){this._.inspector.describe("detune",function(t){t.throwReadOnlyTypeError(e)})}},{key:"Q",get:function(){return this._.Q},set:function(e){this._.inspector.describe("Q",function(t){t.throwReadOnlyTypeError(e)})}},{key:"gain",get:function(){return this._.gain},set:function(e){this._.inspector.describe("gain",function(t){t.throwReadOnlyTypeError(e)})}}]),t}(m["default"]);n["default"]=_,_.$JSONKeys=["type","frequency","detune","Q","gain"],t.exports=n["default"]},{"./AudioNode":7,"./AudioParam":9,"./utils":44,"./utils/Enumerator":38,"./utils/Immigration":40}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=e("./utils"),c=r(u),l=e("./AudioNode"),f=r(l),p=function(e){function t(e,n,r){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"ChannelMergerNode",context:n,numberOfInputs:r,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.inspector.describe("constructor",function(e){e(c["default"].isPositiveInteger(r),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"numberOfInputs","positive integer")))})})}return i(t,e),t}(f["default"]);n["default"]=p,t.exports=n["default"]},{"./AudioNode":7,"./utils":44}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=e("./utils"),c=r(u),l=e("./AudioNode"),f=r(l),p=function(e){function t(e,n,r){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"ChannelSplitterNode",context:n,numberOfInputs:1,numberOfOutputs:r,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.inspector.describe("constructor",function(e){e(c["default"].isPositiveInteger(r),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"numberOfOutputs","positive integer")))})})}return i(t,e),t}(f["default"]);n["default"]=p,t.exports=n["default"]},{"./AudioNode":7,"./utils":44}],14:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},l=t("./utils"),f=o(l),p=t("./AudioNode"),h=o(p),d=function(t){function n(e,t){i(this,n),c(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e,{name:"ConvolverNode",context:t,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers"}),this._.buffer=null,this._.normalize=!0,this._.JSONKeys=n.$JSONKeys.slice()}return a(n,t),u(n,[{key:"buffer",get:function(){return this._.buffer},set:function(t){this._.inspector.describe("buffer",function(n){n(f["default"].isNullOrInstanceOf(t,e.AudioBuffer),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"buffer","AudioBuffer")))})}),this._.buffer=t}},{key:"normalize",get:function(){return this._.normalize},set:function(e){this._.inspector.describe("normalize",function(t){t(f["default"].isBoolean(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"normalize","boolean")))})}),this._.normalize=e}}]),n}(h["default"]);r["default"]=d,d.$JSONKeys=["normalize"],n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AudioNode":7,"./utils":44}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=e("./utils"),l=r(c),f=e("./utils/Immigration"),p=r(f),h=e("./AudioNode"),d=r(h),v=e("./AudioParam"),m=r(v),g=p["default"].getInstance(),y=function(e){function t(e,n,r){var i=this;o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"DelayNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.inspector.describe("constructor",function(e){e(l["default"].isPositiveNumber(r),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"maxDelayTime","positive number")))})}),this._.delayTime=g.apply(function(e){return new m["default"](e,i,"delayTime",0,0,r)}),this._.maxDelayTime=r,this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),s(t,[{key:"delayTime",get:function(){return this._.delayTime},set:function(e){this._.inspector.describe("delayTime",function(t){t.throwReadOnlyTypeError(e)})}},{key:"$maxDelayTime",get:function(){return this._.maxDelayTime}}]),t}(d["default"]);n["default"]=y,y.$JSONKeys=["delayTime"],t.exports=n["default"]},{"./AudioNode":7,"./AudioParam":9,"./utils":44,"./utils/Immigration":40}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=e("./utils/Immigration"),c=r(u),l=e("./AudioNode"),f=r(l),p=e("./AudioParam"),h=r(p),d=c["default"].getInstance(),v=function(e){function t(e,n){var r=this;o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"DynamicsCompressorNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"}),this._.threshold=d.apply(function(e){return new h["default"](e,r,"threshold",-24,-100,0)}),this._.knee=d.apply(function(e){return new h["default"](e,r,"knee",30,0,40)}),this._.ratio=d.apply(function(e){return new h["default"](e,r,"ratio",12,1,20)}),this._.reduction=d.apply(function(e){return new h["default"](e,r,"reduction",0,-20,0)}),this._.attack=d.apply(function(e){return new h["default"](e,r,"attack",.003,0,1)}),this._.release=d.apply(function(e){return new h["default"](e,r,"release",.25,0,1)}),this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),a(t,[{key:"threshold",get:function(){return this._.threshold},set:function(e){this._.inspector.describe("threshold",function(t){t.throwReadOnlyTypeError(e)})}},{key:"knee",get:function(){return this._.knee},set:function(e){this._.inspector.describe("knee",function(t){t.throwReadOnlyTypeError(e)})}},{key:"ratio",get:function(){return this._.ratio},set:function(e){this._.inspector.describe("ratio",function(t){t.throwReadOnlyTypeError(e)})}},{key:"reduction",get:function(){return this._.reduction},set:function(e){this._.inspector.describe("reduction",function(t){t.throwReadOnlyTypeError(e)})}},{key:"attack",get:function(){return this._.attack},set:function(e){this._.inspector.describe("attack",function(t){t.throwReadOnlyTypeError(e)})}},{key:"release",get:function(){return this._.release},set:function(e){this._.inspector.describe("release",function(t){t.throwReadOnlyTypeError(e)})}}]),t}(f["default"]);n["default"]=v,v.$JSONKeys=["threshold","knee","ratio","reduction","attack","release"],t.exports=n["default"]},{"./AudioNode":7,"./AudioParam":9,"./utils/Immigration":40}],17:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=t("./utils"),c=o(u),l=t("./EventTarget"),f=o(l);e.Element=e.Element||function(e){function t(){throw i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),new TypeError("Illegal constructor")}return a(t,e),t}(f["default"]);var p=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),t}(c["default"].preventSuperCall(e.Element));r["default"]=p,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./EventTarget":19,"./utils":44}],18:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=t("./utils"),l=o(c);e.Event=e.Event||function p(){throw a(this,p),new TypeError("Illegal constructor")};var f=function(e){function t(e,n){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),Object.defineProperty(this,"_",{value:{}}),this._.type=e,this._.target=l["default"].defaults(n,null),this._.timestamp=Date.now()}return i(t,e),s(t,[{key:"type",get:function(){return this._.type}},{key:"target",get:function(){return this._.target}},{key:"timestamp",get:function(){return this._.timestamp}}]),t}(l["default"].preventSuperCall(e.Event));r["default"]=f,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":44}],19:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},l=t("./utils"),f=o(l),p=t("./utils/Inspector"),h=o(p);e.EventTarget=e.EventTarget||function v(){throw a(this,v),new TypeError("Illegal constructor")};var d=function(t){function n(){a(this,n),c(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),Object.defineProperty(this,"_",{value:{inspector:new h["default"](this)}}),this._.listeners={}}return i(n,t),u(n,[{key:"addEventListener",value:function(e,t){this._.inspector.describe("addEventListener",function(n){n(f["default"].isString(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"type","string")))}),n(f["default"].isFunction(t),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"listener","function")))})}),this._.listeners[e]=this._.listeners[e]||[],this._.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){this._.inspector.describe("removeEventListener",function(n){n(f["default"].isString(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"type","string")))}),n(f["default"].isFunction(t),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"listener","function")))})}),this._.listeners[e]=this._.listeners[e]||[];var n=this._.listeners[e].indexOf(t);-1!==n&&this._.listeners[e].splice(n,1)}},{key:"dispatchEvent",value:function(t){var n=this;this._.inspector.describe("dispatchEvent",function(n){n(f["default"].isInstanceOf(t,e.Event),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"event","Event")))})});var r=t.type;return"function"==typeof this["on"+r]&&this["on"+r].call(this,t),this.$listeners(r).forEach(function(e){e.call(n,t)},this),!0}},{key:"$listeners",value:function(e){return(this._.listeners[e]||[]).slice()}}]),n}(f["default"].preventSuperCall(e.EventTarget));r["default"]=d,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":44,"./utils/Inspector":41}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=e("./utils/Immigration"),c=r(u),l=e("./AudioNode"),f=r(l),p=e("./AudioParam"),h=r(p),d=c["default"].getInstance(),v=function(e){function t(e,n){var r=this;o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"GainNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.gain=d.apply(function(e){return new h["default"](e,r,"gain",1,0,1)}),this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),a(t,[{key:"gain",get:function(){return this._.gain},set:function(e){this._.inspector.describe("gain",function(t){t.throwReadOnlyTypeError(e)})}}]),t}(f["default"]);n["default"]=v,v.$JSONKeys=["gain"],t.exports=n["default"]},{"./AudioNode":7,"./AudioParam":9,"./utils/Immigration":40}],21:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=t("./utils"),c=o(u),l=t("./Element"),f=o(l);e.HTMLElement=e.HTMLElement||function(e){function t(){throw i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),new TypeError("Illegal constructor")}return a(t,e),t}(f["default"]);var p=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),t}(c["default"].preventSuperCall(e.HTMLElement));r["default"]=p,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Element":17,"./utils":44}],22:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=t("./utils"),c=o(u),l=t("./HTMLElement"),f=o(l);e.HTMLMediaElement=e.HTMLMediaElement||function(e){function t(){throw i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),new TypeError("Illegal constructor")}return a(t,e),t}(f["default"]);var p=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),t}(c["default"].preventSuperCall(e.HTMLMediaElement));r["default"]=p,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./HTMLElement":21,"./utils":44}],23:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=t("./utils"),l=o(c),f=t("./AudioNode"),p=o(f),h=function(t){function n(t,r,o){i(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t,{name:"MediaElementAudioSourceNode",context:r,numberOfInputs:0,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.inspector.describe("constructor",function(t){t(l["default"].isInstanceOf(o,e.HTMLMediaElement),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(o,"mediaElement","HTMLMediaElement")))})})}return a(n,t),n}(p["default"]);r["default"]=h,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AudioNode":7,"./utils":44}],24:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=t("./utils"),c=o(u),l=t("./EventTarget"),f=o(l);e.MediaStream=e.MediaStream||function(e){function t(){throw i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),new TypeError("Illegal constructor")}return a(t,e),t}(f["default"]);var p=function(e){function t(){i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),t}(c["default"].preventSuperCall(e.MediaStream));r["default"]=p,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./EventTarget":19,"./utils":44}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},s=e("./AudioNode"),u=r(s),c=function(e){function t(e,n){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"MediaStreamAudioDestinationNode",context:n,numberOfInputs:1,numberOfOutputs:0,channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"})}return i(t,e),t}(u["default"]);n["default"]=c,t.exports=n["default"]},{"./AudioNode":7}],26:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,
configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=t("./utils"),l=o(c),f=t("./AudioNode"),p=o(f),h=function(t){function n(t,r,o){i(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t,{name:"MediaStreamAudioSourceNode",context:r,numberOfInputs:0,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.inspector.describe("constructor",function(t){t(l["default"].isInstanceOf(o,e.MediaStream),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(o,"mediaStream","MediaStream")))})})}return a(n,t),n}(p["default"]);r["default"]=h,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AudioNode":7,"./utils":44}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=e("./utils/Immigration"),c=r(u),l=e("./Event"),f=r(l),p=c["default"].getInstance(),h=function(e){function t(e,n){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"complete",n),p.check(e,function(){throw new TypeError("Illegal constructor")}),this._.node=n}return i(t,e),a(t,[{key:"$name",get:function(){return"OfflineAudioCompletionEvent"}},{key:"$node",get:function(){return this._.node}}]),t}(f["default"]);n["default"]=h,t.exports=n["default"]},{"./Event":18,"./utils/Immigration":40}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e){var t=this;return this._.inspector.describe(e,[],function(t){t("enabled"===S.getState("AudioContext#"+e),function(e){throw new TypeError(e.plain(a(["\n        ",";\n        not enabled\n      "],["\n        ",";\n        not enabled\n      "]),e.form))})}),new Promise(function(n,r){t._.inspector.describe(e,[],function(t){t(!1,function(t){r(new Error(t.plain(a(["\n          ",";\n          Cannot "," on an OfflineAudioContext\n        "],["\n          ",";\n          Cannot "," on an OfflineAudioContext\n        "]),t.form,e)))})})})}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},l=e("./utils"),f=r(l),p=e("./utils/Configuration"),h=r(p),d=e("./utils/Immigration"),v=r(d),m=e("./Event"),g=r(m),y=e("./AudioContext"),b=r(y),_=e("./AudioBuffer"),w=r(_),x=e("./OfflineAudioCompletionEvent"),E=r(x),S=h["default"].getInstance(),C=v["default"].getInstance(),T=function(e){function t(e,n,r){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._.inspector.describe("constructor",function(t){t(f["default"].isPositiveInteger(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"numberOfChannels","positive integer")))}),t(f["default"].isPositiveInteger(n),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"length","positive integer")))}),t(f["default"].isPositiveInteger(r),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"sampleRate","positive integer")))})}),this._.sampleRate=r,this._.oncomplete=null,this._.numberOfChannels=e,this._.length=n,this._.rendering=!1,this._.resolve=null,this._.state="suspended"}return i(t,e),u(t,[{key:"suspend",value:function(){return s.call(this,"suspend")}},{key:"resume",value:function(){return s.call(this,"resume")}},{key:"close",value:function(){return s.call(this,"close")}},{key:"startRendering",value:function(){function e(){this._.inspector.describe("startRendering",function(e){e(!r,function(e){throw new Error(e.plain(a(["\n            ",";\n            cannot call startRendering more than once\n          "],["\n            ",";\n            cannot call startRendering more than once\n          "]),e.form))})})}var t=this,n="promise"===S.getState("OfflineAudioContext#startRendering"),r=this._.rendering;return this._.rendering=!0,n?new Promise(function(n){e.call(t),t._.resolve=n,t._.state="running",t.dispatchEvent(new g["default"]("statechange",t))}):(e.call(this),this._.state="running",void this.dispatchEvent(new g["default"]("statechange",this)))}},{key:"_process",value:function(e){var t=this;if(this._.rendering&&!(this._.length<=this._.processedSamples)){for(var n=this._.microCurrentTime+e;this._.microCurrentTime<n;){var r=Math.min(this._.microCurrentTime+1e3,n),o=Math.floor(r/1e6*this.sampleRate),i=o-this._.processedSamples;if(this.destination.$process(i,++this._.tick),this._.microCurrentTime=r,this._.processedSamples=o,this._.length<=this._.processedSamples)break}if(this._.length<=this._.processedSamples){var a=C.apply(function(e){return new w["default"](e,t,t._.numberOfChannels,t._.length,t.sampleRate)}),s=C.apply(function(e){return new E["default"](e,t)});s.renderedBuffer=a,this._.state="closed",this.dispatchEvent(s),null!==this._.resolve&&(this._.resolve(a),this._.resolve=null),this.dispatchEvent(new g["default"]("statechange",this))}}}},{key:"oncomplete",get:function(){return this._.oncomplete},set:function(e){this._.inspector.describe("oncomplete",function(t){t(f["default"].isNullOrFunction(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"value","function")))})}),this._.oncomplete=e}},{key:"$name",get:function(){return"OfflineAudioContext"}}]),t}(b["default"]);n["default"]=T,t.exports=n["default"]},{"./AudioBuffer":2,"./AudioContext":4,"./Event":18,"./OfflineAudioCompletionEvent":27,"./utils":44,"./utils/Configuration":37,"./utils/Immigration":40}],29:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},l=t("./utils"),f=o(l),p=t("./utils/Enumerator"),h=o(p),d=t("./utils/Immigration"),v=o(d),m=t("./AudioNode"),g=o(m),y=t("./AudioParam"),b=o(y),_=t("./Event"),w=o(_),x=v["default"].getInstance(),E=function(t){function n(e,t){var r=this;i(this,n),c(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e,{name:"OscillatorNode",context:t,numberOfInputs:0,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.type="sine",this._.frequency=x.apply(function(e){return new b["default"](e,r,"frequency",440,0,1e5)}),this._.detune=x.apply(function(e){return new b["default"](e,r,"detune",0,-4800,4800)}),this._.onended=null,this._.custom=null,this._.startTime=1/0,this._.stopTime=1/0,this._.firedOnEnded=!1,this._.JSONKeys=n.$JSONKeys.slice()}return a(n,t),u(n,[{key:"start",value:function(e){var t=this;arguments.length<1&&(e=0),this._.inspector.describe("start",function(n){n(f["default"].isPositiveNumber(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"when","positive number")))}),n(t._.startTime===1/0,function(e){throw new Error(e.plain(s(["\n          ",";\n          cannot start more than once\n        "],["\n          ",";\n          cannot start more than once\n        "]),e.form))})}),this._.startTime=e}},{key:"stop",value:function(e){var t=this;arguments.length<1&&(e=0),this._.inspector.describe("stop",function(n){n(f["default"].isPositiveNumber(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"when","positive number")))}),n(t._.startTime!==1/0,function(e){throw new Error(e.plain(s(["\n          ",";\n          cannot call stop without calling start first\n        "],["\n          ",";\n          cannot call stop without calling start first\n        "]),e.form))}),n(t._.stopTime===1/0,function(e){throw new Error(e.plain(s(["\n          ",";\n          cannot stop more than once\n        "],["\n          ",";\n          cannot stop more than once\n        "]),e.form))})}),this._.stopTime=e}},{key:"setPeriodicWave",value:function(t){this._.inspector.describe("setPeriodicWave",function(n){n(f["default"].isInstanceOf(t,e.PeriodicWave),function(e){throw new TypeError(e.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"periodicWave","PeriodicWave")))})}),this._.type="custom",this._.custom=t}},{key:"$stateAtTime",value:function(e){var t=f["default"].toSeconds(e);return this._.startTime===1/0?"UNSCHEDULED":t<this._.startTime?"SCHEDULED":t<this._.stopTime?"PLAYING":"FINISHED"}},{key:"_process",value:function(){this._.firedOnEnded||"FINISHED"!==this.$stateAtTime(this.context.currentTime)||(this.dispatchEvent(new w["default"]("ended",this)),this._.firedOnEnded=!0)}},{key:"type",get:function(){return this._.custom?"custom":this._.type},set:function(e){this._.inspector.describe("type",function(t){var n=new h["default"](["sine","square","sawtooth","triangle"]);t(n.contains(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"type",n.toString())))})}),this._.type=e}},{key:"frequency",get:function(){return this._.frequency},set:function(e){this._.inspector.describe("frequency",function(t){t.throwReadOnlyTypeError(e)})}},{key:"detune",get:function(){return this._.detune},set:function(e){this._.inspector.describe("detune",function(t){t.throwReadOnlyTypeError(e)})}},{key:"onended",get:function(){return this._.onended},set:function(e){this._.inspector.describe("onended",function(t){t(f["default"].isNullOrFunction(e),function(t){throw new TypeError(t.plain(s(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"onended","function")))})}),this._.onended=e}},{key:"$state",get:function(){return this.$stateAtTime(this.context.currentTime)}},{key:"$custom",get:function(){return this._.custom}},{key:"$startTime",get:function(){return this._.startTime}},{key:"$stopTime",get:function(){return this._.stopTime}}]),n}(g["default"]);r["default"]=E,E.$JSONKeys=["type","frequency","detune"],n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AudioNode":7,"./AudioParam":9,"./Event":18,"./utils":44,"./utils/Enumerator":38,"./utils/Immigration":40}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=e("./utils"),l=r(c),f=e("./utils/Enumerator"),p=r(f),h=e("./AudioNode"),d=r(h),v=function(e){function t(e,n){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"PannerNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers"}),this._.panningModel="HRTF",this._.distanceModel="inverse",this._.refDistance=1,this._.maxDistance=1e4,this._.rolloffFactor=1,this._.coneInnerAngle=360,this._.coneOuterAngle=360,this._.coneOuterGain=0,this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),s(t,[{key:"setPosition",value:function(e,t,n){this._.inspector.describe("setPosition",function(r){r(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"x","number")))}),r(l["default"].isNumber(t),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"y","number")))}),r(l["default"].isNumber(n),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"z","number")))})})}},{key:"setOrientation",value:function(e,t,n){this._.inspector.describe("setOrientation",function(r){r(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"x","number")))}),r(l["default"].isNumber(t),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"y","number")))}),r(l["default"].isNumber(n),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"z","number")))})})}},{key:"setVelocity",value:function(e,t,n){this._.inspector.describe("setVelocity",function(r){r(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"x","number")))}),r(l["default"].isNumber(t),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(t,"y","number")))}),r(l["default"].isNumber(n),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(n,"z","number")))})})}},{key:"panningModel",get:function(){return this._.panningModel},set:function(e){this._.inspector.describe("panningModel",function(t){var n=new p["default"](["equalpower","HRTF"]);t(n.contains(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"panningModel",n.toString())))})}),this._.panningModel=e}},{key:"distanceModel",get:function(){return this._.distanceModel},set:function(e){this._.inspector.describe("distanceModel",function(t){var n=new p["default"](["linear","inverse","exponential"]);t(n.contains(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"distanceModel",n.toString())))})}),this._.distanceModel=e}},{key:"refDistance",get:function(){return this._.refDistance},set:function(e){this._.inspector.describe("refDistance",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"refDistance","number")))})}),this._.refDistance=e}},{key:"maxDistance",get:function(){return this._.maxDistance},set:function(e){this._.inspector.describe("maxDistance",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"maxDistance","number")))})}),this._.maxDistance=e}},{key:"rolloffFactor",get:function(){return this._.rolloffFactor},set:function(e){this._.inspector.describe("rolloffFactor",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"rolloffFactor","number")))})}),this._.rolloffFactor=e}},{key:"coneInnerAngle",get:function(){return this._.coneInnerAngle},set:function(e){this._.inspector.describe("coneInnerAngle",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"coneInnerAngle","number")))})}),this._.coneInnerAngle=e}},{key:"coneOuterAngle",get:function(){return this._.coneOuterAngle},set:function(e){this._.inspector.describe("coneOuterAngle",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"coneOuterAngle","number")))})}),this._.coneOuterAngle=e}},{key:"coneOuterGain",get:function(){return this._.coneOuterGain},set:function(e){this._.inspector.describe("coneOuterGain",function(t){t(l["default"].isNumber(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"coneOuterGain","number")))})}),this._.coneOuterGain=e}}]),t}(d["default"]);n["default"]=v,v.$JSONKeys=["panningModel","distanceModel","refDistance","maxDistance","rolloffFactor","coneInnerAngle","coneOuterAngle","coneOuterGain"],t.exports=n["default"]},{"./AudioNode":7,"./utils":44,"./utils/Enumerator":38}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./utils"),u=r(s),c=e("./utils/Immigration"),l=r(c),f=e("./utils/Inspector"),p=r(f),h=l["default"].getInstance(),d=function(){function e(t,n,r,a){o(this,e),h.check(t,function(){throw new TypeError("Illegal constructor")}),Object.defineProperty(this,"_",{value:{inspector:new p["default"](this)}}),this._.inspector.describe("constructor",function(e){e(u["default"].isInstanceOf(r,Float32Array),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"real","Float32Array")))}),e(r.length<=4096,function(e){throw new TypeError(e.plain(i(["\n          ",';\n          length of "real" array (',") exceeds allow maximum of 4096\n        "],["\n          ",';\n          length of "real" array (',") exceeds allow maximum of 4096\n        "]),e.form,r.length))}),e(u["default"].isInstanceOf(a,Float32Array),function(e){throw new TypeError(e.plain(i(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(a,"imag","Float32Array")))}),e(a.length<=4096,function(e){throw new TypeError(e.plain(i(["\n          ",';\n          length of "imag" array (',") exceeds allow maximum of 4096\n        "],["\n          ",';\n          length of "imag" array (',") exceeds allow maximum of 4096\n        "]),e.form,a.length))}),e(r.length===a.length,function(e){throw new TypeError(e.plain(i(["\n          ",";\n          length of real array (",") and length of imaginary array (",") must match\n        "],["\n          ",";\n          length of real array (",") and length of imaginary array (",") must match\n        "]),e.form,r.length,a.length))})}),this._.context=n,this._.real=r,this._.imag=a}return a(e,[{key:"$name",get:function(){return"PeriodicWave"}},{key:"$context",get:function(){return this._.context}},{key:"$real",get:function(){return this._.real}},{key:"$imag",get:function(){return this._.imag}}]),e}();n["default"]=d,t.exports=n["default"]},{"./utils":44,"./utils/Immigration":40,"./utils/Inspector":41}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=e("./utils"),l=r(c),f=e("./utils/Immigration"),p=r(f),h=e("./utils/Enumerator"),d=r(h),v=e("./AudioNode"),m=r(v),g=e("./AudioBuffer"),y=r(g),b=e("./AudioProcessingEvent"),_=r(b),w=p["default"].getInstance(),x=function(e){function t(e,n,r,i,s){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"ScriptProcessorNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:i,channelCountMode:"max",channelInterpretation:"speakers"}),this._.inspector.describe("constructor",function(e){var t=new d["default"]([256,512,1024,2048,4096,8192,16384]);e(t.contains(r),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(r,"bufferSize",t.toString())))}),e(l["default"].isPositiveInteger(i),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(i,"numberOfInputChannels","positive integer")))}),e(l["default"].isPositiveInteger(s),function(e){throw new TypeError(e.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),e.form,e.butGot(s,"numberOfOutputChannels","positive integer")))})}),this._.bufferSize=r,this._.onaudioprocess=null,this._.numberOfInputChannels=i,this._.numberOfOutputChannels=s,this._.numSamples=0}return i(t,e),s(t,[{key:"_process",value:function(e){var t=this;if(this._.numSamples-=e,this._.numSamples<=0){this._.numSamples+=this.bufferSize;var n=w.apply(function(e){return new _["default"](e,t)});n.playbackTime=this.context.currentTime+this.bufferSize/this.context.sampleRate,n.inputBuffer=w.apply(function(e){return new y["default"](e,t.context,t._.numberOfInputChannels,t.bufferSize,t.context.sampleRate)}),n.outputBuffer=w.apply(function(e){return new y["default"](e,t.context,t._.numberOfOutputChannels,t.bufferSize,t.context.sampleRate)}),this.dispatchEvent(n)}}},{key:"bufferSize",get:function(){return this._.bufferSize},set:function(e){this._.inspector.describe("bufferSize",function(t){t.throwReadOnlyTypeError(e,"bufferSize")})}},{key:"onaudioprocess",get:function(){return this._.onaudioprocess},set:function(e){this._.inspector.describe("onaudioprocess",function(t){t(l["default"].isNullOrFunction(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"onaudioprocess","function")))})}),this._.onaudioprocess=e}}]),t}(m["default"]);n["default"]=x,t.exports=n["default"]},{"./AudioBuffer":2,"./AudioNode":7,"./AudioProcessingEvent":10,"./utils":44,"./utils/Enumerator":38,"./utils/Immigration":40}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},u=e("./utils/Immigration"),c=r(u),l=e("./AudioNode"),f=r(l),p=e("./AudioParam"),h=r(p),d=c["default"].getInstance(),v=function(e){function t(e,n){var r=this;o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"StereoPannerNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers"}),this._.pan=d.apply(function(e){return new h["default"](e,r,"pan",0,-1,1)}),this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),a(t,[{key:"pan",get:function(){return this._.pan},set:function(e){this._.inspector.describe("pan",function(t){t.throwReadOnlyTypeError(e)})}}]),t}(f["default"]);n["default"]=v,v.$JSONKeys=["pan"],t.exports=n["default"]},{"./AudioNode":7,"./AudioParam":9,"./utils/Immigration":40}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;s=c=u=void 0,r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,n=a,r=!0}},c=e("./utils"),l=r(c),f=e("./utils/Enumerator"),p=r(f),h=e("./AudioNode"),d=r(h),v=function(e){function t(e,n){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{name:"WaveShaperNode",context:n,numberOfInputs:1,numberOfOutputs:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"}),this._.curve=null,this._.oversample="none",this._.JSONKeys=t.$JSONKeys.slice()}return i(t,e),s(t,[{key:"curve",get:function(){return this._.curve},set:function(e){this._.inspector.describe("curve",function(t){t(l["default"].isNullOrInstanceOf(e,Float32Array),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"curve","Float32Array")))})}),this._.curve=e}},{key:"oversample",get:function(){return this._.oversample},set:function(e){this._.inspector.describe("oversample",function(t){var n=new p["default"](["none","2x","4x"]);t(n.contains(e),function(t){throw new TypeError(t.plain(a(["\n          ",";\n          ","\n        "],["\n          ",";\n          ","\n        "]),t.form,t.butGot(e,"oversample",n.toString())))})}),this._.oversample=e}}]),t}(d["default"]);n["default"]=v,v.$JSONKeys=["oversample"],t.exports=n["default"]},{"./AudioNode":7,"./utils":44,"./utils/Enumerator":38}],35:[function(t,n,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={AnalyserNode:e.AnalyserNode,AudioBuffer:e.AudioBuffer,
AudioBufferSourceNode:e.AudioBufferSourceNode,AudioContext:e.AudioContext||e.webkitAudioContext,AudioDestinationNode:e.AudioDestinationNode,AudioListener:e.AudioListener,AudioNode:e.AudioNode,AudioParam:e.AudioParam,AudioProcessingEvent:e.AudioProcessingEvent,BiquadFilterNode:e.BiquadFilterNode,ChannelMergerNode:e.ChannelMergerNode,ChannelSplitterNode:e.ChannelSplitterNode,ConvolverNode:e.ConvolverNode,DelayNode:e.DelayNode,DynamicsCompressorNode:e.DynamicsCompressorNode,GainNode:e.GainNode,MediaElementAudioSourceNode:e.MediaElementAudioSourceNode,MediaStreamAudioDestinationNode:e.MediaStreamAudioDestinationNode,MediaStreamAudioSourceNode:e.MediaStreamAudioSourceNode,OfflineAudioCompletionEvent:e.OfflineAudioCompletionEvent,OfflineAudioContext:e.OfflineAudioContext||e.webkitOfflineAudioContext,OscillatorNode:e.OscillatorNode,PannerNode:e.PannerNode,PeriodicWave:e.PeriodicWave,ScriptProcessorNode:e.ScriptProcessorNode,StereoPannerNode:e.StereoPannerNode,WaveShaperNode:e.WaveShaperNode},n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=t("./utils"),a=o(i),s=t("./utils/Configuration"),u=o(s),c=t("./WebAudioAPI"),l=o(c),f=t("./AnalyserNode"),p=o(f),h=t("./AudioBuffer"),d=o(h),v=t("./AudioBufferSourceNode"),m=o(v),g=t("./AudioContext"),y=o(g),b=t("./AudioDestinationNode"),_=o(b),w=t("./AudioListener"),x=o(w),E=t("./AudioNode"),S=o(E),C=t("./AudioParam"),T=o(C),O=t("./AudioProcessingEvent"),A=o(O),k=t("./BiquadFilterNode"),j=o(k),P=t("./ChannelMergerNode"),N=o(P),M=t("./ChannelSplitterNode"),R=o(M),D=t("./ConvolverNode"),I=o(D),F=t("./DelayNode"),L=o(F),B=t("./DynamicsCompressorNode"),U=o(B),q=t("./Element"),V=o(q),z=t("./Event"),W=o(z),H=t("./EventTarget"),G=o(H),Y=t("./GainNode"),$=o(Y),X=t("./HTMLElement"),K=o(X),J=t("./HTMLMediaElement"),Q=o(J),Z=t("./MediaElementAudioSourceNode"),ee=o(Z),te=t("./MediaStream"),ne=o(te),re=t("./MediaStreamAudioDestinationNode"),oe=o(re),ie=t("./MediaStreamAudioSourceNode"),ae=o(ie),se=t("./OfflineAudioCompletionEvent"),ue=o(se),ce=t("./OfflineAudioContext"),le=o(ce),fe=t("./OscillatorNode"),pe=o(fe),he=t("./PannerNode"),de=o(he),ve=t("./PeriodicWave"),me=o(ve),ge=t("./ScriptProcessorNode"),ye=o(ge),be=t("./StereoPannerNode"),_e=o(be),we=t("./WaveShaperNode"),xe=o(we),Ee=44100,Se=u["default"].getInstance(),Ce={VERSION:a["default"].getAPIVersion(),utils:a["default"],sampleRate:Ee,AnalyserNode:p["default"],AudioBuffer:d["default"],AudioBufferSourceNode:m["default"],AudioContext:y["default"],AudioDestinationNode:_["default"],AudioListener:x["default"],AudioNode:S["default"],AudioParam:T["default"],AudioProcessingEvent:A["default"],BiquadFilterNode:j["default"],ChannelMergerNode:N["default"],ChannelSplitterNode:R["default"],ConvolverNode:I["default"],DelayNode:L["default"],DynamicsCompressorNode:U["default"],Element:V["default"],Event:W["default"],EventTarget:G["default"],GainNode:$["default"],HTMLElement:K["default"],HTMLMediaElement:Q["default"],MediaElementAudioSourceNode:ee["default"],MediaStream:ne["default"],MediaStreamAudioDestinationNode:oe["default"],MediaStreamAudioSourceNode:ae["default"],OfflineAudioCompletionEvent:ue["default"],OfflineAudioContext:le["default"],OscillatorNode:pe["default"],PannerNode:de["default"],PeriodicWave:me["default"],ScriptProcessorNode:ye["default"],StereoPannerNode:_e["default"],WaveShaperNode:xe["default"],getState:function(e){return Se.getState(e)},setState:function(e,t){Se.setState(e,t)},use:function(){e.AnalyserNode=Ce.AnalyserNode,e.AudioBuffer=Ce.AudioBuffer,e.AudioBufferSourceNode=Ce.AudioBufferSourceNode,e.AudioContext=Ce.AudioContext,e.AudioDestinationNode=Ce.AudioDestinationNode,e.AudioListener=Ce.AudioListener,e.AudioNode=Ce.AudioNode,e.AudioParam=Ce.AudioParam,e.AudioProcessingEvent=Ce.AudioProcessingEvent,e.BiquadFilterNode=Ce.BiquadFilterNode,e.ChannelMergerNode=Ce.ChannelMergerNode,e.ChannelSplitterNode=Ce.ChannelSplitterNode,e.ConvolverNode=Ce.ConvolverNode,e.DelayNode=Ce.DelayNode,e.DynamicsCompressorNode=Ce.DynamicsCompressorNode,e.GainNode=Ce.GainNode,e.MediaElementAudioSourceNode=Ce.MediaElementAudioSourceNode,e.MediaStreamAudioDestinationNode=Ce.MediaStreamAudioDestinationNode,e.MediaStreamAudioSourceNode=Ce.MediaStreamAudioSourceNode,e.OfflineAudioCompletionEvent=Ce.OfflineAudioCompletionEvent,e.OfflineAudioContext=Ce.OfflineAudioContext,e.OscillatorNode=Ce.OscillatorNode,e.PannerNode=Ce.PannerNode,e.PeriodicWave=Ce.PeriodicWave,e.ScriptProcessorNode=Ce.ScriptProcessorNode,e.StereoPannerNode=Ce.StereoPannerNode,e.WaveShaperNode=Ce.WaveShaperNode,e.WebAudioTestAPI=Ce},unuse:function(){e.AnalyserNode=l["default"].AnalyserNode,e.AudioBuffer=l["default"].AudioBuffer,e.AudioBufferSourceNode=l["default"].AudioBufferSourceNode,e.AudioContext=l["default"].AudioContext,e.AudioDestinationNode=l["default"].AudioDestinationNode,e.AudioListener=l["default"].AudioListener,e.AudioNode=l["default"].AudioNode,e.AudioParam=l["default"].AudioParam,e.AudioProcessingEvent=l["default"].AudioProcessingEvent,e.BiquadFilterNode=l["default"].BiquadFilterNode,e.ChannelMergerNode=l["default"].ChannelMergerNode,e.ChannelSplitterNode=l["default"].ChannelSplitterNode,e.ConvolverNode=l["default"].ConvolverNode,e.DelayNode=l["default"].DelayNode,e.DynamicsCompressorNode=l["default"].DynamicsCompressorNode,e.GainNode=l["default"].GainNode,e.MediaElementAudioSourceNode=l["default"].MediaElementAudioSourceNode,e.MediaStreamAudioDestinationNode=l["default"].MediaStreamAudioDestinationNode,e.MediaStreamAudioSourceNode=l["default"].MediaStreamAudioSourceNode,e.OfflineAudioCompletionEvent=l["default"].OfflineAudioCompletionEvent,e.OfflineAudioContext=l["default"].OfflineAudioContext,e.OscillatorNode=l["default"].OscillatorNode,e.PannerNode=l["default"].PannerNode,e.PeriodicWave=l["default"].PeriodicWave,e.ScriptProcessorNode=l["default"].ScriptProcessorNode,e.StereoPannerNode=l["default"].StereoPannerNode,e.WaveShaperNode=l["default"].WaveShaperNode}};r["default"]=Ce,n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./AnalyserNode":1,"./AudioBuffer":2,"./AudioBufferSourceNode":3,"./AudioContext":4,"./AudioDestinationNode":5,"./AudioListener":6,"./AudioNode":7,"./AudioParam":9,"./AudioProcessingEvent":10,"./BiquadFilterNode":11,"./ChannelMergerNode":12,"./ChannelSplitterNode":13,"./ConvolverNode":14,"./DelayNode":15,"./DynamicsCompressorNode":16,"./Element":17,"./Event":18,"./EventTarget":19,"./GainNode":20,"./HTMLElement":21,"./HTMLMediaElement":22,"./MediaElementAudioSourceNode":23,"./MediaStream":24,"./MediaStreamAudioDestinationNode":25,"./MediaStreamAudioSourceNode":26,"./OfflineAudioCompletionEvent":27,"./OfflineAudioContext":28,"./OscillatorNode":29,"./PannerNode":30,"./PeriodicWave":31,"./ScriptProcessorNode":32,"./StereoPannerNode":33,"./WaveShaperNode":34,"./WebAudioAPI":35,"./utils":44,"./utils/Configuration":37}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./api.json"),s=r(a),u=null,c=function(){function e(){var t=this;o(this,e),this._states={},Object.keys(s["default"]).forEach(function(e){t._states[e]=s["default"][e].states[0]})}return i(e,[{key:"getState",value:function(e){if(!this._states.hasOwnProperty(e))throw new TypeError("invalid state name "+e);return this._states[e]}},{key:"setState",value:function(e,t){var n=this;if(e&&"object"==typeof e){var r=function(){var t=e;return Object.keys(t).forEach(function(e){n.setState(e,t[e])}),{v:void 0}}();if("object"==typeof r)return r.v}if(!this._states.hasOwnProperty(e))throw new TypeError("invalid state name "+e);if(-1===s["default"][e].states.indexOf(t))throw new TypeError("invalid state value "+t+" on "+e);this._states[e]=t}}],[{key:"getInstance",value:function(){return null===u&&(u=new e),u}}]),e}();n["default"]=c,t.exports=n["default"]},{"./api.json":43}],38:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];r(this,e),this.list=t}return o(e,[{key:"contains",value:function(e){return-1!==this.list.indexOf(e)}},{key:"toString",value:function(){return"enum { "+this.list.join(", ")+" }"}}]),e}();n["default"]=i,t.exports=n["default"]},{}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return/^function (\w+\([^)]*\))/.exec(e.toString())[1]}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./"),u=r(s),c=function(){function e(t,n,r){o(this,e),this.instance=t,this.methodName=n,this.args=r}return a(e,[{key:"plain",value:function(e){for(var t=e[0],n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];for(var i=0;i<r.length;i++)t+=r[i]+e[i+1];return t.trim().replace(/\s+/g," ")}},{key:"butGot",value:function(e,t,n){return'"'+t+'" should be '+u["default"].article(n)+" "+n+", but got: "+u["default"].prettyPrint(e)}},{key:"outsideTheRange",value:function(e,t,n,r){return'"'+t+'" provided ('+e+") is outside the range ["+n+", "+r+")"}},{key:"form",get:function(){var e=this.instance.constructor.name;if("constructor"===this.methodName)e=this.args?"new "+e+"("+this.args.join(", ")+")":"new "+i(this.instance.constructor);else if(this.methodName)if(this.args)e+="#"+this.methodName+"("+this.args.join(", ")+")";else{var t=Object.getOwnPropertyDescriptor(this.instance,this.methodName)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.instance),this.methodName);t&&"function"==typeof t.value&&(e+="#"+i(t.value))}return e}}]),e}();n["default"]=c,t.exports=n["default"]},{"./":44}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=null,a=function(){function e(){r(this,e),this._admissions=[]}return o(e,[{key:"apply",value:function(e){var t={token:{},count:0};this._admissions.push(t);var n=e(t.token),r=this._admissions.pop();if(t!==r||1!==r.count)throw new Error("invalid admission");return n}},{key:"check",value:function(e,t){var n=this._admissions.pop();n&&n.token===e&&0===n.count++||t(),this._admissions.push(n)}}],[{key:"getInstance",value:function(){return null===i&&(i=new e),i}}]),e}();n["default"]=a,t.exports=n["default"]},{}],41:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./Formatter"),u=r(s),c=function(){function e(t){o(this,e),this.instance=t}return a(e,[{key:"describe",value:function(e,t,n){function r(e,t){e||t.call(s.instance,a)}if("function"==typeof t){var o=[null,t];t=o[0],n=o[1]}var a=new u["default"](this.instance,e,t),s=this;r.throwReadOnlyTypeError=function(){throw new TypeError(a.plain(i(["\n        ",';\n        attempt to write a readonly property: "','"\n      '],["\n        ",';\n        attempt to write a readonly property: "','"\n      ']),a.form,e))},n.call(this.instance,r)}}]),e}();n["default"]=c,t.exports=n["default"]},{"./Formatter":39}],42:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./"),s=r(a),u=function(){function e(t,n){o(this,e),this.node=t,this.index=n,this.inputs=[],this.outputs=[]}return i(e,[{key:"connect",value:function(e){s["default"].appendIfNotExists(this.outputs,e),s["default"].appendIfNotExists(e.inputs,this)}},{key:"disconnectAll",value:function(){var e=this;this.outputs.splice(0).forEach(function(t){s["default"].removeIfExists(t.inputs,e)})}},{key:"disconnectNode",value:function(e){for(var t=this.outputs.length-1;t>=0;t--){var n=this.outputs[t];n.node===e&&(this.outputs.splice(t,1),s["default"].removeIfExists(n.inputs,this))}}},{key:"disconnectChannel",value:function(e,t){for(var n=this.outputs.length-1;n>=0;n--){var r=this.outputs[n];r.node===e&&r.index===t&&(this.outputs.splice(n,1),s["default"].removeIfExists(r.inputs,this))}}},{key:"isConnected",value:function(e){return this.outputs.some(function(t){return t.node===e})}},{key:"process",value:function(e,t){this.inputs.forEach(function(n){n.node.$process(e,t)})}},{key:"toJSON",value:function(e){return this.inputs.map(function(t){return t.node.toJSON(e)})}}]),e}();n["default"]=u,t.exports=n["default"]},{"./":44}],43:[function(e,t,n){t.exports={"AnalyserNode#getFloatTimeDomainData":{states:["disabled","enabled"]},"AudioBuffer#copyToChannel":{states:["disabled","enabled"]},"AudioBuffer#copyFromChannel":{states:["disabled","enabled"]},"AudioContext#createAudioWorker":{states:["disabled","enabled"]},"AudioContext#createStereoPanner":{states:["disabled","enabled"]},"AudioContext#decodeAudioData":{states:["void","promise"]},"AudioContext#close":{states:["disabled","enabled"]},"AudioContext#suspend":{states:["disabled","enabled"]},"AudioContext#resume":{states:["disabled","enabled"]},"OfflineAudioContext#startRendering":{states:["void","promise"]},"AudioNode#disconnect":{states:["channel","selective"]}}},{}],44:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e.indexOf(t);-1===n&&e.push(t)}function i(e){return/[aeiou]/i.test(e.charAt(0))?"an":"a"}function a(e,t){return"undefined"!=typeof e?e:t}function s(e){for(var t=e.length-1;t>=0;t--)if("undefined"!=typeof e[t])return t+1;return 0}function u(e,t){for(var n=0;n<e.length;n++)e[n]="function"==typeof t?t(n):t;return e}function c(){return B["default"]}function l(e){return"boolean"==typeof e}function f(e){return"function"==typeof e}function p(e,t){return e instanceof t}function h(e){return null===e||f(e)}function d(e,t){return null===e||p(e,t)}function v(e){return!isNaN(e)&&"number"==typeof e}function m(e){return v(e)&&e===(0|e)}function g(e){return v(e)&&e>=0}function y(e){return g(e)&&m(e)}function b(e){return"string"==typeof e}function _(e){return"undefined"==typeof e}function w(e,t){var n=e.indexOf(t);return-1!==n?e.splice(n,1)[0]:null}function x(e){return e.hasOwnProperty("$id")?e.$name+"#"+e.$id:e.$name}function E(e){if(null===e||"undefined"==typeof e)return String(e);var t=typeof e;if("number"===t||"boolean"===t)return String(e);if("string"===t)return"'"+e+"'";if(Array.isArray(e))return"[ "+e.map(E).join(", ")+" ]";if(e.constructor==={}.constructor)return"{ "+Object.keys(e).map(function(t){return t+": "+E(e[t])}).join(", ")+"}";var n=e.constructor.name||Object.prototype.toString.call(e).slice(8,-1);return i(n)+" "+n}function S(e){function t(){}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),t}function C(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=void 0;return-1!==n.indexOf(e)?"<circular:"+x(e)+">":(n.push(e),r=t(e,n),n.pop(),r)}function T(e){var t=0;if("number"==typeof e)return t=Math.floor(1e3*e*1e3)||0,Math.max(U,Math.min(t,q));var n=/^([0-5]\d):([0-5]\d)\.(\d\d\d)$/.exec(e);return n?(t+=+n[1],t*=60,t+=+n[2],t*=1e3,t+=+n[3],t*=1e3,Math.max(U,Math.min(t,q))):t}function O(e){return T(e)/1e6}Object.defineProperty(n,"__esModule",{value:!0}),n.appendIfNotExists=o,n.article=i,n.defaults=a,n.countArguments=s,n.fill=u,n.getAPIVersion=c,n.isBoolean=l,n.isFunction=f,n.isInstanceOf=p,n.isNullOrFunction=h,n.isNullOrInstanceOf=d,n.isNumber=v,n.isInteger=m,n.isPositiveNumber=g,n.isPositiveInteger=y,n.isString=b,n.isUndefined=_,n.removeIfExists=w,n.toNodeName=x,n.prettyPrint=E,n.preventSuperCall=S,n.toJSON=C,n.toMicroseconds=T,n.toSeconds=O;var A=e("./Configuration"),k=r(A),j=e("./Enumerator"),P=r(j),N=e("./Formatter"),M=r(N),R=e("./Immigration"),D=r(R),I=e("./Inspector"),F=r(I),L=e("../version"),B=r(L),U=0,q=864e8;n["default"]={Configuration:k["default"],Enumerator:P["default"],Formatter:M["default"],Immigration:D["default"],Inspector:F["default"],appendIfNotExists:o,article:i,countArguments:s,defaults:a,fill:u,getAPIVersion:c,isBoolean:l,isFunction:f,isInstanceOf:p,isNullOrFunction:h,isNullOrInstanceOf:d,isNumber:v,isInteger:m,isPositiveNumber:g,isPositiveInteger:y,isString:b,isUndefined:_,removeIfExists:w,toNodeName:x,prettyPrint:E,preventSuperCall:S,toJSON:C,toMicroseconds:T,toSeconds:O}},{"../version":45,"./Configuration":37,"./Enumerator":38,"./Formatter":39,"./Immigration":40,"./Inspector":41}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]="0.3.6",t.exports=n["default"]},{}],46:[function(t,n,r){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=t("./WebAudioTestAPI"),a=o(i);e.WEB_AUDIO_TEST_API_IGNORE||a["default"].use(),r["default"]=a["default"],n.exports=r["default"]}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebAudioTestAPI":36}]},{},[46])}).call(t,function(){return this}())},function(e,t,n){function r(e){return n(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./app/actions/collection-actions_spec.js":814,"./app/song-loader_spec.js":815,"./app/stores/music-select-store_spec.js":816,"./app/stores/options-store_spec.js":817,"./cachier/cachier_spec.js":818,"./dummy/dummy_spec.js":819,"./game/audio/player-audio_spec.js":820,"./game/audio/wave-factory_spec.js":821,"./game/display/note-area_spec.js":822,"./game/display/player-display_spec.js":823,"./game/input/game-input_spec.js":824,"./game/input/touch-plugin_spec.js":825,"./game/loaders/samples-loader_spec.js":826,"./game/notechart_spec.js":827,"./game/state/player-state_spec.js":828,"./game/state/player-stats_spec.js":829,"./online/online_spec.js":830,"./progress/formatters_spec.js":831,"./progress/progress_spec.js":832,"./progress/utils_spec.js":833,"./resources/resources_spec.js":834,"./sampling-master/sampling-master_spec.js":835,"./scintillator/expression_spec.js":836,"./scintillator/nodes/concerns/animation_spec.js":837,"./scintillator/scintillator_spec.js":838,"./utils/download_spec.js":839,"./utils/observable_spec.js":840,"./utils/read-blob_spec.js":841};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1070}]);
//# sourceMappingURL=testMode-7a6e44faf9d58cf5d5b7.js.map