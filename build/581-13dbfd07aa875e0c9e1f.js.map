{"version":3,"file":"build/581-13dbfd07aa875e0c9e1f.js","mappings":"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","sources":["file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingScene.scss","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneProgress.scss","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneProgressBar.scss","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneSongInfo.scss","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/game-scene.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/audio/index.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/clock.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/game-timer.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/input/dual-input.ts","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/input/omni-input-plugin.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/game-controller.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/loaders/loadImage.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/loaders/game-loader.ts","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/loaders/multitasker.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingScene.scss?[contenthash]","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneProgress.scss?[contenthash]","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneProgressBar.scss?[contenthash]","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneProgressBar.tsx","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneProgress.tsx","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneSongInfo.scss?[contenthash]","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingSceneSongInfo.tsx","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/LoadingScene.tsx","file:///home/runner/work/bemuse/bemuse/bemuse/src/resources/resolveRelativeResource.ts","file:///home/runner/work/bemuse/bemuse/packages/bemuse-notechart/lib/loader/BmsonNotechartLoader.js","file:///home/runner/work/bemuse/bemuse/packages/bemuse-notechart/lib/loader/index.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"bemuse/ui/images/bg/a.jpg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@charset \\\"UTF-8\\\";\\n.LoadingScene {\\n  background: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") center no-repeat;\\n  background-size: cover;\\n}\\n.LoadingSceneのinfo {\\n  position: absolute;\\n  top: 40%;\\n  left: 0;\\n  right: 0;\\n  transform: translateY(-50%);\\n}\\n.LoadingScene .LoadingSceneSongInfo {\\n  animation: loading-scene--loading-scene-song-info--animation 1s ease;\\n}\\n.LoadingScene .LoadingSceneProgress {\\n  position: absolute;\\n  bottom: 10px;\\n  left: 10px;\\n}\\n.LoadingSceneのimage {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n.LoadingSceneのimage img {\\n  width: 100%;\\n  height: 100%;\\n  display: block;\\n  object-fit: cover;\\n  animation: loading-scene--eyecatch-fade 0.8s;\\n}\\n.LoadingSceneのflash {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  opacity: 0;\\n  pointer-events: none;\\n  background: white;\\n  animation: loading-scene--flash-animation 0.8s ease-out;\\n}\\n.LoadingSceneのcover {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  opacity: 0;\\n  pointer-events: none;\\n  background: black;\\n}\\n.Scene.is-exiting .LoadingSceneのinfo {\\n  animation: loading-scene--info-exit 0.3s linear;\\n}\\n.Scene.is-exiting .LoadingSceneのflash {\\n  animation: loading-scene--flash-exit 0.3s ease;\\n}\\n.Scene.is-exiting .LoadingSceneのcover {\\n  animation: loading-scene--cover-exit 0.3s linear;\\n  opacity: 1;\\n}\\n\\n@keyframes loading-scene--eyecatch-fade {\\n  0% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n@keyframes loading-scene--loading-scene-song-info--animation {\\n  0% {\\n    transform: scale(1.5, 0.02);\\n  }\\n  100% {\\n    transform: scale(1, 1);\\n  }\\n}\\n@keyframes loading-scene--info-exit {\\n  0% {\\n    transform: translateY(-50%) scale(1, 1);\\n  }\\n  100% {\\n    transform: translateY(-50%) scale(2, 2);\\n  }\\n}\\n@keyframes loading-scene--cover-exit {\\n  0% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n@keyframes loading-scene--flash-animation {\\n  0% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n@keyframes loading-scene--flash-exit {\\n  0% {\\n    opacity: 0.5;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./game/ui/LoadingScene.scss\",\"webpack://./ui/common.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAEhB;EC+CE,oEAAA;EACA,sBAAA;AD9CF;AACE;EACE,kBAAA;EACA,QAAA;EACA,OAAA;EACA,QAAA;EACA,2BAAA;AACJ;AAEE;EACE,oEAAA;AAAJ;AAGE;EACE,kBAAA;EACA,YAAA;EACA,UAAA;AADJ;AAIE;EACE,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,OAAA;AAFJ;AAKE;EACE,WAAA;EACA,YAAA;EACA,cAAA;EACA,iBAAA;EACA,4CAAA;AAHJ;AAME;EACE,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,OAAA;EACA,UAAA;EACA,oBAAA;EAEA,iBAAA;EACA,uDAAA;AALJ;AAQE;EACE,kBAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,OAAA;EACA,UAAA;EACA,oBAAA;EAEA,iBAAA;AAPJ;AAWI;EACE,+CAAA;AATN;AAWI;EACE,8CAAA;AATN;AAWI;EACE,gDAAA;EACA,UAAA;AATN;;AAcA;EACE;IACE,UAAA;EAXF;EAaA;IACE,UAAA;EAXF;AACF;AAcA;EACE;IACE,2BAAA;EAZF;EAcA;IACE,sBAAA;EAZF;AACF;AAeA;EACE;IACE,uCAAA;EAbF;EAeA;IACE,uCAAA;EAbF;AACF;AAgBA;EACE;IACE,UAAA;EAdF;EAgBA;IACE,UAAA;EAdF;AACF;AAiBA;EACE;IACE,UAAA;EAfF;EAiBA;IACE,UAAA;EAfF;AACF;AAkBA;EACE;IACE,YAAA;EAhBF;EAkBA;IACE,UAAA;EAhBF;AACF\",\"sourcesContent\":[\"@import '~bemuse/ui/common';\\n\\n.LoadingScene {\\n  @include main-bg;\\n\\n  &のinfo {\\n    position: absolute;\\n    top: 40%;\\n    left: 0;\\n    right: 0;\\n    transform: translateY(-50%);\\n  }\\n\\n  .LoadingSceneSongInfo {\\n    animation: loading-scene--loading-scene-song-info--animation 1s ease;\\n  }\\n\\n  .LoadingSceneProgress {\\n    position: absolute;\\n    bottom: 10px;\\n    left: 10px;\\n  }\\n\\n  &のimage {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n\\n  &のimage img {\\n    width: 100%;\\n    height: 100%;\\n    display: block;\\n    object-fit: cover;\\n    animation: loading-scene--eyecatch-fade 0.8s;\\n  }\\n\\n  &のflash {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    opacity: 0;\\n    pointer-events: none;\\n\\n    background: white;\\n    animation: loading-scene--flash-animation 0.8s ease-out;\\n  }\\n\\n  &のcover {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    opacity: 0;\\n    pointer-events: none;\\n\\n    background: black;\\n  }\\n\\n  .Scene.is-exiting & {\\n    &のinfo {\\n      animation: loading-scene--info-exit 0.3s linear;\\n    }\\n    &のflash {\\n      animation: loading-scene--flash-exit 0.3s ease;\\n    }\\n    &のcover {\\n      animation: loading-scene--cover-exit 0.3s linear;\\n      opacity: 1;\\n    }\\n  }\\n}\\n\\n@keyframes loading-scene--eyecatch-fade {\\n  0% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes loading-scene--loading-scene-song-info--animation {\\n  0% {\\n    transform: scale(1.5, 0.02);\\n  }\\n  100% {\\n    transform: scale(1, 1);\\n  }\\n}\\n\\n@keyframes loading-scene--info-exit {\\n  0% {\\n    transform: translateY(-50%) scale(1, 1);\\n  }\\n  100% {\\n    transform: translateY(-50%) scale(2, 2);\\n  }\\n}\\n\\n@keyframes loading-scene--cover-exit {\\n  0% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes loading-scene--flash-animation {\\n  0% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes loading-scene--flash-exit {\\n  0% {\\n    opacity: 0.5;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\",\"// The common library for user interface.\\n// This file must not emit any CSS code! It can only contain variable,\\n// mixin, or silent class declarations.\\n\\n$ui-font: 'Source Sans Pro', 'Segoe UI', 'Helvetica Neue', sans-serif;\\n$link-color: #039;\\n\\n@mixin full-screen {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n@mixin full-screen-fixed {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n@mixin centered {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n@mixin scrolling-y {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n\\n@mixin scrolling-x {\\n  overflow-x: auto;\\n  overflow-y: hidden;\\n  -webkit-overflow-scrolling: touch;\\n}\\n\\n@mixin center-content {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n@mixin scene-background($url) {\\n  background: $url center no-repeat;\\n  background-size: cover;\\n}\\n\\n@mixin main-bg {\\n  @include scene-background(url(~bemuse/ui/images/bg/a.jpg));\\n}\\n\\n@mixin soft-shadow {\\n  box-shadow: 0 0.1vh 3vh rgba(#000, 0.1);\\n}\\n\\n@mixin button {\\n  font: inherit;\\n  background: #252423 linear-gradient(to bottom, #454443, #151413);\\n  border: 1px solid #555453;\\n  padding: 0.5ex 1.3ex;\\n  color: #fff;\\n  border-radius: 4px;\\n  box-shadow: 0 1px 3px rgba(#000, 0.5);\\n  &:hover {\\n    border-color: #656463;\\n  }\\n  &:focus {\\n    border-color: #8b8685;\\n    outline: 0;\\n  }\\n  &:active {\\n    background: #252423 linear-gradient(to top, #353433, #151413);\\n    border-color: #454443;\\n  }\\n}\\n\\n@mixin input {\\n  font: inherit;\\n  background: #252423 linear-gradient(to bottom, #151413, #292827);\\n  border: 1px solid #555453;\\n  padding: 0.5ex 1.3ex;\\n  color: #fff;\\n  border-radius: 4px;\\n  box-shadow: 0 1px 3px rgba(#000, 0.5);\\n  &:hover {\\n    border-color: #656463;\\n  }\\n  &:focus {\\n    border-color: #8b8685;\\n    outline: 0;\\n  }\\n  &:active {\\n    border-color: #454443;\\n  }\\n  &::selection {\\n    background: #8b8685;\\n    color: #8e8;\\n  }\\n}\\n\\n@mixin input-button-zindex($nominal) {\\n  position: relative;\\n  z-index: $nominal;\\n  &:hover {\\n    z-index: 30;\\n  }\\n  &:focus {\\n    z-index: 40;\\n  }\\n  &:active {\\n    z-index: 10;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@charset \\\"UTF-8\\\";\\n.LoadingSceneProgress {\\n  color: #333;\\n  font-size: 11px;\\n}\\n.LoadingSceneProgress .LoadingSceneProgressBar {\\n  display: inline-block;\\n  vertical-align: middle;\\n  width: 48px;\\n  margin-right: 4px;\\n  position: relative;\\n  top: -1px;\\n}\\n.LoadingSceneProgressのextra {\\n  font-size: 83%;\\n  opacity: 0.7;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./game/ui/LoadingSceneProgress.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAAhB;EACE,WAAA;EACA,eAAA;AAEF;AADE;EACE,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,iBAAA;EACA,kBAAA;EACA,SAAA;AAGJ;AADE;EACE,cAAA;EACA,YAAA;AAGJ\",\"sourcesContent\":[\".LoadingSceneProgress {\\n  color: #333;\\n  font-size: 11px;\\n  .LoadingSceneProgressBar {\\n    display: inline-block;\\n    vertical-align: middle;\\n    width: 48px;\\n    margin-right: 4px;\\n    position: relative;\\n    top: -1px;\\n  }\\n  &のextra {\\n    font-size: 83%;\\n    opacity: 0.7;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@charset \\\"UTF-8\\\";\\n.LoadingSceneProgressBar {\\n  border: 1px solid rgba(0, 0, 0, 0.6);\\n  padding: 1px;\\n}\\n.LoadingSceneProgressBarのbar {\\n  height: 8px;\\n  background: rgba(0, 0, 0, 0.6);\\n  width: 0%;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./game/ui/LoadingSceneProgressBar.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAAhB;EACE,oCAAA;EACA,YAAA;AAEF;AADE;EACE,WAAA;EACA,8BAAA;EACA,SAAA;AAGJ\",\"sourcesContent\":[\".LoadingSceneProgressBar {\\n  border: 1px solid rgba(#000, 0.6);\\n  padding: 1px;\\n  &のbar {\\n    height: 8px;\\n    background: rgba(#000, 0.6);\\n    width: 0%;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@charset \\\"UTF-8\\\";\\n.LoadingSceneSongInfo {\\n  background: rgba(255, 255, 255, 0.96);\\n  color: #191817;\\n  text-align: center;\\n  padding: 25px 0px;\\n  box-shadow: 0 2px 18px rgba(0, 0, 0, 0.2);\\n}\\n.LoadingSceneSongInfoのgenre {\\n  font-size: 1.2rem;\\n}\\n.LoadingSceneSongInfoのtitle {\\n  font-size: 3.2rem;\\n  font-weight: bold;\\n}\\n.LoadingSceneSongInfoのsubtitle {\\n  font-size: 2.4rem;\\n}\\n.LoadingSceneSongInfoのartist {\\n  font-size: 1.6rem;\\n  margin-top: 0.8ex;\\n}\\n.LoadingSceneSongInfoのsubartist {\\n  font-size: 1rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./game/ui/LoadingSceneSongInfo.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAAhB;EACE,qCAAA;EACA,cAAA;EACA,kBAAA;EACA,iBAAA;EACA,yCAAA;AAEF;AAAE;EACE,iBAAA;AAEJ;AAAE;EACE,iBAAA;EACA,iBAAA;AAEJ;AAAE;EACE,iBAAA;AAEJ;AAAE;EACE,iBAAA;EACA,iBAAA;AAEJ;AAAE;EACE,eAAA;AAEJ\",\"sourcesContent\":[\".LoadingSceneSongInfo {\\n  background: rgba(#fff, 0.96);\\n  color: #191817;\\n  text-align: center;\\n  padding: 25px 0px;\\n  box-shadow: 0 2px 18px rgba(#000, 0.2);\\n\\n  &のgenre {\\n    font-size: 1.2rem;\\n  }\\n  &のtitle {\\n    font-size: 3.2rem;\\n    font-weight: bold;\\n  }\\n  &のsubtitle {\\n    font-size: 2.4rem;\\n  }\\n  &のartist {\\n    font-size: 1.6rem;\\n    margin-top: 0.8ex;\\n  }\\n  &のsubartist {\\n    font-size: 1rem;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import $ from 'jquery'\n\nexport default function GameScene(display) {\n  return function (container) {\n    const handler = () => false\n    $(window).on('touchstart', handler)\n    showCanvas(display, container)\n    return {\n      teardown() {\n        $(window).off('touchstart', handler)\n      },\n    }\n  }\n}\n\nfunction showCanvas(display, container) {\n  const { view, wrapper } = display\n  const { width, height } = view\n  container.appendChild(wrapper)\n  container.addEventListener('touchstart', disableContextMenu)\n  function disableContextMenu() {\n    container.removeEventListener('touchstart', disableContextMenu)\n    container.addEventListener('contextmenu', (e) => {\n      e.preventDefault()\n    })\n  }\n\n  resize()\n  $(window).on('resize', resize)\n\n  function resize() {\n    const scale = Math.min(\n      window.innerWidth / width,\n      window.innerHeight / height\n    )\n    view.style.width = Math.round(width * scale) + 'px'\n    view.style.height = Math.round(height * scale) + 'px'\n    wrapper.style.width = Math.round(width * scale) + 'px'\n    wrapper.style.height = Math.round(height * scale) + 'px'\n    const yOffset = (window.innerHeight - height * scale) / 2\n    wrapper.style.marginTop = Math.round(yOffset) + 'px'\n  }\n\n  return wrapper\n}\n","import PlayerAudio from './player-audio'\n\nexport class GameAudio {\n  constructor({ game, samples, master }) {\n    const volume = game.options.soundVolume\n    this._master = master\n    this._context = master.audioContext\n    this._players = new Map(\n      game.players.map((player) => [\n        player,\n        new PlayerAudio({ player, samples, master, volume }),\n      ])\n    )\n  }\n\n  destroy() {\n    this._master.destroy()\n  }\n\n  unmute() {\n    this._master.unmute()\n  }\n\n  get context() {\n    return this._context\n  }\n\n  update(t, state) {\n    for (const [player, playerAudio] of this._players) {\n      playerAudio.update(t, state.player(player))\n    }\n  }\n}\n\nexport default GameAudio\n","import now from 'bemuse/utils/now'\n\n// The game clock provides a high-accuracy time source for the game.\n//\n// We want our timing to be based on audio. If the audio lags, the time\n// clock should lag with the audio as well, in order to keep the game\n// time in sync with the background audio.\n//\n// But there is a problem on some browsers (Android):\n// ``AudioContext.currentTime`` is not precise. Therefore, we take the\n// average of the offset between system time (which is more precise)\n// and the audio time to compute a high-precision-and-accuracy time.\n//\nexport class Clock {\n  constructor(audio) {\n    audio.unmute() // kick start the currentTime of audio context\n\n    this._context = audio.context\n    this._offset = []\n    this._sum = 0\n    this.update()\n  }\n\n  // Updates the clock. This method should be called every frame.\n  update() {\n    const realTime = now() / 1000\n    const delta = realTime - this._context.currentTime\n    this._offset.push(delta)\n    this._sum += delta\n    while (this._offset.length > 60) {\n      this._sum -= this._offset.shift()\n    }\n\n    // The clock's time value, in seconds.\n    this.time = realTime - this._sum / this._offset.length\n  }\n}\n\nexport default Clock\n","import now from 'bemuse/utils/now'\n\n// The game timer keeps track of song progression in-game.\n// This class should be tied to the AudioContext.\n//\nexport class GameTimer {\n  constructor(clock, input) {\n    this._clock = clock\n    this._input = input\n    this._now = now.synchronized()\n    this._lastRecordedTimeSinceStart = 0\n    this.startTime = null\n    this._pauseAtTimerValue = Infinity\n    this._unpausedTimeSinceStart = 0\n    this._unpausedTimerValue = 0\n    this.readyFraction = 0\n    this.gettingStarted = false\n  }\n\n  // True if the game is started, false otherwise.\n  get started() {\n    return this.startTime !== null\n  }\n\n  // Updates the timer. This method should be called once in the game loop.\n  update() {\n    this._checkStartGame()\n    // The time, in seconds, since the start of the game.\n    this.time = this._calculateTime()\n  }\n\n  _checkStartGame() {\n    if (this.started) return\n    if (this._input.get('start').value) {\n      this.gettingStarted = true\n    }\n    if (this.gettingStarted && !this._input.get('start').value) {\n      this.startTime = this._clock.time + this._getWait()\n    }\n    if (!this.started) {\n      // The number in range 0...1 representing the progression in this second.\n      // When player presses the \"Start\" button, the game will wait for the\n      // next second before actually starting the game.\n      // Since the clock is synchronized globally, if player presses start\n      // in the same second, the game will start at the same time.\n      //\n      this.readyFraction = 1 - this._getWait()\n    }\n  }\n\n  _getWait() {\n    const t = this._now() / 1000\n    return Math.ceil(t) - t\n  }\n\n  _calculateTime() {\n    // When initializing the game, we suspend the timer at -0.333 seconds.\n    // Then, when the player starts the game, we slowly accelerate such that\n    // after 1 second, the timer approaches 0 seconds at normal speed.\n    // This is accomplished using some magic formula ;).\n    //\n    let delta = this.startTime === null ? 0 : this._clock.time - this.startTime\n    if (delta < 0) delta = 0\n    if (delta < 1) {\n      return (Math.pow(delta, 6) - 1) / 6 - 1 / 30\n    } else {\n      const timeSinceStart = delta - 31 / 30\n      this._lastRecordedTimeSinceStart = timeSinceStart\n      const projectedTimerValue =\n        this._unpausedTimerValue +\n        (timeSinceStart - this._unpausedTimeSinceStart)\n      return Math.min(projectedTimerValue, this._pauseAtTimerValue)\n    }\n  }\n\n  pauseAt(timerValueToPause) {\n    if (\n      this._unpausedTimerValue +\n        (this._lastRecordedTimeSinceStart - this._unpausedTimeSinceStart) >=\n      this._pauseAtTimerValue\n    ) {\n      this._unpausedTimerValue = this._pauseAtTimerValue\n      this._unpausedTimeSinceStart = this._lastRecordedTimeSinceStart\n    }\n    this._pauseAtTimerValue = timerValueToPause\n  }\n}\n\nexport default GameTimer\n","export class DualInput {\n  /*\n    A helper class for mapping two boolean inputs to a single integer output.\n    This provide robust and responsive output when quickly firing two inputs alternatively.\n  */\n\n  // input states -1: up, 0: off, 1: down, 2: hold\n  private input = [0, 0]\n  private last = 0\n  private output = 0\n\n  public combine(...input: [boolean, boolean]) {\n    for (let i = 0; i < 2; ++i) {\n      if (input[i] && this.input[i] <= 0) {\n        this.input[i] = 1\n        this.last = i\n      } else if (!input[i] && this.input[i] > 0) {\n        this.input[i] = -1\n      } else if (this.input[i] % 2 !== 0) {\n        this.input[i] += 1\n      }\n    }\n\n    if (this.input[0] === 1 || this.input[1] === 1) {\n      this.output = this.last === 0 ? 1 : -1\n    }\n\n    if (this.input[this.last] <= 0) {\n      this.output = 0\n    }\n\n    return this.output\n  }\n}\n","import { OmniInput } from 'bemuse/omni-input'\nimport { DualInput } from './dual-input'\n\nfunction OmniInputPlugin(game) {\n  const input = new OmniInput(window, {\n    exclusive: true,\n    continuous: game.players[0].options.input.continuous,\n    sensitivity: game.players[0].options.input.sensitivity,\n  })\n  const kbm = game.players[0].options.input.keyboard\n  const scratch = new DualInput()\n\n  // Don't use Btn8 or Btn9 if they are binded\n  // TODO: make start and select button bindable\n  const isBtn8Free = Object.values(kbm).indexOf('gamepad.0.button.8') < 0\n  const isBtn9Free = Object.values(kbm).indexOf('gamepad.0.button.9') < 0\n\n  return {\n    name: 'GameKBPlugin',\n    get() {\n      const data = input.update()\n\n      const result = {\n        p1_1: data[kbm['1'] || '83'],\n        p1_2: data[kbm['2'] || '68'],\n        p1_3: data[kbm['3'] || '70'],\n        p1_4: data[kbm['4'] || '32'],\n        p1_5: data[kbm['5'] || '74'],\n        p1_6: data[kbm['6'] || '75'],\n        p1_7: data[kbm['7'] || '76'],\n        p1_SC: scratch.combine(\n          data[kbm['SC'] || '65'],\n          data[kbm['SC2'] || '16']\n        ),\n        p1_speedup: data[38],\n        p1_speeddown: data[40],\n        start: data[13] || (isBtn9Free && data['gamepad.0.button.9']),\n        select: data[18] || (isBtn8Free && data['gamepad.0.button.8']),\n      }\n      if (result['start'] || result['select']) {\n        if (\n          result['p1_1'] ||\n          result['p1_3'] ||\n          result['p1_5'] ||\n          result['p1_7']\n        ) {\n          result['p1_speeddown'] = true\n        }\n        if (result['p1_2'] || result['p1_4'] || result['p1_6']) {\n          result['p1_speedup'] = true\n        }\n      }\n      return result\n    },\n    destroy() {\n      input.dispose()\n    },\n  }\n}\n\nexport default OmniInputPlugin\n","import * as BemuseTestMode from 'bemuse/devtools/BemuseTestMode'\n\nimport Clock from './clock'\nimport GameInput from './input'\nimport GameState from './state'\nimport GameTimer from './game-timer'\nimport OmniInputPlugin from './input/omni-input-plugin'\nimport TouchPlugin from './input/touch-plugin'\nimport bench from 'bemuse/devtools/benchmark'\n\n// The GameController takes care of communications between each game\n// component, and takes care of the Game loop.\nexport class GameController {\n  constructor({ game, display, audio }) {\n    this._audioInputLatency = game.options.audioInputLatency\n    this._game = game\n    this._display = display\n    this._audio = audio\n    this._clock = new Clock(this._audio)\n    this._input = new GameInput()\n    this._timer = new GameTimer(this._clock, this._input)\n    this._state = new GameState(game)\n    this._promise = new Promise((resolve) => (this._resolvePromise = resolve))\n    this._display.setEscapeHandler(() => this._quitGame())\n    this._display.setReplayHandler(() => this._replayGame())\n    this.initializeBenchmark()\n    this.initializeTestModeHooks()\n  }\n\n  get game() {\n    return this._game\n  }\n\n  get display() {\n    return this._display\n  }\n\n  get audio() {\n    return this._audio\n  }\n\n  get promise() {\n    return this._promise\n  }\n\n  get state() {\n    return this._state\n  }\n\n  get latestGameTime() {\n    return this._latestGameTime\n  }\n\n  // Initializes the game components and kickstarts the game loop.\n  start() {\n    this._handleEscape()\n    this._display.start()\n    this._input.use(new OmniInputPlugin(this._game))\n    this._input.use(new TouchPlugin(this._display.context))\n    let stopped = false\n    const frame = () => {\n      if (stopped) return\n      this._update()\n      requestAnimationFrame(frame)\n    }\n    requestAnimationFrame(frame)\n    this._endGameLoop = () => (stopped = true)\n  }\n\n  // Exits the game when escape is pressed.\n  _handleEscape() {\n    const onKeyDown = (e) => {\n      const ESCAPE_KEY = 27\n      const F1_KEY = 112\n      if (e.keyCode === ESCAPE_KEY) {\n        e.preventDefault()\n        e.stopPropagation()\n        this._quitGame()\n      } else if (e.keyCode === F1_KEY) {\n        e.preventDefault()\n        e.stopPropagation()\n        this._replayGame()\n      }\n    }\n    window.addEventListener('keydown', onKeyDown, true)\n    this._promise.finally(function () {\n      window.removeEventListener('keydown', onKeyDown, true)\n    })\n  }\n\n  _quitGame() {\n    this._resolvePromise({ finished: false, replay: false })\n  }\n\n  _replayGame() {\n    this._resolvePromise({ finished: false, replay: true })\n  }\n\n  // Destroy the game.\n  destroy() {\n    this._endGameLoop()\n    this._audio.destroy()\n    this._input.destroy()\n    this._display.destroy()\n  }\n\n  _update() {\n    // >> game/loop\n    //\n    // Turn-Based Update Cycle\n    // -----------------------\n    // At each iteration of the game loop, each game component takes turn and\n    // update itself.  Each game component involved in this game loop should\n    // have a ``update(...)`` method, which takes care of updating itself.\n    // This is the only time the component will be mutable.\n    //\n    // Outside of the ``update`` method, a component should behave like an\n    // immutable object.  This allows us to have some sense of immutability\n    // without having to create new objects. See `the case for immutability`_.\n    //\n    // .. _the case for immutability: https://github.com/facebook/immutable-js/blob/d8d189ae7ea8965fee2ecc7320ebdc55e83eb6a1/README.md#the-case-for-immutability\n    //\n    // At each cycle, the following happens:\n    //\n    // - the Clock is updated to get the high-accuracy time\n    // - the Timer is updated to get the in-game time\n    // - the Input is updated to get button presses\n    // - the State is updated to react to button presses -- judging notes and\n    //   updating scores\n    // - the Audio is updated to emit sound based on the updated state\n    // - the Display is updated to render the game display based on the updated\n    //   state\n    //\n    this._clock.update()\n    this._input.update()\n    this._timer.update()\n    const t = this._timer.time\n    const A = this._audioInputLatency\n    this._latestGameTime = t\n    this._state.update(t - A, this._input, this._timer)\n    this._audio.update(t, this._state)\n    this._display.update(t - A, this._state)\n    if (this._state.finished && this._resolvePromise) {\n      this._resolvePromise({ finished: true })\n      this._resolvePromise = null\n    }\n  }\n\n  initializeBenchmark() {\n    if (!bench.enabled) return\n    bench.benchmark('update', this, '_update')\n    bench.benchmark('input_update', this._input, 'update')\n    bench.benchmark('state_update', this._state, 'update')\n    bench.benchmark('audio_update', this._audio, 'update')\n    bench.benchmark('display_update', this._display, 'update')\n    bench.benchmark('display_compute', this._display, '_getData')\n    bench.benchmark('display_push', this._display._context._instance, 'push')\n    bench.benchmark(\n      'display_render',\n      this._display._context._renderer,\n      'render'\n    )\n  }\n\n  initializeTestModeHooks() {\n    if (!BemuseTestMode.isTestModeEnabled()) return\n    BemuseTestMode.setGameLifecycleHandler({\n      pauseAt: (t) => {\n        this._timer.pauseAt(t)\n        return new Promise((resolve) => {\n          const interval = setInterval(() => {\n            if (this._timer.time >= t) {\n              clearInterval(interval)\n              resolve()\n            }\n          })\n        })\n      },\n      unpause: () => {\n        this._timer.pauseAt(Infinity)\n      },\n      getScore: () => {\n        const state = this._state\n        const playerState = state.player(state.game.players[0])\n        return playerState.stats.score\n      },\n    })\n  }\n}\n\nexport default GameController\n","export function loadImage(assets, filename) {\n  return assets\n    .file(filename)\n    .then((asset) => asset.read())\n    .then((arrayBuffer) => new Blob([arrayBuffer]))\n    .then((blob) => URL.createObjectURL(blob))\n    .then(\n      (src) =>\n        new Promise((resolve, reject) => {\n          const image = new Image()\n          image.onload = () => resolve(image)\n          image.onerror = reject\n          image.src = src\n        })\n    )\n}\n\nexport default loadImage\n","import NotechartLoader from 'bemuse-notechart/lib/loader'\nimport Progress from 'bemuse/progress'\nimport { atomic } from 'bemuse/progress/utils'\nimport SamplingMaster from 'bemuse/sampling-master'\nimport keysoundCache from 'bemuse/keysound-cache'\n\nimport * as Multitasker from './multitasker'\nimport Game, { GamePlayerOptionsInput } from '../game'\nimport GameAudio from '../audio'\nimport GameController from '../game-controller'\nimport GameDisplay from '../display'\nimport SamplesLoader from './samples-loader'\nimport loadImage from './loadImage'\nimport Notechart from 'bemuse-notechart'\nimport { IResources } from 'bemuse/resources/types'\nimport { resolveRelativeResources } from 'bemuse/resources/resolveRelativeResource'\n\ntype Tasks = {\n  Scintillator: TODO\n  Skin: TODO\n  SkinContext: TODO\n  Notechart: Notechart\n  EyecatchImage: HTMLImageElement\n  BackgroundImage: HTMLImageElement\n  SamplingMaster: SamplingMaster\n  Video: { element: HTMLVideoElement; offset: number } | null\n  Game: Game\n  GameDisplay: GameDisplay\n  Samples: TODO\n  GameAudio: GameAudio\n  GameController: GameController\n}\n\ntype Assets = IResources & {\n  progress?: {\n    current?: Progress\n    all?: Progress\n  }\n}\n\nexport type LoadSpec = {\n  assets: Assets\n  bms: TODO\n  songId: string\n  displayMode?: 'touch3d' | 'normal'\n  backImageUrl?: string\n  eyecatchImageUrl?: string\n  videoUrl?: string\n  videoOffset?: number\n  options: GamePlayerOptionsInput\n}\n\nexport function load(spec: LoadSpec) {\n  const assets = spec.assets\n  const bms = spec.bms\n  const songId = spec.songId\n\n  return Multitasker.start<Tasks, GameController>(function (task, run) {\n    task('Scintillator', 'Loading game engine', [], function (progress) {\n      return atomic(\n        progress,\n        import(/* webpackChunkName: 'gameEngine' */ 'bemuse/scintillator')\n      )\n    })\n\n    task(\n      'Skin',\n      'Loading skin',\n      ['Scintillator'],\n      function (Scintillator, progress) {\n        return Scintillator.load(\n          Scintillator.getSkinUrl({\n            displayMode: spec.displayMode,\n          }),\n          progress\n        )\n      }\n    )\n\n    task(\n      'SkinContext',\n      null,\n      ['Scintillator', 'Skin'],\n      function (Scintillator, skin) {\n        return new Scintillator.Context(skin, { touchEventTarget: window })\n      }\n    )\n\n    if (assets.progress) {\n      if (assets.progress.current) {\n        task.bar('Loading package', assets.progress.current)\n      }\n      if (assets.progress.all) {\n        task.bar('Loading song packages', assets.progress.all)\n      }\n    }\n\n    task('Notechart', 'Loading ' + spec.bms.name, [], async (progress) => {\n      const loader = new NotechartLoader()\n      const arraybuffer = await bms.read(progress)\n      return loader.load(arraybuffer, spec.bms, spec.options.players[0])\n    })\n\n    task('EyecatchImage', null, ['Notechart'], function (notechart) {\n      if (spec.eyecatchImageUrl) {\n        const [base, filename] = resolveRelativeResources(\n          assets,\n          spec.eyecatchImageUrl\n        )\n        return loadImage(base, filename)\n      }\n      return loadImage(assets, notechart.eyecatchImage)\n    })\n\n    task('BackgroundImage', null, ['Notechart'], function (notechart) {\n      if (spec.backImageUrl) {\n        const [base, filename] = resolveRelativeResources(\n          assets,\n          spec.backImageUrl\n        )\n        return loadImage(base, filename)\n      }\n      return loadImage(assets, notechart.backgroundImage)\n    })\n\n    const audioLoadProgress = new Progress()\n    const audioDecodeProgress = new Progress()\n\n    task.bar('Loading audio', audioLoadProgress)\n    task.bar('Decoding audio', audioDecodeProgress)\n\n    task('SamplingMaster', null, [], async () => {\n      return new SamplingMaster()\n    })\n\n    task(\n      'Video',\n      spec.videoUrl ? 'Loading video' : null,\n      ['Notechart'],\n      async function (notechart, progress) {\n        if (!spec.videoUrl) return Promise.resolve(null)\n        let videoUrl = spec.videoUrl\n        if (!videoUrl.includes('://')) {\n          // This is a relative URL, we need to load from assets.\n          const [base, filename] = resolveRelativeResources(assets, videoUrl)\n          const file = await base.file(filename)\n          videoUrl = await file.resolveUrl()\n        }\n        return new Promise((resolve, reject) => {\n          const video = document.createElement('video')\n          if (!video.canPlayType('video/webm')) return resolve(null)\n          video.src = videoUrl\n          video.preload = 'auto'\n          video.addEventListener('progress', onProgress, true)\n          video.addEventListener('canplaythrough', onCanPlayThrough, true)\n          video.addEventListener('error', onError, true)\n          video.addEventListener('abort', onError, true)\n          video.load()\n\n          function onProgress() {\n            if (video.buffered && video.buffered.length && video.duration) {\n              progress.report(\n                video.buffered.end(0) - video.buffered.start(0),\n                video.duration\n              )\n            }\n          }\n          function finish() {\n            video.removeEventListener('progress', onProgress, true)\n            video.removeEventListener('canplaythrough', onCanPlayThrough, true)\n            video.removeEventListener('error', onError, true)\n            video.removeEventListener('abort', onError, true)\n          }\n          function onCanPlayThrough() {\n            finish()\n            const n = video.duration || 100\n            progress.report(n, n)\n            resolve({ element: video, offset: spec.videoOffset! })\n          }\n          function onError() {\n            finish()\n            console.warn('Cannot load video... Just skip it!')\n            resolve(null)\n          }\n        })\n      }\n    )\n\n    task('Game', null, ['Notechart'], async (notechart) => {\n      return new Game([notechart], spec.options)\n    })\n\n    task(\n      'GameDisplay',\n      null,\n      ['Game', 'SkinContext', 'Video'],\n      async (game, context, video) => {\n        return new GameDisplay({\n          game,\n          context,\n          backgroundImagePromise: run('BackgroundImage'),\n          video,\n        })\n      }\n    )\n\n    task('Samples', null, ['SamplingMaster', 'Game'], function (master, game) {\n      keysoundCache.receiveSongId(songId)\n      const samplesLoader = new SamplesLoader(assets, master)\n      return samplesLoader.loadFiles(\n        game.samples,\n        audioLoadProgress,\n        audioDecodeProgress\n      )\n    })\n\n    task(\n      'GameAudio',\n      null,\n      ['Game', 'Samples', 'SamplingMaster'],\n      async (game, samples, master) => {\n        return new GameAudio({ game, samples, master })\n      }\n    )\n\n    task(\n      'GameController',\n      null,\n      ['Game', 'GameDisplay', 'GameAudio'],\n      async (game, display, audio) => {\n        return new GameController({ game, display, audio })\n      }\n    )\n\n    return run('GameController')\n  })\n}\n","import Observable from 'bemuse/utils/observable'\nimport Progress from 'bemuse/progress'\nimport { throttle } from 'lodash'\n\nexport function start(callback) {\n  const tasks = {}\n  const running = {}\n  const taskList = []\n\n  function task(name, text, dependencies, f) {\n    const progress = new Progress()\n    if (text) taskList.push({ text, progress })\n    tasks[name] = function () {\n      return Promise.all(dependencies.map(run)).then((deps) =>\n        f(...deps.concat([progress]))\n      )\n    }\n  }\n\n  function bar(text, progress) {\n    taskList.push({ text, progress })\n  }\n\n  task.bar = bar\n\n  function run(name) {\n    return running[name] || (running[name] = tasks[name]())\n  }\n\n  function getTaskStatuses() {\n    return taskList.map((t) => {\n      return {\n        text: t.text,\n        progress: t.progress.progress,\n        progressText: t.progress.toString(),\n      }\n    })\n  }\n\n  const promise = callback(task, run)\n  const status = new Observable(getTaskStatuses())\n  const update = throttle(function updateTaskStatuses() {\n    status.value = getTaskStatuses()\n  }, 16)\n\n  for (const taskToWatch of taskList) {\n    taskToWatch.progress.watch(update)\n  }\n\n  return { tasks: status, promise: promise, get: run }\n}\n","\n      import API from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingScene.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingScene.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingSceneProgress.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingSceneProgress.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingSceneProgressBar.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingSceneProgressBar.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import './LoadingSceneProgressBar.scss'\n\nimport React from 'react'\n\nexport interface LoadingSceneProgressBarProps {\n  width: string | number\n}\n\nconst LoadingSceneProgressBar = ({ width }: LoadingSceneProgressBarProps) => (\n  <div className='LoadingSceneProgressBar'>\n    <div className='LoadingSceneProgressBarのbar' style={{ width }} />\n  </div>\n)\n\nexport default LoadingSceneProgressBar\n","import './LoadingSceneProgress.scss'\n\nimport React, { useEffect, useState } from 'react'\n\nimport LoadingSceneProgressBar from './LoadingSceneProgressBar'\nimport { Observable } from 'bemuse/utils/observable'\n\nconst Item = ({ text, progressText, progress }: TaskItem) => {\n  const width = Math.round(progress * 100 || 0).toString() + '%'\n  const extra = progressText ? ` (${progressText})` : ''\n  return (\n    <div key={text} className='LoadingSceneProgressのitem'>\n      <LoadingSceneProgressBar width={width} />\n      {text}\n      <span className='LoadingSceneProgressのextra'>{extra}</span>\n    </div>\n  )\n}\n\nexport interface TaskItem {\n  text: string\n  progressText: string\n  progress: number\n}\n\nexport type Tasks = Observable<TaskItem[]>\n\nexport interface LoadingSceneProgressProps {\n  tasks: Tasks\n}\n\nconst LoadingSceneProgress = ({ tasks }: LoadingSceneProgressProps) => {\n  const [, updater] = useState(false)\n  const forceUpdate = () => updater((flag) => !flag)\n\n  useEffect(() => {\n    const unsubscribe = tasks.watch(forceUpdate)\n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  return (\n    <div className='LoadingSceneProgress'>\n      {tasks.value?.map((task) => (\n        <Item key={task.text} {...task} />\n      ))}\n    </div>\n  )\n}\n\nexport default LoadingSceneProgress\n","\n      import API from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingSceneSongInfo.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.3_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.2_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.57.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./LoadingSceneSongInfo.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import './LoadingSceneSongInfo.scss'\n\nimport React from 'react'\nimport { isTitleDisplayMode } from 'bemuse/devtools/query-flags'\n\nexport interface LoadingSceneSongInfoProps {\n  song: {\n    title: string\n    artist: string\n    genre: string\n    subtitles: readonly string[]\n    subartists: readonly string[]\n    difficulty: number\n    level: number\n  }\n}\n\nconst LoadingSceneSongInfo = ({ song }: LoadingSceneSongInfoProps) => (\n  <div className='LoadingSceneSongInfo'>\n    <div className='LoadingSceneSongInfoのgenre'>{song.genre}</div>\n    <div className='LoadingSceneSongInfoのtitle'>{song.title}</div>\n    {!isTitleDisplayMode()\n      ? song.subtitles.map((text) => (\n          <div key={text} className='LoadingSceneSongInfoのsubtitle'>\n            {text}\n          </div>\n        ))\n      : null}\n    <div className='LoadingSceneSongInfoのartist'>{song.artist}</div>\n    {song.subartists.map((text) => (\n      <div key={text} className='LoadingSceneSongInfoのsubartist'>\n        {text}\n      </div>\n    ))}\n  </div>\n)\nexport default LoadingSceneSongInfo\n","import './LoadingScene.scss'\n\nimport LoadingSceneProgress, { Tasks } from './LoadingSceneProgress'\nimport React, { useEffect, useRef } from 'react'\n\nimport type { ChartInfo } from 'bemuse-types'\nimport LoadingSceneSongInfo from './LoadingSceneSongInfo'\nimport Scene from 'bemuse/ui/Scene'\nimport delay from 'delay'\n\nexport interface LoadingSceneProps {\n  song: ChartInfo\n  tasks: Tasks\n  eyecatchImagePromise?: PromiseLike<HTMLImageElement>\n  registerTeardownCallback?: (callback: () => void) => void\n}\n\nconst LoadingScene = ({\n  song,\n  tasks,\n  eyecatchImagePromise,\n  registerTeardownCallback,\n}: LoadingSceneProps) => {\n  const sceneRef = useRef<HTMLDivElement | null>(null)\n  const eyecatchRef = useRef<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (eyecatchImagePromise) {\n      eyecatchImagePromise.then((image) => {\n        eyecatchRef.current?.appendChild(image)\n      })\n    }\n    if (registerTeardownCallback) {\n      registerTeardownCallback(() => {\n        sceneRef.current?.classList.add('is-exiting')\n        return delay(500)\n      })\n    }\n  }, [])\n\n  return (\n    <Scene className='LoadingScene' ref={sceneRef}>\n      <div className='LoadingSceneのimage' ref={eyecatchRef} />\n      <div className='LoadingSceneのinfo'>\n        <LoadingSceneSongInfo song={song} />\n      </div>\n      <LoadingSceneProgress tasks={tasks} />\n      <div className='LoadingSceneのflash' />\n      <div className='LoadingSceneのcover' />\n    </Scene>\n  )\n}\n\nexport default LoadingScene\n","import { IResources } from './types'\nimport { URLResources } from './url'\n\nexport function resolveRelativeResources(\n  base: IResources,\n  url: string\n): [IResources, string] {\n  // Absolute URL\n  if (url.includes('://')) {\n    return [new URLResources(new URL(url)), url.split('/').slice(-1)[0]]\n  }\n\n  const parts = url.split('/')\n  let current = base\n  while (parts.length > 1) {\n    const dirName = parts.shift()!\n    current = new DirectoryResources(current, dirName)\n  }\n  return [current, parts[0]]\n}\n\nexport class DirectoryResources implements IResources {\n  constructor(private base: IResources, private dirName: string) {}\n\n  async file(filename: string) {\n    return this.base.file(`${this.dirName}/${filename}`)\n  }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.load = void 0;\nvar bmson = __importStar(require(\"bmson\"));\nvar BMS = __importStar(require(\"bms\"));\nvar __1 = __importDefault(require(\"../\"));\nfunction load(source, playerOptions) {\n    var data = JSON.parse(source);\n    var songInfo = bmson.songInfoForBmson(data);\n    var score = bmson.musicalScoreForBmson(data, {\n        double: playerOptions.double,\n    });\n    var barLines = bmson.barLinesForBmson(data);\n    var stuff = {\n        notes: score.notes.all(),\n        timing: score.timing,\n        keysounds: score.keysounds,\n        songInfo: songInfo,\n        positioning: new BMS.Positioning([{ t: 0, x: 0, dx: 1, inclusive: true }]),\n        spacing: new BMS.Spacing([]),\n        barLines: barLines,\n        images: {\n            // HACK: Hardcoded here, probably should belong in bmson package\n            eyecatch: data.info.eyecatch_image,\n            background: data.info.back_image,\n        },\n        expertJudgmentWindow: getExpertJudgmentWindowForBmson(data),\n    };\n    return new __1.default(stuff, playerOptions);\n}\nexports.load = load;\nfunction getExpertJudgmentWindowForBmson(data) {\n    var judgeRank = (function () {\n        if (!data.info)\n            return 100;\n        if (!data.info.judge_rank)\n            return 100;\n        return +data.info.judge_rank || 100;\n    })() / 100;\n    return [18 * judgeRank, 40 * judgeRank];\n}\n//# sourceMappingURL=BmsonNotechartLoader.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotechartLoader = void 0;\nvar BMS = __importStar(require(\"bms\"));\nvar BMSNotechartLoader = __importStar(require(\"./BMSNotechartLoader\"));\nvar BmsonNotechartLoader = __importStar(require(\"./BmsonNotechartLoader\"));\nvar coerceToBuffer = function (bufferOrArrayBuffer) {\n    return Buffer.isBuffer(bufferOrArrayBuffer)\n        ? bufferOrArrayBuffer\n        : Buffer.from(new Uint8Array(bufferOrArrayBuffer));\n};\nvar NotechartLoader = /** @class */ (function () {\n    function NotechartLoader() {\n    }\n    NotechartLoader.prototype.load = function (arraybuffer, resource, options) {\n        if (resource.name.match(/\\.bmson$/i)) {\n            return this.loadBmson(arraybuffer, resource, options);\n        }\n        else {\n            return this.loadBMS(arraybuffer, resource, options);\n        }\n    };\n    NotechartLoader.prototype.loadBMS = function (arraybuffer, resource, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var buffer, readerOptions, source, compileResult, chart, notechart;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        buffer = coerceToBuffer(arraybuffer);\n                        readerOptions = BMS.Reader.getReaderOptionsFromFilename(resource.name);\n                        return [4 /*yield*/, BMS.Reader.readAsync(buffer, readerOptions)];\n                    case 1:\n                        source = _a.sent();\n                        compileResult = BMS.Compiler.compile(source);\n                        chart = compileResult.chart;\n                        notechart = BMSNotechartLoader.fromBMSChart(chart, options);\n                        return [2 /*return*/, notechart];\n                }\n            });\n        });\n    };\n    NotechartLoader.prototype.loadBmson = function (arraybuffer, resource, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var buffer, source;\n            return __generator(this, function (_a) {\n                buffer = coerceToBuffer(arraybuffer);\n                source = buffer.toString('utf-8');\n                return [2 /*return*/, BmsonNotechartLoader.load(source, options)];\n            });\n        });\n    };\n    return NotechartLoader;\n}());\nexports.NotechartLoader = NotechartLoader;\nexports.default = NotechartLoader;\n//# sourceMappingURL=index.js.map"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push","module","id","GameScene","display","container","handler","window","on","view","wrapper","width","height","disableContextMenu","removeEventListener","addEventListener","e","preventDefault","resize","scale","Math","min","innerWidth","innerHeight","style","round","yOffset","marginTop","appendChild","showCanvas","teardown","off","constructor","game","samples","master","volume","options","soundVolume","this","_master","_context","audioContext","_players","Map","players","map","player","destroy","unmute","context","update","t","state","playerAudio","audio","_offset","_sum","realTime","now","delta","currentTime","length","shift","time","clock","input","_clock","_input","_now","_lastRecordedTimeSinceStart","startTime","_pauseAtTimerValue","Infinity","_unpausedTimeSinceStart","_unpausedTimerValue","readyFraction","gettingStarted","started","_checkStartGame","_calculateTime","get","value","_getWait","ceil","pow","timeSinceStart","projectedTimerValue","pauseAt","timerValueToPause","DualInput","last","output","combine","i","exclusive","continuous","sensitivity","kbm","keyboard","scratch","isBtn8Free","Object","values","indexOf","isBtn9Free","name","data","result","p1_1","p1_2","p1_3","p1_4","p1_5","p1_6","p1_7","p1_SC","p1_speedup","p1_speeddown","start","select","dispose","_audioInputLatency","audioInputLatency","_game","_display","_audio","_timer","_state","_promise","Promise","resolve","_resolvePromise","setEscapeHandler","_quitGame","setReplayHandler","_replayGame","initializeBenchmark","initializeTestModeHooks","promise","latestGameTime","_latestGameTime","_handleEscape","use","stopped","frame","_update","requestAnimationFrame","_endGameLoop","onKeyDown","keyCode","stopPropagation","finally","finished","replay","A","_instance","_renderer","BemuseTestMode","isTestModeEnabled","setGameLifecycleHandler","interval","setInterval","clearInterval","unpause","getScore","stats","score","assets","filename","file","then","asset","read","arrayBuffer","Blob","blob","createObjectURL","src","reject","image","Image","onload","onerror","load","spec","bms","songId","callback","tasks","running","taskList","task","text","dependencies","f","progress","all","run","deps","concat","getTaskStatuses","progressText","toString","bar","status","throttle","taskToWatch","watch","Scintillator","getSkinUrl","displayMode","skin","Context","touchEventTarget","current","async","loader","arraybuffer","notechart","eyecatchImageUrl","base","resolveRelativeResource","eyecatchImage","backImageUrl","backgroundImage","audioLoadProgress","audioDecodeProgress","videoUrl","includes","resolveUrl","video","document","createElement","canPlayType","onProgress","buffered","duration","report","end","finish","onCanPlayThrough","onError","n","element","offset","videoOffset","console","warn","preload","backgroundImagePromise","loadFiles","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","className","Item","extra","key","updater","useState","forceUpdate","flag","useEffect","unsubscribe","song","genre","title","subtitles","artist","subartists","eyecatchImagePromise","registerTeardownCallback","sceneRef","useRef","eyecatchRef","classList","add","Scene","ref","resolveRelativeResources","url","split","slice","parts","dirName","DirectoryResources","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","defineProperty","__setModuleDefault","v","__importStar","mod","prototype","hasOwnProperty","call","__importDefault","exports","bmson","BMS","__1","getExpertJudgmentWindowForBmson","judgeRank","info","judge_rank","source","playerOptions","JSON","parse","songInfo","songInfoForBmson","musicalScoreForBmson","double","barLines","barLinesForBmson","stuff","notes","timing","keysounds","positioning","Positioning","x","dx","inclusive","spacing","Spacing","images","eyecatch","eyecatch_image","background","back_image","expertJudgmentWindow","default","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","apply","__generator","body","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","op","TypeError","pop","NotechartLoader","BMSNotechartLoader","BmsonNotechartLoader","coerceToBuffer","bufferOrArrayBuffer","Buffer","isBuffer","from","Uint8Array","resource","match","loadBmson","loadBMS","buffer","readerOptions","compileResult","chart","_a","Reader","getReaderOptionsFromFilename","readAsync","Compiler","compile","fromBMSChart"],"sourceRoot":""}