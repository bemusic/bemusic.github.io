{"version":3,"file":"build/game-0091a58a0cf5c8b274b7.js","mappings":"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","sources":["file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/GameShellScene.scss","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/GameShellScene.scss?[contenthash]","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/ui/GameShellScene.jsx","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/index.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".GameShellScene {\\n  margin: 20px auto;\\n  background: #353433;\\n  border: 1px solid #555453;\\n  padding: 15px;\\n  max-width: 720px;\\n}\\n.GameShellScene .drop-zone {\\n  border: 2px dashed #555453;\\n  padding: 5px;\\n}\\n.GameShellScene .drop-zone a.is-active {\\n  font-weight: bold;\\n}\\n.GameShellScene .drop-zone-hint {\\n  padding: 10px;\\n  text-align: center;\\n  color: #8b8685;\\n}\\n.GameShellScene form > div {\\n  margin-bottom: 1em;\\n}\\n.GameShellScene form > div.text .label {\\n  display: block;\\n  color: #8b8685;\\n  font-weight: bold;\\n  font-size: 0.8em;\\n  margin: 0;\\n  margin-bottom: 0.5ex;\\n}\\n.GameShellScene form > div.text input {\\n  font: inherit;\\n  display: block;\\n  width: 100%;\\n  box-sizing: border-box;\\n  border: 1px inset #555453;\\n  background: #252423;\\n  color: #bfb;\\n}\\n.GameShellScene form > div.text input:disabled {\\n  opacity: 0.2;\\n}\\n.GameShellScene form > div.checkbox input {\\n  margin-right: 1ex;\\n}\\n.GameShellScene form > div.radio > h3 {\\n  display: block;\\n  color: #8b8685;\\n  font-weight: bold;\\n  font-size: 0.8em;\\n  margin: 0;\\n  margin-bottom: 0.5ex;\\n}\\n.GameShellScene form > div.radio > label {\\n  display: block;\\n}\\n.GameShellScene form > div.radio input {\\n  margin-right: 1ex;\\n}\\n.GameShellScene button {\\n  background: #8b8685;\\n  border: 1px outset #aba6a5;\\n  font: inherit;\\n  font-size: 1.5em;\\n  color: #e9e8e7;\\n  display: block;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n.GameShellScene a {\\n  color: #fed;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./game/ui/GameShellScene.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAA;EACA,mBAAA;EACA,yBAAA;EACA,aAAA;EACA,gBAAA;AACF;AAAE;EACE,0BAAA;EACA,YAAA;AAEJ;AADI;EACE,iBAAA;AAGN;AAAE;EACE,aAAA;EACA,kBAAA;EACA,cAAA;AAEJ;AAQE;EACE,kBAAA;AANJ;AAQM;EAVF,cAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;EACA,SAAA;EACA,oBAAA;AAKJ;AAGM;EACE,aAAA;EACA,cAAA;EACA,WAAA;EACA,sBAAA;EACA,yBAAA;EACA,mBAAA;EACA,WAAA;AADR;AAGM;EACE,YAAA;AADR;AAKM;EACE,iBAAA;AAHR;AAOM;EAhCF,cAAA;EACA,cAAA;EACA,iBAAA;EACA,gBAAA;EACA,SAAA;EACA,oBAAA;AA4BJ;AAEM;EACE,cAAA;AAAR;AAEM;EACE,iBAAA;AAAR;AAIE;EACE,mBAAA;EACA,0BAAA;EACA,aAAA;EACA,gBAAA;EACA,cAAA;EACA,cAAA;EACA,WAAA;EACA,sBAAA;AAFJ;AAIE;EACE,WAAA;AAFJ\",\"sourcesContent\":[\".GameShellScene {\\n  margin: 20px auto;\\n  background: #353433;\\n  border: 1px solid #555453;\\n  padding: 15px;\\n  max-width: 720px;\\n  .drop-zone {\\n    border: 2px dashed #555453;\\n    padding: 5px;\\n    a.is-active {\\n      font-weight: bold;\\n    }\\n  }\\n  .drop-zone-hint {\\n    padding: 10px;\\n    text-align: center;\\n    color: #8b8685;\\n  }\\n  @mixin option-label {\\n    display: block;\\n    color: #8b8685;\\n    font-weight: bold;\\n    font-size: 0.8em;\\n    margin: 0;\\n    margin-bottom: 0.5ex;\\n  }\\n  form > div {\\n    margin-bottom: 1em;\\n    &.text {\\n      .label {\\n        @include option-label;\\n      }\\n      input {\\n        font: inherit;\\n        display: block;\\n        width: 100%;\\n        box-sizing: border-box;\\n        border: 1px inset #555453;\\n        background: #252423;\\n        color: #bfb;\\n      }\\n      input:disabled {\\n        opacity: 0.2;\\n      }\\n    }\\n    &.checkbox {\\n      input {\\n        margin-right: 1ex;\\n      }\\n    }\\n    &.radio {\\n      > h3 {\\n        @include option-label;\\n      }\\n      > label {\\n        display: block;\\n      }\\n      input {\\n        margin-right: 1ex;\\n      }\\n    }\\n  }\\n  button {\\n    background: #8b8685;\\n    border: 1px outset #aba6a5;\\n    font: inherit;\\n    font-size: 1.5em;\\n    color: #e9e8e7;\\n    display: block;\\n    width: 100%;\\n    box-sizing: border-box;\\n  }\\n  a {\\n    color: #fed;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.1_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.56.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./GameShellScene.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.1_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!../../../../common/temp/node_modules/.pnpm/sass-loader@13.2.0_sass@1.56.1+webpack@5.75.0/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[5].use[3]!./GameShellScene.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import './GameShellScene.scss'\n\nimport DndResources from 'bemuse/resources/dnd-resources'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport c from 'classnames'\n\nclass CustomChartSelector extends React.Component {\n  static propTypes = {\n    selectedResource: PropTypes.any,\n    onSelect: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      files: [],\n    }\n  }\n\n  render() {\n    const files = this.state.files\n    return (\n      <div className='drop-zone'>\n        {files.length ? (\n          <ul>\n            {files.map((file) => (\n              <li>\n                <a\n                  href='javascript://'\n                  onClick={this.handleItemClick}\n                  className={c({\n                    'is-active': file.resource === this.props.selectedResource,\n                  })}\n                >\n                  {file.name}\n                </a>\n              </li>\n            ))}\n            {this.props.selectedResource ? (\n              <li>\n                <a href='javascript://' onClick={this.handleClear}>\n                  Clear\n                </a>\n              </li>\n            ) : null}\n          </ul>\n        ) : (\n          <div className='drop-zone-hint'>\n            Drop BMS folder here\n            <br />\n            (only works on Google Chrome)\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  handleDrop = (e) => {\n    e.preventDefault()\n    const event = e.nativeEvent\n    const resources = new DndResources(event)\n    resources.fileList\n      .then((list) => {\n        return list.filter((filename) => /\\.(bms|bme|bml)$/i.test(filename))\n      })\n      .map((name) =>\n        resources.file(name).then((resource) => ({ name, resource }))\n      )\n      .then((bms) => {\n        this.setState({ files: bms, resources: resources })\n      })\n      .catch((err) => {\n        if (err.constructor.name === 'FileError') {\n          throw new Error('File Error code ' + e.code)\n        } else {\n          throw err\n        }\n      })\n  }\n\n  handleItemClick = (file) => {\n    return () => {\n      this.props.onSelect(this.state.resources, file.resource)\n    }\n  }\n\n  handleClear = () => {\n    this.props.onSelect(null, null)\n  }\n}\n\nexport default class GameShellScene extends React.Component {\n  static propTypes = {\n    options: PropTypes.object,\n    play: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      options: this.props.options,\n    }\n  }\n\n  render() {\n    const options = this.state.options\n    return (\n      <div\n        className='GameShellScene'\n        onDragOver={this.handleDragOver}\n        onDrop={this.handleDrop}\n      >\n        <h1>Bemuse Game Shell</h1>\n        <p>This tool is intended for developers testing the game.</p>\n        <form onSubmit={this.submit}>\n          <div className='text'>\n            <label>\n              <span className='label'>BMS URL:</span>\n              <input\n                type='text'\n                disabled={options.resource}\n                onChange={this.bindOption((o, v) => (o.url = v))}\n                value={options.url}\n              />\n            </label>\n          </div>\n          <div className='text'>\n            <label>\n              <span className='label'>-or- Drop BMS folder here</span>\n              <CustomChartSelector\n                ref='dropzone'\n                selectedResource={options.resource}\n                onSelect={this.handleSelectFile}\n              />\n            </label>\n          </div>\n          <div className='text'>\n            <label>\n              <span className='label'>Audio-Input Latency</span>\n              <input\n                type='text'\n                onChange={this.bindOption(\n                  (o, v) => (o.game.audioInputLatency = v)\n                )}\n                value={options.game.audioInputLatency}\n              />\n            </label>\n          </div>\n          <div className='text'>\n            <label>\n              <span className='label'>HI-SPEED:</span>\n              <input\n                type='text'\n                onChange={this.bindOption((o, v) => (o.players[0].speed = v))}\n                value={options.players[0].speed}\n              />\n            </label>\n          </div>\n          <div className='radio'>\n            <h3>Placement</h3>\n            {['left', 'center', 'right'].map((placement) => (\n              <label>\n                <input\n                  type='radio'\n                  value={placement}\n                  onChange={this.bindOption(\n                    (o, v) => (o.players[0].placement = v)\n                  )}\n                  checked={options.players[0].placement === placement}\n                />\n                <span className='label'>{placement}</span>\n              </label>\n            ))}\n          </div>\n          <button type='submit'>Play</button>\n        </form>\n      </div>\n    )\n  }\n\n  submit = (e) => {\n    e.preventDefault()\n    this.props.play(this.state.options)\n  }\n\n  bindOption = (binder) => {\n    return (event) => {\n      binder(this.state.options, event.target.value)\n      this.forceUpdate()\n    }\n  }\n\n  handleDragOver = (e) => {\n    e.preventDefault()\n  }\n\n  handleDrop = (e) => {\n    e.preventDefault()\n    this.refs.dropzone.handleDrop(e)\n  }\n\n  handleSelectFile = (resources, resource) => {\n    this.setState({\n      options: Object.assign(this.state.options, { resources, resource }),\n    })\n    this.forceUpdate()\n  }\n}\n","import * as GameLoader from './loaders/game-loader'\n\nimport BemusePackageResources from 'bemuse/resources/bemuse-package'\nimport GameScene from './game-scene'\nimport GameShellScene from './ui/GameShellScene'\nimport LoadingScene from './ui/LoadingScene'\nimport React from 'react'\nimport SCENE_MANAGER from 'bemuse/scene-manager'\nimport URLResource from 'bemuse/resources/url'\nimport audioContext from 'bemuse/audio-context'\nimport query from 'bemuse/utils/query'\nimport { unmuteAudio } from 'bemuse/sampling-master'\n\nexport async function main() {\n  // iOS\n  window.addEventListener('touchstart', function unmute() {\n    unmuteAudio(audioContext)\n    window.removeEventListener('touchstart', unmute)\n  })\n\n  const displayShell = function (options) {\n    return new Promise(function (resolve) {\n      const scene = React.createElement(GameShellScene, {\n        options: options,\n        play: function (data) {\n          resolve(data)\n        },\n      })\n      SCENE_MANAGER.display(scene)\n    })\n  }\n\n  const getSong = async function () {\n    const kbm = (query.keyboard || '').split(',').map((x) => +x)\n    let options = {\n      url: query.bms || '/music/[snack]dddd/dddd_sph.bme',\n      game: {\n        audioInputLatency: +query.latency || 0,\n      },\n      players: [\n        {\n          speed: +query.speed || 3,\n          autoplay: !!query.autoplay,\n          placement: 'center',\n          scratch: query.scratch || 'left',\n          input: {\n            keyboard: {\n              1: kbm[0] || 83,\n              2: kbm[1] || 68,\n              3: kbm[2] || 70,\n              4: kbm[3] || 32,\n              5: kbm[4] || 74,\n              6: kbm[5] || 75,\n              7: kbm[6] || 76,\n              SC: kbm[7] || 65,\n              SC2: kbm[8] || 16,\n            },\n          },\n        },\n      ],\n    }\n    options = await displayShell(options)\n    const url = options.url\n    const assetsUrl = new URL('assets/', url)\n    const metadata = {\n      title: 'Loading',\n      subtitles: [],\n      artist: '',\n      genre: '',\n      subartists: [],\n    }\n    return {\n      bms: options.resource || new URLResource(url),\n      assets: options.resources || new BemusePackageResources(assetsUrl),\n      metadata: metadata,\n      options: Object.assign({}, options.game, { players: options.players }),\n    }\n  }\n\n  const loadSpec = await getSong()\n  const { tasks, promise } = GameLoader.load(loadSpec)\n  await SCENE_MANAGER.display(\n    React.createElement(LoadingScene, {\n      tasks: tasks,\n      song: loadSpec.metadata,\n    })\n  )\n  const controller = await promise\n  await SCENE_MANAGER.display(new GameScene(controller.display))\n  controller.start()\n}\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","CustomChartSelector","constructor","props","super","handleDrop","e","preventDefault","event","nativeEvent","resources","fileList","then","list","filter","filename","test","map","name","file","resource","bms","this","setState","files","catch","err","Error","code","handleItemClick","onSelect","state","handleClear","render","className","length","href","onClick","selectedResource","propTypes","submit","play","bindOption","binder","target","value","forceUpdate","handleDragOver","refs","dropzone","handleSelectFile","Object","assign","onDragOver","onDrop","onSubmit","type","disabled","onChange","o","v","url","ref","game","audioInputLatency","players","speed","placement","checked","async","main","window","addEventListener","unmute","removeEventListener","loadSpec","kbm","query","split","x","autoplay","scratch","input","keyboard","SC","SC2","Promise","resolve","scene","data","displayShell","assetsUrl","URL","assets","metadata","title","subtitles","artist","genre","subartists","getSong","tasks","promise","LoadingScene","song","controller","display","start"],"sourceRoot":""}