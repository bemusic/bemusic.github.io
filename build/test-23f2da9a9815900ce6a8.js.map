{"version":3,"file":"build/test-23f2da9a9815900ce6a8.js","mappings":"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","sources":["file:///home/runner/work/bemuse/bemuse/bemuse/src|sync|/\\.spec\\.[jt]sx?$/","file:///home/runner/work/bemuse/bemuse/bemuse/src/test/support/mocha-overrides.css","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/test-fixtures/example-music-server/index.json","file:///home/runner/work/bemuse/bemuse/common/temp/node_modules/.pnpm/power-assert-formatter@1.4.1/node_modules/power-assert-formatter/lib|sync","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/createAutoVelocity.ts","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/performSideEffects.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/createCollectionLoader.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/findMatchingSong.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/custom-folder/index.spec.ts","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/test-helpers/index.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/music-collection/index.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/music-collection/index.spec.ts","file:///home/runner/work/bemuse/bemuse/bemuse/src/sampling-master/ogg.spec.ts","file:///home/runner/work/bemuse/bemuse/bemuse/src/test/support/mocha-overrides.css?[contenthash]","file:///home/runner/work/bemuse/bemuse/bemuse/src/test/support/mocha-overrides.css?[contenthash]*","file:///home/runner/work/bemuse/bemuse/bemuse/src/test/loadSpecs.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/test/prepareTestEnvironment.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/test/index.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/entities/Collections.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/entities/LoadState.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/entities/MusicSearchText.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/entities/MusicSelection.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/entities/Options.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/createAutoVelocity.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/wait-until/index.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/createCollectionLoader.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/findMatchingSong.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/interactors/getLR2Score.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/app/redux/ReduxState.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/custom-song-loader/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/audio/player-audio.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/audio/wave-factory.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/display/Gauge.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/display/note-area.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/display/player-display.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/input/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/input/touch-plugin.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/judgments.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/loaders/samples-loader.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/state/player-state.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/game/state/player-stats.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/keysound-cache/createKeysoundCache.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/omni-input/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/online/data-store.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/online/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/progress/formatters.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/progress/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/progress/utils.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/resources/bemuse-package.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/resources/url.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/sampling-master/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/scintillator/expression/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/scintillator/index.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/scintillator/nodes/concerns/animation.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/utils/download.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/utils/formatTime.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/utils/observable.spec.js","file:///home/runner/work/bemuse/bemuse/bemuse/src/utils/read-blob.spec.js"],"sourcesContent":["var map = {\n\t\"./app/entities/Collections.spec.js\": 80457,\n\t\"./app/entities/LoadState.spec.js\": 77412,\n\t\"./app/entities/MusicSearchText.spec.js\": 9254,\n\t\"./app/entities/MusicSelection.spec.js\": 82076,\n\t\"./app/entities/Options.spec.js\": 44469,\n\t\"./app/interactors/createAutoVelocity.spec.js\": 16197,\n\t\"./app/interactors/createCollectionLoader.spec.js\": 83188,\n\t\"./app/interactors/findMatchingSong.spec.js\": 39901,\n\t\"./app/interactors/getLR2Score.spec.js\": 53605,\n\t\"./app/redux/ReduxState.spec.js\": 76576,\n\t\"./custom-folder/index.spec.ts\": 70692,\n\t\"./custom-song-loader/index.spec.js\": 24631,\n\t\"./game/audio/player-audio.spec.js\": 907,\n\t\"./game/audio/wave-factory.spec.js\": 48688,\n\t\"./game/display/Gauge.spec.js\": 52516,\n\t\"./game/display/note-area.spec.js\": 18030,\n\t\"./game/display/player-display.spec.js\": 25238,\n\t\"./game/input/index.spec.js\": 62610,\n\t\"./game/input/touch-plugin.spec.js\": 19367,\n\t\"./game/judgments.spec.js\": 36678,\n\t\"./game/loaders/samples-loader.spec.js\": 39227,\n\t\"./game/state/player-state.spec.js\": 70759,\n\t\"./game/state/player-stats.spec.js\": 63684,\n\t\"./keysound-cache/createKeysoundCache.spec.js\": 54592,\n\t\"./music-collection/index.spec.ts\": 70874,\n\t\"./omni-input/index.spec.js\": 55012,\n\t\"./online/data-store.spec.js\": 50469,\n\t\"./online/index.spec.js\": 92601,\n\t\"./progress/formatters.spec.js\": 23847,\n\t\"./progress/index.spec.js\": 77072,\n\t\"./progress/utils.spec.js\": 77440,\n\t\"./resources/bemuse-package.spec.js\": 57561,\n\t\"./resources/url.spec.js\": 89333,\n\t\"./sampling-master/index.spec.js\": 27362,\n\t\"./sampling-master/ogg.spec.ts\": 28523,\n\t\"./scintillator/expression/index.spec.js\": 69020,\n\t\"./scintillator/index.spec.js\": 83451,\n\t\"./scintillator/nodes/concerns/animation.spec.js\": 27817,\n\t\"./utils/download.spec.js\": 42485,\n\t\"./utils/formatTime.spec.js\": 13055,\n\t\"./utils/observable.spec.js\": 17302,\n\t\"./utils/read-blob.spec.js\": 90007\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 91641;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#mocha-stats em {\\n  color: white;\\n}\\n\\n.mocha-is-passing::before {\\n  content: '';\\n  display: block;\\n  background: #0c0;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  height: 10px;\\n  left: 0;\\n}\\n\\n.mocha-is-failing::before {\\n  content: '';\\n  display: block;\\n  background: #c00;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  height: 10px;\\n  left: 0;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./test/support/mocha-overrides.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;EACX,cAAc;EACd,gBAAgB;EAChB,eAAe;EACf,MAAM;EACN,QAAQ;EACR,YAAY;EACZ,OAAO;AACT;;AAEA;EACE,WAAW;EACX,cAAc;EACd,gBAAgB;EAChB,eAAe;EACf,MAAM;EACN,QAAQ;EACR,YAAY;EACZ,OAAO;AACT\",\"sourcesContent\":[\"#mocha-stats em {\\n  color: white;\\n}\\n\\n.mocha-is-passing::before {\\n  content: '';\\n  display: block;\\n  background: #0c0;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  height: 10px;\\n  left: 0;\\n}\\n\\n.mocha-is-failing::before {\\n  content: '';\\n  display: block;\\n  background: #c00;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  height: 10px;\\n  left: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = {\"songs\":[{\"id\":\"[aoi]olivia\",\"path\":\"[aoi]olivia\",\"title\":\"\",\"artist\":\"\",\"genre\":\"Sexy Dance\",\"bpm\":128,\"artist_url\":\"http://aoi.prismusic.net/\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=131&event=96\",\"song_url\":\"https://soundcloud.com/aoi-kakuta/mou5p223mclf\",\"long_url\":\"https://soundcloud.com/aoi-kakuta/groundbreaking-mix\",\"charts\":[{\"file\":\"olivia_SPA.bml\",\"md5\":\"b301d67f3639cd2701c5ef7a25485a34\",\"info\":{\"title\":\"\",\"artist\":\"\",\"genre\":\"Sexy Dance\",\"subtitles\":[\"SP Another\"],\"subartists\":[\"mov: \"],\"difficulty\":4,\"level\":11},\"noteCount\":1158,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}},{\"file\":\"olivia_SPH.bml\",\"md5\":\"01ee4891199f523c170677433a625592\",\"info\":{\"title\":\"\",\"artist\":\"\",\"genre\":\"Sexy Dance\",\"subtitles\":[\"SP Hyper\"],\"subartists\":[\"mov: \"],\"difficulty\":3,\"level\":7},\"noteCount\":716,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}},{\"file\":\"olivia_SPN.bml\",\"md5\":\"33e4b2616c05ace330c7eb3ccc7d080a\",\"info\":{\"title\":\"\",\"artist\":\"\",\"genre\":\"Sexy Dance\",\"subtitles\":[\"SP Normal\"],\"subartists\":[\"mov: \"],\"difficulty\":2,\"level\":4},\"noteCount\":447,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}},{\"file\":\"olivia_SPpp.bml\",\"md5\":\"64d2a8eec9f048634ff9a32cfa064ab8\",\"info\":{\"title\":\"\",\"artist\":\"\",\"genre\":\"Sexy Dance\",\"subtitles\":[\"Tonalite\"],\"subartists\":[\"mov: /obj:\"],\"difficulty\":5,\"level\":8},\"noteCount\":1097,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}}]},{\"id\":\"[flicknote]bymyside\",\"path\":\"[flicknote]bymyside\",\"title\":\"BYMYSIDE\",\"artist\":\"flicknote\",\"genre\":\"Trance Core\",\"bpm\":178,\"artist_url\":\"https://soundcloud.com/o_ooooo\",\"song_url\":\"https://soundcloud.com/o_ooooo/by-my-side\",\"tutorial\":1,\"charts\":[{\"file\":\"ByMySide-TUTORIAL.bms\",\"md5\":\"006d92b8410a8683f347f2bee424d9c1\",\"info\":{\"title\":\"BYMYSIDE\",\"artist\":\"flicknote\",\"genre\":\"Trance Core\",\"subtitles\":[\"TUTORIAL\"],\"subartists\":[],\"difficulty\":0,\"level\":0},\"noteCount\":511,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":178,\"min\":178,\"median\":178,\"max\":178}}]},{\"id\":\"[ice]l\",\"path\":\"[ice]l\",\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"bpm\":155,\"artist_url\":\"https://soundcloud.com/iceloki\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=146&event=83\",\"song_url\":\"https://soundcloud.com/iceloki/l-bms-edit\",\"charts\":[{\"file\":\"L_[DP-Lokinother].bms\",\"md5\":\"07bde7731a578ffb1af4a27948b002ac\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"LOKINOTHER\"],\"subartists\":[],\"difficulty\":5,\"level\":12},\"noteCount\":1166,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[DPA].bms\",\"md5\":\"925b52c71c25c554ee603e7a4f8ba4e8\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"ANOTHER\"],\"subartists\":[],\"difficulty\":4,\"level\":12},\"noteCount\":893,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[DPH].bms\",\"md5\":\"d0302876b6f50419f81e367a80bb1e1f\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"HYPER\"],\"subartists\":[],\"difficulty\":3,\"level\":12},\"noteCount\":600,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[DPN].bms\",\"md5\":\"d146b4f0a91d4432890d3feaede2da86\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"NORMAL\"],\"subartists\":[],\"difficulty\":2,\"level\":8},\"noteCount\":355,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[SP-Ayauto-normal].bms\",\"md5\":\"35a9eb6654cd0467755b5088741da080\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"AYAUTO-NORMAL\"],\"subartists\":[],\"difficulty\":2,\"level\":9},\"noteCount\":495,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[SP-hyper-lite].bms\",\"md5\":\"cc4f7f1cc6fbcaf5a1b149189066f152\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"HYPER-LITE\"],\"subartists\":[],\"difficulty\":3,\"level\":10},\"noteCount\":999,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[SP-Loathe](lai-).bms\",\"md5\":\"765ced583b56843f6d20b858605a6383\",\"info\":{\"title\":\"L\",\"artist\":\"Ice (obj Ice vs lai-)\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"LOATHE\"],\"subartists\":[],\"difficulty\":5,\"level\":18},\"noteCount\":2458,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[SP-Lokinother].bms\",\"md5\":\"d15fa5e17826c126357f03aca678ccbb\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"LOKINOTHER\"],\"subartists\":[],\"difficulty\":5,\"level\":20},\"noteCount\":3133,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[SPA](XEIR).bme\",\"md5\":\"aadb7d00993afd10642ee637c8981e5b\",\"info\":{\"title\":\"L\",\"artist\":\"Ice (object: XEIR)\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"ANOTHER\"],\"subartists\":[],\"difficulty\":4,\"level\":12},\"noteCount\":2101,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[SPH](XEIR).bme\",\"md5\":\"20c14547a180ed2703670af5b83e12d5\",\"info\":{\"title\":\"L\",\"artist\":\"Ice (object: XEIR)\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"HYPER\"],\"subartists\":[],\"difficulty\":3,\"level\":11},\"noteCount\":1465,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}},{\"file\":\"L_[SPN].bms\",\"md5\":\"694c89556e73ba4c667a714c51c2764a\",\"info\":{\"title\":\"L\",\"artist\":\"Ice\",\"genre\":\"RENAISSANCE PRAYER\",\"subtitles\":[\"NORMAL\"],\"subartists\":[],\"difficulty\":2,\"level\":7},\"noteCount\":639,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":155,\"min\":155,\"median\":155,\"max\":155}}]},{\"id\":\"[puru]homura\",\"path\":\"[puru]homura\",\"title\":\"Homura\",\"artist\":\"puru\",\"genre\":\"Future Bass\",\"bpm\":180,\"artist_url\":\"https://soundcloud.com/puru\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=242&event=96\",\"song_url\":\"https://soundcloud.com/puru/homura\",\"long_url\":\"https://soundcloud.com/puru/homuraextendmix\",\"charts\":[{\"file\":\"Homura(A).bms\",\"md5\":\"53b31ae4944b9d945ea976c0845cf1f8\",\"info\":{\"title\":\"Homura\",\"artist\":\"Puru / kkkfff2\",\"genre\":\"Future Bass\",\"subtitles\":[\"A\"],\"subartists\":[],\"difficulty\":4,\"level\":10},\"noteCount\":1128,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":180,\"min\":180,\"median\":180,\"max\":180}},{\"file\":\"Homura(D).bms\",\"md5\":\"68ca471bb809bc3e3266c75078d0a5eb\",\"info\":{\"title\":\"Homura\",\"artist\":\"Puru / kkkfff2\",\"genre\":\"Future Bass\",\"subtitles\":[\"D\"],\"subartists\":[],\"difficulty\":5,\"level\":12},\"noteCount\":1443,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":180,\"min\":180,\"median\":180,\"max\":180}},{\"file\":\"Homura(H).bms\",\"md5\":\"a59425e69e2ccd8532b3e1522ff46344\",\"info\":{\"title\":\"Homura\",\"artist\":\"Puru / kkkfff2\",\"genre\":\"Future Bass\",\"subtitles\":[\"H\"],\"subartists\":[],\"difficulty\":3,\"level\":8},\"noteCount\":916,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":180,\"min\":180,\"median\":180,\"max\":180}},{\"file\":\"Homura(N).bms\",\"md5\":\"f79071d1c28b394d5f4b2516087bf28c\",\"info\":{\"title\":\"Homura\",\"artist\":\"Puru / kkkfff2\",\"genre\":\"Future Bass\",\"subtitles\":[\"N\"],\"subartists\":[],\"difficulty\":2,\"level\":6},\"noteCount\":637,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":180,\"min\":180,\"median\":180,\"max\":180}}]},{\"id\":\"[puru]toki\",\"path\":\"[puru]toki\",\"title\":\"Toki\",\"artist\":\"puru\",\"genre\":\"ProgressiveTrance\",\"bpm\":130,\"artist_url\":\"https://soundcloud.com/puru\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=101&event=83\",\"song_url\":\"https://soundcloud.com/puru/bof2012-toki-bms-ver\",\"long_url\":\"https://soundcloud.com/pineappledigital/puru-toki-original-mix-preview\",\"charts\":[{\"file\":\"toki_another14.bms\",\"md5\":\"ea0ab466efb607f7429b31e8a63b09f4\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2 / Obj. Z_N\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"DP ANOTHER\"],\"subartists\":[],\"difficulty\":4,\"level\":11},\"noteCount\":706,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_another7.bms\",\"md5\":\"fbe734a400152f13da14ab34adc70486\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"ANOTHER\"],\"subartists\":[],\"difficulty\":4,\"level\":10},\"noteCount\":1087,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_beginner7.bms\",\"md5\":\"abd8fc9eaf68907ffaeaaeb28724ef88\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"BEGINNER\"],\"subartists\":[],\"difficulty\":1,\"level\":3},\"noteCount\":342,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_clockwise7.bms\",\"md5\":\"8f0d978c82050ba902d9247792aab764\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"ClockWise\"],\"subartists\":[\"obj.sialua\"],\"difficulty\":5,\"level\":3},\"noteCount\":1741,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_hyper14.bms\",\"md5\":\"82d3930443bf62cf68812f0cef08723c\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2 / Obj. Z_N\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"DP HYPER\"],\"subartists\":[],\"difficulty\":3,\"level\":9},\"noteCount\":505,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_hyper7.bms\",\"md5\":\"2a0ad67c104b2094009944078ff5dfe0\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"HYPER\"],\"subartists\":[],\"difficulty\":3,\"level\":8},\"noteCount\":825,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_LN1_fix.bms\",\"md5\":\"6ce2114a47f2c93a78a537587b1d5554\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"Grandfather's Clock\"],\"subartists\":[\"obj:K-SPIN\"],\"difficulty\":3,\"level\":11},\"noteCount\":916,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_LN2_fix.bms\",\"md5\":\"eb5118053664ea036ea0fe9c60d3daed\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"Grandfather's Curtain\"],\"subartists\":[\"obj:K-SPIN\"],\"difficulty\":4,\"level\":12},\"noteCount\":1134,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}},{\"file\":\"toki_normal7.bms\",\"md5\":\"6cd9cb6787509ae84a738a78cf980e8a\",\"info\":{\"title\":\"Toki\",\"artist\":\"puru / kkkfff2\",\"genre\":\"ProgressiveTrance\",\"subtitles\":[\"NORMAL\"],\"subartists\":[],\"difficulty\":0,\"level\":6},\"noteCount\":485,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":130,\"min\":130,\"median\":130,\"max\":130}}]},{\"id\":\"[ricora]epilogue\",\"path\":\"[ricora]epilogue\",\"title\":\"\",\"artist\":\"\",\"genre\":\"game music\",\"bpm\":170,\"artist_url\":\"https://soundcloud.com/ricora\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=98&event=96\",\"song_url\":\"https://soundcloud.com/ricora/g2rbms\",\"charts\":[{\"file\":\"another.bms\",\"md5\":\"23b6aae160154b4dda9cbca7c4368c1c\",\"info\":{\"title\":\"\",\"artist\":\"\",\"genre\":\"game music\",\"subtitles\":[\"another\"],\"subartists\":[],\"difficulty\":0,\"level\":12},\"noteCount\":1235,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":98,\"min\":94,\"median\":170,\"max\":185}},{\"file\":\"hyper.bms\",\"md5\":\"c6e94c372e952a3146baf07b83e1052d\",\"info\":{\"title\":\"\",\"artist\":\"\",\"genre\":\"game music\",\"subtitles\":[\"hyper\"],\"subartists\":[],\"difficulty\":0,\"level\":9},\"noteCount\":776,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":98,\"min\":94,\"median\":170,\"max\":185}},{\"file\":\"normal.bms\",\"md5\":\"aeeec7740bfde42989d477f86d5ca91e\",\"info\":{\"title\":\"\",\"artist\":\"\",\"genre\":\"game music\",\"subtitles\":[\"normal\"],\"subartists\":[],\"difficulty\":0,\"level\":5},\"noteCount\":405,\"scratch\":true,\"keys\":\"5K\",\"bpm\":{\"init\":98,\"min\":94,\"median\":170,\"max\":185}}]},{\"id\":\"[sky_delta]kreuz\",\"path\":\"[sky_delta]kreuz\",\"title\":\"Kreuz\",\"artist\":\"sky_delta\",\"genre\":\"IDM\",\"bpm\":183,\"artist_url\":\"https://soundcloud.com/sky_delta\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=89&event=96\",\"song_url\":\"https://soundcloud.com/sky_delta/kreuz\",\"charts\":[{\"file\":\"kreuz_spa.bms\",\"md5\":\"5c29aeca8a8b2f303d6587f50277c939\",\"info\":{\"title\":\"Kreuz\",\"artist\":\"sky_delta\",\"genre\":\"IDM\",\"subtitles\":[\"Another\"],\"subartists\":[],\"difficulty\":4,\"level\":12},\"noteCount\":1523,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":183,\"min\":91.5,\"median\":183,\"max\":183}},{\"file\":\"kreuz_sph.bms\",\"md5\":\"eefb650199700b7682f930b597c2c50c\",\"info\":{\"title\":\"Kreuz\",\"artist\":\"sky_delta\",\"genre\":\"IDM\",\"subtitles\":[\"Hyper\"],\"subartists\":[],\"difficulty\":3,\"level\":9},\"noteCount\":891,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":183,\"min\":91.5,\"median\":183,\"max\":183}},{\"file\":\"kreuz_spn.bms\",\"md5\":\"86e3a22472e94adda5f89b36e00389ca\",\"info\":{\"title\":\"Kreuz\",\"artist\":\"sky_delta\",\"genre\":\"IDM\",\"subtitles\":[\"Normal\"],\"subartists\":[],\"difficulty\":2,\"level\":5},\"noteCount\":421,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":183,\"min\":91.5,\"median\":183,\"max\":183}}]},{\"id\":\"[snack]dddd\",\"path\":\"[snack]dddd\",\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"bpm\":200,\"artist_url\":\"http://korsnack.kr/\",\"bms_url\":\"http://k-bms.com/party_pabat/party2015.jsp?board_num=15&num=16&order=reg&odtype=a\",\"song_url\":\"https://soundcloud.com/korsnack/ddddevelopers\",\"charts\":[{\"file\":\"dddd_dpa.bme\",\"md5\":\"1d33d50e2d0a06e85f8eb6b5eab8ea08\",\"info\":{\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"subtitles\":[\"DP ANOTHER\"],\"subartists\":[],\"difficulty\":4,\"level\":12},\"noteCount\":954,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":200,\"min\":200,\"median\":200,\"max\":200}},{\"file\":\"dddd_dph.bme\",\"md5\":\"98ef1bd4ed2ec2aad3b9550d86a50f9e\",\"info\":{\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"subtitles\":[\"DP HYPER\"],\"subartists\":[],\"difficulty\":3,\"level\":10},\"noteCount\":660,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":200,\"min\":200,\"median\":200,\"max\":200}},{\"file\":\"dddd_dpn.bme\",\"md5\":\"5051253910a8b732cb07018c8b9ffa8d\",\"info\":{\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"subtitles\":[\"DP NORMAL\"],\"subartists\":[],\"difficulty\":2,\"level\":7},\"noteCount\":481,\"scratch\":true,\"keys\":\"14K\",\"bpm\":{\"init\":200,\"min\":200,\"median\":200,\"max\":200}},{\"file\":\"dddd_spa.bme\",\"md5\":\"e50d342e7ba934b97080a5b070cca22b\",\"info\":{\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"subtitles\":[\"SP ANOTHER\"],\"subartists\":[],\"difficulty\":4,\"level\":12},\"noteCount\":1800,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":200,\"min\":200,\"median\":200,\"max\":200}},{\"file\":\"dddd_sph.bme\",\"md5\":\"3a513929761da3509f50560933a7b453\",\"info\":{\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"subtitles\":[\"SP HYPER\"],\"subartists\":[],\"difficulty\":3,\"level\":10},\"noteCount\":1400,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":200,\"min\":200,\"median\":200,\"max\":200}},{\"file\":\"dddd_spn.bme\",\"md5\":\"1c259d92801ad4b197296ff89420d863\",\"info\":{\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"subtitles\":[\"SP NORMAL\"],\"subartists\":[],\"difficulty\":2,\"level\":7},\"noteCount\":990,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":200,\"min\":200,\"median\":200,\"max\":200}},{\"file\":\"dddd_spx.bme\",\"md5\":\"fa1c8c0053054438632d1f9e647f9dba\",\"info\":{\"title\":\"Developers, Developers, Developers, Developers!\",\"artist\":\"Snack\",\"genre\":\"Tribute\",\"subtitles\":[\"SP EXCEPTION\"],\"subartists\":[],\"difficulty\":5,\"level\":13},\"noteCount\":2500,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":200,\"min\":200,\"median\":200,\"max\":200}}]},{\"id\":\"[tis]airtrip\",\"path\":\"[tis]airtrip\",\"title\":\"AirTrip-SF#2-\",\"artist\":\"TiS\",\"genre\":\"PROGRESSIVE FUSION\",\"bpm\":266,\"artist_url\":\"https://soundcloud.com/house-x\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=154&event=96\",\"song_url\":\"https://soundcloud.com/house-x/airtrip-bms-mix\",\"charts\":[{\"file\":\"airtrip_a.bme\",\"md5\":\"f14357d72c2c11081fd45dc00aa4cffa\",\"info\":{\"title\":\"AirTrip-SF#2-\",\"artist\":\"TiS\",\"genre\":\"PROGRESSIVE FUSION\",\"subtitles\":[\"ANOTHER\"],\"subartists\":[],\"difficulty\":4,\"level\":12},\"noteCount\":1921,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":266,\"min\":266,\"median\":266,\"max\":266}},{\"file\":\"airtrip_h.bme\",\"md5\":\"a43cc5cd115c32c934bed8e056362e2b\",\"info\":{\"title\":\"AirTrip-SF#2-\",\"artist\":\"TiS\",\"genre\":\"PROGRESSIVE FUSION\",\"subtitles\":[\"HYPER\"],\"subartists\":[],\"difficulty\":3,\"level\":11},\"noteCount\":1506,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":266,\"min\":266,\"median\":266,\"max\":266}},{\"file\":\"airtrip_n.bme\",\"md5\":\"2058a2b19f6e03a42799bfdf8b62dc48\",\"info\":{\"title\":\"AirTrip-SF#2-\",\"artist\":\"TiS\",\"genre\":\"PROGRESSIVE FUSION\",\"subtitles\":[\"NORMAL\"],\"subartists\":[],\"difficulty\":2,\"level\":5},\"noteCount\":592,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":266,\"min\":266,\"median\":266,\"max\":266}}]},{\"id\":\"[void]caelumize\",\"path\":\"[void]caelumize\",\"title\":\"Caelumize\",\"artist\":\"void\",\"genre\":\"Filmscore / Neurocore\",\"bpm\":175,\"artist_url\":\"http://mournfinale.com/\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=389&event=88\",\"long_url\":\"https://soundcloud.com/mournfinale/void-caelumize\",\"charts\":[{\"file\":\"01spb.bml\",\"md5\":\"dcbbecfead7fd61547c2e37910bf656f\",\"info\":{\"title\":\"Caelumize\",\"artist\":\"void\",\"genre\":\"Filmscore / Neurocore\",\"subtitles\":[],\"subartists\":[\"Momomi Aoyama\"],\"difficulty\":1,\"level\":3},\"noteCount\":348,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":175,\"min\":175,\"median\":175,\"max\":175}},{\"file\":\"02spn.bml\",\"md5\":\"53dfc76d4bca81101f40411b6556e442\",\"info\":{\"title\":\"Caelumize\",\"artist\":\"void\",\"genre\":\"Filmscore / Neurocore\",\"subtitles\":[],\"subartists\":[\"Momomi Aoyama\"],\"difficulty\":2,\"level\":6},\"noteCount\":584,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":175,\"min\":175,\"median\":175,\"max\":175}},{\"file\":\"03sph.bml\",\"md5\":\"4aab905d3502fc436669c84db02a1954\",\"info\":{\"title\":\"Caelumize\",\"artist\":\"void\",\"genre\":\"Filmscore / Neurocore\",\"subtitles\":[],\"subartists\":[\"Momomi Aoyama\"],\"difficulty\":3,\"level\":9},\"noteCount\":975,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":175,\"min\":175,\"median\":175,\"max\":175}},{\"file\":\"04spa.bml\",\"md5\":\"ff9f57e9d4f55e61d90de053816fc0f4\",\"info\":{\"title\":\"Caelumize\",\"artist\":\"void\",\"genre\":\"Filmscore / Neurocore\",\"subtitles\":[],\"subartists\":[\"Momomi Aoyama\"],\"difficulty\":4,\"level\":11},\"noteCount\":1331,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":175,\"min\":175,\"median\":175,\"max\":175}}]},{\"id\":\"[w_tre]chicken\",\"path\":\"[w_tre]chicken\",\"title\":\"CHICKEN for the WIN\",\"artist\":\"w_tre\",\"genre\":\"electro\",\"bpm\":128,\"artist_url\":\"http://soundcloud.com/7_wtre\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=32&event=96\",\"song_url\":\"https://soundcloud.com/7_wtre/c4tw\",\"charts\":[{\"file\":\"chicken_5a.bms\",\"md5\":\"feadbe808a674445c759145c039036ce\",\"info\":{\"title\":\"CHICKEN for the WIN\",\"artist\":\"innkeeper\",\"genre\":\"electro\",\"subtitles\":[\"5 ENRAGED\"],\"subartists\":[\"SmiGoon Respect CHICKEN\"],\"difficulty\":4,\"level\":10},\"noteCount\":973,\"scratch\":true,\"keys\":\"5K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}},{\"file\":\"chicken_5h.bms\",\"md5\":\"2e5b7e5a4727abde6bf608c9bbf4301b\",\"info\":{\"title\":\"CHICKEN for the WIN\",\"artist\":\"innkeeper\",\"genre\":\"electro\",\"subtitles\":[\"5 BUFFED\"],\"subartists\":[\"SmiGoon Respect CHICKEN\"],\"difficulty\":3,\"level\":7},\"noteCount\":682,\"scratch\":true,\"keys\":\"5K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}},{\"file\":\"chicken_5n.bms\",\"md5\":\"fae9b6067e63a497118e695706792d07\",\"info\":{\"title\":\"CHICKEN for the WIN\",\"artist\":\"innkeeper\",\"genre\":\"electro\",\"subtitles\":[\"5 SUMMONED\"],\"subartists\":[\"SmiGoon Respect CHICKEN\"],\"difficulty\":2,\"level\":3},\"noteCount\":352,\"scratch\":true,\"keys\":\"5K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}},{\"file\":\"chicken_7a.bme\",\"md5\":\"2c41613fb1dcff6126a9b745a8ffcf74\",\"info\":{\"title\":\"CHICKEN for the WIN\",\"artist\":\"innkeeper\",\"genre\":\"electro\",\"subtitles\":[\"7 ENRAGED\"],\"subartists\":[\"Pattern : KRX\"],\"difficulty\":4,\"level\":11},\"noteCount\":1332,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":128,\"min\":64,\"median\":128,\"max\":128}},{\"file\":\"chicken_7h.bme\",\"md5\":\"deaf9009669eb8353fcf5199b6d72a2e\",\"info\":{\"title\":\"CHICKEN for the WIN\",\"artist\":\"innkeeper\",\"genre\":\"electro\",\"subtitles\":[\"7 BUFFED\"],\"subartists\":[\"Pattern : KRX\"],\"difficulty\":3,\"level\":8},\"noteCount\":871,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}},{\"file\":\"chicken_7n.bme\",\"md5\":\"379ea003d006df4a6a7e250e03996b0c\",\"info\":{\"title\":\"CHICKEN for the WIN\",\"artist\":\"innkeeper\",\"genre\":\"electro\",\"subtitles\":[\"7 SUMMONED\"],\"subartists\":[\"Pattern : KRX\"],\"difficulty\":2,\"level\":5},\"noteCount\":532,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":128,\"min\":128,\"median\":128,\"max\":128}}]},{\"id\":\"[w_tre]mom\",\"path\":\"[w_tre]mom\",\"title\":\"mom\",\"artist\":\"w_tre\",\"genre\":\"piano\",\"bpm\":90,\"artist_url\":\"http://soundcloud.com/7_wtre\",\"bms_url\":\"http://k-bms.com/party_pabat/party2015.jsp?board_num=15&num=32&order=reg&odtype=a\",\"song_url\":\"https://soundcloud.com/7_wtre/mom\",\"charts\":[{\"file\":\"mom_s1.bme\",\"md5\":\"9ca6f832f8d5b85549c3129e740d1705\",\"info\":{\"title\":\"mom\",\"artist\":\"w_tre\",\"genre\":\"piano\",\"subtitles\":[\"[normal]\"],\"subartists\":[],\"difficulty\":0,\"level\":2},\"noteCount\":155,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":90,\"min\":90,\"median\":90,\"max\":90}},{\"file\":\"mom_s2.bme\",\"md5\":\"557b4da440303c0421d972876600a513\",\"info\":{\"title\":\"mom\",\"artist\":\"w_tre\",\"genre\":\"piano\",\"subtitles\":[\"[hyper]\"],\"subartists\":[],\"difficulty\":0,\"level\":5},\"noteCount\":434,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":90,\"min\":90,\"median\":90,\"max\":90}},{\"file\":\"mom_s3.bme\",\"md5\":\"1444f6dfaa7fd802586af5b331bac1ca\",\"info\":{\"title\":\"mom\",\"artist\":\"w_tre\",\"genre\":\"piano\",\"subtitles\":[\"[another]\"],\"subartists\":[],\"difficulty\":0,\"level\":9},\"noteCount\":925,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":90,\"min\":90,\"median\":90,\"max\":90}},{\"file\":\"mom_s4.bme\",\"md5\":\"010492dbce773e39992651ce11a146d5\",\"info\":{\"title\":\"mom\",\"artist\":\"w_tre\",\"genre\":\"piano\",\"subtitles\":[\"[insane]\"],\"subartists\":[\"obj. sialua\"],\"difficulty\":5,\"level\":12},\"noteCount\":1758,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":90,\"min\":90,\"median\":90,\"max\":90}}]},{\"id\":\"[yukitani]acp\",\"path\":\"[yukitani]acp\",\"title\":\"Amusing Colorful Pudding.\",\"artist\":\"yukitani\",\"genre\":\"Electro Swing Pop\",\"bpm\":226,\"artist_url\":\"https://soundcloud.com/yukitani\",\"bms_url\":\"http://manbow.nothing.sh/event/event.cgi?action=More_def&num=147&event=96\",\"song_url\":\"https://soundcloud.com/yukitani/amusing-colorful-pudding\",\"charts\":[{\"file\":\"acp.bme\",\"md5\":\"1df76e4d513ea545bf5cadfd52731abe\",\"info\":{\"title\":\"Amusing Colorful Pudding.\",\"artist\":\"yukitani / DKN\",\"genre\":\"Electro Swing Pop\",\"subtitles\":[\"dorodoro\"],\"subartists\":[],\"difficulty\":0,\"level\":12},\"noteCount\":1820,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":226,\"min\":226,\"median\":226,\"max\":226}},{\"file\":\"acph.bme\",\"md5\":\"963868a59ecc4b8f80cd1d377b17557a\",\"info\":{\"title\":\"Amusing Colorful Pudding.\",\"artist\":\"yukitani / DKN\",\"genre\":\"Electro Swing Pop\",\"subtitles\":[\"nameraca\"],\"subartists\":[],\"difficulty\":0,\"level\":10},\"noteCount\":1130,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":226,\"min\":226,\"median\":226,\"max\":226}},{\"file\":\"acpn.bme\",\"md5\":\"15e39902521c9012a403da7d556009de\",\"info\":{\"title\":\"Amusing Colorful Pudding.\",\"artist\":\"yukitani / DKN\",\"genre\":\"Electro Swing Pop\",\"subtitles\":[\"funwari\"],\"subartists\":[],\"difficulty\":0,\"level\":6},\"noteCount\":576,\"scratch\":true,\"keys\":\"7K\",\"bpm\":{\"init\":226,\"min\":226,\"median\":226,\"max\":226}}]}]}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 73730;\nmodule.exports = webpackEmptyContext;","import _ from 'lodash'\nimport invariant from 'invariant'\ntype VelocityControllerOptions = {\n  enabled: boolean\n  initialSpeed: number\n  desiredLeadTime: number\n  songBPM: number\n  laneCover?: number\n}\ntype VelocityController = {\n  getInitialSpeed(): number\n  handleGameFinish(\n    finishingSpeed: number,\n    options: {\n      saveSpeed: (speed: number) => void\n      saveLeadTime: (speed: number) => void\n    }\n  ): void\n}\nexport default (options: VelocityControllerOptions): VelocityController => {\n  invariant(typeof options.enabled === 'boolean', 'enabled must be a boolean')\n  invariant(\n    typeof options.initialSpeed === 'number',\n    'initialSpeed must be a number'\n  )\n  invariant(\n    typeof options.desiredLeadTime === 'number',\n    'desiredLeadTime must be a number'\n  )\n  invariant(typeof options.songBPM === 'number', 'songBPM must be a number')\n  if (options.enabled) {\n    return autoVelocity({\n      desiredLeadTime: options.desiredLeadTime,\n      songBPM: options.songBPM,\n      laneCover: options.laneCover || 0,\n    })\n  } else {\n    return manualVelocity(options.initialSpeed)\n  }\n}\n\nfunction manualVelocity(initialSpeed: number): VelocityController {\n  return {\n    getInitialSpeed() {\n      return initialSpeed\n    },\n    handleGameFinish(finishingSpeed, { saveSpeed }) {\n      saveSpeed(finishingSpeed)\n    },\n  }\n}\n\nfunction autoVelocity({\n  songBPM,\n  desiredLeadTime,\n  laneCover,\n}: {\n  songBPM: number\n  desiredLeadTime: number\n  laneCover: number\n}): VelocityController {\n  const visiblePortion = 1 - Math.abs(laneCover)\n  const nominalSpeedLeadTime = ((60000 * 5) / songBPM) * visiblePortion\n  const initialSpeed = _.minBy(\n    _.range(1, 999).map((x) => x / 10),\n    (speed) => Math.abs(desiredLeadTime - nominalSpeedLeadTime / speed)\n  )!\n  return {\n    getInitialSpeed() {\n      return initialSpeed\n    },\n    handleGameFinish(finishingSpeed, { saveSpeed, saveLeadTime }) {\n      saveSpeed(finishingSpeed)\n      if (finishingSpeed.toFixed(1) !== initialSpeed.toFixed(1)) {\n        saveLeadTime(Math.round(nominalSpeedLeadTime / finishingSpeed))\n      }\n    },\n  }\n}\n","export function performSideEffects(sideEffect) {\n  const subscription = sideEffect.subscribe((f) => f())\n  return {\n    dispose: () => subscription.unsubscribe(),\n  }\n}\n\nexport default performSideEffects\n","import * as Rx from 'rxjs/Rx'\nimport { load as loadCollection } from 'bemuse/music-collection'\n\nimport performSideEffects from './performSideEffects'\n\nexport function createCollectionLoader({\n  onBeginLoading,\n  onLoad,\n  onErrorLoading,\n  fetch,\n}) {\n  const collectionUrl = new Rx.Subject()\n  const sideEffect = collectionUrl\n    .groupBy((url) => url)\n    .flatMap((url) =>\n      url.switchMap((url) =>\n        Rx.Observable.concat(\n          Rx.Observable.of(() => onBeginLoading(url)),\n          Rx.Observable.fromPromise(\n            loadCollection(url, { fetch }).then(\n              (data) => () => onLoad(url, data),\n              (error) => () => onErrorLoading(url, error)\n            )\n          )\n        )\n      )\n    )\n\n  function load(collectionUrl) {\n    collectionUrl.next(collectionUrl)\n  }\n\n  return {\n    load,\n    dispose: performSideEffects(sideEffect).dispose,\n  }\n}\n\nexport default createCollectionLoader\n","// Finds a song matching the title\n\nfunction findMatchingSong({ songs, title, getTitle }) {\n  for (const song of songs) {\n    if (titleFullyMatches(getTitle(song), title)) {\n      return song\n    }\n  }\n}\n\nfunction titleFullyMatches(haystack, needle) {\n  return (\n    String(haystack).toLowerCase().trim() ===\n    String(needle).toLowerCase().trim()\n  )\n}\n\nexport default findMatchingSong\n","import {\n  CustomFolderContext,\n  CustomFolderScanIO,\n  getCustomFolderState,\n  scanFolder,\n  setCustomFolder,\n} from '.'\nimport { CustomFolderState } from './types'\n\nconst debugging = false\n\nconst mockFolderScanIO: CustomFolderScanIO = {\n  log: (text) => {\n    debugging && console.log('scanFolder: [log]', text)\n  },\n  setStatus: (text) => {\n    debugging && console.debug('scanFolder: [setStatus]', text)\n  },\n  updateState: () => {},\n}\n\nclass CustomFolderContextMock implements CustomFolderContext {\n  private map = new Map<string, CustomFolderState>()\n  async get(key: string) {\n    return this.map.get(key)\n  }\n\n  async set(key: string, value: CustomFolderState) {\n    this.map.set(key, value)\n  }\n\n  async del(key: string) {\n    this.map.delete(key)\n  }\n}\n\nconst song1: MockFolder = {\n  'normal.bms': '#TITLE meow [NORMAL]\\n#BPM 90\\n#00111:01',\n  'hyper.bms': '#TITLE meow [HYPER]\\n#BPM 90\\n#00111:01',\n}\n\nconst song2: MockFolder = {\n  'normal.bms': '#TITLE nyan [NORMAL]\\n#BPM 90\\n#00111:01',\n  'hyper.bms': '#TITLE nyan [HYPER]\\n#BPM 90\\n#00111:01',\n}\n\nit('allows setting custom folder and loading it in-game', async () => {\n  const folder: MockFolder = { song1, song2 }\n  const tester = new CustomFolderTestHarness()\n  await tester.setFolder(folder)\n  await tester.checkState(async (state) => {\n    expect(state.chartFilesScanned).not.to.equal(true)\n  })\n\n  await tester.scan()\n  await tester.checkState(async (state) => {\n    expect(state.songs).to.have.length(2)\n  })\n})\n\nit('can scan for new songs', async () => {\n  const folder: MockFolder = { song1 }\n  const tester = new CustomFolderTestHarness()\n  await tester.setFolder(folder)\n  await tester.scan()\n  await tester.checkState(async (state) => {\n    expect(state.songs).to.have.length(1)\n  })\n\n  folder['song2'] = song2\n  await tester.scan()\n  await tester.checkState(async (state) => {\n    expect(state.songs).to.have.length(2)\n  })\n})\n\nit('detects deleted folders', async () => {\n  const folder: MockFolder = { song1, song2 }\n  const tester = new CustomFolderTestHarness()\n  await tester.setFolder(folder)\n  await tester.scan()\n  await tester.checkState(async (state) => {\n    expect(state.songs).to.have.length(2)\n  })\n\n  delete folder['song1']\n  await tester.scan()\n  await tester.checkState(async (state) => {\n    expect(state.songs).to.have.length(1)\n  })\n})\nclass CustomFolderTestHarness {\n  private context = new CustomFolderContextMock()\n\n  constructor() {\n    this.context = new CustomFolderContextMock()\n  }\n\n  async setFolder(data: MockFolder) {\n    await setCustomFolder(\n      this.context,\n      createMockFileSystemDirectoryHandle(data)\n    )\n  }\n\n  async scan() {\n    await scanFolder(this.context, mockFolderScanIO)\n  }\n\n  async checkState(f: (state: CustomFolderState) => Promise<void>) {\n    const state = await getCustomFolderState(this.context)\n    void expect(state).not.to.equal(undefined)\n    await f(state!)\n  }\n}\n\ntype MockFolder = {\n  [name: string]: MockFolder | string\n}\n\nfunction createMockFileSystemDirectoryHandle(\n  data: MockFolder\n): FileSystemDirectoryHandle {\n  return {\n    kind: 'directory',\n    queryPermission: async () => 'granted',\n    [Symbol.asyncIterator]: async function* () {\n      for (const [name, value] of Object.entries(data)) {\n        if (typeof value === 'string') {\n          yield [name, createMockFileSystemFileHandle(name, value)] as const\n        } else {\n          yield [name, createMockFileSystemDirectoryHandle(value)] as const\n        }\n      }\n    },\n    getDirectoryHandle: async (name: string) => {\n      expect(data[name]).to.be.an('object')\n      return createMockFileSystemDirectoryHandle(data[name] as MockFolder)\n    },\n    getFileHandle: async (name: string) => {\n      expect(data[name]).to.be.a('string')\n      return createMockFileSystemFileHandle(name, data[name] as string)\n    },\n  } as any\n}\n\nfunction createMockFileSystemFileHandle(\n  name: string,\n  data: string\n): FileSystemFileHandle {\n  return {\n    kind: 'file',\n    queryPermission: async () => 'granted',\n    getFile: async () => {\n      const blob = new Blob([data], { type: 'text/plain' })\n      return Object.assign(blob, {\n        name,\n        lastModified: 1,\n      })\n    },\n  } as any\n}\n","import * as BMS from 'bms'\nimport { fromBMSChart } from 'bemuse-notechart/lib/loader/BMSNotechartLoader'\nimport Player from '../player'\nimport _ from 'lodash'\n\nexport const tap = _.tap\n\nexport function chart(code = '') {\n  return BMS.Compiler.compile(code).chart\n}\n\nexport function notechart(code, options = {}) {\n  return fromBMSChart(chart(code), options)\n}\n\nexport function playerWithBMS(code, options = {}) {\n  return new Player(notechart(code, options), 1, options)\n}\n","export const OFFICIAL_SERVER_URL = 'https://music4.bemuse.ninja/server'\n\nexport async function load(serverUrl, { fetch = global.fetch } = {}) {\n  const indexUrl = getServerIndexFileUrl(serverUrl)\n  const data = await fetch(indexUrl).then((response) => response.json())\n\n  if (Array.isArray(data.songs)) {\n    return data\n  } else if (Array.isArray(data.charts)) {\n    // Single-song server\n    const dir = indexUrl.replace(/[^/]*$/, '')\n    return { songs: [{ ...data, id: 'song', path: dir }] }\n  } else {\n    throw new Error(\n      `Invalid server file at ${indexUrl}: Does not contain \"songs\" array.`\n    )\n  }\n}\n\nexport function getServerIndexFileUrl(serverUrl) {\n  if (serverUrl.endsWith('/bemuse-song.json')) {\n    return serverUrl\n  }\n  return serverUrl.replace(/\\/(?:index\\.json)?$/, '') + '/index.json'\n}\n","import { getServerIndexFileUrl } from '.'\n\ndescribe('getServerIndexFileUrl', () => {\n  it('adds index.json', () => {\n    expect(getServerIndexFileUrl('https://server')).to.equal(\n      'https://server/index.json'\n    )\n  })\n  it('allows subdirectories', () => {\n    expect(getServerIndexFileUrl('https://server/dir/')).to.equal(\n      'https://server/dir/index.json'\n    )\n  })\n  it('allows trailing slashes', () => {\n    expect(getServerIndexFileUrl('https://server/dir')).to.equal(\n      'https://server/dir/index.json'\n    )\n  })\n  it('allows trailing /index.json', () => {\n    expect(getServerIndexFileUrl('https://server/index.json')).to.equal(\n      'https://server/index.json'\n    )\n  })\n})\n","import download from 'bemuse/utils/download'\nimport { decodeOGG } from './ogg'\n\ndescribe('ogg decoder', () => {\n  it('can decode ogg file', async () => {\n    const arrayBuffer = await download(\n      require('./fixtures/guitar-slice-007.ogg')\n    ).as('arraybuffer')\n    const decoded = await decodeOGG(new AudioContext(), arrayBuffer)\n    expect(decoded.duration).to.closeTo(0.04510204081632653, 0.001)\n  })\n})\n","\n      import API from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.1_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./mocha-overrides.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.1_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./mocha-overrides.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/cjs.js!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.1_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./mocha-overrides.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../common/temp/node_modules/.pnpm/style-loader@3.3.1_webpack@5.75.0/node_modules/style-loader/dist/cjs.js!../../../../common/temp/node_modules/.pnpm/css-loader@6.7.2_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../../../../common/temp/node_modules/.pnpm/postcss-loader@7.0.1_webpack@5.75.0/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[6].use[2]!./mocha-overrides.css\";\n       export default content && content.locals ? content.locals : undefined;\n","export function loadSpecs() {\n  const context = require.context('..', true, /\\.spec\\.[jt]sx?$/)\n  for (const key of context.keys()) {\n    describe(key, () => {\n      context(key)\n    })\n  }\n}\n\nexport default loadSpecs\n","import chai from 'chai'\nimport chaiAsPromised from 'chai-as-promised'\nimport sinonChai from 'sinon-chai'\nimport sinon from 'sinon'\n\nexport function prepareTestEnvironment() {\n  mocha.setup('bdd')\n  chai.use(chaiAsPromised)\n  chai.use(sinonChai)\n  global.expect = chai.expect\n  global.sinon = sinon\n}\n\nexport default prepareTestEnvironment\n","// This file boots up Mocha\n//\nimport 'script-loader!mocha/mocha.js'\nimport 'style-loader!mocha/mocha.css'\nimport 'style-loader!./support/mocha-overrides.css'\n\nimport loadSpecs from './loadSpecs'\nimport prepareTestEnvironment from './prepareTestEnvironment'\n\n/* eslint import/no-webpack-loader-syntax: off */\n\nexport function main() {\n  setupMocha()\n  prepareTestEnvironment()\n  loadSpecs()\n  runMocha()\n}\n\nfunction setupMocha() {\n  const mochaElement = document.createElement('div')\n  mochaElement.id = 'mocha'\n  document.body.appendChild(mochaElement)\n}\n\nfunction runMocha() {\n  const specs = []\n  mocha\n    .run()\n    .on('test end', function reportFailedSpec(test) {\n      if (test.err) {\n        console.log(\n          '%cFailed Spec: %c%s\\n %c%s',\n          'color: black; font: 16px sans-serif',\n          'color: black; font: bold 16px sans-serif',\n          test.title,\n          'color: red; font: bold 1em sans-serif',\n          test.err.message\n        )\n        console.error(test.err.stack)\n      }\n    })\n    .on('test end', function (test) {\n      if (test.state === 'passed') {\n        specs.push({\n          fullName: test.title,\n          status: 'passed',\n        })\n      } else if (test.pending) {\n        specs.push({\n          fullName: test.title,\n          status: 'pending',\n        })\n      } else {\n        specs.push({\n          fullName: test.title,\n          status: 'failed',\n          failedExpectations: [\n            { message: test.err.message, stack: test.err.stack },\n          ],\n        })\n      }\n    })\n    .on('suite end', function (suite) {\n      if (suite.root) {\n        if (specs.some((spec) => spec.status === 'failed')) {\n          document.documentElement.classList.add('mocha-is-failing')\n        } else {\n          document.documentElement.classList.add('mocha-is-passing')\n        }\n      }\n    })\n}\n","import * as Collections from './Collections'\nimport * as LoadState from './LoadState'\n\nimport { given, shouldEqual } from 'circumstance'\n\ndescribe('Collections', function () {\n  it('should receive collection data', () =>\n    given(Collections.initialState)\n      .when(Collections.beginLoading('https://test-server/'))\n      .and(Collections.completeLoading('https://test-server/', { x: 1 }))\n      .then(\n        Collections.getCollectionByUrl('https://test-server/'),\n        LoadState.isCompleted,\n        shouldEqual(true)\n      ))\n  it('should allow errors', () =>\n    given(Collections.initialState)\n      .when(Collections.beginLoading('https://test-server/'))\n      .and(Collections.errorLoading('https://test-server/', new Error('oh no')))\n      .then(\n        Collections.getCollectionByUrl('https://test-server/'),\n        LoadState.isError,\n        shouldEqual(true)\n      ))\n})\n","import * as LoadState from './LoadState'\n\nimport { given, shouldEqual } from 'circumstance'\n\ndescribe('LoadState', function () {\n  it('initLoading should be loading', () =>\n    given(LoadState.initLoading()).then(LoadState.isLoading, shouldEqual(true)))\n  it('completeWithValue should turn it into completed', () =>\n    given(LoadState.initLoading())\n      .when(LoadState.completeWithValue(99))\n      .then(LoadState.isCompleted, shouldEqual(true))\n      .and(LoadState.value, shouldEqual(99)))\n  it('errorWithReason should turn it into error', () =>\n    given(LoadState.initLoading())\n      .when(LoadState.errorWithReason(new Error('x')))\n      .then(LoadState.isCompleted, shouldEqual(false))\n      .and(LoadState.isError, shouldEqual(true))\n      .and(LoadState.error, errorMessage, shouldEqual('x')))\n})\n\nconst errorMessage = (error) => error.message\n","import * as MusicSearchText from './MusicSearchText'\nimport { given, shouldEqual } from 'circumstance'\n\ndescribe('MusicSearchText', function () {\n  it('is initially blank', () =>\n    given(MusicSearchText.initialState)\n      .then(MusicSearchText.searchText, shouldEqual(''))\n      .and(MusicSearchText.inputText, shouldEqual('')))\n\n  it('should set inputText when typing', () =>\n    given(MusicSearchText.initialState)\n      .when(MusicSearchText.handleTextType('hello'))\n      .then(MusicSearchText.searchText, shouldEqual(''))\n      .and(MusicSearchText.inputText, shouldEqual('hello')))\n\n  it('should copy inputText to searchText when debounced', () =>\n    given(MusicSearchText.initialState)\n      .and(MusicSearchText.handleTextType('hello'))\n      .when(MusicSearchText.handleDebounce)\n      .then(MusicSearchText.searchText, shouldEqual('hello'))\n      .and(MusicSearchText.inputText, shouldEqual('hello')))\n\n  it('should allow setting text, changing both', () =>\n    given(MusicSearchText.initialState)\n      .when(MusicSearchText.setText('meow'))\n      .then(MusicSearchText.searchText, shouldEqual('meow'))\n      .and(MusicSearchText.inputText, shouldEqual('meow')))\n})\n","import * as MusicSelection from './MusicSelection'\nimport { given, shouldEqual } from 'circumstance'\n\ndescribe('MusicSelection', function () {\n  it('allows selecting song', () =>\n    given(MusicSelection.initialState)\n      .when(MusicSelection.selectSong('song1'))\n      .then(\n        MusicSelection.selectedSongGivenSongs([\n          { id: 'song0', title: 'TEST' },\n          { id: 'song1', title: 'BY MY SIDE' },\n        ]),\n        shouldEqual({ id: 'song1', title: 'BY MY SIDE' })\n      ))\n  it('should fallback to avilaable song if not available', () =>\n    given(MusicSelection.initialState)\n      .when(MusicSelection.selectSong('song1'))\n      .then(\n        MusicSelection.selectedSongGivenSongs([\n          { id: 'song0', title: 'TEST' },\n          { id: 'song2', title: 'RUNNING OUT' },\n        ]),\n        shouldEqual({ id: 'song0', title: 'TEST' })\n      ))\n  it('should allow selecting chart', () =>\n    given(MusicSelection.initialState)\n      .when(MusicSelection.selectChart('song1', 'chart1.bml', 8))\n      .then((state) => state.selectedSongId, shouldEqual('song1'))\n      .and((state) => state.selectedChartId, shouldEqual('chart1.bml'))\n      .and((state) => state.selectedChartLevel, shouldEqual(8)))\n\n  const givenSelectedChart = given(MusicSelection.initialState).and(\n    MusicSelection.selectChart('song1', 'chart1.bml', 8)\n  )\n  it('selects the chart if available', () =>\n    givenSelectedChart.then(\n      MusicSelection.selectedChartGivenCharts([\n        { file: 'chart0.bml', info: { level: 1 } },\n        { file: 'chart1.bml', info: { level: 8 } },\n        { file: 'chart2.bml', info: { level: 12 } },\n      ]),\n      shouldEqual({ file: 'chart1.bml', info: { level: 8 } })\n    ))\n  it('selects chart with closest level if matching chart not available', () =>\n    givenSelectedChart.then(\n      MusicSelection.selectedChartGivenCharts([\n        { file: 'pattern0.bml', info: { level: 2 } },\n        { file: 'pattern1.bml', info: { level: 9 } },\n        { file: 'pattern2.bml', info: { level: 10 } },\n      ]),\n      shouldEqual({ file: 'pattern1.bml', info: { level: 9 } })\n    ))\n})\n","import assert from 'assert'\nimport { given, shouldEqual } from 'circumstance'\n\nimport * as Options from './Options'\n\ndescribe('Options', () => {\n  describe('Lane cover', () => {\n    it('should be a number', () => {\n      assert(Options.laneCover({ 'player.P1.lane-cover': '0' }) === 0)\n    })\n    it('should be maximum 50%', () => {\n      assert(Options.laneCover({ 'player.P1.lane-cover': '99' }) === 0.5)\n    })\n    it('should be minimum -50%', () => {\n      assert(Options.laneCover({ 'player.P1.lane-cover': '-99' }) === -0.5)\n    })\n  })\n\n  describe('key config', () => {\n    it('can be set and get', () => {\n      given(Options.initialState)\n        .when(Options.changeKeyMapping('KB', '4', '65'))\n        .then(Options.getKeyMapping('KB', '4'), shouldEqual('65'))\n    })\n    it('can be retrieved for current mode by column', () => {\n      given(Options.initialState)\n        .when(Options.changePlayMode('KB'))\n        .then(Options.keyboardMapping, (mapping) => {\n          assert(mapping['4'] === '32') // KB mode, 4th button is space.\n        })\n\n      given(Options.initialState)\n        .when(Options.changePlayMode('BM'))\n        .then(Options.keyboardMapping, (mapping) => {\n          assert(mapping['4'] === '68') // BM mode, 4th button is D.\n        })\n    })\n    describe('key setting progression (in options screen)', () => {\n      it('SC  SC2', () => {\n        assert(Options.nextKeyToEdit('SC', 'left') === 'SC2')\n        assert(Options.nextKeyToEdit('SC', 'right') === 'SC2')\n      })\n      it('1  2', () => {\n        assert(Options.nextKeyToEdit('1', 'left') === '2')\n        assert(Options.nextKeyToEdit('1', 'right') === '2')\n        assert(Options.nextKeyToEdit('1', 'off') === '2')\n      })\n      it('7  done (scratch off / left)', () => {\n        assert(Options.nextKeyToEdit('7', 'off') === null)\n        assert(Options.nextKeyToEdit('7', 'left') === null)\n      })\n      it('7  SC (scratch right)', () => {\n        assert(Options.nextKeyToEdit('7', 'right') === 'SC')\n      })\n      it('SC2  done (scratch right)', () => {\n        assert(Options.nextKeyToEdit('SC2', 'right') === null)\n      })\n      it('SC2  1 (scratch left)', () => {\n        assert(Options.nextKeyToEdit('SC2', 'left') === '1')\n      })\n    })\n  })\n\n  describe('speed', () => {\n    it('can be set and get', () => {\n      given(Options.initialState)\n        .when(Options.changeSpeed(4.5))\n        .then(Options.speed, shouldEqual(4.5))\n    })\n  })\n\n  describe('lead time', () => {\n    it('defaults to 1685 ms (initial speed of tutorial)', () => {\n      given(Options.initialState).then(Options.leadTime, shouldEqual(1685))\n    })\n  })\n\n  describe('scratch position', () => {\n    it('switches to keyboard mode if off', () => {\n      given(Options.initialState)\n        .when(Options.changeScratchPosition('off'))\n        .then(Options.scratchPosition, shouldEqual('off'))\n        .and((state) => {\n          assert(state['player.P1.mode'] === 'KB')\n        })\n    })\n    it('switches to BMS mode if on', () => {\n      given(Options.initialState)\n        .when(Options.changeScratchPosition('right'))\n        .then(Options.scratchPosition, shouldEqual('right'))\n        .and((state) => {\n          assert(state['player.P1.mode'] === 'BM')\n        })\n    })\n    it('remembers previous scratch position prior to turning off', () => {\n      given(Options.initialState)\n        .when(Options.changeScratchPosition('right'))\n        .and(Options.changeScratchPosition('off'))\n        .then(Options.scratchPosition, shouldEqual('off'))\n        .and((state) => {\n          assert(state['player.P1.mode'] === 'KB')\n          assert(state['player.P1.scratch'] === 'right')\n        })\n    })\n  })\n\n  describe('background animations', () => {\n    itCanBeToggled({\n      check: Options.isBackgroundAnimationsEnabled,\n      toggle: Options.toggleBackgroundAnimations,\n      defaultSetting: true,\n    })\n  })\n\n  describe('auto velocity', () => {\n    itCanBeToggled({\n      check: Options.isAutoVelocityEnabled,\n      toggle: Options.toggleAutoVelocity,\n      defaultSetting: false,\n    })\n  })\n\n  describe('expert gauge', () => {\n    itCanBeToggled({\n      check: Options.isGaugeEnabled,\n      toggle: Options.toggleGauge,\n      defaultSetting: false,\n    })\n  })\n\n  describe('new feature announcements', () => {\n    it('should track its acknowledgement', () => {\n      given(Options.initialState).then(\n        Options.hasAcknowledged('twitter'),\n        shouldEqual(false)\n      )\n    })\n    it('can be acknowledged by the user', () => {\n      given(Options.initialState)\n        .when(Options.acknowledge('twitter'))\n        .then(Options.hasAcknowledged('twitter'), shouldEqual(true))\n    })\n  })\n\n  describe('auto/input latency', () => {\n    it('defaults to 0', () => {\n      given(Options.initialState).then(\n        Options.audioInputLatency,\n        shouldEqual(0)\n      )\n    })\n    it('can be adjusted', () => {\n      given(Options.initialState)\n        .when(Options.changeAudioInputLatency(32))\n        .then(Options.audioInputLatency, shouldEqual(32))\n    })\n  })\n\n  describe('last used version', () => {\n    it('should be tracked so that it can display whats new dialog', () => {\n      given(Options.initialState)\n        .when(Options.updateLastSeenVersion('50.0'))\n        .then(Options.lastSeenVersion, shouldEqual('50.0'))\n    })\n  })\n\n  function itCanBeToggled({ check, toggle, defaultSetting }) {\n    it('defaults to ' + defaultSetting, () => {\n      given(Options.initialState).then(check, shouldEqual(defaultSetting))\n    })\n    it('can be toggled', () => {\n      given(Options.initialState)\n        .when(toggle)\n        .then(check, shouldEqual(!defaultSetting))\n    })\n    it('can be toggled again', () => {\n      given(Options.initialState)\n        .when(toggle)\n        .and(toggle)\n        .then(check, shouldEqual(defaultSetting))\n    })\n  }\n})\n","import assert from 'assert'\n\nimport createAutoVelocity from './createAutoVelocity'\n\ndescribe('createAutoVelocity', function () {\n  describe('when disabled', function () {\n    it('initial speed should be from options', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: false,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1000,\n        songBPM: 220,\n      })\n      assert(autoVelocity.getInitialSpeed() === 3.8)\n    })\n    it('should save speed after playing game', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: false,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1000,\n        songBPM: 220,\n      })\n      const saveSpeed = sinon.spy()\n      const saveLeadTime = sinon.spy()\n      autoVelocity.handleGameFinish(2.4, { saveSpeed, saveLeadTime })\n      assert(saveSpeed.calledWith(2.4))\n      assert(!saveLeadTime.called)\n    })\n  })\n\n  describe('when enabled', function () {\n    it('initial speed should be from songs BPM', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: true,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1200,\n        songBPM: 140,\n      })\n      assert(autoVelocity.getInitialSpeed() === 1.8)\n    })\n    it('should also take into consideration the lane cover', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: true,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1200,\n        songBPM: 140,\n        laneCover: 0.5,\n      })\n      assert(autoVelocity.getInitialSpeed() === 0.9)\n    })\n    it('should also take into consideration the lane cover', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: true,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1200,\n        songBPM: 140,\n        laneCover: -0.5,\n      })\n      assert(autoVelocity.getInitialSpeed() === 0.9)\n    })\n    it('initial speed should be from songs BPM [ANOTHER]', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: true,\n        initialSpeed: 3.8,\n        desiredLeadTime: 600,\n        songBPM: 162,\n      })\n      assert(autoVelocity.getInitialSpeed() === 3.1)\n    })\n    it('initial speed should be from songs BPM [TUTORIAL]', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: true,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1685,\n        songBPM: 178,\n      })\n      assert(autoVelocity.getInitialSpeed() === 1.0)\n    })\n    it('should save speed and lead time after playing game', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: true,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1685,\n        songBPM: 178,\n      })\n      const saveSpeed = sinon.spy()\n      const saveLeadTime = sinon.spy()\n      autoVelocity.handleGameFinish(3, { saveSpeed, saveLeadTime })\n      assert(saveSpeed.calledWith(3))\n      assert(saveLeadTime.calledWith(562))\n    })\n    it('should not save if speed remains the same', () => {\n      const autoVelocity = createAutoVelocity({\n        enabled: true,\n        initialSpeed: 3.8,\n        desiredLeadTime: 1685,\n        songBPM: 178,\n      })\n      const saveSpeed = sinon.spy()\n      const saveLeadTime = sinon.spy()\n      autoVelocity.handleGameFinish(1, { saveSpeed, saveLeadTime })\n      assert(saveSpeed.calledWith(1))\n      assert(!saveLeadTime.called)\n    })\n  })\n})\n","export default function waitUntil(condition) {\n  return go(1, 9)\n\n  function go(wait, timesLeft) {\n    const result = new Promise((resolve) => resolve(condition()))\n    return result.catch((e) => {\n      if (timesLeft === 0) throw e\n      return new Promise((resolve) =>\n        setTimeout(() => {\n          resolve(go(wait * 2, timesLeft - 1))\n        }, wait)\n      )\n    })\n  }\n}\n","import assert from 'assert'\nimport waitUntil from 'bemuse/wait-until'\n\nimport { createCollectionLoader } from './createCollectionLoader'\n\nfunction setup({ fetch }) {\n  const onBeginLoading = sinon.spy()\n  const onErrorLoading = sinon.spy()\n  const onLoad = sinon.spy()\n  const collectionLoader = createCollectionLoader({\n    onBeginLoading,\n    onErrorLoading,\n    onLoad,\n    fetch,\n  })\n  return { collectionLoader, onBeginLoading, onErrorLoading, onLoad }\n}\n\ndescribe('createCollectionLoader', () => {\n  describe('load(url)', function () {\n    it('should load the collection and call `onLoad`', async () => {\n      const { collectionLoader, onBeginLoading, onLoad } = setup({\n        fetch: (url) => {\n          assert(\n            url ===\n              '/base/src/app/test-fixtures/example-music-server/index.json'\n          )\n          return Promise.resolve({\n            json: () =>\n              require('../test-fixtures/example-music-server/index.json'),\n          })\n        },\n      })\n      collectionLoader.load('/base/src/app/test-fixtures/example-music-server')\n      await waitUntil(() => assert(onLoad.called))\n      assert(onBeginLoading.called)\n    })\n\n    it('should load the collection and call `onErrorLoading` when there is an error', async () => {\n      const { collectionLoader, onErrorLoading } = setup({\n        fetch: (url) => Promise.reject(new Error('???')),\n      })\n      collectionLoader.load('/base/src/app/test-fixtures/example-music-server')\n      await waitUntil(() => assert(onErrorLoading.called))\n    })\n  })\n})\n","import assert from 'assert'\n\nimport findMatchingSong from './findMatchingSong'\n\ndescribe('selecting a song by title', function () {\n  // Using &song=... URL parameter, we can specify what song to be selected\n  // at the beginning\n  const songs = [\n    'DE/CON-STRUKT',\n    'Everyday evermore',\n    'Chicken',\n    'Piece of Mine',\n    'Goliath',\n  ]\n  const getTitle = (song) => song\n\n  it('finds a matching song', () => {\n    assert(\n      findMatchingSong({ songs, getTitle, title: 'DE/CON-STRUKT' }) ===\n        'DE/CON-STRUKT'\n    )\n  })\n\n  it('matches case-insensitively', () => {\n    assert(\n      findMatchingSong({ songs, getTitle, title: 'everyday evermore' }) ===\n        'Everyday evermore'\n    )\n  })\n})\n","import assert from 'assert'\n\nimport getLR2Score from './getLR2Score'\n\ndescribe('Calculating LR2 score', function () {\n  const LR2_NORMAL_TIMEGATE = [18, 40]\n  it('perfect great = 2 points', () => {\n    assert(getLR2Score([0.001], LR2_NORMAL_TIMEGATE) === 2)\n  })\n  it('great = 1 point', () => {\n    assert(getLR2Score([0.02], LR2_NORMAL_TIMEGATE) === 1)\n  })\n  it('other = 0 points', () => {\n    assert(getLR2Score([0.06], LR2_NORMAL_TIMEGATE) === 0)\n  })\n  it('sums the points', () => {\n    assert(getLR2Score([0.01, 0.02, 0.03, 0.05], LR2_NORMAL_TIMEGATE) === 4)\n  })\n  it('works with arbitrary timegates', () => {\n    assert(getLR2Score([0.01, 0.02, 0.03, 0.05], [35, 70]) === 7)\n  })\n})\n","import * as ReduxState from './ReduxState'\nimport { given, shouldEqual, withReducer } from 'circumstance'\n\nconst { dispatch, initialState } = withReducer(ReduxState.reducer)\n\ndescribe('ReduxState', function () {\n  describe('integration test', function () {\n    const givenLoadedCollection = given(initialState)\n      .and(\n        dispatch({\n          type: ReduxState.COLLECTION_LOADING_BEGAN,\n          url: '/music',\n        })\n      )\n      .and(\n        dispatch({\n          type: ReduxState.OPTIONS_LOADED_FROM_STORAGE,\n          options: {\n            'player.P1.mode': 'BM',\n            'player.P1.scratch': 'left',\n          },\n        })\n      )\n      .and(\n        dispatch({\n          type: ReduxState.COLLECTION_LOADED,\n          url: '/music',\n          data: {\n            songs: [\n              {\n                title: 'Exargon',\n                id: 'exargon',\n                charts: [\n                  {\n                    keys: '7K',\n                    file: 'exargon_7another.bms',\n                    info: { level: 12 },\n                  },\n                  {\n                    keys: '7K',\n                    file: 'exargon_7hyper.bms',\n                    info: { level: 10 },\n                  },\n                  {\n                    keys: '7K',\n                    file: 'exargon_7normal.bms',\n                    info: { level: 8 },\n                  },\n                ],\n              },\n              {\n                title: 'Anhedonia',\n                id: 'anhedonia',\n                charts: [\n                  {\n                    keys: '7K',\n                    file: '01_anhedonia_n.bms',\n                    info: { level: 6 },\n                  },\n                  {\n                    keys: '7K',\n                    file: '00_anhedonia_7b.bms',\n                    info: { level: 1 },\n                  },\n                ],\n              },\n              {\n                title: 'Blooming',\n                id: 'blooming',\n                charts: [\n                  {\n                    keys: '7K',\n                    file: 'Trish_Blooming_7key_Another.bms',\n                    info: { level: 11 },\n                  },\n                  {\n                    keys: '7K',\n                    file: 'Trish_Blooming_7key_Feeling.bms',\n                    info: { level: 13 },\n                  },\n                ],\n              },\n            ],\n          },\n        })\n      )\n    it('should intially selected easiest song and chart', () =>\n      givenLoadedCollection\n        .then(\n          ReduxState.selectSelectedSong,\n          (song) => song.title,\n          shouldEqual('Anhedonia')\n        )\n        .and(\n          ReduxState.selectSelectedChart,\n          (chart) => chart.file,\n          shouldEqual('00_anhedonia_7b.bms')\n        ))\n  })\n})\n","import { loadSongFromResources } from './'\n\ndescribe('SongLoader', function () {\n  function buffer(text) {\n    return Promise.resolve(Buffer.from(text).buffer)\n  }\n\n  function createResources(files) {\n    return {\n      fileList: Promise.resolve(Object.keys(files)),\n      file(name) {\n        return Promise.resolve(files[name])\n      },\n    }\n  }\n\n  describe('with BMS files', function () {\n    const resources = createResources({\n      '01.bme': {\n        read() {\n          return buffer('#TITLE meow [NORMAL]\\n#BPM 90\\n#00111:01')\n        },\n      },\n      '02.bms': {\n        read() {\n          return buffer('#TITLE meow [HYPER]\\n#BPM 90\\n#00111:01')\n        },\n      },\n      '03.bml': {\n        read() {\n          return buffer('#TITLE meow [ANOTHER]\\n#BPM 100\\n#00111:01')\n        },\n      },\n    })\n    let song\n    before(async function () {\n      const options = { onMessage: (msg) => console.log(msg) }\n      const x = await loadSongFromResources(resources, options)\n      song = x\n    })\n    it('should have correct title', function () {\n      expect(song.title).to.equal('meow')\n    })\n    it('should have correct number of charts', function () {\n      expect(song.charts).to.have.length(3)\n    })\n    it('should have resources key pointing to the resources', function () {\n      expect(song.resources).to.equal(resources)\n    })\n  })\n\n  describe('with bmson files', function () {\n    const resources = createResources({\n      '01.bmson': {\n        read() {\n          return buffer('{\"info\":{\"title\":\"meow\",\"initBPM\":90}}')\n        },\n      },\n    })\n    let song\n    before(async function () {\n      const x = await loadSongFromResources(resources)\n      song = x\n    })\n    it('should have correct title', function () {\n      expect(song.title).to.equal('meow')\n    })\n    it('should have correct number of charts', function () {\n      expect(song.charts).to.have.length(1)\n    })\n  })\n})\n","import PlayerAudio from './player-audio'\nimport { playerWithBMS } from '../test-helpers'\n\ndescribe('PlayerAudio', function () {\n  let player\n  let audio\n  let waveFactory\n\n  function setup(_player) {\n    player = _player\n    waveFactory = {\n      playAuto: sinon.stub().returns({}),\n      playNote: sinon.stub().returns({}),\n      playFree: sinon.stub().returns({}),\n    }\n    audio = new PlayerAudio({ player, waveFactory })\n  }\n\n  it('should play autokeysounds on correct time', function () {\n    setup({\n      notechart: {\n        autos: [\n          { time: 1, keysound: '0x' },\n          { time: 2, keysound: '0y' },\n          { time: 2, keysound: '0z' },\n        ],\n        notes: [],\n      },\n      options: {\n        autosound: false,\n      },\n    })\n    audio.update(0)\n    expect(waveFactory.playAuto).to.have.callCount(0)\n    audio.update(1)\n    expect(waveFactory.playAuto).to.have.callCount(1)\n    expect(waveFactory.playAuto).to.have.been.calledWithMatch({\n      keysound: '0x',\n    })\n    audio.update(2)\n    expect(waveFactory.playAuto).to.have.callCount(3)\n  })\n\n  it('should play notes automatically when autosound is on', function () {\n    setup({\n      notechart: {\n        autos: [],\n        notes: [{ time: 1, keysound: '0x' }],\n      },\n      options: {\n        autosound: true,\n      },\n    })\n    audio.update(1)\n    expect(waveFactory.playNote).to.have.been.calledWithMatch({\n      keysound: '0x',\n    })\n  })\n\n  it('should not play notes automatically when autosound is off', function () {\n    setup({\n      notechart: {\n        autos: [],\n        notes: [{ time: 1, keysound: '0x' }],\n      },\n      options: {},\n    })\n    audio.update(1)\n    void expect(waveFactory.playNote).to.not.have.been.called\n  })\n\n  it('should play notes ahead of time', function () {\n    setup({\n      notechart: {\n        autos: [{ time: 1, keysound: '0x' }],\n        notes: [],\n      },\n      options: {},\n    })\n    audio.update(0.999)\n    expect(waveFactory.playAuto).to.have.been.calledWithMatch({\n      keysound: '0x',\n    })\n    expect(waveFactory.playAuto.getCall(0).args[1]).to.be.closeTo(0.001, 1e-5)\n  })\n\n  it('should play hit notes', function () {\n    setup(playerWithBMS())\n    audio.update(0.999, {\n      notifications: {\n        sounds: [{ note: { keysound: '0x' }, type: 'hit', judgment: 1 }],\n      },\n      stats: {},\n    })\n    expect(waveFactory.playNote).to.have.been.calledWithMatch({\n      keysound: '0x',\n    })\n  })\n\n  it('badly hit note should sound off-pitch', function () {\n    setup(playerWithBMS())\n    const instance = {\n      bad: sinon.stub(),\n    }\n    waveFactory.playNote.returns(instance)\n    audio.update(0.999, {\n      notifications: {\n        sounds: [{ note: { keysound: '0x' }, type: 'hit', judgment: 4 }],\n      },\n      stats: {},\n    })\n    void expect(instance.bad).to.have.been.called\n  })\n\n  it('should work even without audio', function () {\n    setup(playerWithBMS())\n    waveFactory.playNote.returns(null)\n    audio.update(0.999, {\n      notifications: {\n        sounds: [{ note: { keysound: '0x' }, type: 'hit', judgment: 4 }],\n      },\n      stats: {},\n    })\n  })\n\n  it('should stop sound when broken', function () {\n    setup(playerWithBMS())\n    const note = { keysound: '0x' }\n    const instance = { stop: sinon.spy() }\n    waveFactory.playNote.returns(instance)\n    audio.update(0.999, {\n      notifications: {\n        sounds: [{ note: note, type: 'hit' }],\n      },\n      stats: {},\n    })\n    audio.update(1.1, {\n      notifications: {\n        sounds: [{ note: note, type: 'break' }],\n      },\n      stats: {},\n    })\n    void expect(instance.stop).to.have.been.called\n  })\n\n  it('should play sounds when hitting blank space', function () {\n    setup(playerWithBMS())\n    audio.update(0.999, {\n      notifications: {\n        sounds: [{ note: { keysound: '0x' }, type: 'free' }],\n      },\n      stats: {},\n    })\n    expect(waveFactory.playFree).to.have.been.calledWithMatch({\n      keysound: '0x',\n    })\n  })\n\n  it('should play hit note once', function () {\n    setup(playerWithBMS())\n    const note = { keysound: '0x' }\n    audio.update(0.999, {\n      notifications: {\n        sounds: [{ note: note, type: 'hit' }],\n      },\n      stats: {},\n    })\n    audio.update(1.0, {\n      notifications: {\n        sounds: [{ note: note, type: 'hit' }],\n      },\n      stats: {},\n    })\n    expect(waveFactory.playNote).to.have.callCount(1)\n  })\n})\n","import delay from 'delay'\n\nimport WaveFactory from './wave-factory'\n\nfunction k(id) {\n  return { keysound: id }\n}\n\ndescribe('WaveFactory', function () {\n  let master\n  let sample\n  let samples\n  let map\n  let waveFactory\n  beforeEach(function () {\n    master = { group: sinon.stub() }\n    sample = { play: sinon.stub() }\n    samples = { 'wow.wav': sample }\n    map = { '0z': 'wow.wav' }\n    waveFactory = new WaveFactory(master, samples, map)\n  })\n  describe('playAuto', function () {\n    it('should play an autokeysound', function () {\n      waveFactory.playAuto(k('0z'), 0.1)\n      expect(sample.play).to.have.been.calledWith(0.1)\n    })\n  })\n  describe('playNote', function () {\n    it('should play the keysound', function () {\n      waveFactory.playNote(k('0z'), 0.1)\n      expect(sample.play).to.have.been.calledWith(0.1)\n    })\n    it('should stop old sound', function () {\n      const instance = { stop: sinon.spy() }\n      sample.play.returns(instance)\n      waveFactory.playNote(k('0z'), 0)\n      waveFactory.playNote(k('0z'), 0)\n      return delay(0).then(() => expect(instance.stop).to.have.callCount(1))\n    })\n  })\n  describe('playFree', function () {\n    it('should play the keysound', function () {\n      waveFactory.playFree(k('0z'))\n      void expect(sample.play).to.have.been.called\n    })\n  })\n})\n","import assert from 'assert'\n\nimport { getGauge } from './Gauge'\n\ndescribe('an inactive gauge', () => {\n  it('does not display anything', () => {\n    const gauge = getGauge('off')\n    gauge.update()\n    assert(gauge.shouldDisplay() === false)\n    assert(gauge.getPrimary() === 0)\n    assert(gauge.getSecondary() === 0)\n  })\n})\n\ndescribe('a hope gauge', () => {\n  function setup(maxPossibleScore, progress) {\n    const gauge = getGauge('hope')\n    const [numJudgments, totalCombo] = progress\n    const playerStats = { maxPossibleScore, numJudgments, totalCombo }\n    const playerState = { stats: playerStats }\n    gauge.update(playerState)\n    return gauge\n  }\n  it('should be displayed if user can attain A rank', () => {\n    const gauge = setup(450001, [50, 100])\n    assert(gauge.shouldDisplay())\n  })\n  it('should be hidden if user cannot attain A rank anymore', () => {\n    const gauge = setup(449999, [50, 100])\n    assert(!gauge.shouldDisplay())\n  })\n  describe('primary', () => {\n    it('starts at half', () => {\n      const gauge = setup(555555, [0, 100])\n      assert(gauge.getPrimary() === 0.5)\n    })\n    it('completely fills in if player finishes with 520000', () => {\n      const gauge = setup(555555, [100, 100])\n      assert(gauge.getPrimary() === 1)\n    })\n    it('is active if player can still attain S rank', () => {\n      const gauge = setup(500001, [100, 100])\n      assert(gauge.getPrimary() > 0)\n      assert(gauge.getPrimary() < 0.01)\n    })\n    it('is inactive if player cannot attain S rank anymore', () => {\n      const gauge = setup(499999, [100, 100])\n      assert(gauge.getPrimary() === 0)\n    })\n  })\n  describe('secondary', () => {\n    it('inactive while player still can attain S rank', () => {\n      const gauge = setup(500001, [40, 100])\n      assert(gauge.getSecondary() === 0)\n    })\n    it('active while player still can attain A rank', () => {\n      const gauge = setup(499999, [40, 100])\n      assert(gauge.getSecondary() >= 0.99)\n    })\n    it('zeroes out when user cannot attain A rank anymore', () => {\n      const gauge = setup(449999, [40, 100])\n      assert(gauge.getSecondary() === 0)\n    })\n  })\n  describe('extra', () => {\n    it('starts at 0', () => {\n      const gauge = setup(555555, [0, 100])\n      assert(gauge.getExtra() === 0)\n    })\n    it('is not activated if hoped score would not exceed 520000', () => {\n      const gauge = setup(519999, [100, 100])\n      assert(gauge.getExtra() === 0)\n    })\n    it('is activated if hoped score would exceed 520000', () => {\n      const gauge = setup(520001, [100, 100])\n      assert(gauge.getExtra() > 0)\n    })\n    it('completely fills in if player finishes with 540000', () => {\n      const preGauge = setup(539999, [100, 100])\n      assert(preGauge.getExtra() < 1)\n      const gauge = setup(540000, [100, 100])\n      assert(gauge.getExtra() === 1)\n    })\n  })\n})\n","import NoteArea from './note-area'\n\ndescribe('NoteArea', function () {\n  it('allows querying the visible note from a list of notes', function () {\n    const notes = [\n      { position: 1, column: 'A' },\n      { position: 2, column: 'A' },\n      { position: 3, column: 'A' },\n      { position: 4, column: 'A' },\n      { position: 5, column: 'A' },\n      { position: 6, column: 'A' },\n      { position: 10, end: { position: 12 }, column: 'B' },\n      { position: 11, column: 'C' },\n    ]\n    const area = new NoteArea(notes, [])\n    expect(area.getVisibleNotes(1.5, 3.5)).to.have.length(2)\n    expect(area.getVisibleNotes(2.5, 3.5, 1)).to.have.length(2)\n    expect(area.getVisibleNotes(-1, 7)).to.have.length(6)\n    expect(area.getVisibleNotes(8, 10.1)).to.have.length(1)\n    expect(area.getVisibleNotes(8, 10.1)).to.have.length(1)\n    expect(area.getVisibleNotes(8, 14)).to.have.length(2)\n    expect(area.getVisibleNotes(11.5, 14)).to.have.length(1)\n    expect(area.getVisibleNotes(12.5, 14)).to.have.length(0)\n  })\n\n  it('allows querying barlines', function () {\n    const area = new NoteArea(\n      [],\n      [\n        { beat: 0, position: 0 },\n        { beat: 4, position: 4 },\n        { beat: 7, position: 7 },\n      ]\n    )\n    expect(area.getVisibleBarLines(1.5, 4.5)).to.have.length(1)\n  })\n})\n","import assert from 'assert'\n\nimport PlayerDisplay from './player-display'\nimport { notechart, playerWithBMS, tap } from '../test-helpers'\n\ndescribe('PlayerDisplay', function () {\n  let display\n  let data\n\n  function setup(player) {\n    display = new PlayerDisplay(player, {})\n  }\n\n  function update(t1, t2, state) {\n    data = display.update(t1, t2, state)\n  }\n\n  it('reacts to input', function () {\n    const inputState = (inputs) => makeState({ input: new Map(inputs) })\n\n    setup({\n      notechart: notechart(),\n      columns: ['wow'],\n      options: {\n        placement: 'center',\n        scratch: 'left',\n      },\n    })\n\n    update(555, 0.5, inputState([['wow', { value: 0, changed: false }]]))\n    assert(data['wow_active'] === 0)\n\n    update(557, 2.5, inputState([['wow', { value: 1, changed: true }]]))\n    assert(data['wow_active'] === 1)\n    assert(data['wow_down'] === 557)\n\n    update(558, 3.5, inputState([['wow', { value: 0, changed: true }]]))\n    assert(data['wow_active'] === 0)\n    assert(data['wow_up'] === 558)\n  })\n\n  describe('with note', function () {\n    beforeEach(function () {\n      setup(playerWithBMS('#BPM 60\\n#00111:11'))\n    })\n    it('displays unjudged notes', function () {\n      update(3.95, 3.95, blankState())\n      assert(data['note_1'].length === 1)\n    })\n    it('hides judged notes', function () {\n      const state = tap(blankState(), (s) => s.getNoteStatus.returns('judged'))\n      update(3.95, 3.95, state)\n      assert(!(data['note_1'] || []).length)\n    })\n  })\n\n  describe('with long note', function () {\n    beforeEach(function () {\n      setup(playerWithBMS('#BPM 60\\n#00151:1111'))\n    })\n    it('displays unjudged long notes', function () {\n      update(3.95, 3.95, blankState())\n      assert(data['longnote_1'].length === 1)\n      assert(!data['longnote_1'][0].active)\n      assert(!data['longnote_1'][0].missed)\n    })\n    it('displays holding long notes', function () {\n      const state = tap(blankState(), (s) => s.getNoteJudgment.returns(1))\n      update(3.95, 3.95, state)\n      assert(data['longnote_1'][0].active)\n    })\n    it('displays holding long notes event it is bad', function () {\n      const state = tap(blankState(), (s) => s.getNoteJudgment.returns(4))\n      update(3.95, 3.95, state)\n      assert(data['longnote_1'][0].active)\n    })\n    it('displays missed long notes', function () {\n      const state = blankState()\n      state.getNoteJudgment.returns(-1)\n      state.getNoteStatus.returns('judged')\n      update(3.95, 3.95, state)\n      assert(data['longnote_1'][0].missed)\n    })\n  })\n\n  describe('with notification', function () {\n    beforeEach(function () {\n      setup(playerWithBMS())\n    })\n    it('sets judgment time', function () {\n      const info = { judgment: 1, delta: 0, combo: 123, column: 'SC' }\n      update(12, 34, makeState({ notifications: { judgments: [info] } }))\n      assert(data['judge_1'] === 12)\n      assert(data['judge_deviation_none'] === 12)\n    })\n    it('sets judgment deviation (early)', function () {\n      const info = { judgment: 2, delta: -0.03, combo: 123, column: 'SC' }\n      update(12, 34, makeState({ notifications: { judgments: [info] } }))\n      assert(data['judge_2'] === 12)\n      assert(data['judge_deviation_early'] === 12)\n    })\n    it('sets judgment deviation (late)', function () {\n      const info = { judgment: 2, delta: 0.03, combo: 123, column: 'SC' }\n      update(12, 34, makeState({ notifications: { judgments: [info] } }))\n      assert(data['judge_2'] === 12)\n      assert(data['judge_deviation_late'] === 12)\n    })\n    it('sets judgment missed time', function () {\n      const info = { judgment: -1, delta: 0, combo: 0, column: 'SC' }\n      update(12, 34, makeState({ notifications: { judgments: [info] } }))\n      assert(data['judge_missed'] === 12)\n    })\n    it('sets combo', function () {\n      const info = { judgment: 1, delta: 0, combo: 123, column: 'SC' }\n      update(12, 34, makeState({ notifications: { judgments: [info] } }))\n      assert(data['combo'] === 123)\n    })\n    it('sets note explode time', function () {\n      const info = { judgment: 1, delta: 0, combo: 123, column: 'SC' }\n      update(12, 34, makeState({ notifications: { judgments: [info] } }))\n      assert(data['SC_explode'] === 12)\n    })\n    it('does not set note explode time if missed', function () {\n      const info = { judgment: -1, delta: 0, combo: 123, column: 'SC' }\n      update(12, 34, makeState({ notifications: { judgments: [info] } }))\n      assert(!(data['SC_explode'] || []).length)\n    })\n  })\n\n  // Mock PlayerState\n  function blankState() {\n    return {\n      speed: 1,\n      input: { get: () => ({ value: 0, changed: false }) },\n      notifications: { judgments: [] },\n      getNoteStatus: sinon.stub().returns('unjudged'),\n      getNoteJudgment: sinon.stub().returns(0),\n      stats: { score: 0 },\n    }\n  }\n\n  function makeState(object) {\n    return Object.assign(blankState(), object)\n  }\n})\n","import GameInput from './'\n\ndescribe('GameInput', function () {\n  let input\n  let plugin\n\n  beforeEach(function () {\n    input = new GameInput()\n    plugin = {\n      out: {},\n      get() {\n        return this.out\n      },\n    }\n    input.use(plugin)\n  })\n\n  it('should return control with default value of 0', function () {\n    expect(input.get('wow').value).to.equal(0)\n  })\n\n  describe('Control#value', function () {\n    it('should return control with correct value', function () {\n      plugin.out = { wow: -1 }\n      input.update()\n      expect(input.get('wow').value).to.equal(-1)\n    })\n  })\n\n  describe('Control#changed', function () {\n    it('should return changed state between last update', function () {\n      input.update()\n      expect(input.get('wow').changed).to.equal(false)\n      plugin.out = { wow: 0 }\n      input.update()\n      expect(input.get('wow').changed).to.equal(false)\n      plugin.out = { wow: -1 }\n      input.update()\n      expect(input.get('wow').changed).to.equal(true)\n      plugin.out = { wow: 1 }\n      input.update()\n      expect(input.get('wow').changed).to.equal(true)\n      plugin.out = { wow: 1 }\n      input.update()\n      expect(input.get('wow').changed).to.equal(false)\n      input.update()\n      expect(input.get('wow').changed).to.equal(false)\n      plugin.out = { wow: 0 }\n      input.update()\n      expect(input.get('wow').changed).to.equal(true)\n    })\n  })\n})\n","import * as PIXI from 'pixi.js'\nimport TouchPlugin from './touch-plugin'\n\ndescribe('TouchPlugin', function () {\n  it('should get value when touching', function () {\n    const instance = new TouchPlugin({\n      skinData: {},\n      refs: {\n        p1_1: new Set([\n          { getBounds: () => new PIXI.Rectangle(64, 64, 64, 64) },\n        ]),\n        p1_2: new Set([\n          { getBounds: () => new PIXI.Rectangle(128, 64, 64, 64) },\n        ]),\n      },\n      input: [\n        { x: 72, y: 72, id: 'touch1' },\n        { x: 32, y: 32, id: 'touch2' },\n      ],\n    })\n    const data = instance.get()\n    expect(data['p1_1']).to.equal(1)\n    expect(data['p1_2']).to.equal(0)\n  })\n})\n","import { getJudgeForNotechart, judgeTime, timegate } from './judgments'\nimport { notechart } from './test-helpers'\n\ndescribe('tutorial song', () => {\n  it('beginning is easy', () => {\n    const chart = notechart('#PLAYLEVEL 0')\n    const judge = getJudgeForNotechart(chart, { tutorial: true })\n    expect(judgeTime(9.89, 10, judge)).to.equal(3)\n  })\n  it('ending is hard', () => {\n    const chart = notechart('#PLAYLEVEL 0')\n    const judge = getJudgeForNotechart(chart, { tutorial: true })\n    expect(judgeTime(109.89, 110, judge)).to.equal(4)\n  })\n})\n\ndescribe('beginner timegates', () => {\n  it('very easy applied to lv1', () => {\n    const chart = notechart('#PLAYLEVEL 1')\n    const judge = getJudgeForNotechart(chart, {})\n    expect(timegate(3, judge)).to.equal(0.18)\n  })\n  it('very easy applied to lv2', () => {\n    const chart = notechart('#PLAYLEVEL 2')\n    const judge = getJudgeForNotechart(chart, {})\n    expect(timegate(3, judge)).to.equal(0.18)\n  })\n  it('very easy applied to lv3', () => {\n    const chart = notechart('#PLAYLEVEL 3')\n    const judge = getJudgeForNotechart(chart, {})\n    expect(timegate(3, judge)).to.equal(0.16)\n  })\n  it('very easy applied to lv4', () => {\n    const chart = notechart('#PLAYLEVEL 4')\n    const judge = getJudgeForNotechart(chart, {})\n    expect(timegate(3, judge)).to.equal(0.14)\n  })\n  it('very easy applied to lv5', () => {\n    const chart = notechart('#PLAYLEVEL 5')\n    const judge = getJudgeForNotechart(chart, {})\n    expect(timegate(3, judge)).to.equal(0.12)\n  })\n  it('is not applied for more than lv6', () => {\n    const chart = notechart('#PLAYLEVEL 6')\n    const judge = getJudgeForNotechart(chart, {})\n    expect(timegate(3, judge)).to.equal(0.1)\n  })\n})\n\ndescribe('insane song', () => {\n  it('gets normal timing regardless of level', () => {\n    const chart = notechart(`\n      #PLAYLEVEL 1\n      #DIFFICULTY 5\n    `)\n    const judge = getJudgeForNotechart(chart, {})\n    expect(timegate(3, judge)).to.equal(0.1)\n  })\n})\n","import assert from 'assert'\n\nimport SamplesLoader from './samples-loader'\n\ndescribe('SamplesLoader', function () {\n  let assets\n  let master\n  let loader\n  let keysoundCache\n\n  beforeEach(function () {\n    assets = { file: sinon.stub() }\n    master = { decode: sinon.stub(), sample: sinon.stub() }\n    keysoundCache = { isCached: () => false, cache: sinon.spy(() => {}) }\n    loader = new SamplesLoader(assets, master, { keysoundCache })\n  })\n\n  describe('#loadFiles', function () {\n    it('should not include undecodable audio', function () {\n      assets.file.returns(Promise.reject(new Error('cannot decode')))\n      assets.file.withArgs('a.wav').returns(\n        Promise.resolve({\n          read: () => Promise.resolve('ok1'),\n        })\n      )\n      master.decode.withArgs('ok1').returns(Promise.reject(new Error('..')))\n      return expect(loader.loadFiles(['a.wav'])).to.eventually.deep.eq({})\n    })\n\n    it('should cache', function () {\n      assets.file.returns(Promise.reject(new Error('invalid filename')))\n      assets.file.withArgs('a.wav').returns(\n        Promise.resolve({\n          read: () => Promise.resolve('ok1'),\n        })\n      )\n      master.decode.withArgs('ok1').returns(Promise.resolve('ok2'))\n      master.sample.withArgs('ok2').returns(Promise.resolve('ok3'))\n      return loader.loadFiles(['a.wav']).then(() => {\n        assert(keysoundCache.cache.calledOnce)\n        assert(keysoundCache.cache.calledWith('a.wav', 'ok2'))\n      })\n    })\n\n    it('should use cache', function () {\n      assets.file.returns(Promise.reject(new Error('unexpected call')))\n      keysoundCache.isCached = (name) => name === 'name.wav'\n      keysoundCache.get = (name) => {\n        if (name === 'name.wav') return 'buffer'\n        throw new Error('expected name.wav')\n      }\n      master.sample.withArgs('buffer').returns(Promise.resolve('sample'))\n      return expect(loader.loadFiles(['name.wav'])).to.eventually.deep.eq({\n        'name.wav': 'sample',\n      })\n    })\n\n    it('should try mp3', function () {\n      assets.file.returns(Promise.reject(new Error('invalid filename')))\n      assets.file.withArgs('a.mp3').returns(\n        Promise.resolve({\n          read: () => Promise.resolve('ok1'),\n        })\n      )\n      master.decode.withArgs('ok1').returns(Promise.resolve('ok2'))\n      master.sample.withArgs('ok2').returns(Promise.resolve('ok3'))\n      return expect(loader.loadFiles(['a.wav'])).to.eventually.deep.eq({\n        'a.wav': 'ok3',\n      })\n    })\n\n    it('should not include failed matches', function () {\n      assets.file.returns(Promise.reject(new Error('i give up')))\n      return expect(loader.loadFiles(['a.wav'])).to.eventually.deep.eq({})\n    })\n  })\n})\n","import assert from 'assert'\n\nimport GameInput from '../input'\nimport Player from '../player'\nimport PlayerState from './player-state'\nimport { notechart } from '../test-helpers'\n\ndescribe('PlayerState', function () {\n  it('updates the input', function () {\n    const state = new PlayerState({\n      number: 1,\n      columns: ['wow'],\n      notechart: notechart(''),\n      options: { speed: 1 },\n    })\n    const input = {\n      get: (name) => ({ name }),\n    }\n    state.update(0, input)\n    assert(state.input.get('wow').name === 'p1_wow')\n  })\n\n  describe('with player and chart', function () {\n    let chart\n    let player\n    let state\n    let input\n    let buttons\n\n    function setup(bms, options = { speed: 1 }) {\n      chart = notechart(bms)\n      player = new Player(chart, 1, options)\n      state = new PlayerState(player)\n      input = new GameInput()\n      buttons = {}\n      input.use({ get: () => buttons })\n    }\n\n    function advance(time, b) {\n      buttons = b\n      input.update()\n      state.update(time, input)\n    }\n\n    describe('node judging', function () {\n      it('judges notes', function () {\n        setup(`\n          #BPM 120\n          #00111:0101\n        `)\n\n        const column = chart.notes[0].column\n\n        assert.equal(state.getNoteStatus(chart.notes[0]), 'unjudged')\n        assert.equal(state.stats.combo, 0)\n        assert.equal(state.stats.poor, false)\n        assert.equal(state.stats.totalCombo, 2)\n        assert.equal(state.notifications.judgments.length, 0)\n\n        advance(1.999, {})\n        assert.equal(state.getNoteStatus(chart.notes[0]), 'unjudged')\n\n        advance(2, { p1_1: 1 })\n        assert.equal(state.getNoteStatus(chart.notes[0]), 'judged')\n        assert.equal(state.getNoteJudgment(chart.notes[0]), 1)\n        assert.equal(state.getNoteStatus(chart.notes[1]), 'unjudged')\n        assert.deepEqual(state.notifications.judgments[0], {\n          judgment: 1,\n          combo: 1,\n          delta: 0,\n          column,\n        })\n        assert(!state.stats.poor)\n\n        advance(2.1, { p1_1: 0 })\n        advance(5, { p1_1: 0 })\n        assert.equal(state.getNoteStatus(chart.notes[1]), 'judged')\n        assert.equal(state.getNoteJudgment(chart.notes[1]), -1)\n        assert.deepEqual(state.notifications.judgments[0], {\n          judgment: -1,\n          combo: 0,\n          delta: 2,\n          column,\n        })\n        assert.equal(state.stats.poor, true)\n      })\n\n      it('judges multiple notes in different column', function () {\n        setup(`\n          #BPM 120\n          #00111:01\n          #00112:01\n        `)\n\n        advance(2, { p1_1: 1, p1_2: 1 })\n        assert(state.getNoteStatus(chart.notes[0]) === 'judged')\n        assert(state.getNoteStatus(chart.notes[1]) === 'judged')\n      })\n\n      it('judges single note from one column at a time', function () {\n        setup(`\n          #BPM 480\n          #00111:01010100000000000000000000000000\n        `)\n\n        advance(0.531, { p1_1: 1 })\n        assert(state.getNoteStatus(chart.notes[0]) === 'judged')\n        assert(state.getNoteStatus(chart.notes[1]) === 'unjudged')\n        assert(state.getNoteStatus(chart.notes[2]) === 'unjudged')\n        advance(0.531, { p1_1: 0 })\n        advance(0.531, { p1_1: 1 })\n        assert(state.getNoteStatus(chart.notes[0]) === 'judged')\n        assert(state.getNoteStatus(chart.notes[1]) === 'judged')\n        assert(state.getNoteStatus(chart.notes[2]) === 'unjudged')\n        advance(0.531, { p1_1: 0 })\n        advance(0.531, { p1_1: 1 })\n        assert(state.getNoteStatus(chart.notes[0]) === 'judged')\n        assert(state.getNoteStatus(chart.notes[1]) === 'judged')\n        assert(state.getNoteStatus(chart.notes[2]) === 'judged')\n\n        assert(state.getNoteJudgment(chart.notes[0]) > 1)\n        assert(state.getNoteJudgment(chart.notes[1]) === 1)\n        assert(state.getNoteJudgment(chart.notes[2]) > 1)\n      })\n\n      it('leaves note unjudged when bad and there are closer note', function () {\n        setup(`\n          #BPM 120\n          #00111:01010100000000000000000000000000\n        `)\n\n        advance(2.125, { p1_1: 1 })\n        assert(state.getNoteStatus(chart.notes[0]) === 'unjudged')\n        assert(state.getNoteStatus(chart.notes[1]) === 'judged')\n        assert(state.getNoteStatus(chart.notes[2]) === 'unjudged')\n      })\n\n      it('records delta when pressed', function () {\n        setup(`\n          #BPM 120\n          #00111:01\n        `)\n        sinon.spy(state.stats, 'handleDelta')\n        advance(2.01, { p1_1: 1 })\n        assert(state.stats.handleDelta.calledWith(2.01 - 2))\n      })\n\n      it('does not record delta when missed', function () {\n        setup(`\n          #BPM 120\n          #00111:01\n        `)\n        sinon.spy(state.stats, 'handleDelta')\n        advance(9, { p1_1: 1 })\n        assert(state.stats.handleDelta.callCount === 0)\n      })\n\n      describe('with long note', function () {\n        let note\n        beforeEach(function () {\n          setup(`\n            #BPM 120\n            #00151:0101\n          `)\n          note = chart.notes[0]\n        })\n        it('judges long note', function () {\n          advance(2, { p1_1: 1 })\n          assert(state.getNoteStatus(note) === 'active')\n          assert(state.getNoteJudgment(note) === 1)\n          assert(state.notifications.judgments[0].judgment === 1)\n          advance(3, { p1_1: 0 })\n          assert(state.getNoteStatus(note) === 'judged')\n          assert(state.getNoteJudgment(note) === 1)\n          assert(state.notifications.judgments[0].judgment === 1)\n        })\n        it('gives 2 discrete judgments, one for down and one for up', function () {\n          advance(2, { p1_1: 1 })\n          assert(state.stats.numJudgments === 1)\n          advance(3, { p1_1: 0 })\n          assert(state.stats.numJudgments === 2)\n        })\n        it('records delta once', function () {\n          sinon.spy(state.stats, 'handleDelta')\n          advance(2, { p1_1: 1 })\n          advance(3, { p1_1: 0 })\n          assert(state.stats.handleDelta.callCount === 1)\n        })\n        it('judges missed long note', function () {\n          advance(2.3, { p1_1: 1 })\n          assert(state.getNoteStatus(note) === 'judged')\n          assert(state.getNoteJudgment(note) === -1)\n        })\n        it('gives 2 missed judgment for missed longnote', function () {\n          advance(2.3, { p1_1: 1 })\n          assert(state.stats.numJudgments === 2)\n        })\n        it('judges long note lifted too fast as missed', function () {\n          advance(2, { p1_1: 1 })\n          advance(2.01, { p1_1: 0 })\n          assert(state.getNoteStatus(note) === 'judged')\n          assert(state.getNoteJudgment(note) === -1)\n          assert(state.stats.numJudgments === 2)\n        })\n        it('does not end automatically', function () {\n          advance(2, { p1_1: 1 })\n          advance(3.1, { p1_1: 1 })\n          assert(state.getNoteStatus(note) === 'active')\n          assert(state.stats.numJudgments === 1)\n        })\n        it('judges long note lifted too slow as missed', function () {\n          advance(2, { p1_1: 1 })\n          advance(4, { p1_1: 1 })\n          assert(state.getNoteStatus(note) === 'judged')\n          assert(state.getNoteJudgment(note) === -1)\n          assert.deepEqual(state.notifications.judgments[0], {\n            judgment: -1,\n            combo: 0,\n            delta: 1,\n            column: note.column,\n          })\n        })\n      })\n\n      describe('with long scratch note', function () {\n        let note\n        beforeEach(function () {\n          setup(`\n            #BPM 120\n            #00156:0101\n          `)\n          note = chart.notes[0]\n        })\n        it('ends automatically', function () {\n          advance(2, { p1_SC: 1 })\n          assert(state.getNoteStatus(note) === 'active')\n          assert(state.getNoteJudgment(note) === 1)\n          assert(state.notifications.judgments[0].judgment === 1)\n          advance(3.1, { p1_SC: 1 })\n          assert(state.getNoteStatus(note) === 'judged')\n          assert(state.getNoteJudgment(note) === 1)\n          assert(state.notifications.judgments[0].judgment === 1)\n        })\n      })\n\n      describe('with long scratch note next to each other', function () {\n        beforeEach(function () {\n          setup(`\n#BPM 120\n#00156:0100000000000000000000000000000000000000000000000000000000000001\n#00256:0100000000000000000000000000000000000000000000000000000000000001\n          `)\n        })\n        it('should switch to next one on change', function () {\n          advance(2, { p1_SC: 1 })\n          advance(4, { p1_SC: -1 })\n          assert(state.getNoteStatus(chart.notes[0]) === 'judged')\n          assert(state.getNoteStatus(chart.notes[1]) === 'active')\n        })\n      })\n\n      describe('sound notifications', function () {\n        it('notifies of note hit', function () {\n          setup(`\n            #BPM 120\n            #00111:0102\n          `)\n          advance(2, { p1_1: 1 })\n          assert(state.notifications.sounds[0].note === chart.notes[0])\n          assert(state.notifications.sounds[0].type === 'hit')\n        })\n        it('should notify missed notes as break', function () {\n          setup(`\n            #BPM 120\n            #00111:01\n          `)\n          advance(5, { p1_1: 0 })\n          assert(state.notifications.sounds[0].note === chart.notes[0])\n          assert(state.notifications.sounds[0].type === 'break')\n        })\n        it('notifies of free keysound hit', function () {\n          setup(`\n            #BPM 60\n            #00111:01\n            #00211:02\n          `)\n\n          // hit the first note\n          advance(4, { p1_1: 1 })\n          advance(4, { p1_1: 0 })\n\n          // hit the blank area\n          advance(4, { p1_1: 1 })\n          assert(state.notifications.sounds[0].note === chart.notes[0])\n          assert(state.notifications.sounds[0].type === 'free')\n\n          // release the button\n          advance(4, { p1_1: 0 })\n          assert(!state.notifications.sounds.length)\n\n          // try again\n          advance(5, { p1_1: 1 })\n          assert(state.notifications.sounds[0].note === chart.notes[0])\n\n          // release the button\n          advance(5, { p1_1: 0 })\n\n          // wait and try again.\n          advance(6.5, { p1_1: 1 })\n          assert(state.notifications.sounds[0].note === chart.notes[0])\n          advance(6.5, { p1_1: 0 })\n\n          // wait and try again. this time keysound should change\n          advance(7.5, { p1_1: 1 })\n          assert(state.notifications.sounds[0].note === chart.notes[1])\n        })\n        it('suppresses freestyle keysound when column is sandwiched between 2 adjacent notes in 3d mode', function () {\n          setup(\n            `\n              #BPM 60\n              #00111:01\n              #00212:02\n              #00113:02\n            `,\n            { speed: 1, placement: '3d' }\n          )\n          advance(1, { p1_2: 1 })\n          assert.equal(state.notifications.sounds.length, 1)\n          advance(1, { p1_2: 0 })\n\n          advance(4, { p1_2: 1 })\n          assert.equal(state.notifications.sounds.length, 0)\n          advance(4, { p1_2: 0 })\n        })\n        it('does not suppress freestyle keysound outside 3d mode', function () {\n          setup(\n            `\n              #BPM 60\n              #00111:01\n              #00212:02\n              #00113:02\n            `,\n            { speed: 1, placement: 'left' }\n          )\n          advance(1, { p1_2: 1 })\n          assert.equal(state.notifications.sounds.length, 1)\n          advance(1, { p1_2: 0 })\n\n          advance(4, { p1_2: 1 })\n          assert.equal(state.notifications.sounds.length, 1)\n          advance(4, { p1_2: 0 })\n        })\n      })\n    })\n\n    describe('speed', function () {\n      it('infers speed from player', function () {\n        setup('', { speed: 2 })\n        assert(state.speed === 2)\n      })\n      it('updates speed on dedicated buttons', function () {\n        setup('', { speed: 2 })\n        advance(1.0, { p1_speedup: 1 })\n        assert(state.speed === 2.5)\n        advance(1.2, { p1_speedup: 0, p1_speeddown: 1 })\n        assert(state.speed === 2)\n      })\n      it('supports fine-grained speed modifications', function () {\n        setup('', { speed: 2 })\n        advance(1.0, { p1_speedup: 1, select: 1 })\n        assert(state.speed === 2.1)\n      })\n      it('supports pinching to zoom', function () {\n        setup('', { speed: 2 })\n        advance(1.0, { p1_pinch: 300 })\n        advance(1.2, { p1_pinch: 450 })\n        assert(state.speed === 3)\n      })\n    })\n\n    describe('finish', function () {\n      it('should become true when song is finished', function () {\n        setup('#00111:0101')\n        assert(state.finished === false)\n        advance(4.0, {})\n        assert(state.finished === false)\n        advance(16.0, {})\n        assert(state.finished === true)\n      })\n    })\n  })\n})\n","import assert from 'assert'\n\nimport PlayerStats from './player-stats'\nimport { notechart } from '../test-helpers'\n\ndescribe('PlayerStats', function () {\n  const statsFor5Notes = () => new PlayerStats(notechart('#00111:1111111111'))\n  const statsFor1000Notes = () =>\n    new PlayerStats(notechart('#00111:' + '11'.repeat(1000)))\n\n  describe('#score', function () {\n    it('returns the score', function () {\n      const stats = statsFor5Notes()\n      assert(stats.score === 0)\n      stats.handleJudgment(1)\n      stats.handleJudgment(1)\n      stats.handleJudgment(1)\n      stats.handleJudgment(1)\n      stats.handleJudgment(1)\n      assert(stats.score === 555555)\n    })\n  })\n\n  describe('#comboScore', function () {\n    it('returns the score', function () {\n      const stats = statsFor1000Notes()\n      assert(stats.comboScore === 0)\n      for (let i = 0; i < 1000; i++) {\n        stats.handleJudgment(1)\n      }\n      assert(stats.comboScore === 55555)\n    })\n  })\n\n  describe('#maxPossibleComboScore', function () {\n    it('is always 55555 in best case', function () {\n      const stats = statsFor1000Notes()\n      assert(stats.maxPossibleComboScore === 55555)\n      for (let i = 0; i < 1000; i++) {\n        stats.handleJudgment(1)\n        assert(stats.maxPossibleComboScore === 55555)\n      }\n    })\n    it('decreases to 0 in worst case', function () {\n      const stats = statsFor5Notes()\n      assert(stats.maxPossibleComboScore === 55555)\n      stats.handleJudgment(-1)\n      assert(stats.maxPossibleComboScore < 55555)\n      for (let i = 0; i < 999; i++) {\n        stats.handleJudgment(-1)\n      }\n      assert(stats.maxPossibleComboScore === 0)\n    })\n  })\n\n  describe('#maxPossibleScore', function () {\n    it('is always 555555 in best case', function () {\n      const stats = statsFor1000Notes()\n      assert(stats.maxPossibleScore === 555555)\n      for (let i = 0; i < 1000; i++) {\n        stats.handleJudgment(1)\n        assert(stats.maxPossibleScore === 555555)\n      }\n    })\n    it('decreases to 0 in worst case', function () {\n      const stats = statsFor1000Notes()\n      assert(stats.maxPossibleScore === 555555)\n      stats.handleJudgment(-1)\n      assert(stats.maxPossibleScore < 555555)\n      assert(stats.maxPossibleScore > stats.score)\n      for (let i = 0; i < 999; i++) {\n        stats.handleJudgment(-1)\n      }\n      assert(stats.maxPossibleScore === 0)\n    })\n  })\n\n  describe('#deltas', function () {\n    it('returns the deltas', function () {\n      const stats = new PlayerStats(notechart('#00111:111111'))\n      stats.handleDelta(0.031)\n      stats.handleDelta(0.001)\n      stats.handleDelta(-0.031)\n      expect(stats.deltas).to.deep.equal([0.031, 0.001, -0.031])\n    })\n  })\n\n  describe('#log', function () {\n    it('returns the log', function () {\n      const stats = new PlayerStats(notechart('#00111:11111111111111'))\n      expect(stats.score).to.equal(0)\n      stats.handleJudgment(1)\n      stats.handleJudgment(1)\n      stats.handleJudgment(1)\n      stats.handleJudgment(2)\n      stats.handleJudgment(3)\n      stats.handleJudgment(-1)\n      stats.handleJudgment(-1)\n      expect(stats.log).to.equal('3ABC2M')\n    })\n  })\n})\n","import assert from 'assert'\n\nimport createKeysoundCache from './createKeysoundCache'\n\ndescribe('A keysound cache', function () {\n  it('starts empty', () => {\n    const harness = setup()\n    assert(harness.isEmpty())\n  })\n\n  it('is unusable until song is selected', () => {\n    const harness = setup()\n    assert.throws(() => {\n      harness.cache('sound1', 'AudioBuffer1')\n    })\n  })\n\n  it('can add keysound to the cache', () => {\n    const harness = setup()\n    harness.startSong('songId1')\n    harness.cache('sound1', 'AudioBuffer1')\n    assert(!harness.isEmpty())\n    assert(harness.isCached('sound1') === true)\n    assert(harness.get('sound1') === 'AudioBuffer1')\n  })\n\n  it('keeps keysounds in the cache if song did not change', () => {\n    const harness = setup()\n    harness.startSong('songId1')\n    harness.cache('sound1', 'AudioBuffer1')\n    harness.startSong('songId1')\n    assert(!harness.isEmpty())\n  })\n\n  it('clears when song change', () => {\n    const harness = setup()\n    harness.startSong('songId1')\n    harness.cache('sound1', 'AudioBuffer1')\n    harness.startSong('songId2')\n    assert(harness.isEmpty())\n  })\n\n  function setup() {\n    const cache = createKeysoundCache()\n    return {\n      startSong: (songId) => cache.receiveSongId(songId),\n      cache: (soundName, audioBuffer) => cache.cache(soundName, audioBuffer),\n      isEmpty: () => cache.isEmpty(),\n      isCached: (soundName) => cache.isCached(soundName),\n      get: (soundName) => cache.get(soundName),\n    }\n  }\n})\n","import Bacon from 'baconjs'\nimport assert from 'assert'\nimport { EventEmitter } from 'events'\n\nimport { OmniInput, _keyForUpdate, getName, key } from './'\n\nfunction fakeWindow() {\n  const events = new EventEmitter()\n  const gamepads = []\n  const noop = () => {}\n  return {\n    addEventListener(name, callback) {\n      events.on(name, callback)\n    },\n    removeEventListener(name, callback) {\n      events.removeListener(name, callback)\n    },\n    setInterval(callback) {\n      events.on('timeout', callback)\n      return callback\n    },\n    clearInterval(callback) {\n      events.removeListener('timeout', callback)\n    },\n    keydown(keyCode) {\n      events.emit('keydown', { which: keyCode, preventDefault: noop })\n    },\n    keyup(keyCode) {\n      events.emit('keyup', { which: keyCode, preventDefault: noop })\n    },\n    tick() {\n      events.emit('timeout')\n    },\n    gamepads,\n    navigator: {\n      getGamepads() {\n        return gamepads\n      },\n    },\n  }\n}\n\ndescribe('OmniInput', function () {\n  beforeEach(function () {\n    this.window = fakeWindow()\n    this.midi = new Bacon.Bus()\n    this.input = new OmniInput(this.window, {\n      getMidi: () => this.midi,\n    })\n    this.midi = (...args) => {\n      this.midi.push({\n        data: args,\n        target: { id: '1234' },\n      })\n    }\n  })\n\n  afterEach(function () {\n    this.input.dispose()\n  })\n\n  it('does not fail when browser support is limited', () => {\n    const basicWindow = {\n      addEventListener() {},\n      removeEventListener() {},\n      navigator: {},\n    }\n    const input = new OmniInput(basicWindow)\n    void input\n  })\n\n  describe('keyboard', function () {\n    it('recognizes input', function () {\n      this.window.keydown(32)\n      assert(this.input.update()['32'])\n      this.window.keyup(32)\n      assert(!this.input.update()['32'])\n    })\n    it('returns the key name', function () {\n      assert(getName('32') === 'Space')\n      assert(getName('65') === 'A')\n    })\n  })\n\n  describe('gamepad', function () {\n    it('recognizes input', function () {\n      this.window.gamepads.push(null, {\n        index: 1,\n        buttons: [{}, { value: 0.9 }],\n        axes: [0, 0.9, -0.9],\n      })\n      const data = this.input.update()\n      assert(!data['gamepad.1.button.0'])\n      assert(data['gamepad.1.button.1'])\n      assert(!data['gamepad.1.axis.0'])\n      assert(!data['gamepad.1.axis.0.positive'])\n      assert(!data['gamepad.1.axis.0.negative'])\n      assert(data['gamepad.1.axis.1.positive'])\n      assert(!data['gamepad.1.axis.1.negative'])\n      assert(data['gamepad.1.axis.2.negative'])\n      assert(!data['gamepad.1.axis.2.positive'])\n    })\n  })\n\n  describe('midi', function () {\n    it('handles notes', function () {\n      this.midi(0x92, 0x40, 0x7f)\n      assert(this.input.update()['midi.1234.2.note.64'], 'note on')\n      this.midi(0x82, 0x40, 0x7f)\n      assert(!this.input.update()['midi.1234.2.note.64'], 'note off')\n      this.midi(0x92, 0x40, 0x7f)\n      assert(this.input.update()['midi.1234.2.note.64'], 'note on')\n      this.midi(0x92, 0x40, 0x00)\n      assert(\n        !this.input.update()['midi.1234.2.note.64'],\n        'note off with note on'\n      )\n    })\n    it('handles pitch bend', function () {\n      this.midi(0xe1, 0x7f, 0x7f)\n      assert(this.input.update()['midi.1234.1.pitch.up'])\n      assert(!this.input.update()['midi.1234.1.pitch.down'])\n      this.midi(0xe1, 0x7f, 0x1f)\n      assert(this.input.update()['midi.1234.1.pitch.down'])\n      assert(!this.input.update()['midi.1234.1.pitch.up'])\n    })\n    it('handles sustain pedal', function () {\n      this.midi(0xbc, 0x40, 0x7f)\n      assert(this.input.update()['midi.1234.12.sustain'])\n      this.midi(0xbc, 0x40, 0x00)\n      assert(!this.input.update()['midi.1234.12.sustain'])\n    })\n    it('handles modulation lever', function () {\n      this.midi(0xbc, 0x01, 0x7f)\n      assert(this.input.update()['midi.1234.12.mod'])\n      this.midi(0xbc, 0x01, 0x00)\n      assert(!this.input.update()['midi.1234.12.mod'])\n    })\n    it('returns the key name', function () {\n      assert(getName('midi.1234.12.note.60').match(/C4/))\n      assert(getName('midi.1234.12.pitch.up').match(/Pitch\\+/))\n      assert(getName('midi.1234.12.pitch.down').match(/Pitch-/))\n      assert(getName('midi.1234.12.sustain').match(/Sustain/))\n      assert(getName('midi.1234.12.mod').match(/Mod/))\n    })\n  })\n\n  describe('key', function () {\n    it('should return events', function () {\n      let last\n      const dispose = key(this.input, this.window).onValue(\n        (value) => (last = value)\n      )\n\n      this.window.keydown(32)\n      this.window.tick()\n      assert(last === '32')\n\n      dispose()\n    })\n  })\n\n  describe('_keyForUpdate', function () {\n    it('should emit new keys', function () {\n      const  = new Bacon.Bus()\n      const events = []\n      const dispose = _keyForUpdate().onValue((value) =>\n        events.push(value)\n      )\n      .push({ 32: true })\n      .push({ 32: true })\n      .push({ 32: false })\n      .push({ 32: true })\n      .push({ 33: true })\n      .push({ 32: true })\n      .push({ 32: true, 35: true })\n      .push({ 31: true, 35: true })\n      assert.deepEqual(events, ['32', '32', '33', '32', '35', '31'])\n      dispose()\n    })\n  })\n})\n","import _ from 'lodash'\n\nimport * as DataStore from './data-store'\nimport * as Operations from './operations'\n\ndescribe('Online DataStore', function () {\n  describe('initial state', function () {\n    describe('get', function () {\n      it('should return initial operation state when not exist', function () {\n        const item = DataStore.get(DataStore.INITIAL_STATE, 'meow')\n        expect(item).to.deep.equal(Operations.INITIAL_OPERATION_STATE)\n      })\n    })\n    describe('has', function () {\n      it('has should return false', function () {\n        const has = DataStore.has(DataStore.INITIAL_STATE, 'meow')\n        void expect(has).to.be.false\n      })\n    })\n  })\n\n  describe('reducer', function () {\n    describe('put', function () {\n      it('should transition state of a record', function () {\n        const action1 = DataStore.put(\n          'a',\n          Operations.completedStateTransition(1)\n        )\n        const action2 = DataStore.put(\n          'b',\n          Operations.completedStateTransition(2)\n        )\n        const state = _()\n          .thru((state) => DataStore.reduce(state, action1))\n          .thru((state) => DataStore.reduce(state, action2))\n          .value()\n        expect(DataStore.get(state, 'a').value).to.equal(1)\n        expect(DataStore.get(state, 'b').value).to.equal(2)\n      })\n    })\n    describe('putMultiple', function () {\n      it('should transition state of multiple records', function () {\n        const action = DataStore.putMultiple({\n          a: Operations.completedStateTransition(1),\n          b: Operations.completedStateTransition(2),\n        })\n        const state = DataStore.reduce(undefined, action)\n        expect(DataStore.get(state, 'a').value).to.equal(1)\n        expect(DataStore.get(state, 'b').value).to.equal(2)\n      })\n    })\n  })\n\n  describe('with records', function () {\n    beforeEach(function () {\n      const action = DataStore.putMultiple({\n        a: Operations.completedStateTransition(1),\n        b: Operations.completedStateTransition(2),\n        c: Operations.INITIAL_OPERATION_STATE,\n        d: Operations.loadingStateTransition(),\n      })\n      this.state = DataStore.reduce(undefined, action)\n    })\n    describe('has', function () {\n      it('has should return true if touched', function () {\n        void expect(DataStore.has(this.state, 'a')).to.be.true\n        void expect(DataStore.has(this.state, 'b')).to.be.true\n        void expect(DataStore.has(this.state, 'c')).to.be.true\n        void expect(DataStore.has(this.state, 'd')).to.be.true\n      })\n      it('has should return false if untouched', function () {\n        void expect(DataStore.has(this.state, 'e')).to.be.false\n      })\n    })\n    describe('clear', function () {\n      it('should clear the store', function () {\n        this.state = DataStore.reduce(this.state, DataStore.clear())\n        void expect(DataStore.has(this.state, 'a')).to.be.false\n      })\n    })\n  })\n})\n","import Online from './'\nimport OnlineService from './scoreboard-system/OnlineService'\n\nconst uid = (function () {\n  const session = Math.floor(Math.random() * 65536).toString(16)\n  let index = 0\n  return function () {\n    const random = Math.floor(Math.random() * 65536).toString(16)\n    const time = Date.now().toString(16)\n    return (\n      'bemuse.' +\n      time +\n      '.' +\n      session +\n      '.' +\n      random +\n      '.' +\n      (++index).toString(16)\n    )\n  }\n})()\n\ntests({ fake: true })\n\nfunction tests(onlineServiceOptions) {\n  const storage = {}\n\n  function createOnline() {\n    return new Online(new OnlineService({ ...onlineServiceOptions, storage }))\n  }\n\n  describe('Online', function () {\n    function createAccountInfo() {\n      return {\n        username: uid(),\n        password: 'wow_bemuse_test',\n        email: 'test+' + uid() + '@bemuse.ninja',\n      }\n    }\n\n    this.timeout(20000)\n\n    describe('signup', function () {\n      let online\n      let info\n      before(function () {\n        online = createOnline()\n      })\n      after(function () {\n        online = null\n      })\n      before(function () {\n        info = createAccountInfo()\n      })\n      it('should succeed', function () {\n        return expect(online.signUp(info)).to.be.fulfilled\n      })\n      it('should not allow duplicate signup', function () {\n        return expect(online.signUp(info)).to.be.rejectedWith(Error)\n      })\n    })\n\n    describe('initially', function () {\n      let online\n      before(async () => {\n        await createOnline().logOut()\n      })\n      beforeEach(async () => {\n        online = createOnline()\n      })\n      describe('user', function () {\n        it('should be null', function () {\n          return expect(online.user.first().toPromise()).to.eventually.be.null\n        })\n      })\n    })\n\n    describe('when signed up', function () {\n      let online\n      before(function () {\n        online = createOnline()\n      })\n      describe('user', function () {\n        it('should change to signed-up user, and also start with it', async function () {\n          const info = createAccountInfo()\n          online.user.onValue(console.log.bind(console, 'user'))\n          const assertions = (async () => {\n            const user = await online.user\n              .filter((u) => !!u)\n              .first()\n              .toPromise()\n            expect(user.username).to.equal(info.username)\n\n            const firstUser = await createOnline()\n              .user.filter((u) => !!u)\n              .first()\n              .toPromise()\n            expect(firstUser.username).to.equal(info.username)\n          })()\n\n          await online.signUp(info)\n          await assertions\n        })\n      })\n    })\n\n    describe('with an active user', function () {\n      let online\n      const info = createAccountInfo()\n      before(function () {\n        online = createOnline()\n      })\n      before(function () {\n        return online.signUp(info)\n      })\n      beforeEach(function () {\n        return online.logIn(info)\n      })\n      describe('when log out', function () {\n        it('should change user back to null', async function () {\n          const assertions = (async () => {\n            const user = await online.user\n              .filter((u) => !u)\n              .first()\n              .toPromise()\n            void expect(user).to.be.null\n          })()\n          await Promise.resolve(online.logOut())\n          await assertions\n        })\n      })\n    })\n\n    describe('submitting high scores', function () {\n      let online\n      before(function () {\n        online = createOnline()\n      })\n\n      const prefix = uid() + '_'\n      const user1 = createAccountInfo()\n      const user2 = createAccountInfo()\n\n      steps((step) => {\n        let lastRecordedAt\n        step('sign up...', function () {\n          return online.signUp(user1)\n        })\n        step('records data successfully', async function () {\n          const record = await online.submitScore({\n            md5: prefix + 'song',\n            playMode: 'BM',\n            score: 123456,\n            combo: 123,\n            total: 456,\n            count: [122, 1, 0, 0, 333],\n            log: '',\n          })\n          expect(record.playNumber).to.equal(1)\n          expect(record.playCount).to.equal(1)\n          expect(record.recordedAt).to.be.an.instanceof(Date)\n          expect(record.rank).to.equal(1)\n          lastRecordedAt = record.recordedAt\n        })\n        step(\n          'does not update if old score is better, but update play count',\n          async function () {\n            const record = await online.submitScore({\n              md5: prefix + 'song',\n              playMode: 'BM',\n              score: 123210,\n              combo: 124,\n              total: 456,\n              count: [123, 1, 0, 0, 332],\n              log: '',\n            })\n            expect(record.score).to.equal(123456)\n            expect(record.combo).to.equal(123)\n            expect(record.playNumber).to.equal(1)\n            expect(record.playCount).to.equal(2)\n            expect(record.recordedAt).not.to.be.above(lastRecordedAt)\n            lastRecordedAt = record.recordedAt\n          }\n        )\n        step('updates data if new score is better', async function () {\n          const record = await online.submitScore({\n            md5: prefix + 'song',\n            playMode: 'BM',\n            score: 555555,\n            combo: 456,\n            total: 456,\n            count: [456, 0, 0, 0, 0],\n            log: '',\n          })\n          expect(record.score).to.equal(555555)\n          expect(record.combo).to.equal(456)\n          expect(record.playNumber).to.equal(3)\n          expect(record.playCount).to.equal(3)\n          expect(record.recordedAt).to.be.above(lastRecordedAt)\n          expect(record.playerName).to.equal(user1.username)\n          lastRecordedAt = record.recordedAt\n        })\n        step('different mode have different score board', async function () {\n          const record = await online.submitScore({\n            md5: prefix + 'song',\n            playMode: 'KB',\n            score: 123210,\n            combo: 124,\n            total: 456,\n            count: [123, 1, 0, 0, 332],\n            log: '',\n          })\n          expect(record.score).to.equal(123210)\n          expect(record.rank).to.equal(1)\n        })\n        step('as another user...', function () {\n          return online.signUp(user2)\n        })\n        step('saves a separate data', async function () {\n          const record = await online.submitScore({\n            md5: prefix + 'song',\n            playMode: 'BM',\n            score: 123210,\n            combo: 124,\n            total: 456,\n            count: [123, 1, 0, 0, 332],\n            log: '',\n          })\n          expect(record.score).to.equal(123210)\n          expect(record.playNumber).to.equal(1)\n          expect(record.playCount).to.equal(1)\n          expect(record.rank).to.equal(2)\n        })\n      })\n    })\n\n    describe('the scoreboard', function () {\n      let online\n      before(function () {\n        online = createOnline()\n        return online.logOut()\n      })\n\n      const prefix = uid() + '_'\n      const user1 = createAccountInfo()\n      const user2 = createAccountInfo()\n      const user3 = createAccountInfo()\n\n      steps((step) => {\n        step('sign up user1...', function () {\n          return online.signUp(user1)\n        })\n        step('submit score1...', function () {\n          return online.submitScore({\n            md5: prefix + 'song1',\n            playMode: 'BM',\n            score: 222222,\n            combo: 456,\n            total: 456,\n            count: [0, 0, 456, 0, 0],\n            log: '',\n          })\n        })\n        step('sign up user2...', function () {\n          return online.signUp(user2)\n        })\n        step('submit score2...', function () {\n          return online.submitScore({\n            md5: prefix + 'song1',\n            playMode: 'BM',\n            score: 555555,\n            combo: 456,\n            total: 456,\n            count: [456, 0, 0, 0, 0],\n            log: '',\n          })\n        })\n        step('scoreboard should return the top score', async function () {\n          const result = await online.scoreboard({\n            md5: prefix + 'song1',\n            playMode: 'BM',\n          })\n          expect(result.data).to.have.length(2)\n          expect(result.data[0].rank).to.eq(1)\n          expect(result.data[1].rank).to.eq(2)\n        })\n        step('log out...', function () {\n          return online.logOut()\n        })\n\n        let ranking\n        let ranking\n        let dispose\n        step('subscribe to scoreboard...', function () {\n          ranking = online.Ranking({\n            md5: prefix + 'song1',\n            playMode: 'BM',\n            score: 111111,\n            combo: 123,\n            total: 456,\n            count: [0, 123, 0, 0, 333],\n            log: '',\n          })\n          ranking = ranking.state\n          dispose = ranking.onValue((state) => {\n            // console.log('ranking', state)\n          })\n        })\n\n        function when(predicate) {\n          return Promise.resolve(\n            ranking.filter(predicate).first().toPromise()\n          )\n        }\n\n        step('should have scoreboard loading status', function () {\n          return when((state) => state.meta.scoreboard.status === 'loading')\n        })\n        step('no new score should be submitted', function () {\n          return when(\n            (state) =>\n              state.meta.scoreboard.status === 'completed' &&\n              state.meta.submission.status === 'unauthenticated'\n          ).then((state) => {\n            expect(state.data).to.have.length(2)\n          })\n        })\n        step('sign up user3...', function () {\n          return online.signUp(user3)\n        })\n        step('should start sending score', function () {\n          return when((state) => state.meta.submission.status === 'loading')\n        })\n        step('should finish sending score', function () {\n          return when(\n            (state) => state.meta.submission.status === 'completed'\n          ).then((state) => {\n            expect(state.meta.submission.value.rank).to.equal(3)\n          })\n        })\n        step('should start loading scoreboard', function () {\n          return when((state) => state.meta.scoreboard.status === 'loading')\n        })\n        step('should finish reloading scoreboard', function () {\n          return when(\n            (state) => state.meta.scoreboard.status === 'completed'\n          ).then((state) => {\n            expect(state.data).to.have.length(3)\n          })\n        })\n        step('resubscribe with read only', function () {\n          dispose()\n          ranking = online.Ranking({\n            md5: prefix + 'song1',\n            playMode: 'BM',\n          })\n          ranking = ranking.state\n          dispose = ranking.subscribe(() => {})\n        })\n        step('should not submit new score', function () {\n          return when(\n            (state) =>\n              state.meta.scoreboard.status === 'completed' &&\n              state.meta.submission.status === 'completed'\n          ).then(function (state) {\n            expect(state.data).to.have.length(3)\n            expect(state.meta.submission.value.playCount).to.equal(1)\n          })\n        })\n        after(function () {\n          online.logOut()\n          dispose()\n        })\n      })\n    })\n  })\n}\n\nfunction steps(f) {\n  let _resolve\n  let promise = new Promise((resolve) => (_resolve = resolve))\n  let i = 0\n  before(() => void _resolve())\n  return f((name, fn) => {\n    promise = promise.then(fn, () => {\n      throw new Error('Previous steps errored')\n    })\n    const current = promise\n    it(`${++i}. ${name}`, () => current)\n  })\n}\n","import * as Formatters from './formatters'\nimport { Progress } from './Progress'\n\ndescribe('ProgressFormatters', function () {\n  describe('BYTES_FORMATTER', function () {\n    it('should return blank for indeterminate', function () {\n      const p = new Progress()\n      expect(Formatters.BYTES_FORMATTER(p)).to.equal('')\n    })\n    it('should format as human readable size', function () {\n      const p = new Progress()\n      p.report(1, 1024)\n      expect(Formatters.BYTES_FORMATTER(p)).to.equal('1B / 1KB')\n    })\n  })\n\n  describe('EXTRA_FORMATTER', function () {\n    it('should just use the extra', function () {\n      const p = new Progress()\n      p.report(1, 1024, 'one.wav')\n      expect(Formatters.EXTRA_FORMATTER(p)).to.equal('one.wav')\n    })\n  })\n})\n","import { Progress } from './Progress'\n\ndescribe('Progress', function () {\n  describe('#watch', function () {\n    it('should report current progress when watched', function () {\n      const progress = new Progress()\n      const spy = sinon.spy()\n      progress.report(1, 10)\n      progress.watch(spy)\n      expect(spy).to.have.callCount(1)\n      expect(spy).to.have.been.calledWith(progress)\n    })\n  })\n\n  describe('#toString', function () {\n    it('should return blank string when no progress', function () {\n      const progress = new Progress()\n      expect(progress.toString()).to.equal('')\n    })\n    it('should return a string representation of the progress', function () {\n      const progress = new Progress()\n      progress.report(1, 10)\n      expect(progress.toString()).to.equal('1 / 10')\n    })\n    it('should use a formatter', function () {\n      const progress = new Progress()\n      progress.report(1, 10)\n      progress.formatter = (p) => p.progress + ''\n      expect(progress.toString()).to.equal('0.1')\n    })\n  })\n\n  describe('#report', function () {\n    it('should fire to all watchers', function () {\n      const progress = new Progress()\n      const spy = sinon.spy()\n      progress.report(1, 10)\n      progress.report(2, 10)\n      progress.watch(spy)\n      progress.report(3, 10)\n      progress.report(4, 10)\n      expect(spy).to.have.callCount(3)\n    })\n    it('should return a function to unsubscribe', function () {\n      const progress = new Progress()\n      const spy = sinon.spy()\n      progress.report(1, 10)\n      progress.report(2, 10)\n      const unsubscribe = progress.watch(spy)\n      progress.report(3, 10)\n      unsubscribe()\n      progress.report(4, 10)\n      expect(spy).to.have.callCount(2)\n    })\n  })\n\n  describe('#progress', function () {\n    it('returns progress in fraction', function () {\n      const progress = new Progress()\n      progress.report(1, 10)\n      expect(progress.progress).to.equal(1 / 10)\n    })\n    it('returns null in unavailable', function () {\n      const progress = new Progress()\n      expect(progress.progress).to.equal(null)\n    })\n  })\n})\n","import { Progress } from './Progress'\nimport * as ProgressUtils from './utils'\n\ndescribe('ProgressUtils', function () {\n  describe('.fixed', function () {\n    it('should report for fixed number of items', function () {\n      const progress = new Progress()\n      const advance = ProgressUtils.fixed(10, progress)\n      expect(progress.current).to.equal(0)\n      expect(progress.total).to.equal(10)\n      advance('wow')\n      expect(progress.current).to.equal(1)\n      expect(progress.total).to.equal(10)\n      expect(progress.extra).to.equal('wow')\n    })\n  })\n\n  describe('.wrapPromise', function () {\n    it('should report number of fulfilled promises', function () {\n      const progress = new Progress()\n      const f = ProgressUtils.wrapPromise(progress, (promise) => promise)\n      const a = f(new Promise(() => {}))\n      const b = f(Promise.resolve(1))\n      const c = f(Promise.reject(new Error('no')))\n      const d = f(Promise.resolve(3))\n      void a\n      void c\n      return Promise.all([b, d]).then(() => {\n        expect(progress.current).to.equal(2)\n        expect(progress.total).to.equal(4)\n      })\n    })\n  })\n\n  describe('.bind', function () {\n    it('should bind from one progress to another', function () {\n      const a = new Progress()\n      const b = new Progress()\n      a.report(10, 20)\n      ProgressUtils.bind(a, b)\n      expect(b.current).to.equal(10)\n      expect(b.total).to.equal(20)\n      a.report(15, 25)\n      expect(b.current).to.equal(15)\n      expect(b.total).to.equal(25)\n    })\n  })\n\n  describe('.simultaneous', function () {\n    it('should report in fifo manner', function () {\n      const out = new Progress()\n      const simultaneous = ProgressUtils.simultaneous(out)\n      const a = new Progress()\n      const b = new Progress()\n      simultaneous.add(a)\n      a.report(10, 20)\n      expect(out.current).to.equal(10)\n      simultaneous.add(b)\n      b.report(11, 30)\n      expect(out.current).to.equal(10)\n      a.report(15, 20)\n      expect(out.current).to.equal(15)\n      a.report(20, 20)\n      expect(out.current).to.equal(11)\n      b.report(21, 30)\n      expect(out.current).to.equal(21)\n      b.report(30, 30)\n      expect(out.current).to.equal(30)\n      expect(out.total).to.equal(30)\n    })\n  })\n})\n","import assert from 'assert'\n\nimport BemusePackageResources from './bemuse-package'\n\ndescribe('BemusePackageResources', function () {\n  describe('#file', function () {\n    let resources\n\n    beforeEach(function () {\n      resources = new BemusePackageResources(\n        '/base/src/resources/test-fixtures/a/'\n      )\n    })\n\n    it('returns a file', function () {\n      return expect(resources.file('do.mp3')).to.be.fulfilled\n    })\n\n    it('rejects if file not found', function () {\n      return expect(resources.file('wow.mp3')).to.be.rejected\n    })\n\n    it('can be read', function () {\n      return expect(\n        resources\n          .file('mi.mp3')\n          .then((file) => file.read())\n          .then((buffer) => buffer.byteLength)\n      ).to.eventually.eq(30093)\n    })\n\n    it('can obtain url', function () {\n      return resources\n        .file('mi.mp3')\n        .then((file) => file.resolveUrl())\n        .then((url) => {\n          assert(typeof url === 'string')\n        })\n    })\n\n    it('cannot read if not bemuse file', function () {\n      resources = new BemusePackageResources(\n        '/base/src/resources/test-fixtures/b/'\n      )\n      return expect(resources.file('do.mp3').then((file) => file.read())).to.be\n        .rejected\n    })\n\n    it('data is correct', function () {\n      return resources\n        .file('mi.mp3')\n        .then((file) => file.read())\n        .then((buffer) => new Uint8Array(buffer))\n        .then((array) => {\n          expect([array[0], array[1], array[2]]).to.deep.equal([\n            0xff, 0xfb, 0x90,\n          ])\n        })\n    })\n\n    it('supports fallback', function () {\n      resources = new BemusePackageResources(\n        '/base/src/resources/test-fixtures/a/',\n        {\n          fallback: '/base/src/resources/test-fixtures/f/',\n          fallbackPattern: /\\.txt$/,\n        }\n      )\n      return resources\n        .file('meow.txt')\n        .then((file) => file.read())\n        .then((buffer) => new Uint8Array(buffer))\n        .then((array) => {\n          expect([array[0], array[1]]).to.deep.equal([0x68, 0x69])\n        })\n    })\n    it('supports fallback only with the pattern', function () {\n      resources = new BemusePackageResources(\n        '/base/spec/resources/fixtures/a/',\n        {\n          fallback: '/base/src/resources/test-fixtures/f/',\n          fallbackPattern: /\\.txt$/,\n        }\n      )\n      return expect(resources.file('meow.dat')).to.be.rejected\n    })\n  })\n})\n","import assert from 'assert'\n\nimport URLResource from './url'\n\ndescribe('URLResource', function () {\n  it('can download a resource from an arbitrary URL', function () {\n    const resource = new URLResource(\n      '/base/src/resources/test-fixtures/f/meow.txt'\n    )\n    return resource\n      .read()\n      .then((buffer) => new Uint8Array(buffer))\n      .then((array) => {\n        expect([array[0], array[1]]).to.deep.equal([0x68, 0x69])\n      })\n  })\n  it('can retrieve back the URL', function () {\n    const resource = new URLResource(\n      '/base/src/resources/test-fixtures/f/meow.txt'\n    )\n    return resource.resolveUrl().then((url) => {\n      assert(/\\/meow\\.txt$/.test(url))\n    })\n  })\n  it('has a name, which is only the file name without the path', function () {\n    const resource = new URLResource(\n      '/base/src/resources/test-fixtures/f/meow.txt'\n    )\n    assert(resource.name === 'meow.txt')\n  })\n})\n","/* global AudioContext, WebAudioTestAPI */\n\nimport 'web-audio-test-api'\n\nimport assert from 'assert'\n\nimport SamplingMaster, { FADE_LENGTH } from './'\n\ndescribe('SamplingMaster', function () {\n  let context\n  let master\n  before(() => {\n    WebAudioTestAPI.use()\n  })\n  beforeEach(() => {\n    context = new AudioContext()\n    master = new SamplingMaster(context)\n  })\n\n  describe('#unmute', function () {\n    it('unmutes the audio', function () {\n      const gain = context.createGain()\n      sinon.stub(context, 'createGain').returns(gain)\n      sinon.spy(gain, 'connect')\n      sinon.spy(gain, 'disconnect')\n      master.unmute()\n      void expect(context.createGain).to.have.been.called\n      void expect(gain.connect).to.have.been.called\n      void expect(gain.disconnect).to.have.been.called\n    })\n  })\n\n  describe('#group', function () {\n    it('has a destination with gain', function () {\n      const group = master.group({ volume: 0.5 })\n      expect(group.destination.gain.value).to.equal(0.5)\n    })\n    it('connect upon construct, disconnect upon destroy', function () {\n      const group = master.group()\n      const node = group.destination\n      void expect(node.$isConnectedTo(master.destination)).to.be.true\n      group.destroy()\n      void expect(node.$isConnectedTo(master.destination)).to.be.false\n      void expect(group.destination).to.be.null\n    })\n  })\n\n  describe('#decode', function () {\n    it('returns an audio buffer', () => {\n      return master.decode(new Blob([])).then((audioBuffer) => {\n        assert(audioBuffer.numberOfChannels)\n      })\n    })\n  })\n\n  describe('#sample', function () {\n    it('should coerce blob', function () {\n      return master.sample(new Blob([]))\n    })\n    it('should coerce array buffer', function () {\n      return master.sample(new ArrayBuffer(0))\n    })\n    it('should support an audiobuffer', function () {\n      return master.decode(new Blob([])).then((audioBuffer) => {\n        return master.sample(audioBuffer)\n      })\n    })\n    it('should reject when decoding failed', function () {\n      context.DECODE_AUDIO_DATA_FAILED = true\n      return expect(\n        master\n          .sample(new ArrayBuffer(0))\n          .finally(() => (context.DECODE_AUDIO_DATA_FAILED = false))\n      ).to.be.rejected\n    })\n    describe('#play', function () {\n      let sample\n      let bufferSource\n      let buffer\n      beforeEach(function () {\n        bufferSource = context.createBufferSource()\n        buffer = context.createBuffer(1, 44100, 44100)\n        bufferSource.buffer = buffer\n        sinon.stub(context, 'createBufferSource').returns(bufferSource)\n        sinon.spy(bufferSource, 'start')\n        return master.sample(new Blob([])).then((s) => (sample = s))\n      })\n      it('should play a buffer source', function () {\n        sample.play()\n        void expect(context.createBufferSource).to.have.been.called\n        expect(bufferSource.start).to.have.been.calledWith(0)\n      })\n      it('should play a buffer source with delay', function () {\n        context.$processTo(1)\n        sample.play(20)\n        void expect(context.createBufferSource).to.have.been.called\n        expect(bufferSource.start).to.have.been.calledWith(21)\n      })\n      it('should play a buffer slice (without end)', function () {\n        sample.play(0, { start: 1, end: undefined })\n        expect(bufferSource.start).to.have.been.calledWith(0, 1)\n      })\n      it('should play a buffer slice (with end)', function () {\n        sample.play(0, { start: 1, end: 3 })\n        expect(bufferSource.start).to.have.been.calledWith(\n          0,\n          1,\n          2 + FADE_LENGTH\n        )\n      })\n      it('should play to a group', function () {\n        const group = master.group()\n        const instance = sample.play(0, { group })\n        void expect(instance.TEST_node.$isConnectedTo(group.destination)).to.be\n          .true\n      })\n\n      // HACK: only enable this test case when Event#type can be set after\n      // being constructed. If this isn't true, WebAudioTestAPI will cause\n      // an error due to how its own Event is implemented.\n      // https://github.com/mohayonao/web-audio-test-api/issues/18\n      void (function () {\n        try {\n          new Event('wat').type = 'customevent'\n          return it\n        } catch (e) {\n          void e\n          return it.skip\n        }\n      })()('should call #stop when playing finished', function () {\n        const instance = sample.play()\n        sinon.spy(instance, 'stop')\n        context.$processTo(1.5)\n        void expect(instance.stop).to.have.been.called\n      })\n\n      describe('#stop', function () {\n        it('should stop the buffer source', function () {\n          const instance = sample.play()\n          sinon.spy(bufferSource, 'stop')\n          instance.stop()\n          void expect(bufferSource.stop).to.have.been.called\n        })\n        it('can be called multiple times', function () {\n          const instance = sample.play()\n          sinon.spy(bufferSource, 'stop')\n          instance.stop()\n          instance.stop()\n          instance.stop()\n          void expect(bufferSource.stop).to.have.been.calledOnce\n        })\n        it('should call #onstop', function () {\n          const instance = sample.play()\n          instance.onstop = sinon.spy()\n          instance.stop()\n          void expect(instance.onstop).to.have.been.called\n        })\n      })\n\n      describe('#bad', function () {\n        it('should change pitch of sound', function () {\n          const instance = sample.play()\n          instance.bad()\n          expect(bufferSource.playbackRate.value).not.to.equal(1)\n        })\n      })\n    })\n  })\n\n  describe('#destroy', function () {\n    let sample\n    beforeEach(function () {\n      return master.sample(new Blob([])).then((s) => (sample = s))\n    })\n    it('should stop all samples', function () {\n      const a = sample.play()\n      const b = sample.play()\n      const c = sample.play()\n      sinon.spy(a, 'stop')\n      sinon.spy(b, 'stop')\n      sinon.spy(c, 'stop')\n      master.destroy()\n      void expect(a.stop).to.have.been.called\n      void expect(b.stop).to.have.been.called\n      void expect(c.stop).to.have.been.called\n    })\n    it('can no longer create samples', function () {\n      master.destroy()\n      return expect(master.sample(new Blob([]))).to.be.rejected\n    })\n    it('only destroys once', function () {\n      const a = sample.play()\n      sinon.spy(a, 'destroy')\n      master.destroy()\n      master.destroy()\n      expect(a.destroy).to.have.callCount(1)\n    })\n  })\n\n  after(() => {\n    WebAudioTestAPI.unuse()\n  })\n})\n","import Expression from 'bemuse/scintillator/expression'\n\ndescribe('Scintillator Expression', function () {\n  describe('()', function () {\n    it('should parse', function () {\n      const f = new Expression('a+b')\n      expect(f({ a: 1, b: 5 })).to.equal(6)\n    })\n  })\n  describe('#constant', function () {\n    it('should be false when containing variables', function () {\n      const f = new Expression('a+b')\n      void expect(f.constant).to.be.false\n    })\n    it('should be true when only contains number', function () {\n      const f = new Expression('-1.25')\n      void expect(f.constant).to.be.true\n    })\n  })\n})\n","import * as Scintillator from './'\n\nconst fixture = (file) => `/base/src/scintillator/test-fixtures/${file}`\n\ndescribe('Scintillator', function () {\n  describe('#load', function () {\n    it('should load skin and return skin node', async function () {\n      const skin = await Scintillator.load(fixture('bare.xml'))\n      expect(skin.width).to.equal(123)\n      expect(skin.height).to.equal(456)\n    })\n    it('should reject if invalid', function () {\n      return expect(Scintillator.load(fixture('invalid_tag.xml'))).to.be\n        .rejected\n    })\n  })\n\n  describe('Context', function () {\n    it('should instantiate and able to destroy', async function () {\n      const skin = await Scintillator.load(fixture('bare.xml'))\n      const context = new Scintillator.Context(skin)\n      context.render({})\n      context.destroy()\n    })\n    describe('#input', function () {\n      let skin\n      let context\n      beforeEach(async function () {\n        skin = await Scintillator.load(fixture('bare.xml'))\n        context = new Scintillator.Context(skin)\n        context.render({})\n        context.view.style.position = 'fixed'\n        context.view.style.top = '0'\n        context.view.style.left = '0'\n        document.body.appendChild(context.view)\n      })\n      afterEach(function () {\n        context.destroy()\n        document.body.removeChild(context.view)\n      })\n      function mouse(type, x, y) {\n        context.view.dispatchEvent(\n          new MouseEvent(`mouse${type}`, {\n            clientX: x,\n            clientY: y,\n          })\n        )\n      }\n      function touch(type, touches, changedTouches) {\n        // since TouchEvent is damn complicated, we resort to using a custom\n        // event that imitates a touch event.\n        const event = new Event(`touch${type}`)\n        event.touches = touches\n        event.changedTouches = changedTouches\n        context.view.dispatchEvent(event)\n      }\n      it('should report touches/mouse inside the region', function () {\n        mouse('move', 10, 10)\n        mouse('down', 10, 10)\n        expect(context.input).to.deep.equal([{ x: 10, y: 10, id: 'mouse' }])\n        const t = { identifier: 1, clientX: 80, clientY: 80 }\n        touch('start', [t], [t])\n        expect(context.input).to.deep.equal([\n          { x: 10, y: 10, id: 'mouse' },\n          { x: 80, y: 80, id: 'touch1' },\n        ])\n        mouse('move', 20, 20)\n        expect(context.input).to.deep.equal([\n          { x: 20, y: 20, id: 'mouse' },\n          { x: 80, y: 80, id: 'touch1' },\n        ])\n        mouse('up', 10, 10)\n        expect(context.input).to.deep.equal([{ x: 80, y: 80, id: 'touch1' }])\n        touch('end', [], [t])\n        expect(context.input).to.deep.equal([])\n      })\n    })\n    describe('#refs', function () {\n      it('should be a set of refs to the display object', async function () {\n        const skin = await Scintillator.load(fixture('refs.xml'))\n        const context = new Scintillator.Context(skin)\n        context.render({})\n        expect(Array.from(context.refs['a'])[0]).to.equal(\n          context.stage.children[0]\n        )\n        context.destroy()\n      })\n    })\n  })\n\n  describe('Expressions', function () {\n    it('should be parsed and processed', async function () {\n      const skin = await Scintillator.load(fixture('expr_basic.xml'))\n      const context = new Scintillator.Context(skin)\n      context.render({})\n      const stage = context.stage\n      expect(stage.children[0].x).to.equal(6)\n      expect(stage.children[0].y).to.equal(7)\n      context.destroy()\n    })\n    it('should support variables', async function () {\n      const skin = await Scintillator.load(fixture('expr_variables.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({ a: 4, b: 3 })\n      expect(stage.children[0].x).to.equal(7)\n      expect(stage.children[0].y).to.equal(12)\n      context.render({ a: 10, b: 20 })\n      expect(stage.children[0].x).to.equal(30)\n      expect(stage.children[0].y).to.equal(200)\n      context.destroy()\n    })\n  })\n\n  describe('SpriteNode', function () {\n    it('should allow setting sprite frame', async function () {\n      const skin = await Scintillator.load(fixture('sprite_attrs.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({})\n      const frame = stage.children[0].texture.frame\n      expect(frame.width).to.equal(10)\n      expect(frame.height).to.equal(11)\n      expect(frame.x).to.equal(12)\n      expect(frame.y).to.equal(13)\n      context.destroy()\n    })\n    it('should allow setting visibility, width, height', async function () {\n      const skin = await Scintillator.load(fixture('sprite_attrs.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({})\n      const sprite = stage.children[0]\n      expect(sprite.width).to.equal(3)\n      expect(sprite.height).to.equal(1)\n      expect(sprite.visible).to.equal(false)\n      context.destroy()\n    })\n    it('should reject if blend mode is invalid', function () {\n      return expect(Scintillator.load(fixture('sprite_invalid_blend.xml'))).to\n        .be.rejected\n    })\n  })\n\n  describe('TextNode', function () {\n    it('should display text', async function () {\n      const skin = await Scintillator.load(fixture('text.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({})\n      const text = stage.children[0].children[0]\n      expect(text.text).to.equal('Hello world')\n      context.destroy()\n    })\n    it('should center text', async function () {\n      const skin = await Scintillator.load(fixture('text_center.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({})\n      const text = stage.children[0].children[0]\n      expect(text.x).to.be.lessThan(0)\n      context.destroy()\n    })\n    it('should support data interpolation', async function () {\n      const skin = await Scintillator.load(fixture('text_interpolation.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({ lol: 'wow' })\n      const text = stage.children[0].children[0]\n      expect(text.text).to.equal('Hello world wow')\n      context.destroy()\n    })\n  })\n\n  describe('IfNode', function () {\n    let skin\n    let context\n    let stage\n    beforeEach(async function () {\n      skin = await Scintillator.load(fixture('expr_if.xml'))\n      context = new Scintillator.Context(skin)\n      stage = context.stage\n    })\n    afterEach(function () {\n      context.destroy()\n    })\n    it('should display child when correct value', function () {\n      context.render({ a: 'b' })\n      expect(stage.children[0].children).to.have.length(1)\n      context.render({ a: 'x' })\n      expect(stage.children[0].children).to.have.length(0)\n    })\n  })\n\n  describe('ObjectNode', function () {\n    it('should display children', async function () {\n      const skin = await Scintillator.load(fixture('expr_object.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({ notes: [] })\n      expect(stage.children[0].children).to.have.length(0)\n      context.render({ notes: [{ key: 'a', y: 20 }] })\n      expect(stage.children[0].children).to.have.length(1)\n      context.render({\n        notes: [\n          { key: 'a', y: 20 },\n          { key: 'b', y: 10 },\n        ],\n      })\n      expect(stage.children[0].children).to.have.length(2)\n      context.render({ notes: [{ key: 'b', y: 10 }] })\n      expect(stage.children[0].children).to.have.length(1)\n      context.destroy()\n    })\n    it('should update same array with content changed', async function () {\n      const skin = await Scintillator.load(fixture('expr_object.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      const notes = []\n      context.render({ notes })\n      expect(stage.children[0].children).to.have.length(0)\n      notes.push({ key: 'a', y: 20 })\n      context.render({ notes })\n      expect(stage.children[0].children).to.have.length(1)\n      context.destroy()\n    })\n    it('should let children get value from item', async function () {\n      const skin = await Scintillator.load(fixture('expr_object_var.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      context.render({ notes: [] })\n      context.render({ notes: [{ key: 'a', y: 20 }] })\n      expect(stage.children[0].children[0].y).to.equal(20)\n      context.render({\n        notes: [\n          { key: 'a', y: 20 },\n          { key: 'b', y: 10 },\n        ],\n      })\n      expect(stage.children[0].children[0].y).to.equal(20)\n      context.render({ notes: [{ key: 'b', y: 10 }] })\n      expect(stage.children[0].children[0].y).to.equal(10)\n      context.destroy()\n    })\n  })\n\n  describe('GroupNode', function () {\n    it('should allow masking', async function () {\n      const skin = await Scintillator.load(fixture('group_mask.xml'))\n      const context = new Scintillator.Context(skin)\n      const stage = context.stage\n      const mask = stage.children[0].mask\n      expect(mask).not.to.equal(null)\n      context.destroy()\n    })\n  })\n\n  describe('AnimationNode', function () {\n    it('should allow animations', async function () {\n      const skin = await Scintillator.load(fixture('animation.xml'))\n      const context = new Scintillator.Context(skin)\n      const group = context.stage.children[0]\n      context.render({ t: 0 })\n      expect(group.x).to.equal(10)\n      expect(group.y).to.equal(0)\n      context.render({ t: 0.5 })\n      expect(group.x).to.equal(15)\n      expect(group.y).to.equal(1)\n      context.render({ t: 1 })\n      expect(group.x).to.equal(20)\n      expect(group.y).to.equal(2)\n      context.destroy()\n    })\n    it('should allow animations on different events', async function () {\n      const skin = await Scintillator.load(fixture('animation.xml'))\n      const context = new Scintillator.Context(skin)\n      const group = context.stage.children[0]\n      context.render({ t: 0.5, exitEvent: 0.5 })\n      expect(group.x).to.equal(50)\n      expect(group.y).to.equal(0)\n      context.render({ t: 1, exitEvent: 0.5 })\n      expect(group.x).to.equal(60)\n      expect(group.y).to.equal(50)\n      context.render({ t: 1.5, exitEvent: 0.5 })\n      expect(group.x).to.equal(70)\n      expect(group.y).to.equal(100)\n      context.destroy()\n    })\n    it('should allow animations on different value', async function () {\n      const skin = await Scintillator.load(fixture('animation_timekey.xml'))\n      const context = new Scintillator.Context(skin)\n      const group = context.stage.children[0]\n      context.render({ t: 0, x: 0.5 })\n      expect(group.x).to.equal(15)\n    })\n  })\n\n  describe('defs', function () {\n    it('should allow reuse of skin nodes', async function () {\n      const skin = await Scintillator.load(fixture('defs.xml'))\n      const context = new Scintillator.Context(skin)\n      context.render({})\n      const stage = context.stage\n      expect(stage.children[0].x).to.equal(6)\n      expect(stage.children[0].y).to.equal(7)\n      expect(stage.children[1].x).to.equal(6)\n      expect(stage.children[1].y).to.equal(7)\n      context.destroy()\n    })\n  })\n})\n","import $ from 'jquery'\nimport assert from 'assert'\nimport {\n  Animation,\n  _attrs,\n  _compile,\n} from 'bemuse/scintillator/nodes/concerns/animation'\n\nconst $xml = (xml) => $($.parseXML(xml).documentElement)\n\ndescribe('Scintillator::Animation', function () {\n  describe('_attrs', function () {\n    it('lists all attributes of an element', function () {\n      const xml = $xml('<keyframe t=\"0\" x=\"10\" y=\"30\" />')[0]\n      expect(_attrs(xml)).to.deep.equal({ t: '0', x: '10', y: '30' })\n    })\n  })\n\n  describe('_compile', function () {\n    it('compiles animation into keyframes', function () {\n      const xml = $xml(`<animation>\n        <keyframe t=\"0\" x=\"10\" y=\"30\" />\n        <keyframe t=\"2\" x=\"20\" />\n        <keyframe t=\"5\" x=\"15\" y=\"20\" />\n      </animation>`)\n      expect(_compile(xml)).to.deep.equal({\n        on: '',\n        data: [\n          {\n            name: 'x',\n            keyframes: [\n              { time: 0, value: 10, ease: 'linear' },\n              { time: 2, value: 20, ease: 'linear' },\n              { time: 5, value: 15, ease: 'linear' },\n            ],\n          },\n          {\n            name: 'y',\n            keyframes: [\n              { time: 0, value: 30, ease: 'linear' },\n              { time: 5, value: 20, ease: 'linear' },\n            ],\n          },\n        ],\n      })\n    })\n    it('throws when there is no time', function () {\n      const xml = $xml(`<animation>\n        <keyframe />\n      </animation>`)\n      expect(() => _compile(xml)).to.throw(Error)\n    })\n  })\n\n  describe('#_properties', function () {\n    it('should return a set of properties', function () {\n      const anim = Animation.compile(\n        null,\n        $xml(`<group>\n        <animation>\n          <keyframe t=\"0\" x=\"10\" />\n          <keyframe t=\"1\" x=\"20\" />\n        </animation>\n        <animation>\n          <keyframe t=\"0\" y=\"10\" />\n          <keyframe t=\"1\" y=\"20\" />\n        </animation>\n      </group>`)\n      )\n      expect(Array.from(anim._properties)).to.deep.equal(['x', 'y'])\n    })\n  })\n\n  describe('#prop', function () {\n    it('should return the function for given prop', function () {\n      const anim = Animation.compile(\n        null,\n        $xml(`<group>\n        <animation>\n          <keyframe t=\"0\" x=\"10\" />\n          <keyframe t=\"1\" x=\"20\" />\n        </animation>\n      </group>`)\n      )\n      assert(anim.prop('x')({ t: 0.4 }) === 14)\n    })\n    it('should choose animation that occurs last', function () {\n      const anim = Animation.compile(\n        null,\n        $xml(`<group>\n        <animation on=\"event1\">\n          <keyframe t=\"0\" x=\"10\" />\n          <keyframe t=\"1\" x=\"20\" />\n        </animation>\n        <animation on=\"event2\">\n          <keyframe t=\"0\" x=\"100\" />\n          <keyframe t=\"1\" x=\"200\" />\n        </animation>\n      </group>`)\n      )\n      assert(anim.prop('x')({ event1: 0.2, event2: 0, t: 0.4 }) === 12)\n      assert(anim.prop('x')({ event1: 0, event2: 0.2, t: 0.4 }) === 120)\n    })\n  })\n\n  describe('#_events', function () {\n    it('list distinct events', function () {\n      const anim = Animation.compile(\n        null,\n        $xml(`<group>\n        <animation />\n        <animation />\n        <animation on=\"exit\" />\n        <animation on=\"exit\" />\n      </group>`)\n      )\n      expect(anim._events).to.deep.equal(['', 'exit'])\n    })\n  })\n})\n","import download from 'bemuse/utils/download'\n\ndescribe('download', function () {\n  const options = {\n    getRetryDelay: () => 0,\n  }\n\n  it('resolves with correct type', function () {\n    return expect(\n      download('/base/src/utils/test-fixtures/download/hello.txt').as('text')\n    ).to.eventually.match(/hello world/)\n  })\n\n  it('rejects for 404', function () {\n    return expect(download('/nonexistant').as('blob')).to.be.rejected\n  })\n\n  it('rejects for bad url', function () {\n    return expect(download('file:///nonexistant', options).as('blob')).to.be\n      .rejected\n  })\n\n  it('rejects for XHR error', function () {\n    const stub = sinon\n      .stub(XMLHttpRequest.prototype, 'send')\n      .callsFake(function () {\n        this.onerror(new Error('...'))\n      })\n    return expect(\n      download('/base/spec/download/fixtures/hello.txt', options)\n        .as('blob')\n        .finally(() => stub.restore())\n    ).to.be.rejected\n  })\n})\n","import assert from 'assert'\n\nimport formatTime from './formatTime'\n\ndescribe('formatTime', () => {\n  it('should format the time using minutes:seconds format', () => {\n    assert(formatTime(0) === '0:00')\n    assert(formatTime(1) === '0:01')\n    assert(formatTime(11) === '0:11')\n    assert(formatTime(111) === '1:51')\n    assert(formatTime(1111) === '18:31')\n  })\n})\n","import Observable from './observable'\n\ndescribe('Observable', function () {\n  describe('stateless mode', function () {\n    it('should call watchers', function () {\n      const s1 = sinon.spy()\n      const s2 = sinon.spy()\n      const o = new Observable()\n      const u = o.watch(s1)\n      void expect(s1).not.to.have.been.called\n      o.notify('1')\n      expect(s1).to.have.been.calledWith('1')\n      o.watch(s2)\n      void expect(s2).not.to.have.been.called\n      o.notify('2')\n      expect(s1).to.have.been.calledWith('2')\n      expect(s2).to.have.been.calledWith('2')\n      u()\n      o.notify('3')\n      expect(s1).not.to.have.been.calledWith('3')\n      expect(s2).to.have.been.calledWith('3')\n    })\n  })\n\n  describe('stateful mode', function () {\n    it('should have value', function () {\n      const o = new Observable('0')\n      expect(o.value).to.equal('0')\n    })\n\n    it('should call watchers', function () {\n      const s1 = sinon.spy()\n      const s2 = sinon.spy()\n      const o = new Observable('0')\n      const u = o.watch(s1)\n      expect(s1).to.have.been.calledWith('0')\n      o.value = '1'\n      expect(s1).to.have.been.calledWith('1')\n      o.watch(s2)\n      expect(s2).to.have.been.calledWith('1')\n      o.value = '2'\n      expect(s1).to.have.been.calledWith('2')\n      expect(s2).to.have.been.calledWith('2')\n      u()\n      o.value = '3'\n      expect(s1).not.to.have.been.calledWith('3')\n      expect(s2).to.have.been.calledWith('3')\n    })\n  })\n})\n","import readBlob from './read-blob'\n\ndescribe('readBlob', function () {\n  it('rejects when cannot read blob', function () {\n    const blob = new Blob(['hello world'])\n    const stub = sinon\n      .stub(FileReader.prototype, 'readAsText')\n      .callsFake(function () {\n        this.onerror(new Error('...'))\n      })\n    return expect(\n      readBlob(blob)\n        .as('text')\n        .finally(() => stub.restore())\n    ).to.be.rejected\n  })\n\n  it('resolves with correct type', function () {\n    const blob = new Blob(['hello world'])\n    return expect(readBlob(blob).as('text')).to.eventually.equal('hello world')\n  })\n})\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","___CSS_LOADER_EXPORT___","push","webpackEmptyContext","options","enabled","initialSpeed","desiredLeadTime","songBPM","laneCover","visiblePortion","Math","abs","nominalSpeedLeadTime","x","speed","getInitialSpeed","handleGameFinish","finishingSpeed","saveSpeed","saveLeadTime","toFixed","round","autoVelocity","subscription","subscribe","f","dispose","unsubscribe","createCollectionLoader","onBeginLoading","onLoad","onErrorLoading","fetch","Rx","groupBy","url","flatMap","switchMap","then","data","error","load","collectionUrl","next","songs","title","getTitle","song","haystack","needle","String","toLowerCase","trim","mockFolderScanIO","log","text","setStatus","updateState","CustomFolderContextMock","Map","async","key","this","get","value","set","delete","song1","song2","it","folder","tester","CustomFolderTestHarness","setFolder","checkState","state","expect","chartFilesScanned","not","to","equal","scan","have","length","constructor","context","createMockFileSystemDirectoryHandle","undefined","kind","queryPermission","Symbol","asyncIterator","name","entries","createMockFileSystemFileHandle","getDirectoryHandle","be","an","getFileHandle","a","getFile","blob","Blob","type","assign","lastModified","tap","notechart","fromBMSChart","chart","playerWithBMS","OFFICIAL_SERVER_URL","serverUrl","g","indexUrl","getServerIndexFileUrl","response","json","Array","isArray","charts","dir","replace","path","endsWith","describe","arrayBuffer","as","decoded","AudioContext","duration","closeTo","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","mocha","setup","chai","sinon","main","mochaElement","document","createElement","body","appendChild","setupMocha","specs","run","on","test","err","console","message","stack","fullName","status","pending","failedExpectations","suite","root","some","spec","documentElement","classList","add","runMocha","when","and","errorMessage","selectedSongId","selectedChartId","selectedChartLevel","givenSelectedChart","file","info","level","itCanBeToggled","check","toggle","defaultSetting","mapping","nextKeyToEdit","spy","calledWith","called","waitUntil","condition","go","wait","timesLeft","Promise","catch","setTimeout","collectionLoader","reject","LR2_NORMAL_TIMEGATE","dispatch","initialState","givenLoadedCollection","buffer","Buffer","from","createResources","files","fileList","resources","read","before","onMessage","msg","player","audio","waveFactory","_player","playAuto","stub","returns","playNote","playFree","autos","time","keysound","notes","autosound","update","callCount","been","calledWithMatch","getCall","args","notifications","sounds","note","judgment","stats","instance","bad","stop","k","master","sample","samples","beforeEach","group","play","gauge","shouldDisplay","getPrimary","getSecondary","maxPossibleScore","progress","numJudgments","totalCombo","playerState","getExtra","preGauge","area","position","column","end","getVisibleNotes","beat","getVisibleBarLines","display","t1","t2","blankState","input","changed","judgments","getNoteStatus","getNoteJudgment","score","makeState","object","inputState","inputs","columns","placement","scratch","s","active","missed","delta","combo","plugin","out","use","wow","skinData","refs","p1_1","Set","getBounds","p1_2","y","judge","tutorial","assets","loader","keysoundCache","decode","isCached","cache","withArgs","loadFiles","eventually","deep","eq","calledOnce","number","buttons","bms","advance","b","poor","handleDelta","p1_SC","p1_speedup","p1_speeddown","select","p1_pinch","finished","statsFor5Notes","statsFor1000Notes","repeat","handleJudgment","comboScore","i","maxPossibleComboScore","deltas","startSong","songId","receiveSongId","soundName","audioBuffer","isEmpty","harness","window","events","EventEmitter","gamepads","noop","addEventListener","callback","removeEventListener","removeListener","setInterval","clearInterval","keydown","keyCode","emit","which","preventDefault","keyup","tick","navigator","getGamepads","fakeWindow","midi","target","afterEach","basicWindow","index","axes","match","last","onValue","item","has","false","action1","action2","thru","action","c","d","true","uid","session","floor","random","toString","Date","now","steps","_resolve","promise","fn","current","onlineServiceOptions","storage","createOnline","createAccountInfo","username","password","email","timeout","online","after","signUp","fulfilled","rejectedWith","logOut","first","toPromise","null","bind","assertions","user","filter","u","firstUser","logIn","prefix","user1","user2","step","lastRecordedAt","record","submitScore","md5","playMode","total","count","playNumber","playCount","recordedAt","instanceof","rank","above","playerName","user3","ranking","predicate","result","scoreboard","Ranking","meta","submission","tests","fake","p","report","watch","formatter","extra","all","simultaneous","rejected","byteLength","resolveUrl","Uint8Array","array","fallback","fallbackPattern","resource","WebAudioTestAPI","gain","createGain","unmute","connect","disconnect","volume","destination","node","$isConnectedTo","destroy","numberOfChannels","ArrayBuffer","DECODE_AUDIO_DATA_FAILED","finally","bufferSource","createBufferSource","createBuffer","start","$processTo","TEST_node","Event","skip","onstop","playbackRate","unuse","constant","fixture","skin","width","height","render","mouse","view","dispatchEvent","MouseEvent","clientX","clientY","touch","touches","changedTouches","event","style","top","left","removeChild","t","identifier","stage","children","frame","texture","sprite","visible","lessThan","lol","mask","exitEvent","$xml","xml","keyframes","ease","throw","anim","_properties","prop","event1","event2","_events","getRetryDelay","XMLHttpRequest","prototype","callsFake","onerror","restore","s1","s2","notify","FileReader"],"sourceRoot":""}