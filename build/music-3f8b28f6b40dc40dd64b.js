(this.webpackJsonp=this.webpackJsonp||[]).push([[12],{1172:function(e,t,n){"use strict";function r(e,t){return t?t.tutorial?null:e+"/"+t.path+"/_bemuse_preview.mp3":null}Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviewUrl=r,t.default=r},1173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(39)),u=a(n(41)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(682));function a(e){return e&&e.__esModule?e:{default:e}}i.preload();var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){i.enable(),i.preview(this.props.url)}},{key:"componentWillUnmount",value:function(){i.disable()}},{key:"componentWillReceiveProps",value:function(e){i.preview(e.url)}},{key:"render",value:function(){return null}}]),t}();l.propTypes={url:u.default.string},t.default=l},1189:function(e,t,n){e.exports=n.p+"38fbcad5f2b14ca6ffc359446f7ec455.ogg"},1190:function(e,t,n){e.exports=n.p+"354b30433269481d2f132496a0d13f64.ogg"},1207:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},1208:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},121:function(e,t,n){(function(e,r){var o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,u=r.length,i=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<u;l=r[++n])v(l)||!w(l)?i+=" "+l:i+=" "+a(l);return i},t.deprecate=function(n,o){if(m(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var u=!1;return function(){if(!u){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),u=!0}return n.apply(this,arguments)}};var u,i={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),f(r,e,r.depth)}function l(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function f(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=f(e,o,r)),o}var u=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(h(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(u)return u;var i=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),E(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return s(n);if(0===i.length){if(O(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(g(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return s(n)}var c,w="",j=!1,S=["{","}"];(p(n)&&(j=!0,S=["[","]"]),O(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return g(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+s(n)),0!==i.length||j&&0!=n.length?r<0?g(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=j?function(e,t,n,r,o){for(var u=[],i=0,a=t.length;i<a;++i)M(t,String(i))?u.push(d(e,t,n,r,String(i),!0)):u.push("");return o.forEach(function(o){o.match(/^\d+$/)||u.push(d(e,t,n,r,o,!0))}),u}(e,n,r,a,i):i.map(function(t){return d(e,n,r,a,t,j)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,S)):S[0]+w+S[1]}function s(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,o,u){var i,a,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),M(r,o)||(i="["+o+"]"),a||(e.seen.indexOf(l.value)<0?(a=v(n)?f(e,l.value,null):f(e,l.value,n-1)).indexOf("\n")>-1&&(a=u?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),m(i)){if(u&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function p(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function h(e){return"number"==typeof e}function b(e){return"string"==typeof e}function m(e){return void 0===e}function g(e){return w(e)&&"[object RegExp]"===j(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===j(e)}function E(e){return w(e)&&("[object Error]"===j(e)||e instanceof Error)}function O(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(u)&&(u=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(u)){var n=r.pid;i[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else i[e]=function(){};return i[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=y,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=g,t.isObject=w,t.isDate=_,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(1208);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(1207),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(46),n(66))},154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=document.querySelector("#scene-root")},1752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MusicTable=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(43)),u=d(n(1173)),i=d(n(39)),a=d(n(41)),l=d(n(287)),c=d(n(1172)),f=d(n(349)),s=d(n(347));function d(e){return e&&e.__esModule?e:{default:e}}var p={ingame:function(e){return(0,f.default)((0,s.default)(e))},added:function(e){return[{title:"Sorted by added date",songs:o.default.reverse(o.default.sortBy(e,y))}]}},y=function(e){return e.added||(e.initial?"0000-00-00":"9999-99-99")};function v(e){var t=function(e){var t=[],n=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.push({keys:r,message:e})};e.unreleased&&n("Not released","unreleased"),e.readme||n("No README file found","README.md"),e.replaygain||n("No replay gain","replaygain"),e.artist_url||n("No artist URL","artist_url"),e.added||e.initial||n("No added date","added"),e.song_url||e.youtube_url||e.long_url||n("No song/YouTube/long URL","song_url","long_url","youtube_url"),e.bms_url||e.exclusive||n("No download URL","bms_url"),e.bmssearch_id||e.exclusive||n("No BMS search ID","bmssearch_id"),e.charts.filter(function(e){return"5K"===e.keys}).length||n("No 5-key charts","5key");var r=!0,o=!1,u=void 0;try{for(var i,a=(0,l.default)(e.charts)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var c=i.value;c.info.subtitles.length||n("Missing subtitle","chart_names "+c.file)}}catch(e){o=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return t}(e);return t.length?i.default.createElement("div",null,t.map(function(e,t){return i.default.createElement("div",{key:t},e.keys.map(function(e){return i.default.createElement("code",{key:e,style:{fontFamily:"Ubuntu Mono",marginRight:"2",padding:3,fontSize:"0.8em",background:"#755"}},e)}),e.message)})):null}var h=t.MusicTable=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sort:n.props.initialSort||Object.keys(p)[0],previewUrl:null,previewEnabled:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"renderTable",value:function(){return i.default.createElement("table",{style:{borderSpacing:4}},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("th",{colSpan:4},this.renderSorter()," Â· ",this.renderPreview())),i.default.createElement("tr",null,i.default.createElement("th",null,"id"),i.default.createElement("th",null,"song"),i.default.createElement("th",null,"warnings"))),i.default.createElement("tbody",null,this.renderRows()))}},{key:"renderSorter",value:function(){var e=this,t=[],n=function(n){t.push(i.default.createElement("button",{key:n,onClick:function(){e.setState({sort:n})}},n))},r=!0,o=!1,u=void 0;try{for(var a,l=Object.keys(p)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){n(a.value)}}catch(e){o=!0,u=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw u}}return i.default.createElement("span",null,i.default.createElement("strong",null,"Sort by:")," ",t)}},{key:"renderPreview",value:function(){var e=this,t=i.default.createElement("button",{onClick:function(){e.setState(function(e){return{previewEnabled:!e.previewEnabled}})}},this.state.previewEnabled?"disable":"enable");return i.default.createElement("span",null,i.default.createElement("strong",null,"Music preview:")," ",t,this.state.previewEnabled&&i.default.createElement(u.default,{url:this.state.previewUrl}))}},{key:"renderRows",value:function(){var e=this,t=p[this.state.sort](this.props.data.songs),r=[],o=!0,u=!1,a=void 0;try{for(var l,f=t[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var s=l.value;r.push(i.default.createElement("tr",{key:s.title},i.default.createElement("th",{colSpan:4},s.title)));var d=function(t){r.push(i.default.createElement("tr",{key:t.id},i.default.createElement("td",null,i.default.createElement("strong",{onClick:function(){prompt("","vim '"+t.id+"/README.md'")}},i.default.createElement("code",{style:{fontFamily:"Ubuntu Mono"}},t.id)),i.default.createElement("br",null),i.default.createElement("span",{style:{color:"#8b8685"}},t.added)),i.default.createElement("td",{style:{textAlign:"center",background:"#353433"}},i.default.createElement("span",{style:{color:"#8b8685"},onClick:function(){var n=(0,c.default)(e.props.url,t);e.setState({previewUrl:n})}},t.genre),i.default.createElement("br",null),i.default.createElement("strong",{onClick:function(){console.log(t),alert(n(121).inspect(t))}},t.title),i.default.createElement("br",null),t.artist),i.default.createElement("td",null,v(t))))},y=!0,h=!1,b=void 0;try{for(var m,g=s.songs[Symbol.iterator]();!(y=(m=g.next()).done);y=!0){d(m.value)}}catch(e){h=!0,b=e}finally{try{!y&&g.return&&g.return()}finally{if(h)throw b}}}}catch(e){u=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(u)throw a}}return r}},{key:"renderMessage",value:function(e){return i.default.createElement("div",{style:{textAlign:"center"}},e)}},{key:"render",value:function(){if(!this.props.data)return this.renderMessage("No data");try{return this.renderTable()}catch(e){return this.renderMessage("Error: "+e)}}}]),t}();h.propTypes={data:a.default.object,url:a.default.string,initialSort:a.default.string},t.default=h},1753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionViewer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(39)),u=c(n(348)),i=c(n(3)),a=n(478),l=c(n(1752));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.CollectionViewer=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={url:i.default.server||a.OFFICIAL_SERVER_URL,status:"Loading"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;(0,a.load)(this.state.url).then(function(t){e.setState({status:"Load completed",data:t})}).catch(function(t){e.setState({status:"Load error: "+t})})}},{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement("header",{style:{textAlign:"center"}},o.default.createElement("h1",null,"Bemuse collection viewer"),o.default.createElement("div",null,this.state.url,o.default.createElement("br",null),this.state.status)),o.default.createElement("div",{style:{padding:20}},o.default.createElement(l.default,{data:this.state.data&&(0,u.default)(this.state.data),url:this.state.url,initialSort:i.default.sort})))}}]),t}();t.default=f},197:function(e,t,n){"use strict";function r(e){return"7K"===e.keys||"5K"===e.keys}Object.defineProperty(t,"__esModule",{value:!0}),t.isChartPlayable=r,t.default=r},287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayableCharts=i;var r=u(n(43)),o=u(n(197));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,r.default)(e).filter(o.default).orderBy([function(e){return e.info.difficulty>=5?1:0},function(e){return e.keys},function(e){return e.info.level}]).value()}t.default=i},347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortSongs=i;var r=u(n(43)),o=u(n(197));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return r.default.orderBy(e,[function(e){return(0,r.default)(e.charts).filter(o.default).filter(function(e){return e.info.difficulty<5}).filter(function(e){return e.info.level>0}).map(function(e){return e.info.level}).min()},function(e){return e.bpm},function(e){return e.title.toLowerCase()}])}t.default=i},348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preprocessCollection=void 0;var r,o=n(111),u=(r=o)&&r.__esModule?r:{default:r};var i=t.preprocessCollection=(0,u.default)({songs:u.default.map(function(e){e.chart_names&&(e=(0,u.default)({charts:u.default.map(function(t){var n=e.chart_names[t.file];return n?(0,u.default)({info:{subtitles:function(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[n])}}},t):t})},e));return e})});t.default=i},349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupSongsIntoCategories=a;var r,o=n(43),u=(r=o)&&r.__esModule?r:{default:r};var i=[{title:"Custom Song",criteria:function(e){return e.custom}},{title:"Tutorial",criteria:function(e){return e.tutorial}},{title:"Unreleased",criteria:function(e){return e.unreleased}},{title:"Recently Added Songs",criteria:function(e){return e.added&&Date.now()-Date.parse(e.added)<5184e6},sort:function(e){return e.added},reverse:!0},{title:"â˜†",criteria:function(){return!0}}];function a(e){var t=i.map(function(e){return{input:e,output:{title:e.title,songs:[]}}}),n=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value,f=!0,s=!1,d=void 0;try{for(var p,y=t[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var v=p.value,h=v.input,b=v.output;if(h.criteria(c)){b.songs.push(c);break}}}catch(e){s=!0,d=e}finally{try{!f&&y.return&&y.return()}finally{if(s)throw d}}}}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}var m=!0,g=!1,w=void 0;try{for(var _,E=t[Symbol.iterator]();!(m=(_=E.next()).done);m=!0){var O=_.value,j=O.input,S=O.output;j.sort&&(S.songs=u.default.sortBy(S.songs,j.sort)),j.reverse&&S.songs.reverse()}}catch(e){g=!0,w=e}finally{try{!m&&E.return&&E.return()}finally{if(g)throw w}}return(0,u.default)(t).map("output").filter(function(e){return e.songs.length>0}).value()}t.default=a},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.main=function(){r.preload(),(0,i.render)(u.default.createElement(a.default,null),o.default)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(682)),o=l(n(154)),u=l(n(39)),i=n(74),a=l(n(1753));function l(e){return e&&e.__esModule?e:{default:e}}},46:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},478:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.load=function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fetch;return(void 0===n?e.fetch:n)(t+"/index.json").then(function(e){return e.json()})};t.OFFICIAL_SERVER_URL="https://music.bemuse.ninja/live"}).call(this,n(46))},66:function(e,t){var n,r,o=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===u||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:u}catch(e){n=u}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,c=[],f=!1,s=-1;function d(){f&&l&&(f=!1,l.length?c=l.concat(c):s=-1,c.length&&p())}function p(){if(!f){var e=a(d);f=!0;for(var t=c.length;t;){for(l=c,c=[];++s<t;)l&&l[s].run();s=-1,t=c.length}l=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new y(e,t)),1!==c.length||f||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},682:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preload=function(){o()},t.enable=function(){return o().enable()},t.disable=function(){return o().disable()},t.go=function(){return o().go()},t.preview=function(e){return o().preview(e)};var r=null;function o(){return r||(r=function(){var e=!1,t=null,r=!1,o=!1,i={},a=new Audio(n(1190));a.preload="auto",a.loop=!0,a.oncanplaythrough=function(){r=!0,f()},a.load();var l=document.createElement("audio");l.src=n(1189),l.volume=.5,l.load();var c=u(a,.5,function(e){0===e&&o&&(o=!1,a.pause())});function f(){if(e){var n=null,u=!0,l=!1,f=void 0;try{for(var s,d=Object.keys(i)[Symbol.iterator]();!(u=(s=d.next()).done);u=!0){var p=s.value,y=i[p];p===t?y.loaded&&(y.play(),n=y):y.stop()}}catch(e){l=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(l)throw f}}if(n)c.fadeTo(0,1);else if(c.fadeTo(.4,.5),r&&!o){o=!0;try{a.play()}catch(e){console.warn("Cannot play background music")}}}else{o&&(c.fadeTo(0,100),o=!1,a.pause());var v=!0,h=!1,b=void 0;try{for(var m,g=Object.keys(i)[Symbol.iterator]();!(v=(m=g.next()).done);v=!0){var w=m.value,_=i[w];_.destroy()}}catch(e){h=!0,b=e}finally{try{!v&&g.return&&g.return()}finally{if(h)throw b}}}}return{enable:function(){e||(e=!0,f())},disable:function(){e&&(e=!1,f())},go:function(){if(e){l.currentTime=0;try{l.play()}catch(e){console.warn("Cannot play go sound.")}}},preview:function(e){t!==e&&(t=e,e&&!i[e]&&(i[e]=function(e){var t=document.createElement("audio");t.src=e;var n=!1,r=u(t,1,function(n){0===n&&(t.pause(),delete i[e],f())}),o={loaded:!1,play:function(){if(!n)try{t.play(),n=!0}catch(e){console.warn("Cannot play",t.src)}r.fadeTo(1,2)},stop:function(){r.fadeTo(0,4)},destroy:function(){t.pause(),delete i[e],f()}};return t.oncanplaythrough=function(){o.loaded=!0,f()},t.onended=function(){delete i[e],f()},t.load(),o}(e)),f())}}}())}function u(e,t,n){var r=0,o=0,u=!1,i=void 0;function a(){return(Date.now()-i)/1e3}function l(){return r>t?Math.min(r,t+a()*o):r<t?Math.max(r,t-a()*o):r}function c(){u=!1;var t=l();e.volume=t,t===r?n&&n(r):u||(u=!0,requestAnimationFrame(c))}return e.volume=t,{fadeTo:function(e,n){r===e&&n===o||(t=l(),r=e,o=n,i=Date.now(),c())}}}}}]);
//# sourceMappingURL=music-3f8b28f6b40dc40dd64b.js.map