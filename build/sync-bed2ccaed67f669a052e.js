(this.webpackJsonp=this.webpackJsonp||[]).push([[14],{100:function(t,n,e){"use strict";n.a=function(t){return{as:n=>new Promise((function(e,r){let a=new FileReader;switch(a.onload=function(){e(a.result)},a.onerror=function(){r(new Error("Unable to read from Blob"))},n){case"arraybuffer":a.readAsArrayBuffer(t);break;case"text":a.readAsText(t)}}))}}},1025:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var r=e(82),a=e.n(r),o=e(26),s=e.n(o);function i(t){if(t instanceof a.a.Property)return t;if(t instanceof a.a.EventStream)throw new Error("Please convert Bacon.EventStream to Bacon.Property first.");if(t&&"object"==typeof t)return a.a.combineTemplate(t);throw new Error("Expected a Bacon.Property or a template.")}const c=t=>n=>{let e=i(t);return class extends s.a.Component{constructor(t){let n;super(t),this.handleValue=t=>{this._mounted&&this.setState({value:t})},this._unsubscribe=e.onValue(this.handleValue);e.onValue(t=>n=t)(),this.state={value:n}}componentWillUnmount(){this._mounted=!1,this._unsubscribe&&this._unsubscribe()}componentDidMount(){this._mounted=!0}render(){return s.a.createElement(n,Object.assign({},this.state.value||{},this.props))}}}},119:function(t,n,e){"use strict";var r=e(78),a=function(t,n,e,r){return new(e||(e=Promise))((function(a,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function i(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,i)}c((r=r.apply(t,n||[])).next())}))};n.a=function(t,{getRetryDelay:n=(()=>1e3+4e3*Math.random())}={}){return{as(e,o){return a(this,void 0,void 0,(function*(){let a=!1;for(let s=1;;s++)try{return yield new Promise((n,s)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onload=()=>{200==+i.status?n(i.response):(403!=+i.status&&404!=+i.status||(a=!0),s(new Error(`Unable to download ${t}: HTTP ${i.status}`)))},i.onerror=()=>s(new Error("Unable to download "+t)),o&&(o.formatter=r.a,i.onprogress=t=>o.report(t.loaded,t.total)),i.send(null)})}catch(e){if(console.error(`Unable to download ${t} [attempt ${s}]`,e),s>=3||a)throw e;const r=n();yield new Promise(t=>setTimeout(t,r))}}))}}}},1912:function(t,n,e){t.exports=e.p+"build/c3e8436ef4e3bcc1fbc987075279be07.ogg"},1913:function(t,n,e){t.exports=e.p+"build/aaeef09f2847a09d179f45cfe118d7e7.ogg"},1914:function(t,n,e){t.exports=e.p+"build/c1df64d6d6f13f3a38362aea7cc70a3f.ogg"},1915:function(t,n,e){t.exports=e.p+"build/e733dbfbb80f232b5704be73413ff476.ogg"},1916:function(t,n,e){var r=e(1917);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(0)(r,a);r.locals&&(t.exports=r.locals)},1917:function(t,n,e){(t.exports=e(1)(!1)).push([t.i,'@charset "UTF-8";\n.ExperimentScene {\n  display: flex;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  align-items: center;\n  justify-content: center;\n}\n.ExperimentSceneのbutton {\n  font: inherit;\n  background: #252423 linear-gradient(to bottom, #454443, #151413);\n  border: 1px solid #555453;\n  padding: 0.5ex 1.3ex;\n  color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n  font-size: 18px;\n}\n.ExperimentSceneのbutton:hover {\n  border-color: #656463;\n}\n.ExperimentSceneのbutton:focus {\n  border-color: #8b8685;\n  outline: 0;\n}\n.ExperimentSceneのbutton:active {\n  background: #252423 linear-gradient(to top, #353433, #151413);\n  border-color: #454443;\n}\n.ExperimentSceneのmessage {\n  text-align: center;\n  font-size: 16px;\n}\n.ExperimentSceneのprogress {\n  width: 100px;\n  margin: 1em auto;\n  border: 1px solid #8b8685;\n  padding: 1px;\n}\n.ExperimentSceneのprogressBar {\n  height: 5px;\n  background: #8b8685;\n  transition: 0.5s -webkit-transform linear;\n  transition: 0.5s transform linear;\n  transition: 0.5s transform linear, 0.5s -webkit-transform linear;\n  -webkit-transform-origin: left;\n          transform-origin: left;\n}\n.ExperimentScene.is-finished .ExperimentSceneのwrapper {\n  -webkit-animation: 3.243243243s experiment-scene--auto-synchro linear infinite;\n          animation: 3.243243243s experiment-scene--auto-synchro linear infinite;\n}\n.ExperimentScene.is-finished .ExperimentSceneのwrapperInner {\n  -webkit-animation: 3s experiment-scene--spin linear infinite;\n          animation: 3s experiment-scene--spin linear infinite;\n  -webkit-animation-delay: 13.378378377s;\n          animation-delay: 13.378378377s;\n}\n\n@-webkit-keyframes experiment-scene--auto-synchro {\n  0.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  11.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  13.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  24.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  25.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  36.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  38.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  49.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  50.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  61.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  63.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  74.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  75.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  86.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  88.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  100.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n\n@keyframes experiment-scene--auto-synchro {\n  0.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  11.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  13.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  24.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  25.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  36.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  38.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  49.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  50.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  61.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  63.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  74.38% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  75.63% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  86.88% {\n    -webkit-transform: scale(0.95);\n            transform: scale(0.95);\n  }\n  88.13% {\n    -webkit-transform: scale(1.05);\n            transform: scale(1.05);\n  }\n  100.00% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n@-webkit-keyframes experiment-scene--spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  4% {\n    -webkit-transform: rotate(1.99deg);\n            transform: rotate(1.99deg);\n  }\n  8% {\n    -webkit-transform: rotate(3.85deg);\n            transform: rotate(3.85deg);\n  }\n  12% {\n    -webkit-transform: rotate(5.48deg);\n            transform: rotate(5.48deg);\n  }\n  16% {\n    -webkit-transform: rotate(6.75deg);\n            transform: rotate(6.75deg);\n  }\n  20% {\n    -webkit-transform: rotate(7.61deg);\n            transform: rotate(7.61deg);\n  }\n  24% {\n    -webkit-transform: rotate(7.98deg);\n            transform: rotate(7.98deg);\n  }\n  28% {\n    -webkit-transform: rotate(7.86deg);\n            transform: rotate(7.86deg);\n  }\n  32% {\n    -webkit-transform: rotate(7.24deg);\n            transform: rotate(7.24deg);\n  }\n  36% {\n    -webkit-transform: rotate(6.16deg);\n            transform: rotate(6.16deg);\n  }\n  40% {\n    -webkit-transform: rotate(4.7deg);\n            transform: rotate(4.7deg);\n  }\n  44% {\n    -webkit-transform: rotate(2.94deg);\n            transform: rotate(2.94deg);\n  }\n  48% {\n    -webkit-transform: rotate(1deg);\n            transform: rotate(1deg);\n  }\n  52% {\n    -webkit-transform: rotate(-1deg);\n            transform: rotate(-1deg);\n  }\n  56% {\n    -webkit-transform: rotate(-2.94deg);\n            transform: rotate(-2.94deg);\n  }\n  60% {\n    -webkit-transform: rotate(-4.7deg);\n            transform: rotate(-4.7deg);\n  }\n  64% {\n    -webkit-transform: rotate(-6.16deg);\n            transform: rotate(-6.16deg);\n  }\n  68% {\n    -webkit-transform: rotate(-7.24deg);\n            transform: rotate(-7.24deg);\n  }\n  72% {\n    -webkit-transform: rotate(-7.86deg);\n            transform: rotate(-7.86deg);\n  }\n  76% {\n    -webkit-transform: rotate(-7.98deg);\n            transform: rotate(-7.98deg);\n  }\n  80% {\n    -webkit-transform: rotate(-7.61deg);\n            transform: rotate(-7.61deg);\n  }\n  84% {\n    -webkit-transform: rotate(-6.75deg);\n            transform: rotate(-6.75deg);\n  }\n  88% {\n    -webkit-transform: rotate(-5.48deg);\n            transform: rotate(-5.48deg);\n  }\n  92% {\n    -webkit-transform: rotate(-3.85deg);\n            transform: rotate(-3.85deg);\n  }\n  96% {\n    -webkit-transform: rotate(-1.99deg);\n            transform: rotate(-1.99deg);\n  }\n  100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes experiment-scene--spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  4% {\n    -webkit-transform: rotate(1.99deg);\n            transform: rotate(1.99deg);\n  }\n  8% {\n    -webkit-transform: rotate(3.85deg);\n            transform: rotate(3.85deg);\n  }\n  12% {\n    -webkit-transform: rotate(5.48deg);\n            transform: rotate(5.48deg);\n  }\n  16% {\n    -webkit-transform: rotate(6.75deg);\n            transform: rotate(6.75deg);\n  }\n  20% {\n    -webkit-transform: rotate(7.61deg);\n            transform: rotate(7.61deg);\n  }\n  24% {\n    -webkit-transform: rotate(7.98deg);\n            transform: rotate(7.98deg);\n  }\n  28% {\n    -webkit-transform: rotate(7.86deg);\n            transform: rotate(7.86deg);\n  }\n  32% {\n    -webkit-transform: rotate(7.24deg);\n            transform: rotate(7.24deg);\n  }\n  36% {\n    -webkit-transform: rotate(6.16deg);\n            transform: rotate(6.16deg);\n  }\n  40% {\n    -webkit-transform: rotate(4.7deg);\n            transform: rotate(4.7deg);\n  }\n  44% {\n    -webkit-transform: rotate(2.94deg);\n            transform: rotate(2.94deg);\n  }\n  48% {\n    -webkit-transform: rotate(1deg);\n            transform: rotate(1deg);\n  }\n  52% {\n    -webkit-transform: rotate(-1deg);\n            transform: rotate(-1deg);\n  }\n  56% {\n    -webkit-transform: rotate(-2.94deg);\n            transform: rotate(-2.94deg);\n  }\n  60% {\n    -webkit-transform: rotate(-4.7deg);\n            transform: rotate(-4.7deg);\n  }\n  64% {\n    -webkit-transform: rotate(-6.16deg);\n            transform: rotate(-6.16deg);\n  }\n  68% {\n    -webkit-transform: rotate(-7.24deg);\n            transform: rotate(-7.24deg);\n  }\n  72% {\n    -webkit-transform: rotate(-7.86deg);\n            transform: rotate(-7.86deg);\n  }\n  76% {\n    -webkit-transform: rotate(-7.98deg);\n            transform: rotate(-7.98deg);\n  }\n  80% {\n    -webkit-transform: rotate(-7.61deg);\n            transform: rotate(-7.61deg);\n  }\n  84% {\n    -webkit-transform: rotate(-6.75deg);\n            transform: rotate(-6.75deg);\n  }\n  88% {\n    -webkit-transform: rotate(-5.48deg);\n            transform: rotate(-5.48deg);\n  }\n  92% {\n    -webkit-transform: rotate(-3.85deg);\n            transform: rotate(-3.85deg);\n  }\n  96% {\n    -webkit-transform: rotate(-1.99deg);\n            transform: rotate(-1.99deg);\n  }\n  100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}',""])},1950:function(t,n,e){"use strict";e.r(n),e.d(n,"main",(function(){return T}));var r=e(34),a=e.n(r),o=e(210),s=e(119),i=e(280),c=function(t,n,e,r){return new(e||(e=Promise))((function(a,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function i(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,i)}c((r=r.apply(t,n||[])).next())}))};let f={"bgm.ogg":e(1912),"intro.ogg":e(1913),"kick.ogg":e(1914),"snare.ogg":e(1915)};function l(){return c(this,void 0,void 0,(function*(){let t=new i.b(o.a),n=a.a.fromPairs(yield Promise.all(["bgm","intro","kick","snare"].map(n=>(n=>Object(s.a)(f[n+".ogg"]).as("arraybuffer").then(n=>t.sample(n)))(n).then(t=>[n,t]))));return function(t,n){return function(e){t.unmute();let r=new m(o.a,-1),a=o.a.createBiquadFilter();a.type="lowpass",a.frequency.value=0,a.Q.value=10,a.connect(o.a.destination);let s={part2:null},i=function(t,n){let e=-1;return r=>{let a=Math.floor((r+.1)*t/60);for(;e<a;){e+=1,n(e,60*e/t-r)}}}(148,(t,r)=>{t%8!=7&&n.kick.play(r),null!==s.part2?(t-=s.part2.begin)%128==0&&n.bgm.play(r):(t%32==0&&n.intro.play(r,{node:a}),t%32==31&&!0===s.ok&&(n.snare.play(r),s.part2={begin:t+1},e.a()))});return setInterval(()=>i(r.t),33),{ok(){s.ok=!0},progress(t){a.frequency.value=2e4*t*t*t},getSample(){let t=Math.round(148*r.t/60),n=60*t/148;return[t,r.t-n]}}}}(t,n)}))}class m{constructor(t,n){this._context=t,this._start=t.currentTime,this._startTime=n}get t(){return this._context.currentTime-this._start+this._startTime}}var d=e(26),u=e.n(d),g=e(66),h=e.n(g),p=(e(1916),e(29)),b=e.n(p),w=e(59),k=e.n(w);class y extends u.a.Component{constructor(){super(...arguments),this.renderContents=()=>this.props.loading?null:this.props.started?this.props.listening?this.renderCollection():this.renderMessage("Please listen to the beats…"):this.renderReady(),this.renderReady=()=>u.a.createElement("div",{className:"ExperimentSceneのready"},u.a.createElement("button",{className:"ExperimentSceneのbutton",onClick:this.props.onStart},"Start Calibration")),this.renderMessage=t=>u.a.createElement("div",{className:"ExperimentSceneのmessage"},t),this.renderCollection=()=>{var t;let n="scaleX("+(this.props.finished?1:(t=Math.min(1,this.props.numSamples/84),1-Math.pow(1-t,2)))+")",e={transform:n,WebkitTransform:n};return u.a.createElement("div",{className:"ExperimentSceneのcollection"},this.renderMessage(this.props.finished?"Your latency is "+this.props.latency+"ms. Please close this window.":"Please press the space bar when you hear the kick drum."),u.a.createElement("div",{className:"ExperimentSceneのprogress"},u.a.createElement("div",{className:"ExperimentSceneのprogressBar",style:e})))}}render(){return u.a.createElement("div",{className:k()("ExperimentScene",{"is-finished":this.props.finished})},u.a.createElement("div",{className:"ExperimentSceneのwrapper"},u.a.createElement("div",{className:"ExperimentSceneのwrapperInner"},this.renderContents())))}}y.propTypes={finished:b.a.bool,loading:b.a.bool,started:b.a.bool,listening:b.a.bool,onStart:b.a.func,numSamples:b.a.number,latency:b.a.number};var x=e(81),v=e.n(x),_=e(82),E=e.n(_),S=e(1025);function T(t){t.setStatus("Loading song");const n=new E.a.Bus,e=n.scan({loading:!0,started:!1,finished:!1,listening:!1,numSamples:0,latency:0},(t,n)=>a.a.assign({},t,n)),r=Object(S.a)(e)(y),o=u.a.createElement(r,{onStart:()=>{s(),i({type:"calibration-started"}),addEventListener("beforeunload",()=>{i({type:"calibration-closed"})})}});let s;function i(t){window.opener&&window.opener.postMessage(t,"*")}return h.a.render(o,v()("<div></div>").appendTo("body")[0]),l().then(t=>{let e=[];n.push({loading:!1}),s=()=>{n.push({started:!0});let r=t({a(){let t=Math.max(0,function(t){let n=t.map(t=>t[1]);n.sort((t,n)=>t-n);let e=0,r=0;for(let t=Math.floor(1*n.length/7);t<6*n.length/7;t++)e+=1,r+=n[t];return Math.round(r/e*1e3)}(e));n.push({finished:!0,latency:t}),i({latency:t})}}),a=()=>{e.push(r.getSample()),r.progress(Math.min(1,e.length/56)),e.length>=56&&r.ok(),n.push({numSamples:e.length})};setTimeout(()=>{n.push({listening:!0}),window.addEventListener("keydown",t=>{32===t.which&&(t.preventDefault(),a())}),window.addEventListener("touchstart",t=>{1===t.touches.length&&(t.preventDefault(),a())})},6675)}})}},210:function(t,n,e){"use strict";var r=e(324),a=e.n(r);n.a=a()({latencyHint:"interaction"})},280:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"c",(function(){return d}));var r=e(210),a=e(100),o=e(313);const s=.001;let i=document.createElement("audio");const c=!i.canPlayType('audio/ogg; codecs="vorbis"');class f{constructor(t,{volume:n}={}){this._master=t,this._gain=this._master.audioContext.createGain(),null!=n&&(this._gain.gain.value=n),this._gain.connect(this._master.destination)}get destination(){return this._gain}destroy(){this._gain.disconnect(),this._gain=null}}class l{constructor(t,n){this._master=t,this._buffer=n}play(t,n){return new m(this._master,this._buffer,t,n)}destroy(){this._master=null,this._buffer=null}}class m{constructor(t,n,e,r={}){e=e||0,this._master=t;let a=t.audioContext,o=a.createBufferSource();o.buffer=n,o.onended=()=>this.stop();let i=a.createGain();o.connect(i);let c=r.node||r.group&&r.group.destination||t.destination;i.connect(c),this._source=o,this._gain=this.TEST_node=i;let f=e?Math.max(0,a.currentTime+e):0,l=r.start||0,m=l>0,d=!1;if(m&&i.gain.setValueAtTime(0,0),void 0!==r.end){let t=Math.max(r.end-l,0);o.start(f,l,t+s),d=a.currentTime+e+t}else o.start(f,l);m&&(i.gain.setValueAtTime(0,a.currentTime+e),i.gain.linearRampToValueAtTime(1,a.currentTime+e+s)),!1!==d&&(i.gain.setValueAtTime(1,d),i.gain.linearRampToValueAtTime(0,d+s)),this._master._startPlaying(this)}stop(){this._source&&(this._source.stop(0),this._source.disconnect(),this._gain.disconnect(),this._source=null,this._gain=null,this._master._stoppedPlaying(this),this.onstop&&this.onstop())}bad(){this._source&&(this._source.playbackRate.value=Math.random()<.5?Math.pow(2,1/24):Math.pow(2,-1/24))}destroy(){this.stop()}}function d(t=r.a){let n=t.createGain(),e=t.createOscillator();e.frequency.value=440,e.start(t.currentTime+.1),e.stop(t.currentTime+.1),n.connect(t.destination),n.disconnect();try{t.resume()}catch(t){console.error("[sampling-master] Cannot resume AudioContext",t)}}n.b=class{constructor(t){this._audioContext=t||r.a,this._samples=[],this._groups=[],this._instances=new Set,this._destination=this._audioContext.destination}unmute(){d(this._audioContext)}get audioContext(){return this._audioContext}get destination(){return this._destination}destroy(){if(!this._destroyed){this._destroyed=!0;for(let t of this._samples)t.destroy();for(let t of this._instances)t.destroy();this._samples=null,this._instances=null}}decode(t){return this._coerceToArrayBuffer(t).then(t=>this._decodeAudio(t))}sample(t){return(()=>t.numberOfChannels?Promise.resolve(t):this.decode(t))().then(t=>{if(this._destroyed)throw new Error("SamplingMaster already destroyed!");var n=new l(this,t);return this._samples.push(n),n})}group(t){const n=new f(this,t);return this._groups.push(n),n}_coerceToArrayBuffer(t){return t instanceof ArrayBuffer?Promise.resolve(t):Object(a.a)(t).as("arraybuffer")}_decodeAudio(t){return new Promise((n,e)=>{if(c&&t.byteLength>4){const e=new Uint8Array(t,0,4);if(79===e[0]&&103===e[1]&&103===e[2]&&83===e[3])return n(Object(o.a)(this.audioContext,t))}this.audioContext.decodeAudioData(t,(function(t){n(t)}),(function(t){e(new Error("Unable to decode audio: "+t))}))})}_startPlaying(t){this._instances.add(t)}_stoppedPlaying(t){this._instances.delete(t)}}},313:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(209),a=function(t,n,e,r){return new(e||(e=Promise))((function(a,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function i(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,i)}c((r=r.apply(t,n||[])).next())}))};let o;const s=e.n(r)()(1);function i(t,n){return a(this,void 0,void 0,(function*(){const r=yield(o||(o=e.e(13).then(e.t.bind(null,1016,7)).then(t=>t.default).then(t=>(0,eval)(t+";stbvorbis"))),o);return s(()=>function(t,n,e){return new Promise((r,o)=>{const s=[];let i,f=0;t.decode(e,(function(t){if(t.data&&(i=t.sampleRate,s.push(t.data),f+=t.data[0].length),t.error){const n=t.error instanceof Error?t.error:"stbvorbis.js Error: "+t.error;o(n)}t.eof&&r(function(t,n,e,r){return a(this,void 0,void 0,(function*(){if(!e)throw new Error("stbvorbis.js Error: No length");if(!r)throw new Error("stbvorbis.js Error: No sample rate");const a=n[0].length,o=t.createBuffer(a,e,r),s=Array(o.numberOfChannels).fill(null).map((t,n)=>new c(o.getChannelData(n)));for(const t of n)t.forEach((t,n)=>{s[n].write(t)});return o}))}(n,s,f,i))}))})}(r,t,n))}))}class c{constructor(t){this.data=t,this.offset=0}write(t){const{offset:n,data:e}=this;for(var r=0;r<t.length;r++)e[r+n]=t[r];this.offset+=t.length}}},78:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"c",(function(){return i})),e.d(n,"b",(function(){return c}));var r=e(363),a=e.n(r);let o=t=>n=>null!==n.progress?t(n):"",s=o(t=>a()(t.current)+" / "+a()(t.total)),i=o(t=>(t.current/t.total*100).toFixed(1)+"%"),c=o(t=>t.extra+"")}}]);
//# sourceMappingURL=sync-bed2ccaed67f669a052e.js.map