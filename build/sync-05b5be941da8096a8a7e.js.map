{"version":3,"sources":["file:///home/circleci/bemuse/src/utils/read-blob.js","file:///home/circleci/bemuse/node_modules/css-loader/lib/url/escape.js","file:///home/circleci/bemuse/src/sampling-master/index.js","file:///home/circleci/bemuse/src/utils/download.js","file:///home/circleci/bemuse/src/audio-context/index.js","file:///home/circleci/bemuse/node_modules/once/once.js","file:///home/circleci/bemuse/node_modules/wrappy/wrappy.js","file:///home/circleci/bemuse/src/auto-synchro/music/data/bgm.m4a","file:///home/circleci/bemuse/src/auto-synchro/music/data/bgm.ogg","file:///home/circleci/bemuse/src/auto-synchro/music/data/intro.m4a","file:///home/circleci/bemuse/src/auto-synchro/music/data/intro.ogg","file:///home/circleci/bemuse/src/auto-synchro/music/data/kick.m4a","file:///home/circleci/bemuse/src/auto-synchro/music/data/kick.ogg","file:///home/circleci/bemuse/src/auto-synchro/music/data/snare.m4a","file:///home/circleci/bemuse/src/auto-synchro/music/data/snare.ogg","file:///home/circleci/bemuse/src/auto-synchro/ui/ExperimentScene.scss?88bf","file:///home/circleci/bemuse/src/auto-synchro/ui/ExperimentScene.scss","file:///home/circleci/bemuse/src/ui/Loading.scss?819e","file:///home/circleci/bemuse/src/ui/Loading.scss","file:///home/circleci/bemuse/src/ui/images/loading/dj.png","file:///home/circleci/bemuse/src/auto-synchro/music/index.js","file:///home/circleci/bemuse/src/ui/Loading.jsx","file:///home/circleci/bemuse/src/auto-synchro/ui/ExperimentScene.jsx","file:///home/circleci/bemuse/src/auto-synchro/index.js","file:///home/circleci/bemuse/node_modules/audio-context/index.js","file:///home/circleci/bemuse/node_modules/classnames/index.js","file:///home/circleci/bemuse/node_modules/bytes/index.js","file:///home/circleci/bemuse/node_modules/co/index.js","file:///home/circleci/bemuse/src/progress/formatters.js","file:///home/circleci/bemuse/src/flux/index.js"],"names":["readBlob","blob","as","type","Promise","resolve","reject","reader","FileReader","onload","result","onerror","Error","readAsArrayBuffer","readAsText","module","exports","url","test","slice","replace","FADE_LENGTH","dummyAudioTag","document","createElement","canPlay","canPlayType","SamplingMaster","audioContext","_classCallCheck","this","_audioContext","defaultAudioContext","_samples","_groups","_instances","Set","_destination","destination","_createClass","key","value","unmuteAudio","_destroyed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","destroy","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","blobOrArrayBuffer","_this","_coerceToArrayBuffer","then","arrayBuffer","_decodeAudio","blobOrArrayBufferOrAudioBuffer","_this2","numberOfChannels","decode","audioBuffer","sample","Sample","push","options","group","SoundGroup","ArrayBuffer","_this3","decodeAudioData","e","instance","add","delete","get","samplingMaster","volume","arguments","length","_master","_gain","createGain","gain","connect","disconnect","_buffer","delay","PlayInstance","buffer","_this4","context","source","createBufferSource","onended","stop","node","_source","TEST_node","startTime","Math","max","currentTime","startOffset","start","fadeIn","fadeOutAt","setValueAtTime","end","duration","linearRampToValueAtTime","_startPlaying","_stoppedPlaying","onstop","playbackRate","random","pow","ctx","osc","createOscillator","frequency","resume","console","error","bemuse_progress_formatters__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","download","progress","xh","XMLHttpRequest","open","responseType","status","response","concat","formatter","BYTES_FORMATTER","onprogress","report","loaded","total","send","audio_context__WEBPACK_IMPORTED_MODULE_0__","audio_context__WEBPACK_IMPORTED_MODULE_0___default","n","createAudioContext","latencyHint","wrappy","once","fn","f","called","apply","onceStrict","onceError","name","strict","proto","Object","defineProperty","Function","prototype","configurable","cb","TypeError","keys","forEach","k","wrapper","args","Array","i","ret","p","content","hmr","transform","insertInto","locals","escape","audioExt","ASSET_URLS","bgm.m4a","require","bgm.ogg","intro.m4a","intro.ogg","kick.m4a","kick.ogg","snare.m4a","snare.ogg","music","master","samples","callbacks","unmute","time","AudioTime","filter","createBiquadFilter","Q","state","part2","sequence","bpm","beat","nowBeat","floor","beatTime","beatSequencer","kick","play","begin","bgm","intro","ok","snare","a","setInterval","t","getSample","nearestBeat","round","nearestBeatTime","leadTime","_context","_start","_startTime","Loading","React","Component","react_default","className","ExperimentScene","props","loading","renderLoading","started","listening","renderCollection","renderMessage","renderReady","Loading_Loading","onClick","onStart","text","finished","x","easeOut","min","numSamples","style","WebkitTransform","latency","c","is-finished","renderContents","PropTypes","bool","func","number","main","state口","Bacon","Bus","state川","scan","change","_","assign","ConnectedExperimentScene","scene","postMessage","addEventListener","data","window","opener","ReactDOM","render","$","appendTo","co","regeneratorRuntime","mark","_callee","wrap","prev","buf","t0","all","map","sampleObj","t1","sent","fromPairs","call","abrupt","remote","d","sort","b","count","sum","getLatency","tap","setTimeout","which","preventDefault","touches","__webpack_exports__","cache","OfflineContext","OfflineAudioContext","webkitOfflineAudioContext","Context","AudioContext","webkitAudioContext","sampleRate","offline","channels","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","arg","argType","isArray","inner","join","default","parse","format","formatThousandsRegExp","formatDecimalsRegExp","kb","mb","gb","tb","parseRegExp","Number","isFinite","mag","abs","thousandsSeparator","unitSeparator","decimalPlaces","fixedDecimals","Boolean","unit","toLowerCase","str","toFixed","val","isNaN","floatValue","results","exec","parseFloat","parseInt","gen","onFulfilled","res","onRejected","throw","toPromise","isPromise","String","obj","constructor","displayName","isGenerator","isGeneratorFunction","isObject","promises","promise","defer","createPromise","__generatorFunction__","PERCENTAGE_FORMATTER","EXTRA_FORMATTER","bytes__WEBPACK_IMPORTED_MODULE_0__","bytes__WEBPACK_IMPORTED_MODULE_0___default","bytes","current","extra","toProperty","store","Property","EventStream","_typeof","combineTemplate","props川","propsProperty","_React$Component","_class2","initialValue","_defineProperty","_assertThisInitialized","_possibleConstructorReturn","_getPrototypeOf","_mounted","setState","_unsubscribe","onValue","handleValue","initialUnsubscribe","_inherits","react__WEBPACK_IMPORTED_MODULE_1___default","_extends"],"mappings":"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","file":"sync-05b5be941da8096a8a7e.js","sourcesContent":["export default readBlob\n\n// Reads the blob as a specified type. The blob will not actually be read\n// unless the ``as()`` method is called.\n//\n// .. js:function:: as(type)\n//\n//    Starts reading the blob as ``type``. The ``type`` is a String such as\n//    \"arraybuffer\" or \"text\".\nexport function readBlob (blob) {\n  return {\n    as (type) {\n      return new Promise(function (resolve, reject) {\n        let reader = new FileReader()\n        reader.onload = function () {\n          resolve(reader.result)\n        }\n        reader.onerror = function () {\n          reject(new Error('Unable to read from Blob'))\n        }\n        switch (type) {\n          case 'arraybuffer':\n            reader.readAsArrayBuffer(blob)\n            break\n          case 'text':\n            reader.readAsText(blob)\n            break\n        }\n      })\n    }\n  }\n}\n","module.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n","import defaultAudioContext from 'bemuse/audio-context'\nimport readBlob from 'bemuse/utils/read-blob'\n\nexport const FADE_LENGTH = 0.001\n\nlet dummyAudioTag = document.createElement('audio')\n\n// Checks whether an audio format is supported.\nexport function canPlay (type) {\n  return dummyAudioTag.canPlayType(type) === 'probably'\n}\n\n// The sampling master is a wrapper class around Web Audio API\n// that takes care of:\n//\n// - Decoding audio from an ArrayBuffer or Blob (resulting in a \"Sample\").\n// - Playing the `Sample` and managing its lifecycle.\nexport class SamplingMaster {\n  constructor (audioContext) {\n    this._audioContext = audioContext || defaultAudioContext\n    this._samples = []\n    this._groups = []\n    this._instances = new Set()\n    this._destination = this._audioContext.destination\n  }\n\n  // Connects a dummy node to the audio, thereby unmuting the audio system on\n  // iOS devices (which keeps the audio muted until a user interacts with the\n  // page).\n  unmute () {\n    unmuteAudio(this._audioContext)\n  }\n\n  // The underlying AudioContext.\n  get audioContext () {\n    return this._audioContext\n  }\n\n  // The audio destination.\n  get destination () {\n    return this._destination\n  }\n\n  // Destroys this SamplingMaster, make it unusable.\n  destroy () {\n    if (this._destroyed) return\n    this._destroyed = true\n    for (let sample of this._samples) sample.destroy()\n    for (let instance of this._instances) instance.destroy()\n    this._samples = null\n    this._instances = null\n  }\n\n  // Decodes the audio data from a Blob or an ArrayBuffer.\n  // Returns an AudioBuffer which can be re-used in other sampling masters.\n  decode (blobOrArrayBuffer) {\n    return this._coerceToArrayBuffer(blobOrArrayBuffer).then(arrayBuffer =>\n      this._decodeAudio(arrayBuffer)\n    )\n  }\n\n  // Creates a `Sample` from a Blob or an ArrayBuffer or an AudioBuffer.\n  sample (blobOrArrayBufferOrAudioBuffer) {\n    const audioBufferPromise = (() => {\n      if (blobOrArrayBufferOrAudioBuffer.numberOfChannels) {\n        return Promise.resolve(blobOrArrayBufferOrAudioBuffer)\n      } else {\n        return this.decode(blobOrArrayBufferOrAudioBuffer)\n      }\n    })()\n    return audioBufferPromise.then(audioBuffer => {\n      if (this._destroyed) throw new Error('SamplingMaster already destroyed!')\n      var sample = new Sample(this, audioBuffer)\n      this._samples.push(sample)\n      return sample\n    })\n  }\n\n  group (options) {\n    const group = new SoundGroup(this, options)\n    this._groups.push(group)\n    return group\n  }\n\n  _coerceToArrayBuffer (blobOrArrayBuffer) {\n    if (blobOrArrayBuffer instanceof ArrayBuffer) {\n      return Promise.resolve(blobOrArrayBuffer)\n    } else {\n      return readBlob(blobOrArrayBuffer).as('arraybuffer')\n    }\n  }\n\n  _decodeAudio (arrayBuffer) {\n    return new Promise((resolve, reject) => {\n      this.audioContext.decodeAudioData(\n        arrayBuffer,\n        function decodeAudioDataSuccess (audioBuffer) {\n          resolve(audioBuffer)\n        },\n        function decodeAudioDataFailure (e) {\n          reject(new Error('Unable to decode audio: ' + e))\n        }\n      )\n    })\n  }\n\n  _startPlaying (instance) {\n    this._instances.add(instance)\n  }\n\n  _stoppedPlaying (instance) {\n    this._instances.delete(instance)\n  }\n}\n\n// Sound group\nclass SoundGroup {\n  constructor (samplingMaster, { volume } = {}) {\n    this._master = samplingMaster\n    this._gain = this._master.audioContext.createGain()\n    if (volume != null) this._gain.gain.value = volume\n    this._gain.connect(this._master.destination)\n  }\n\n  get destination () {\n    return this._gain\n  }\n\n  destroy () {\n    this._gain.disconnect()\n    this._gain = null\n  }\n}\n\n// The Sample is created by and belongs to the `SamplingMaster`.\n//\n// You don't invoke this constructor directly; it is invoked by\n// `SamplingMaster#create`.\nclass Sample {\n  constructor (samplingMaster, audioBuffer) {\n    this._master = samplingMaster\n    this._buffer = audioBuffer\n  }\n\n  // Plays the sample and returns the new PlayInstance.\n  play (delay, options) {\n    return new PlayInstance(this._master, this._buffer, delay, options)\n  }\n\n  // Destroys this sample, thereby making it unusable.\n  destroy () {\n    this._master = null\n    this._buffer = null\n  }\n}\n\n// When a `Sample` is played, a PlayInstance is created.\n// A PlayInstance may not be reused; after the sound finishes playing,\n// you have to invoke `Sample#play` again.\n//\n// You don't invoke this constructor directly; it is invoked by `Sample#play`.\nclass PlayInstance {\n  constructor (samplingMaster, buffer, delay, options = {}) {\n    delay = delay || 0\n    this._master = samplingMaster\n\n    // Connect all the stuff...\n    let context = samplingMaster.audioContext\n    let source = context.createBufferSource()\n    source.buffer = buffer\n    source.onended = () => this.stop()\n    let gain = context.createGain()\n    source.connect(gain)\n    let destination =\n      options.node ||\n      (options.group && options.group.destination) ||\n      samplingMaster.destination\n    gain.connect(destination)\n    this._source = source\n    this._gain = this.TEST_node = gain\n\n    // Start the sound.\n    let startTime = !delay ? 0 : Math.max(0, context.currentTime + delay)\n    let startOffset = options.start || 0\n    let fadeIn = startOffset > 0\n    let fadeOutAt = false\n    if (fadeIn) {\n      gain.gain.setValueAtTime(0, 0)\n    }\n    if (options.end !== undefined) {\n      let duration = Math.max(options.end - startOffset, 0)\n      source.start(startTime, startOffset, duration + FADE_LENGTH)\n      fadeOutAt = context.currentTime + delay + duration\n    } else {\n      source.start(startTime, startOffset)\n    }\n    if (fadeIn) {\n      gain.gain.setValueAtTime(0, context.currentTime + delay)\n      gain.gain.linearRampToValueAtTime(\n        1,\n        context.currentTime + delay + FADE_LENGTH\n      )\n    }\n    if (fadeOutAt !== false) {\n      gain.gain.setValueAtTime(1, fadeOutAt)\n      gain.gain.linearRampToValueAtTime(0, fadeOutAt + FADE_LENGTH)\n    }\n    this._master._startPlaying(this)\n  }\n\n  // Stops the sample and disconnects the underlying Web Audio nodes.\n  stop () {\n    if (!this._source) return\n    this._source.stop(0)\n    this._source.disconnect()\n    this._gain.disconnect()\n    this._source = null\n    this._gain = null\n    this._master._stoppedPlaying(this)\n    if (this.onstop) this.onstop()\n  }\n\n  // Makes this PlayInstance sound off-pitch, as a result of badly hitting\n  // a note.\n  bad () {\n    if (!this._source) return\n    this._source.playbackRate.value =\n      Math.random() < 0.5 ? Math.pow(2, 1 / 24) : Math.pow(2, -1 / 24)\n  }\n\n  // Destroys this PlayInstance.\n  destroy () {\n    this.stop()\n  }\n}\n\nexport default SamplingMaster\n\n/**\n * Enables Web Audio on iOS. By default, on iOS, audio is disabled.\n * This function must be called before audio will start working. It must be\n * called as a response to some user interaction (e.g. touchstart).\n *\n * Also, there’s now Chrome autoplay policy taking effect.\n * https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\n *\n * @param {AudioContext} ctx The AudioContext to be unmuted.\n */\nexport function unmuteAudio (ctx = defaultAudioContext) {\n  // Perform some strange magic to unmute the audio on iOS devices.\n  // This code doesn’t make sense at all, you know.\n  let gain = ctx.createGain()\n  let osc = ctx.createOscillator()\n  osc.frequency.value = 440\n  osc.start(ctx.currentTime + 0.1)\n  osc.stop(ctx.currentTime + 0.1)\n  gain.connect(ctx.destination)\n  gain.disconnect()\n\n  try {\n    ctx.resume()\n  } catch (e) {\n    console.error('[sampling-master] Cannot resume AudioContext', e)\n  }\n}\n","import { BYTES_FORMATTER } from 'bemuse/progress/formatters'\n\n// Downloads the file from the URL.\n// The download will not actually be started unless the ``as()`` method\n// is called.\n//\n// .. js:function:: as(type)\n//\n//    Initiates the download as ``type``. The ``type`` is a string such as\n//    \"arraybuffer\" or \"blob\".\nexport function download (url) {\n  return {\n    as (type, progress) {\n      return new Promise((resolve, reject) => {\n        var xh = new XMLHttpRequest()\n        xh.open('GET', url, true)\n        xh.responseType = type\n        xh.onload = () => {\n          if (+xh.status === 200) {\n            resolve(xh.response)\n          } else {\n            reject(new Error(`Unable to download ${url}: HTTP ${xh.status}`))\n          }\n        }\n        xh.onerror = () => reject(new Error(`Unable to download ${url}`))\n        if (progress) {\n          progress.formatter = BYTES_FORMATTER\n          xh.onprogress = e => progress.report(e.loaded, e.total)\n        }\n        xh.send(null)\n      })\n    }\n  }\n}\n\nexport default download\n","import createAudioContext from 'audio-context'\n\nexport default createAudioContext({\n  latencyHint: 'interaction'\n})\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = __webpack_public_path__ + \"d616933dc6ba90ddc42fa528e59c2ac6.m4a\";","module.exports = __webpack_public_path__ + \"c3e8436ef4e3bcc1fbc987075279be07.ogg\";","module.exports = __webpack_public_path__ + \"150932874bb885bde51d3ea93c06396e.m4a\";","module.exports = __webpack_public_path__ + \"aaeef09f2847a09d179f45cfe118d7e7.ogg\";","module.exports = __webpack_public_path__ + \"5e75d0b50cbcd08edf7ea8f313ec0bf0.m4a\";","module.exports = __webpack_public_path__ + \"c1df64d6d6f13f3a38362aea7cc70a3f.ogg\";","module.exports = __webpack_public_path__ + \"e6c66bfd20535c717896d71e1e5ac6f6.m4a\";","module.exports = __webpack_public_path__ + \"e733dbfbb80f232b5704be73413ff476.ogg\";","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--9-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js??ref--9-3!./ExperimentScene.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--9-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js??ref--9-3!./ExperimentScene.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--9-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js??ref--9-3!./ExperimentScene.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@charset \\\"UTF-8\\\";\\n.ExperimentScene {\\n  display: flex;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.ExperimentSceneのbutton {\\n  font: inherit;\\n  background: #252423 linear-gradient(to bottom, #454443, #151413);\\n  border: 1px solid #555453;\\n  padding: 0.5ex 1.3ex;\\n  color: #fff;\\n  border-radius: 4px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\\n  font-size: 18px;\\n}\\n\\n.ExperimentSceneのbutton:hover {\\n  border-color: #656463;\\n}\\n\\n.ExperimentSceneのbutton:focus {\\n  border-color: #8b8685;\\n  outline: 0;\\n}\\n\\n.ExperimentSceneのbutton:active {\\n  background: #252423 linear-gradient(to top, #353433, #151413);\\n  border-color: #454443;\\n}\\n\\n.ExperimentSceneのmessage {\\n  text-align: center;\\n  font-size: 16px;\\n}\\n\\n.ExperimentSceneのprogress {\\n  width: 100px;\\n  margin: 1em auto;\\n  border: 1px solid #8b8685;\\n  padding: 1px;\\n}\\n\\n.ExperimentSceneのprogressBar {\\n  height: 5px;\\n  background: #8b8685;\\n  transition: 0.5s -webkit-transform linear;\\n  transition: 0.5s transform linear;\\n  transition: 0.5s transform linear, 0.5s -webkit-transform linear;\\n  -webkit-transform-origin: left;\\n          transform-origin: left;\\n}\\n\\n.ExperimentScene.is-finished .ExperimentSceneのwrapper {\\n  -webkit-animation: 3.243243243s experiment-scene--auto-synchro linear infinite;\\n          animation: 3.243243243s experiment-scene--auto-synchro linear infinite;\\n}\\n\\n.ExperimentScene.is-finished .ExperimentSceneのwrapperInner {\\n  -webkit-animation: 3s experiment-scene--spin linear infinite;\\n          animation: 3s experiment-scene--spin linear infinite;\\n  -webkit-animation-delay: 13.378378377s;\\n          animation-delay: 13.378378377s;\\n}\\n\\n@-webkit-keyframes experiment-scene--auto-synchro {\\n  0.00% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1);\\n  }\\n  11.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  13.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  24.38% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  25.63% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  36.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  38.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  49.38% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  50.63% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  61.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  63.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  74.38% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  75.63% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  86.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  88.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  100.00% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1);\\n  }\\n}\\n\\n@keyframes experiment-scene--auto-synchro {\\n  0.00% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1);\\n  }\\n  11.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  13.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  24.38% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  25.63% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  36.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  38.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  49.38% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  50.63% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  61.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  63.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  74.38% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  75.63% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  86.88% {\\n    -webkit-transform: scale(0.95);\\n            transform: scale(0.95);\\n  }\\n  88.13% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  100.00% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1);\\n  }\\n}\\n\\n@-webkit-keyframes experiment-scene--spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n  4% {\\n    -webkit-transform: rotate(1.99deg);\\n            transform: rotate(1.99deg);\\n  }\\n  8% {\\n    -webkit-transform: rotate(3.85deg);\\n            transform: rotate(3.85deg);\\n  }\\n  12% {\\n    -webkit-transform: rotate(5.48deg);\\n            transform: rotate(5.48deg);\\n  }\\n  16% {\\n    -webkit-transform: rotate(6.75deg);\\n            transform: rotate(6.75deg);\\n  }\\n  20% {\\n    -webkit-transform: rotate(7.61deg);\\n            transform: rotate(7.61deg);\\n  }\\n  24% {\\n    -webkit-transform: rotate(7.98deg);\\n            transform: rotate(7.98deg);\\n  }\\n  28% {\\n    -webkit-transform: rotate(7.86deg);\\n            transform: rotate(7.86deg);\\n  }\\n  32% {\\n    -webkit-transform: rotate(7.24deg);\\n            transform: rotate(7.24deg);\\n  }\\n  36% {\\n    -webkit-transform: rotate(6.16deg);\\n            transform: rotate(6.16deg);\\n  }\\n  40% {\\n    -webkit-transform: rotate(4.7deg);\\n            transform: rotate(4.7deg);\\n  }\\n  44% {\\n    -webkit-transform: rotate(2.94deg);\\n            transform: rotate(2.94deg);\\n  }\\n  48% {\\n    -webkit-transform: rotate(1deg);\\n            transform: rotate(1deg);\\n  }\\n  52% {\\n    -webkit-transform: rotate(-1deg);\\n            transform: rotate(-1deg);\\n  }\\n  56% {\\n    -webkit-transform: rotate(-2.94deg);\\n            transform: rotate(-2.94deg);\\n  }\\n  60% {\\n    -webkit-transform: rotate(-4.7deg);\\n            transform: rotate(-4.7deg);\\n  }\\n  64% {\\n    -webkit-transform: rotate(-6.16deg);\\n            transform: rotate(-6.16deg);\\n  }\\n  68% {\\n    -webkit-transform: rotate(-7.24deg);\\n            transform: rotate(-7.24deg);\\n  }\\n  72% {\\n    -webkit-transform: rotate(-7.86deg);\\n            transform: rotate(-7.86deg);\\n  }\\n  76% {\\n    -webkit-transform: rotate(-7.98deg);\\n            transform: rotate(-7.98deg);\\n  }\\n  80% {\\n    -webkit-transform: rotate(-7.61deg);\\n            transform: rotate(-7.61deg);\\n  }\\n  84% {\\n    -webkit-transform: rotate(-6.75deg);\\n            transform: rotate(-6.75deg);\\n  }\\n  88% {\\n    -webkit-transform: rotate(-5.48deg);\\n            transform: rotate(-5.48deg);\\n  }\\n  92% {\\n    -webkit-transform: rotate(-3.85deg);\\n            transform: rotate(-3.85deg);\\n  }\\n  96% {\\n    -webkit-transform: rotate(-1.99deg);\\n            transform: rotate(-1.99deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n}\\n\\n@keyframes experiment-scene--spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n  4% {\\n    -webkit-transform: rotate(1.99deg);\\n            transform: rotate(1.99deg);\\n  }\\n  8% {\\n    -webkit-transform: rotate(3.85deg);\\n            transform: rotate(3.85deg);\\n  }\\n  12% {\\n    -webkit-transform: rotate(5.48deg);\\n            transform: rotate(5.48deg);\\n  }\\n  16% {\\n    -webkit-transform: rotate(6.75deg);\\n            transform: rotate(6.75deg);\\n  }\\n  20% {\\n    -webkit-transform: rotate(7.61deg);\\n            transform: rotate(7.61deg);\\n  }\\n  24% {\\n    -webkit-transform: rotate(7.98deg);\\n            transform: rotate(7.98deg);\\n  }\\n  28% {\\n    -webkit-transform: rotate(7.86deg);\\n            transform: rotate(7.86deg);\\n  }\\n  32% {\\n    -webkit-transform: rotate(7.24deg);\\n            transform: rotate(7.24deg);\\n  }\\n  36% {\\n    -webkit-transform: rotate(6.16deg);\\n            transform: rotate(6.16deg);\\n  }\\n  40% {\\n    -webkit-transform: rotate(4.7deg);\\n            transform: rotate(4.7deg);\\n  }\\n  44% {\\n    -webkit-transform: rotate(2.94deg);\\n            transform: rotate(2.94deg);\\n  }\\n  48% {\\n    -webkit-transform: rotate(1deg);\\n            transform: rotate(1deg);\\n  }\\n  52% {\\n    -webkit-transform: rotate(-1deg);\\n            transform: rotate(-1deg);\\n  }\\n  56% {\\n    -webkit-transform: rotate(-2.94deg);\\n            transform: rotate(-2.94deg);\\n  }\\n  60% {\\n    -webkit-transform: rotate(-4.7deg);\\n            transform: rotate(-4.7deg);\\n  }\\n  64% {\\n    -webkit-transform: rotate(-6.16deg);\\n            transform: rotate(-6.16deg);\\n  }\\n  68% {\\n    -webkit-transform: rotate(-7.24deg);\\n            transform: rotate(-7.24deg);\\n  }\\n  72% {\\n    -webkit-transform: rotate(-7.86deg);\\n            transform: rotate(-7.86deg);\\n  }\\n  76% {\\n    -webkit-transform: rotate(-7.98deg);\\n            transform: rotate(-7.98deg);\\n  }\\n  80% {\\n    -webkit-transform: rotate(-7.61deg);\\n            transform: rotate(-7.61deg);\\n  }\\n  84% {\\n    -webkit-transform: rotate(-6.75deg);\\n            transform: rotate(-6.75deg);\\n  }\\n  88% {\\n    -webkit-transform: rotate(-5.48deg);\\n            transform: rotate(-5.48deg);\\n  }\\n  92% {\\n    -webkit-transform: rotate(-3.85deg);\\n            transform: rotate(-3.85deg);\\n  }\\n  96% {\\n    -webkit-transform: rotate(-1.99deg);\\n            transform: rotate(-1.99deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js??ref--9-3!./Loading.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js??ref--9-3!./Loading.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js??ref--9-3!./Loading.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@charset \\\"UTF-8\\\";\\n.Loading {\\n  -webkit-animation: 0.3s loading--in ease-out;\\n          animation: 0.3s loading--in ease-out;\\n}\\n\\n.Loadingのdj {\\n  width: 64px;\\n  height: 64px;\\n  background: url(\" + escape(require(\"./images/loading/dj.png\")) + \") center no-repeat;\\n  background-size: contain;\\n  -webkit-animation: 2s loading--dj--spin linear infinite;\\n          animation: 2s loading--dj--spin linear infinite;\\n  margin: 0 auto 0.5em;\\n}\\n\\n.Loadingのtext {\\n  text-align: center;\\n  color: #8b8685;\\n  -webkit-animation: 1s loading--text--pulse linear infinite;\\n          animation: 1s loading--text--pulse linear infinite;\\n}\\n\\n@-webkit-keyframes loading--dj--spin {\\n  from {\\n    -webkit-transform: perspective(480px) rotateY(0deg);\\n            transform: perspective(480px) rotateY(0deg);\\n  }\\n  to {\\n    -webkit-transform: perspective(480px) rotateY(-360deg);\\n            transform: perspective(480px) rotateY(-360deg);\\n  }\\n}\\n\\n@keyframes loading--dj--spin {\\n  from {\\n    -webkit-transform: perspective(480px) rotateY(0deg);\\n            transform: perspective(480px) rotateY(0deg);\\n  }\\n  to {\\n    -webkit-transform: perspective(480px) rotateY(-360deg);\\n            transform: perspective(480px) rotateY(-360deg);\\n  }\\n}\\n\\n@-webkit-keyframes loading--text--pulse {\\n  0% {\\n    opacity: 1;\\n  }\\n  50% {\\n    opacity: 0.5;\\n  }\\n  0% {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes loading--text--pulse {\\n  0% {\\n    opacity: 1;\\n  }\\n  50% {\\n    opacity: 0.5;\\n  }\\n  0% {\\n    opacity: 1;\\n  }\\n}\\n\\n@-webkit-keyframes loading--in {\\n  0% {\\n    -webkit-transform: scale(0);\\n            transform: scale(0);\\n  }\\n  90% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  100% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1);\\n  }\\n}\\n\\n@keyframes loading--in {\\n  0% {\\n    -webkit-transform: scale(0);\\n            transform: scale(0);\\n  }\\n  90% {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n  }\\n  100% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1);\\n  }\\n}\\n\", \"\"]);\n\n// exports\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACACAYAAAArkhalAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjVGM0M3Nzk0MUQyMTFFNTgwNjVCQkNDM0M1NTc4QUYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjVGM0M3N0E0MUQyMTFFNTgwNjVCQkNDM0M1NTc4QUYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGNUYzQzc3NzQxRDIxMUU1ODA2NUJCQ0MzQzU1NzhBRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGNUYzQzc3ODQxRDIxMUU1ODA2NUJCQ0MzQzU1NzhBRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjvVgBIAACHgSURBVHja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\"","import _ from 'lodash'\nimport co from 'co'\nimport context from 'bemuse/audio-context'\nimport download from 'bemuse/utils/download'\nimport once from 'once'\nimport SamplingMaster, { canPlay } from 'bemuse/sampling-master'\n\n/**\n * The audio format to use (.ogg or .m4a)\n */\nlet audioExt = once(\n  () => (canPlay('audio/ogg; codecs=\"vorbis\"') ? '.ogg' : '.m4a')\n)\n\n/**\n * The asset URL of these files...\n */\nlet ASSET_URLS = {\n  'bgm.m4a': require('./data/bgm.m4a'),\n  'bgm.ogg': require('./data/bgm.ogg'),\n  'intro.m4a': require('./data/intro.m4a'),\n  'intro.ogg': require('./data/intro.ogg'),\n  'kick.m4a': require('./data/kick.m4a'),\n  'kick.ogg': require('./data/kick.ogg'),\n  'snare.m4a': require('./data/snare.m4a'),\n  'snare.ogg': require('./data/snare.ogg')\n}\n\n/**\n * Loads the files and create a music instance.\n */\nexport function load () {\n  return co(function * () {\n    let master = new SamplingMaster(context)\n    let sample = name =>\n      download(ASSET_URLS[`${name}${audioExt()}`])\n        .as('arraybuffer')\n        .then(buf => master.sample(buf))\n    let samples = _.fromPairs(\n      yield Promise.all(\n        ['bgm', 'intro', 'kick', 'snare'].map(name =>\n          sample(name).then(sampleObj => [name, sampleObj])\n        )\n      )\n    )\n    return music(master, samples)\n  })\n}\n\n/**\n * Takes the sample and sequences a music\n */\nfunction music (master, samples) {\n  return function play (callbacks) {\n    master.unmute()\n\n    let BPM = 148\n    let time = new AudioTime(context, -1)\n\n    let filter = context.createBiquadFilter()\n    filter.type = 'lowpass'\n    filter.frequency.value = 0\n    filter.Q.value = 10\n    filter.connect(context.destination)\n\n    let state = { part2: null }\n\n    let sequence = beatSequencer(BPM, (beat, delay) => {\n      if (beat % 8 !== 7) {\n        samples.kick.play(delay)\n      }\n      if (state.part2 !== null) {\n        beat -= state.part2.begin\n        if (beat % 128 === 0) {\n          samples.bgm.play(delay)\n        }\n      } else {\n        if (beat % 32 === 0) {\n          samples.intro.play(delay, { node: filter })\n        }\n        if (beat % 32 === 31) {\n          if (state.ok === true) {\n            samples.snare.play(delay)\n            state.part2 = { begin: beat + 1 }\n            callbacks.a()\n          }\n        }\n      }\n    })\n\n    setInterval(() => sequence(time.t), 33)\n\n    return {\n      ok () {\n        state.ok = true\n      },\n      progress (p) {\n        filter.frequency.value = 20000 * p * p * p\n      },\n      getSample () {\n        let nearestBeat = Math.round(time.t * BPM / 60)\n        let nearestBeatTime = nearestBeat * 60 / BPM\n        return [nearestBeat, time.t - nearestBeatTime]\n      }\n    }\n  }\n}\n\nfunction beatSequencer (bpm, f) {\n  let beat = -1\n  return time => {\n    let nowBeat = Math.floor((time + 0.1) * bpm / 60)\n    while (beat < nowBeat) {\n      beat += 1\n      let beatTime = beat * 60 / bpm\n      f(beat, beatTime - time)\n    }\n  }\n}\n\nclass AudioTime {\n  constructor (audioContext, leadTime) {\n    this._context = audioContext\n    this._start = audioContext.currentTime\n    this._startTime = leadTime\n  }\n  get t () {\n    return this._context.currentTime - this._start + this._startTime\n  }\n}\n","import './Loading.scss'\nimport React from 'react'\n\nexport default class Loading extends React.Component {\n  render () {\n    return (\n      <div className='Loading'>\n        <div className='Loadingのdj' />\n        <div className='Loadingのtext'>Loading</div>\n      </div>\n    )\n  }\n}\n","import './ExperimentScene.scss'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport c from 'classnames'\nimport Loading from 'bemuse/ui/Loading'\n\nexport default class ExperimentScene extends React.Component {\n  static propTypes = {\n    finished: PropTypes.bool,\n    loading: PropTypes.bool,\n    started: PropTypes.bool,\n    listening: PropTypes.bool,\n    onStart: PropTypes.func,\n    numSamples: PropTypes.number,\n    latency: PropTypes.number\n  }\n\n  render () {\n    return (\n      <div\n        className={c('ExperimentScene', { 'is-finished': this.props.finished })}\n      >\n        <div className='ExperimentSceneのwrapper'>\n          <div className='ExperimentSceneのwrapperInner'>\n            {this.renderContents()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderContents = () => {\n    if (this.props.loading) {\n      return this.renderLoading()\n    } else if (!this.props.started) {\n      return this.renderReady()\n    } else if (!this.props.listening) {\n      return this.renderMessage('Please listen to the beats…')\n    } else {\n      return this.renderCollection()\n    }\n  }\n\n  renderLoading = () => {\n    return (\n      <div className='ExperimentSceneのloading'>\n        <Loading />\n      </div>\n    )\n  }\n\n  renderReady = () => {\n    return (\n      <div className='ExperimentSceneのready'>\n        <button\n          className='ExperimentSceneのbutton'\n          onClick={this.props.onStart}\n        >\n          Start Calibration\n        </button>\n      </div>\n    )\n  }\n\n  renderMessage = text => {\n    return <div className='ExperimentSceneのmessage'>{text}</div>\n  }\n\n  renderCollection = () => {\n    let scale = this.props.finished\n      ? 1\n      : easeOut(Math.min(1, this.props.numSamples / 84))\n    let transform = 'scaleX(' + scale + ')'\n    let style = {\n      transform: transform,\n      WebkitTransform: transform\n    }\n    return (\n      <div className='ExperimentSceneのcollection'>\n        {this.renderMessage(\n          this.props.finished\n            ? 'Your latency is ' +\n              this.props.latency +\n              'ms. Please close this window.'\n            : 'Please press the space bar when you hear the kick drum.'\n        )}\n        <div className='ExperimentSceneのprogress'>\n          <div className='ExperimentSceneのprogressBar' style={style} />\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction easeOut (x) {\n  return 1 - Math.pow(1 - x, 2)\n}\n","import * as Music from './music'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport ExperimentScene from './ui/ExperimentScene.jsx'\nimport $ from 'jquery'\nimport _ from 'lodash'\nimport Bacon from 'baconjs'\nimport { connect } from 'bemuse/flux'\n\nexport function main () {\n  const state口 = new Bacon.Bus()\n\n  const state川 = state口.scan(\n    {\n      loading: true,\n      started: false,\n      finished: false,\n      listening: false,\n      numSamples: 0,\n      latency: 0\n    },\n    (state, change) => _.assign({}, state, change)\n  )\n\n  const ConnectedExperimentScene = connect(state川)(ExperimentScene)\n\n  const scene = React.createElement(ConnectedExperimentScene, {\n    onStart: () => {\n      play()\n      postMessage({ type: 'calibration-started' })\n      addEventListener('beforeunload', () => {\n        postMessage({ type: 'calibration-closed' })\n      })\n    }\n  })\n\n  ReactDOM.render(scene, $('<div></div>').appendTo('body')[0])\n\n  let play\n\n  function postMessage (data) {\n    if (window.opener) {\n      window.opener.postMessage(data, '*')\n    }\n  }\n\n  function getLatency (samples) {\n    let data = samples.map(d => d[1])\n    data.sort((a, b) => a - b)\n    let count = 0\n    let sum = 0\n    let start = Math.floor(data.length * 1 / 7)\n    for (let i = start; i < data.length * 6 / 7; i++) {\n      count += 1\n      sum += data[i]\n    }\n    return Math.round(sum / count * 1000)\n  }\n\n  Music.load().then(music => {\n    let bound = 56\n    let samples = []\n    state口.push({ loading: false })\n    play = () => {\n      state口.push({ started: true })\n      let remote = music({\n        a () {\n          let latency = Math.max(0, getLatency(samples))\n          state口.push({ finished: true, latency })\n          postMessage({ latency: latency })\n        }\n      })\n      let tap = () => {\n        samples.push(remote.getSample())\n        remote.progress(Math.min(1, samples.length / bound))\n        if (samples.length >= bound) remote.ok()\n        state口.push({ numSamples: samples.length })\n      }\n      setTimeout(() => {\n        state口.push({ listening: true })\n        window.addEventListener('keydown', e => {\n          if (e.which !== 32) return\n          e.preventDefault()\n          tap()\n        })\n        window.addEventListener('touchstart', e => {\n          if (e.touches.length !== 1) return\n          e.preventDefault()\n          tap()\n        })\n      }, 6675)\n    }\n  })\n}\n","'use strict'\r\n\r\nvar cache = {}\r\n\r\nmodule.exports = function getContext (options) {\r\n\tif (typeof window === 'undefined') return null\r\n\t\r\n\tvar OfflineContext = window.OfflineAudioContext || window.webkitOfflineAudioContext\r\n\tvar Context = window.AudioContext || window.webkitAudioContext\r\n\t\r\n\tif (!Context) return null\r\n\r\n\tif (typeof options === 'number') {\r\n\t\toptions = {sampleRate: options}\r\n\t}\r\n\r\n\tvar sampleRate = options && options.sampleRate\r\n\r\n\r\n\tif (options && options.offline) {\r\n\t\tif (!OfflineContext) return null\r\n\r\n\t\treturn new OfflineContext(options.channels || 2, options.length, sampleRate || 44100)\r\n\t}\r\n\r\n\r\n\t//cache by sampleRate, rather strong guess\r\n\tvar ctx = cache[sampleRate]\r\n\r\n\tif (ctx) return ctx\r\n\r\n\t//several versions of firefox have issues with the\r\n\t//constructor argument\r\n\t//see: https://bugzilla.mozilla.org/show_bug.cgi?id=1361475\r\n\ttry {\r\n\t\tctx = new Context(options)\r\n\t}\r\n\tcatch (err) {\r\n\t\tctx = new Context()\r\n\t}\r\n\tcache[ctx.sampleRate] = cache[sampleRate] = ctx\r\n\r\n\treturn ctx\r\n}\r\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: ((1 << 30) * 1024)\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.replace(formatThousandsRegExp, thousandsSeparator);\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co;\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn;\n  return createPromise;\n  function createPromise() {\n    return co.call(this, fn.apply(this, arguments));\n  }\n};\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co(gen) {\n  var ctx = this;\n  var args = slice.call(arguments, 1)\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function(resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args);\n    if (!gen || typeof gen.next !== 'function') return resolve(gen);\n\n    onFulfilled();\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled(res) {\n      var ret;\n      try {\n        ret = gen.next(res);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected(err) {\n      var ret;\n      try {\n        ret = gen.throw(err);\n      } catch (e) {\n        return reject(e);\n      }\n      next(ret);\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next(ret) {\n      if (ret.done) return resolve(ret.value);\n      var value = toPromise.call(ctx, ret.value);\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\n        + 'but the following object was passed: \"' + String(ret.value) + '\"'));\n    }\n  });\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise(obj) {\n  if (!obj) return obj;\n  if (isPromise(obj)) return obj;\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\n  if (isObject(obj)) return objectToPromise.call(this, obj);\n  return obj;\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise(fn) {\n  var ctx = this;\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err);\n      if (arguments.length > 2) res = slice.call(arguments, 1);\n      resolve(res);\n    });\n  });\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise(obj) {\n  return Promise.all(obj.map(toPromise, this));\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise(obj){\n  var results = new obj.constructor();\n  var keys = Object.keys(obj);\n  var promises = [];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var promise = toPromise.call(this, obj[key]);\n    if (promise && isPromise(promise)) defer(promise, key);\n    else results[key] = obj[key];\n  }\n  return Promise.all(promises).then(function () {\n    return results;\n  });\n\n  function defer(promise, key) {\n    // predefine the key in the result\n    results[key] = undefined;\n    promises.push(promise.then(function (res) {\n      results[key] = res;\n    }));\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise(obj) {\n  return 'function' == typeof obj.then;\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator(obj) {\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\nfunction isGeneratorFunction(obj) {\n  var constructor = obj.constructor;\n  if (!constructor) return false;\n  if ('GeneratorFunction' === constructor.name || 'GeneratorFunction' === constructor.displayName) return true;\n  return isGenerator(constructor.prototype);\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(val) {\n  return Object == val.constructor;\n}\n","import bytes from 'bytes'\n\nlet wrap = f => progress => (progress.progress !== null ? f(progress) : '')\n\n// Formats the `Progress` as bytes (e.g. 1.23mb of 1.31mb).\nexport let BYTES_FORMATTER = wrap(\n  progress => bytes(progress.current) + ' / ' + bytes(progress.total)\n)\n\n// Formats the `Progress` as percentage.\nexport let PERCENTAGE_FORMATTER = wrap(\n  progress => (progress.current / progress.total * 100).toFixed(1) + '%'\n)\n\n// Formats the `Progress` simply by using the value of `Progress#extra`.\nexport let EXTRA_FORMATTER = wrap(progress => progress.extra + '')\n","import Bacon from 'baconjs'\nimport React from 'react'\n\nexport { Bacon }\n\nlet lock = false\n\nexport function Action (transform = x => x) {\n  var bus = new Bacon.Bus()\n  var action = function () {\n    if (lock) {\n      throw new Error(\n        'An action should not fire another action! (' + lock.stack + ')'\n      )\n    }\n    try {\n      let payload = transform.apply(null, arguments)\n      lock = new Error('Previous lock:')\n      bus.push(payload)\n    } finally {\n      lock = false\n    }\n  }\n  action.bus = bus\n  action.debug = function (prefix) {\n    bus.map(value => [prefix, value]).log()\n    return action\n  }\n  return action\n}\n\nexport function Store (store, options = {}) {\n  let lazy = !!options.lazy\n  store = toProperty(store)\n  store.get = () => {\n    let data\n    let unsubscribe = store.onValue(_data => (data = _data))\n    setTimeout(unsubscribe)\n    return data\n  }\n  if (!lazy) {\n    store.onValue(() => {})\n  }\n  return store\n}\n\nfunction toProperty (store) {\n  if (store instanceof Bacon.Property) {\n    return store\n  } else if (store instanceof Bacon.EventStream) {\n    throw new Error('Please convert Bacon.EventStream to Bacon.Property first.')\n  } else if (store && typeof store === 'object') {\n    return Bacon.combineTemplate(store)\n  } else {\n    throw new Error('Expected a Bacon.Property or a template.')\n  }\n}\n\nexport const connect = props川 => Component => {\n  let propsProperty = toProperty(props川)\n  return class extends React.Component {\n    constructor (props) {\n      super(props)\n      this._unsubscribe = propsProperty.onValue(this.handleValue)\n      let initialValue\n      const initialUnsubscribe = propsProperty.onValue(\n        value => (initialValue = value)\n      )\n      initialUnsubscribe()\n      this.state = { value: initialValue }\n    }\n\n    componentWillUnmount () {\n      this._mounted = false\n      if (this._unsubscribe) this._unsubscribe()\n    }\n\n    componentDidMount () {\n      this._mounted = true\n    }\n\n    handleValue = value => {\n      if (this._mounted) this.setState({ value })\n    }\n\n    render () {\n      return <Component {...this.state.value || {}} {...this.props} />\n    }\n  }\n}\n"],"sourceRoot":""}